{
"version":3,
"file":"../webapp/resources/voyant/current/voyant.min.js",
"lineCount":1216,
"mappings":"A;AAuBA,IAAI,QAAU,OAAV,EAAqB,EAGzB,QAAA,CAAQ,KAAR,CAAgB,ECGhB,QAAA,CAAQ,yBAAR,CAAoC,QAAQ,CAAC,CAAD,CAAe,CAEzD,MADA,EACA,CADa,GACb,CADmB,CADsC,CAa3D,QAAA,CAAQ,gCAAR,CAA2C,QAAQ,CAC/C,CAD+C,CACjC,CADiC,CAChB,CACjC,CAAA,CAAa,GAAb,CAAmB,CACnB,OAAuC,EAFN,CChBnC,QAAA,CAAQ,iBAAR,CAA4B,QAAQ,CAAC,CAAD,CAAQ,CAC1C,IAAI,EAAQ,CACZ,OAAO,SAAQ,EAAG,CAChB,MAAI,EAAJ,CAAY,CAAZ,CAAkB,MAAlB,CACS,CACL,KAAM,CAAA,CADD,CAEL,MAAO,CAAA,CAAM,CAAA,EAAN,CAFF,CADT,CAMS,CAAC,KAAM,CAAA,CAAP,CAPO,CAFwB,CAoB5C,QAAA,CAAQ,aAAR,CAAwB,QAAQ,CAAC,CAAD,CAAQ,CACtC,MAAoC,CAAC,KAAM,OAAA,CAAQ,iBAAR,CAA0B,CAA1B,CAAP,CADE,CCjBxC,QAAA,CAAQ,YAAR,CAAuB,QAAQ,CAAC,CAAD,CAAW,CAExC,IAAI,EAAoC,WAApC,EAAmB,MAAO,OAA1B,EAAmD,MAAnD,CAA0D,QAA1D,EACmB,CAAD,CAAW,MAAX,CAAkB,QAAlB,CACtB,OAAO,EAAA,CAAmB,CAAA,CAAiB,IAAjB,CAAsB,CAAtB,CAAnB,CACH,OAAA,CAAQ,aAAR,CAA6C,CAA7C,CALoC,CCN1C;OAAA,CAAQ,UAAR,CAAqB,CAAA,CAMrB,QAAA,CAAQ,oBAAR,CAA+B,CAAA,CAM/B,QAAA,CAAQ,oBAAR,CAA+B,CAAA,CAU/B,QAAA,CAAQ,sBAAR,CAAiC,CAAA,CASjC,QAAA,CAAQ,iBAAR,CAA4B,CAAA,CAO5B,QAAA,CAAQ,sBAAR,CAAiC,CAAA,CAOjC,QAAA,CAAQ,kDAAR,CAA6D,CAAA,CClC7D,QAAA,CAAQ,cAAR,CACI,OAAA,CAAQ,UAAR,EAAwD,UAAxD,EAAsB,MAAO,OAAP,CAAc,gBAApC,CACA,MADA,CACO,cADP,CAEA,QAAQ,CAAC,CAAD,CAAS,CAAT,CAAmB,CAAnB,CAA+B,CACrC,GAAI,CAAJ,EAAc,KAAd,CAAoB,SAApB,EAEsB,CAFtB,EAEiC,MAFjC,CAEwC,SAFxC,CAGE,MAAO,EAUT,EAAA,CAAO,CAAP,CAAA,CAAmB,CAAnB,CAA8B,KAC9B,OAAO,EAf8B,CCL3C;OAAA,CAAQ,SAAR,CAAoB,QAAQ,CAAC,CAAD,CAAe,CACrC,CAAA,CAAkB,CAKpB,QALoB,EAKR,MAAO,WALC,EAKa,UALb,CAcpB,CAdoB,CAgBpB,QAhBoB,EAgBR,MAAO,OAhBC,EAgBS,MAhBT,CAkBpB,QAlBoB,EAkBR,MAAO,KAlBC,EAkBO,IAlBP,CAoBpB,QApBoB,EAoBR,MAAO,OApBC,EAoBS,MApBT,CAsBtB,KAAK,IAAI,EAAI,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAAoC,MAApC,CAA4C,EAAE,CAA9C,CAAiD,CAC/C,IAAI,EAAc,CAAA,CAAgB,CAAhB,CAOlB,IAAI,CAAJ,EAAmB,CAAnB,CAA+B,IAA/B,EAA0C,IAA1C,CACE,MAA+B,EATc,CAqBzC,KAAU,MAAJ,CAAU,2BAAV,CAAN,CA5CiC,CAsD3C,QAAA,CAAQ,MAAR,CAAiB,OAAA,CAAQ,SAAR,CAAkB,IAAlB,CC3DjB,QAAA,CAAQ,gBAAR,CACsB,UADtB,GACI,MAAO,OADX,EAC2D,QAD3D,GACoC,MAAO,OAAA,CAAO,GAAP,CAO3C,QAAA,CAAQ,mBAAR,CACI,CAAC,OAAD,CAAS,iBADb,EACkC,OADlC,CAC0C,gBCX1C,QAAA,CAAQ,SAAR,CAAoB,EAGpB;OAAA,CAAQ,wBAAR,CAAmC,EAGnC,QAAA,CAAQ,eAAR,CAA0B,QAgB1B,KAAI,8BAAgC,QAAQ,CAAC,CAAD,CAAS,CAAT,CAAc,CAExD,IAAI,EAAgB,OAAA,CAAQ,wBAAR,CAAiC,CAAjC,CACpB,IAAqB,IAArB,EAAI,CAAJ,CACE,MAAO,EAAA,CAAO,CAAP,CAKL,EAAA,CAAW,CAAA,CAAO,CAAP,CAKf,OAAoB,KAAA,EAAb,GAAA,CAAA,CAAyB,CAAzB,CAAoC,CAAA,CAAO,CAAP,CAda,CAwC1D,QAAA,CAAQ,QAAR,CAAmB,QAAQ,CAAC,CAAD,CAAS,CAAT,CAAmB,CAAnB,CAA6B,CAA7B,CAAqC,CACzD,CAAL,GACI,OAAJ,CAAY,iBAAZ,CACE,OAAA,CAAQ,gBAAR,CAAyB,CAAzB,CAAiC,CAAjC,CAA2C,CAA3C,CAAqD,CAArD,CADF,CAGE,OAAA,CAAQ,kBAAR,CAA2B,CAA3B,CAAmC,CAAnC,CAA6C,CAA7C,CAAuD,CAAvD,CAJF,CAD8D,CAqBhE;OAAA,CAAQ,kBAAR,CAA6B,QAAQ,CAAC,CAAD,CAAS,CAAT,CAAmB,CAAnB,CAA6B,CAA7B,CAAqC,CACpE,CAAA,CAAM,OAAN,CAAc,MACd,EAAA,CAAQ,CAAA,CAAO,KAAP,CAAa,GAAb,CACZ,KAAS,CAAT,CAAa,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAA0B,MAA1B,CAAmC,CAAnC,CAAsC,CAAA,EAAtC,CAA2C,CACzC,IAAI,EAAM,CAAA,CAAM,CAAN,CACV,IAAI,EAAE,CAAF,GAAS,EAAT,CAAJ,CAAmB,MACnB,EAAA,CAAM,CAAA,CAAI,CAAJ,CAHmC,CAKvC,CAAA,CAAW,CAAA,CAAM,CAAN,CAAY,MAAZ,CAAqB,CAArB,CACX,EAAA,CAAO,CAAA,CAAI,CAAJ,CACP,EAAA,CAAO,CAAA,CAAS,CAAT,CACP,EAAJ,EAAY,CAAZ,EAA4B,IAA5B,EAAoB,CAApB,EACA,OAAA,CAAQ,cAAR,CACI,CADJ,CACS,CADT,CACmB,CAAC,aAAc,CAAA,CAAf,CAAqB,SAAU,CAAA,CAA/B,CAAqC,MAAO,CAA5C,CADnB,CAZwE,CAuC1E;OAAA,CAAQ,gBAAR,CAA2B,QAAQ,CAAC,CAAD,CAAS,CAAT,CAAmB,CAAnB,CAA6B,CAA7B,CAAqC,CACtE,IAAI,EAAQ,CAAA,CAAO,KAAP,CAAa,GAAb,CACR,EAAA,CAAgC,CAAhC,GAAe,CAAf,CAAqB,MACrB,EAAA,CAAO,CAAA,CAAM,CAAN,CAQT,EAAA,CAFE,CAAC,CAAL,EAAqB,CAArB,GAA6B,QAA7B,CAAqC,SAArC,CAEgB,OAFhB,CAEwB,SAFxB,CAKgB,OALhB,CAKwB,MAGxB,KAAK,IAAI,EAAI,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAA0B,MAA1B,CAAmC,CAAnC,CAAsC,CAAA,EAAtC,CAA2C,CACzC,IAAI,EAAM,CAAA,CAAM,CAAN,CACV,IAAI,EAAE,CAAF,GAAS,EAAT,CAAJ,CAA2B,MAC3B,EAAA,CAAc,CAAA,CAAY,CAAZ,CAH2B,CAMvC,CAAA,CAAW,CAAA,CAAM,CAAN,CAAY,MAAZ,CAAqB,CAArB,CAIX,EAAA,CAAa,OAAA,CAAQ,gBAAR,EAAyC,KAAzC,GAA4B,CAA5B,CACb,CAAA,CAAY,CAAZ,CADa,CAEb,IACA,EAAA,CAAO,CAAA,CAAS,CAAT,CAEC,KAAZ,EAAI,CAAJ,GAII,CAAJ,CAQE,OAAA,CAAQ,cAAR,CACI,OADJ,CACY,SADZ,CACuB,CADvB,CAEI,CAAC,aAAc,CAAA,CAAf,CAAqB,SAAU,CAAA,CAA/B,CAAqC,MAAO,CAA5C,CAFJ,CARF,CAWW,CAXX,GAWoB,CAXpB,GAeqD,IAAA,EAanD,GAbI,OAAA,CAAQ,wBAAR,CAAiC,CAAjC,CAaJ,GAZE,OAAA,CAAQ,wBAAR,CAAiC,CAAjC,CAYF,CAZ+C,OAAA,CAAQ,gBAAR,CAEzC,OAAA,CAAQ,MAAR,CAAe,MAAf,CAAyB,CAAzB,CAFyC;AAGzC,OAHyC,CAGjC,eAHiC,CAGf,CAShC,EALA,CAKA,CALW,OAAA,CAAQ,wBAAR,CAAiC,CAAjC,CAKX,CAAA,OAAA,CAAQ,cAAR,CACI,CADJ,CACiB,CADjB,CAEI,CAAC,aAAc,CAAA,CAAf,CAAqB,SAAU,CAAA,CAA/B,CAAqC,MAAO,CAA5C,CAFJ,CA5BF,CAJA,CAhCsE,CCvHxE,QAAA,CAAQ,uBAAR,CAAkC,QAAQ,EAAG,CAC3C,IAAI,EAAI,CAAC,EAAG,CAAA,CAAJ,CAAR,CACI,EAAI,EACR,IAAI,CAEF,MADA,EACO,CADL,SACK,CADO,CACP,CAAA,CAAA,CAAE,CAFP,CAGF,MAAO,CAAP,CAAU,EAGZ,MAAO,CAAA,CAToC,CAqB7C,QAAA,CAAQ,cAAR,CAA0B,OAAD,CAAS,mBAAT,EACiC,UADjC,EACC,MAAO,OAAP,CAAc,cADf,CAErB,MAFqB,CAEd,cAFc,CAGrB,OAAA,CAAQ,uBAAR,EAAA,CAAoC,QAAQ,CAAC,CAAD,CAAS,CAAT,CAAgB,CAC1D,CAAA,CAAO,SAAP,CAAmB,CACnB,IAAI,CAAJ,CAAW,SAAX,GAAyB,CAAzB,CACE,KAAM,KAAI,SAAJ,CAAc,CAAd,CAAuB,oBAAvB,CAAN,CAEF,MAAO,EALmD,CAA5D,CAMI,IC+CR;OAAA,CAAQ,SAAR,CAAoB,EAWpB,QAAA,CAAQ,SAAR,CAAkB,6BAAlB,CAAkD,QAAQ,CAAC,CAAD,CAAS,CACjE,GAAI,EAAA,CAAA,WAAkB,OAAlB,CAAJ,CAGA,KAAM,KAAI,SAAJ,CAAc,kBAAd,CAAmC,CAAnC,CAA4C,mBAA5C,CAAN,CAJiE,CAgBnE,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA4B,QAAQ,EAAG,CAQrC,IAAA,CAAK,UAAL,CAAkB,CAAA,CASlB,KAAA,CAAK,iBAAL,CAAyB,IAQzB,KAAA,CAAK,WAAL,CAAmB,IAAA,EASnB,KAAA,CAAK,WAAL,CAAmB,CAqBnB,KAAA,CAAK,eAAL,CAXA,IAWA,CAXK,aAWL,CAXqB,CA4CrB,KAAA,CAAK,gBAAL,CAvBA,IAuBA,CAvBK,iBAuBL,CAvByB,IAjEY,CAmGvC;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,MAApC,CAA6C,QAAQ,EAAG,CACtD,GAAI,IAAJ,CAAS,UAAT,CACE,KAAM,KAAI,SAAJ,CAAc,8BAAd,CAAN,CAEF,IAAA,CAAK,UAAL,CAAkB,CAAA,CAJoC,CAcxD,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,KAApC,CAA4C,QAAQ,EAAG,CACrD,IAAA,CAAK,UAAL,CAAkB,CAAA,CADmC,CAYvD,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,mBAApC,CAA0D,QAAQ,EAAG,CACnE,IAAA,CAAK,WAAL,CAAmB,IAAnB,CAAwB,aAAxB,EAAyC,IAAzC,CAA8C,eADqB,CAarE,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,KAApC,CAA4C,QAAQ,CAAC,CAAD,CAAQ,CAC1D,IAAA,CAAK,WAAL,CAAmB,CADuC,CAa5D;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,MAApC,CAA6C,QAAQ,CAAC,CAAD,CAAI,CACvD,IAAA,CAAK,iBAAL,CAAyB,CAAC,UAAW,CAAZ,CAAe,YAAa,CAAA,CAA5B,CACzB,KAAA,CAAK,mBAAL,EAFuD,CAazD,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,MAApC,CAA6C,QAAQ,CAAC,CAAD,CAAQ,CAC3D,IAAA,CAAK,iBAAL,CAAyB,CAAC,OAA8B,CAA/B,CACzB,KAAA,CAAK,WAAL,CAAmB,IAAnB,CAAwB,eAFmC,CAa7D,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,wBAApC,CAA+D,QAAQ,CACnE,CADmE,CACtD,CACf,IAAA,CAAK,iBAAL,CAAyB,CAAC,OAAQ,CAAT,CACzB,KAAA,CAAK,WAAL,CAAmB,IAAnB,CAAwB,eAFT,CAgBjB,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,KAApC,CAA4C,QAAQ,CAAC,CAAD,CAAQ,CAAR,CAAuB,CACzE,IAAA,CAAK,WAAL,CAAmB,CACnB,OAAO,CAAC,MAAO,CAAR,CAFkE,CAe3E;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,QAApC,CAA+C,QAAQ,CACnD,CADmD,CACzC,CADyC,CAC1B,CACgB,CAAA,CACvC,OAAA,CAAQ,YAAR,CAAqB,CAArB,CACU,KAAI,EAAS,CAAA,CAAS,IAAT,EAC3B,QAAA,CAAQ,SAAR,CAAkB,6BAAlB,CAAgD,CAAhD,CACA,IAAI,CAAJ,CAAW,IAAX,CAGE,IACA,CADK,WACL,CADmB,CACnB,CAD0B,KAC1B,CAAA,IAAA,CAAK,WAAL,CAAmB,CAJrB,KAQA,OADA,KACO,CADF,iBACE,CADkB,CAClB,CAAA,IAAA,CAAK,KAAL,CAAW,CAAX,CAAkB,KAAlB,CAAyB,CAAzB,CAboB,CAwB7B,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,MAApC,CAA6C,QAAQ,CAAC,CAAD,CAAc,CACjE,IAAA,CAAK,WAAL,CAAmB,CAD8C,CAUnE,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,SAApC,CAAgD,QAAQ,EAAG,CACzD,IAAA,CAAK,WAAL,CAAmB,CADsC,CAa3D;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,qBAApC,CAA4D,QAAQ,CAChE,CADgE,CAClD,CADkD,CAClC,CAChC,IAAA,CAAK,aAAL,CAAqB,CACC,KAAA,EAAtB,EAAI,CAAJ,GACE,IADF,CACO,eADP,CACyB,CADzB,CAFgC,CAelC,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,eAApC,CAAsD,QAAQ,CAAC,CAAD,CAAiB,CAC7E,IAAA,CAAK,aAAL,CAAqB,CACrB,KAAA,CAAK,eAAL,CAAuB,CAAvB,EAAyC,CAFoC,CAc/E,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,aAApC,CAAoD,QAAQ,CACxD,CADwD,CAC3C,CAD2C,CAC7B,CAC7B,IAAA,CAAK,WAAL,CAAmB,CACnB,KAAA,CAAK,aAAL,CAAqB,CAArB,EAAqC,CAFR,CAc/B;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,eAApC,CAAsD,QAAQ,CAC1D,CAD0D,CACnC,CACzB,IAAA,CAAK,aAAL,CAAqB,CAArB,EAA8C,CAC5B,EAAA,CACoC,IADpC,CACyC,iBADzC,CAET,SACT,KAAA,CAAK,iBAAL,CAAyB,IACzB,OAAO,EANkB,CAmB3B,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,iBAApC,CAAwD,QAAQ,CAC5D,CAD4D,CAC1C,CAD0C,CACtB,CADsB,CACR,CACjD,CAAL,CAMG,IAAD,CAAM,gBAAN,CAAwB,CAAxB,CANF,CAM0C,IAN1C,CAM+C,iBAN/C,CACE,IADF,CACO,gBADP,CAC0B,CAAC,IAAD,CAAM,iBAAN,CAO1B,KAAA,CAAK,aAAL,CAAqB,CAArB,EAAyC,CACzC,KAAA,CAAK,eAAL,CAAuB,CAAvB,EAA6C,CAVS,CAuBxD;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,iBAApC,CAAwD,QAAQ,CAC5D,CAD4D,CAC/C,CAD+C,CACjC,CAiDX,CAAA,CAIb,IAAD,CAAM,gBAAN,CAAwB,MAAxB,CAA+B,CAA/B,EAA+C,CAA/C,CAAA,CAAkD,CAAlD,CAGJ,IAFkB,CAElB,CAFqC,IAErC,CAF0C,iBAE1C,CADI,IACJ,CADS,iBACT,EAD8B,CAC9B,CAAsB,CACpB,GAAI,CAAJ,CAAqB,WAArB,CACE,MAAO,KAAA,CAAK,mBAAL,EAkCsB,KAAA,EAA/B,EAAI,CAAJ,CAAqB,MAArB,EACI,IADJ,CACS,eADT,CAC2B,CAD3B,CAC4C,MAD5C,EAEE,IACA,CADK,WACL,CADmB,CACnB,CADoC,MACpC,CAAA,IAAA,CAAK,iBAAL,CAAyB,IAH3B,EAKE,IALF,CAKO,WALP,CAKqB,IALrB,CAK0B,eAzCN,CAAtB,IA4CE,KAAA,CAAK,WAAL,CAAmB,CApGQ,CAyH/B,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,KAApC,CAA4C,QAAQ,CAAC,CAAD,CAAS,CAC3D,MAAO,KAAI,OAAJ,CAAY,SAAZ,CAAsB,OAAtB,CAA8B,gBAA9B,CAA+C,CAA/C,CADoD,CAW7D;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,gBAA1B,CAA6C,QAAQ,CAAC,CAAD,CAAS,CAM5D,IAAA,CAAK,OAAL,CAAe,CAOf,KAAA,CAAK,WAAL,CAAmB,EAEnB,KAAK,IAAI,CAAT,GAA6C,EAA7C,CACE,IAAA,CAAK,WAAL,CAAiB,IAAjB,CAAsB,CAAtB,CAEF,KAAA,CAAK,WAAL,CAAiB,OAAjB,EAlB4D,CA4B9D,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,gBAA1B,CAA2C,SAA3C,CAAqD,OAArD,CAA+D,QAAQ,EAAG,CAIxE,IAAA,CAAiC,CAAjC,CAAO,IAAP,CAAY,WAAZ,CAAwB,MAAxB,CAAA,CAAoC,CACpB,IAAI,EAAW,IAAA,CAAK,WAAL,CAAiB,GAAjB,EAC7B,IAAI,CAAJ,GAAwC,KAAxC,CAA6C,OAA7C,CACE,MAAO,EAHyB,CAMpC,MAAO,KAViE,CAwB1E,QAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA4B,QAAQ,CAAC,CAAD,CAAU,CAM5C,IAAA,CAAK,QAAL,CAAgB,IAAI,OAAJ,CAAY,SAAZ,CAAsB,OAOtC,KAAA,CAAK,QAAL,CAAgB,CAb4B,CA2B9C;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,KAApC,CAA4C,QAAQ,CAAC,CAAD,CAAQ,CAC1D,IAAA,CAAK,QAAL,CAAc,MAAd,EACA,IAAI,IAAJ,CAAS,QAAT,CAAkB,iBAAlB,CACE,MAAO,KAAA,CAAK,aAAL,CACH,IADG,CACE,QADF,CACW,iBADX,CAC6B,IAD7B,CACmC,CADnC,CAC0C,IAD1C,CAC+C,QAD/C,CACwD,KADxD,CAGT,KAAA,CAAK,QAAL,CAAc,KAAd,CAAoB,CAApB,CACA,OAAO,KAAA,CAAK,SAAL,EAPmD,CAmB5D;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,OAApC,CAA8C,QAAQ,CAAC,CAAD,CAAQ,CAC5D,IAAA,CAAK,QAAL,CAAc,MAAd,EACc,KAAI,EAAmB,IAAnB,CAAwB,QAAxB,CAAiC,iBACnD,IAAI,CAAJ,CAOE,MAAO,KAAA,CAAK,aAAL,CAJC,QAAA,EAAY,EAAZ,CAA+B,CAAA,CAAiB,QAAjB,CAA/B,CAC+B,QAAQ,CAAC,CAAD,CAAI,CACV,MAAO,CAAC,MAAO,CAAR,CAAW,KAAM,CAAA,CAAjB,CADG,CAG5C,CAAmC,CAAnC,CAA0C,IAA1C,CAA+C,QAA/C,CAAwD,MAAxD,CAET,KAAA,CAAK,QAAL,CAAc,MAAd,CAAqB,CAArB,CACA,OAAO,KAAA,CAAK,SAAL,EAbqD,CA0B9D;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,MAApC,CAA6C,QAAQ,CAAC,CAAD,CAAY,CAC/D,IAAA,CAAK,QAAL,CAAc,MAAd,EACA,IAAI,IAAJ,CAAS,QAAT,CAAkB,iBAAlB,CACE,MAAO,KAAA,CAAK,aAAL,CACH,IAAA,CAAK,QAAL,CAAc,iBAAd,CAAgC,OAAhC,CADG,CACuC,CADvC,CAEH,IAFG,CAEE,QAFF,CAEW,KAFX,CAIT,KAAA,CAAK,QAAL,CAAc,MAAd,CAAqB,CAArB,CACA,OAAO,KAAA,CAAK,SAAL,EARwD,CAuBjE;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,aAApC,CAAoD,QAAQ,CACxD,CADwD,CAChD,CADgD,CACzC,CADyC,CAC7B,CAC7B,GAAI,CACY,IAAI,EAAS,CAAA,CAAO,IAAP,CACU,IADV,CACe,QADf,CACwB,iBADxB,CAEvB,CAFuB,CAG3B,QAAA,CAAQ,SAAR,CAAkB,6BAAlB,CAAgD,CAAhD,CACA,IAAI,CAAC,CAAD,CAAQ,IAAZ,CAEE,MADA,KAAA,CAAK,QAAL,CAAc,KAAd,EACO,CAAA,CAIK,KAAI,EAAc,CAAd,CAAqB,KAXrC,CAYF,MAAO,CAAP,CAAU,CAGV,MAFA,KAEO,CAFF,QAEE,CAFO,iBAEP,CAF2B,IAE3B,CADP,IAAA,CAAK,QAAL,CAAc,MAAd,CAAqB,CAArB,CACO,CAAA,IAAA,CAAK,SAAL,EAHG,CAKZ,IAAA,CAAK,QAAL,CAAc,iBAAd,CAAkC,IAClC,EAAA,CAAW,IAAX,CAAgB,IAAhB,CAAqB,QAArB,CAA+B,CAA/B,CACA,OAAO,KAAA,CAAK,SAAL,EApBsB,CA+B/B;OAAA,CAAQ,SAAR,CAAkB,OAAlB,CAA0B,SAA1B,CAAoC,SAApC,CAAgD,QAAQ,EAAG,CACzD,IAAA,CAAO,IAAP,CAAY,QAAZ,CAAqB,WAArB,CAAA,CACE,GAAI,CACY,IAAI,EAAa,IAAA,CAAK,QAAL,CAAc,IAAd,CAAmB,QAAnB,CAC/B,IAAI,CAAJ,CAEE,MADA,KAAA,CAAK,QAAL,CAAc,KAAd,EACO,CAAA,CAAC,MAAO,CAAP,CAAkB,KAAnB,CAA0B,KAAM,CAAA,CAAhC,CAJP,CAMF,MAAO,CAAP,CAAU,CACV,IACA,CADK,QACL,CADc,WACd,CAD4B,IAAA,EAC5B,CAAA,IAAA,CAAK,QAAL,CAAc,MAAd,CAAqB,CAArB,CAFU,CAMd,IAAA,CAAK,QAAL,CAAc,KAAd,EACA,IAAI,IAAJ,CAAS,QAAT,CAAkB,iBAAlB,CAAqC,CACjB,CAAA,CAAmB,IAAnB,CAAwB,QAAxB,CAAiC,iBACnD,KAAA,CAAK,QAAL,CAAc,iBAAd,CAAkC,IAClC,IAAI,CAAJ,CAAqB,WAArB,CACE,KAAM,EAAN,CAAuB,SAAvB,CAEF,MAAO,CAAC,MAAO,CAAP,CAAwB,MAAzB,CAAiC,KAAM,CAAA,CAAvC,CAN4B,CAQrC,MAAO,CAAC,MAAyB,IAAA,EAA1B,CAAsC,KAAM,CAAA,CAA5C,CAvBkD,CAsC3D;OAAA,CAAQ,SAAR,CAAkB,UAAlB,CAA+B,QAAQ,CAAC,CAAD,CAAS,CAE9C,IAAA,CAAK,IAAL,CAAY,QAAQ,CAAC,CAAD,CAAY,CAC9B,MAAO,EAAA,CAAO,KAAP,CAAa,CAAb,CADuB,CAKhC,KAAA,CAAK,KAAL,CAAa,QAAQ,CAAC,CAAD,CAAY,CAC/B,MAAO,EAAA,CAAO,MAAP,CAAc,CAAd,CADwB,CAKjC,KAAA,CAAK,MAAL,CAAc,QAAQ,CAAC,CAAD,CAAQ,CAC5B,MAAO,EAAA,CAAO,OAAP,CAAe,CAAf,CADqB,CAK9B,KAAA,CAAK,MAAL,CAAY,QAAZ,CAAA,CAAwB,QAAQ,EAAG,CACjC,MAAO,KAD0B,CAjBW,CAmChD,QAAA,CAAQ,SAAR,CAAkB,eAAlB,CAAoC,QAAQ,CAAC,CAAD,CAAY,CAAZ,CAAqB,CAC7C,CAAA,CACd,IAAI,OAAJ,CAAY,SAAZ,CAAsB,UAAtB,CAAiC,IAAI,OAAJ,CAAY,SAAZ,CAAsB,OAAtB,CAA8B,CAA9B,CAAjC,CASA,QAAJ,CAAY,cAAZ,EAA8B,CAA9B,CAAwC,SAAxC,EACsD,OAAD,CAAS,cAAT,CAC/C,CAD+C,CACvC,CADuC,CAC7B,SAD6B,CAGrD,OAAO,EAfwD,CC/yBjE;OAAA,CAAQ,4BAAR,CAAuC,QAAQ,CAAC,CAAD,CAAY,CACzD,QAAS,EAAoB,CAAC,CAAD,CAAQ,CACnC,MAAO,EAAA,CAAU,IAAV,CAAe,CAAf,CAD4B,CAIrC,QAAS,EAAoB,CAAC,CAAD,CAAQ,CACnC,MAAO,EAAA,CAAU,KAAV,CAAgB,CAAhB,CAD4B,CAIrC,MAAO,KAAI,OAAJ,CAAY,QAAQ,CAAC,CAAD,CAAU,CAAV,CAAkB,CAC3C,QAAS,EAAqB,CAA4B,CAA5B,CAAoC,CAC5D,CAAJ,CAAW,IAAX,CACE,CAAA,CAAQ,CAAR,CAAe,KAAf,CADF,CAKE,OAAA,CAAQ,OAAR,CAAgB,CAAhB,CAAuB,KAAvB,CAAA,CACK,IADL,CACU,CADV,CACgC,CADhC,CAAA,CAEK,IAFL,CAEU,CAFV,CAEiC,CAFjC,CAN8D,CAYlE,CAAA,CAAsB,CAAA,CAAU,IAAV,EAAtB,CAb2C,CAAtC,CATkD,CAoD3D,QAAA,CAAQ,oCAAR,CAA+C,QAAQ,CAAC,CAAD,CAAoB,CACzE,MAAO,QAAA,CAAQ,4BAAR,CAAqC,CAAA,EAArC,CADkE,CAa3E,QAAA,CAAQ,mCAAR,CAA8C,QAAQ,CAAC,CAAD,CAAU,CAC9D,MAAO,QAAA,CAAQ,4BAAR,CACH,IAAI,OAAJ,CAAY,SAAZ,CAAsB,UAAtB,CACI,IAAI,OAAJ,CAAY,SAAZ,CAAsB,OAAtB,CACI,CADJ,CADJ,CADG,CADuD,CCnFhE;OAAA,CAAQ,UAAR,CAAqB,QAAQ,EAAG,EAEhC,QAAA,CAAQ,QAAR,CAAiB,QAAjB,CAA2B,QAAQ,CAAC,CAAD,CAAO,CACxC,GAAI,CAAJ,CAAU,MAAO,EAOjB,KAAI,EAAc,QAAQ,CAAC,CAAD,CAAK,CAAL,CAAsB,CAE9C,IAAA,CAAK,kBAAL,CAA0B,CAM1B,QAAA,CAAQ,cAAR,CACI,IADJ,CACU,aADV,CAEI,CAAC,aAAc,CAAA,CAAf,CAAqB,SAAU,CAAA,CAA/B,CAAqC,MAAO,CAA5C,CAFJ,CAR8C,CAehD,EAAA,CAAY,SAAZ,CAAsB,QAAtB,CAAiC,QAAQ,EAAG,CAC1C,MAAO,KAAP,CAAY,kBAD8B,CAQ5C,KAAI,EAAU,CAAd,CAQI,EAAiB,QAAQ,CAAC,CAAD,CAAkB,CAC7C,GAAI,IAAJ,WAAoB,EAApB,CACE,KAAM,KAAI,SAAJ,CAAc,6BAAd,CAAN,CAEF,MAAQ,KAAI,CAAJ,CAdU,gBAcV,EACa,CADb,EACgC,EADhC,EACsC,GADtC,CAC6C,CAAA,EAD7C,CAEJ,CAFI,CAJqC,CAS/C,OAAO,EAhDiC,CAA1C,CAiDG,KAjDH,CAiDU,KAjDV,CAmDA;OAAA,CAAQ,QAAR,CAAiB,iBAAjB,CAAoC,QAAQ,CAAC,CAAD,CAAO,CACjD,GAAI,CAAJ,CAAU,MAAO,EAEb,EAAA,CAAiB,MAAA,CAAO,iBAAP,CAerB,KATA,IAA0B,EAAa,sHAAA,CAAA,KAAA,CAAA,GAAA,CAAvC,CASS,EAAI,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAA+B,MAA/B,CAAuC,CAAA,EAAvC,CAA4C,CAC1C,IAAI,EAAkC,OAAA,CAAQ,MAAR,CAAe,CAAA,CAAW,CAAX,CAAf,CACT,WAA7B,GAAI,MAAO,EAAX,EACsD,UADtD,EACI,MAAO,EAAA,CAAc,SAAd,CAAwB,CAAxB,CADX,EAEE,OAAA,CAAQ,cAAR,CAAuB,CAAvB,CAAqC,SAArC,CAAgD,CAAhD,CAAgE,CAC9D,aAAc,CAAA,CADgD,CAE9D,SAAU,CAAA,CAFoD,CAO9D,MAAO,QAAQ,EAAG,CAChB,MAAO,QAAA,CAAQ,iBAAR,CAA0B,OAAA,CAAQ,iBAAR,CAA0B,IAA1B,CAA1B,CADS,CAP4C,CAAhE,CAJwC,CAiB5C,MAAO,EAnC0C,CAAnD,CAoCG,KApCH;AAoCU,KApCV,CAuDA,QAAA,CAAQ,iBAAR,CAA4B,QAAQ,CAAC,CAAD,CAAO,CACrC,CAAA,CAAW,CAAC,KAAM,CAAP,CAKf,EAAA,CAAS,MAAT,CAAgB,QAAhB,CAAA,CAA4B,QAAQ,EAAG,CACrC,MAAO,KAD8B,CAGvC,OAAyC,EATA,CCpH3C;OAAA,CAAQ,QAAR,CAAiB,SAAjB,CAMI,QAAQ,CAAC,CAAD,CAAgB,CA8B1B,QAAS,EAAa,EAAG,CAQvB,IAAA,CAAK,MAAL,CAAc,IARS,CAgbzB,QAAS,EAAgB,CAAC,CAAD,CAAY,CACnC,MAAI,EAAJ,WAAyB,EAAzB,CACS,CADT,CAGS,IAAI,CAAJ,CAAoB,QAAQ,CAAC,CAAD,CAAU,CAAV,CAAkB,CACnD,CAAA,CAAQ,CAAR,CADmD,CAA9C,CAJ0B,CAzbrC,GAAI,CAAJ,GATU,EAAA,OAAA,CAAQ,sBAAR,EACN,OADM,CACE,kDADF,EAVkD,WAUlD,GAVD,MAAO,QAAP,CAAe,MAAf,CAAsB,qBAUrB,CASV,EAfS,CAAA,OAAA,CAAQ,MAAR,CAAe,OAexB,EAdwE,EAcxE,GAdM,OAAA,CAAQ,MAAR,CAAe,OAAf,CAA0B,QAA1B,EAAA,CAAqC,OAArC,CAA6C,eAA7C,CAcN,EACE,MAAO,EA+BT,EAAA,CAAc,SAAd,CAAwB,YAAxB,CAAuC,QAAQ,CAAC,CAAD,CAAI,CACjD,GAAmB,IAAnB,EAAI,IAAJ,CAAS,MAAT,CAAyB,CAEvB,IAAA,CAAK,MAAL,CAAc,EACd,KAAI,EAAO,IACX,KAAA,CAAK,oBAAL,CAA0B,QAAQ,EAAG,CAAE,CAAA,CAAK,aAAL,EAAF,CAArC,CAJuB,CAMzB,IAAA,CAAK,MAAL,CAAY,IAAZ,CAAiB,CAAjB,CAPiD,CAanD;IAAI,EAAmB,OAAnB,CAA2B,MAA3B,CAAkC,UAStC,EAAA,CAAc,SAAd,CAAwB,oBAAxB,CAA+C,QAAQ,CAAC,CAAD,CAAI,CACzD,CAAA,CAAiB,CAAjB,CAAoB,CAApB,CADyD,CAS3D,EAAA,CAAc,SAAd,CAAwB,aAAxB,CAAwC,QAAQ,EAAG,CACjD,IAAA,CAAO,IAAP,CAAY,MAAZ,EAAsB,IAAtB,CAA2B,MAA3B,CAAkC,MAAlC,CAAA,CAA0C,CACxC,IAA+B,EAAiB,IAAjB,CAAsB,MAGrD,KAAA,CAAK,MAAL,CAAc,EACd,KAAK,IAAI,EAAI,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAAmC,MAAnC,CAA2C,EAAE,CAA7C,CAAgD,CAC9C,IAAI,EAA+B,CAAA,CAAe,CAAf,CACnC,EAAA,CAAe,CAAf,CAAA,CAAoB,IACpB,IAAI,CACF,CAAA,EADE,CAEF,MAAO,CAAP,CAAc,CACd,IAAA,CAAK,WAAL,CAAiB,CAAjB,CADc,CAL8B,CALR,CAiB1C,IAAA,CAAK,MAAL,CAAc,IAlBmC,CAyBnD,EAAA,CAAc,SAAd,CAAwB,WAAxB,CAAsC,QAAQ,CAAC,CAAD,CAAY,CACxD,IAAA,CAAK,oBAAL,CAA0B,QAAQ,EAAG,CAAE,KAAM,EAAN,CAAF,CAArC,CADwD,CA4B1D,KAAI,EAAkB,QAAQ,CAAC,CAAD,CAAW,CAEvC,IAAA,CAAK,MAAL,CArBS,CA4BT,KAAA,CAAK,OAAL,CAAe,IAAA,EAOf,KAAA,CAAK,mBAAL,CAA2B,EAM3B,KAAA,CAAK,mBAAL,CAA2B,CAAA,CAE3B,KAAI,EAAmB,IAAA,CAAK,uBAAL,EACvB;GAAI,CACF,CAAA,CAAS,CAAT,CAA0B,OAA1B,CAAmC,CAAnC,CAAoD,MAApD,CADE,CAEF,MAAO,CAAP,CAAU,CACV,CAAA,CAAiB,MAAjB,CAAwB,CAAxB,CADU,CA3B2B,CA4CzC,EAAA,CAAgB,SAAhB,CAA0B,uBAA1B,CAAoD,QAAQ,EAAG,CAQ7D,QAAS,EAAa,CAAC,CAAD,CAAS,CAC7B,MAAO,SAAQ,CAAW,CAAX,CAAc,CACtB,CAAL,GACE,CACA,CADgB,CAAA,CAChB,CAAA,CAAA,CAAO,IAAP,CAAY,CAAZ,CAAyB,CAAzB,CAFF,CAD2B,CADA,CAP/B,IAAI,EAAc,IAAlB,CACI,EAAgB,CAAA,CAcpB,OAAO,CACL,QAAS,CAAA,CAAc,IAAd,CAAmB,UAAnB,CADJ,CAEL,OAAQ,CAAA,CAAc,IAAd,CAAmB,OAAnB,CAFH,CAhBsD,CA2B/D,EAAA,CAAgB,SAAhB,CAA0B,UAA1B,CAAuC,QAAQ,CAAC,CAAD,CAAQ,CACrD,GAAI,CAAJ,GAAc,IAAd,CACE,IAAA,CAAK,OAAL,CAAa,IAAI,SAAJ,CAAc,oCAAd,CAAb,CADF,KAEO,IAAI,CAAJ,WAAqB,EAArB,CACL,IAAA,CAAK,oBAAL,CAA2D,CAA3D,CADK,KAEA,CAkCgB,CAAA,CACvB,OAAQ,MAnCY,EAmCpB,EACE,KAAK,QAAL,CACE,IAAA,EAAgB,IAAhB,EArCgB,CAqChB,OAAA,CACF,MAAK,UAAL,CACE,CAAA,CAAO,CAAA,CAAP,OAAA,CACF,SACE,CAAA,CAAO,CAAA,CANX,CAnCW,CAAJ,CACL,IAAA,CAAK,uBAAL,CAAqD,CAArD,CADK;AAGL,IAAA,CAAK,QAAL,CAAc,CAAd,CAHK,CAL8C,CAkBvD,EAAA,CAAgB,SAAhB,CAA0B,uBAA1B,CAAoD,QAAQ,CAAC,CAAD,CAAM,CAChE,IAAI,EAAa,IAAA,EAEjB,IAAI,CACF,CAAA,CAAa,CAAb,CAAiB,IADf,CAEF,MAAO,CAAP,CAAc,CACd,IAAA,CAAK,OAAL,CAAa,CAAb,CACA,OAFc,CAIS,UAAzB,EAAI,MAAO,EAAX,CACE,IAAA,CAAK,qBAAL,CAA2B,CAA3B,CAAiE,CAAjE,CADF,CAGE,IAAA,CAAK,QAAL,CAAc,CAAd,CAZ8D,CAsClE,EAAA,CAAgB,SAAhB,CAA0B,OAA1B,CAAoC,QAAQ,CAAC,CAAD,CAAS,CACnD,IAAA,CAAK,OAAL,CA7IU,CA6IV,CAAoC,CAApC,CADmD,CAUrD,EAAA,CAAgB,SAAhB,CAA0B,QAA1B,CAAqC,QAAQ,CAAC,CAAD,CAAQ,CACnD,IAAA,CAAK,OAAL,CA1JW,CA0JX,CAAqC,CAArC,CADmD,CAWrD,EAAA,CAAgB,SAAhB,CAA0B,OAA1B,CAAoC,QAAQ,CAAC,CAAD,CAAe,CAAf,CAA8B,CACxE,GAxKS,CAwKT,EAAI,IAAJ,CAAS,MAAT,CACE,KAAU,MAAJ,CACF,gBADE,CACiB,CADjB,CACgC,IADhC,CACuC,CADvC,CAEF,qCAFE,CAEsC,IAFtC,CAE2C,MAF3C,CAAN,CAIF,IAAA,CAAK,MAAL,CAAc,CACd,KAAA,CAAK,OAAL,CAAe,CAxKL,EAyKV,GAAI,IAAJ,CAAS,MAAT,EACE,IAAA,CAAK,gCAAL,EAEF;IAAA,CAAK,0BAAL,EAXwE,CAc1E,EAAA,CAAgB,SAAhB,CAA0B,gCAA1B,CAA6D,QAAQ,EAAG,CACtE,IAAI,EAAO,IACX,EAAA,CAAiB,QAAQ,EAAG,CAC1B,GAAI,CAAA,CAAK,yBAAL,EAAJ,CAAsC,CAEpC,IAAI,EAAgB,OAAhB,CAAwB,MAAxB,CAA+B,OACN,YAA7B,GAAI,MAAO,EAAX,EACE,CAAA,CAAc,KAAd,CAAoB,CAApB,CAAyB,OAAzB,CAJkC,CADZ,CAA5B,CAQG,CARH,CAFsE,CAqBxE,EAAA,CAAgB,SAAhB,CAA0B,yBAA1B,CAAsD,QAAQ,EAAG,CAC/D,GAAI,IAAJ,CAAS,mBAAT,CACE,MAAO,CAAA,CAET,KAAI,EAAoB,OAApB,CAA4B,MAA5B,CAAmC,WAAvC,CACI,EAAc,OAAd,CAAsB,MAAtB,CAA6B,KADjC,CAEI,EAAsB,OAAtB,CAA8B,MAA9B,CAAqC,aACzC,IAAmC,WAAnC,GAAI,MAAO,EAAX,CACE,MAAO,CAAA,CAIwB,WAAjC,GAAI,MAAO,EAAX,CACE,CADF,CAEM,IAAI,CAAJ,CAAsB,oBAAtB,CAA4C,CAAC,WAAY,CAAA,CAAb,CAA5C,CAFN;AAGkC,UAA3B,GAAI,MAAO,EAAX,CAGL,CAHK,CAGG,IAAI,CAAJ,CAAgB,oBAAhB,CAAsC,CAAC,WAAY,CAAA,CAAb,CAAtC,CAHH,EAML,CACA,CADQ,OAAA,CAAQ,MAAR,CAAe,QAAf,CAA2B,WAA3B,CAAuC,aAAvC,CACR,CAAA,CAAA,CAAM,eAAN,CACI,oBADJ,CAC8C,CAAA,CAD9C,CAEyB,CAAA,CAFzB,CAE+B,CAF/B,CAPK,CAWP,EAAA,CAAM,OAAN,CAAgB,IAChB,EAAA,CAAM,MAAN,CAAe,IAAf,CAAoB,OAEpB,OAAO,EAAA,CAAoB,CAApB,CA7BwD,CAgCjE,EAAA,CAAgB,SAAhB,CAA0B,0BAA1B,CAAuD,QAAQ,EAAG,CAChE,GAAgC,IAAhC,EAAI,IAAJ,CAAS,mBAAT,CAAsC,CACpC,IAAK,IAAI,EAAI,CAAb,CAAgB,CAAhB,CAAoB,IAApB,CAAyB,mBAAzB,CAA6C,MAA7C,CAAqD,EAAE,CAAvD,CACE,CAAA,CAAc,YAAd,CAA2B,IAAA,CAAK,mBAAL,CAAyB,CAAzB,CAA3B,CAEF,KAAA,CAAK,mBAAL,CAA2B,IAJS,CAD0B,CAclE,KAAI,EAAgB,IAAI,CAOxB,EAAA,CAAgB,SAAhB,CAA0B,oBAA1B,CAAiD,QAAQ,CAAC,CAAD,CAAU,CACjE,IAAI,EAAU,IAAA,CAAK,uBAAL,EAGd;CAAA,CAAQ,gBAAR,CAAyB,CAAzB,CAAiC,OAAjC,CAA0C,CAA1C,CAAkD,MAAlD,CAJiE,CAgBnE,EAAA,CAAgB,SAAhB,CAA0B,qBAA1B,CAAkD,QAAQ,CACtD,CADsD,CAC1C,CAD0C,CAChC,CACxB,IAAI,EAAU,IAAA,CAAK,uBAAL,EAGd,IAAI,CACF,CAAA,CAAW,IAAX,CAAgB,CAAhB,CAA0B,CAA1B,CAAkC,OAAlC,CAA2C,CAA3C,CAAmD,MAAnD,CADE,CAEF,MAAO,CAAP,CAAc,CACd,CAAA,CAAQ,MAAR,CAAe,CAAf,CADc,CANQ,CAY1B,EAAA,CAAgB,SAAhB,CAA0B,IAA1B,CAAiC,QAAQ,CAAC,CAAD,CAAc,CAAd,CAA0B,CAOjE,QAAS,EAAc,CAAC,CAAD,CAAS,CAAT,CAAmB,CAGxC,MAAqB,UAArB,EAAI,MAAO,EAAX,CACS,QAAQ,CAAC,CAAD,CAAI,CACjB,GAAI,CACF,CAAA,CAAa,CAAA,CAAO,CAAP,CAAb,CADE,CAEF,MAAO,CAAP,CAAc,CACd,CAAA,CAAY,CAAZ,CADc,CAHC,CADrB,CASS,CAZ+B,CAN1C,IAAI,CAAJ,CACI,CADJ,CAEI,EAAe,IAAI,CAAJ,CAAoB,QAAQ,CAAC,CAAD,CAAU,CAAV,CAAkB,CAC/D,CAAA,CAAe,CACf,EAAA,CAAc,CAFiD,CAA9C,CAoBnB,KAAA,CAAK,gBAAL,CACI,CAAA,CAAe,CAAf,CAA4B,CAA5B,CADJ,CAEI,CAAA,CAAe,CAAf,CAA2B,CAA3B,CAFJ,CAGA,OAAO,EA1B0D,CA8BnE,EAAA,CAAgB,SAAhB,CAA0B,KAA1B,CAAkC,QAAQ,CAAC,CAAD,CAAa,CACrD,MAAO,KAAA,CAAK,IAAL,CAAU,IAAA,EAAV,CAAqB,CAArB,CAD8C,CAKvD,EAAA,CAAgB,SAAhB,CAA0B,gBAA1B,CAA6C,QAAQ,CACjD,CADiD,CACpC,CADoC,CACxB,CAE3B,QAAS,EAAQ,EAAG,CAClB,OAAQ,CAAR,CAAoB,MAApB,EACE,KAjUO,CAiUP,CACE,CAAA,CAAY,CAAZ,CAAwB,OAAxB,CACA;KACF,MAjUM,CAiUN,CACE,CAAA,CAAW,CAAX,CAAuB,OAAvB,CACA,MACF,SACE,KAAU,MAAJ,CAAU,oBAAV,CAAiC,CAAjC,CAA6C,MAA7C,CAAN,CARJ,CADkB,CADpB,IAA4B,EAAc,IAaV,KAAhC,EAAI,IAAJ,CAAS,mBAAT,CAEE,CAAA,CAAc,YAAd,CAA2B,CAA3B,CAFF,CAIE,IAAA,CAAK,mBAAL,CAAyB,IAAzB,CAA8B,CAA9B,CAEF,KAAA,CAAK,mBAAL,CAA2B,CAAA,CApBA,CAiC7B,EAAA,CAAgB,OAAhB,CAA6B,CAG7B,EAAA,CAAgB,MAAhB,CAA4B,QAAQ,CAAC,CAAD,CAAa,CAC/C,MAAO,KAAI,CAAJ,CAAoB,QAAQ,CAAC,CAAD,CAAU,CAAV,CAAkB,CACnD,CAAA,CAAO,CAAP,CADmD,CAA9C,CADwC,CAOjD,EAAA,CAAgB,IAAhB,CAA0B,QAAQ,CAAC,CAAD,CAAoB,CACpD,MAAO,KAAI,CAAJ,CAAoB,QAAQ,CAAC,CAAD,CAAU,CAAV,CAAkB,CAGnD,IAFA,IAAwB,EACpB,OAAA,CAAQ,YAAR,CAAqB,CAArB,CADJ,CAEoC,EAAU,CAAA,CAAS,IAAT,EAA9C,CACK,CAAC,CAAD,CAAS,IADd,CAEK,CAFL,CAEe,CAAA,CAAS,IAAT,EAFf,CASE,CAAA,CAAiB,CAAjB,CAAyB,KAAzB,CAAA,CAAgC,gBAAhC,CAAiD,CAAjD,CAA0D,CAA1D,CAZiD,CAA9C,CAD6C,CAmBtD,EAAA,CAAgB,GAAhB,CAAyB,QAAQ,CAAC,CAAD,CAAoB,CACnD,IAAwB,EAAW,OAAA,CAAQ,YAAR,CAAqB,CAArB,CAAnC,CAC+B,EAAU,CAAA,CAAS,IAAT,EAEzC,OAAI,EAAJ,CAAY,IAAZ,CACS,CAAA,CAAiB,EAAjB,CADT,CAGS,IAAI,CAAJ,CAAoB,QAAQ,CAAC,CAAD;AAAa,CAAb,CAAwB,CAIzD,QAAS,EAAW,CAAC,CAAD,CAAI,CACtB,MAAO,SAAQ,CAAC,CAAD,CAAY,CACzB,CAAA,CAAa,CAAb,CAAA,CAAkB,CAClB,EAAA,EACuB,EAAvB,EAAI,CAAJ,EACE,CAAA,CAAW,CAAX,CAJuB,CADL,CAHxB,IAAI,EAAe,EAAnB,CACI,EAAkB,CAYtB,GACE,EAAA,CAAa,IAAb,CAAkB,IAAA,EAAlB,CAUA,CATA,CAAA,EASA,CAHA,CAAA,CAAiB,CAAjB,CAAyB,KAAzB,CAAA,CACK,gBADL,CAEQ,CAAA,CAAY,CAAZ,CAAyB,MAAzB,CAAkC,CAAlC,CAFR,CAE8C,CAF9C,CAGA,CAAA,CAAA,CAAU,CAAA,CAAS,IAAT,EAXZ,OAYS,CAAC,CAAD,CAAS,IAZlB,CAdyD,CAApD,CAP0C,CAsCrD,OAAO,EA1hBmB,CAN5B,CAiiBG,KAjiBH,CAiiBU,KAjiBV,CCLA,QAAA,CAAQ,QAAR,CAAiB,sBAAjB,CAAyC,QAAQ,CAAC,CAAD,CAAO,CACtD,MAAI,EAAJ,CAAiB,CAAjB,CAae,QAAQ,CAAC,CAAD,CAAQ,CAAR,CAAmB,CAAnB,CAA4B,CACjD,IAAI,EAAS,IAAT,CAAc,MAAd,EAAwB,CACZ,EAAhB,CAAI,CAAJ,GACE,CADF,CACc,IAAA,CAAK,GAAL,CAAS,CAAT,CAAY,CAAZ,CAA4C,CAA5C,CADd,CAGA,IAAe,IAAf,EAAI,CAAJ,EAAuB,CAAvB,CAAiC,CAAjC,CAAyC,CAAA,CAAU,CACnD,EAAA,CAAU,MAAA,CAAO,CAAP,CACI,EAAd,CAAI,CAAJ,GAAiB,CAAjB,CAA2B,IAAA,CAAK,GAAL,CAAS,CAAT,CAAY,CAAZ,CAAqB,CAArB,CAA3B,CACA,KAAS,CAAT,CAAa,MAAA,CAAO,CAAP,EAAoB,CAApB,CAAb,CAAqC,CAArC,CAAyC,CAAzC,CAAkD,CAAA,EAAlD,CACE,IAAA,CAAK,CAAL,CAAA,CAAU,CAEZ,OAAO,KAX0C,CAdG,CAAxD,CA6BG,KA7BH,CA6BU,KA7BV,CCKA,QAAA,CAAQ,cAAR,CAAyB,QAAQ,CAAC,CAAD,CAAO,CACtC,MAAI,EAAJ,CAAiB,CAAjB,CACO,KADP,CACa,SADb,CACuB,IAFe,CAKxC;OAAA,CAAQ,QAAR,CACI,0BADJ,CACgC,OADhC,CACwC,cADxC,CACwD,KADxD,CAC+D,KAD/D,CAEA,QAAA,CAAQ,QAAR,CACI,2BADJ,CACiC,OADjC,CACyC,cADzC,CACyD,KADzD,CACgE,KADhE,CAEA,QAAA,CAAQ,QAAR,CACI,kCADJ,CACwC,OADxC,CACgD,cADhD,CACgE,KADhE,CACuE,KADvE,CAEA,QAAA,CAAQ,QAAR,CACI,2BADJ,CACiC,OADjC,CACyC,cADzC,CACyD,KADzD,CACgE,KADhE,CAEA,QAAA,CAAQ,QAAR,CACI,4BADJ,CACkC,OADlC,CAC0C,cAD1C,CAC0D,KAD1D,CACiE,KADjE,CAEA,QAAA,CAAQ,QAAR,CACI,2BADJ,CACiC,OADjC,CACyC,cADzC,CACyD,KADzD,CACgE,KADhE,CAEA;OAAA,CAAQ,QAAR,CACI,4BADJ,CACkC,OADlC,CAC0C,cAD1C,CAC0D,KAD1D,CACiE,KADjE,CAEA,QAAA,CAAQ,QAAR,CACI,6BADJ,CACmC,OADnC,CAC2C,cAD3C,CAC2D,KAD3D,CACkE,KADlE,CAEA,QAAA,CAAQ,QAAR,CACI,6BADJ,CACmC,OADnC,CAC2C,cAD3C,CAC2D,KAD3D,CACkE,KADlE,CCdA,QAAA,CAAQ,iBAAR,CAA4B,QAAQ,CAAC,CAAD,CAAQ,CAAR,CAAmB,CAEjD,CAAJ,WAAqB,OAArB,GAAqC,CAArC,EAA6C,EAA7C,CACA,KAAI,EAAI,CAAR,CACI,EAAO,CAAA,CADX,CAEI,EAAO,CACT,KAAM,QAAQ,EAAG,CAGf,GAAI,CAAC,CAAL,EAAa,CAAb,CAAiB,CAAjB,CAAuB,MAAvB,CAA+B,CAC7B,IAAI,EAAQ,CAAA,EACZ,OAAO,CAAC,MAAO,CAAA,CAAU,CAAV,CAAiB,CAAA,CAAM,CAAN,CAAjB,CAAR,CAAwC,KAAM,CAAA,CAA9C,CAFsB,CAI/B,CAAA,CAAO,CAAA,CACP,OAAO,CAAC,KAAM,CAAA,CAAP,CAAa,MAAO,IAAK,EAAzB,CARQ,CADR,CAYX,EAAA,CAAK,MAAL,CAAY,QAAZ,CAAA,CAAwB,QAAQ,EAAG,CAAE,MAAO,EAAT,CACnC,OAAO,EAlB8C,CCXvD;OAAA,CAAQ,QAAR,CAAiB,sBAAjB,CAAyC,QAAQ,CAAC,CAAD,CAAO,CACtD,MAAI,EAAJ,CAAiB,CAAjB,CAQe,QAAQ,EAAG,CACxB,MAAO,QAAA,CAAQ,iBAAR,CAA0B,IAA1B,CAAgC,QAAQ,CAAC,CAAD,CAAI,CAAE,MAAO,EAAT,CAA5C,CADiB,CAT4B,CAAxD,CAcG,KAdH,CAcU,KAdV,CCeA,QAAA,CAAQ,YAAR,CAAuB,QAAQ,CAAC,CAAD,CAAQ,CAAR,CAAkB,CAAlB,CAA2B,CACpD,CAAJ,WAAqB,OAArB,GACE,CADF,CACsC,MAAA,CAAO,CAAP,CADtC,CAIA,KADA,IAAI,EAAM,CAAN,CAAY,MAAhB,CACS,EAAI,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAAyB,CAAA,EAAzB,CAA8B,CAC5B,IAAI,EAAQ,CAAA,CAAM,CAAN,CACZ,IAAI,CAAA,CAAS,IAAT,CAAc,CAAd,CAAuB,CAAvB,CAA8B,CAA9B,CAAiC,CAAjC,CAAJ,CAA6C,MAAO,CAAC,EAAG,CAAJ,CAAO,EAAG,CAAV,CAFxB,CAI9B,MAAO,CAAC,EAAG,EAAJ,CAAQ,EAAG,IAAK,EAAhB,CATiD,CCf1D,QAAA,CAAQ,QAAR,CAAiB,sBAAjB,CAAyC,QAAQ,CAAC,CAAD,CAAO,CACtD,MAAI,EAAJ,CAAiB,CAAjB,CAae,QAAQ,CAAC,CAAD,CAAW,CAAX,CAAwB,CAC7C,MAAO,QAAA,CAAQ,YAAR,CAAqB,IAArB,CAA2B,CAA3B,CAAqC,CAArC,CAAP,CAAyD,CADZ,CAdO,CAAxD,CAmBG,KAnBH,CAmBU,KAnBV,CCKA;OAAA,CAAQ,IAAR,CAAe,QAAQ,CAAC,CAAD,CAAM,CAAN,CAAY,CACjC,MAAO,OAAA,CAAO,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,CAA0C,CAA1C,CAD0B,CCLnC,QAAA,CAAQ,QAAR,CAAiB,eAAjB,CAAkC,QAAQ,CAAC,CAAD,CAAO,CAC/C,MAAI,EAAJ,CAAiB,CAAjB,CAWa,QAAQ,CAAC,CAAD,CAAM,CACzB,IAAI,EAAS,EAAb,CACS,CAAT,KAAS,CAAT,GAAgB,EAAhB,CACM,OAAA,CAAQ,IAAR,CAAa,CAAb,CAAkB,CAAlB,CAAJ,EACE,CAAA,CAAO,IAAP,CAAY,CAAA,CAAI,CAAJ,CAAZ,CAGJ,OAAO,EAPkB,CAZoB,CAAjD,CAuBG,KAvBH,CAuBU,KAvBV,CCDA;OAAA,CAAQ,QAAR,CAAiB,YAAjB,CAA+B,QAAQ,CAAC,CAAD,CAAO,CAC5C,MAAI,EAAJ,CAAiB,CAAjB,CAoBe,QAAQ,CAAC,CAAD,CAAY,CAAZ,CAAuB,CAAvB,CAAoC,CACzD,CAAA,CAAyB,IAAb,EAAA,CAAA,CAAoB,CAApB,CAAgC,QAAQ,CAAC,CAAD,CAAI,CAAE,MAAO,EAAT,CACxD,KAAI,EAAS,EAAb,CAEI,EAAoC,WAApC,EAAmB,MAAO,OAA1B,EAAmD,MAAnD,CAA0D,QAA1D,EACmB,CAAD,CAAY,MAAZ,CAAmB,QAAnB,CACtB,IAA+B,UAA/B,EAAI,MAAO,EAAX,CAA2C,CACzC,CAAA,CAAY,CAAA,CAAiB,IAAjB,CAAsB,CAAtB,CAGZ,KADA,IAAI,EAAI,CACR,CAAO,EAAE,CAAF,CAAS,CAAA,CAAU,IAAV,EAAT,EAA2B,IAAlC,CAAA,CACE,CAAA,CAAO,IAAP,CACI,CAAA,CAAU,IAAV,CAAiC,CAAjC,CAA+C,CAA/C,CAAoD,KAApD,CAA2D,CAAA,EAA3D,CADJ,CALuC,CAA3C,IAUE,KADI,CACK,CADC,CACD,CADW,MACX,CAAA,CAAA,CAAI,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAAyB,CAAA,EAAzB,CACE,CAAA,CAAO,IAAP,CACI,CAAA,CAAU,IAAV,CAAiC,CAAjC,CAA+C,CAAA,CAAU,CAAV,CAA/C,CAA6D,CAA7D,CADJ,CAIJ,OAAO,EArBkD,CArBf,CAA9C,CA8CG,KA9CH,CA8CU,KA9CV,CCCA,QAAA,CAAQ,QAAR,CAAiB,2BAAjB,CAA8C,QAAQ,CAAC,CAAD,CAAO,CAC3D,MAAI,EAAJ,CAAiB,CAAjB,CAae,QAAQ,CAAC,CAAD,CAAW,CAAX,CAAwB,CAC7C,MAAO,QAAA,CAAQ,YAAR,CAAqB,IAArB,CAA2B,CAA3B,CAAqC,CAArC,CAAP,CAAyD,CADZ,CAdY,CAA7D,CAmBG,KAnBH,CAmBU,KAnBV,CCmBA;OAAA,CAAQ,MAAR,CACK,OAAD,CAAS,mBAAT,EAAwD,UAAxD,EAAgC,MAAO,OAAP,CAAc,MAA9C,CACA,MADA,CACO,MADP,CAQA,QAAQ,CAAC,CAAD,CAAS,CAAT,CAAmB,CACzB,IAAK,IAAI,EAAI,CAAb,CAAgB,CAAhB,CAAoB,SAApB,CAA8B,MAA9B,CAAsC,CAAA,EAAtC,CAA2C,CACzC,IAAI,EAAS,SAAA,CAAU,CAAV,CACb,IAAK,CAAL,CACA,IAAK,IAAI,CAAT,GAAgB,EAAhB,CACM,OAAA,CAAQ,IAAR,CAAa,CAAb,CAAqB,CAArB,CAAJ,GAA+B,CAAA,CAAO,CAAP,CAA/B,CAA6C,CAAA,CAAO,CAAP,CAA7C,CAJuC,CAO3C,MAAO,EARkB,CCxB/B,QAAA,CAAQ,QAAR,CAAiB,eAAjB,CAAkC,QAAQ,CAAC,CAAD,CAAO,CAC/C,MAAO,EAAP,EAAe,OAAf,CAAuB,MADwB,CAAjD,CAEG,KAFH,CAEU,KAFV,CCvBAA;QAASA,YAAW,CAACC,CAAD,CAAS,CAC5B,IAAA,CAAKC,SAAL,CAAiBD,CAAjB,CAAwBC,SACxB,KAAA,CAAKC,oBAAL,CAA4BF,CAA5B,CAAmCG,YAEnC,KAAA,CAAKC,QAAL,CAAgB,EAChB,KAAA,CAAKC,aAAL,CAAqB,IACrB,KAAA,CAAKC,mBAAL,CAA2B,CAAA,CAC3B,KAAA,CAAKC,wBAAL,CAAgC,CAAA,CAIhC,KAAA,CAAKC,cAAL,CADA,IACA,CADKC,eACL,CADuB,CAGvB,KAAA,CAAKC,WAAL,CAAmB,CAAA,CACnB,KAAA,CAAKC,iBAAL,CAAyB,CAAA,CAGzB,KAAA,CAAKC,eAAL,CADA,IACA,CADKC,oBACL,CAD4B,EAG5B,KAAA,CAAKC,MAAL,CAAc,CAEd,KAAA,CAAKC,SAAL,CAAiB,CAAA,CAEjB,KAAA,CAAKC,cAAL,CADA,IACA,CADKC,UACL,CADkB,IAElB,KAAA,CAAKC,WAAL,CAAmB,EACnB,KAAA,CAAKC,kBAAL,CAA0B,EAG1B,KAAA,CAAKC,GAAL,CADA,IACA,CADKC,MACL,CAFA,IAEA,CAFKC,QAEL,CAFgB,IAGhB,KAAA,CAAKC,YAAL;AAAoB,CACpB,KAAA,CAAKC,OAAL,CAAe,CAACC,KAAM,IAAP,CAAaC,MAAO,CAApB,CACf,KAAA,CAAKC,SAAL,CAAiB,CAcjB,KAAA,CAAKC,KAAL,CAAa,IAAIC,GAAJ,CAAQC,IAAR,CAAaC,eAE1B,KAAA,CAAKC,YAAL,CAAoB,EACpB,KAAA,CAAKC,WAAL,CAAmB,EACnB,KAAA,CAAKC,aAAL,CAAqB,EAErB,KAAA,CAAKC,WAAL,CAAmB,CAAA,CAnDS;AAsD7BpC,WAAA,CAAYqC,SAAZ,CAAwB,CACvBC,YAAatC,WADU,CAGvBuC,iBAAkBA,QAAQ,EAAG,CAC5B,IAAIrC,EAAY,IAAZA,CAAiBA,SAArB,CACIsC,EAAStC,CAAA,CAAUuC,SAAV,EADb,CAEIC,EAAQxC,CAAA,CAAUyC,QAAV,EACZ,KAAA,CAAK/B,iBAAL,CAAiC,GAAjC,CAAyB8B,CACzB,KAAIE,EAAKd,GAAA,CAAIc,EAAJ,CAAO,aAAP,CACT1C,EAAA,CAAU2C,GAAV,CAAc,CACbC,MAAO,WADM,CAEbJ,MAAOA,CAFM,CAGbF,OAAQA,CAHK,CAIbO,KAAM,cAANA,CAAqBH,CAArBG,CAAwB,WAAxBA,CAAoCL,CAApCK,CAA0C,YAA1CA,CAAuDP,CAAvDO,CAA8D,aAJjD,CAKbC,OAAQ,CAAA,CALK,CAMPC,UAAW,CACVC,YAAa,CACZC,GAAIA,QAAQ,CAACC,CAAD,CAAM,CACpB,IAAA,CAAK9B,MAAL,CAAc+B,QAAA,CAASC,cAAT,CAAwBV,CAAxB,CACX,KAAA,CAAKvB,GAAL,CAAW,IAAA,CAAKC,MAAL,CAAYiC,UAAZ,CAAuB,IAAvB,CACX,KAAA,CAAKjC,MAAL,CAAYkC,gBAAZ,CAA6B,OAA7B,CAAsC,IAAA,CAAKpD,YAAL,CAAkBqD,IAAlB,CAAuB,IAAvB,CAAtC,CAAoE,CAAA,CAApE,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,WAA7B;AAA0C,IAAA,CAAKE,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAA1C,CAA4E,CAAA,CAA5E,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,SAA7B,CAAwC,IAAA,CAAKG,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAxC,CAAwE,CAAA,CAAxE,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,WAA7B,CAA0C,IAAA,CAAKI,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAA1C,CAAuE,CAAA,CAAvE,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,YAA7B,CAA2C,IAAA,CAAKK,iBAAL,CAAuBJ,IAAvB,CAA4B,IAA5B,CAA3C,CAA8E,CAAA,CAA9E,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,YAA7B,CAA2C,IAAA,CAAKM,iBAAL,CAAuBL,IAAvB,CAA4B,IAA5B,CAA3C,CAA8E,CAAA,CAA9E,CARiB,CADN,CAiBZM,OAAQ,CAAA,CAjBI,CAkBZC,MAAO,IAlBK,CADH,CANJ,CAAd,CA6BA9D,EAAA,CAAU+D,YAAV,EACA,KAAA,CAAK7B,WAAL,CAAmB,CAAA,CApCS,CAHN,CA0CvB8B,oBAAqBA,QAAQ,EAAG,CAC/B,GAAI,IAAJ,CAAS9B,WAAT,CAAsB,CACrB,IAAIM,EAAQ,IAAA,CAAKxC,SAAL,CAAeyC,QAAf,EAGZ,KAAA,CAAK/B,iBAAL;AAAiC,GAAjC,CAAyB8B,CACzB,KAAA,CAAKyB,8BAAL,EAGA,KADA,IAAIC,EAAWtC,GAAA,CAAIuC,QAAJ,CAAaC,QAAb,CAAsB,2BAAtB,CAAmD,IAAnD,CAAwDpE,SAAxD,CAAkEqE,EAAlE,CAAqEC,GAArE,CAAf,CACSC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBL,CAApB,CAA6BM,MAA7B,CAAqCD,CAAA,EAArC,CACa3C,GAAA6C,CAAIC,GAAJD,CAAQP,CAAA,CAASK,CAAT,CAARE,CACZ,CAAME,QAAN,CAAenC,CAAf,CAED,KAAA,CAAKpB,MAAL,CAAYoB,KAAZ,CAAoBA,CAEhBoC,EAAAA,CAAU,EACV,KAAJ,CAASlE,iBAAT,GAA4BkE,CAA5B,CAAsC,EAAtC,CACA,KAAA,CAAKC,eAAL,CAAqBrC,CAArB,CAA6B,IAA7B,CAAkChC,eAAlC,CAAoDoE,CAApD,CACA,KAAA,CAAKE,cAAL,EAEA,KAAA,CAAKC,OAAL,EAGA,KAAA,CAAKC,eAAL,EAEA,KAAA,CAAKC,SAAL,EAxBqB,CADS,CA1CT,CAuEvBC,cAAeA,QAAQ,CAACC,CAAD,CAAM,CAC5B,IAAA,CAAKC,YAAL,CAAkBD,CAAlB,CACA,KAAA,CAAKE,oBAAL,CAA0BF,CAA1B,CACAA,EAAA,CAAIG,UAAJ,CAAiB,GACjBH,EAAA,CAAII,UAAJ,CAAiB,EACsB,EAAA,CAAvC,GAAI,IAAA,CAAK5D,KAAL,CAAW6D,WAAX,CAAuBL,CAAvB,CAA2BzC,EAA3B,CAAJ,CACC,IAAA,CAAKf,KAAL,CAAWgB,GAAX,CAAewC,CAAf,CADD;AAGC,IAAA,CAAKxD,KAAL,CAAW8D,OAAX,CAAmBN,CAAnB,CAAuBzC,EAAvB,CAA2ByC,CAA3B,CAED,KAAA,CAAKxD,KAAL,CAAW+D,IAAX,CAAgB,OAAhB,CAAyB,KAAzB,CAV4B,CAvEN,CAoFvBC,cAAeA,QAAQ,CAACC,CAAD,CAAWC,CAAX,CAAkB,CACxC,IAESC,CAAT,KAASA,CAAT,GAAgBF,EAAhB,CACC,IAAApE,EAAOsE,CAER,KAAA,CAAK/D,YAAL,CAAkBP,CAAlB,CAAA,CAA0B,CAAA,CAEtB2D,EAAAA,CAAM,IAAA,CAAKxD,KAAL,CAAWoE,GAAX,CAAeF,CAAf,CACVjE,IAAA,CAAIoE,KAAJ,CAAUb,CAAV,CAAcc,KAAd,CAAqBL,CAArB,CACqB,KAAAM,CAAKd,YAALc,CAAkBf,CAAlBe,CACrB,CACC,IAAA,CAAKnB,OAAL,EADD,CAGC,IAAA,CAAKM,oBAAL,CAA0BF,CAA1B,CAduC,CApFlB,CAsGvBC,aAAcA,QAAQ,CAACD,CAAD,CAAM,CAC3B,IAAIe,EAAiB,CAAA,CAArB,CACS1E,CAAT,KAASA,CAAT,GAAiB2D,EAAjB,CAAqBc,KAArB,CAA4B,CAS3B,IARA,IAAIE,EAAWhB,CAAA,CAAIc,KAAJ,CAAUzE,CAAV,CAAf,CACI4E,EAAOD,CAAPC,CAAgBC,aAAhBD,CAA8B5B,MADlC,CAEI8B,EAAUnB,CAAVmB,CAAchB,UAAdgB,CAA2BF,CAF/B,CAIIG,EAAkB,EAJtB,CAKIC,EAAW,CALf,CAMIC,EAAkB,CANtB,CAOIC,EAAS,CAPb,CAQSnC,EAAI,CAAb,CAAgBA,CAAhB,CAAoB6B,CAApB,CAA0B7B,CAAA,EAA1B,CAA+B,CAC9B,IAAIoC,EAAIR,CAAA,CAASE,aAAT,CAAuB9B,CAAvB,CACJoC,EAAJ,CAAQF,CAAR,GACCA,CADD,CACmBE,CADnB,CAIAJ,EAAA,CAAgBK,IAAhB,CAAqB,CAAClE,GAAId,GAAA,CAAIc,EAAJ,CAAO,IAAP,CAAa,KAAb,CAAL,CAA0BmE,EAAGH,CAA7B,CAAqCI,KAAMH,CAA3C,CAA8CI,OAAQ,CAAtD,CAAyDC,IAAKzC,CAA9D,CAAiE0C,eAAgBd,CAAA,CAASe,SAAT,CAAmBC,KAAnB,CAAyBX,CAAzB;AAAmCA,CAAnC,EAA6CG,CAA7C,CAAjF,CAArB,CACAD,EAAA,EAAUJ,CAPoB,CAU/BnB,CAAA,CAAIc,KAAJ,CAAUzE,CAAV,CAAA,CAAgBiF,eAAhB,CAAkCA,CAClCtB,EAAA,CAAIc,KAAJ,CAAUzE,CAAV,CAAA,CAAgB4F,GAAhB,CAAsBb,CAElBE,EAAJ,CAAsB,IAAtB,CAA2BlF,OAA3B,CAAmCE,KAAnC,GACCyE,CACA,CADiB,CAAA,CACjB,CAAA,IAAA,CAAKmB,UAAL,CAAgB,CAAC7F,KAAMA,CAAP,CAAaC,MAAOgF,CAApB,CAAhB,CAFD,CAtB2B,CA2B5B,MAAOP,EA7BoB,CAtGL,CAsIvBb,qBAAsBA,QAAQ,CAACF,CAAD,CAAMmC,CAAN,CAAe,CAC5C,IAAIC,EAAaC,IAAA,CAAKC,GAAL,CAAS,IAAT,CAAclG,OAAd,CAAsBE,KAAtB,CAAjB,CACIiG,EAAUF,IAAA,CAAKC,GAAL,CAAS,CAAT,CAAVC,CAAwB,CAD5B,CAGUC,CAAT,KAASA,CAAT,GAAcxC,EAAd,CAAkBc,KAAlB,CAAyB,CACxB,IAAIzE,EAAO2D,CAAA,CAAIc,KAAJ,CAAU0B,CAAV,CACX,IAAInG,CAAJ,GACgB,IADhB,EACK8F,CADL,EACwBK,CADxB,EAC6BL,CAD7B,EAEE,IAAK,IAAI/C,EAAI,CAAb,CAAgBA,CAAhB,CAAoB/C,CAApB,CAAyB4F,GAAzB,CAA6B5C,MAA7B,CAAqCD,CAAA,EAArC,CAA0C,CACzC,IAAIqD,EAASpG,CAAA,CAAK4F,GAAL,CAAS7C,CAAT,CAIZqD,EAAA,CAAOb,MAAP,CAHiB,CAAlB,CAAIa,CAAJ,CAAWd,IAAX,CACeU,IAAAK,CAAKC,GAALD,CAASL,IAAA,CAAKC,GAAL,CAASG,CAAT,CAAgBd,IAAhB,CAATe,CAAgCH,CAAhCG,CADf,CAEwBN,CAFxB,CAEqC,IAFrC,CAE0C7F,SAF1C,CAKiB,CAPwB,CAJpB,CAJkB,CAtItB,CA+JvBqD,QAASA,QAAQ,EAAG,CAMnB,IAAA,CAAKpD,KAAL,CAAWoG,IAAX,CALAC,QAAgB,CAAC7C,CAAD,CAAM,CACrB,IAAA,CAAKC,YAAL,CAAkBD,CAAlB,CACA,KAAA,CAAKE,oBAAL,CAA0BF,CAA1B,CAFqB,CAKtB,CAAyB,IAAzB,CANmB,CA/JG,CA2KvB8C,eAAgBA,QAAQ,EAAG,CAC1B,IAAIC;AAAc,IAAdA,CAAmBxG,SACvB,KAAA,CAAKC,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAMgD,CAAN,CAAa3D,CAAb,CAAqB,CAC5C0D,CAAA,EAAe/C,CAAf,CAAmB7C,MADyB,CAA7C,CAEG,IAFH,CAGA,OAAO4F,EALmB,CA3KJ,CAuLvBlD,gBAAiBA,QAAQ,EAAG,CAC3B,IAAA,CAAKoD,qBAAL,EACA,KAAI9F,EAAS,IAAA,CAAK2F,cAAL,EAAb,CACIjI,EAAY,IAAZA,CAAiBA,SAAjBA,CAA2BsE,GAC/B,IAAkB+D,IAAAA,EAAlB,GAAIrI,CAAJ,CAA6B,CACxBkE,CAAAA,CAAWtC,GAAA,CAAIuC,QAAJ,CAAaC,QAAb,CAAsB,KAAtB,CAA6BpE,CAA7B,CACf,KAAK,IAAIuE,EAAI,CAAb,CAAgBA,CAAhB,CAAoBL,CAApB,CAA6BM,MAA7B,CAAqCD,CAAA,EAArC,CACa3C,GAAA6C,CAAIC,GAAJD,CAAQP,CAAA,CAASK,CAAT,CAARE,CACZ,CAAM6D,SAAN,CAAgBhG,CAAhB,CAJ2B,CAOzB,IAAJ,CAASlB,MAAT,GACC,IADD,CACMA,MADN,CACakB,MADb,CACsBA,CADtB,CAX2B,CAvLL,CA0MvBuC,gBAAiBA,QAAQ,CAACrC,CAAD,CAAQ,CAChC,IAAA,CAAKd,SAAL,CAAiBc,CAAjB,CAAyB,EACzB,KAAA,CAAKjC,cAAL,CAAsBiC,CAAtB,CAA8B,IAA9B,CAAmCd,SAAnC,CAA+C,CAFf,CA1MV,CAkNvB0G,sBAAuBA,QAAQ,EAAG,CACjC,IAAIzH,EAAmC,EAAnCA,CAAkB,IAAlBA,CAAuBe,SAC3B,IAAI,IAAJ,CAASpB,wBAAT,CAAmC,CAClC,IAAI2F;AAAQ,IAARA,CAAajE,WACjB,KAAA,CAAKL,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAMgD,CAAN,CAAa3D,CAAb,CAAqB,CACxClC,CAAAA,CAAS,IAATA,CAAcZ,SAAdY,CAA0B2D,CAA1B3D,CAAgCkC,MACpC,KAASD,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CACMY,CAAA,CAAIc,KAAJ,CAAUA,CAAA,CAAM1B,CAAN,CAAV,CAAL,GACCjC,CADD,EACW,IADX,CACgBZ,SADhB,CAIa,EAAd,EAAIY,CAAJ,GAAiBA,CAAjB,CAA0B,IAA1B,CAA+BZ,SAA/B,CAEAyD,EAAA,CAAI7C,MAAJ,CAAaA,CAAb,CAAsB3B,CATsB,CAA7C,CAUG,IAVH,CAFkC,CAAnC,IAaO,CACN,IAAI2B,EAASkF,IAAA,CAAKM,GAAL,CAAS,IAAT,CAAcpG,SAAd,CAAyB,IAAzB,CAA8Bd,oBAA9B,CACb,KAAA,CAAKe,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAMgD,CAAN,CAAa3D,CAAb,CAAqB,CAC5CW,CAAA,CAAI7C,MAAJ,CAAaA,CAAb,CAAsB3B,CADsB,CAA7C,CAEG,IAFH,CAFM,CAf0B,CAlNX,CAyOvB4H,oBAAqBA,QAAQ,CAACpD,CAAD,CAAM,CAC9BqD,CAAAA,CAAMrD,CAAA,CAAIsD,kBAAJ,EACND,EAAJ,CAAU,IAAV,CAAelH,YAAf,GACC,IADD,CACMA,YADN,CACqBkH,CADrB,CAFkC,CAzOZ,CAgPvBE,cAAeA,QAAQ,CAACvD,CAAD,CAAM,CAC5B,IAAIwD,EAAQxD,CAARwD,CAAYA,KACZ,KAAJ,CAASjI,iBAAT,GAECiI,CAFD,CACa,IAAAR,CAAKxG,KAALwG,CAAWS,OAAXT,CAAmBhD,CAAnBgD,CADb,CAEgB,CAFhB,CAEmB,GAFnB,CAIA,KAAA,CAAKhH,GAAL,CAAS0H,YAAT;AAAwB,KACxB,KAAA,CAAK1H,GAAL,CAAS2H,IAAT,CAAgB,mBAEhB,OADY,KAAA,CAAK3H,GAAL,CAAS4H,WAAT,CAAqBJ,CAArB,CACZ,CADwCnG,KARZ,CAhPN,CA4PvByB,+BAAgCA,QAAQ,EAAG,CAQ1C,IAAA,CAAKtC,KAAL,CAAWoG,IAAX,CAPAiB,QAAgB,CAAC7D,CAAD,CAAMgD,CAAN,CAAa,CACxB3F,CAAAA,CAAQ,IAAA,CAAKkG,aAAL,CAAmBvD,CAAnB,CACZA,EAAA,CAAI8D,UAAJ,CAAiBzG,CACbA,EAAJ,CAAY,IAAZ,CAAiBhC,eAAjB,GACC,IADD,CACMA,eADN,CACwBgC,CADxB,CAH4B,CAO7B,CAAyB,IAAzB,CAR0C,CA5PpB,CAuQvBsC,eAAgBA,QAAQ,EAAG,CAY1B,IAAA,CAAKnD,KAAL,CAAWoG,IAAX,CAXAmB,QAAiB,CAAC/D,CAAD,CAAMgD,CAAN,CAAa,CAG5B7C,CAAA,CADG,IAAJ,CAASjF,mBAAT,CACc,IADd,CACmBE,cADnB,CAGkBiH,IAAA,CAAKC,GAAL,CAAStC,CAAA,CAAIsD,kBAAJ,EAAT,CAHlB,CAGuDjB,IAAA,CAAKC,GAAL,CAAS,IAAT,CAAcnG,YAAd,CAHvD,CAI2B,IAJ3B,CAIgCf,cAEhC4E,EAAA,CAAIG,UAAJ,CAAiBA,CARY,CAW9B,CAA0B,IAA1B,CAZ0B,CAvQJ,CAsRvBL,UAAWA,QAAQ,CAACkE,CAAD,CAAgB,CACX,IAAvB,EAAI,IAAJ,CAASnI,UAAT,EAA6BoI,aAAA,CAAc,IAAd,CAAmBpI,UAAnB,CAEzB;IAAJ,CAASF,SAAT,CACC,IADD,CACME,UADN,CACmBqI,WAAA,CAAY,IAAA,CAAKC,MAAL,CAAY/F,IAAZ,CAAiB,IAAjB,CAAuB,CAAC4F,CAAD,CAAvB,CAAZ,CAAqD,IAArD,CAA0DhJ,QAA1D,CADnB,CAGCoJ,UAAA,CAAW,IAAA,CAAKD,MAAL,CAAY/F,IAAZ,CAAiB,IAAjB,CAAuB,CAAC4F,CAAD,CAAvB,CAAX,CAAoD,CAApD,CANiC,CAtRZ,CAgSvBG,OAAQA,QAAQ,CAACH,CAAD,CAAgB,CAC/B,IAAA,CAAKK,WAAL,EACA,KAAA,CAAK3I,MAAL,CAAc,IAAd,CAAmBa,SACG,EAAA,CAAtB,GAAIyH,CAAJ,GAA4B,IAA5B,CAAiCtI,MAAjC,EAA2C,EAA3C,CACA,KAAA,CAAKc,KAAL,CAAWoG,IAAX,CAAgB,IAAhB,CAAqB0B,YAArB,CAAmC,IAAnC,CACsB,EAAA,CAAtB,GAAIN,CAAJ,CAA4B,IAAA,CAAKO,UAAL,EAA5B,CACK,IAAA,CAAKC,WAAL,EACL,KAAA,CAAKC,MAAL,EAP+B,CAhST,CA0SvBH,aAAcA,QAAQ,CAACtE,CAAD,CAAMgD,CAAN,CAAa0B,CAAb,CAAwB,CAC7C,GAAI,CAAC1E,CAAD,CAAK2E,MAAT,CAAiB,CAChB,IAAIxE,EAAaH,CAAbG,CAAiBA,UAArB,CACIyE,EAAc,IAAdA,CAAmBvJ,eAAnBuJ,CAAqC5E,CAArC4E,CAAyCd,UAD7C,CAGIvC,EAAS,CAEb,KAAA,CAAKvF,GAAL,CAAS0H,YAAT,CAAwB,KACxB,KAAA,CAAK1H,GAAL,CAAS2H,IAAT,CAAgB,mBAEhB,IAAqB,IAArB,EAAI,IAAJ,CAASzH,QAAT;AAA6B,IAA7B,CAAkCA,QAAlC,CAA2C2I,QAA3C,EAAuD7B,CAAvD,CACC,IAGA,CAHKhH,GAGL,CAHS8I,SAGT,CAHqB,0BAGrB,CAFAvD,CAEA,EAFUqD,CAEV,CADA,IAAA,CAAK5I,GAAL,CAAS+I,QAAT,CAAkB/E,CAAlB,CAAsBwD,KAAtB,CAA6BjC,CAA7B,CAAqC,IAArC,CAA0C7F,MAA1C,CACA,CAAI,IAAJ,CAASP,wBAAT,GACC,IADD,CACMO,MADN,EACgBsE,CADhB,CACoB7C,MADpB,CAJD,KAOO,CA0BG6H,CAAAA,CAATA,QAAiB,EAAG,CACnBzD,CAAA,CAAS0D,CAAT,CAAc5J,eAAd,CAAgC4J,CAAhC,CAAqC1I,SACrC0I,EAAA,CAAKjJ,GAAL,CAASkJ,WAAT,CAAuB,0BACvBD,EAAA,CAAKjJ,GAAL,CAAS8I,SAAT,CAAqB,0BACrBG,EAAA,CAAKjJ,GAAL,CAASmJ,SAAT,CAAqB,GAErBF,EAAA,CAAKjJ,GAAL,CAASoJ,SAAT,EACAH,EAAA,CAAKjJ,GAAL,CAASqJ,MAAT,CAAgB9D,CAAhB,CAAwB0D,CAAxB,CAA6BvJ,MAA7B,CAAoC,CAApC,CACAuJ,EAAA,CAAKjJ,GAAL,CAASsJ,MAAT,CAAgB/D,CAAhB,CAAwB0D,CAAxB,CAA6BvJ,MAA7B,CAAoC,CAApC,CACAuJ,EAAA,CAAKjJ,GAAL,CAASuJ,MAAT,EAEAN,EAAA,CAAKjJ,GAAL,CAASoJ,SAAT,EACAH,EAAA,CAAKjJ,GAAL,CAASqJ,MAAT,CAAgB9D,CAAhB,CAAwB0D,CAAxB,CAA6BvJ,MAA7B,CACAuJ,EAAA,CAAKjJ,GAAL,CAASsJ,MAAT,CAAgB/D,CAAhB,CAAyBpB,CAAzB,CAAqC8E,CAArC,CAA0CvJ,MAA1C,CACAuJ,EAAA,CAAKjJ,GAAL,CAASuJ,MAAT,EAEAN;CAAA,CAAKjJ,GAAL,CAASoJ,SAAT,EACAH,EAAA,CAAKjJ,GAAL,CAASqJ,MAAT,CAAgB9D,CAAhB,CAAyBpB,CAAzB,CAAqC8E,CAArC,CAA0CvJ,MAA1C,CAAiD,CAAjD,CACAuJ,EAAA,CAAKjJ,GAAL,CAASsJ,MAAT,CAAgB/D,CAAhB,CAAyBpB,CAAzB,CAAqC8E,CAArC,CAA0CvJ,MAA1C,CAAiD,CAAjD,CACAuJ,EAAA,CAAKjJ,GAAL,CAASuJ,MAAT,EAnBmB,CAxBhB,KAAJ,CAASjK,WAAT,GACCiG,CAYA,EAZUqD,CAYV,CAHA,IAGA,CAHK5I,GAGL,CAHS8I,SAGT,CAHqB,0BAGrB,CAFItB,CAEJ,CAFYxD,CAEZ,CAFgBwD,KAEhB,CADI,IACJ,CADSjI,iBACT,GAD4BiI,CAC5B,CADqCR,CACrC,CAD2C,CAC3C,CAD8C,GAC9C,EAAA,IAAA,CAAKhH,GAAL,CAAS+I,QAAT,CAAkBvB,CAAlB,CAAyBjC,CAAzB,CAAiC,IAAjC,CAAsC7F,MAAtC,CAbD,CAoBA,KAAA,CAAKA,MAAL,EAAe,CAGf,KAAIuJ,EAAO,IA6BN,KAAL,CAAU9J,wBAAV,CAE+B,IAF/B,EAEW,IAFX,CAEgB0B,WAFhB,EAEmE,CAFnE,GAEuC,IAFvC,CAE4CA,WAF5C,CAEwDwC,MAFxD,EAGC2F,CAAA,EAHD,CACCA,CAAA,EAMGQ,EAAAA,CAAgB,CAAhBA,CAAMnD,IAANmD,CAAWC,EAEf,KAAIC,EAAY,CAChB1F,EAAA,CAAII,UAAJ,CAAiB,EACjB,KAAIU,EAAQd,CAARc,CAAYA,KAAhB,CACI6E,EAAwD,IAAxDA,EAAsB,IAAA,CAAK5J,kBAAL,CAAwBiH,CAAxB,CAD1B,CAEI4C,EAAa,CAFjB,CAGSpD,CAAT,KAASA,CAAT,GAAc1B,EAAd,CACC,GAAoC,EAApC,GAAI,IAAA,CAAKjE,WAAL,CAAiB4G,OAAjB,CAAyBjB,CAAzB,CAAJ,CAAwC,CACvC,IAAIqD;AAAO/E,CAAA,CAAM0B,CAAN,CACX,IAAIqD,CAAJ,CAAU,CACTD,CAAA,EACI,KAAJ,CAASzK,wBAAT,EACC6J,CAAA,EAGD,KAAIc,EAAc,CAAlB,CAEIC,EAAIF,CAAA,CAAKG,KAAL,CAAWC,IAAX,CAAgB,GAAhB,CACR,KAAA,CAAKjK,GAAL,CAASkJ,WAAT,CAAuB,OAAvB,CAA+Ba,CAA/B,CAAiC,MACjC,KAAA,CAAK/J,GAAL,CAAS8I,SAAT,CAAqB,OAArB,CAA6BiB,CAA7B,CAA+B,SAC/B,KAAA,CAAK/J,GAAL,CAASmJ,SAAT,CAAqB,GAErBO,EAAA,EAAaG,CAAb,CAAkBK,OAClBJ,EAAA,EAAeD,CAAf,CAAoBK,OAIpB,KAFA,IAAIC,EAAmBR,CAAnBQ,EAA0C,IAAA,CAAKpK,kBAAL,CAAwBiH,CAAxB,CAAA,CAA+BR,CAA/B,CAA9C,CAESpD,EAAI,CAAb,CAAgBA,CAAhB,CAAoByG,CAApB,CAAyB5D,GAAzB,CAA6B5C,MAA7B,CAAqCD,CAAA,EAArC,CAA0C,CACzC,IAAIgH,EAAIP,CAAA,CAAK5D,GAAL,CAAS7C,CAAT,CACR,IAAe,CAAf,CAAIgH,CAAJ,CAAMxE,MAAN,CAAkB,CACjB,IAAIyE,EAAkB,CAAA,CAClBF,EAAJ,EAAwB,IAAA,CAAKpK,kBAAL,CAAwBiH,CAAxB,CAAA,CAA+BR,CAA/B,CAAxB,EAA6D4D,CAA7D,CAA+D7I,EAA/D,GACC,IAGA,CAHKvB,GAGL,CAHSkJ,WAGT,CAHuB,qBAGvB,CAFA,IAEA,CAFKlJ,GAEL,CAFS8I,SAET,CAFqB,OAErB,CAF6BiB,CAE7B,CAF+B,QAE/B,CADA,IACA,CADK/J,GACL,CADSmJ,SACT,CADqB,CACrB,CAAAkB,CAAA,CAAkB,CAAA,CAJnB,CAOA,KAAA,CAAKrK,GAAL,CAASoJ,SAAT,EACA,KAAA,CAAKpJ,GAAL,CAASsK,GAAT,CAAaF,CAAb,CAAe1E,CAAf,CAAiBH,CAAjB,CAAyB,IAAzB,CAA8B7F,MAA9B;AAAsC0K,CAAtC,CAAwCxE,MAAxC,CAAgD,CAAhD,CAAmD4D,CAAnD,CAAwD,CAAA,CAAxD,CACA,KAAA,CAAKxJ,GAAL,CAASuK,SAAT,EACA,KAAA,CAAKvK,GAAL,CAASwK,IAAT,EACA,KAAA,CAAKxK,GAAL,CAASuJ,MAAT,EAEIc,EAAJ,GACC,IAEA,CAFKrK,GAEL,CAFSkJ,WAET,CAFuB,OAEvB,CAF+Ba,CAE/B,CAFiC,MAEjC,CADA,IACA,CADK/J,GACL,CADS8I,SACT,CADqB,OACrB,CAD6BiB,CAC7B,CAD+B,SAC/B,CAAA,IAAA,CAAK/J,GAAL,CAASmJ,SAAT,CAAqB,GAHtB,CAfiB,CAFuB,CAwB1CnF,CAAA,CAAII,UAAJ,CAAeoC,CAAf,CAAA,CAAoBsD,CAEhB,KAAJ,CAAS3K,wBAAT,GACC,IAIA,CAJKa,GAIL,CAJS8I,SAIT,CAJqB,oBAIrB,CAHA,IAGA,CAHK9I,GAGL,CAHS2H,IAGT,CAHgB,cAGhB,CAFA,IAAA,CAAK3H,GAAL,CAAS+I,QAAT,CAAkBe,CAAlB,CAA+BvE,CAA/B,CAAwCpB,CAAxC,CAAqD,CAArD,CAAwD,IAAxD,CAA6DzE,MAA7D,CAAoE,CAApE,CAEA,CAAA,IAAA,CAAKA,MAAL,EAAe,IAAf,CAAoBa,SALrB,CA5CS,CAF6B,CAyDrC,IAAJ,CAASpB,wBAAT,EAAmD,CAAnD,EAAqCyK,CAArC,GACCZ,CAAA,EAMA,CAJA,IAIA,CAJKhJ,GAIL,CAJS8I,SAIT,CAJqB,oBAIrB,CAHA,IAGA,CAHK9I,GAGL,CAHS2H,IAGT,CAHgB,cAGhB,CAFA,IAAA,CAAK3H,GAAL,CAAS+I,QAAT,CAAkB,CAAlB,CAAqBxD,CAArB;AAA8BpB,CAA9B,CAA2C,CAA3C,CAA8C,IAA9C,CAAmDzE,MAAnD,CAA0D,CAA1D,CAEA,CAAA,IAAA,CAAKA,MAAL,EAAe,IAAf,CAAoBa,SAPrB,CAUAgF,EAAA,EAAUpB,CAEL,KAAL,CAAUhF,wBAAV,GACC,IAEA,CAFKa,GAEL,CAFS8I,SAET,CAFqB,oBAErB,CADA,IACA,CADK9I,GACL,CADS2H,IACT,CADgB,cAChB,CAAA,IAAA,CAAK3H,GAAL,CAAS+I,QAAT,CAAkBW,CAAlB,CAA6BnE,CAA7B,CAAsC,CAAtC,CAAyC,IAAzC,CAA8C7F,MAA9C,CAAqD,CAArD,CAHD,CA1IM,CAoJN,IAAA,CAAKA,MAAL,CAHI,IAAL,CAAUP,wBAAV,CAGC,IAHD,CAGMO,MAHN,CAGiC,EAHjC,CAGgB,IAHhB,CAGqBa,SAHrB,CACC,IADD,CACMb,MADN,CACgBsE,CADhB,CACoB7C,MAMpB,KAAA,CAAKzB,MAAL,EAAe,CAxKC,CAD4B,CA1SvB,CA0dvB6I,WAAYA,QAAQ,EAAG,CACtB,IAAI7C,EAAI,IAAJA,CAASrG,eAATqG,CAA2B,IAA3BA,CAAgCnF,SAEpC,KAAA,CAAKP,GAAL,CAAS0H,YAAT,CAAwB,KACxB,KAAA,CAAK1H,GAAL,CAAS2H,IAAT,CAAgB,YACZ,KAAJ,CAAS8C,SAAT,EACC,IAAA,CAAKA,SAAL,CAAe7D,IAAf,CAAoB,QAAQ,CAAC8D,CAAD,CAAS,CACpC,IAAIV,EAAQU,CAAA,CAAO9F,GAAP,CAAW,OAAX,CAAA,CAAoBqF,IAApB,CAAyB,GAAzB,CACZ;IAAA,CAAKjK,GAAL,CAAS8I,SAAT,CAAqB,MAArB,CAA4BkB,CAA5B,CAAkC,GAC9BW,EAAAA,CAAOD,CAAA,CAAO9F,GAAP,CAAW,MAAX,CACX,KAAA,CAAK5E,GAAL,CAAS+I,QAAT,CAAkB4B,CAAlB,CAAwBjF,CAAxB,CARMkF,CAQN,CACIvJ,EAAAA,CAAQ,IAAA,CAAKrB,GAAL,CAAS4H,WAAT,CAAqB+C,CAArB,CAARtJ,CAAmCA,KACvCqE,EAAA,EAAKrE,CAAL,CAAa,CANuB,CAArC,CAOG,IAPH,CANqB,CA1dA,CA2evBmH,YAAaA,QAAQ,EAAG,CACvB,GAA8B,CAA9B,CAAI,IAAJ,CAAS1I,WAAT,CAAqBuD,MAArB,CAAiC,CAChC,IAAA,CAAKrD,GAAL,CAASmJ,SAAT,CAAqB,EACrB,KAAA,CAAKnJ,GAAL,CAAS8I,SAAT,CAAqB,0BACrB,KAAA,CAAK9I,GAAL,CAASkJ,WAAT,CAAuB,oBAEvB,KAAIxD,EAAI,IAAA,CAAK5F,WAAL,CAAiB,CAAjB,CAAJ4F,CAAwBA,CAA5B,CACIkF,EAAI,IAAA,CAAK9K,WAAL,CAAiB,CAAjB,CAAJ8K,CAAwBA,CAExBlF,EAAJ,CADYrE,GACZ,CAAgB,IAAhB,CAAqBpB,MAArB,CAA4BoB,KAA5B,GACCqE,CADD,EADYrE,GACZ,CAKA,IAD2C,IAC3C,EADc,IAAA,CAAKvB,WAAL,CAAiB,CAAjB,CACd,CADkC+K,KAClC,CAAa,CACZ,IAAI7G,EAAM,IAAA,CAAKxD,KAAL,CAAWoE,GAAX,CAAe,IAAA,CAAK9E,WAAL,CAAiB,CAAjB,CAAf,CAAmCgL,QAAnC,CACNC,KAAAA,EAAQ,CACZ,KAAKvE,IAAIA,CAAT,GAAcxC,EAAd,CAAkBI,UAAlB,CACC2G,CAAA,EAEQA,EAAT,EAAiB,EACbH,EAAJ;AAAQzJ,CAAR,CAAiB,IAAjB,CAAsBlB,MAAtB,CAA6BkB,MAA7B,GACCyJ,CADD,EACMzJ,CADN,CAGA,KAAA,CAAKnB,GAAL,CAASgL,QAAT,CAAkBtF,CAAlB,CAAqBkF,CAArB,CAhBWvJ,GAgBX,CAA+BF,CAA/B,CACA,KAAA,CAAKnB,GAAL,CAASiL,UAAT,CAAoBvF,CAApB,CAAuBkF,CAAvB,CAjBWvJ,GAiBX,CAAiCF,CAAjC,CACAuE,EAAA,EAAK,EACLkF,EAAA,EAAK,EACL,KAAA,CAAK5K,GAAL,CAAS8I,SAAT,CAAqB,oBACrB,KAAA,CAAK9I,GAAL,CAAS2H,IAAT,CAAgB,cAEhB,KAASnB,CAAT,GAAcxC,EAAd,CAAkBI,UAAlB,CAGC,IAAA,CAAKpE,GAAL,CAAS+I,QAAT,CAAkBvC,CAAlB,CAAoB,IAApB,CAFWxC,CAAA2B,CAAIvB,UAAJuB,CAAea,CAAfb,CAEX,CAA+BD,CAA/B,CAAkCkF,CAAlC,CAAqC,EAArC,CACA,CAAAA,CAAA,EAAK,EArBM,CAAb,IAoCC,KAVAzJ,CAUSiC,CAV0B,EAU1BA,CAVA,IAUAA,CAVKtD,WAULsD,CAViBC,MAUjBD,CAV+B,EAU/BA,CATLwH,CASKxH,CATDjC,CASCiC,CATQ,IASRA,CATanD,MASbmD,CAToBjC,MASpBiC,GARRwH,CAQQxH,EARHjC,CAQGiC,EANT,IAAA,CAAKpD,GAAL,CAASgL,QAAT,CAAkBtF,CAAlB,CAAqBkF,CAArB,CApCWvJ,GAoCX,CAA+BF,CAA/B,CAMSiC,CALT,IAAA,CAAKpD,GAAL,CAASiL,UAAT,CAAoBvF,CAApB,CAAuBkF,CAAvB,CArCWvJ,GAqCX,CAAiCF,CAAjC,CAKSiC,CAJTsC,CAIStC,EAJJ,EAIIA,CAHTwH,CAGSxH,EAHJ,EAGIA,CAFT,IAESA,CAFJpD,GAEIoD,CAFA0F,SAEA1F,CAFY,oBAEZA,CADT,IACSA,CADJpD,GACIoD,CADAuE,IACAvE,CADO,cACPA,CAAAA,CAAAA,CAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBtD,WAAzB,CAAqCuD,MAArC,CAA6CD,CAAA,EAA7C,CACKgH,CAEJ,CAFQ,IAAA,CAAKtK,WAAL,CAAiBsD,CAAjB,CAER;AADA,IAAA,CAAKpD,GAAL,CAAS+I,QAAT,CAAkBqB,CAAlB,CAAoBS,KAApB,CAA0B,IAA1B,CAA+BT,CAA/B,CAAiCzE,IAAjC,CAAuCD,CAAvC,CAA0CkF,CAA1C,CAA6C,EAA7C,CACA,CAAAA,CAAA,EAAK,EAIoB,KAA3B,EAAI,IAAJ,CAAShL,cAAT,GACC,IADD,CACMA,cADN,CACuBwI,UAAA,CAAW,IAAA,CAAK8C,YAAL,CAAkB9I,IAAlB,CAAuB,IAAvB,CAAX,CAAyC,IAAzC,CAA8CnD,aAA9C,CADvB,CAxDgC,CADV,CA3eD,CA0iBvBiM,aAAcA,QAAQ,EAAG,CACxB,IAAA,CAAKpL,WAAL,CAAmB,EACnBqL,aAAA,CAAa,IAAb,CAAkBvL,cAAlB,CACA,KAAA,CAAKA,cAAL,CAAsB,IAHE,CA1iBF,CAgjBvB4C,kBAAmBA,QAAQ,CAAC4I,CAAD,CAAQ,CAClC,IAAA,CAAKzL,SAAL,CAAiB,CAAA,CACjB,KAAA,CAAKmE,SAAL,EAFkC,CAhjBZ,CAqjBvBrB,kBAAmBA,QAAQ,CAAC2I,CAAD,CAAQ,CAClC,IAAA,CAAKzL,SAAL,CAAiB,CAAA,CACM,KAAvB,EAAI,IAAJ,CAASE,UAAT,EAA6BoI,aAAA,CAAc,IAAd,CAAmBpI,UAAnB,CAE7B,KAAA,CAAKC,WAAL,CAAmB,EACnB,KAAA,CAAKgE,SAAL,EALkC,CArjBZ,CA6jBvBvB,YAAaA,QAAQ,CAAC6I,CAAD,CAAQ,CAC5B,IAAA,CAAKF,YAAL,EAEA;IAAA,CAAKpL,WAAL,CAAmB,EACnB,KAAI4F,EAAI0F,CAAJ1F,CAAU2F,MAAV3F,CAAmB,IAAnBA,CAAwBrG,eAA5B,CACIuL,EAAIQ,CAAJR,CAAUU,MADd,CAGIC,EAA2B,GAA3BA,CAAY,IAAZA,CAAiBhL,SAHrB,CAKIuK,EAAW,EACf,KAAA,CAAKtK,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAMgD,CAAN,CAAa3D,CAAb,CAAqB,CAC5C,GAAIuH,CAAJ,CAAQW,CAAR,CACC,MAAO,CAAA,CAEPA,EAAA,EAAavH,CAAb,CAAiB7C,MACjB,IAAIyJ,CAAJ,CAAQW,CAAR,CAEC,MADAT,EACO,CADI9D,CACJ,CAAA,CAAA,CAPmC,CAA7C,CAUG,IAVH,CAYA,IAAqB,IAArB,EAAI,IAAJ,CAAS9G,QAAT,CACC,IAcA,CAdKA,QAcL,CAdcwF,CAcd,CAdkB0F,CAclB,CAdwBC,MAcxB,CAbA,IAaA,CAbKnL,QAaL,CAbc0K,CAad,CAbkBA,CAalB,CAXIE,CAAJ,EAAgB,IAAA,CAAKtK,KAAL,CAAWgL,QAAX,EAAhB,CACCV,CADD,CACY,IAAA,CAAKtK,KAAL,CAAWgL,QAAX,EADZ,CACkC,CADlC,CAEsB,CAFtB,CAEWV,CAFX,GAIEA,CAJF,CAGKF,CAAJ,CAAQ,IAAR,CAAarK,SAAb,CAAyB,IAAzB,CAA8BN,MAA9B,CAAqCkB,MAArC,CACY,IAAA,CAAKX,KAAL,CAAWgL,QAAX,EADZ,CACkC,CADlC,CAGY,CANb,CAWA,CADA,IACA,CADKtL,QACL,CADcuL,QACd,CADyBX,CACzB,CAAA9I,QAAA,CAAS0J,IAAT,CAAcC,KAAd,CAAoBC,MAApB,CAA6B,MAf9B,KAiBC,IAAgB,CAAhB,EAAId,CAAJ,EAAqBA,CAArB,CAAgC,IAAA,CAAKtK,KAAL,CAAWgL,QAAX,EAAhC,CACC,GAAS,CAAT,EAAI9F,CAAJ,CAAY,CACX,IAAImG,EAAc,CAAA,CAClBnG,EAAA,EAAK,IAAL,CAAUnF,SAEV;IAAIyD,EAAM,IAAA,CAAKxD,KAAL,CAAWoE,GAAX,CAAekG,CAAf,CACV,IAAIpF,CAAJ,EAAS1B,CAAT,CAAaG,UAAb,CACC,IAAA,CAAKrE,WAAL,CAAmB,CAAC,CACnBgL,SAAUA,CADS,CAEnBpF,EAAG0F,CAAH1F,CAAS2F,MAAT3F,CAAgB,EAFG,CAGnBkF,EAAGQ,CAAHR,CAASU,MAATV,CAAgB,EAHG,CAAD,CADpB,KAMO,CAEFrF,CAAAA,CAASc,IAAA,CAAKyF,KAAL,CAAWpG,CAAX,EADC1B,CACD,CADKG,UACL,CADkB,IAClB,CADuBrD,aACvB,EACb,KAAIiL,EAAgB,IAAhBA,CAAqBxL,SACV,EAAf,CAAIuK,CAAJ,GACCiB,CADD,CACiBR,CADjB,EAC8B,IAAA,CAAK/K,KAAL,CAAWoE,GAAX,CAAekG,CAAf,CAD9B,CACuD3J,MADvD,CAC+E,GAD/E,CACgE,IADhE,CACqEZ,SADrE,EAGIb,EAAAA,CAAS2G,IAAA,CAAKyF,KAAL,EAAYlB,CAAZ,CAAgBmB,CAAhB,EAAiC,IAAjC,CAAsCxL,SAAtC,CAEb,KAAIwK,EAAQ,CAAZ,CACSvE,CAAT,KAASA,CAAT,GAAcxC,EAAd,CAAkBc,KAAlB,CACC,GAAoC,EAApC,GAAI,IAAA,CAAKjE,WAAL,CAAiB4G,OAAjB,CAAyBjB,CAAzB,CAAJ,CAAwC,CACvC,IAAImE,EAAO3G,CAAA,CAAIc,KAAJ,CAAU0B,CAAV,CACPmE,EAAJ,EACK,IADL,CACUxL,wBADV,EACsC4L,CADtC,EAC+CrL,CAD/C,EACyD,CAAC,IAAD,CAAMP,wBAD/D,GAEMwL,CAAA,CAAK1E,GAAL,CAASV,CAAT,CAFN,EAEoD,CAFpD,CAE0BoF,CAAA,CAAK1E,GAAL,CAASV,CAAT,CAF1B,CAE2CK,MAF3C,GAGGiG,CACA,CADc,CAAA,CACd,CAAA,IAAA,CAAK/L,WAAL,CAAiB2F,IAAjB,CAAsB,CACrBoF,MAAOrE,CADc,CAErBmE,KAAMA,CAFe,CAGrBjG,MAAOV,CAAPU,CAAWnD,EAHU;AAIrBuJ,SAAUA,CAJW,CAKrBvF,OAAQA,CALa,CAMrB7F,OAAQA,CANa,CAOrBiG,KAAMgF,CAAA,CAAK1E,GAAL,CAASV,CAAT,CAANI,CAAuBA,IAPF,CAQrBpE,GAAIoJ,CAAA,CAAK1E,GAAL,CAASV,CAAT,CAAJhE,CAAqBA,EARA,CASrBuE,eAAgB6E,CAAA,CAAK1E,GAAL,CAASV,CAAT,CAAhBO,CAAiCA,cATZ,CAUrBJ,EAAG0F,CAAH1F,CAAS2F,MAAT3F,CAAgB,EAVK,CAWrBkF,EAAGQ,CAAHR,CAASU,MAATV,CAAgB,EAXK,CAAtB,CAJH,EAmBW,IAnBX,CAmBgBzL,wBAnBhB,EAmB0C4L,CAAA,EAC1CA,EAAA,EAtBuC,CAXnC,CAsCN/I,QAAA,CAAS0J,IAAT,CAAcC,KAAd,CAAoBC,MAApB,CADGC,CAAJ,CAC8B,SAD9B,CAG8B,MAnDnB,CAAZ,IAsDC7J,SAAA,CAAS0J,IAAT,CAAcC,KAAd,CAAoBC,MAApB,CAA6B,MAvD/B,KA0DC5J,SAAA,CAAS0J,IAAT,CAAcC,KAAd,CAAoBC,MAApB,CAA6B,MAjGH,CA7jBN,CAmqBvBvJ,iBAAkBA,QAAQ,CAAC+I,CAAD,CAAQ,CACjC,IAAI1F,EAAI0F,CAAJ1F,CAAU2F,MAAd,CACIT,EAAIQ,CAAJR,CAAUU,MACd,IAAI5F,CAAJ,CAAQ,IAAR,CAAarG,eAAb,CAA8B,CAE7B,IAAIkM,EAA2B,GAA3BA,CAAY,IAAZA,CAAiBhL,SAArB,CACIuK,EAAW,EACf,KAAA,CAAKtK,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAMgD,CAAN,CAAa3D,CAAb,CAAqB,CAC5C,GAAIuH,CAAJ,CAAQW,CAAR,CACC,MAAO,CAAA,CAEPA,EAAA,EAAavH,CAAb,CAAiB7C,MACjB,IAAIyJ,CAAJ,CAAQW,CAAR,CAEC,MADAT,EACO,CADI9D,CACJ,CAAA,CAAA,CAPmC,CAA7C,CAUG,IAVH,CAYgB,EAAhB;AAAI8D,CAAJ,EAAqBA,CAArB,CAAgC,IAAA,CAAKtK,KAAL,CAAWgL,QAAX,EAAhC,GAGC,IAHD,CAGMtL,QAHN,CAGiB,CACf2I,SAAUiC,CADK,CAEfW,SAAUX,CAFK,CAGfkB,QALatG,CAKbsG,CALiB,CAEF,CAIfC,QALaA,CACE,CAKfvG,EAAGA,CALY,CAMfkF,EAAGA,CANY,CAHjB,CAhB6B,CAHG,CAnqBX,CAqsBvBtI,eAAgBA,QAAQ,CAAC8I,CAAD,CAAQ,CAC/B,IAAA,CAAKlL,QAAL,CAAgB,IADe,CArsBT,CAysBvBuI,OAAQA,QAAQ,EAAG,CAClB,GAAqB,IAArB,EAAI,IAAJ,CAASvI,QAAT,CAA2B,CAE1B,IADA,IAAIgM,EAAW,EAAf,CACS9I,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAAA,CAAK5C,KAAL,CAAWgL,QAAX,EAApB,CAA2CpI,CAAA,EAA3C,CACKA,CAAJ,CAAQ,IAAR,CAAalD,QAAb,CAAsB2I,QAAtB,EAAkCzF,CAAlC,CAAsC,IAAtC,CAA2ClD,QAA3C,CAAoDuL,QAApD,CACCS,CAAA,CAAS9I,CAAT,CADD,CACeA,CADf,CAEWA,CAAJ,CAAQ,IAAR,CAAalD,QAAb,CAAsB2I,QAAtB,EAAkCzF,CAAlC,EAAuC,IAAvC,CAA4ClD,QAA5C,CAAqDuL,QAArD,CACNS,CAAA,CAAS9I,CAAT,CADM,CACQA,CADR,CACY,CADZ,CAEIA,CAAJ,EAAS,IAAT,CAAclD,QAAd,CAAuB2I,QAAvB,CACNqD,CAAA,CAAS9I,CAAT,CADM,CACQ,IADR,CACalD,QADb,CACsBuL,QADtB,CAEIrI,CAAJ,CAAQ,IAAR,CAAalD,QAAb,CAAsB2I,QAAtB,EAAkCzF,CAAlC,CAAsC,IAAtC,CAA2ClD,QAA3C,CAAoDuL,QAApD,CACNS,CAAA,CAAS9I,CAAT,CADM,CACQA,CADR,CAEIA,CAFJ,CAEQ,IAFR,CAEalD,QAFb,CAEsB2I,QAFtB,EAEkCzF,CAFlC,EAEuC,IAFvC,CAE4ClD,QAF5C,CAEqDuL,QAFrD;CAGNS,CAAA,CAAS9I,CAAT,CAHM,CAGQA,CAHR,CAGY,CAHZ,CAMR,KAAA,CAAKlD,QAAL,CAAc2I,QAAd,CAAyB,IAAzB,CAA8B3I,QAA9B,CAAuCuL,QAEvC,KAAA,CAAKjL,KAAL,CAAW2L,OAAX,CAAmBD,CAAnB,CAEIlI,EAAAA,CAAM,IAAA,CAAKxD,KAAL,CAAWoE,GAAX,CAAe,IAAf,CAAoB1E,QAApB,CAA6B2I,QAA7B,CACV,KAAA,CAAK7I,GAAL,CAAS8I,SAAT,CAAqB,wBACrB,KAAA,CAAK9I,GAAL,CAAS0H,YAAT,CAAwB,KACxB,KAAA,CAAK1H,GAAL,CAAS2H,IAAT,CAAgB,mBAEhB,KAAA,CAAK3H,GAAL,CAAS+I,QAAT,CAAkB/E,CAAlB,CAAsBwD,KAAtB,CAA6B,IAA7B,CAAkCtH,QAAlC,CAA2CwF,CAA3C,CAA+C,IAA/C,CAAoDxF,QAApD,CAA6D8L,OAA7D,CAAsE,IAAtE,CAA2E9L,QAA3E,CAAoF0K,CAApF,CAAwF,IAAxF,CAA6F1K,QAA7F,CAAsG+L,OAAtG,CAxB0B,CADT,CAzsBI,CAsuBvBlN,aAAcA,QAAQ,CAACqM,CAAD,CAAQ,CAC7B,IAAA,CAAKrL,kBAAL,CAA0B,EAC1B,IAA8B,CAA9B,CAAI,IAAJ,CAASD,WAAT,CAAqBuD,MAArB,EAAmC,IAAA,CAAKvD,WAAL,CAAiB,CAAjB,CAAnC,CAAuD+K,KAAvD,CAA8D,CACzDuB,CAAAA,CAAO,EAGX,KAFA,IAAItG,EAAiB,EAArB,CACIuG,EAAW,EADf,CAESjJ,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBtD,WAAzB,CAAqCuD,MAArC,CAA6CD,CAAA,EAA7C,CAAkD,CACjD,IAAIgH;AAAI,IAAA,CAAKtK,WAAL,CAAiBsD,CAAjB,CAERiJ,EAAA,CAAS5G,IAAT,CAAc,CAACpF,KAAM+J,CAAN/J,CAAQwK,KAAT,CAAgBC,SAAUV,CAAVU,CAAYA,QAA5B,CAAsCpG,MAAO0F,CAAP1F,CAASA,KAA/C,CAAsDoB,eAAgBsE,CAAhBtE,CAAkBA,cAAxE,CAAd,CAE2C,KAA3C,EAAI,IAAA,CAAK/F,kBAAL,CAAwBqK,CAAxB,CAA0BU,QAA1B,CAAJ,GACC,IAAA,CAAK/K,kBAAL,CAAwBqK,CAAxB,CAA0BU,QAA1B,CADD,CACuC,EADvC,CAGA,KAAA,CAAK/K,kBAAL,CAAwBqK,CAAxB,CAA0BU,QAA1B,CAAA,CAAoCV,CAApC,CAAsCS,KAAtC,CAAA,CAA+CT,CAA/C,CAAiD7I,EACjD6K,EAAA,CAAK3G,IAAL,CAAU2E,CAAV,CAAY1F,KAAZ,CAAkB,GAAlB,CAAsB0F,CAAtB,CAAwBS,KAAxB,CACA/E,EAAA,CAAeL,IAAf,CAAoB2E,CAApB,CAAsBtE,cAAtB,CAViD,CAYlDA,CAAA,CAAiBrF,GAAA,CAAI6L,OAAJ,CAAYxG,CAAZ,CACjBA,EAAA,CAAevB,IAAf,EAEkC2C,KAAAA,EAAlC,GAAI,IAAJ,CAASpI,oBAAT,EACC,IAAA,CAAKA,oBAAL,CAA0BuN,CAA1B,CApB4D,CAuB9D,IAAA,CAAKvM,WAAL,CAAmB,EAzBU,CAtuBP,CAkwBvBoG,WAAYA,QAAQ,CAACqG,CAAD,CAAS,CACd,IAAd,EAAIA,CAAJ,GACCA,CADD,CACU,IAAA,CAAKC,WAAL,EADV,CAGA,KAAA,CAAKpM,OAAL,CAAemM,CAJa,CAlwBN,CAywBvBC,YAAaA,QAAQ,EAAG,CACvB,IAAI7F;AAAM,CAACtG,KAAM,EAAP,CAAWC,MAAO,CAAlB,CACV,KAAA,CAAKE,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAM,CAC7B,IAAKwC,IAAIA,CAAT,GAAcxC,EAAd,CAAkBc,KAAlB,CAAyB,CACxB,IAAIQ,EAAkBtB,CAAA,CAAIc,KAAJ,CAAU0B,CAAV,CAAlBlB,CAA+BA,eAC/BA,EAAJ,CAAsBqB,CAAtB,CAA0BrG,KAA1B,GACCqG,CADD,CACO,CAACtG,KAAMmG,CAAP,CAAUlG,MAAOgF,CAAjB,CADP,CAFwB,CADI,CAA9B,CAOG,IAPH,CAQA,OAAOqB,EAVgB,CAzwBD,CAsxBvB8F,YAAaA,QAAQ,EAAG,CAEvB,IADA,IAAIzC,EAAQ,IAAZ,CACS5G,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBsJ,MAAzB,CAAgCrJ,MAAhC,GACC2G,CAEI,CAFI,IAAA,CAAK0C,MAAL,CAAYtJ,CAAZ,CAEJ,CAAS,EAAT,EADQ,IAAAuJ,CAAKlC,SAALkC,CAAeC,SAAfD,CAAyB,OAAzBA,CAAkC3C,CAAlC2C,CAFb,EAAwCvJ,CAAA,EAAxC,CAIM4G,CAAA,CAAQ,IAED,KAAb,EAAIA,CAAJ,GAAmBA,CAAnB,CAA2B,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAA3B,CACA,OAAOA,EATgB,CAtxBD,CAkyBvB6C,eAAgBA,QAAQ,EAAG,CAC1B,IAAA,CAAKrM,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAM,CAC7BA,CAAA,CAAIc,KAAJ,CAAY,EADiB,CAA9B,CAEG,IAFH,CAGA,KAAA,CAAKlE,YAAL,CAAoB,EACpB,KAAA,CAAKC,WAAL,CAAmB,EALO,CAlyBJ,CA0yBvBiM,WAAYA,QAAQ,CAACzM,CAAD,CAAO,CAM1B,OAAO,IAAA,CAAKO,YAAL,CAAkBP,CAAlB,CAMP,KAAI0M,EAAY,CAAA,CAChB,KAAA,CAAKvM,KAAL,CAAWoG,IAAX,CAAgB,QAAQ,CAAC5C,CAAD,CAAM,CAC7B,IAAKwC,IAAIA,CAAT,GAAcxC,EAAd,CAAkBc,KAAlB,CACK0B,CAAJ;AAASnG,CAAT,GACK,IAIJ,CAJSD,OAIT,CAJiBC,IAIjB,EAJyBA,CAIzB,GAHC,IACA,CADKD,OACL,CADe,CAACC,KAAM,IAAP,CAAaC,MAAO,CAApB,CACf,CAAAyM,CAAA,CAAY,CAAA,CAEb,EAAA,OAAO/I,CAAA,CAAIc,KAAJ,CAAU0B,CAAV,CALR,CAF4B,CAA9B,CAUG,IAVH,CAYA,KAAKpD,IAAIA,CAAT,GAAc,KAAd,CAAmBrD,kBAAnB,CAAuC,CACtC,IAAIiN,EAAU,IAAA,CAAKjN,kBAAL,CAAwBqD,CAAxB,CAAd,CACS6J,CAAT,KAASA,CAAT,GAAmBD,EAAnB,CACKC,CAAJ,EAAc5M,CAAd,EACC,OAAO,IAAA,CAAKN,kBAAL,CAAwBqD,CAAxB,CAAA,CAA2B6J,CAA3B,CAJ6B,CAUnCF,CAAJ,GACC,IAAA,CAAK7G,UAAL,EAEA,CADA,IAAA,CAAKhC,oBAAL,EACA,CAAA,IAAA,CAAKJ,SAAL,EAHD,CAnC0B,CA1yBJ,CAo1BvBuE,YAAaA,QAAQ,EAAG,CACvB,IAAA,CAAKpI,MAAL,CAAYoB,KAAZ,CAAoB,IAApB,CAAyBpB,MAAzB,CAAgCoB,KADT,CAp1BD,C,CCtDxB6L,QAASA,MAAK,CAACtO,CAAD,CAAS,CACtB,IAAA,CAAKC,SAAL,CAAiBD,CAAjB,CAAwBC,SACxB,KAAA,CAAKC,oBAAL,CAA4BF,CAA5B,CAAmCG,YAEnC,KAAA,CAAKoO,eAAL,CAAuB,CACvB,KAAA,CAAKC,SAAL,CAAiB,GAEjB,KAAA,CAAKC,eAAL,CAAuB,CAAA,CACvB,KAAA,CAAKC,YAAL,CAAoB,CAAA,CACpB,KAAA,CAAKC,QAAL,CAAgB,CAEhB,KAAA,CAAK5N,SAAL,CAAiB,CAAA,CACjB,KAAA,CAAK6N,eAAL,CAAuB,GACvB,KAAA,CAAKC,WAAL,CAAmB,CAAA,CACnB,KAAA,CAAKC,YAAL,CAAoB,CAAA,IAAIC,IAAJ,EAAWC,OAAX,EACpB,KAAA,CAAK/N,UAAL,CAAkB,IAClB,KAAA,CAAKgO,UAAL,CAAkB,GAClB,KAAA,CAAKC,cAAL,CAAsB,EAGtB,KAAA,CAAK9N,GAAL,CADA,IACA,CADKC,MACL,CADc,IAEd,KAAA,CAAK8N,UAAL,CAAkB,CACjBjJ,MAAO,EADU,CAEjBX,WAAY+C,IAAAA,EAFK,CAIlB,KAAA,CAAK/G,YAAL,CAAoB,CAEpB,KAAA,CAAK6N,MAAL,CAAc,CAACtI,EAAG,CAAJ,CAAOkF,EAAG,CAAV,CAEd,KAAA,CAAK/J,WAAL,CAAmB,EAEnB,KAAA,CAAKE,WAAL;AAAmB,CAAA,CAEnB,KAAA,CAAKkN,KAAL,CAAarP,CAAb,CAAoBqP,KACpB,KAAA,CAAKC,QAAL,CAAgB,IAlCM;AAsCvBhB,KAAA,CAAMlM,SAAN,CAAkB,CACjBC,YAAaiM,KADI,CAGjBhM,iBAAkBA,QAAQ,EAAG,CAC5B,IAAIrC,EAAY,IAAZA,CAAiBA,SAArB,CACIsC,EAAStC,CAAA,CAAUuC,SAAV,EAATD,CAA+B,CADnC,CAEIE,EAAQxC,CAAA,CAAUyC,QAAV,EACZ,KAAA,CAAK6L,eAAL,CAAuB9G,IAAA,CAAK8H,IAAL,CAAW9M,CAAX,CAAmBA,CAAnB,CAA6BF,CAA7B,CAAsCA,CAAtC,CAEvB,KAAII,EAAKd,GAAA,CAAIc,EAAJ,CAAO,OAAP,CACT1C,EAAA,CAAU2C,GAAV,CAAc,CACbC,MAAO,WADM,CAEbJ,MAAOA,CAFM,CAGbF,OAAQA,CAHK,CAIbO,KAAM,cAANA,CAAqBH,CAArBG,CAAwB,WAAxBA,CAAoCL,CAApCK,CAA0C,YAA1CA,CAAuDP,CAAvDO,CAA8D,aAJjD,CAKbC,OAAQ,CAAA,CALK,CAMPC,UAAW,CACVC,YAAa,CACZC,GAAIA,QAAQ,CAACC,CAAD,CAAM,CACpB,IAAA,CAAK9B,MAAL,CAAc+B,QAAA,CAASC,cAAT,CAAwBV,CAAxB,CACX,KAAA,CAAKvB,GAAL,CAAW,IAAA,CAAKC,MAAL,CAAYiC,UAAZ,CAAuB,IAAvB,CACX,KAAA,CAAKjC,MAAL,CAAYkC,gBAAZ,CAA6B,OAA7B,CAAsC,IAAA,CAAKpD,YAAL,CAAkBqD,IAAlB,CAAuB,IAAvB,CAAtC,CAAoE,CAAA,CAApE,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,WAA7B;AAA0C,IAAA,CAAKE,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAA1C,CAA4E,CAAA,CAA5E,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,SAA7B,CAAwC,IAAA,CAAKG,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAxC,CAAwE,CAAA,CAAxE,CACA,KAAA,CAAKnC,MAAL,CAAYkC,gBAAZ,CAA6B,WAA7B,CAA0C,IAAA,CAAKI,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAA1C,CAAuE,CAAA,CAAvE,CANiB,CADN,CASZM,OAAQ,CAAA,CATI,CAUZC,MAAO,IAVK,CADH,CANJ,CAAd,CAqBA9D,EAAA,CAAU+D,YAAV,EACA,KAAA,CAAK7B,WAAL,CAAmB,CAAA,CA7BS,CAHZ,CAmCjBqN,SAAUA,QAAQ,EAAG,CACpB,GAAI,IAAJ,CAASrN,WAAT,CAAsB,CACrB,IAAIM,EAAQ,IAAA,CAAKxC,SAAL,CAAeyC,QAAf,EAAZ,CACIH,EAAS,IAAA,CAAKtC,SAAL,CAAeuC,SAAf,EAATD,CAAoC,CACxC,KAAA,CAAKlB,MAAL,CAAYoB,KAAZ,CAAoBA,CACpB,KAAA,CAAKpB,MAAL,CAAYkB,MAAZ,CAAqBA,CACrB,KAAA,CAAKyC,OAAL,EACA,KAAA,CAAKyK,UAAL,EANqB,CADF,CAnCJ,CA8CjBA,WAAYA,QAAQ,CAACd,CAAD,CAAW,CACP,IAAvB,EAAI,IAAJ,CAAS1N,UAAT,GACC,IACA,CADKyN,YACL,CADoB,CAAA,CACpB,CAAArF,aAAA,CAAc,IAAd,CAAmBpI,UAAnB,CAFD,CAIA;IAAA,CAAK4N,WAAL,CAAmB,CAAA,CAEnB,KAAA,CAAKF,QAAL,CAAgBA,CAAhB,EAA4B,CAE5B,KAAK/G,IAAIA,CAAT,GAAc,KAAd,CAAmBuH,UAAnB,CAA8BjJ,KAA9B,CACY,IAAAzE,CAAK0N,UAAL1N,CAAgByE,KAAhBzE,CAAsBmG,CAAtBnG,CACX,CAAKiO,IAAL,CAAY,CAAA,CAGR,KAAL,CAAUjB,eAAV,CAGC,IAHD,CAGMxN,UAHN,CAGmBqI,WAAA,CAAY,IAAA,CAAKC,MAAL,CAAYoG,cAAZ,CAA2B,IAA3B,CAAiC,CAAC,CAAA,CAAD,CAAjC,CAAZ,CAAuD,EAAvD,CAHnB,CACC,IAAA,CAAKpG,MAAL,CAAY,CAAA,CAAZ,CAf6B,CA9Cd,CAmEjBrE,UAAWA,QAAQ,CAACkE,CAAD,CAAgB,CACX,IAAvB,EAAI,IAAJ,CAASnI,UAAT,GACC,IACA,CADKyN,YACL,CADoB,CAAA,CACpB,CAAArF,aAAA,CAAc,IAAd,CAAmBpI,UAAnB,CAFD,CAIA,KAAA,CAAK4N,WAAL,CAAmB,CAAA,CAEd,KAAL,CAAUJ,eAAV,CAGC,IAHD,CAGMxN,UAHN,CAGmBqI,WAAA,CAAY,IAAA,CAAKC,MAAL,CAAYoG,cAAZ,CAA2B,IAA3B,CAAiC,CAACvG,CAAD,CAAjC,CAAZ,CAA+D,EAA/D,CAHnB,CACC,IAAA,CAAKG,MAAL,CAAY,CAAA,CAAZ,CAAmBH,CAAnB,CARiC,CAnElB,CAiFjBG,OAAQA,QAAQ,CAACH,CAAD,CAAgB,CAC/B,IAAIwG,EAAO,CAAA,IAAIb,IAAJ,EAAWC,OAAX,EACX,IAAI,IAAJ,CAASH,WAAT;AAAwBe,CAAxB,CAA+B,IAA/B,CAAoCd,YAApC,EAAoD,IAApD,CAAyDF,eAAzD,CAoCC,GAnCA,IAmCIH,CAnCCI,WAmCDJ,CAnCe,CAAA,CAmCfA,CAjCJ,IAAA,CAAKhF,WAAL,EAiCIgF,CA/BJ,IAAA,CAAKrN,GAAL,CAASyO,IAAT,EA+BIpB,CA9BJ,IAAA,CAAKrN,GAAL,CAAS0O,SAAT,CAAmB,IAAnB,CAAwBV,MAAxB,CAA+BtI,CAA/B,CAAkC,IAAlC,CAAuCsI,MAAvC,CAA8CpD,CAA9C,CA8BIyC,CA5BJ,IAAA,CAAK/E,YAAL,CAAkB,IAAlB,CAAuByF,UAAvB,CA4BIV,CArBJ,IAqBIA,CArBCsB,aAqBDtB,CArBiB,EAqBjBA,CApBJ,IAoBIA,CApBCuB,WAoBDvB,CApBe,aAoBfA,CAnBJ,IAmBIA,CAnBCrN,GAmBDqN,CAnBKlE,SAmBLkE,CAnBoD,EAmBpDA,CAnBiBhH,IAAA,CAAKwI,GAAL,CAAS,IAAT,CAAcF,aAAd,CAA8B,CAA9B,CAmBjBtB,CAlBJ,IAkBIA,CAlBCrN,GAkBDqN,CAlBKvE,SAkBLuE,CAlBiB,OAkBjBA,CAlByB,IAkBzBA,CAlB8BuB,WAkB9BvB,CAlB0C,OAkB1CA,CAjBJ,IAiBIA,CAjBCrN,GAiBDqN,CAjBKnE,WAiBLmE,CAjBmB,OAiBnBA,CAjB2B,IAiB3BA,CAjBgCuB,WAiBhCvB,CAjB4C,GAiB5CA,CAjBgD,IAiBhDA,CAjBqDsB,aAiBrDtB,CAjBmE,GAiBnEA,CAhBJ,IAAA,CAAKrN,GAAL,CAASoJ,SAAT,EAgBIiE,CAfJ,IAAA,CAAKrN,GAAL,CAASsK,GAAT,CAAa,CAAb,CAAgB,CAAhB,CAAkC,CAAlC,CAAmB,IAAnB,CAAwB8C,SAAxB,CAAqC,CAArC,CAAgD,CAAhD,CAAwC/G,IAAxC,CAA6CoD,EAA7C,CAAmD,CAAA,CAAnD,CAeI4D,CAdJ,IAAA,CAAKrN,GAAL,CAASuK,SAAT,EAcI8C;AAbJ,IAAA,CAAKrN,GAAL,CAASwK,IAAT,EAaI6C,CAXCrF,CAWDqF,EAXgB,IAAA,CAAKrN,GAAL,CAASuJ,MAAT,EAWhB8D,CAVJ,IAAA,CAAKrN,GAAL,CAAS8O,OAAT,EAUIzB,CATJ,IASIA,CATCrN,GASDqN,CATKlE,SASLkE,CATiB,CASjBA,CAPkB,CAAA,CAOlBA,GAPArF,CAOAqF,EANH,IAAA,CAAK9E,UAAL,EAMG8E,CAHJ,IAGIA,CAHCK,YAGDL,CAHgB,CAAA,IAAIM,IAAJ,EAAWC,OAAX,EAGhBP,CAAA,IAAAA,CAAKA,eAAT,CAA0B,CACrBiB,CAAAA,CAAO,CAAA,CACX,KAAK9H,IAAIA,CAAT,GAAc,KAAd,CAAmBuH,UAAnB,CAA8BjJ,KAA9B,CACCwJ,CAAA,CAAOA,CAAP,EAAe,IAAA,CAAKP,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAAf,CAAwC8H,IAGzC,EADA,IACA,CADKhB,YACL,CADoBgB,CACpB,GACCrG,aAAA,CAAc,IAAd,CAAmBpI,UAAnB,CAEA,CADA,IACA,CADKA,UACL,CADkB,IAClB,CAAA,IAAA,CAAKkP,SAAL,EAHD,EAKC,IAAA,CAAKxB,QAAL,EAXwB,CAtCI,CAjFf,CAwIjByB,SAAUA,QAAQ,CAACf,CAAD,CAAQ,CAEzB,CADA,IACA,CADKA,KACL,CADaA,CACb,GAAa,IAAA,CAAKc,SAAL,EAFY,CAxIT,CA6IjBA,UAAWA,QAAQ,EAAG,CACrB,IAAKvI,CAAL,GAAU,KAAV,CAAeuH,UAAf,CAA0BjJ,KAA1B,CACK,IAAA,CAAKiJ,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAAJ,CAA6ByH,KAA7B,GACC,IAAA,CAAKF,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CADD,CAC0ByH,KAD1B,CACgCgB,QADhC,CACyCC,IADzC,CAC8C5O,KAD9C;AACoD,CADpD,CAFoB,CA7IL,CAqJjBgI,aAAcA,QAAQ,CAACtE,CAAD,CAAM,CACvBc,CAAAA,CAAQd,CAARc,CAAYA,KAEhB,KAAK0B,IAAIA,CAAT,GAAc1B,EAAd,CACC,GAAmC,EAAnC,EAAI,IAAA,CAAKjE,WAAL,CAAiB4G,OAAjB,CAAyBjB,CAAzB,CAAJ,CAAuC,CACtC,IAAIqD,EAAO/E,CAAA,CAAM0B,CAAN,CACX,IAAIqD,CAAJ,EAAYA,CAAZ,CAAiB5D,GAAjB,CAAsB,CACrB,IAAIkJ,EAAS,CAAC,CAAC,CAAD,CAAG,CAAH,CAAD,CAAO,CAAC,CAAD,CAAG,CAAH,CAAP,CACb,IAAI,IAAJ,CAAS9B,eAAT,CAA0B,CACzB,IAAIhK,EAAS,IAATA,CAAckK,QAAdlK,CAAyB,CACzBwG,EAAJ,CAAS5D,GAAT,CAAa5C,MAAb,EAAuB,IAAvB,CAA4BkK,QAA5B,EACC1D,CAEA,CAFKyE,IAEL,CAFY,CAAA,CAEZ,CADAjL,CACA,CADSwG,CACT,CADc5D,GACd,CADkB5C,MAClB,CAAIwG,CAAJ,CAASoE,KAAT,GAAiBpE,CAAjB,CAAsBoE,KAAtB,CAA4BgB,QAA5B,CAAqCC,IAArC,CAA0C5O,KAA1C,CAAgD,CAAhD,CAHD,GAKK,IAMJ,CANS2N,KAMT,EANkBpE,CAMlB,CANuBoE,KAMvB,GALCpE,CACA,CADKoE,KACL,CADWgB,QACX,CADoBC,IACpB,CADyB5O,KACzB,CAD+B,EAC/B,CAAA8H,UAAA,CAAW,QAAQ,EAAG,CACrByB,CAAA,CAAKoE,KAAL,CAAWgB,QAAX,CAAoBC,IAApB,CAAyB5O,KAAzB,CAA+B,CADV,CAAtB,CAEwB,GAFxB,CAEG,IAFH,CAEQkN,eAFR,CAID,EAAA3D,CAAA,CAAKyE,IAAL,CAAY,CAAA,CAXb,CAaA,KAAK,IAAIlL,EAAI,CAAb,CAAgBA,CAAhB,CAAoBC,CAApB,CAA4BD,CAAA,EAA5B,CAAiC,CAChC,IAAIgM,EAAKvF,CAAA,CAAK5D,GAAL,CAAS7C,CAAT,CACT,KAAA,CAAKiM,WAAL,CAAiBD,CAAjB,CAAqBD,CAArB,CAA6BtF,CAA7B,CAAkCG,KAAlC,CACAmF,EAAA,CAAS,CAAC,CAACC,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAD;AAAmBF,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAnB,CAAD,CAAuC,CAACF,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAD,CAAmBF,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAnB,CAAvC,CAHuB,CAfR,CAA1B,IAqBC,KAASlM,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoByG,CAApB,CAAyB5D,GAAzB,CAA6B5C,MAA7B,CAAqCD,CAAA,EAArC,CACKgM,CAEJ,CAFSvF,CAAA,CAAK5D,GAAL,CAAS7C,CAAT,CAET,CADA,IAAA,CAAKiM,WAAL,CAAiBD,CAAjB,CAAqBD,CAArB,CAA6BtF,CAA7B,CAAkCG,KAAlC,CACA,CAAAmF,CAAA,CAAS,CAAC,CAACC,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAD,CAAmBF,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAnB,CAAD,CAAuC,CAACF,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAD,CAAmBF,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAA,CAAc,CAAd,CAAnB,CAAvC,CA1BU,CAFgB,CAJb,CArJX,CA6LjBD,YAAaA,QAAQ,CAACD,CAAD,CAAKD,CAAL,CAAanF,CAAb,CAAoB,CACxC,IAAIuF,EAAQH,CAAA,CAAGE,OAAH,CAAW,CAAX,CAAZ,CACIE,EAAQJ,CAAA,CAAGE,OAAH,CAAW,CAAX,CAGZ,KAAA,CAAKtP,GAAL,CAASoJ,SAAT,EACA,KAAA,CAAKpJ,GAAL,CAASqJ,MAAT,CAAgB8F,CAAA,CAAO,CAAP,CAAA,CAAU,CAAV,CAAhB,CAA8BA,CAAA,CAAO,CAAP,CAAA,CAAU,CAAV,CAA9B,CACA,KAAA,CAAKnP,GAAL,CAASsJ,MAAT,CAAgBiG,CAAA,CAAM,CAAN,CAAhB,CAA0BC,CAAA,CAAM,CAAN,CAA1B,CACA,KAAA,CAAKxP,GAAL,CAASsJ,MAAT,CAAgBiG,CAAA,CAAM,CAAN,CAAhB,CAA0BC,CAAA,CAAM,CAAN,CAA1B,CACA,KAAA,CAAKxP,GAAL,CAASsJ,MAAT,CAAgB6F,CAAA,CAAO,CAAP,CAAA,CAAU,CAAV,CAAhB,CAA8BA,CAAA,CAAO,CAAP,CAAA,CAAU,CAAV,CAA9B,CACA,KAAA,CAAKnP,GAAL,CAASuK,SAAT,EAEA,KAAA,CAAKvK,GAAL,CAAS8I,SAAT,CAAqB,OAArB,CAA6BkB,CAA7B,CAAmC,QACnC,KAAA,CAAKhK,GAAL,CAASwK,IAAT,EAGA,KAAA,CAAKxK,GAAL,CAASoJ,SAAT,EACA,KAAA,CAAKpJ,GAAL,CAASqJ,MAAT,CAAgBkG,CAAA,CAAM,CAAN,CAAhB;AAA0BC,CAAA,CAAM,CAAN,CAA1B,CACA,KAAA,CAAKxP,GAAL,CAASsJ,MAAT,CAAgBiG,CAAA,CAAM,CAAN,CAAhB,CAA0BC,CAAA,CAAM,CAAN,CAA1B,CACA,KAAA,CAAKxP,GAAL,CAASsJ,MAAT,CAAgBiG,CAAA,CAAM,CAAN,CAAhB,CAA0BC,CAAA,CAAM,CAAN,CAA1B,CACA,KAAA,CAAKxP,GAAL,CAASsJ,MAAT,CAAgBiG,CAAA,CAAM,CAAN,CAAhB,CAA0BC,CAAA,CAAM,CAAN,CAA1B,CACA,KAAA,CAAKxP,GAAL,CAASuK,SAAT,EAEI6E,EAAJ,CAAOK,IAAP,GAAa,IAAb,CAAkBzP,GAAlB,CAAsB8I,SAAtB,CAAkC,OAAlC,CAA0CkB,CAA1C,CAAgD,QAAhD,CACA,KAAA,CAAKhK,GAAL,CAASwK,IAAT,EAxBwC,CA7LxB,CAwNjBjC,WAAYA,QAAQ,EAAG,CACtB,IAAI7C,EAAI,CAER,KAAA,CAAK1F,GAAL,CAAS0H,YAAT,CAAwB,KACxB,KAAA,CAAK1H,GAAL,CAAS2H,IAAT,CAAgB,YAChB,KAAA,CAAK+H,SAAL,CAAe9I,IAAf,CAAoB,QAAQ,CAAC8D,CAAD,CAAS,CACpC,IAAIV,EAAQU,CAAA,CAAO9F,GAAP,CAAW,OAAX,CACZ,KAAA,CAAK5E,GAAL,CAAS8I,SAAT,CAAqB,MAArB,CAA4BkB,CAA5B,CAAkC,GAC9B3J,EAAAA,CAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CACX,KAAA,CAAK5E,GAAL,CAAS+I,QAAT,CAAkB1I,CAAlB,CAAwBqF,CAAxB,CAPOkF,CAOP,CACIvJ,EAAAA,CAAQ,IAAA,CAAKrB,GAAL,CAAS4H,WAAT,CAAqBvH,CAArB,CAARgB,CAAmCA,KACvCqE,EAAA,EAAKrE,CAAL,CAAa,CANuB,CAArC,CAOG,IAPH,CALsB,CAxNN,CAuOjBsO,cAAeA,QAAQ,CAAC3L,CAAD,CAAM,CAC5B,IAAA,CAAK+J,UAAL,CAAkB/J,CAClB,KAAA,CAAK4L,oBAAL,EAF4B,CAvOZ;AA4OjBC,SAAUA,QAAQ,CAACpL,CAAD,CAAW,CAC5BhE,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAekJ,UAAf,CAA0BjJ,KAA1B,CAAiCL,CAAjC,CACA,KAAA,CAAKb,OAAL,EAF4B,CA5OZ,CAiPjBkJ,WAAYA,QAAQ,CAACzM,CAAD,CAAO,CACtB,IAAA,CAAK0N,UAAL,CAAgBjJ,KAAhB,CAAsBzE,CAAtB,CAAJ,CAAgC4N,KAAhC,EAAwC,IAAA,CAAKF,UAAL,CAAgBjJ,KAAhB,CAAsBzE,CAAtB,CAAA,CAA4B4N,KAA5B,CAAkC6B,UAAlC,CAA6CC,IAA7C,EACxC,QAAO,IAAA,CAAKhC,UAAL,CAAgBjJ,KAAhB,CAAsBzE,CAAtB,CACP,KAAA,CAAKuD,OAAL,EAH0B,CAjPV,CAuPjBiJ,eAAgBA,QAAQ,EAAG,CAC1B,IAAKxM,IAAL,GAAa,KAAb,CAAkB0N,UAAlB,CAA6BjJ,KAA7B,CACK,IAAA,CAAKiJ,UAAL,CAAgBjJ,KAAhB,CAAsBzE,IAAtB,CAAJ,CAAgC4N,KAAhC,EACC,IAAA,CAAKF,UAAL,CAAgBjJ,KAAhB,CAAsBzE,IAAtB,CAAA,CAA4B4N,KAA5B,CAAkC6B,UAAlC,CAA6CC,IAA7C,EAGF,KAAA,CAAKhC,UAAL,CAAgBjJ,KAAhB,CAAwB,EACxB,KAAA,CAAKlB,OAAL,EAP0B,CAvPV,CAiQjBA,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKuJ,eAAL,CAAuB9G,IAAA,CAAK8H,IAAL,CAAW,IAAX,CAAgBlO,MAAhB,CAAuBoB,KAAvB,CAA+B,IAA/B,CAAoCpB,MAApC,CAA2CoB,KAA3C,CAAqD,IAArD,CAA0DpB,MAA1D,CAAiEkB,MAAjE;AAA0E,IAA1E,CAA+ElB,MAA/E,CAAsFkB,MAAtF,CACvB,KAAA,CAAKyO,oBAAL,EACA,KAAA,CAAKI,6BAAL,EAHmB,CAjQH,CAuQjBJ,qBAAsBA,QAAQ,EAAG,CAChC,IAAIzL,EAAa,IAAbA,CAAkBgJ,eAEtB,KAAA,CAAKY,UAAL,CAAgB5J,UAAhB,CAA6BA,CAE7B,IAAI,IAAJ,CAAS8J,KAAT,EAAmC,IAAnC,EAAkB,IAAlB,CAAuBC,QAAvB,CACC,GAAI,CACH,IAAA,CAAKA,QAAL,CAAgB,KAAK+B,MAAL,CAAYC,YAAZ,EAA4BD,MAA5B,CAAmCE,kBAAnC,CADb,CAEF,MAAMC,CAAN,CAAS,EAIZ,IAAK/P,IAAIA,CAAT,GAAiB,KAAjB,CAAsB0N,UAAtB,CAAiCjJ,KAAjC,CAAwC,CACvC,GAAI,IAAJ,CAASmJ,KAAT,EAAkB,IAAlB,CAAuBC,QAAvB,EAAmC,CAAC,IAAA,CAAKH,UAAL,CAAgBjJ,KAAhB,CAAsBzE,CAAtB,CAAD,CAA6B4N,KAAhE,CAAuE,CACtE,IAAI6B,EAAa,IAAA,CAAK5B,QAAL,CAAcmC,gBAAd,EAAjB,CACIpB,EAAW,IAAA,CAAKf,QAAL,CAAcoC,UAAd,EACfR,EAAA,CAAWS,OAAX,CAAmBtB,CAAnB,CACAA,EAAA,CAASsB,OAAT,CAAiB,IAAjB,CAAsBrC,QAAtB,CAA+BsC,WAA/B,CACAV;CAAA,CAAWW,SAAX,CAAqBnQ,KAArB,CAA4C,GAA5C,CAA8B+F,IAAA,CAAKqK,MAAL,EAA9B,CAAiD,GACjDZ,EAAA,CAAWa,KAAX,EACA1B,EAAA,CAASC,IAAT,CAAc5O,KAAd,CAAsB,CACtB,KAAA,CAAKyN,UAAL,CAAgBjJ,KAAhB,CAAsBzE,CAAtB,CAAA,CAA4B4N,KAA5B,CAAoC,CAAC6B,WAAYA,CAAb,CAAyBb,SAAUA,CAAnC,CARkC,CAUvE,IAAA,CAAK2B,UAAL,CAAgB,IAAA,CAAK7C,UAAL,CAAgBjJ,KAAhB,CAAsBzE,CAAtB,CAAhB,CAA6C8D,CAA7C,CAXuC,CAZR,CAvQhB,CAkSjByM,WAAYA,QAAQ,CAAC/G,CAAD,CAAO1F,CAAP,CAAmB,CAEtC,GAAc,CAAd,CADc0F,CACd,CADmBK,OACnB,CAAiB,CAChB,IAAIlG,EAAM,IAANA,CAAW+J,UAAf,CAEI1N,EAAOwJ,CAAPxJ,CAAYA,IAFhB,CAKI+E,EAAkB,EAElByL,EAAAA,CAAWhH,CAAXgH,CAAgB9K,SAWpB,KAVA,IAAI+K,EAAcD,CAAA,CAASA,CAAT,CAAkBxN,MAAlB,CAAyB,CAAzB,CAAlB,CAEI0N,EAAQ,IAARA,CAAalD,UAFjB,CAGIC,EAAiB,IAAjBA,CAAsBA,cAH1B,CAIIkD,CAJJ,CAKIC,CALJ,CAMIvL,EAAI,CANR,CAOIkF,EAAI,CAPR,CAUSxH,EAFL8N,CAEK9N,CAFQ,CAEjB,CAAgBA,CAAhB,CAAoByN,CAApB,CAA6BxN,MAA7B,CAAqCD,CAAA,EAArC,CAA0C,CACzC,IAAI+N,EAAIN,CAAA,CAASzN,CAAT,CAAR,CAEIC,EAAS8N,CAAT9N,CAAayN,CAAbzN,CAA2Bc,CAF/B,CAGIiN,EAAU/N,CAAV+N,CAAmBF,CAEvBF,EAAA,CAAQtL,CACRuL,EAAA,CAAQrG,CAEJyG,EAAAA,CAAW,IAAA,CAAKC,YAAL,CAAkB,CAAC5L,CAAD,CAAIkF,CAAJ,CAAlB,CAA0BwG,CAA1B,CAAmCL,CAAnC,CACfrL,EAAA,CAAI2L,CAAA,CAAS,CAAT,CACJzG,EAAA,CAAIyG,CAAA,CAAS,CAAT,CAEA/B,EAAAA,CAAU,IAAA,CAAKiC,kBAAL,CAAwB,CAACP,CAAD,CAAQC,CAAR,CAAxB,CAAwC,CAACvL,CAAD,CAAIkF,CAAJ,CAAxC,CAAgDmG,CAAhD,CAAuD,IAAvD,CAA4D3D,SAA5D,CAEdhI,EAAA,CAAgBK,IAAhB,CAAqB,CAAC+L,QAASL,CAAV;AAAa7B,QAASA,CAAtB,CAA+BG,KAAM,CAAA,CAArC,CAArB,CAEAyB,EAAA,CAAa7N,CACb0N,EAAA,EAASjD,CAlBgC,CAsB1C9J,CAAA,CAAIc,KAAJ,CAAUzE,CAAV,CAAA,CAAgB4F,GAAhB,CAAsBb,CACtBpB,EAAA,CAAIc,KAAJ,CAAUzE,CAAV,CAAA,CAAgBiO,IAAhB,CAAuB,CAAA,CA1CP,CAFqB,CAlStB,CAkVjBgD,aAAcA,QAAQ,CAACG,CAAD,CAAQpO,CAAR,CAAgB0N,CAAhB,CAAuB,CACxCW,CAAAA,CAAU,IAAA,CAAKC,gBAAL,CAAsBZ,CAAtB,CAGd,OAAO,CAFEU,CAAA,CAAM,CAAN,CAEF,CAFcpO,CAEd,CAFuBgD,IAAA,CAAKuL,GAAL,CAASF,CAAT,CAEvB,CADED,CAAA,CAAM,CAAN,CACF,CADcpO,CACd,CADuBgD,IAAA,CAAKwL,GAAL,CAASH,CAAT,CACvB,CAJqC,CAlV5B,CAyVjB1B,8BAA+BA,QAAQ,EAAG,CACzC,IAAI8B,EAAK,IAAA,CAAKC,uBAAL,EAAT,CAGI1Q,EAAQyQ,CAARzQ,CAAW2Q,IAAX3Q,CAAkByQ,CAAlBzQ,CAAqB4Q,IAHzB,CAII9Q,EAAS2Q,CAAT3Q,CAAY+Q,IAAZ/Q,CAAmB2Q,CAAnB3Q,CAAsBgR,IAJ1B,CAOIC,EAAQ/L,IAAA,CAAKgM,GAAL,CAFK,IAEL,CAFUpS,MAEV,CAFiBoB,KAEjB,CAFyBA,CAEzB,CADM,IACN,CADWpB,MACX,CADkBkB,MAClB,CAD2BA,CAC3B,CACZiR,EAAA,EAAS,GAKT,KAAA,CAAKpE,MAAL,CAAYtI,CAAZ,CAAgBW,IAAA,CAAKwI,GAAL,CAASiD,CAAT,CAAYG,IAAZ,CAAmBG,CAAnB,EAA4B,IAA5B,CAAiCnS,MAAjC,CAAwCoB,KAAxC,CAAgD,CAAhD,CAHhBA,CAGgB,CAHP+Q,CAGO,CAA4D,CAA5D,EAChB,KAAA,CAAKpE,MAAL,CAAYpD,CAAZ,CAAgBvE,IAAA,CAAKwI,GAAL,CAASiD,CAAT,CAAYK,IAAZ,CAAmBC,CAAnB,EAA4B,IAA5B,CAAiCnS,MAAjC,CAAwCkB,MAAxC,CAAiD,CAAjD,CAHhBA,CAGgB,CAHNiR,CAGM,CAA8D,CAA9D,EAEhB,KAAA,CAAKjF,eAAL,CAAuB9G,IAAA,CAAK8H,IAAL,CAAW,IAAX,CAAgBlO,MAAhB,CAAuBoB,KAAvB;AAA+B,IAA/B,CAAoCpB,MAApC,CAA2CoB,KAA3C,CAAqD,IAArD,CAA0DpB,MAA1D,CAAiEkB,MAAjE,CAA0E,IAA1E,CAA+ElB,MAA/E,CAAsFkB,MAAtF,CAAvB,CAAwHiR,CAExH,KAAA,CAAKxC,oBAAL,EAnByC,CAzVzB,CA+WjBmC,wBAAyBA,QAAQ,EAAG,CACnC,IAAIE,EAAO,IAAX,CACID,EAAO,IADX,CAEIG,EAAO,IAFX,CAGID,EAAO,IAHX,CAIS1L,CAAT,KAASA,CAAT,GAAc,KAAd,CAAmBuH,UAAnB,CAA8BjJ,KAA9B,CAEC,IADA,IAAImB,EAAM,IAAA,CAAK8H,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAANP,CAA+BA,GAAnC,CACS7C,EAAI,CAAb,CAAgBA,CAAhB,CAAoB6C,CAApB,CAAwB5C,MAAxB,CAAgCD,CAAA,EAAhC,CAAqC,CACpC,IAAIkM,EAAUrJ,CAAA,CAAI7C,CAAJ,CAAVkM,CAAiBA,OACjBwC,EAAAA,CAAK,IAAA,CAAKQ,cAAL,CAAoBhD,CAAA,CAAQ,CAAR,CAApB,CAAgCA,CAAA,CAAQ,CAAR,CAAhC,CACT,IAAY,IAAZ,EAAI2C,CAAJ,EAAoBH,CAAA,CAAG,CAAH,CAApB,CAA4BG,CAA5B,CAAkCA,CAAA,CAAOH,CAAA,CAAG,CAAH,CACzC,IAAY,IAAZ,EAAIE,CAAJ,EAAoBF,CAAA,CAAG,CAAH,CAApB,CAA4BE,CAA5B,CAAkCA,CAAA,CAAOF,CAAA,CAAG,CAAH,CACzC,IAAY,IAAZ,EAAIK,CAAJ,EAAoBL,CAAA,CAAG,CAAH,CAApB,CAA4BK,CAA5B,CAAkCA,CAAA,CAAOL,CAAA,CAAG,CAAH,CACzC,IAAY,IAAZ,EAAII,CAAJ,EAAoBJ,CAAA,CAAG,CAAH,CAApB,CAA4BI,CAA5B,CAAkCA,CAAA,CAAOJ,CAAA,CAAG,CAAH,CANL,CAUtC,MAAO,CAACG,KAAMA,CAAP,CAAaE,KAAMA,CAAnB,CAAyBH,KAAMA,CAA/B,CAAqCE,KAAMA,CAA3C,CAjB4B,CA/WnB,CAmYjBI,eAAgBA,QAAQ,CAAC/C,CAAD,CAAQC,CAAR,CAAe,CAKtC,MAAO,CAJInJ,IAAA4L,CAAKI,GAALJ,CAAS1C,CAAA,CAAM,CAAN,CAAT0C,CAAmB1C,CAAA,CAAM,CAAN,CAAnB0C,CAIJ,CAFI5L,IAAA8L,CAAKE,GAALF,CAAS3C,CAAA,CAAM,CAAN,CAAT2C;AAAmB3C,CAAA,CAAM,CAAN,CAAnB2C,CAEJ,CAHI9L,IAAA2L,CAAKrL,GAALqL,CAASzC,CAAA,CAAM,CAAN,CAATyC,CAAmBzC,CAAA,CAAM,CAAN,CAAnByC,CAGJ,CADI3L,IAAA6L,CAAKvL,GAALuL,CAAS1C,CAAA,CAAM,CAAN,CAAT0C,CAAmB1C,CAAA,CAAM,CAAN,CAAnB0C,CACJ,CAL+B,CAnYtB,CA2YjBP,iBAAkBA,QAAQ,CAACnM,CAAD,CAAI,CAC7B,MAAYa,KAAZ,CAAiBoD,EAAjB,CAAsB,GAAtB,CAAOjE,CADsB,CA3Yb,CA+YjBzG,aAAcA,QAAQ,CAACqM,CAAD,CAAQ,CAC7B,IAAI1F,EAAI0F,CAAJ1F,CAAU2F,MAAV3F,CAAmB,IAAnBA,CAAwBsI,MAAxBtI,CAA+BA,CAC/BkF,EAAAA,CAAIQ,CAAJR,CAAUU,MAAVV,CAAmB,IAAnBA,CAAwBoD,MAAxBpD,CAA+BA,CACnC,KAAI2H,EAAM,IAAV,CACIf,EAAU,CADd,CAEShL,CAAT,KAASA,CAAT,GAAc,KAAd,CAAmBuH,UAAnB,CAA8BjJ,KAA9B,CACC,GAAmC,EAAnC,EAAI,IAAA,CAAKjE,WAAL,CAAiB4G,OAAjB,CAAyBjB,CAAzB,CAAJ,CAEC,IADA,IAAIP,EAAM,IAAA,CAAK8H,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAANP,CAA+BA,GAAnC,CACS7C,EAAI,CAAb,CAAgBA,CAAhB,CAAoB6C,CAApB,CAAwB5C,MAAxB,CAAgCD,CAAA,EAAhC,CAAqC,CACpC,IAAIkM,EAAUrJ,CAAA,CAAI7C,CAAJ,CAAVkM,CAAiBA,OAErB,IADW,IAAAkD,CAAKC,gBAALD,CAAsBlD,CAAA,CAAQ,CAAR,CAAtBkD,CAAkClD,CAAA,CAAQ,CAAR,CAAlCkD,CAA8C9M,CAA9C8M,CAAiD5H,CAAjD4H,CACX,CAAU,CACTD,CAAA,CAAM/L,CACNgL,EAAA,CAAUvL,CAAA,CAAI7C,CAAJ,CAAV,CAAiBoO,OACjB,MAHS,CAH0B,CAYnCe,CAAJ,EACmCrL,IAAAA,EADnC,GACK,IADL,CACUpI,oBADV,EAEE,IAAA,CAAKA,oBAAL,CAA0B,CAACuB,KAAMkS,CAAP,CAAYf,QAASA,CAArB,CAA1B,CAtB2B,CA/Yb,CA0ajBjP,YAAaA,QAAQ,CAAC6I,CAAD,CAAQ,CAC5B,IAAI1F;AAAI0F,CAAJ1F,CAAU2F,MAAV3F,CAAmB,IAAnBA,CAAwBsI,MAAxBtI,CAA+BA,CAAnC,CACIkF,EAAIQ,CAAJR,CAAUU,MAAVV,CAAmB,IAAnBA,CAAwBoD,MAAxBpD,CAA+BA,CACnC,IAAqB,IAArB,EAAI,IAAJ,CAAS1K,QAAT,CACC8B,QAQA,CARS0J,IAQT,CARcC,KAQd,CARoBC,MAQpB,CAR6B,MAQ7B,CAPA,IAOA,CAPK1L,QAOL,CAPcwS,KAOd,CAPsB,IAOtB,CAP2BxS,QAO3B,CAPoCwF,CAOpC,CANA,IAMA,CANKxF,QAML,CANcyS,KAMd,CANsB,IAMtB,CAN2BzS,QAM3B,CANoC0K,CAMpC,CALA,IAKA,CALK1K,QAKL,CALcwF,CAKd,CALkB0F,CAKlB,CALwBC,MAKxB,CAJA,IAIA,CAJKnL,QAIL,CAJc0K,CAId,CAJkBQ,CAIlB,CAJwBE,MAIxB,CAFIsH,CAEJ,CAFY,IAEZ,CAFiB1S,QAEjB,CAF0B0K,CAE1B,CAF8B,IAE9B,CAFmC1K,QAEnC,CAF4CyS,KAE5C,CADA,IACA,CADK3E,MACL,CADYtI,CACZ,EAHY,IAGZ,CAHiBxF,QAGjB,CAH0BwF,CAG1B,CAH8B,IAG9B,CAHmCxF,QAGnC,CAH4CwS,KAG5C,CAAA,IAAA,CAAK1E,MAAL,CAAYpD,CAAZ,EAAiBgI,CATlB,KAUO,CACN,IAAA,CAAKjT,SAAL,CAAiB,CAAA,CACjB,KAAK6G,IAAIA,CAAT,GAAc,KAAd,CAAmBuH,UAAnB,CAA8BjJ,KAA9B,CACC,GAAmC,EAAnC,EAAI,IAAA,CAAKjE,WAAL,CAAiB4G,OAAjB,CAAyBjB,CAAzB,CAAJ,CAAuC,CAClCP,CAAAA,CAAM,IAAA,CAAK8H,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAANP,CAA+BA,GACnC,KAAK,IAAI7C,EAAI,CAAb,CAAgBA,CAAhB,CAAoB6C,CAApB,CAAwB5C,MAAxB,CAAgCD,CAAA,EAAhC,CACC,GAAK,IAAL,CAAUzD,SAAV,CAUC,IAAA,CAAKoO,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAAA,CAAyBP,GAAzB,CAA6B7C,CAA7B,CAAA,CAAgCqM,IAAhC;AAAuC,CAAA,CAVxC,KAAqB,CACpB,IAAIH,EAAUrJ,CAAA,CAAI7C,CAAJ,CAAVkM,CAAiBA,OACV,KAAAkD,CAAKC,gBAALD,CAAsBlD,CAAA,CAAQ,CAAR,CAAtBkD,CAAkClD,CAAA,CAAQ,CAAR,CAAlCkD,CAA8C9M,CAA9C8M,CAAiD5H,CAAjD4H,CACX,CAEC,IAFD,CAEM7S,SAFN,CACC,IAAA,CAAKoO,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAAA,CAAyBP,GAAzB,CAA6B7C,CAA7B,CADD,CACiCqM,IADjC,CACwC,CAAA,CADxC,CAIC,IAAA,CAAK1B,UAAL,CAAgBjJ,KAAhB,CAAsB0B,CAAtB,CAAA,CAAyBP,GAAzB,CAA6B7C,CAA7B,CAJD,CAIiCqM,IAJjC,CAIwC,CAAA,CAPpB,CAHgB,CAkBxC,GAAI,IAAJ,CAAS9P,SAAT,CAEC,IADAqC,QACI,CADK0J,IACL,CADUC,KACV,CADgBC,MAChB,CADyB,SACzB,CAAA,CAAC,IAAD,CAAMyB,eAAN,EAA0B,IAA1B,CAA+BA,eAA/B,EAAkD,IAAlD,CAAuDC,YAA3D,CACCrF,aAAA,CAAc,IAAd,CAAmBpI,UAAnB,CACA,CAAA,IAAA,CAAKA,UAAL,CAAkBqI,WAAA,CAAY,IAAA,CAAKC,MAAL,CAAYoG,cAAZ,CAA2B,IAA3B,CAAiC,CAAC,CAAA,CAAD,CAAjC,CAAZ,CAAuD,EAAvD,CAFnB,CAFD,IAQC,IADAvM,QACI,CADK0J,IACL,CADUC,KACV,CADgBC,MAChB,CADyB,MACzB,CAAA,CAAC,IAAD,CAAMyB,eAAN,EAA0B,IAA1B,CAA+BA,eAA/B,EAAkD,IAAlD,CAAuDC,YAA3D,CACCrF,aAAA,CAAc,IAAd,CAAmBpI,UAAnB,CACA;AAAA,IAAA,CAAKsI,MAAL,CAAY,CAAA,CAAZ,CA/BI,CAbqB,CA1aZ,CA4djB9F,iBAAkBA,QAAQ,CAAC+I,CAAD,CAAQ,CACjC,IAAI1F,EAAI0F,CAAJ1F,CAAU2F,MACVT,EAAAA,CAAIQ,CAAJR,CAAUU,MACd,KAAA,CAAKpL,QAAL,CAAgB,CACfwS,MAAOhN,CADQ,CAEfiN,MAAO/H,CAFQ,CAGflF,EAAGA,CAHY,CAIfkF,EAAGA,CAJY,CAHiB,CA5djB,CAuejBtI,eAAgBA,QAAQ,CAAC8I,CAAD,CAAQ,CAC/B,IAAA,CAAKlL,QAAL,CAAgB,IADe,CAvef,CA2ejBqR,mBAAoBA,QAAQ,CAACsB,CAAD,CAASC,CAAT,CAAiB/B,CAAjB,CAAwBgC,CAAxB,CAA8B,CACzD,IAAIC,EAAWjC,CAAXiC,CAAmB,EAAvB,CACIC,EAASlC,CAATkC,CAAiB,EAEjBC,EAAAA,CAAK,IAAA,CAAK5B,YAAL,CAAkBuB,CAAlB,CAA0BE,CAA1B,CAAgCC,CAAhC,CACLG,EAAAA,CAAK,IAAA,CAAK7B,YAAL,CAAkBuB,CAAlB,CAA0BE,CAA1B,CAAgCE,CAAhC,CACLG,EAAAA,CAAK,IAAA,CAAK9B,YAAL,CAAkBwB,CAAlB,CAA0BC,CAA1B,CAAgCE,CAAhC,CACLI,EAAAA,CAAK,IAAA,CAAK/B,YAAL,CAAkBwB,CAAlB,CAA0BC,CAA1B,CAAgCC,CAAhC,CAIT,OAAO,CAFKzD,CAAC2D,CAAA,CAAG,CAAH,CAAD3D,CAAQ4D,CAAA,CAAG,CAAH,CAAR5D,CAAe6D,CAAA,CAAG,CAAH,CAAf7D,CAAsB8D,CAAA,CAAG,CAAH,CAAtB9D,CAEL,CADKC,CAAC0D,CAAA,CAAG,CAAH,CAAD1D,CAAQ2D,CAAA,CAAG,CAAH,CAAR3D,CAAe4D,CAAA,CAAG,CAAH,CAAf5D,CAAsB6D,CAAA,CAAG,CAAH,CAAtB7D,CACL,CAXkD,CA3ezC,CA0fjBiD,iBAAkBA,QAAQ,CAAClD,CAAD,CAAQC,CAAR,CAAe9J,CAAf,CAAkBkF,CAAlB,CAAqB,CAC9C,IAAIxH,CAAJ,CACIkQ,EAAI,CADR,CAEIC,EAAW,CAAA,CACf,KAAKnQ,CAAL,CAAS,CAAT,CAAgB,CAAhB,CAAYA,CAAZ,CAAmBA,CAAA,EAAnB,CAOC,CANKoM,CAAA,CAAMpM,CAAN,CAML,CANgBwH,CAMhB,EANqB4E,CAAA,CAAM8D,CAAN,CAMrB,EANiC1I,CAMjC,EALE4E,CAAA,CAAM8D,CAAN,CAKF,CALa1I,CAKb,EALkB4E,CAAA,CAAMpM,CAAN,CAKlB,EAL8BwH,CAK9B,GAJK2E,CAAA,CAAMnM,CAAN,CAIL,EAJiBwH,CAIjB,CAJqB4E,CAAA,CAAMpM,CAAN,CAIrB,GAJkCoM,CAAA,CAAM8D,CAAN,CAIlC,CAJ6C9D,CAAA,CAAMpM,CAAN,CAI7C;CAJ0DmM,CAAA,CAAM+D,CAAN,CAI1D,CAJqE/D,CAAA,CAAMnM,CAAN,CAIrE,EAJiFsC,CAIjF,GAHE6N,CAGF,CAHa,CAACA,CAGd,EAAAD,CAAA,CAAIlQ,CAEL,OAAOmQ,EAbuC,CA1f9B,CA0gBjBlL,YAAaA,QAAQ,EAAG,CACvB,IAAA,CAAKpI,MAAL,CAAYoB,KAAZ,CAAoB,IAApB,CAAyBpB,MAAzB,CAAgCoB,KADT,CA1gBP,C,CCIlB,IAAImS,WAAa,EAEhB;SAAQ,EAAG,CAoxCZC,QAASA,EAAa,CAACC,CAAD,CAAOC,CAAP,CAAYC,CAAZ,CAAqB,CAE1C,GAAKF,CAAL,CAAU3Q,QAAV,CAAA,CAKI6Q,CAAJ,GACMF,CAAL,CAAU7J,IAAV,CAAegK,OAAf,EAKCH,CAEA,CAFK7J,IAEL,CAFU8J,GAEV,CAFgB,EAEhB,CADAG,CAAA,CAAMJ,CAAN,CAAW7J,IAAX,CAAgB8J,GAAhB,CAAqBD,CAArB,CAA0B7J,IAA1B,CAA+BgK,OAA/B,CACA,CAAAH,CAAA,CAAK7J,IAAL,CAAUkB,KAAV,CAAkBgJ,MAAA,CAAOC,IAAP,CAAYN,CAAZ,CAAiB7J,IAAjB,CAAsB8J,GAAtB,CAAlB,CAA6CtQ,MAP9C,GACCqQ,CAEA,CAFK7J,IAEL,CAFUgK,OAEV,CAFoB,EAEpB,CADAC,CAAA,CAAMJ,CAAN,CAAW7J,IAAX,CAAgBgK,OAAhB,CAAyBH,CAAzB,CAA8B7J,IAA9B,CAAmC8J,GAAnC,CACA,CAAAD,CAAA,CAAK7J,IAAL,CAAUoK,SAAV,CAAsBF,MAAA,CAAOC,IAAP,CAAYN,CAAZ,CAAiB7J,IAAjB,CAAsBgK,OAAtB,CAAtB,CAAqDxQ,MAHtD,CADD,CAaA,KAAI6Q,EAASH,MAAA,CAAOC,IAAP,CAAYL,CAAZ,CACHvQ,EAAAA,CAAI,CAAd,KAAM,IAAW+Q,EAAID,CAAJC,CAAW9Q,MAA5B,CAAoCD,CAApC,CAAwC+Q,CAAxC,CAA2C/Q,CAAA,EAA3C,CAEC,OAAOsQ,CAAA,CAAK7J,IAAL,CAAU8J,GAAV,CADGO,CAAAE,CAAOhR,CAAPgR,CACH,CAERV,EAAA,CAAK7J,IAAL,CAAUkB,KAAV,CAAkBgJ,MAAA,CAAOC,IAAP,CAAYN,CAAZ,CAAiB7J,IAAjB,CAAsB8J,GAAtB,CAAlB,CAA6CtQ,MAGzC8Q,EAAJ,CAAQT,CAAR,CAAa3Q,QAAb,CAAsBM,MACtB,KAAUD,CAAV,CAAc,CAAd,CAAiBA,CAAjB,CAAqB+Q,CAArB,CAAwB/Q,CAAA,EAAxB,CACK2G,CAEJ,CAFQ2J,CAAA,CAAK3Q,QAAL,CAAcK,CAAd,CAER,CAAIiR,CAAA,CAAYtK,CAAZ,CAAcF,IAAd,CAAmB8J,GAAnB,CAAwBA,CAAxB,CAAJ,CACCD,CAAA,CAAK3Q,QAAL,CAAcK,CAAd,CADD,CACoB,IADpB,CAGCqQ,CAAA,CAAc1J,CAAd,CAAiB4J,CAAjB,CAAsB,CAAA,CAAtB,CAGFD,EAAA,CAAK3Q,QAAL,CAAgB2Q,CAAA,CAAK3Q,QAAL,CAAcuR,MAAd,CAAqB,QAAQ,CAACvK,CAAD,CAAI,CAChD,MAAY,KAAZ;AAAOA,CADyC,CAAjC,CAGhB2J,EAAA,CAAK7J,IAAL,CAAU0K,aAAV,CAA0Bb,CAA1B,CAA+B3Q,QAA/B,CAAwCM,MAGpCmR,EAAAA,CAAOC,EAAA,CAAG9N,GAAH,CAAO+M,CAAA,CAAK3Q,QAAL,CAAc2R,GAAd,CAAkB,QAAQ,CAAC3K,CAAD,CAAI,CAC/C,MAAOA,EAAP,CAAS4K,WADsC,CAA9B,CAAP,CAGXjB,EAAA,CAAKiB,WAAL,CAAmBtO,IAAA,CAAKM,GAAL,CAAS+M,CAAT,CAAc3Q,QAAd,CAAuBM,MAAvB,CAA+BmR,CAA/B,CA7CnB,CAF0C,CAiF3CH,QAASA,EAAW,CAACO,CAAD,CAAKC,CAAL,CAAS,CAC5B,GAAI,CAACD,CAAL,EAAW,CAACC,CAAZ,CACC,MAAO,CAAA,CAER,KAAMC,IAAIA,CAAV,GAAeF,EAAf,CACC,GAAI,EAAEE,CAAF,GAAOD,EAAP,CAAJ,CACC,MAAO,CAAA,CAGT,OAAO,CAAA,CATqB,CAe7Bf,QAASA,EAAK,CAACc,CAAD,CAAKC,CAAL,CAAS,CACtB,IAAMC,IAAIA,CAAV,GAAeD,EAAf,CACCD,CAAA,CAAGE,CAAH,CAAA,CAAQD,CAAA,CAAGC,CAAH,CAFa,CAMvBC,QAASA,EAAI,EAAG,EAj3ChBvB,UAAA,CAAWwB,UAAX,CAAwBC,QAAQ,EAAG,CA4ElCC,QAASA,EAAI,CAACC,CAAD,CAAY,CAIxBA,CAAA,CAAUvO,IAAV,CAAe,QAAQ,CAACpB,CAAD,CAAIpC,CAAJ,CAAO,CAK7BgS,CAAA,CAAW3P,IAAX,CAAgB,IAAA,CAAK4P,IAAL,EAAhB,CAL6B,CAA9B,CAJwB,CA3EzB,IAAID,EAAa,EAAjB,CAIIE,EAAW,GAJf,CAKIC,EAAQ,GALZ,CAMIC,EAAkB,CAAA,CANtB,CAOIC,EAAU,CACb,KAAS,EADI,CAEb,MAAU,EAFG,CAPd,CAWIC,EAAW,CACd,IAAQX,CADM,CAEd,MAAUA,CAFI,CAGd,MAAUA,CAHI,CAXf,CAgBIY,EAAiB,CAAA,CAhBrB,CAiBIC,EAAc,CAAA,CAjBlB,CAkBIC,EAAUrC,UAAA,CAAWsC,YAAX,CAAwB,OAAxB,CAlBd,CAmBIC,EAAWvC,UAAXuC,CAAsBC,SAnB1B;AAoBIC,EAAiBA,QAAQ,CAACpM,CAAD,CAAO,CACnC,MAAO2J,WAAA,CAAW0C,SAAX,CAAqBrM,CAArB,CAA2B,KAA3B,CAD4B,CApBpC,CAuBIsM,EAAYA,QAAQ,CAACtM,CAAD,CAAO,CAC9B,MAAO,qBADuB,CAvB/B,CA0BIuM,EAAkBA,QAAQ,CAACvM,CAAD,CAAO,CACpC,MAAO,qBAD6B,CA1BrC,CA6BIwM,EAAoBA,QAAQ,CAACxM,CAAD,CAAO,CACtC,MAAO,KAD+B,CA7BvC,CAgCIyM,EAAc,CACjB,KAAS,CACR,KAAS,OADD,CAER,OAAW,WAFH,CAGR,eAAiB,OAHT,CADQ,CAMjB,OAAW,CACV,OAAW,MADD,CAEV,eAAiB,OAFP,CANM,CAhClB,CA4CIC,EAAY,CAAA,CA5ChB,CAiDIC,EAAW/B,EAAA,CAAG+B,QAAH,CAAY,YAAZ,CACfA,EAAA,CAASC,EAAT,CAAY,YAAZ,CAA0B,QAAQ,EAAG,CAChC,IAAJ,EAAYC,CAAZ,EACCC,CAAA,CAAOC,MAAP,CAAcF,CAAd,CAAuBG,eAAvB,CACA,CAAAF,CAAA,CAAOG,mBAAP,EAFD,EAGW,IAHX,EAGmBH,CAHnB,GAICD,CAAA,CAASE,MAAT,CAAgBD,CAAhB,CAAuBE,eAAvB,CACA,CAAAH,CAAA,CAASI,mBAAT,EALD,CADoC,CAArC,CAnDkC,KA6D9BC,CA7D8B,CA6DpBC,CA7DoB,CA6DZN,CA7DY,CA6DFC,CA7DE,CA8D9BM,CA9D8B,CAwE9BC,CAyBJhC,EAAA,CAAKiC,IAAL,CAAYC,QAAQ,CAACC,CAAD,CAAmB,CACtC5C,EAAA,CAAG6C,MAAH,CAAU7C,EAAA,CAAG8C,SAAH,CAAaF,CAAb,CAAV,CAAA,CAA0CG,IAA1C,CAA+C,IAA/C,CACA;MAAOtC,EAF+B,CAQvCA,EAAA,CAAKuC,MAAL,CAAcC,QAAQ,EAAG,CACPxQ,IAAAA,EAAjB,GAAI6P,CAAJ,EAAyC7P,IAAAA,EAAzC,GAA8B8P,CAA9B,EACC9B,CAAA,CAAKyC,cAAL,CAAoBZ,CAApB,CAA8BC,CAA9B,CAGD,OAAO9B,EALiB,CAgBzBA,EAAA,CAAKyC,cAAL,CAAsBC,QAAQ,CAACC,CAAD,CAAUC,CAAV,CAAiB,CAC9Cf,CAAA,CAAWc,CAAA,CAAQE,WAAR,EACXf,EAAA,CAASc,CAAA,CAAMC,WAAN,EAET,KAAIC,EAAejB,CAAA,CAASkB,MAAT,CAAgBxC,CAAhB,CAAwByC,IAAxB,CAAnB,CACIC,EAAanB,CAAA,CAAOiB,MAAP,CAAcxC,CAAd,CAAsB2C,KAAtB,CAEbxE,EAAAA,CAAU,CAAA,CAC8B,EAA5C,CAAIG,MAAA,CAAOC,IAAP,CAAYmE,CAAZ,CAAuBE,MAAvB,CAAJ,CAAmChV,MAAnC,GACCoQ,CAAA,CAAc0E,CAAd,CAA0BA,CAA1B,CAAqCE,MAArC,CAA6CzE,CAA7C,CAEA,CADAH,CAAA,CAAcuE,CAAd,CAA4BG,CAA5B,CAAuCE,MAAvC,CAA+CzE,CAA/C,CACA,CAAAA,CAAA,CAAU,CAAA,CAHX,CAM8C,EAA9C,CAAIG,MAAA,CAAOC,IAAP,CAAYgE,CAAZ,CAAyBK,MAAzB,CAAJ,CAAqChV,MAArC,GACCoQ,CAAA,CAAcuE,CAAd,CAA4BA,CAA5B,CAAyCK,MAAzC,CAAiDzE,CAAjD,CACA,CAAAH,CAAA,CAAc0E,CAAd,CAA0BH,CAA1B,CAAuCK,MAAvC,CAA+CzE,CAA/C,CAFD,CAMI0E,EAAAA,CAAU,EAEd,KAAMxD,IAAIA,CAAV,GAAeqD,EAAf,CAA0BtO,IAA1B,CACU,eAAT,EAAIiL,CAAJ,EAAiC,KAAjC,EAA4BA,CAA5B,EAA+C,OAA/C,EAA0CA,CAA1C,GACCwD,CAAA,CAAQxD,CAAR,CADD,CACcqD,CAAA,CAAWtO,IAAX,CAAgBiL,CAAhB,CADd,CAKDwD,EAAA,CAAQ,qBAAR,CAAA,CAAiCH,CAAjC,CAA4CtO,IAA5C,CAAiD0K,aACjD+D,EAAA,CAAQ,oBAAR,CAAA,CAAgCN,CAAhC,CAA6CnO,IAA7C,CAAkD0K,aAElD+D;CAAA,CAAQ3E,GAAR,CAAc,EACdG,EAAA,CAAMwE,CAAN,CAAc3E,GAAd,CAAmBwE,CAAnB,CAA8BtO,IAA9B,CAAmC8J,GAAnC,CACAG,EAAA,CAAMwE,CAAN,CAAc3E,GAAd,CAAmBqE,CAAnB,CAAgCnO,IAAhC,CAAqC8J,GAArC,CACA2E,EAAA,CAAQvN,KAAR,CAAgBgJ,MAAA,CAAOC,IAAP,CAAYsE,CAAZ,CAAoB3E,GAApB,CAAhB,CAAyCtQ,MACzC4T,EAAA,CAAalD,MAAA,CAAOC,IAAP,CAAYsE,CAAZ,CAAoB3E,GAApB,CAEb,IAAIwE,CAAJ,CAAetO,IAAf,CAAoBgK,OAApB,EAA+BmE,CAA/B,CAA4CnO,IAA5C,CAAiDgK,OAAjD,CACCyE,CAGA,CAHQzE,OAGR,CAHkB,EAGlB,CAFAC,CAAA,CAAMwE,CAAN,CAAczE,OAAd,CAAuBsE,CAAvB,CAAkCtO,IAAlC,CAAuCgK,OAAvC,CAEA,CADAC,CAAA,CAAMwE,CAAN,CAAczE,OAAd,CAAuBmE,CAAvB,CAAoCnO,IAApC,CAAyCgK,OAAzC,CACA,CAAAyE,CAAA,CAAQrE,SAAR,CAAoBF,MAAA,CAAOC,IAAP,CAAYsE,CAAZ,CAAoBzE,OAApB,CAApB,CAAiDxQ,MAGlD8U,EAAA,CAAWtO,IAAX,CAAkByO,CAClBN,EAAA,CAAanO,IAAb,CAAoByO,CAEhB3D,EAAAA,CAActO,IAAA,CAAKM,GAAL,CAASqR,CAAT,CAAsBrD,WAAtB,CAChBwD,CADgB,CACLxD,WADK,CAElB,IAAI4D,KAAA,CAAM5D,CAAN,CAAJ,EAAyC,CAAzC,EAA0BA,CAA1B,CAEC,MADA4B,EACOrB,CADK,CAAA,CACLA,CAAAA,CAGJU,EAAJ,CACCsB,CADD,CACazC,EAAA,CAAG+D,QAAH,EAAA,CAAcC,KAAd,CAAoB,CAzGfC,CAyGe,CA9GlBC,EA8GkB,CAApB,CADb,EAGCzB,CAGA,CAHYA,QAAQ,EAAG,CACtB,MAjHayB,GAgHS,CAGvB,CAAAzB,CAAA,CAAU0B,MAAV,CAAmBC,QAAQ,EAAG,EAN/B,CAWA3B,EAAA,CAAU0B,MAAV,CAAiB,CADFvS,IAAAyS,CAAKzG,GAALyG,CAASd,CAATc,CAAsBA,QAAtBA,CAAgCX,CAAhCW,CAA2CA,QAA3CA,CACE,CAAYd,CAAZ,CAAyBnO,IAAzB,CAA8BkB,KAA9B,CAAjB,CASA,KAAI1J,EAAQiU,CAARjU,CAJK+W,EAIL/W,CAFI6W,EAER,CACI/W,EAASoU,CAATpU,CANG4X,EAMH5X,CAJM6X,EAMV5D,EAAA,CAAW6D,OAAX,CAAmB,QAAQ,CAACzT,CAAD;AAAIpC,CAAJ,CAAO,CAI7B8V,CAAAA,CAAMzE,EAAA,CAAG6C,MAAH,CAHU9R,CAGV,CAAA,CAAyB8R,MAAzB,CAAgC,KAAhC,CACQ,KAAlB,EAAI4B,CAAA,CAAI7D,IAAJ,EAAJ,EACC8D,CAUA,CAVU1E,EAAA,CAAG6C,MAAH,CALS9R,CAKT,CAAA,CAAyB4T,MAAzB,CAAgC,KAAhC,CAAA,CACRC,IADQ,CACH,OADG,CACMhY,CADN,CAbH+W,EAaG,CAXJF,EAWI,CAAA,CAERmB,IAFQ,CAEH,QAFG,CAEOlY,CAFP,CAdL4X,EAcK,CAZFC,EAYE,CAAA,CAGRK,IAHQ,CAGH,QAHG,CAGO,MAHP,CAAA,CAIR7B,IAJQ,CAIH/C,EAAA,CAAG6E,IAAH,EAAA,CAAUC,WAAV,CAAsB,CAAC,CAAD,CAAG,CAAH,CAAtB,CAAA,CAA6B9C,EAA7B,CAAgC,MAAhC,CAAwC,QAAQ,EAAG,CACxD,IAAI/Q,EAAI+O,EAAJ/O,CAAO0F,KAAP1F,CAAa8T,SAAb9T,CAAuBA,CAAvBA,CAA2BrE,CAA3BqE,CAAiC,CAArC,CACIkF,EAAI6J,EAAJ7J,CAAOQ,KAAPR,CAAa4O,SAAb5O,CAAuBA,CAAvBA,CAA2BzJ,CAA3ByJ,CAAkC,CACtC6J,GAAA,CAAG6C,MAAH,CAZiB9R,CAYjB,CAAA,CAAyB8R,MAAzB,CAAgC,SAAhC,CAAA,CAA2C+B,IAA3C,CAAgD,WAAhD,CAA6D,YAA7D,CAA0E3T,CAA1E,CAA4E,GAA5E,CAAgFkF,CAAhF,CAAkF,GAAlF,CAHwD,CAAnD,CAJG,CAUV,CAAAuO,CAAA,CAAQC,MAAR,CAAe,GAAf,CAAA,CACEC,IADF,CACO,WADP,CACoB,YADpB,CACiChY,CADjC,CACuC,CADvC,CACyC,GADzC,CAC6CF,CAD7C,CACoD,CADpD,CACsD,GADtD,CAXD,GAgBCgY,CAAA,CACEE,IADF,CACO,OADP,CACgBhY,CADhB,CA5BO+W,EA4BP,CA1BMF,EA0BN,CAAA,CAEEmB,IAFF,CAEO,QAFP,CAEiBlY,CAFjB,CA7BK4X,EA6BL,CA3BQC,EA2BR,CAGA,CAAAG,CAAA,CAAQ5B,SAAR,CAAkB,KAAlB,CAAA,CAAyBkC,MAAzB,EAnBD,CAuBA/C,EAAA,CAAW,IAAIlD,UAAJ,CAAekG,IAAf,CAAoBP,CAAA,CAAQ7B,MAAR,CAAe,GAAf,CAApB;AACThC,CADS,CACCC,CADD,CACQyC,CADR,CACsB,CAAA,CADtB,CAETnC,CAFS,CAEAW,CAFA,CAEUU,CAFV,CAEqBvB,CAFrB,CAGTI,CAHS,CAGCE,CAHD,CAGiBE,CAHjB,CAITC,CAJS,CAIQC,CAJR,CAI2BC,CAJ3B,CAKXK,EAAA,CAAS,IAAInD,UAAJ,CAAekG,IAAf,CAAoBP,CAAA,CAAQ7B,MAAR,CAAe,GAAf,CAApB,CACPhC,CADO,CACGC,CADH,CACU4C,CADV,CACsB,CAAA,CADtB,CAEPtC,CAFO,CAEEW,CAFF,CAEYU,CAFZ,CAEuBvB,CAFvB,CAGPI,CAHO,CAGGE,CAHH,CAGmBE,CAHnB,CAIPC,CAJO,CAIUC,CAJV,CAI6BC,CAJ7B,CAjCwB,CAAlC,CAwCAI,EAAA,CAASiD,cAAT,CAA0BjE,CAA1B,CAAmCkE,GACnCjD,EAAA,CAAOgD,cAAP,CAAwBjE,CAAxB,CAAiCkE,GAEjClD,EAAA,CAASmD,gBAAT,CAA4BnE,CAA5B,CAAqCoE,KACrCnD,EAAA,CAAOkD,gBAAP,CAA0BnE,CAA1B,CAAmCoE,KAEnCpD,EAAA,CAASqD,WAAT,CAAuBrE,CAAvB,CAAgCsE,KAChCrD,EAAA,CAAOoD,WAAP,CAAqBrE,CAArB,CAA8BsE,KAE9BzD,EAAA,CAAY,CAAA,CACZ,OAAOrB,EA/HuC,CAoK/CA,EAAA,CAAK+E,eAAL,CAAuBC,QAAQ,CAACC,CAAD,CAAcC,CAAd,CAAwBC,CAAxB,CAAqCC,CAArC,CAA8CC,CAA9C,CAA6DC,CAA7D,CAAyEC,CAAzE,CAAqFC,CAArF,CAAgH,CAE1IxT,IAAAA,EAAJ,EAAiBqT,CAAjB,EAAkCxD,CAAlC,GACCwD,CADD,CACiBxD,CAAA,CAASwD,aAAT,EADjB,CAGIrT,KAAAA,EAAJ,EAAiBsT,CAAjB,EAA+BzD,CAA/B,GACCyD,CADD,CACczD,CAAA,CAASyD,UAAT,EADd,CAGItT,KAAAA,EAAJ,EAAiBuT,CAAjB,EAA+B1D,CAA/B,GACC0D,CADD,CACc1D,CAAA,CAAS0D,UAAT,EADd,CAGIvT,KAAAA,EAAJ,EAAiBwT,CAAjB,EAA8C3D,CAA9C,GACC2D,CADD,CAC6B3D,CAAA,CAAS2D,yBAAT,EAD7B,CAIA3D,EAAA,CAAW,IAAIvD,UAAJ,CAAemH,IAAf,CAAoBJ,CAApB,CAAmCC,CAAnC,CAA+CC,CAA/C,CAA2DC,CAA3D,CACX1D,EAAA,CAAS,IAAIxD,UAAJ,CAAemH,IAAf,CAAoBJ,CAApB;AAAmCC,CAAnC,CAA+CC,CAA/C,CAA2DC,CAA3D,CAELvG,EAAAA,CAAIiG,CAAJjG,CAAa9Q,MACjB,KAAUD,CAAV,CAAc,CAAd,CAAiBA,CAAjB,CAAqB+Q,CAArB,CAAwB/Q,CAAA,EAAxB,CAA6B,CACxBwX,CAAAA,CAASN,CAAA,CAAUA,CAAA,CAAQlX,CAAR,CAAV,CAAuBA,CAChCyX,EAAAA,CAAUT,CAAA,CAAShX,CAAT,CACd,KAAI0X,EAAgBX,CAAA,CAAY/W,CAAZ,CAAA,CAAe4C,KAAf,EAApB,CACI+U,EAAgBV,CAAA,CAAYjX,CAAZ,CAAA,CAAe4C,KAAf,EAEpB8U,EAAA,CAAcrV,IAAd,CAAmBoV,CAAnB,CACAC,EAAA,CAAcE,OAAd,EACAD,EAAA,CAAcE,OAAd,CAAsBJ,CAAtB,CAkBIrF,EAAJ,EACCwB,CAAA,CAAOkE,QAAP,CAAgBJ,CAAhB,CAA+BF,CAA/B,CACA,CAAA7D,CAAA,CAASmE,QAAT,CAAkBH,CAAlB,CAAiCH,CAAjC,CAFD,GAIC7D,CAAA,CAASmE,QAAT,CAAkBJ,CAAlB,CAAiCF,CAAjC,CACA,CAAA5D,CAAA,CAAOkE,QAAP,CAAgBH,CAAhB,CAA+BH,CAA/B,CALD,CA1B4B,CAmC7B1F,CAAA,CAAKyC,cAAL,CAAoBZ,CAApB,CAA8BC,CAA9B,CACA,OAAO9B,EAvDuI,CA8D/IA,EAAA,CAAKiG,WAAL,CAAmBC,QAAQ,EAAG,CAC7B,MAAOnE,EADsB,CAc9B/B,EAAA,CAAKmG,MAAL,CAAcC,QAAQ,CAACC,CAAD,CAAW,CAChC7E,CAAA,CAAS2E,MAAT,CAAgBE,CAAhB,CACA5E,EAAA,CAAO0E,MAAP,CAAcE,CAAd,CAEIpC,EAAAA,CAAU1E,EAAA,CAAG6C,MAAH,CAAUlC,CAAA,CAAW,CAAX,CAAV,CACd,KAAIoG,EAAQrC,CAAA,CAAQ5B,SAAR,CAAkB,gBAAlB,CAEZ,IAAIiE,CAAA,CAAMC,KAAN,EAAJ,CACC,MAAO,EAGJC,EAAAA,CAAOF,CAAA,CAAM,CAAN,CAAPE,CAAgBrY,MAIE,KAAtB,EAFc8V,CAAAwC,CAAQpE,SAARoE,CAAkB,yBAAlBA,CAEV,CAAQtG,IAAR,EAAJ,EACCqG,CAAA,EAGD,OAAOA,EAnByB,CA2BjCxG,EAAA,CAAK0G,WAAL,CAAmBC,QAAQ,EAAG,CAC7BnF,CAAA,CAASkF,WAAT,EACAjF;CAAA,CAAOiF,WAAP,EACA,OAAO1G,EAHsB,CAkB9BA,EAAA,CAAK4G,iBAAL,CAAyBC,QAAQ,EAAG,CACnCrF,CAAA,CAASsF,eAAT,CAAyBrG,CAAzB,CACAgB,EAAA,CAAOqF,eAAP,CAAuBrG,CAAvB,CAMA,KAAIsG,EADUxH,EAAA0E,CAAG7B,MAAH6B,CAAU/D,CAAA,CAAW,CAAX,CAAV+D,CACC,CAAQ7B,MAAR,CAAe,+BAAf,CACV2E,EAAA,CAASR,KAAT,EAAL,EAEW,KAFX,EACUQ,CAAAC,CAASvQ,KAATuQ,CAAe,QAAfA,CADV,EAGEhH,CAAA,CAAKuC,MAAL,EAIF,OAAOvC,EAhB4B,CA0BpCA,EAAA,CAAKI,QAAL,CAAgB6G,QAAQ,CAAC7b,CAAD,CAAQ,CAC/B,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOiS,EACRA,EAAA,CAAWhV,CACX,OAAO4U,EAJwB,CAQhCA,EAAA,CAAKmH,SAAL,CAAiBC,QAAQ,CAAChc,CAAD,CAAQ,CAChC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOkS,EACRA,EAAA,CAAQjV,CACR,OAAO4U,EAJyB,CAkBjCA,EAAA,CAAKM,eAAL,CAAuB+G,QAAQ,CAACjc,CAAD,CAAQ,CACtC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOmS,EACRA,EAAA,CAAkBlV,CAClB,OAAO4U,EAJ+B,CAyBvCA,EAAA,CAAKO,OAAL,CAAe+G,QAAQ,CAAClc,CAAD,CAAQ,CAC9B,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOoS,EACRA,EAAA,CAAUnV,CACV,OAAO4U,EAJuB,CAmB/BA,EAAA,CAAKQ,QAAL;AAAgB+G,QAAQ,CAACnc,CAAD,CAAQ,CAC/B,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOqS,EACRA,EAAA,CAAWpV,CACX,OAAO4U,EAJwB,CAmBhCA,EAAA,CAAKS,cAAL,CAAsB+G,QAAQ,CAACpc,CAAD,CAAQ,CACrC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOsS,EACRA,EAAA,CAAiBrV,CACjB,OAAO4U,EAJ8B,CAetCA,EAAA,CAAKU,WAAL,CAAmB+G,QAAQ,CAACrc,CAAD,CAAQ,CAClC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOuS,EACRA,EAAA,CAActV,CACd,OAAO4U,EAJ2B,CAenCA,EAAA,CAAKqB,SAAL,CAAiBqG,QAAQ,EAAG,CAC3B,MAAOrG,EADoB,CAiB5BrB,EAAA,CAAKW,OAAL,CAAegH,QAAQ,CAACvc,CAAD,CAAQ,CAC9B,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOwS,EACRA,EAAA,CAAUvV,CACV,OAAO4U,EAJuB,CAmB/BA,EAAA,CAAKa,QAAL,CAAgB+G,QAAQ,CAACxc,CAAD,CAAQ,CAC/B,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAO0S,EACRA,EAAA,CAAWzV,CACX,OAAO4U,EAJwB,CAmBhCA,EAAA,CAAKe,cAAL,CAAsB8G,QAAQ,CAACzc,CAAD,CAAQ,CACrC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAO4S,EACRA,EAAA,CAAiB3V,CACjB,OAAO4U,EAJ8B,CAkBtCA,EAAA,CAAKiB,SAAL,CAAiB6G,QAAQ,CAAC1c,CAAD,CAAQ,CAChC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAO8S,EACRA,EAAA,CAAY7V,CACZ,OAAO4U,EAJyB,CAkBjCA;CAAA,CAAKkB,eAAL,CAAuB6G,QAAQ,CAAC3c,CAAD,CAAQ,CACtC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAO+S,EACRA,EAAA,CAAkB9V,CAClB,OAAO4U,EAJ+B,CAkBvCA,EAAA,CAAKmB,iBAAL,CAAyB6G,QAAQ,CAAC5c,CAAD,CAAQ,CACxC,GAAI,CAAC8b,SAAD,CAAW/Y,MAAf,CACC,MAAOgT,EACRA,EAAA,CAAoB/V,CACpB,OAAO4U,EAJiC,CAiBzCA,EAAA,CAAKoB,WAAL,CAAmB6G,QAAQ,CAACC,CAAD,CAAY,CACtC,GAAI,CAAChB,SAAD,CAAW/Y,MAAf,CACC,MAAOiT,EAERvC,OAAA,CAAOC,IAAP,CAAYsC,CAAZ,CAAA,CAAyB2C,OAAzB,CACC,QAAQ,CAACoE,CAAD,CAAS,CACZA,CAAJ,GAAcD,EAAd,EACCrJ,MAAA,CAAOC,IAAP,CAAYsC,CAAA,CAAY+G,CAAZ,CAAZ,CAAA,CAAiCpE,OAAjC,CACC,QAAQ,CAACI,CAAD,CAAO,CACVA,CAAJ,GAAY+D,EAAA,CAAUC,CAAV,CAAZ,GACC/G,CAAA,CAAY+G,CAAZ,CAAA,CAAoBhE,CAApB,CADD,CAC6B+D,CAAA,CAAUC,CAAV,CAAA,CAAkBhE,CAAlB,CAD7B,CADc,CADhB,CAFe,CADlB,CAWA,OAAOnE,EAf+B,CAkBvC,OAAOA,EAvrB2B,CA4rBnC1B,WAAA,CAAWkG,IAAX,CAAkB4D,QAAQ,CAACC,CAAD,CAAMjI,CAAN,CAAgBC,CAAhB,CAAuBiI,CAAvB,CAA6BC,CAA7B,CACxB5H,CADwB,CACfW,CADe,CACLU,CADK,CACMwG,CADN,CACqBC,CADrB,CAExBC,CAFwB,CAELC,CAFK,CAESC,CAFT,CAEwBC,CAFxB,CAGxBC,CAHwB,CAGZ,CA8CbC,QAASA,EAAQ,CAACzY,CAAD,CAAI,CAChBA,CAAJ,CAAMzC,QAAN,GACCyC,CAEA,CAFE0Y,SAEF,CAFc1Y,CAEd,CAFgBzC,QAEhB,CADAyC,CAAA,CAAE0Y,SAAF,CAAYjF,OAAZ,CAAoBgF,CAApB,CACA,CAAAzY,CAAA,CAAEzC,QAAF,CAAa,IAHd,CADoB,CASrBob,QAASA,EAAgB,CAACC,CAAD,CAAK,CACzBA,CAAJ,CAAOC,MAAP;AACCD,CAAA,CAAGC,MAAH,CAAUtb,QAAV,CAAmBkW,OAAnB,CAA2B,QAAQ,CAACzT,CAAD,CAAI,CAClCA,CAAJ,EAAS4Y,CAAT,EACCH,CAAA,CAASzY,CAAT,CAFqC,CAAvC,CAF4B,CAwO9BwU,QAASA,EAAK,CAACxU,CAAD,CAAIpC,CAAJ,CAAO,CAChBqR,EAAJ,CAAOrJ,KAAP,CAAakT,MAAb,CACCrV,CAAA,CAAK0Q,cAAL,CAAoBnU,CAApB,CAAuBpC,CAAvB,CADD,CAKIqR,EAAJ,CAAOrJ,KAAP,CAAamT,QAAb,CACCtV,CAAA,CAAK4Q,gBAAL,CAAsBrU,CAAtB,CAAyBpC,CAAzB,CADD,EAMA6F,CAAA,CAAK8Q,WAAL,CAAiBvU,CAAjB,CAAoBpC,CAApB,CAEA,CAAKoC,CAAL,CAAO6Y,MAAP,GAGIpV,CAYJ,CAZS4N,eAYT,EAZ4BrR,CAY5B,CAZ8BgY,IAY9B,CAZmC3T,IAYnC,CAZwC8J,GAYxC,GAXC1K,CAAA,CAAK2N,MAAL,CAAYpR,CAAZ,CAAcgY,IAAd,CAAmB3T,IAAnB,CAAwB8J,GAAxB,CAEA,CADA1K,CACA,CADKuV,WACL,CADmBhZ,CACnB,CADqBjE,EACrB,CAAAiV,CAAA,CAASgB,IAAT,CAAc,YAAd,CAA4BvO,CAA5B,CASD,EANAkV,CAAA,CAAiB3Y,CAAjB,CAMA,CAAAiZ,CAAA,CAAejZ,CAAf,CAAkB,CAAA,CAAlB,CAfA,CARA,CANoB,CAgCrBiZ,QAASA,EAAc,CAACjZ,CAAD,CAAIkZ,CAAJ,CAAY,CAK9BlZ,CAAJ,CAAMzC,QAAN,EACKyC,CAMJ,CANMzC,QAMN,EANuC,CAMvC,EANkByC,CAMlB,CANoBzC,QAMpB,CAN6BM,MAM7B,EALCob,CAAA,CAAejZ,CAAA,CAAEzC,QAAF,CAAW,CAAX,CAAf,CAA8B,CAAA,CAA9B,CAKD,CADAyC,CACA,CADE0Y,SACF,CADc1Y,CACd,CADgBzC,QAChB,CAAAyC,CAAA,CAAEzC,QAAF,CAAa,IAPd,GAUCyC,CAIA,CAJEzC,QAIF,CAJayC,CAIb,CAJe0Y,SAIf,CAHA1Y,CAGA,CAHE0Y,SAGF,CAHc,IAGd,CAAI1Y,CAAJ,CAAMzC,QAAN,EAAuC,CAAvC,EAAkByC,CAAlB,CAAoBzC,QAApB,CAA6BM,MAA7B,EACCob,CAAA,CAAejZ,CAAA,CAAEzC,QAAF,CAAW,CAAX,CAAf;AAA8B,CAAA,CAA9B,CAfF,CAkBI2b,EAAJ,EACCzV,CAAA,CAAKyV,MAAL,CAAYlZ,CAAZ,CAxBiC,CA4EnCmZ,QAASA,EAAS,CAACjZ,CAAD,CAAI,CACrB,MAAO+X,EAAA,CAAS,CAAC/X,CAAV,CAAcA,CADA,CA1YtB,IAAIiQ,EAA0B+H,CAA9B,CAKIvH,EAAY0H,CAUbxc,EAAAA,CAAQiU,CAARjU,CAHM+W,EAGN/W,CADK6W,EAC0C/W,EAAAA,CAASoU,CAATpU,CAJ3C4X,EAI2C5X,CAFxC6X,EAdG,KAgBkF5V,EAAI,CAhBtF,CAgByGwb,CAGjH/I,EAAL,GACCA,CADD,CACWrC,UAAA,CAAWsC,YAAX,CAAwB,OAAxB,CADX,CAII1S,EAAJ,CAAQ,CACR,KAAIsQ,EAAOe,EAAA,CAAGf,IAAH,EAAA,CACVX,IADU,CACL,CAAC5R,CAAD,CAASE,CAAT,CADK,CAAA,CAEVwd,QAFU,CAED,CAAE,EAAF,CAAM,EAAN,CAFC,CAAX,CAKIC,EAAWrK,EAAA,CAAGsK,cAAH,EAAA,CACbrZ,CADa,CACX,QAAQ,CAACF,CAAD,CAAI,CAAE,MAAOmZ,EAAA,CAAUnZ,CAAV,CAAYoF,CAAZ,CAAT,CADD,CAAA,CAEbA,CAFa,CAEX,QAAQ,CAACpF,CAAD,CAAI,CAAE,MAAiBA,EAAjB,CAAmBE,CAArB,CAFD,CAIf6X,EAAA,CAAMA,CAAA,CAAInE,MAAJ,CAAW,GAAX,CAAA,CAAgBC,IAAhB,CAAqB,WAArB,CAAkC,kBAAlC,CAGN,KAAA,CAAK2F,YAAL,CAAoBC,QAAQ,CAACC,CAAD,CAAO,CAClCN,CAAA,CAAOnK,EAAA,CAAG0K,SAAH,CAAaD,CAAb,CACPN,EAAA,CAAKQ,EAAL,CAAU,CACVR,EAAA,CAAKS,EAAL,CAAU,CAEVT,EAAA,CAAK7b,QAAL,CAAckW,OAAd,CAAsBgF,CAAtB,CACA,KAAA,CAAKS,MAAL,CAAYE,CAAZ,CANkC,CA6BnC,KAAA,CAAKF,MAAL,CAAcY,QAAQ,CAACC,CAAD,CAAS,CAQ9B,IAAIC,EADW9L,CAAA+L,CAAKb,CAALa,CACH,CAASC,WAAT,EAIZF,EAAA,CAAMvG,OAAN,CAAc,QAAQ,CAACzT,CAAD,CAAI,CACzB,IAAIma,EAAWna,CAAXma,CAAaA,QACjB,IAAgBzY,IAAAA,EAAhB;AAAIyY,CAAJ,CAA2B,CAC1BA,CAAA,CAAW,CAEX,KADA,IAAItB,EAAS7Y,CAAT6Y,CAAWA,MACf,CAAiB,IAAjB,EAAOA,CAAP,CAAA,CAAuB,CACtB,IAAIuB,EAAWnf,GAAA,CAAIof,IAAJ,CAASC,YAAT,CAAsBlY,WAAtB,CAAkCyW,CAAlC,CAAyCb,IAAzC,CAA8CuC,IAA9C,CAAoD,OAApD,CAAXH,CAAwEve,KAC5Ese,EAAA,EAAYC,CACZvB,EAAA,CAASA,CAAT,CAAgBA,MAHM,CAKvB7Y,CAAA,CAAEma,QAAF,CAAaA,CARa,CAU3Bna,CAAA,CAAEoF,CAAF,CAd4BoV,EAc5B,CAAOxa,CAAP,CAASya,KAAT,CAA2CN,CAZlB,CAA1B,CAiBA,KAAItK,EAAOkI,CAAA,CAAIhG,SAAJ,CAAc,SAAd,CAA0BkG,CAA1B,CAAA,CACTD,IADS,CACJgC,CADI,CACG,QAAQ,CAACha,CAAD,CAAI,CACxB,MAAOA,EAAP,CAASjE,EAAT,GAAgBiE,CAAhB,CAAkBjE,EAAlB,CAAuB,EAAE6B,CAAzB,CADwB,CADf,CAAX,CAMI8c,EAAY7K,CAAA,CAAK8K,KAAL,EAAA,CAAa/G,MAAb,CAAoB,GAApB,CAAA,CAAyBC,IAAzB,CAA8B,OAA9B,CAAuC,YAAvC,CAAsDoE,CAAtD,CAAA,CAA8DpE,IAA9D,CAAmE,QAAnE,CAA6E,SAA7E,CAAA,CACdA,IADc,CACT,WADS,CACI,QAAQ,CAAC7T,CAAD,CAAI,CAC9B,MAAO,YAAP,CAAsBmZ,CAAA,CAAUY,CAAV,CAAiBF,EAAjB,CAAtB,CAA6C,GAA7C,CAA6DE,CAA7D,CAAoEH,EAApE,CAA0E,GAD5C,CADhB,CAAA,CAId3I,EAJc,CAIX,OAJW,CAIFuD,CAJE,CAMhBkG,EAAA,CAAU9G,MAAV,CAAiB,OAAjB,CAAA,CAA0BgH,IAA1B,CAA+B,QAAQ,CAAC5a,CAAD,CAAI,CAE1C,MADWgO,WAAAkI,CAAW2E,UAAX3E,CAAsBlW,CAAtBkW,CAAwB8B,IAAxB9B,CAA6B7R,IAA7B6R,CAD+B,CAA3C,CAKAwE,EAAA,CAAU9G,MAAV,CAAiB,QAAjB,CAAA,CACEC,IADF,CACO,GADP,CACY,IADZ,CAAA,CAEE1N,KAFF,CAEQ,MAFR;AAEgB,QAAQ,CAACnG,CAAD,CAAI,CAC1B,MAAOA,EAAA,CAAE0Y,SAAF,CAAc,MAAd,CAzGQF,CAyGR,CAAmC3I,IAAnC,CAAwC7K,IADrB,CAF5B,CAAA,CAKEmB,KALF,CAKQ,QALR,CAKkB,QAAQ,CAACnG,CAAD,CAAI,CAC5B,MA5GewY,EA4Gf,CAAmB3I,IAAnB,CAAwB9L,MADI,CAL9B,CASA,KAAI+W,EAAUJ,CAAA,CAAU9G,MAAV,CAAiB,MAAjB,CAAA,CAAyBC,IAAzB,CAA8B,OAA9B,CAAuC,QAAQ,CAAC7T,CAAD,CAAI,CAChE,MAAe,EAAf,EAAIA,CAAJ,CAAMya,KAAN,CACQ,UADR,CAGQ,EAJwD,CAAnD,CAAA,CAMX5G,IANW,CAMN,GANM,CAMD,QAAQ,CAAC7T,CAAD,CAAI,CACxB,MAAIA,EAAJ,CAAMzC,QAAN,EAAkByC,CAAlB,CAAoB0Y,SAApB,CACQ,CADR,CAGQT,CAAA,CAAS,EAAT,CAAc,GAJE,CANX,CAAA,CAYXpE,IAZW,CAYN,aAZM,CAYS,QAAQ,CAAC7T,CAAD,CAAI,CAClC,MAAKA,EAAL,CAAO6Y,MAAP,CAGI7Y,CAAJ,CAAMzC,QAAN,EAAkByC,CAAlB,CAAoB0Y,SAApB,CACQT,CAAA,CAAS,KAAT,CAAiB,OADzB,CAGQA,CAAA,CAAS,OAAT,CAAmB,KAN3B,CACQ,QAF0B,CAZrB,CAAA,CAqBX9R,KArBW,CAqBL,WArBK,CAqBQ,QAAQ,CAACnG,CAAD,CAAI,CAMjC,MAAO0R,EAAA,CAAU1R,CAAV,CAAYgY,IAAZ,CAAiB3T,IAAjB,CAAsBkB,KAAtB,CAAP,CAAsC,IANL,CArBpB,CA8BduV,EAAA,CAAQlH,MAAR,CAAe,OAAf,CAAA,CAAwBC,IAAxB,CAA6B,IAA7B,CAAmC,OAAnC,CAAA,CAA4CA,IAA5C,CAAiD,OAAjD,CAA0D,WAA1D,CAAA,CAAuE+G,IAAvE,CAA4E,QAAQ,CAAC5a,CAAD,CAAI,CACvF,MAnJamY,EAmJN,CAASnY,CAAT,CAAWgY,IAAX,CAAgB3T,IAAhB;AAAgC,CAAhC,CAAsBrE,CAAtB,CAAwBya,KAAxB,CADgF,CAAxF,CAAA,CAEGtU,KAFH,CAES,cAFT,CAEyB,IAFzB,CAIA2U,EAAA,CAAQlH,MAAR,CAAe,OAAf,CAAA,CAAwBC,IAAxB,CAA6B,IAA7B,CAAmC,OAAnC,CAAA,CAA4CA,IAA5C,CAAiD,OAAjD,CAA0D,YAA1D,CAAA,CAAwE+G,IAAxE,CAA6E,QAAQ,CAAC5a,CAAD,CAAI,CACxF,MAtJmBoY,EAsJZ,CAAepY,CAAf,CAAiBgY,IAAjB,CAAsB3T,IAAtB,CAAsC,CAAtC,CAA4BrE,CAA5B,CAA8Bya,KAA9B,CADiF,CAAzF,CAAA,CAEGtU,KAFH,CAES,cAFT,CAEyB,IAFzB,CAKA,KAAA,CAAK4U,SAAL,EAEIC,EAAAA,CAAaN,CAAA,CAAUO,KAAV,CAAgBpL,CAAhB,CAGjBmL,EAAA,CAAWE,UAAX,EAAA,CAAwBC,QAAxB,CApJgHA,GAoJhH,CAAA,CACEtH,IADF,CACO,WADP,CACoB,QAAQ,CAAC7T,CAAD,CAAI,CAC9B,MAAO,YAAP,CAAsBmZ,CAAA,CAAUnZ,CAAV,CAAYoF,CAAZ,CAAtB,CAAuC,GAAvC,CAAuDpF,CAAvD,CAAyDE,CAAzD,CAA8D,GADhC,CADhC,CAKA8a,EAAA,CAAWlJ,MAAX,CAAkB,QAAlB,CAAA,CAEE+B,IAFF,CAEO,GAFP,CAEY,QAAQ,CAAC7T,CAAD,CAAI,CACtB,MAAQA,EAAD,CAAGzC,QAAH,EAAeyC,CAAf,CAAiB0Y,SAAjB,CAA8B,IAA9B,CAAqC,GADtB,CAFxB,CAAA,CAKEvS,KALF,CAKQ,MALR,CAKgB,QAAQ,CAACnG,CAAD,CAAI,CAC1B,MAAOA,EAAA,CAAE0Y,SAAF,CAAc,MAAd,CAtKQF,CAsKR,CAAmC3I,IAAnC,CAAwC7K,IADrB,CAL5B,CAAA,CASEmB,KATF,CASQ,cATR,CAhKiBqS,CAyKO,CAAY3I,IAAZ,CAAiB,cAAjB,CATxB,CAWAmL;CAAA,CAAWjJ,SAAX,CAAqB,OAArB,CAAA,CAA8B5L,KAA9B,CAAoC,cAApC,CAAoD,CAApD,CAGIiV,EAAAA,CAAWvL,CAAA,CAAKwL,IAAL,EAAA,CAAYH,UAAZ,EAAA,CAAyBC,QAAzB,CAvKiGA,GAuKjG,CAAA,CAA4CtH,IAA5C,CAAiD,WAAjD,CAA8D,QAAQ,CAAC7T,CAAD,CAAI,CACxF,MAAO,YAAP,CAAsBmZ,CAAA,CAAUY,CAAV,CAAiB3U,CAAjB,CAAtB,CAA4C,GAA5C,CAA4D2U,CAA5D,CAAmE7Z,CAAnE,CAAwE,GADgB,CAA1E,CAAA,CAEZ+T,MAFY,EAIfmH,EAAA,CAAStJ,MAAT,CAAgB,QAAhB,CAAA,CAA0B+B,IAA1B,CAA+B,GAA/B,CAAoC,IAApC,CAGAuH,EAAA,CAASrJ,SAAT,CAAmB,OAAnB,CAAA,CAA4B5L,KAA5B,CAAkC,cAAlC,CAAkD,IAAlD,CAGImV,EAAAA,CAAOvD,CAAA,CAAIhG,SAAJ,CAAc,YAAd,CAA6BkG,CAA7B,CAAA,CACTD,IADS,CACJoB,CAAA,CAAKmC,KAAL,EADI,CACU,QAAQ,CAACvb,CAAD,CAAI,CAE/B,MADSA,EACT,CADW+Z,MACX,CADkBhe,EAClB,CADqB,GACrB,CADyBiE,CACzB,CAD2Bwb,MAC3B,CADkCzf,EADH,CADtB,CAOKuf,EAAA,CAAKX,KAAL,EAAA,CAAac,MAAb,CAAoB,MAApB,CAA4B,GAA5B,CAAA,CAAiC5H,IAAjC,CAAsC,OAAtC,CAA+C,YAA/C,CAA8DoE,CAA9D,CAAA,CACdpE,IADc,CACT,GADS,CACJ,QAAQ,CAAC7T,CAAD,CAAI,CAClB2L,CAAAA,CAAI,CAACzL,EAAG6Z,CAAH7Z,CAAU0Z,EAAX,CAAexU,EAAG2U,CAAH3U,CAAUyU,EAAzB,CACR,OAAOP,EAAA,CAAS,CAACS,OAAQpO,CAAT,CAAY6P,OAAQ7P,CAApB,CAAT,CAFe,CADR,CAAA,CAKdxF,KALc,CAKR,MALQ,CAKA,MALA,CAAA,CAKQA,KALR,CAKc,QALd;AA/LCqS,CA+LD,CAKoCkD,MALpC,CAK2C3X,MAL3C,CAAA4X,CAKmDxV,KALnDwV,CAKyD,cALzDA,CA/LCnD,CAoMwE,CAAYkD,MAAZ,CAAmB,cAAnB,CALzEC,CAOCC,CAAUX,KAAVW,CAAgBN,CAAhBM,CAGjB,CAAWV,UAAX,EAAA,CAAwBC,QAAxB,CAlMgHA,GAkMhH,CAAA,CAA2CtH,IAA3C,CAAgD,GAAhD,CAAqDyF,CAArD,CAGegC,EAAA,CAAKD,IAAL,EAAA,CAAYH,UAAZ,EAAA,CAAyBC,QAAzB,CArMiGA,GAqMjG,CAAA,CACbtH,IADa,CACR,GADQ,CACH,QAAQ,CAAC7T,CAAD,CAAI,CAClB2L,CAAAA,CAAI,CAACzL,EAAG6Z,CAAH7Z,CAAU0Z,EAAX,CAAexU,EAAG2U,CAAH3U,CAAUyU,EAAzB,CACR,OAAOP,EAAA,CAAS,CAACS,OAAQpO,CAAT,CAAY6P,OAAQ7P,CAApB,CAAT,CAFe,CADT,CAAA,CAKbsI,MALa,EAQf+F,EAAA,CAAMvG,OAAN,CAAc,QAAQ,CAACzT,CAAD,CAAI,CACzBA,CAAA,CAAE4Z,EAAF,CAAO5Z,CAAP,CAASE,CACTF,EAAA,CAAE6Z,EAAF,CAAO7Z,CAAP,CAASoF,CAFgB,CAA1B,CAKA,KAAA,CAAKkM,mBAAL,EAjK8B,CAoK/B,KAAA,CAAKyJ,SAAL,CAAiBc,QAAQ,EAAG,CAC3B,IAAIC,EAAQ3L,CAAA,CAAiB,QAAjB,CAA4B,MACxC4H,EAAA,CAAIhG,SAAJ,CAAc,aAAd,CAAA,CAA6B8B,IAA7B,CAAkC,SAAlC,CAA6CiI,CAA7C,CAEIjM,EAAAA,CAAOkI,CAAA,CAAIhG,SAAJ,CAAc,SAAd,CAA0BkG,CAA1B,CAEXpI,EAAA,CAAKkC,SAAL,CAAe,MAAf,CAAA,CAAuBkC,MAAvB,EAEepE,EAAA,CACZ4L,MADY,CACL,MADK,CACG,MADH,CAAA,CAEZ5H,IAFY,CAEP,OAFO,CAEE,UAFF,CAAA,CAGZA,IAHY,CAGP,QAHO;AAGG,QAAQ,EAAG,CAC1B,IAAIlY,EAAS,IAAA,CAAKogB,aAAL,CAAmBC,OAAnB,EAATrgB,CAAsCA,MAC7B,EAAb,CAAIA,CAAJ,GAECA,CAFD,CAEU,GAFV,CAIA,OAAOA,EAAP,CAAgB,CANU,CAHd,CAAA,CAWZkY,IAXY,CAWP,GAXO,CAWF,QAAQ,CAAC7T,CAAD,CAAI,CACtB,MAAKA,EAAL,CAAO6Y,MAAP,CAGQ,GAHR,CAGe,IAAA,CAAKkD,aAAL,CAAmBC,OAAnB,EAHf,CAG4CrgB,MAH5C,CAGqD,CAHrD,CACQ,GADR,CACe,IAAA,CAAKogB,aAAL,CAAmBC,OAAnB,EADf,CAC4CrgB,MAD5C,CACqD,CADrD,CACyD,CAFnC,CAXV,CAAA,CAkBZkY,IAlBY,CAkBP,OAlBO,CAkBE,QAAQ,EAAG,CACzB,MAAO,KAAA,CAAKkI,aAAL,CAAmBC,OAAnB,EAAP,CAAoCngB,KADX,CAlBb,CAAA,CAqBZgY,IArBY,CAqBP,GArBO,CAqBF,QAAQ,CAAC7T,CAAD,CAAI,CACtB,IAAIic,EAAU,IAAA,CAAKF,aAAL,CAAmBC,OAAnB,EAAVC,CAAuCpgB,KAC3C,OAAKmE,EAAL,CAAO6Y,MAAP,CAGKZ,CAAL,CAGO,GAHP,CAGcgE,CAHd,CACQ,CAJR,CACQ,OADR,CACmBA,CAHG,CArBV,CAAA,CAgCZ9V,KAhCY,CAgCN,gBAhCM,CAgCY,CAhCZ,CAAA,CAgCeA,KAhCf,CAgCqB,cAhCrB,CAgCqC,CAhCrC,CAAA,CAiCZA,KAjCY,CAiCN,QAjCM,CAiCI,QAAQ,CAACnG,CAAD,CAAI,CAC5B,MAxQkBsY,EAwQX,CAAgBtY,CAAhB,CAAkBgY,IAAlB,CAAuB3T,IAAvB,CADqB,CAjChB,CAAA,CAmCV8B,KAnCU,CAmCJ,MAnCI,CAmCI,QAAQ,CAACnG,CAAD,CAAI,CAC5B,MAAO2Q,EAAA,CAAU3Q,CAAV,CAAYgY,IAAZ,CAAiB3T,IAAjB,CADqB,CAnChB,CAAA,CAqCV8B,KArCU,CAqCJ,cArCI;AAqCY,QAAQ,CAACnG,CAAD,CAAI,CACpC,MAAO,EAD6B,CArCxB,CARY,CAuD5B,KAAIyD,EAAO,IA+DX,KAAA,CAAK2N,MAAL,CAAc8K,QAAQ,CAAC/N,CAAD,CAAM,CAC3B1K,CAAA,CAAK4N,eAAL,CAAuBlD,CADI,CAG5B,KAAA,CAAKmD,mBAAL,CAA2B6K,QAAQ,EAAG,CACrCpE,CAAA,CAAIhG,SAAJ,CAAc,SAAd,CAA0BkG,CAA1B,CAAmC,OAAnC,CAAA,CACEmE,OADF,CACU,cADV,CAC0B,QAAQ,CAACpc,CAAD,CAAI,CAoTf,CAAA,CAAA,CAnT0B,IAAA,EAAAyD,CAAA,CAAK4N,eAAL,EAAwB,EAAxB,CAoTxC/B,CAAV,KAAUA,CAAV,GApTiCtP,EAoTjC,CApTmCgY,IAoTnC,CApTwC3T,IAoTxC,CApT6C8J,GAoT7C,CACC,GAAImB,CAAJ,GAASD,EAAT,CAAa,CACZ,CAAA,CAAO,CAAA,CAAP,OAAA,CADY,CAId,CAAA,CAAO,CAAA,CANiB,CAlTpB,MAAOgN,EAF4B,CADtC,CAAA,CAKElW,KALF,CAKQ,MALR,CAKgB,QAAQ,CAACnG,CAAD,CAAI,CAC1B,MAAIiP,GAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CAAgBsK,OAAhB,CAAwB,cAAxB,CAAJ,CA7VqB7D,CA8Vb,CAAkBvY,CAAlB,CAAoBgY,IAApB,CAAyB3T,IAAzB,CADR,CAGO,MAJmB,CAL5B,CADqC,CActC,KAAA,CAAKwR,MAAL,CAAcyG,QAAQ,CAACvG,CAAD,CAAW,CAChCgC,CAAA,CAAIhG,SAAJ,CAAc,aAAd,CAAA,CAA6BqK,OAA7B,CAAqC,WAArC,CAAkD,QAAQ,CAACpc,CAAD,CAAI,CAE7D,MADW+V,EAAAG,CAASlJ,IAATkJ,CA1WEiC,CA0WY,CAASnY,CAAT,CAAWgY,IAAX,CAAgB3T,IAAhB,CAAd6R,CADkD,CAA9D,CADgC,CAOjC,KAAA,CAAKE,WAAL;AAAmBmG,QAAQ,EAAG,CAC7BxE,CAAA,CAAIhG,SAAJ,CAAc,aAAd,CAAA,CAA6BqK,OAA7B,CAAqC,WAArC,CAAkD,CAAA,CAAlD,CAD6B,CAI9B,KAAA,CAAK5F,eAAL,CAAuBgG,QAAQ,CAACC,CAAD,CAAO,CACrC,GAAwB,CAAxB,EAAI7F,SAAJ,CAAc/Y,MAAd,CACC,MAAOsS,EAERA,EAAA,CAAiBsM,CAEjB,KAAA,CAAK1B,SAAL,EACA,OAAO,KAP8B,CAUtC,KAAA,CAAK2B,YAAL,CAAoBC,QAAQ,CAACtE,CAAD,CAAe,CAC1C,GAAwB,CAAxB,EAAIzB,SAAJ,CAAc/Y,MAAd,CACC,MAAO8S,EAERA,EAAA,CAAY0H,CACZ,KAAA,CAAK0C,SAAL,EACA,OAAO,KANmC,CAkB3C,KAAA,CAAK5G,cAAL,CAAsByI,QAAQ,EAAG,EAEjC,KAAA,CAAKC,iBAAL,CAAyBC,QAAQ,EAAG,EAEpC,KAAA,CAAKvI,WAAL,CAAmBwI,QAAQ,EAAG,EAG9B,KAAA,CAAKvD,YAAL,CAAkBxB,CAAlB,CACA,OAAO,KA3ZM,CAsadhK,WAAA,CAAWsC,YAAX,CAA0B0M,QAAQ,CAACC,CAAD,CAAM,CAEvC,MAAO,SAAQ,CAACC,CAAD,CAAItY,CAAJ,CAAO,CACrB,IAAIuY,EAAczb,IAAAA,EAAdyb,EAA2BD,CAAA,CAAElF,IAAF,CAAO3T,IAAP,CAFpB4Y,CAEoB,CAA/B,CACIG,EAAc1b,IAAAA,EAAd0b,EAA2BxY,CAAA,CAAEoT,IAAF,CAAO3T,IAAP,CAHpB4Y,CAGoB,CAC/B;GAAIE,CAAJ,EAAkBC,CAAlB,CACC,MAAO,EACD,IAAID,CAAJ,CACN,MAAO,EACD,IAAIC,CAAJ,CACN,MAAO,EAEJC,EAAAA,CAAOH,CAAA,CAAElF,IAAF,CAAO3T,IAAP,CAXA4Y,CAWA,CAAA,CAAmBxY,IAAnB,CAAwB,GAAxB,CAAA,CAA6B6Y,WAA7B,EACPC,EAAAA,CAAO3Y,CAAA,CAAEoT,IAAF,CAAO3T,IAAP,CAZA4Y,CAYA,CAAA,CAAmBxY,IAAnB,CAAwB,GAAxB,CAAA,CAA6B6Y,WAA7B,EACX,OAAID,EAAJ,CAAWE,CAAX,CACQ,EADR,CAEWF,CAAJ,CAAWE,CAAX,CACC,CADD,CAGA,CAjBc,CAFiB,CA0BxCvP,WAAA,CAAWwP,WAAX,CAAyBC,QAAQ,EAAG,CACnC,MAAO,SAAQ,CAACP,CAAD,CAAItY,CAAJ,CAAO,CACrB,MAAOA,EAAP,CAASoT,IAAT,CAAc3T,IAAd,CAAmBkB,KAAnB,CAA2B2X,CAA3B,CAA6BlF,IAA7B,CAAkC3T,IAAlC,CAAuCkB,KADlB,CADa,CAUpCyI,WAAA,CAAW0P,mBAAX,CAAiCC,QAAQ,EAAG,CAC3C,MAAO,SAAQ,CAACT,CAAD,CAAItY,CAAJ,CAAO,CACrB,MAAOA,EAAP,CAASoT,IAAT,CAAc3T,IAAd,CAAmB0K,aAAnB,CAAmCmO,CAAnC,CAAqClF,IAArC,CAA0C3T,IAA1C,CAA+C0K,aAD1B,CADqB,CAa5Cf,WAAA,CAAW4P,gBAAX,CAA8BC,QAAQ,CAAClP,CAAD,CAAI,CACzC,MAAO,SAAQ,CAACmP,CAAD,CAAM,CACpB,MAAOA,EAAP,CAAWvY,KAAX,EAAoBoJ,CADA,CADoB,CAY1CX,WAAA,CAAW+P,gBAAX,CAA8BC,QAAQ,CAACrP,CAAD,CAAI,CACzC,MAAO,SAAQ,CAACmP,CAAD,CAAM,CACpB,MAAOA,EAAP,CAAWvY,KAAX;AAAoBoJ,CADA,CADoB,CAY1CX,WAAA,CAAWiQ,WAAX,CAAyBC,QAAQ,CAACzd,CAAD,CAAM,CACtC,IAAI0d,EAAK,IAAIC,MAAJ,CAAW3d,CAAX,CACT,OAAO,SAAQ,CAACqd,CAAD,CAAM,CACpB,MAAOA,EAAP,CAAW,GAAX,EAEY,CAFZ,CAAqBA,CAAA,CAAI,GAAJ,CAAWhP,MAAX,CAAkB,QAAQ,CAACuP,CAAD,CAAI,CAClD,MAAsB,EAAtB,CAAOA,CAAA,CAAExI,MAAF,CAASsI,CAAT,CAD2C,CAA9B,CAArB,CAEGtgB,MAHiB,CAFiB,CAyBvCmQ,WAAA,CAAW0C,SAAX,CAAuB4N,QAAQ,CAACja,CAAD,CAAOka,CAAP,CAAkB,CAChD,MAAOla,EAAA,CAAKka,CAAL,CADyC,CAYjDvQ,WAAA,CAAWwC,SAAX,CAAuBgO,QAAQ,CAACna,CAAD,CAAO,CACrC,IAAImM,EAAY,EACG9O,KAAAA,EAAnB,GAAI2C,CAAJ,CAASoa,KAAT,GACCjO,CADD,CACanM,CADb,CACkBoa,KADlB,CAGA,OAAOjO,EAL8B,CAetCxC,WAAA,CAAW6M,UAAX,CAAwB6D,QAAQ,CAACra,CAAD,CAAO,CACtC,IAAI6R,EAAO,EAAX,CACUyI,CAAV,KAAUA,CAAV,GAAkBta,EAAlB,CAEE6R,CAAA,CADW,KAAZ,EAAIyI,CAAJ,EAA6B,SAA7B,EAAqBA,CAArB,CACCzI,CADD,EACSyI,CADT,CACgB,OADhB,CAC0BpQ,MAAA,CAAOC,IAAP,CAAYnK,CAAA,CAAKsa,CAAL,CAAZ,CAAA,CAAwBla,IAAxB,CAA6B,GAA7B,CAD1B,CAEK,IAFL,EAICyR,CAJD,EAIUyI,CAJV,CAIiB,OAJjB,CAI2Bta,CAAA,CAAKsa,CAAL,CAJ3B,CAIwC,IAJxC,CAOD,OAAOzI,EAV+B,CA3uC3B,CAAX,CAAD,E,CChBIlI,UAAJ,CAAiBA,UAAjB,EAA+B,EAE9B;SAAQ,EAAE,CAaXA,UAAA,CAAWmH,IAAX,CAAkByJ,QAAQ,CAAC7J,CAAD,CAAgB8J,CAAhB,CAA0BC,CAA1B,CAAoCC,CAApC,CAA6DC,CAA7D,CAAkF,CAwBxGC,QAASA,EAAQ,CAACC,CAAD,CAAOnjB,CAAP,CAAWwJ,CAAX,CAAkB,CAC/B,IAAA,CAAKxJ,EAAL,CAAUA,CACV,KAAA,CAAKwJ,KAAL,CAAaA,CACb,KAAA,CAAKlB,IAAL,CAAY,CAAC,MAAQkB,CAAT,CAAgB,IAAM,EAAtB,CAEZ,IAAY,IAAZ,EAAI2Z,CAAJ,CACI,IAAA,CAAKA,IAAL,CAAYC,CADhB,KAEO,CACH,IAAA,CAAKD,IAAL,CAAYA,CACZ,KAAA,CAAK7a,IAAL,CAAU8J,GAAV,CAAgB,EAChB,KAAA,CAAK9J,IAAL,CAAU8J,GAAV,CAAcpS,CAAd,CAAA,CAAoB,CAAA,CAChBqjB,EAAAA,CAAOF,CAAA,CAAKG,KAAL,CAAWpK,CAAX,CACX,KAAIrX,IAAIA,CAAR,GAAawhB,EAAb,CACI,IAAA,CAAK/a,IAAL,CAAW2Q,CAAA,CAAWpX,CAAX,CAAX,CAAA,CAA6B,CAAEwhB,CAAA,CAAKxhB,CAAL,CAAF,CAN9B,CASP,IAAA,CAAKoc,KAAL,CAAa,EAGb,KAAA,CAAKtE,QAAL,CAAgB4J,QAAQ,CAACC,CAAD,CAAYxjB,CAAZ,CAAgBwJ,CAAhB,CAAuB,CACrCA,CAAN,GACIA,CADJ,CACY,CADZ,CAIA,IAAuB,CAAvB,CAAIga,CAAJ,CAAc1hB,MAAd,CAA0B,CACtB,IAAA2hB,EAAWD,CAAA,CAAUjL,KAAV,EAEX,KAAImL,EAAYD,CAAA,CAASH,KAAT,CAAepK,CAAf,CAGZ,KAAAyK,EADAC,CAAJ,EAAyB,IAAzB,CAA8BT,IAA9B,EAAsCC,CAAtC,CACc,EADd,CAGcM,CAAA,CAAU3Q,MAAV,CAAiB,QAAQ,CAAC8Q,CAAD,CAAGhiB,CAAH,CAAM,CACjC,MAA4D,EAA5D,CAAOsX,CAAA,CAA0BjT,OAA1B,CAAmC+S,CAAA,CAAWpX,CAAX,CAAnC,CAD0B,CAA/B,CAAA,CAGTsR,GAHS,CAGL,QAAQ,CAAC0Q,CAAD,CAAI,CACT,MAAIC,EAAJ,CACWD,CAAA,CAAEE,iBAAF,EADX,CAGOF,CAJE,CAHP,CAAA,CASTnb,IATS,CASJwQ,CATI,CARQ,CAA1B,IAsBIyK,EAAA,CADAF,CACA,CADWO,CAKf,IAAIL,CAAJ,GAAe,KAAf,CAAoB1F,KAApB;AAA6B,IAAA,CAAKA,KAAL,CAAW0F,CAAX,CAA7B,UAA4DT,EAA5D,CAAsE,CAClE,IAAAe,EAAU,IAAA,CAAKhG,KAAL,CAAW0F,CAAX,CACVM,EAAA,CAAQ3b,IAAR,CAAakB,KAAb,EAAsBA,CACtBya,EAAA,CAAQ3b,IAAR,CAAa8J,GAAb,CAAiBpS,CAAjB,CAAA,CAAuB,CAAA,CAEvB,KAAI6jB,IAAIA,CAAR,GAAaH,EAAb,CACQQ,CACJ,CADcR,CAAA,CAAUG,CAAV,CACd,CAAwD,EAAxD,EAAII,CAAA,CAAQ3b,IAAR,CAAc2Q,CAAA,CAAW4K,CAAX,CAAd,CAAA,CAA8B3d,OAA9B,CAAuCge,CAAvC,CAAJ,EACID,CAAA,CAAQ3b,IAAR,CAAc2Q,CAAA,CAAW4K,CAAX,CAAd,CAAA,CAA8B3f,IAA9B,CAAmCggB,CAAnC,CAR0D,CAAtE,IAcID,EACA,CADU,IAAIf,CAAJ,CAAaO,CAAb,CAAuBzjB,CAAvB,CAA2BwJ,CAA3B,CACV,CAAA,IAAA,CAAKyU,KAAL,CAAW0F,CAAX,CAAA,CAAsBM,CAEtBR,EAAJ,EAAgBO,CAAhB,EACIC,CAAA,CAAQtK,QAAR,CAAiB6J,CAAjB,CAA2BxjB,CAA3B,CAA+BwJ,CAA/B,CAjDuC,CAsD/C,KAAA,CAAKgN,WAAL,CAAmB2N,QAAQ,EAAG,CAC1B,GAAI,IAAJ,CAAShB,IAAT,EAAiBC,CAAjB,CAA2B,CACvB,IAAI5hB,EAAWgR,MAAA,CAAOC,IAAP,CAAY,IAAZ,CAAiBwL,KAAjB,CACf,IAAuB,CAAvB,EAAIzc,CAAJ,CAAaM,MAAb,CACI,MAAO,KAAA,CAAKmc,KAAL,CAAYzc,CAAA,CAAS,CAAT,CAAZ,CAHY,CAO3B,MAAO,KARmB,CAY9B,KAAA,CAAKkV,MAAL,CAAc0N,QAAQ,CAACC,CAAD,CAAa,CAE/BC,QAASA,EAAY,CAACD,CAAD,CAAaE,CAAb,CAA8BC,CAA9B,CAAwC,CAEzD,IAAIrK,EAAO,CAAC,SAAW,EAAZ,CACXA,EAAA,CAAKqE,IAAL,CAAYgG,CAAZ,CAAqBrB,IACrBhJ,EAAA,CAAK7R,IAAL,CAAY,EACZ,KAAIiL,IAAIA,CAAR,GAAaiR,EAAb,CAAsBlc,IAAtB,CACI,GAAiC,QAAjC,GAAI,MAAOkc,EAAA,CAASlc,IAAT,CAAciL,CAAd,CAAX,CAA2C,CACvC4G,CAAA,CAAK7R,IAAL,CAAUiL,CAAV,CAAA,CAAe,EACf,KAAIkR,IAAIA,CAAR,GAAcD,EAAA,CAASlc,IAAT,CAAciL,CAAd,CAAd,CACI4G,CAAA,CAAK7R,IAAL,CAAUiL,CAAV,CAAA,CAAakR,CAAb,CAAA;AAAmB,IAAA,CAAKnc,IAAL,CAAUiL,CAAV,CAAA,CAAakR,CAAb,CAHgB,CAA3C,IAMItK,EAAA,CAAK7R,IAAL,CAAUiL,CAAV,CAAA,CAAeiR,CAAA,CAASlc,IAAT,CAAciL,CAAd,CAGvB4G,EAAA,CAAKrD,MAAL,CAAc,EAGd,KAAIqM,IAAIA,CAAR,GAAgBqB,EAAhB,CAAyBvG,KAAzB,CACQyG,CAEJ,CAFeF,CAAA,CAASvG,KAAT,CAAekF,CAAf,CAEf,CADIwB,CACJ,CADiBN,CAAA,CAAWE,CAAX,CACjB,CAAK,CAAEI,CAAP,EAAsBA,CAAtB,EAAoCA,CAAA,CAAWD,CAAX,CAAoBpc,IAApB,CAApC,EACI6R,CAAA,CAAK3Y,QAAL,CAAc0C,IAAd,CAAoBogB,CAAA,CAAaD,CAAb,CAAyBE,CAAzB,CAA0C,CAA1C,CAA6CG,CAA7C,CAApB,CACA,CAAIA,CAAJ,CAAa5N,MAAb,EAAuB,EAAvB,EACIvE,CAAA,CAAM4H,CAAN,CAAWrD,MAAX,CAAmB4N,CAAnB,CAA4B5N,MAA5B,CAHR,EAMIvE,CAAA,CAAM4H,CAAN,CAAWrD,MAAX,CAAmB4N,CAAnB,CAA4Bpc,IAA5B,CAAiC8J,GAAjC,CAIR+H,EAAA,CAAK7R,IAAL,CAAU0K,aAAV,CAA0BmH,CAA1B,CAA+B3Y,QAA/B,CAAwCM,MAGZ,EAA5B,EAAIqY,CAAJ,CAAS3Y,QAAT,CAAkBM,MAAlB,EACGqY,CASA,CATK3Y,QASL,CATgB,IAShB,CARA2Y,CAQA,CARK/G,WAQL,CARmB,CAQnB,CALC+G,CAKD,CALMyK,MAKN,CANIzK,CAAJ,CAASqE,IAAT,CACerE,CADf,CACoBqE,IADpB,CACyB1c,MADzB,CAGe,CAGf,CAAAqY,CAAA,CAAK5C,QAAL,CAAgB4C,CAAhB,CAAqB7R,IAArB,CAA0BkB,KAV7B,GAcQyJ,CAMJ,CANWC,EAAA,CAAG9N,GAAH,CAAQ+U,CAAA,CAAK3Y,QAAL,CAAc2R,GAAd,CAAkB,QAAQ,CAAC3K,CAAD,CAAI,CAAC,MAAOA,EAAP,CAAS4K,WAAV,CAA9B,CAAR,CAMX,CALA+G,CAKA,CALK/G,WAKL,CALmBtO,IAAA,CAAKM,GAAL,CAAS+U,CAAT,CAAc3Y,QAAd,CAAuBM,MAAvB,CAA+BmR,CAA/B,CAKnB,CAHI2R,CAGJ,CAHa1R,EAAA,CAAG9N,GAAH,CAAQ+U,CAAA,CAAK3Y,QAAL,CAAc2R,GAAd,CAAkB,QAAQ,CAAC3K,CAAD,CAAI,CAAC,MAAOA,EAAP,CAASoc,MAAV,CAA9B,CAAR,CAGb;AAFAzK,CAEA,CAFKyK,MAEL,CAFc9f,IAAA,CAAKM,GAAL,CAASwf,CAAT,CAAiBzK,CAAjB,CAAsBqE,IAAtB,CAA2B1c,MAA3B,CAEd,CAAAqY,CAAA,CAAK5C,QAAL,CAAgBrE,EAAA,CAAGpC,GAAH,CAAQqJ,CAAA,CAAK3Y,QAAL,CAAc2R,GAAd,CAAkB,QAAQ,CAAC3K,CAAD,CAAI,CAAC,MAAOA,EAAP,CAAS+O,QAAV,CAA9B,CAAR,CApBpB,CAsBA,OAAO4C,EAxDkD,CA2DvDkK,CAAN,GACIA,CADJ,CACiB,EADjB,CAIA,KAAIG,EAAWK,IAAA,CAAKC,KAAL,CAAWD,IAAA,CAAKE,SAAL,CAAe,IAAf,CAAX,CAEf,OAAOT,EAAA,CAAaD,CAAb,CAAyB,CAAzB,CAA4BG,CAA5B,CAnEwB,CArFJ,CAwQnCjS,QAASA,EAAK,CAACc,CAAD,CAAKC,CAAL,CAAS,CACnB,IAAIC,IAAIA,CAAR,GAAaD,EAAb,CACID,CAAA,CAAGE,CAAH,CAAA,CAAQD,CAAA,CAAGC,CAAH,CAFO,CA/RvB,IAAIyQ,EAAQ,GAAZ,CACIZ,EAAW,QADf,CAEIU,EAAU,CAAE9K,CAAZ8K,EAA8B,CAAA,CAC5BhB,EAAN,GACIA,CADJ,CACe,CAAC,MAAD,CADf,CAGA,KAAI7J,EAAa6J,CACX5J,EAAN,GACIA,CADJ,CACiB,IADjB,CAGA,KAAIA,EAAa6J,CACX5J,EAAN,GACIA,CADJ,CACgC,CAAEF,CAAA,CAAW,CAAX,CAAF,CADhC,CAGA,KAAIE,EAA4B6J,CAAhC,CACIY,EAAoBX,CACpBtd,KAAAA,EAAJ,EAAiBie,CAAjB,GACIA,CADJ,CACwB,CAAA,CADxB,CAIA,KAAIoB,EAAO,IAAI9B,CAAJ,CAAaE,CAAb,CAAsB,EAAtB,CAAyB,CAAzB,CAwKX,KAAA,CAAKzJ,QAAL,CAAgB4J,QAAQ,CAACC,CAAD,CAAYxjB,CAAZ,CAAgBwJ,CAAhB,CAAuB,CAACwb,CAAA,CAAKrL,QAAL,CAAc6J,CAAd,CAAyBxjB,CAAzB,CAA6BwJ,CAA7B,CAAD,CAM/C,KAAA,CAAKgN,WAAL,CAAmB2N,QAAQ,EAAG,CAC1B,IAAIhK,EAAO,IAAIlI,UAAJ,CAAemH,IAAf,CAAqB,CAAC0K,CAAtB,CAA+B7K,CAA/B,CAA2CC,CAA3C,CAAuDC,CAAvD,CACXgB,EAAA,CAAK6K,IAAL,CAAWA,CAAA,CAAKxO,WAAL,EAAX,CACA,OAAO2D,EAHmB,CAY9B;IAAA,CAAKzD,MAAL,CAAc0N,QAAQ,CAACC,CAAD,CAAaE,CAAb,CAA8B,CAAC,MAAOS,EAAA,CAAKtO,MAAL,CAAY2N,CAAZ,CAAwBE,CAAxB,CAAR,CAMpD,KAAA,CAAKU,SAAL,CAAiBC,QAAQ,EAAG,CACxB,MAAOL,KAAA,CAAKE,SAAL,CAAe,IAAf,CADiB,CAO5B,KAAA,CAAKI,WAAL,CAAmBC,QAAQ,CAACC,CAAD,CAAa,CAChCC,CAAAA,CAAMT,IAAA,CAAKC,KAAL,CAAWO,CAAX,CAEVrB,EAAA,CAAQsB,CAAA,CAAItB,KAAJ,EACRZ,EAAA,CAAWkC,CAAA,CAAIlC,QAAJ,EACXU,EAAA,CAASwB,CAAA,CAAItM,aAAJ,EACTC,EAAA,CAAaqM,CAAA,CAAIrM,UAAJ,EACbC,EAAA,CAAaoM,CAAA,CAAIpM,UAAJ,EACbC,EAAA,CAA4BmM,CAAA,CAAInM,yBAAJ,EAC5B6L,EAAA,CAAOM,CAAA,CAAIN,IAAJ,EAT6B,CAiBxC,KAAA,CAAKhB,KAAL,CAAauB,QAAQ,EAAG,CACpB,MAAOvB,EADa,CAKxB,KAAA,CAAKZ,QAAL,CAAgBoC,QAAQ,EAAG,CACvB,MAAOpC,EADgB,CAM3B,KAAA,CAAK4B,IAAL,CAAYS,QAAQ,CAAC1mB,CAAD,CAAQ,CACH,CAAvB,CAAI8b,SAAJ,CAAc/Y,MAAd,GACEkjB,CADF,CACSjmB,CADT,CAGA,OAAOimB,EAJmB,CAU5B,KAAA,CAAKhM,aAAL,CAAqB0M,QAAQ,EAAG,CAC5B,MAAO,CAAE5B,CADmB,CAQhC,KAAA,CAAK7K,UAAL,CAAkB0M,QAAQ,EAAG,CACzB,MAAO1M,EADkB,CAQ7B,KAAA,CAAKC,UAAL,CAAkB0M,QAAQ,EAAG,CACzB,MAAO1M,EADkB,CAQ7B;IAAA,CAAKC,yBAAL,CAAiC0M,QAAQ,EAAG,CACxC,MAAO1M,EADiC,CA1R4D,CAbjG,CAAV,CAAD,E,CCxBA2M,QAASA,WAAU,CAACzoB,CAAD,CAAS,CAC3B,IAAA,CAAKyf,MAAL,CAAczf,CAAd,CAAqByf,MACrB,KAAA,CAAKxf,SAAL,CAAiBD,CAAjB,CAAwBC,SACxB,KAAA,CAAKyoB,eAAL,CAA4CpgB,IAAAA,EAArB,EAAAtI,CAAA,CAAO2oB,UAAP,CAAiC,CAAA,CAAjC,CAAwC3oB,CAAxC,CAA+C2oB,UAEtE,KAAA,CAAKC,KAAL,CAAa,IAGb,KAAA,CAAKC,UAAL,CADA,IACA,CADKC,UACL,CADkB,CAElB,KAAA,CAAKC,OAAL,CAAe,EAEf,KAAA,CAAKC,kBAAL,CAA0B,CAAA,CAC1B,KAAA,CAAKC,aAAL,CAAqB,EACrB,KAAA,CAAKC,WAAL,CAAmB,EAGnB,KAAA,CAAKC,eAAL,CAFA,IAEA,CAFKC,OAEL,CAFe,CAAA,CAIf,KAAA,CAAKC,UAAL,CADA,IACA,CADKC,YACL,CADoB,IAEpB,KAAA,CAAKC,OAAL,CAAe,EAEf,KAAA,CAAKC,aAAL,CADA,IACA,CADK7hB,OACL,CADe,CAEf,KAAA,CAAK8hB,YAAL,CAAoB,CACpB,KAAA,CAAKC,YAAL,CAAoB,EAEpB,KAAA,CAAKC,aAAL,CADA,IACA,CADKC,OACL,CADe,CAEf,KAAA,CAAKC,WAAL,CAAmB,CAAA,CAEnB,KAAA,CAAKC,aAAL;AADA,IACA,CADKC,UACL,CADkB,CAElB,KAAA,CAAKC,WAAL,CAAmB,EACnB,KAAA,CAAKC,cAAL,CAAsB,MACtB,KAAA,CAAKC,WAAL,CAAmB,CACnB,KAAA,CAAKC,GAAL,CAAW,CAGX,KAAA,CAAKC,QAAL,CAAgB,EAChB,KAAA,CAAKC,QAAL,CAAgB,EAChB,KAAA,CAAKC,QAAL,CAAgB,EAChB,KAAA,CAAKC,QAAL,CAAgB,EAEhB,KAAA,CAAKC,iBAAL,CAAyB,EACzB,KAAA,CAAKC,YAAL,CAAoB,CACpB,KAAA,CAAKC,cAAL,CAAsB,EAItB,KAAA,CAAKC,QAAL,CADA,IACA,CADKC,QACL,CADgB,CAGhB,KAAA,CAAKC,OAAL,CAAeviB,IAAAA,EACf,KAAA,CAAKwiB,KAAL,CAAajV,EAAA,CAAGkV,UAAH,EACb,KAAA,CAAKC,MAAL,CAAcnV,EAAA,CAAGoV,WAAH,EACd,KAAA,CAAKC,YAAL,CAAoBrV,EAAA,CAAGoV,WAAH,EAEpB,KAAA,CAAKE,OAAL,CAAe7iB,IAAAA,EACf,KAAA,CAAK8iB,KAAL,CAAavV,EAAA,CAAGwV,QAAH,EACb,KAAA,CAAKC,MAAL,CAAczV,EAAA,CAAGoV,WAAH,EACd,KAAA,CAAKM,YAAL,CAAoB1V,EAAA,CAAGoV,WAAH,EAEpB,KAAA,CAAKO,SAAL,CAAiB3V,EAAA,CAAGoV,WAAH,EACjB;IAAA,CAAKQ,YAAL,CAAoB5V,EAAA,CAAGoV,WAAH,EAEpB,KAAA,CAAKhrB,SAAL,CAAe4X,EAAf,CAAkB,QAAlB,CAA4B,IAA5B,CAAiC6T,QAAjC,CAA2C,IAA3C,CA7D2B;AAgE5BjD,UAAA,CAAWrmB,SAAX,CAAuB,CACtBC,YAAaomB,UADS,CAGrBkD,YAAaA,QAAQ,CAAC/B,CAAD,CAAU,CAC/B,IAAA,CAAKgC,QAAL,CAAchC,CAAd,CACA,KAAA,CAAKiC,WAAL,EAGA,KADIC,CACJ,CADU,IACV,CADe/B,UACf,CAAc,CAAd,CAAM+B,CAAA,EAAN,CAAA,CAEC,IAAA,CAAK5C,WAAL,CAAiBhO,KAAjB,EAEiB,KAAlB,EAAI,IAAJ,CAAS0N,KAAT,CACC,IAAA,CAAK/P,MAAL,EADD,CAGC,IAAA,CAAKkT,eAAL,EAZ8B,CAHV,CAmBrBC,eAAgBA,QAAQ,CAACC,CAAD,CAAQC,CAAR,CAAgB,CACxC,IAAIpmB,EAAQ,IAC4B,WAAxC,GAAI,IAAA,CAAK2Z,MAAL,CAAY0M,WAAZ,CAAwB,MAAxB,CAAJ,GACCrmB,CADD,CACS,IAAA,CAAK2Z,MAAL,CAAY2M,SAAZ,EAAA,CAAwBC,WAAxB,CAAoC,CAApC,CAAA,CAAuCC,KAAvC,EADT,CAIIC,EAAAA,CAAe,IAAA,CAAKC,iBAAL,CADRvhB,CAACwhB,WAAaR,CAAdhhB,CAAqBnF,MAAQA,CAA7BmF,CACQ,CACfihB,EAAJ,CACC,IAAA,CAAKQ,mBAAL,CAAyBH,CAAzB,CADD,CAGC,IAAA,CAAKI,qBAAL,CAA2BJ,CAA3B,CAVuC,CAnBnB,CAiCrBK,gBAAiBA,QAAQ,CAAC9gB,CAAD,CAASogB,CAAT,CAAiB,CACtCjhB,CAAAA,CAAO,CAACwhB,WAAa3gB,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAd;AAAkCF,MAAQgG,CAAA,CAAO9F,GAAP,CAAW,OAAX,CAA1C,CACPumB,EAAAA,CAAe,IAAA,CAAKC,iBAAL,CAAuBvhB,CAAvB,CACfihB,EAAJ,CACC,IAAA,CAAKQ,mBAAL,CAAyBH,CAAzB,CADD,CAGC,IAAA,CAAKI,qBAAL,CAA2BJ,CAA3B,CANyC,CAjCrB,CA+CrBX,SAAUA,QAAS,CAAChC,CAAD,CAAU,CAG7B,IAAA,CAAKA,OAAL,CAAeA,CAEf,KAAA,CAAKD,aAAL,CAAqB,IAArB,CAA0BC,OAA1B,CAAkCnlB,MAElC,KAAA,CAAKglB,YAAL,CAAoBoD,QAAA,CAAS,IAAA,CAAKpN,MAAL,CAAY0M,WAAZ,CAAwB,aAAxB,CAAT,CACpB,KAAA,CAAKpC,UAAL,CAAkB8C,QAAA,CAAS,IAAA,CAAKpN,MAAL,CAAY0M,WAAZ,CAAwB,UAAxB,CAAT,CAEqB,WAAvC,GAAG,IAAA,CAAK1M,MAAL,CAAY0M,WAAZ,CAAwB,MAAxB,CAAH,EACC,IAEA,CAFK3C,aAEL,CAFqB,IAAA,CAAKI,OAAL,CAAa,CAAb,CAAA,CAAgB5jB,GAAhB,CAAoB,eAApB,CAErB,CAF0DvB,MAE1D,CADIqoB,CACJ,CADiBD,QAAA,CAAS,IAAA,CAAKpN,MAAL,CAAY0M,WAAZ,CAAwB,MAAxB,CAAT,CACjB,CAAG,IAAH,CAAQ3C,aAAR,GAA0BsD,CAA1B,GACC,IACA,CADKtD,aACL;AADqBsD,CACrB,CAAA,IAAA,CAAKC,SAAL,EAFD,CAHD,EAQC,IARD,CAQMvD,aARN,CAQsB,IAAA,CAAKI,OAAL,CAAa,CAAb,CAAA,CAAgB5jB,GAAhB,CAAoB,eAApB,CARtB,CAQ2DvB,MAGxD,KAAA,CAAKwkB,aAAL,CAAqB,EACjB+D,EAAAA,CAAgB,EAIvB,KAAK,IAAI9W,EADN,IACMA,CADD4S,UACC5S,CADY,CACrB,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBsT,aAAzB,CAAwCtT,CAAA,EAAxC,CACO,IAAK,IAAI+O,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyB0E,aAAzB,CAAwC1E,CAAA,EAAxC,CACI,IAAA,CAAK2E,OAAL,CAAa3E,CAAb,CAAA,CAAgBjf,GAAhB,CAAoB,eAApB,CAAA,CAAqCkQ,CAArC,CAAH,CAA6C,IAA7C,CAAkD4S,UAAlD,GACC,IADD,CACMA,UADN,CACmB,IAAA,CAAKc,OAAL,CAAa3E,CAAb,CAAA,CAAgBjf,GAAhB,CAAoB,eAApB,CAAA,CAAqCkQ,CAArC,CADnB,CAQR,KAAA,CAAK2S,UAAL,CAAkB,IAAlB,CAAuBC,UACvB,KAAS5S,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBsT,aAAzB,CAAwCtT,CAAA,EAAxC,CACO,IAAS+O,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyB0E,aAAzB,CAAwC1E,CAAA,EAAxC,CACI,IAAA,CAAK2E,OAAL,CAAa3E,CAAb,CAAA,CAAgBjf,GAAhB,CAAoB,eAApB,CAAA,CAAqCkQ,CAArC,CAAH,EAA8C,IAA9C,CAAmD2S,UAAnD,EAA6G,CAA7G,GAAiE,IAAA,CAAKe,OAAL,CAAa3E,CAAb,CAAA,CAAgBjf,GAAhB,CAAoB,eAApB,CAAA,CAAqCkQ,CAArC,CAAjE;CACC,IADD,CACM2S,UADN,CACmB,IAAA,CAAKe,OAAL,CAAa3E,CAAb,CAAA,CAAgBjf,GAAhB,CAAoB,eAApB,CAAA,CAAqCkQ,CAArC,CADnB,CAOc,EAAtB,CAAI,IAAJ,CAAS2S,UAAT,GACC,IADD,CACMA,UADN,CACmB,CADnB,CAIA,KAAA,CAAKlhB,OAAL,CAAiC,IAAjC,CAAe,IAAf,CAAoBkhB,UAGpB,KAAS3S,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBsT,aAAzB,CAAwCtT,CAAA,EAAxC,CAA8C,CACvC,IAAS+O,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyB0E,aAAzB,CAAwC1E,CAAA,EAAxC,CAA8C,CAC7C,IAAIgI,EAAM,IAAA,CAAKrD,OAAL,CAAa3E,CAAb,CAAV,CACIiI,EAAQD,CAAA,CAAIjnB,GAAJ,CAAQ,eAAR,CAAA,CAAyBkQ,CAAzB,CAEA,EAAZ,CAAIgX,CAAJ,EACCF,CAAA,CAAcnmB,IAAd,CAAmB,CAClBE,KAAMmmB,CADY,CAEZT,WAAYQ,CAAA,CAAIjnB,GAAJ,CAAQ,MAAR,CAFA,CAGZmnB,QAASjX,CAHG,CAIZkX,YAAa,CAJD,CAKZC,YAAa,CALD,CAMZvnB,MAAOmnB,CAAA,CAAIjnB,GAAJ,CAAQ,OAAR,CANK,CAAnB,CAL4C,CAiB9C,IAAA,CAAKijB,aAAL,CAAmBpiB,IAAnB,CAAwBmmB,CAAxB,CACAA,EAAA,CAAgB,EAnBuB,CArDjB,CA/CR,CA2HrBnB,YAAaA,QAAQ,EAAG,CAAA,IAEjByB,EAAkB,EAFD,CAGpBC,EAAQ,EAHY,CAIpBC,EAAQ,EAJY,CAMpBC,EAAQ,EAGZ,KAAA,CAAK1E,OAAL,CAAe,EACf,KAAA,CAAKG,WAAL,CAAmB,EAGhB,KAAH,CAAQM,aAAR,CAAwB,IAAxB,CAA6BC,YAA7B;CACC,IADD,CACMA,YADN,CACqB,IADrB,CAC0BD,aAD1B,CAKG,KAAH,CAAQO,UAAR,CAAqB,IAArB,CAA0BN,YAA1B,CAAyC,IAAzC,CAA8CD,aAA9C,GACC,IADD,CACMO,UADN,CACmB,IADnB,CACwBP,aADxB,CACwC,IADxC,CAC6CC,YAD7C,CAIG,KAAK,IAAIvT,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBsT,aAAzB,CAAwCtT,CAAA,EAAxC,CAA8C,CAE7C,IADH,IAAIwX,EAAS,CAAb,CACWzI,EAAI,CAAZ,CAAeA,CAAf,CAAmB,IAAA,CAAKgE,aAAL,CAAmB/S,CAAnB,CAAnB,CAAyCzR,MAAzC,CAAiDwgB,CAAA,EAAjD,CAAuD,CAEtD,IAAI0I,EAAS,CAGC,EAAd,GAAGD,CAAH,GACCH,CAAA,CAAM1mB,IAAN,CAAW,IAAA,CAAKoiB,aAAL,CAAmB/S,CAAnB,CAAA,CAAsB+O,CAAtB,CAAX,CAUA,CATAuI,CAAA,CAAM3mB,IAAN,CAAW,CAACE,KAAM,IAAA,CAAKkiB,aAAL,CAAmB/S,CAAnB,CAAA,CAAsB+O,CAAtB,CAANle,CAA+BA,IAAhC,CACV6mB,eAAgBL,CADN,CAEVF,YAAa,CAFH,CAAX,CASA,CALAC,CAAA,CAAgBzmB,IAAhB,CAAqB2mB,CAArB,CAKA,CAHAD,CAGA,CAHQ,EAGR,CAFAC,CAEA,CAFQ,EAER,CAAAG,CAAA,CADAD,CACA,CADS,CAVV,CAeA,KAAK,IAAIG,EAAI,CAAb,CAAgBA,CAAhB,CAAoBP,CAAA,CAAgBpX,CAAhB,CAApB,CAAuCzR,MAAvC,EAA4D,CAA5D,GAAiDkpB,CAAjD,CAA+DE,CAAA,EAA/D,CACC,IAAA,CAAK5E,aAAL,CAAmB/S,CAAnB,CAAA,CAAsB+O,CAAtB,CAAH,CAA4Ble,IAA5B,GAAqCumB,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB2X,CAAnB,CAArC,CAA2D9mB,IAA3D,GAEC+mB,CAIA,CAJWR,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB2X,CAAnB,CAIX,CAJiCR,WAIjC,CAHA,IAAA,CAAKpE,aAAL,CAAmB/S,CAAnB,CAAA,CAAsB+O,CAAtB,CAGA,CAHyBmI,WAGzB;AAHuC,EAAEU,CAGzC,CAFAR,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB2X,CAAnB,CAEA,CAFsBR,WAEtB,CAFoCS,CAEpC,CADAR,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB2X,CAAnB,CAAA,CAAsBD,cAAtB,CAAqC/mB,IAArC,CAA0C,IAAA,CAAKoiB,aAAL,CAAmB/S,CAAnB,CAAA,CAAsB+O,CAAtB,CAA1C,CACA,CAAA0I,CAAA,CAAS,CANV,CAWgB,EAAd,GAAGA,CAAH,GACFF,CAAA,CAAM5mB,IAAN,CAAW,IAAA,CAAKoiB,aAAL,CAAmB/S,CAAnB,CAAA,CAAsB+O,CAAtB,CAAX,CAKG,CAJAqI,CAAA,CAAgBpX,CAAhB,CAAA,CAAmBrP,IAAnB,CAAwB,CAACE,KAAM,IAAA,CAAKkiB,aAAL,CAAmB/S,CAAnB,CAAA,CAAsB+O,CAAtB,CAANle,CAA+BA,IAAhC,CACvB6mB,eAAgBH,CADO,CAEvBJ,YAAa,CAFU,CAAxB,CAIA,CAAAI,CAAA,CAAQ,EANT,CAhCsD,CA2CvD,CAAkC,CAAlC,CAAG,IAAA,CAAKxE,aAAL,CAAmB/S,CAAnB,CAAH,CAAyBzR,MAAzB,EAAkD,CAAlD,GAAuCipB,CAAvC,GACCJ,CAAA,CAAgBzmB,IAAhB,CAAqB,EAArB,CA9C4C,CAkD9C,IAASqP,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBsT,aAAzB,CAAwCtT,CAAA,EAAxC,CACC,IAAS+O,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBqI,CAAA,CAAgBpX,CAAhB,CAApB,CAAuCzR,MAAvC,CAA+CwgB,CAAA,EAA/C,CAEC,IADA,EAAEqI,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB+O,CAAnB,CAAF,CAAwBoI,WACnB,CAAIQ,CAAJ,CAAQ,CAAb,CAAgBA,CAAhB,CAAoBP,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB+O,CAAnB,CAApB,CAA0C2I,cAA1C,CAAyDnpB,MAAzD,CAAiEopB,CAAA,EAAjE,CACCP,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB+O,CAAnB,CAAA,CAAsB2I,cAAtB,CAAqCC,CAArC,CAAA,CAAwCR,WAAxC,CAAsDC,CAAA,CAAgBpX,CAAhB,CAAA,CAAmB+O,CAAnB,CAAtD,CAA4EoI,WAQ/E,KAASnX,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBsT,aAAzB,CAAwCtT,CAAA,EAAxC,CACI,IAAA,CAAK6S,OAAL,CAAaliB,IAAb,CAAkB,CAACknB,gBAAiBT,CAAA,CAAgBpX,CAAhB,CAAlB;AACd8X,aAAc9X,CADA,CAAlB,CAIA+X,EAAAA,CAAe,EAClBjB,EAAAA,CAAgB,EAIjB,KAAS9W,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBuT,YAAzB,CAAwC,IAAxC,CAA6CM,UAA7C,CAAyD7T,CAAA,EAAzD,CAA+D,CAC3D,IAAS+O,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyB0E,aAAzB,CAAwC1E,CAAA,EAAxC,CACI,IAAA,CAAK8D,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgC9I,CAAhC,CAAH,EACI+H,CAAA,CAAcnmB,IAAd,CAAmB,CAACE,KAAM,IAAA,CAAKgiB,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgC9I,CAAhC,CAANle,CAAyCA,IAA1C,CACf+mB,SAAU,IAAA,CAAK/E,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgC9I,CAAhC,CAAV6I,CAA6CT,WAD9B,CAEfO,eAAgB,IAAA,CAAK7E,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgC9I,CAAhC,CAAhB2I,CAAmDA,cAFpC,CAGfM,UAAW,CAAC,CAACf,QAASjX,CAAV,CAAanP,KAAM,IAAA,CAAKgiB,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgC9I,CAAhC,CAANle,CAAyCA,IAAtD,CAAD,CAHI,CAAnB,CAOLknB,EAAA,CAAapnB,IAAb,CAAkBmmB,CAAlB,CACAA,EAAA,CAAgB,EAX2C,CAe/D,IAAS9W,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyBuT,YAAzB,CAAwC,IAAxC,CAA6CM,UAA7C,CAAyD7T,CAAA,EAAzD,CACI,IAAA,CAAKgT,WAAL,CAAiBriB,IAAjB,CAAsB,CAACsnB,gBAAiBF,CAAA,CAAa/X,CAAb,CAAlB,CAClB8X,aAAc9X,CADI,CAAtB,CA9GiB,CA3HH;AAkPrBkY,iBAAkBA,QAAS,EAAG,CAE9B,IAAA,CAAK3O,MAAL,CAAY4O,SAAZ,CAAsB,MAAtB,CAAA,CAA8BC,UAA9B,CAAyC,IAAzC,CAA8CnF,eAA9C,CAF8B,CAlPT,CAgRlBoF,MAAOA,QAAS,EAAG,CAMnB,IAHA,IAAIN,EAAe,EAAnB,CAGShJ,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyB0E,aAAzB,CAAwC1E,CAAA,EAAxC,CACI,IAAA,CAAK8D,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAA,CAAkDgE,eAAlD,CAAkE9I,CAAlE,CAAH,EACOgJ,CAAA,CAAapnB,IAAb,CAAkB,CAACE,KAAM,IAAA,CAAKgiB,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAA,CAAkDgE,eAAlD,CAAkE9I,CAAlE,CAANle,CAA2EA,IAA5E,CACjB+mB,SAAU,IAAA,CAAK/E,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAA,CAAkDgE,eAAlD,CAAkE9I,CAAlE,CAAV6I,CAA+ET,WAD9D,CAEjBO,eAAgB,IAAA,CAAK7E,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAA,CAAkDgE,eAAlD,CAAkE9I,CAAlE,CAAhB2I,CAAqFA,cAFpE,CAGdM,UAAW,CAAC,CAACf,QAAS,IAATA,CAAc1D,YAAd0D;AAA6B,IAA7BA,CAAkCpD,UAAnC,CAA+ChjB,KAAM,IAAA,CAAKgiB,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAA,CAAkDgE,eAAlD,CAAkE9I,CAAlE,CAANle,CAA2EA,IAA1H,CAAD,CAHG,CAAlB,CAQR,KAAA,CAAKmiB,WAAL,CAAiBriB,IAAjB,CAAsB,CAACsnB,gBAAiBF,CAAlB,CAAgCD,aAAc,IAAdA,CAAmBvE,YAAnBuE,CAAkC,IAAlCA,CAAuCjE,UAAvE,CAAtB,CAhBmB,CAhRD,CAqSlByE,iBAAkBA,QAAS,EAAG,CAE3B,IAAH,CAAQ/E,YAAR,CAAuB,IAAvB,CAA4BM,UAA5B,CAAyC,IAAzC,CAA8CP,aAA9C,EAGC,IAUH,CAVQR,kBAUR,CAXG,IAWH,CAXQG,eAWR,CAX0B,CAAA,CAW1B,CATG,IAAA,CAAKiF,gBAAL,EASH,CANM,IAAA,CAAKG,KAAL,EAMN,CALA,IAKA,CALKxE,UAKL,CALkB,EAAE,IAAF,CAAOA,UAKzB,CAJA,IAAA,CAAK0E,YAAL,EAIA,CAHA,IAAA,CAAKhP,MAAL,CAAYiP,YAAZ,CAAyB,CAACC,SAAU,IAAVA,CAAe5E,UAAhB,CAAzB,CAGA,CAFA,IAEA,CAFKE,cAEL,CAFsB,OAEtB,CADA,IAAA,CAAK2E,UAAL,EACA;AAAA,IAAA,CAAK1F,WAAL,CAAiBhO,KAAjB,EAbE,GAiBF,IACA,CADK8N,kBACL,CAFA,IAEA,CAFKG,eAEL,CAFuB,CAAA,CAEvB,CAAA,IAAA,CAAKiF,gBAAL,EAlBE,CAF8B,CArSZ,CA8TlBS,MAAOA,QAAS,EAAG,CAIhB,IAFH,IAAIZ,EAAe,EAAnB,CAEYhJ,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAApB,CAAyB0E,aAAzB,CAAwC1E,CAAA,EAAxC,CACI,IAAA,CAAK8D,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,CAAA,CAA8BgE,eAA9B,CAA8C9I,CAA9C,CAAH,EACCgJ,CAAA,CAAapnB,IAAb,CAAkB,CAACE,KAAM,IAAA,CAAKgiB,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,CAAA,CAA8BgE,eAA9B,CAA8C9I,CAA9C,CAANle,CAAuDA,IAAxD,CACd+mB,SAAU,IAAA,CAAK/E,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,CAAA,CAA8BgE,eAA9B,CAA8C9I,CAA9C,CAAV6I,CAA2DT,WAD7C,CAEdO,eAAgB,IAAA,CAAK7E,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,CAAA,CAA8BgE,eAA9B,CAA8C9I,CAA9C,CAAhB2I,CAAiEA,cAFnD,CAGXM,UAAW,CAAC,CAACf,QAAS,IAATA,CAAcpD,UAAf,CAA2BhjB,KAAM,IAAA,CAAKgiB,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,CAAA,CAA8BgE,eAA9B,CAA8C9I,CAA9C,CAANle,CAAuDA,IAAlF,CAAD,CAHA,CAAlB,CAOL;IAAA,CAAKmiB,WAAL,CAAiB7M,OAAjB,CAAyB,CAAC8R,gBAAiBF,CAAlB,CAAgCD,aAAc,IAAdA,CAAmBjE,UAAnD,CAAzB,CAbmB,CA9TD,CAwWlB+E,YAAaA,QAAQ,EAAG,CAExB,IAAIC,EAAK,IAENA,EAAH,CAAMvF,aAAN,CAAsBuF,CAAtB,CAAyBtF,YAAzB,EAA2D,CAA3D,GAAyCsF,CAAzC,CAA4ChF,UAA5C,GAEFgF,CAIA,CAJG5F,eAIH,CAJqB,CAAA,CAIrB,CAHA,IAAA,CAAKiF,gBAAL,EAGA,CAAA5kB,UAAA,CAAW,QAAQ,EAAE,CACpBulB,CAAA,CAAGP,gBAAH,EADoB,CAArB,CAEE,GAFF,CANE,CAJwB,CAxWN,CA8XrBzC,gBAAiBA,QAAQ,EAAG,CAC5B,IAAA,CAAKiD,SAAL,EAEA,KAAA,CAAKC,SAAL,EACA,KAAA,CAAKC,SAAL,EACA,KAAA,CAAKC,SAAL,EACI,KAAJ,CAASzG,eAAT,GACC,IAAA,CAAK0G,UAAL,EAEA,CADA,IAAA,CAAKC,kBAAL,EACA,CAAA,IAAA,CAAKC,mBAAL,EAHD,CAKA,KAAA,CAAKrF,cAAL,CAAsB,MAXM,CA9XP,CA4YlBpR,OAAQA,QAAQ,EAAG,CAGnB,IAAA,CAAKoR,cAAL;AAAsB,QACtB,KAAA,CAAKsF,cAAL,EACH,KAAA,CAAKC,WAAL,EACA,KAAA,CAAKC,WAAL,EACA,KAAA,CAAKC,WAAL,EACI,KAAJ,CAAShH,eAAT,GACC,IAAA,CAAKiH,YAAL,EAEA,CADA,IAAA,CAAKC,oBAAL,EACA,CAAA,IAAA,CAAKN,mBAAL,EAHD,CAKA,KAAA,CAAKO,kBAAL,EAbsB,CA5YD,CA4ZrBb,UAAWA,QAAS,EAAG,CAAA,IACnBc,EAAI,IAAA,CAAK7vB,SAAL,CAAeuC,SAAf,EADe,CAEtButB,EAAI,IAAA,CAAK9vB,SAAL,CAAeyC,QAAf,EAFkB,CAKnBstB,EAAWnuB,GAAA,CAAIouB,SAAJ,CAAczV,MAAd,CAAqB,IAAA,CAAKva,SAAL,CAAeiwB,IAAf,CAAoB,qBAApB,CAArB,CAAiE,4BAAjE,CAA8FH,CAA9F,CAAgG,YAAhG,CAA6GD,CAA7G,CAA+G,UAA/G,CACZ,KAAA,CAAKlH,KAAL,CAAa/S,EAAA,CAAG6C,MAAH,CAAUsX,CAAV,CAEb,KAAA,CAAKG,eAAL,EAEH,KAAA,CAAKvF,QAAL,CAAgBmF,CAChB,KAAA,CAAKpF,QAAL,CAAgBmF,CAAhB,CAAoB,IAAA,CAAKM,eAAL,EAEhBpkB;CAAAA,CAAI,IAAJA,CAASue,QAATve,CAAoB,IAAA,CAAKokB,eAAL,EAErB,KAAA,CAAKxH,KAAL,CAAWpO,MAAX,CAAkB,UAAlB,CAAA,CACKC,IADL,CACU,IADV,CACgB,OADhB,CAAA,CAEGD,MAFH,CAEU,MAFV,CAAA,CAGIC,IAHJ,CAGS,OAHT,CAGkB,oBAHlB,CAAA,CAIKA,IAJL,CAIU,GAJV,CAIe,CAJf,CAAA,CAKKA,IALL,CAKU,GALV,CAKezO,CALf,CAAA,CAMKyO,IANL,CAMU,OANV,CAMmBsV,CANnB,CAAA,CAOKtV,IAPL,CAOU,QAPV,CAOoB,IAPpB,CAOyBkQ,QAPzB,CASA,KAAA,CAAK/B,KAAL,CAAWpO,MAAX,CAAkB,GAAlB,CAAA,CACEC,IADF,CACO,OADP,CACe,SADf,CAAA,CAEEA,IAFF,CAEO,WAFP,CAEoB,aAFpB,CAKH,KAAA,CAAK4V,cAAL,EA7BuB,CA5ZF,CA4brB3E,SAAUA,QAAQ,EAAG,CACrB,GAAG,IAAH,CAAQ9C,KAAR,CAAe,CAAA,IACVkH,EAAI,IAAA,CAAK7vB,SAAL,CAAeuC,SAAf,EADM,CAEbutB,EAAI,IAAA,CAAK9vB,SAAL,CAAeyC,QAAf,EAEL,KAAA,CAAKytB,eAAL,EAEA,KAAA,CAAKxF,QAAL,CAAgBmF,CAAhB,CAAoB,IAAA,CAAKM,eAAL,EACpB,KAAA,CAAKxF,QAAL,CAAgBmF,CAEhB,KAAA,CAAKnH,KAAL,CAAWnO,IAAX,CAAgB,QAAhB;AAA0BqV,CAA1B,CAAA,CACErV,IADF,CACO,OADP,CACgBsV,CADhB,CAGA,KAAA,CAAKM,cAAL,EAEA,KAAA,CAAKzH,KAAL,CAAWlQ,MAAX,CAAkB,gCAAlB,CAAA,CACQ+B,IADR,CACa,GADb,CACkB,CADlB,CAAA,CAEQA,IAFR,CAEa,GAFb,CAEkB,IAFlB,CAEuB8P,QAFvB,CAEkC,IAAA,CAAK6F,eAAL,EAFlC,CAAA,CAGQ3V,IAHR,CAGa,OAHb,CAGsBsV,CAHtB,CAAA,CAIQtV,IAJR,CAIa,QAJb,CAIuB,IAJvB,CAI4BkQ,QAJ5B,CAMA,KAAA,CAAK9R,MAAL,EApBc,CADM,CA5bA,CAqdlBoW,UAAWA,QAAQ,EAAG,CACtB,IAAIF,EAAK,IAAT,CAECe,EAAI,IAAA,CAAK7vB,SAAL,CAAeuC,SAAf,EACH,KAAA,CAAKvC,SAAL,CAAeyC,QAAf,EAGL,KAAA,CAAK4tB,gBAAL,EAGA,KAAA,CAAKxF,KAAL,CAAajV,EAAA,CAAGkV,UAAH,CAAcgE,CAAd,CAAiB/D,MAAjB,CAAA,CACRuF,KADQ,CACF9oB,IAAA,CAAKyF,KAAL,CAAW6hB,CAAX,CAActF,YAAd,CADE,CAAA,CAER+G,UAFQ,CAEG,QAAQ,CAAC5pB,CAAD,CAAG,CACtB,IAAI6pB,CACiC,WAArC,GAAG1B,CAAA,CAAGtP,MAAH,CAAU0M,WAAV,CAAsB,MAAtB,CAAH,GACFsE,CADE,CACI,UADJ,EACkB5D,QAAA,CAASjmB,CAAT,CADlB,CACgC,CADhC,EAGkC,SAArC;AAAGmoB,CAAA,CAAGtP,MAAH,CAAU0M,WAAV,CAAsB,MAAtB,CAAH,GACCsE,CADD,CACO7pB,CADP,CACW,CADX,CACe,IADf,CACsBmoB,CAAA,CAAG/E,WAAH,CAAepjB,CAAf,CADtB,CAGA,OAAO6pB,EARkB,CAFd,CAcb,KAAA,CAAK5F,OAAL,CAAe,IAAA,CAAKjC,KAAL,CAAWpO,MAAX,CAAkB,GAAlB,CAAA,CACVC,IADU,CACL,OADK,CACI,OADJ,CAAA,CAEVA,IAFU,CAEL,WAFK,CAEQ,cAFR,EAE0BqV,CAF1B,CAE8B,IAF9B,CAEmC1F,QAFnC,EAE+C,GAF/C,CAAA,CAGVxR,IAHU,CAGL,IAHK,CAGAkS,KAHA,CAgBf,KAAA,CAAK4F,UAAL,EAxCyB,CArdJ,CAggBlBA,WAAYA,QAAQ,EAAG,CACvB,IAAA,CAAK7F,OAAL,CAAalS,SAAb,CAAuB,MAAvB,CAAA,CACK5L,KADL,CACW,aADX,CAC0B,YAD1B,CAAA,CAEKA,KAFL,CAEW,WAFX,CAEwB,MAFxB,CAIA,KAAA,CAAK8d,OAAL,CAAalS,SAAb,CAAuB,MAAvB,CAAA,CACK5L,KADL,CACW,MADX,CACkB,MADlB,CAAA,CAEKA,KAFL,CAEW,QAFX,CAEoB,OAFpB,CAAA,CAGKA,KAHL,CAGW,iBAHX,CAG8B,YAH9B,CAKA,KAAA,CAAK8d,OAAL,CAAalS,SAAb,CAAuB,MAAvB,CAAA,CACK5L,KADL,CACW,MADX,CACkB,MADlB,CAAA,CAEKA,KAFL,CAEW,QAFX;AAEoB,OAFpB,CAAA,CAGKA,KAHL,CAGW,iBAHX,CAG8B,YAH9B,CAVuB,CAhgBL,CAghBlByiB,YAAaA,QAAQ,EAAG,CACxB,IAAA,CAAK5G,KAAL,CAAWjQ,SAAX,CAAqB,gBAArB,CAAA,CACDkC,MADC,EAGH,KAAA,CAAKoU,SAAL,EAJ2B,CAhhBN,CAuhBlBC,UAAWA,QAAQ,EAAG,CAAA,IAIrBY,EAAI,IAAA,CAAK7vB,SAAL,CAAeuC,SAAf,EAJiB,CAKxButB,EAAI,IAAA,CAAK9vB,SAAL,CAAeyC,QAAf,EAGL,KAAA,CAAKiuB,gBAAL,EAEG,KAAIC,EAAc/a,EAAA,CAAGoV,WAAH,EAAA,CACnBjR,MADmB,CACZ,CAAC,GAAD,CAAK,GAAL,CADY,CAAA,CAEnBH,KAFmB,CAEb,CAAC,CAAD,CAAG,EAAH,CAFa,CAAlB,CAICgX,EAAehb,EAAA,CAAGib,MAAH,CAAU,KAAV,CAMnB,KAAA,CAAK1F,KAAL,CAAavV,EAAA,CAAGwV,QAAH,CAnBD0D,IAmBC,CAAezD,MAAf,CAAA,CACRiF,KADQ,CACFK,CAAA,CAAYd,CAAZ,CADE,CAAA,CAERU,UAFQ,CALbO,QAAkB,CAACnqB,CAAD,CAAI,CACrB,IAAIE,EAAIW,IAAA,CAAKC,GAAL,CAASd,CAAT,CAAJE,CAAkBW,IAAA,CAAKC,GAAL,CAAS,EAAT,CAAlBZ,CAAiC,IACrC,OAAqC,EAA9B,CAAAW,IAAA,CAAKwI,GAAL,CAASnJ,CAAT,CAAaW,IAAA,CAAKupB,KAAL,CAAWlqB,CAAX,CAAb,CAAA,CAAoC+pB,CAAA,CAAajqB,CAAb,CAApC,CAAsD,EAFxC,CAKT,CAAA,CAGXqqB,QAHW,CAGF,CAAClB,CAHC,CAGG,IAHH,CAGQzF,QAHR,CAGmB,IAHnB,CAGwBD,QAHxB,CAMb;IAAA,CAAKc,OAAL,CAAe,IAAA,CAAKvC,KAAL,CAAWpO,MAAX,CAAkB,GAAlB,CAAA,CACVC,IADU,CACL,OADK,CACI,OADJ,CAAA,CAEVA,IAFU,CAEL,WAFK,CAEQ,YAFR,CAEuB,IAFvB,CAE4B4P,QAF5B,CAEuC,KAFvC,CAAA,CAGVzR,IAHU,CAGL,IAHK,CAGAwS,KAHA,CAKZ,KAAA,CAAKD,OAAL,CAAaxS,SAAb,CAAuB,MAAvB,CAAA,CACK5L,KADL,CACW,aADX,CAC0B,YAD1B,CAAA,CAEKA,KAFL,CAEW,WAFX,CAEwB,MAFxB,CAKA,KAAA,CAAKoe,OAAL,CAAaxS,SAAb,CAAuB,MAAvB,CAAA,CACK5L,KADL,CACW,MADX,CACkB,MADlB,CAAA,CAEKA,KAFL,CAEW,QAFX,CAEoB,OAFpB,CAAA,CAGKA,KAHL,CAGW,iBAHX,CAG8B,YAH9B,CAAA,CAIKA,KAJL,CAIW,gBAJX,CAI6B,GAJ7B,CAMA,KAAA,CAAKoe,OAAL,CAAaxS,SAAb,CAAuB,MAAvB,CAAA,CACK5L,KADL,CACW,MADX,CACkB,MADlB,CAAA,CAEKA,KAFL,CAEW,QAFX,CAEoB,OAFpB,CAAA,CAGKA,KAHL,CAGW,iBAHX,CAG8B,YAH9B,CA1CsB,CAvhBJ,CAukBlB0iB,YAAaA,QAAQ,EAAG,CACxB,IAAA,CAAK7G,KAAL,CAAWjQ,SAAX,CAAqB,gBAArB,CAAA,CACDkC,MADC,EAGH;IAAA,CAAKqU,SAAL,EAJ2B,CAvkBN,CA8kBlBC,UAAWA,QAAQ,EAAG,CACtB,IAAIJ,EAAK,IAIW,KAAA,CAAKnG,KAAL,CAAWjQ,SAAX,CAAqB,kBAArB,CAAA,CACfiG,IADe,CACVmQ,CADU,CACP7F,WADO,CACM,QAAQ,CAACtiB,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASonB,YAAX,CADlB,CAAA,CAEjBzM,KAFiB,EAAA,CAET/G,MAFS,CAEF,GAFE,CAAA,CAGfC,IAHe,CAGV,OAHU,CAGD,SAHC,CAAAyW,CAIfzW,IAJeyW,CAIV,WAJUA,CAIG,aAJHA,CAME,CAAiBvY,SAAjB,CAA2B,GAA3B,CAAA,CACvBiG,IADuB,CAClB,QAAQ,CAAChY,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASunB,eAAX,CADM,CAAA,CAEnB5M,KAFmB,EAAA,CAEX/G,MAFW,CAEJ,GAFI,CAAA,CAGjBC,IAHiB,CAGZ,OAHY,CAGH,aAHG,CAAA,CAIjB5C,EAJiB,CAId,WAJc,CAID,QAAQ,EAAG,CACjChC,EAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CAAgB3L,KAAhB,CAAsB,MAAtB,CAA8B,KAA9B,CADiC,CAJV,CAAAokB,CAOvBtZ,EAPuBsZ,CAOpB,UAPoBA,CAOR,QAAQ,EAAG,CACjBtb,EAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CAAgB3L,KAAhB,CAAsB,MAAtB,CAA8B,OAA9B,CADiB,CAPHokB,CAYT,CAAmBxY,SAAnB,CAA6B,MAA7B,CAAA,CACXiG,IADW,CACN,QAAQ,CAAChY,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASgnB,cAAX,CADN,CAAA,CAEbrM,KAFa,EAAA,CAEL/G,MAFK,CAEE,MAFF,CAAA,CAGRC,IAHQ,CAGH,OAHG;AAGM,QAAQ,CAAC7T,CAAD,CAAI,CAC1B,MAAOmoB,EAAA,CAAGqC,wBAAH,CAA4BxqB,CAA5B,CAA8B6lB,UAA9B,CADmB,CAHlB,CAAA,CAMXhS,IANW,CAMN,GANM,CAMD,QAAS,CAAC7T,CAAD,CAAI,CAAA,IACnByqB,EAAc,EAAdA,CAAoBzqB,CAApByqB,CAAsBhE,WAAtBgE,CAAqC,EADlB,CAExBC,EAAc1qB,CAAd0qB,CAAgBlE,WAAhBkE,CAA8B1qB,CAA9B0qB,CAAgCjE,WAAhCiE,CAA8C,EAC9CxqB,EAAAA,CAAIF,CAAJE,CAAMqmB,OAANrmB,CAAgBioB,CAAA,CAAGwC,UAAH,EAAhBzqB,CAAkCuqB,CAAlCvqB,CAA+CwqB,CACjD,OAAOvC,EAAA,CAAG/D,MAAH,CAAUlkB,CAAV,CAJmB,CANZ,CAAA,CAYX2T,IAZW,CAYN,GAZM,CAYD,QAAS,CAAC7T,CAAD,CAAI,CAE1B,MAAOmoB,EAAA,CAAGzD,MAAH,CADC1kB,CACD,CADGG,IACH,CAFmB,CAZZ,CAAA,CAgBX0T,IAhBW,CAgBN,aAhBM,CAgBS,QAhBT,CAAA,CAiBXA,IAjBW,CAiBN,WAjBM,CAiBO,QAAS,CAAC7T,CAAD,CAAI,CAAA,IAC3ByqB,EAAc,EAAdA,CAAoBzqB,CAApByqB,CAAsBhE,WAAtBgE,CAAqC,EADV,CAEhCC,EAAc1qB,CAAd0qB,CAAgBlE,WAAhBkE,CAA8B1qB,CAA9B0qB,CAAgCjE,WAAhCiE,CAA8C,EAC9CxqB,EAAAA,CAAIF,CAAJE,CAAMqmB,OAANrmB,CAAgBioB,CAAA,CAAGwC,UAAH,EAAhBzqB,CAAkCuqB,CAAlCvqB,CAA+CwqB,CAC/CtlB,EAAAA,CAAIpF,CAAJoF,CAAMjF,IACL,OAAO,6BAAP,CAAuCgoB,CAAA,CAAG/D,MAAH,CAAUlkB,CAAV,CAAvC,CAAsD,GAAtD,CAA2DioB,CAAA,CAAGzD,MAAH,CAAUtf,CAAV,CAA3D,CAA0E,GAL3C,CAjBpB,CAAA,CAwBXe,KAxBW,CAwBL,WAxBK,CAwBQ,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAGvD,SAAH,CAAa5kB,CAAb,CAAeG,IAAf,CAAP;AAA8B,IAAhC,CAxBpB,CAAA,CAyBXgG,KAzBW,CAyBL,cAzBK,CAyBW,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAGtD,YAAH,CAAgB7kB,CAAhB,CAAkBG,IAAlB,CAAT,CAzBvB,CAAA,CA0BRya,IA1BQ,CA0BH,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS6lB,UAAX,CA1BT,CAAA,CA2BR5U,EA3BQ,CA2BL,WA3BK,CA2BQ,QAAQ,CAACjR,CAAD,CAAI,CAC3BiP,EAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CAAgB3L,KAAhB,CAAsB,QAAtB,CAAgC,SAAhC,CAAA,CAA2CA,KAA3C,CAAiD,WAAjD,CAA8D,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAQmoB,EAAA,CAAGvD,SAAH,CAAa5kB,CAAb,CAAeG,IAAf,CAAR,CAA+BgoB,CAA/B,CAAkCxF,OAAlC,CAA4CwF,CAAA,CAAGvD,SAAH,CAAa5kB,CAAb,CAAeG,IAAf,CAA5C,CAAoE,IAAtE,CAA1E,CACIwlB,EAAAA,CAAewC,CAAA,CAAGvC,iBAAH,CAAqB5lB,CAArB,CACnBmoB,EAAA,CAAGpC,qBAAH,CAAyBJ,CAAzB,CAH2B,CA3BpB,CAAA,CAgCR1U,EAhCQ,CAgCL,UAhCK,CAgCO,QAAQ,CAACjR,CAAD,CAAI,CAC3BiP,EAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CAAgB3L,KAAhB,CAAsB,QAAtB,CAAgC,MAAhC,CAAA,CAAwCA,KAAxC,CAA8C,WAA9C,CAA2D,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAGvD,SAAH,CAAa5kB,CAAb,CAAeG,IAAf,CAAP,CAA8B,IAAhC,CAAvE,CACIwlB,EAAAA,CAAewC,CAAA,CAAGvC,iBAAH,CAAqB5lB,CAArB,CACnBmoB,EAAA,CAAGpC,qBAAH,CAAyBJ,CAAzB,CAH2B,CAhCnB,CAAA,CAqCR1U,EArCQ,CAqCL,OArCK;AAqCI,QAAQ,CAACjR,CAAD,CAAI,CACpB2lB,CAAAA,CAAewC,CAAA,CAAGvC,iBAAH,CAAqB5lB,CAArB,CACnBmoB,EAAA,CAAGrC,mBAAH,CAAuBH,CAAvB,CAFwB,CArChB,CAAA,CAyCX/R,MAzCW,CAyCJ,OAzCI,CAAA,CA0CXgH,IA1CW,CA0CN,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS6lB,UAAX,CA1CN,CAvBS,CA9kBJ,CAkpBlBiD,YAAaA,QAAQ,EAAG,CACxB,IAAA,CAAK9G,KAAL,CAAWjQ,SAAX,CAAqB,kBAArB,CAAA,CACDkC,MADC,EAGH,KAAA,CAAKsU,SAAL,EAJ2B,CAlpBN,CAypBlBE,mBAAoBA,QAAQ,EAAG,EAzpBb,CA6rBlBO,qBAAsBA,QAAQ,EAAG,CACjC,IAAA,CAAKhH,KAAL,CAAWjQ,SAAX,CAAqB,qBAArB,CAAA,CACDkC,MADC,EAGH,KAAA,CAAKwU,kBAAL,EAJoC,CA7rBf,CAosBlBD,WAAYA,QAAQ,EAAG,CACf,IAAA,CAAKnvB,SAAL,CAAeuC,SAAf,EADe,KAKtBgvB,EAHC,IAAAzB,CAAK9vB,SAAL8vB,CAAertB,QAAfqtB,EAGDyB,EAAiB,IAAjBA,CAAsBlH,QAAtBkH,CAAiC,IAAjCA,CAAsCnH,QAAtCmH,CALsB,CAOxBC,EAAiB,IAAjBA,CAAsBpH,QAPE,CAQxBqH,EAAe,IAAfA,CAAoBrH,QAApBqH,EAA8C,IAA9CA,CAAmDjI,YAAnDiI;AAAkE,CAAlEA,GAAwE,IAAxEA,CAA6ElI,aAA7EkI,CAA6F,CAA7FA,EAAgCF,CAEtB,KAAA,CAAK5I,KAAL,CAAWpO,MAAX,CAAkB,MAAlB,CAAA,CACVC,IADU,CACL,OADK,CACI,aADJ,CAAA,CAEVA,IAFU,CAEL,IAFK,CAEC,IAFD,CAEM4P,QAFN,CAAA,CAGV5P,IAHU,CAGL,IAHK,CAGC,IAAA,CAAKxa,SAAL,CAAeyC,QAAf,EAHD,CAG6B,IAH7B,CAGkC4nB,QAHlC,CAAA,CAIV7P,IAJU,CAIL,IAJK,CAIC,IAJD,CAIM8P,QAJN,CAIiB,IAJjB,CAIsBE,YAJtB,CAAA,CAKVhQ,IALU,CAKL,IALK,CAKC,IALD,CAKM8P,QALN,CAKiB,IALjB,CAKsBE,YALtB,CAAA,CAMV1d,KANU,CAMJ,iBANI,CAMe,YANf,CAAA,CAOVA,KAPU,CAOJ,QAPI,CAOK,OAPL,CAAA,CAQLA,KARK,CAQC,cARD,CAQgB,GARhB,CAUA,KAAA,CAAK6b,KAAL,CAAWpO,MAAX,CAAkB,MAAlB,CAAA,CACVC,IADU,CACL,OADK,CACI,aADJ,CAAA,CAEVA,IAFU,CAEL,IAFK,CAEC,IAFD,CAEM4P,QAFN,CAAA,CAGV5P,IAHU,CAGL,IAHK,CAGC,IAHD,CAGM4P,QAHN,CAAA,CAIV5P,IAJU,CAIL,IAJK,CAIC,IAJD,CAIM8P,QAJN,CAIiB,IAJjB,CAIsBE,YAJtB,CAAA,CAKVhQ,IALU,CAKL,IALK,CAKC,IALD,CAKM8P,QALN,CAAA,CAMVxd,KANU,CAMJ,iBANI;AAMe,YANf,CAAA,CAOVA,KAPU,CAOJ,QAPI,CAOK,OAPL,CAAA,CAQLA,KARK,CAQC,cARD,CAQgB,GARhB,CAUY,KAAA,CAAK6b,KAAL,CAAWpO,MAAX,CAAkB,MAAlB,CAAA,CACjBC,IADiB,CACZ,OADY,CACH,QADG,CAAA,CAEjBA,IAFiB,CAEZ,IAFY,CAEN,QAFM,CAAA,CAGjBA,IAHiB,CAGZ,IAHY,CAGL+W,CAHK,EAGQ,IAHR,CAGazH,UAHb,CAG0B,IAAA,CAAKwH,UAAL,EAH1B,GAGgD,IAHhD,CAGqD/H,aAHrD,CAGqE,CAHrE,EAG2EiI,CAH3E,CAAA,CAIjBhX,IAJiB,CAIZ,IAJY,CAIL+W,CAJK,EAIQ,IAJR,CAIazH,UAJb,CAI0B,IAAA,CAAKwH,UAAL,EAJ1B,GAIgD,IAJhD,CAIqD/H,aAJrD,CAIqE,CAJrE,EAI2EiI,CAJ3E,CAAA,CAKjBhX,IALiB,CAKZ,IALY,CAKN,IALM,CAKD8P,QALC,CAKU,IALV,CAKeE,YALf,CAAA,CAMjBhQ,IANiB,CAMZ,IANY,CAMN,IANM,CAMD8P,QANC,CAAA,CAOjBxd,KAPiB,CAOX,QAPW,CAOD,OAPC,CAAA,CAQjBA,KARiB,CAQX,cARW,CAQK,GARL,CAUF,KAAA,CAAK6b,KAAL,CAAWpO,MAAX,CAAkB,MAAlB,CAAA,CACfC,IADe,CACV,OADU,CACD,QADC,CAAA,CAEfA,IAFe,CAEV,IAFU,CAEJ,OAFI,CAAA,CAGfA,IAHe,CAGV,IAHU,CAGH+W,CAHG,EAGU,IAHV,CAGezH,UAHf,CAG4B,IAAA,CAAKwH,UAAL,EAH5B;CAGkD,IAHlD,CAGuD/H,aAHvD,CAGuE,CAHvE,EAG6EkI,CAH7E,CAAA,CAIfjX,IAJe,CAIV,IAJU,CAIH+W,CAJG,EAIU,IAJV,CAIezH,UAJf,CAI4B,IAAA,CAAKwH,UAAL,EAJ5B,GAIkD,IAJlD,CAIuD/H,aAJvD,CAIuE,CAJvE,EAI6EkI,CAJ7E,CAAA,CAKfjX,IALe,CAKV,IALU,CAKJ,IALI,CAKC8P,QALD,CAKY,IALZ,CAKiBE,YALjB,CAAA,CAMfhQ,IANe,CAMV,IANU,CAMJ,IANI,CAMC8P,QAND,CAAA,CAOfxd,KAPe,CAOT,QAPS,CAOC,OAPD,CAAA,CAQfA,KARe,CAQT,cARS,CAQO,GARP,CAUhB4kB,EAAAA,CAAgB,IAAA,CAAK/I,KAAL,CAAWpO,MAAX,CAAkB,MAAlB,CAAA,CACfC,IADe,CACV,OADU,CACD,QADC,CAAA,CAEfA,IAFe,CAEV,IAFU,CAEJ,WAFI,CAAA,CAGfA,IAHe,CAGV,GAHU,CAGL,IAHK,CAGA4P,QAHA,CAAA,CAIf5P,IAJe,CAIV,GAJU,CAIL,IAJK,CAIA8P,QAJA,CAAA,CAKf9P,IALe,CAKV,QALU,CAKA,IALA,CAKKgQ,YALL,CAAA,CAMfhQ,IANe,CAMV,OANU,CAMD+W,CANC,EAMY,IANZ,CAMiBzH,UANjB,CAM8B,IAAA,CAAKwH,UAAL,EAN9B,GAMoD,IANpD,CAMyD/H,aANzD,CAMyE,CANzE,EAAA,CAOfzc,KAPe,CAOT,MAPS,CAOD,QAPC,CAAA,CAQfA,KARe,CAQT,cARS,CAQO,GARP,CAAA,CASjBA,KATiB,CASX,QATW;AASD,MATC,CAWf6kB,EAAAA,CAAe,IAAA,CAAKhJ,KAAL,CAAWpO,MAAX,CAAkB,MAAlB,CAAA,CACjBC,IADiB,CACZ,OADY,CACH,QADG,CAAA,CAEjBA,IAFiB,CAEZ,IAFY,CAEN,UAFM,CAAA,CAGjBA,IAHiB,CAGZ,GAHY,CAGN+W,CAHM,EAGO,IAHP,CAGYzH,UAHZ,CAGyB,IAAA,CAAKwH,UAAL,EAHzB,GAG+C,IAH/C,CAGoD/H,aAHpD,CAGoE,CAHpE,EAG0EkI,CAH1E,CAAA,CAIjBjX,IAJiB,CAIZ,GAJY,CAIP,IAJO,CAIF8P,QAJE,CAAA,CAKjB9P,IALiB,CAKZ,QALY,CAKF,IALE,CAKGgQ,YALH,CAAA,CAMjBhQ,IANiB,CAMZ,OANY,CAMH+W,CANG,EAMU,IANV,CAMehI,aANf,CAM+B,IAN/B,CAMoCC,YANpC,CAMmD,IANnD,CAMwDM,UANxD,CAMqE,IAAA,CAAKwH,UAAL,EANrE,GAM2F,IAN3F,CAMgG/H,aANhG,CAMgH,CANhH,EAAA,CAOjBzc,KAPiB,CAOX,MAPW,CAOH,QAPG,CAAA,CAQjBA,KARiB,CAQX,cARW,CAQK,GARL,CAAA,CASjBA,KATiB,CASX,QATW,CASD,MATC,CAWnB,KAAIgiB,EAAK,IACL8C,EAAAA,CAAOhc,EAAA,CAAGgc,IAAH,EAAA,CACPha,EADO,CACJ,MADI,CACI,QAAQ,CAACjR,CAAD,CAAI,CACvB,GAAG,CAACmoB,CAAD,CAAI5F,eAAP,CAAwB,CACvB,IAAA,CAAK0I,IAAL,CAAY,CAAA,CAER9B,EAAAA,CAAIhB,CAAA,CAAGtP,MAAH,CAAU/c,QAAV,EAHe,KAIrBovB;AAAYjF,QAAA,CAAShX,EAAT,CAAYrJ,KAAZ,CAAkBulB,EAAlB,CAJS,CAKrBC,CALqB,CAMrBC,CAIFlD,EAAA,CAAGjF,aAAH,EAAoBjU,EAApB,CAAuBrJ,KAAvB,CAA6BulB,EAE7BhD,EAAA,CAAGnG,KAAH,CAASjQ,SAAT,CAAmB,SAAnB,CAAA,CACE8B,IADF,CACO,IADP,CACa,QAAS,EAAG,CACvBuX,CAAA,CAAcnF,QAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CACRrF,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CACN,OAAOrF,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CAHgB,CADzB,CAOAnD,EAAA,CAAGnG,KAAH,CAASjQ,SAAT,CAAmB,QAAnB,CAAA,CACE8B,IADF,CACO,IADP,CACa,QAAS,EAAG,CACvBwX,CAAA,CAAapF,QAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CACb,OAAOrF,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CAFgB,CADzB,CAMA,IAAGF,CAAH,CAAiBF,CAAjB,CAA6B/C,CAA7B,CAAgC1E,QAAhC,EAA4C4H,CAA5C,CAAyDH,CAAzD,CAAqE/B,CAArE,CAAyEhB,CAAzE,CAA4EzE,QAA5E,CACCwH,CAAA,CAAY,CAGb/C,EAAA,CAAGnG,KAAH,CAASlQ,MAAT,CAAgB,YAAhB,CAAA,CACE+B,IADF,CACO,OADP,CACgB,QAAS,EAAG,CAAE,MAAOoS,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,OAAlB,CAAT,CAAP,CAA8CJ,CAAhD,CAD5B,CAGA/C,EAAA,CAAGnG,KAAH,CAASlQ,MAAT,CAAgB,WAAhB,CAAA,CACE+B,IADF,CACO,GADP;AACY,QAAS,EAAG,CAAE,MAAOoS,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,GAAlB,CAAT,CAAP,CAA0CJ,CAA5C,CADxB,CAAA,CAEErX,IAFF,CAEO,OAFP,CAEgB,QAAS,EAAG,CAAE,MAAOhT,KAAA,CAAKM,GAAL,CAAS,CAAT,CAAY8kB,QAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,OAAlB,CAAT,CAAZ,CAAmDJ,CAAnD,CAAT,CAF5B,CAIA/C,EAAA,CAAGnG,KAAH,CAASjQ,SAAT,CAAmB,SAAnB,CAAA,CACE8B,IADF,CACO,IADP,CACa,QAAS,EAAG,CAAE,MAAOoS,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CAAP,CAA2CJ,CAA7C,CADzB,CAAA,CAEErX,IAFF,CAEO,IAFP,CAEa,QAAS,EAAG,CAAE,MAAOoS,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CAAP,CAA2CJ,CAA7C,CAFzB,CAIA/C,EAAA,CAAGnG,KAAH,CAASjQ,SAAT,CAAmB,QAAnB,CAAA,CACE8B,IADF,CACO,IADP,CACa,QAAS,EAAG,CAAE,MAAOoS,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CAAP,CAA2CJ,CAA7C,CADzB,CAAA,CAEErX,IAFF,CAEO,IAFP,CAEa,QAAS,EAAG,CAAE,MAAOoS,SAAA,CAAS,IAAA,CAAKqF,YAAL,CAAkB,IAAlB,CAAT,CAAP,CAA2CJ,CAA7C,CAFzB,CAxCuB,CADD,CADhB,CAAA,CA+CPja,EA/CO,CA+CJ,KA/CI,CA+CG,QAAQ,CAACjR,CAAD,CAAI,CACtB,GAAG,IAAH,CAAQirB,IAAR,CAAa,CACZ,IAAA,CAAKA,IAAL;AAAY,CAAA,CAORM,EAAAA,CALqBtc,EAAA,CAAGoV,WAAH,EAAA,CAC1BjR,MAD0B,CACnB,CAAC,CAAD,CAAI+U,CAAA,CAAG9uB,SAAH,CAAayC,QAAb,EAAJ,EAA+BqsB,CAA/B,CAAkC1E,QAAlC,CAA6C0E,CAA7C,CAAgDzE,QAAhD,EADmB,CAAA8H,CAE1BvY,KAF0BuY,CAEpB,CAAC,CAAD,CAAIrD,CAAJ,CAAOvF,aAAP,CAFoB4I,CAKR,CAAmBrD,CAAnB,CAAsBjF,aAAtB,CARL,KASXuI,CATW,CAUXC,EAAgBvD,CAAhBuD,CAAmBvI,UAEP,EAAhB,CAAGoI,CAAH,GAAmBE,CAAnB,CAAoC5qB,IAAA,CAAKupB,KAAL,CAAWmB,CAAX,CAApC,CACgB,EAAhB,CAAGA,CAAH,GAAmBE,CAAnB,CAAoC5qB,IAAA,CAAK8qB,IAAL,CAAUJ,CAAV,CAApC,CAGApD,EAAA,CAAGhF,UAAH,EAAiBsI,CACE,EAAnB,CAAGtD,CAAH,CAAMhF,UAAN,GAAsBgF,CAAtB,CAAyBhF,UAAzB,CAAsC,CAAtC,CACGgF,EAAH,CAAMhF,UAAN,CAAmBgF,CAAnB,CAAsBvF,aAAtB,CAAsC,CAAtC,GAAyCuF,CAAzC,CAA4ChF,UAA5C,CAAyDgF,CAAzD,CAA4DvF,aAA5D,CAA4E,CAA5E,CAEGuF,EAAH,CAAMhF,UAAN,GAAqBuI,CAArB,GACCvD,CAKH,CALMjF,aAKN,CALsB,CAKtB,CAHMiF,CAAA,CAAGtP,MAAH,CAAUiP,YAAV,CAAuB,CAACC,SAAUI,CAAVJ,CAAa5E,UAAd,CAAvB,CAGN,CAFAgF,CAAA,CAAGlD,WAAH,EAEA,CAAAkD,CAAA,CAAGlW,MAAH,EANE,CApBe,CADS,CA/Cf,CA+EX8Y,EAAA,CAAc/Y,IAAd,CAAmBiZ,CAAnB,CACAD,EAAA,CAAahZ,IAAb,CAAkBiZ,CAAlB,CAzJuB,CApsBL,CAg2BlBW,aAAcA,QAAQ,CAACC,CAAD,CAAkB,CACxC,IAAA,CAAK7J,KAAL,CAAWjQ,SAAX,CAAqB,oBAArB,CAAA,CACEkC,MADF,EAGA;IAAA,CAAK+N,KAAL,CAAWjQ,SAAX,CAAqB,qBAArB,CAAA,CACEkC,MADF,EAGI4X,EAAJ,EACC,IAAA,CAAK7J,KAAL,CAAWjQ,SAAX,CAAqB,iBAArB,CAAA,CACEkC,MADF,EARuC,CAh2BtB,CA62BlB8U,aAAcA,QAAQ,EAAG,CACzB,IAAA,CAAK6C,YAAL,EACA,KAAA,CAAKpD,UAAL,EAFyB,CA72BP,CAk3BrBR,WAAYA,QAAQ,EAAG,CACvB,IAAIG,EAAK,IAIE,KAAA,CAAKtP,MAAL,CAAY0M,WAAZ,CAAwB,MAAxB,CAGH,KAAA,CAAKlsB,SAAL,CAAeuC,SAAf,EAAR,KACCutB,EAAI,IAAA,CAAK9vB,SAAL,CAAeyC,QAAf,EADL,CAGIqf,EAAW,IAAA,CAAK2Q,WAAL,EAKf,IAA2B,MAA3B,GAAG,IAAH,CAAQzI,cAAR,EAA4D,OAA5D,GAAqC,IAArC,CAA0CA,cAA1C,CAAoE,CACnE,IAAA,CAAKY,OAAL,CAAa/I,UAAb,EAAA,CACWC,QADX,CACoBA,CADpB,CAAA,CAEW4Q,IAFX,CAEgB9c,EAFhB,CAEmB+c,UAFnB,CAAA,CAGWha,IAHX,CAGgB,IAHhB,CAGqBkS,KAHrB,CAKM,KAAA,CAAK4F,UAAL,EAEA,KAAA,CAAKvB,SAAL,EAGA,KAAA,CAAKvG,KAAL,CAAWjQ,SAAX,CAAqB,cAArB,CAAA,CAAqCmJ,UAArC,EAAA,CACEC,QADF,CACWA,CADX,CAAA,CAEK4Q,IAFL,CAEU9c,EAFV,CAEa+c,UAFb,CAAA,CAGKja,SAHL,CAGe,MAHf,CAAA,CAIK8B,IAJL,CAIU,GAJV;AAIe,QAAS,CAAC7T,CAAD,CAAI,CAIhC,MAAOmoB,EAAA,CAAG/D,MAAH,CADFpkB,CACE,CADAumB,OACA,EAHoB,EAGpB,CAH0BvmB,CAG1B,CAH4BymB,WAG5B,CAH2C,EAG3C,EAFQzmB,CAER,CAFUwmB,WAEV,CAFwBxmB,CAExB,CAF0BymB,WAE1B,CAFwC,EAExC,CAJyB,CAJ5B,CAAA,CAUJ5S,IAVI,CAUC,WAVD,CAUc,QAAS,CAAC7T,CAAD,CAAI,CAC5B,IAGDoF,EAAIpF,CAAJoF,CAAMjF,IACL,OAAO,6BAAP,CAAuCgoB,CAAA,CAAG/D,MAAH,CAFpCpkB,CAEoC,CAFlCumB,OAEkC,EAJrB,EAIqB,CAJfvmB,CAIe,CAJbymB,WAIa,CAJE,EAIF,EAH1BzmB,CAG0B,CAHxBwmB,WAGwB,CAHVxmB,CAGU,CAHRymB,WAGQ,CAHM,EAGN,CAAvC,CAAsD,GAAtD,CAA2D0B,CAAA,CAAGzD,MAAH,CAAUtf,CAAV,CAA3D,CAA0E,GAL9C,CAV3B,CAmBU+jB,EAAZyB,EAAiB,IAAjBA,CAAsBlH,QAAtBkH,CAAiC,IAAjCA,CAAsCnH,QA9ByB,KAgCjEoH,EAAiB,IAAjBA,CAAsBpH,QAhC2C,CAiCjEqH,EAAe,IAAfA,CAAoBrH,QAApBqH,EAA8C,IAA9CA,CAAmDjI,YAAnDiI,CAAkE,CAAlEA,GAAwE,IAAxEA,CAA6ElI,aAA7EkI,CAA6F,CAA7FA,EAAgCF,CAE5B,KAAA,CAAK5I,KAAL,CAAWlQ,MAAX,CAAkB,SAAlB,CAAA,CAA6BoJ,UAA7B,EAAA,CACJC,QADI,CACKA,CADL,CAAA,CAEJ4Q,IAFI,CAEC9c,EAFD,CAEI+c,UAFJ,CAAA,CAGHnY,IAHG,CAGE,IAHF,CAGS+W,CAHT,CAGqB,IAHrB,CAG0BzH,UAH1B,EAGwC,IAHxC,CAG6CP,aAH7C;AAG6D,CAH7D,EAGmEiI,CAHnE,CAAA,CAIHhX,IAJG,CAIE,IAJF,CAIS+W,CAJT,CAIqB,IAJrB,CAI0BzH,UAJ1B,EAIwC,IAJxC,CAI6CP,aAJ7C,CAI6D,CAJ7D,EAImEiI,CAJnE,CAAA,CAKChX,IALD,CAKM,IALN,CAKY,IALZ,CAKiB8P,QALjB,CAK4B,IAAA,CAAK6F,eAAL,EAL5B,CAAA,CAMC3V,IAND,CAMM,IANN,CAMY,IANZ,CAMiB8P,QANjB,CAAA,CAOC1S,EAPD,CAOI,KAPJ,CAOW,QAAS,EAAG,CAClBkX,CAAA,CAAGtP,MAAH,CAAUoT,QAAV,EAAJ,EACC9D,CAAA,CAAGtP,MAAH,CAAUqT,MAAV,EAEE/D,EAAH,CAAM/F,kBAAN,CACCxf,UAAA,CAAW,QAAS,EAAG,CACtBulB,CAAA,CAAGgE,cAAH,EADsB,CAAvB,CAEE,EAFF,CADD,EAMChE,CACH,CADM5F,eACN,CADwB,CAAA,CACxB,CAAA4F,CAAA,CAAGX,gBAAH,EAPE,CAJsB,CAPvB,CAsBF,KAAA,CAAKxF,KAAL,CAAWlQ,MAAX,CAAkB,QAAlB,CAAA,CAA4BoJ,UAA5B,EAAA,CACFC,QADE,CACOA,CADP,CAAA,CAEF4Q,IAFE,CAEG9c,EAFH,CAEM+c,UAFN,CAAA,CAGDnY,IAHC,CAGI,IAHJ,CAGW+W,CAHX,CAGuB,IAHvB,CAG4BzH,UAH5B,EAG0C,IAH1C,CAG+CP,aAH/C,CAG+D,CAH/D,EAGqEkI,CAHrE,CAAA,CAIDjX,IAJC,CAII,IAJJ,CAIW+W,CAJX,CAIuB,IAJvB,CAI4BzH,UAJ5B,EAI0C,IAJ1C,CAI+CP,aAJ/C,CAI+D,CAJ/D,EAIqEkI,CAJrE,CAAA,CAKGjX,IALH,CAKQ,IALR,CAKc,IALd,CAKmB8P,QALnB;AAK8B,IAAA,CAAK6F,eAAL,EAL9B,CAAA,CAMG3V,IANH,CAMQ,IANR,CAMc,IANd,CAMmB8P,QANnB,CAQA,KAAA,CAAK3B,KAAL,CAAWlQ,MAAX,CAAkB,YAAlB,CAAA,CAAgCoJ,UAAhC,EAAA,CACFC,QADE,CACOA,CADP,CAAA,CAEF4Q,IAFE,CAEG9c,EAFH,CAEM+c,UAFN,CAAA,CAGGnY,IAHH,CAGQ,GAHR,CAGa,IAHb,CAGkB4P,QAHlB,CAAA,CAIG5P,IAJH,CAIQ,GAJR,CAIa,IAJb,CAIkB8P,QAJlB,CAAA,CAKG9P,IALH,CAKQ,QALR,CAKkB,IAAA,CAAK2V,eAAL,EALlB,CAAA,CAMG3V,IANH,CAMQ,OANR,CAMiB+W,CANjB,CAM8B,IAN9B,CAMmCzH,UANnC,EAMkD,IANlD,CAMuDP,aANvD,CAMuE,CANvE,EAQC,KAAA,CAAKZ,KAAL,CAAWlQ,MAAX,CAAkB,WAAlB,CAAA,CAA+BoJ,UAA/B,EAAA,CACHC,QADG,CACMA,CADN,CAAA,CAEH4Q,IAFG,CAEE9c,EAFF,CAEK+c,UAFL,CAAA,CAGEnY,IAHF,CAGO,GAHP,CAGa+W,CAHb,CAGyB,IAHzB,CAG8BzH,UAH9B,EAG4C,IAH5C,CAGiDP,aAHjD,CAGiE,CAHjE,EAGuEkI,CAHvE,CAAA,CAIEjX,IAJF,CAIO,GAJP,CAIY,IAJZ,CAIiB8P,QAJjB,CAAA,CAKE9P,IALF,CAKO,QALP,CAKiB,IAAA,CAAK2V,eAAL,EALjB,CAAA,CAME3V,IANF,CAMO,OANP,CAMgB+W,CANhB,EAM6B,IAN7B,CAMkChI,aANlC,CAMkD,IANlD,CAMuDC,YANvD;AAMsE,IANtE,CAM2EM,UAN3E,GAM0F,IAN1F,CAM+FP,aAN/F,CAM+G,CAN/G,EAzE8D,CAmFpE,IAAA,CAAKqG,kBAAL,EAnGuB,CAl3BF,CAw9BrBkD,eAAgBA,QAAS,EAAG,CACD,MAA3B,GAAG,IAAH,CAAQ9I,cAAR,EAAmC,IAAA,CAAK+I,eAAL,EACF,QAA3B,GAAG,IAAH,CAAQ/I,cAAR,EAAoC,IAAA,CAAKuE,gBAAL,EAFd,CAx9BP,CA89BrBhC,kBAAmBA,QAAS,CAACvhB,CAAD,CAAO,CAAA,IAE/Bc,EAAOd,CAAPc,CAAY0gB,UAFmB,CAGlCwG,EAAS,EAIV,IAAyC,UAAzC,GAAK,IAAA,CAAKxT,MAAL,CAAY0M,WAAZ,CAAwB,MAAxB,CAAL,CAAqD,CACpDrmB,CAAA,CAAQmF,CAAR,CAAanF,KACb,KAAIotB,EAAc,IAAA,CAAKzT,MAAL,CAAY2M,SAAZ,EAAA,CAAwBC,WAAxB,CAAoCvmB,CAApC,CAAA,CAA2CE,GAA3C,CAA+C,aAA/C,CAAdktB,CAA8E,CAClFD,EAAA,CAAOE,YAAP,CAAsBtG,QAAA,CAAS,IAAT,CAAcuG,QAAd,CAAyBF,CAAzB,CAAuC,IAAvC,CAA4C1J,aAA5C,CACtByJ,EAAA,CAAOI,SAAP,CAAmBvtB,CAAnB,CAA2B,GAA3B,CAAiCiG,CAJmB,CAUrD,MAFewgB,CAAE0G,OAAQA,CAAV1G,CAAkBxgB,KAAMA,CAAxBwgB,CAfoB,CA99Bd,CAk/BrBI,sBAAuBA,QAAS,CAACJ,CAAD,CAAe,CAe/C,IAf+C,IAG3C+G;AAAS/G,CAAT+G,CAAsBvnB,IAHqB,CAI7CwnB,EAAW,IAAA,CAAKnC,wBAAL,CAA8B7E,CAA9B,CAA2CxgB,IAA3C,CAJkC,CAK7CynB,EAAU,IALmC,CAc3C1H,EAAM,IAANA,CAAWpC,YAAXoC,CAAwBrnB,MAC5B,CAAe,CAAf,EAAM,EAAEqnB,CAAR,CAAA,CACIyH,CAAH,GAAgB,IAAA,CAAK7J,YAAL,CAAkBoC,CAAlB,CAAhB,CAAuCyH,QAAvC,GACIC,CADJ,CACc,KADd,CAQED,EAAH,GAAgB,IAAhB,CAAqBlK,UAArB,GACCmK,CACA,CADU,KACV,CAAA,IAAA,CAAKnK,UAAL,CAAkB,IAFnB,CAKe,KAAf,GAAGmK,CAAH,GAEID,CAAH,GAAgB,IAAhB,CAAqBjK,YAArB,EACKmK,CAwBH,CAxBgB,IAAA,CAAKC,eAAL,CAAqBJ,CAArB,CAwBhB,CAvBGK,CAuBH,CAvBgB,CAChBC,KAAMN,CADU,CAEhBC,SAAUA,CAFM,CAGhBN,OAAQ1G,CAHQ,CAIhBsH,SAAUJ,CAAVI,CAAqBC,IAJL,CAKhBC,QAASN,CAATM,CAAoBtgB,GALJ,CAMhBugB,QAASP,CAATO,CAAoBjsB,GANJ,CAOhBksB,OAAQ,KAPQ,CAuBhB,CAdwB,IAcxB,GAdE,IAcF,CAdO3K,YAcP,GAZA,IAAA,CAAK4K,eAAL,CAAqB,IAArB,CAA0B5K,YAA1B,CAIA,CAHI,IAGJ,CAHSZ,eAGT,EAFC,IAAA,CAAKyL,gBAAL,CAAsB,IAAtB,CAA2B7K,YAA3B,CAED,CAAA,IAAA,CAAKA,YAAL,CAAoB,IAQpB,EAJA,IAAA,CAAK8K,cAAL,CAAoBT,CAApB,CAIA;AAHI,IAGJ,CAHSjL,eAGT,EAFC,IAAA,CAAK2L,eAAL,CAAqBV,CAArB,CAED,CAAA,IAAA,CAAKrK,YAAL,CAAoBiK,CAzBtB,GAuCC,IAAA,CAAKW,eAAL,CAAqBX,CAArB,CAIA,CAHI,IAGJ,CAHS7K,eAGT,EAFC,IAAA,CAAKyL,gBAAL,CAAsB,IAAtB,CAA2B7K,YAA3B,CAED,CAAA,IAAA,CAAKA,YAAL,CAAoB,IA3CrB,CAFD,CA7B+C,CAl/B1B,CAqkCrBoD,oBAAqBA,QAAS,CAACH,CAAD,CAAe,CAIzC9qB,CAAAA,CAAO8qB,CAAP9qB,CAAoBsK,IAExB,KAAA,CAAKke,cAAL,CAAsB,MAEjB,KAAA,CAAKqK,cAAL,CAAoB7yB,CAApB,CAAL,CAGC,IAAA,CAAK8yB,cAAL,CAAoB9yB,CAApB,CAA0B,CAAA,CAA1B,CAHD,CACC,IAAA,CAAK+yB,YAAL,CAAkB/yB,CAAlB,CAAwB,CAAA,CAAxB,CAT4C,CArkCxB,CAolCtBgzB,aAAcA,QAAQ,CAAChzB,CAAD,CAAO,CAC5B,IAAI2G,EAAQ,EACRmrB,EAAAA,CAAWA,CAAXA,CAAsB,IAAA,CAAKnC,wBAAL,CAA8B3vB,CAA9B,CAE1B,KADA,IAAIqqB,EAAM,IAANA,CAAWpC,YAAXoC,CAAwBrnB,MAC5B,CAAe,CAAf,EAAM,EAAEqnB,CAAR,CAAA,CACIyH,CAAH,GAAgB,IAAA,CAAK7J,YAAL,CAAkBoC,CAAlB,CAAhB,CAAuCyH,QAAvC,GACCnrB,CADD,CACS0jB,CADT,CAID,OAAO1jB,EATqB,CAplCP,CAgmCtBksB,eAAgBA,QAAQ,CAAC7yB,CAAD,CAAO,CAC9B,MAAmC,EAAnC;AAAO,IAAA,CAAKgzB,YAAL,CAAkBhzB,CAAlB,CADuB,CAhmCT,CAomCtB+yB,aAAcA,QAAQ,CAAC/yB,CAAD,CAAOizB,CAAP,CAAkB,CACvC,IAAInB,EAAWA,CAAXA,CAAsB,IAAA,CAAKnC,wBAAL,CAA8B3vB,CAA9B,CAA1B,CAEIkzB,EAAW,IAAA,CAAKlV,MAAL,CAAY0M,WAAZ,CAAwB,eAAxB,CACfwI,EAAA,CAAS9tB,IAAT,CAAcpF,CAAd,CACA,KAAA,CAAKge,MAAL,CAAYiP,YAAZ,CAAyB,CAACkG,cAAeD,CAAhB,CAAzB,CAGIvpB,EAAAA,CAAQ,IAAA,CAAKqU,MAAL,CAAYoV,cAAZ,EAAA,CAA6BC,eAA7B,CAA6CrzB,CAA7C,CAAmD,CAAA,CAAnD,CAEZ,IAAkB,CAAA,CAAlB,GAAIizB,CAAJ,CACKK,CACJ,CADa,IAAA,CAAKtV,MAAL,CAAYwM,KAAZ,CAAkB,gBAAlB,CAAA,CAAoC,CAApC,CACb,CAAA8I,CAAA,CAAOC,QAAP,EAAA,CAAkBpyB,GAAlB,CAAsB,CAACue,KAAM1f,CAAP,CAAawzB,KAAM7pB,CAAnB,CAAtB,CAFD,KAGO,CACF2pB,CAAJ,CAAa,IAAA,CAAKtV,MAAL,CAAYwM,KAAZ,CAAkB,gBAAlB,CAAA,CAAoC,CAApC,CACb,KAAIngB,EAASipB,CAAA,CAAOC,QAAP,EAAA,CAAkBE,UAAlB,CAA6B,MAA7B,CAAqCzzB,CAArC,CACE,KAAf,GAAIqK,CAAJ,GACCA,CAAA,CAAOqpB,GAAP,CAAW,MAAX,CAAmB/pB,CAAnB,CACA,CAAA2pB,CAAA,CAAOK,OAAP,EAFD,CAHM,CASH3B,CAAAA,CAAa,IAAA,CAAKC,eAAL,CAAqBjyB,CAArB,CACbkyB,EAAAA,CAAa,CAChBC,KAAMnyB,CADU,CAEhB8xB,SAAUA,CAFM,CAGhBN,OAAQ,CAACA,OAAQ,EAAT;AAAalnB,KAAMtK,CAAnB,CAHQ,CAIhBoyB,SAAUJ,CAAVI,CAAqBC,IAJL,CAKhBC,QAASN,CAATM,CAAoBtgB,GALJ,CAMhBugB,QAASP,CAATO,CAAoBjsB,GANJ,CAOhBksB,OAAQ7oB,CAPQ,CAWdmoB,EAAH,GAAgB,IAAhB,CAAqBjK,YAArB,GACK,IAGJ,CAHSZ,eAGT,EAFC,IAAA,CAAKyL,gBAAL,CAAsBZ,CAAtB,CAED,CAAA,IAAA,CAAKjK,YAAL,CAAoB,IAJrB,CAQA,KAAA,CAAKV,KAAL,CAAWlQ,MAAX,CAAkB,yBAAlB,CAA8C6a,CAAA,CAAS7tB,OAAT,CAAiB,IAAjB,CAAuB,KAAvB,CAA9C,CAA8E,GAA9E,CAAA,CAAmFmV,MAAnF,EAEA,KAAA,CAAK6O,YAAL,CAAkB7iB,IAAlB,CAAuB8sB,CAAvB,CACA,KAAA,CAAKS,cAAL,CAAoBT,CAApB,CACI,KAAJ,CAASjL,eAAT,EACC,IAAA,CAAK2L,eAAL,CAAqBV,CAArB,CA/CsC,CApmClB,CAupCtBY,eAAgBA,QAAQ,CAAC9yB,CAAD,CAAO4zB,CAAP,CAAqB,CAC5C,IAAI9B,EAAW,IAAA,CAAKnC,wBAAL,CAA8B3vB,CAA9B,CAAf,CACI2G,EAAQ,IAAA,CAAKqsB,YAAL,CAAkBhzB,CAAlB,CAES,EAAA,CAArB,GAAI4zB,CAAJ,GACKN,CAEJ,CAFa,IAAA,CAAKtV,MAAL,CAAYwM,KAAZ,CAAkB,gBAAlB,CAAA,CAAoC,CAApC,CAEb,CADI7jB,CACJ,CADY2sB,CAAA,CAAOC,QAAP,EAAA,CAAkBhnB,SAAlB,CAA4B,MAA5B;AAAoCvM,CAApC,CACZ,CAAAszB,CAAA,CAAOC,QAAP,EAAA,CAAkBM,QAAlB,CAA2BltB,CAA3B,CAHD,CAMImtB,EAAAA,CAAY,IAAA,CAAK9V,MAAL,CAAY0M,WAAZ,CAAwB,eAAxB,CACR3nB,EAAAA,CAAI,CAAZ,KAAI,IAAWsnB,EAAMyJ,CAANzJ,CAAgBrnB,MAA/B,CAAuCD,CAAvC,CAA2CsnB,CAA3C,CAAgDtnB,CAAA,EAAhD,CACI+wB,CAAA,CAAU/wB,CAAV,CAAH,GAAoB+uB,CAApB,GACCgC,CAAA,CAAUC,MAAV,CAAiBhxB,CAAjB,CAAoB,CAApB,CACA,CAAA,IAAA,CAAKib,MAAL,CAAYiP,YAAZ,CAAyB,CAACkG,cAAeW,CAAhB,CAAzB,CAFD,CAKD,KAAA,CAAKrB,eAAL,CAAqBX,CAArB,CACG,KAAA,CAAK7J,YAAL,CAAkB8L,MAAlB,CAAyBptB,CAAzB,CAAgC,CAAhC,CACI,KAAJ,CAASsgB,eAAT,EACC,IAAA,CAAKyL,gBAAL,CAAsBZ,CAAtB,CAEJ,KAAA,CAAKlK,UAAL,CAAkBkK,CAtB0B,CAvpCvB,CAgrCrBG,gBAAiBA,QAAS,CAACJ,CAAD,CAAS,CAKnC,IALmC,IAC/BmC,EAAe,EADgB,CAElC1B,EAAU,IAAVA,CAAejL,UAFmB,CAGlCkL,EAAU,IAAVA,CAAenL,UAHmB,CAK3B3S,EAAI,CALuB,CAKpB4V,EAAM,IAANA,CAAW/C,OAAX+C,CAAmBrnB,MAAlC,CAA0CyR,CAA1C,CAA8C4V,CAA9C,CAAmD5V,CAAA,EAAnD,CAAuD,CAEtD,IAFsD,IAE9C1R,EADRkxB,MACQlxB,CADC,CAD6C,CAEvCmxB,EAAO,IAAA,CAAK5M,OAAL,CAAa7S,CAAb,CAAPyf,CAAuB5H,eAAvB4H,CAAuClxB,MAAtD,CAA8DD,CAA9D,CAAkEmxB,CAAlE,CAAwEnxB,CAAA,EAAxE,CACC,IAD4E,IACpEkQ,EAAI,CADgE,CAC7DkhB,EAAO,IAAA,CAAK7M,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgCvpB,CAAhC,CAAPoxB,CAA0ChI,cAA1CgI,CAAyDnxB,MAAxE,CAAgFiQ,CAAhF;AAAoFkhB,CAApF,CAA0FlhB,CAAA,EAA1F,CACC,GAAG,IAAA,CAAKqU,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgCvpB,CAAhC,CAAA,CAAmCopB,cAAnC,CAAkDlZ,CAAlD,CAAH,CAAwD+X,UAAxD,GAAuE6G,CAAvE,CAA8E,CAC7E,IAAIuC,EAAQ,IAAA,CAAK9M,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgCvpB,CAAhC,CAAA,CAAmCopB,cAAnC,CAAkDlZ,CAAlD,CAARmhB,CAA6D9uB,IACjE0uB,EAAA,CAAa5uB,IAAb,CAAkB,CAACC,EAAGoP,CAAJ,CAAOlK,EAAG6pB,CAAV,CAAlB,CACGA,EAAH,CAAW9B,CAAX,GAAoBA,CAApB,CAA8B8B,CAA9B,CACGA,EAAH,CAAW7B,CAAX,GAAoBA,CAApB,CAA8B6B,CAA9B,CACAH,OAAA,CAAS,CALoE,CASlE,CAAd,GAAGA,MAAH,GACKI,CAGJ,CAHY,IAGZ,CAHiBnuB,OAGjB,CAFA8tB,CAAA,CAAa5uB,IAAb,CAAkB,CAACC,EAAGoP,CAAJ,CAAOlK,EAAG8pB,CAAV,CAAlB,CAEA,CADGA,CACH,CADW/B,CACX,GADoBA,CACpB,CAD8B+B,CAC9B,EAAGA,CAAH,CAAW9B,CAAX,GAAoBA,CAApB,CAA8B8B,CAA9B,CAJD,CAbsD,CAoBvD,MAAO,CAAChC,KAAM2B,CAAP,CAAqBhiB,IAAKsgB,CAA1B,CAAmChsB,IAAKisB,CAAxC,CAzB4B,CAhrCd,CA4sCrBzE,eAAgBA,QAAS,EAAG,CAG5B,IADA,IAAIoG,EAAO,IAAPA,CAAYjM,YAAZiM,CAAyBlxB,MAC7B,CAAe,CAAf,CAAMkxB,CAAA,EAAN,CAAA,CAAiB,CAChB,IAAIlC,EAAa,IAAA,CAAKC,eAAL,CAAqB,IAAA,CAAKhK,YAAL,CAAkBiM,CAAlB,CAArB,CAA6C/B,IAA7C,CACjB,KAAA,CAAKlK,YAAL,CAAkBiM,CAAlB,CAAA,CAAwB9B,QAAxB,CAAmCJ,CAAnC,CAA8CK,IAC9C,KAAA,CAAKpK,YAAL,CAAkBiM,CAAlB,CAAA,CAAwB5B,OAAxB,CAAkCN,CAAlC,CAA6ChgB,GAC7C,KAAA,CAAKiW,YAAL,CAAkBiM,CAAlB,CAAA,CAAwB3B,OAAxB;AAAkCP,CAAlC,CAA6C1rB,GAJ7B,CAHW,CA5sCP,CAwtCrBguB,gBAAiBA,QAAS,CAACC,CAAD,CAAY,CACtC,IAAIjH,EAAK,IAKT,OAJWlZ,GAAA,CAAGogB,IAAH,EAAA,CACNnvB,CADM,CACJ,QAAQ,CAACF,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAG7D,YAAH,CAAgBtkB,CAAhB,CAAkBE,CAAlB,CAAT,CADR,CAAA,CAENkF,CAFM,CAEJ,QAAQ,CAACpF,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAGxD,YAAH,CAAgB3kB,CAAhB,CAAkBoF,CAAlB,CAAT,CAFR,CAAAiqB,CAGNC,KAHMD,CAGApgB,EAHAogB,CAGGE,YAHHF,CAIJ,CAAKD,CAAL,CAN+B,CAxtCjB,CAiuCrB3B,gBAAiBA,QAAS,CAAC+B,CAAD,CAAiB,CAE3C,IAAA,CAAKC,uBAAL,CAA6BD,CAA7B,CAGA,KAAA,CAAKxN,KAAL,CAAWpO,MAAX,CAAkB,GAAlB,CAAA,CACEC,IADF,CACO,OADP,CACgB,QADhB,CAAA,CAEEA,IAFF,CAEO,IAFP,CAEa,cAFb,CAE8B2b,CAF9B,CAE6CxC,IAF7C,CAAA,CAGEpZ,MAHF,CAGS,MAHT,CAAA,CAIEC,IAJF,CAIO,GAJP,CAIY,IAAA,CAAKsb,eAAL,CAAqBK,CAArB,CAAoCvC,QAApC,CAJZ,CAAA,CAKE9mB,KALF,CAKQ,QALR,CAKkBqpB,CALlB,CAKiCnC,MALjC,CAAA,CAMElnB,KANF,CAMQ,cANR,CAMwB,CANxB,CAAA,CAOEA,KAPF,CAOQ,MAPR,CAOgB,MAPhB,CAUA,KAAA,CAAK4iB,YAAL,EAf2C,CAjuCtB,CAmvCrBwE,iBAAkBA,QAAS,CAACZ,CAAD,CAAW,CACnC,IAAA,CAAK3K,KAAL,CAAWjQ,SAAX,CAAqB,mBAArB;AAA2C4a,CAAA,CAAS7tB,OAAT,CAAiB,IAAjB,CAAuB,KAAvB,CAA3C,CAA2E,GAA3E,CAAA,CACEmV,MADF,EAIH,KAAA,CAAKwb,uBAAL,EALsC,CAnvCjB,CA2vCrB/G,oBAAqBA,QAAQ,EAAG,CAEhC,IAAI,IAAIzB,EAAI,CAAZ,CAAeA,CAAf,CAAmB,IAAnB,CAAwBnE,YAAxB,CAAqCjlB,MAArC,CAA6CopB,CAAA,EAA7C,CACC,IAAA,CAAKsG,gBAAL,CAAsB,IAAA,CAAKzK,YAAL,CAAkBmE,CAAlB,CAAtB,CAA2C0F,QAA3C,CACA,CAAA,IAAA,CAAKc,eAAL,CAAqB,IAAA,CAAK3K,YAAL,CAAkBmE,CAAlB,CAArB,CAJ+B,CA3vCX,CAmwCrBwI,wBAAyBA,QAAQ,CAACD,CAAD,CAAiB,CAKlD,IAAA,CAAKE,kBAAL,CAHiBF,CAGjB,EAHmC,CAGnC,CAIA,KADIT,CACJ,CADW,IACX,CADgBjM,YAChB,CAD6BjlB,MAC7B,CAAe,CAAf,CAAMkxB,CAAA,EAAN,CAAA,CACC,IAAA,CAAK/M,KAAL,CAAWjQ,SAAX,CAAqB,gBAArB,CAAwC,IAAA,CAAK+Q,YAAL,CAAkBiM,CAAlB,CAAA,CAAwBpC,QAAxB,CAAiC7tB,OAAjC,CAAyC,IAAzC,CAA+C,KAA/C,CAAxC,CAAA,CACEgT,MADF,CACS,MADT,CAAA,CAEEoJ,UAFF,EAAA,CAEeC,QAFf,CAEwB,GAFxB,CAAA,CAGE4Q,IAHF,CAGO9c,EAHP,CAGU+c,UAHV,CAAA,CAIEnY,IAJF,CAIO,GAJP;AAIY,IAAA,CAAKsb,eAAL,CAAqB,IAAA,CAAKrM,YAAL,CAAkBiM,CAAlB,CAArB,CAA6C9B,QAA7C,CAJZ,CAViD,CAnwC7B,CAqxCrB0C,YAAaA,QAAS,CAACjD,CAAD,CAAS,CAW/B,IARA,IAAImC,EAAe,EAAnB,CAGIe,CAHJ,CAIEd,CAJF,CAQQxf,EAAI,CAAZ,CAAmB,CAAnB,CAAeA,CAAf,EAA8C,CAA9C,CAAwB,IAAxB,CAA6B6T,UAA7B,CAA0C7T,CAA1C,CAAiDA,CAAA,EAAjD,CAAsD,CAErD,IAAI,IAAI1R,EADRgyB,CACQhyB,CADC,CACT,CAAeA,CAAf,CAAmB,IAAA,CAAKukB,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,EAAgC,CAAhC,CAAoC7T,CAApC,EAAnB,CAA2D6X,eAA3D,CAA2EtpB,MAA3E,CAAmFD,CAAA,EAAnF,CACC,IAAI,IAAIkQ,EAAI,CAAZ,CAAeA,CAAf,CAAmB,IAAA,CAAKqU,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,EAAgC,CAAhC,CAAoC7T,CAApC,EAAA,CAAwC6X,eAAxC,CAAwDvpB,CAAxD,CAAnB,CAA8EopB,cAA9E,CAA6FnpB,MAA7F,CAAqGiQ,CAAA,EAArG,CACI,IAAA,CAAKqU,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,EAAgC,CAAhC,CAAoC7T,CAApC,EAAA,CAAwC6X,eAAxC,CAAwDvpB,CAAxD,CAAA,CAA2DopB,cAA3D,CAA0ElZ,CAA1E,CAAH,CAAgF+X,UAAhF,GAA+F6G,CAA/F,GACKmD,CAEJ,CAFY,IAAA,CAAKnL,MAAL,CAAY,IAAA,CAAKvC,OAAL,CAAa,IAAb,CAAkBgB,UAAlB,EAAgC,CAAhC,CAAoC7T,CAApC,EAAA,CAAwC6X,eAAxC,CAAwDvpB,CAAxD,CAAA,CAA2DopB,cAA3D,CAA0ElZ,CAA1E,CAAZ,CAAyF3N,IAAzF,CAEZ,CADA0uB,CAAA,CAAapZ,OAAb,CAAqB,CAACvV,EAAG,IAAHA,CAAQijB,UAARjjB;CAAsB,CAAtBA,CAA0BoP,CAA1BpP,CAAD,CAA+BkF,EAAGyqB,CAAlC,CAArB,CACA,CAAAD,CAAA,CAAS,CAHV,CAOY,EAAd,GAAGA,CAAH,GACKE,CACJ,CADY,IAAA,CAAKpL,MAAL,CAAY,IAAZ,CAAiB3jB,OAAjB,CACZ,CAAA8tB,CAAA,CAAapZ,OAAb,CAAqB,CAACvV,EAAG,IAAHA,CAAQijB,UAARjjB,EAAsB,CAAtBA,CAA0BoP,CAA1BpP,CAAD,CAA+BkF,EAAG0qB,CAAlC,CAArB,CAFD,CAXqD,CAkB9CxgB,CA7BuB,CA6BnB,IA7BmB,CA6Bd6T,UAAjB,KAA6B+B,CAA7B,CAAmC,IAAnC,CAAwCrC,YAAxC,CAAuD,IAAvD,CAA4DM,UAA5D,CAAwE7T,CAAxE,CAA4E4V,CAA5E,CAAiF5V,CAAA,EAAjF,CAAqF,CAE5E1R,CAF4E,CACpFkxB,CADoF,CAC3E,CACT,KAAI,IAAWC,EAAO,IAAA,CAAK5M,OAAL,CAAa7S,CAAb,CAAPyf,CAAuB5H,eAAvB4H,CAAuClxB,MAAtD,CAA8DD,CAA9D,CAAkEmxB,CAAlE,CAAwEnxB,CAAA,EAAxE,CAA6E,CACpEkQ,CADoE,CAChE,CAAZ,KAAI,IAAWkhB,EAAO,IAAA,CAAK7M,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgCvpB,CAAhC,CAAPoxB,CAA0ChI,cAA1CgI,CAAyDnxB,MAAxE,CAAgFiQ,CAAhF,CAAoFkhB,CAApF,CAA0FlhB,CAAA,EAA1F,CACI,IAAA,CAAKqU,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgCvpB,CAAhC,CAAA,CAAmCopB,cAAnC,CAAkDlZ,CAAlD,CAAH,CAAwD+X,UAAxD,GAAuE6G,CAAvE,GACKuC,CAEJ,CAFY,IAAA,CAAKvK,MAAL,CAAY,IAAA,CAAKvC,OAAL,CAAa7S,CAAb,CAAA,CAAgB6X,eAAhB,CAAgCvpB,CAAhC,CAAA,CAAmCopB,cAAnC,CAAkDlZ,CAAlD,CAAZ,CAAiE3N,IAAjE,CAEZ,CADA0uB,CAAA,CAAa5uB,IAAb,CAAkB,CAACC,EAAGoP,CAAJ,CAAOlK,EAAG6pB,CAAV,CAAlB,CACA,CAAAH,CAAA,CAAS,CAHV,CAF2E,CAS/D,CAAd,GAAGA,CAAH,GACKI,CACJ,CADY,IAAA,CAAKxK,MAAL,CAAY,IAAZ,CAAiB3jB,OAAjB,CACZ;AAAA8tB,CAAA,CAAa5uB,IAAb,CAAkB,CAACC,EAAGoP,CAAJ,CAAOlK,EAAG8pB,CAAV,CAAlB,CAFD,CAXoF,CAkBrF,IAAQ5f,CAAR,CAAY,CAAZ,CAAmB,CAAnB,CAAeA,CAAf,EAAwB,IAAxB,CAA6BuT,YAA7B,CAA4C,IAA5C,CAAiDM,UAAjD,CAA8D7T,CAA9D,CAAkE,IAAlE,CAAuEsT,aAAvE,CAAsFtT,CAAA,EAAtF,CAA0F,CAEzF,IAAQ1R,CAAR,CADAmyB,CACA,CADS,CACT,CAAenyB,CAAf,CAAmB,IAAA,CAAKukB,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAmD7T,CAAnD,CAAnB,CAAyE6X,eAAzE,CAAyFtpB,MAAzF,CAAiGD,CAAA,EAAjG,CACC,IAAQkQ,CAAR,CAAY,CAAZ,CAAeA,CAAf,CAAmB,IAAA,CAAKqU,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAmD7T,CAAnD,CAAA,CAAsD6X,eAAtD,CAAsEvpB,CAAtE,CAAnB,CAA4FopB,cAA5F,CAA2GnpB,MAA3G,CAAmHiQ,CAAA,EAAnH,CACI,IAAA,CAAKqU,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAmD7T,CAAnD,CAAA,CAAsD6X,eAAtD,CAAsEvpB,CAAtE,CAAA,CAAyEopB,cAAzE,CAAwFlZ,CAAxF,CAAH,CAA8F+X,UAA9F,GAA6G6G,CAA7G,GACKuC,CAEJ,CAFY,IAAA,CAAKvK,MAAL,CAAY,IAAA,CAAKvC,OAAL,CAAa,IAAb,CAAkBU,YAAlB,CAAiC,IAAjC,CAAsCM,UAAtC,CAAmD7T,CAAnD,CAAA,CAAsD6X,eAAtD,CAAsEvpB,CAAtE,CAAA,CAAyEopB,cAAzE,CAAwFlZ,CAAxF,CAAZ,CAAuG3N,IAAvG,CAEZ,CADA0uB,CAAA,CAAa5uB,IAAb,CAAkB,CAACC,EAAG,IAAHA,CAAQ2iB,YAAR3iB;AAAuB,IAAvBA,CAA4BijB,UAA5BjjB,CAAyCoP,CAA1C,CAA6ClK,EAAG6pB,CAAhD,CAAlB,CACA,CAAAc,CAAA,CAAS,CAHV,CAOY,EAAd,GAAGA,CAAH,GACKb,CACJ,CADY,IAAA,CAAKxK,MAAL,CAAY,IAAZ,CAAiB3jB,OAAjB,CACZ,CAAA8tB,CAAA,CAAa5uB,IAAb,CAAkB,CAACC,EAAG,IAAHA,CAAQ2iB,YAAR3iB,CAAuB,IAAvBA,CAA4BijB,UAA5BjjB,CAAyCoP,CAA1C,CAA6ClK,EAAG8pB,CAAhD,CAAlB,CAFD,CAXyF,CAgB1F,MAAOL,EA/DwB,CArxCV,CAw1CrBrB,eAAgBA,QAAQ,CAACgC,CAAD,CAAiB,CAGzC,IAAIrH,EAAK,IAGT,KAAA,CAAKnG,KAAL,CAAWjQ,SAAX,CAAqB,kBAArB,CAAA,CACEA,SADF,CACY,sBADZ,CAAA,CAEEA,SAFF,CAEY,aAFZ,CAE4Byd,CAAA,CAAe7C,QAAf,CAAwB7tB,OAAxB,CAAgC,IAAhC,CAAqC,KAArC,CAF5B,CAE0E,GAF1E,CAAA,CAGEqH,KAHF,CAGQ,MAHR,CAGgBqpB,CAHhB,CAG+BnC,MAH/B,CAAA,CAIElnB,KAJF,CAIQ,cAJR,CAIwB,CAJxB,CAUA,KAAI0oB,EAAe,IAAA,CAAKc,WAAL,CAAiBH,CAAjB,CAAgCxC,IAAhC,CAAnB,CAEIvsB,CAFJ,CAKI4uB,EAAOpgB,EAAA,CAAGogB,IAAH,EAAA,CACNnvB,CADM,CACJ,QAAQ,CAACF,CAAD,CAAI,CACdS,CAAA,CAAMT,CAAN,CAAQE,CACR,OAAOioB,EAAA,CAAG/D,MAAH,CAAUpkB,CAAV,CAAYE,CAAZ,CAAgBioB,CAAA,CAAGwC,UAAH,EAAhB,CAFO,CADR,CAAA,CAINvlB,CAJM,CAIJ,QAAQ,CAACpF,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASoF,CAAX,CAJR,CAAA,CAKNkqB,KALM,CAKArgB,EALA,CAKGsgB,YALH,CAOPrC;CAAAA,CAAO,IAAA,CAAKlL,KAAL,CAAWlQ,MAAX,CAAkB,UAAlB,CAAA,CACT8B,MADS,CACF,GADE,CAAA,CAETC,IAFS,CAEJ,OAFI,CAEK,iBAFL,CAEyB2b,CAFzB,CAEwC7C,QAFxC,CAAA,CAGT/Y,MAHS,CAGF,MAHE,CAAA,CAITC,IAJS,CAIJ,GAJI,CAICwb,CAAA,CAAKR,CAAL,CAJD,CAAA,CAKT1oB,KALS,CAKH,QALG,CAKOqpB,CALP,CAKsBnC,MALtB,CAAA,CAMTlnB,KANS,CAMH,cANG,CAMa,CANb,CAAA,CAOTA,KAPS,CAOH,MAPG,CAOK,MAPL,CASP6pB,EAAAA,CAAU,IAAA,CAAK5L,MAAL,CAAY3jB,CAAZ,CAAVuvB,CAA6B,IAAA,CAAK5L,MAAL,CAAY3jB,CAAZ,CAAkB,IAAA,CAAKkqB,UAAL,EAAlB,CAEN,OAA3B,GAAG,IAAH,CAAQtH,cAAR,EAA4D,OAA5D,GAAqC,IAArC,CAA0CA,cAA1C,EACC6J,CAAA,CAAKhS,UAAL,EAAA,CACEC,QADF,CACWgN,CAAA,CAAG2D,WAAH,EADX,CAAA,CAEEC,IAFF,CAEO9c,EAFP,CAEU+c,UAFV,CAAA,CAGKnY,IAHL,CAGU,WAHV,CAGuB,YAHvB,CAGsCmc,CAHtC,CAG+C,GAH/C,CAxCwC,CAx1CpB,CAu4CrB1C,gBAAiBA,QAAQ,CAACX,CAAD,CAAU,CACnC,IAAIxE,EAAK,IAET,KAAA,CAAKnG,KAAL,CAAWjQ,SAAX,CAAqB,OAArB,CAA+B4a,CAAA,CAAS7tB,OAAT,CAAiB,IAAjB,CAAuB,KAAvB,CAA/B,CAAA,CACKqH,KADL,CACW,MADX;AACmB,OADnB,CAAA,CAEKA,KAFL,CAEW,cAFX,CAE2B,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAGtD,YAAH,CAAgB7kB,CAAhB,CAAkBG,IAAlB,CAAT,CAFvC,CAIG,KAAA,CAAK6hB,KAAL,CAAWlQ,MAAX,CAAkB,mBAAlB,CAAwC6a,CAAA,CAAS7tB,OAAT,CAAiB,IAAjB,CAAuB,KAAvB,CAAxC,CAAA,CACEmV,MADF,EAPgC,CAv4Cd,CAo5CrBgV,mBAAoBA,QAAS,EAAG,CAEhC,IAAI,IAAIrrB,EAAI,CAAZ,CAAeA,CAAf,CAAmB,IAAnB,CAAwBklB,YAAxB,CAAqCjlB,MAArC,CAA6CD,CAAA,EAA7C,CACC,IAAA,CAAK0vB,eAAL,CAAqB,IAAA,CAAKxK,YAAL,CAAkBllB,CAAlB,CAArB,CAA0C+uB,QAA1C,CACA,CAAA,IAAA,CAAKa,cAAL,CAAoB,IAAA,CAAK1K,YAAL,CAAkBllB,CAAlB,CAApB,CAJ+B,CAp5CX,CAi6CrBmsB,iBAAkBA,QAAQ,EAAG,CAC7B,IAAA,CAAKkG,eAAL,EACA,KAAA,CAAKC,kBAAL,EACA,KAAA,CAAKC,YAAL,EACA,KAAA,CAAKC,kBAAL,EAJ6B,CAj6CR,CAw6CrBH,gBAAiBA,QAAQ,EAAG,CAE3B,IAAA,CAAKrL,SAAL,CAAexR,MAAf,CAAsB,CAAC,IAAD,CAAMrS,OAAN,CAAe,IAAf,CAAoBmhB,UAApB;AAAiC,IAAjC,CAAsCoB,WAAtC,CAAtB,CAAA,CACIrQ,KADJ,CACU,CAAC,EAAD,CAAK,IAAL,CAAU0P,OAAV,CADV,CAF2B,CAx6CP,CAq7CrBuN,mBAAoBA,QAAQ,EAAG,CAC/B,IAAA,CAAKrL,YAAL,CAAkBzR,MAAlB,CAAyB,CAAC,CAAD,CAAI,IAAJ,CAAS8O,UAAT,CAAsB,IAAtB,CAA2BoB,WAA3B,CAAzB,CAAA,CACKrQ,KADL,CACW,CAAC,EAAD,CAAM,EAAN,CADX,CAD+B,CAr7CV,CA07CrBkd,aAAcA,QAAS,EAAG,CACkB,QAA5C,EAAG,IAAA,CAAKtX,MAAL,CAAY0M,WAAZ,CAAwB,YAAxB,CAAH,GAAsD,IAAtD,CAA2Db,MAA3D,CAAoEzV,EAAA,CAAGoV,WAAH,EAApE,CAC4C,MAA5C,EAAG,IAAA,CAAKxL,MAAL,CAAY0M,WAAZ,CAAwB,YAAxB,CAAH,GAAmD,IAAnD,CAAwDb,MAAxD,CAAiEzV,EAAA,CAAG+D,QAAH,EAAjE,CAEA,KAAA,CAAK0R,MAAL,CAAYtR,MAAZ,CAAmB,CAAC,IAAD,CAAMrS,OAAN,CAAe,IAAf,CAAoBmhB,UAApB,CAAiC,IAAjC,CAAsCoB,WAAtC,CAAoD,IAApD,CAAnB,CAAA,CACG+M,UADH,CACc,CAAC,IAAA,CAAKh3B,SAAL,CAAeuC,SAAf,EAAD,CAA8B,IAA9B,CAAmC4nB,QAAnC,CAA8C,IAA9C,CAAmDG,QAAnD,CAA+D,IAAA,CAAK6F,eAAL,EAA/D,CADd,CAJ0B,CA17CL,CAk8CrB4G,mBAAoBA,QAAQ,EAAG,CAAA,IAC3B7c;AAAM,IAANA,CAAWoQ,QADgB,CAE7BnQ,EAAS,IAATA,CAAcmQ,QAAdnQ,CAAyB,IAAA,CAAKgW,eAAL,EAEiB,SAA5C,EAAG,IAAA,CAAK3Q,MAAL,CAAY0M,WAAZ,CAAwB,YAAxB,CAAH,GAAsD,IAAtD,CAA2DZ,YAA3D,CAA0E1V,EAAA,CAAGoV,WAAH,EAA1E,CAC4C,MAA5C,EAAG,IAAA,CAAKxL,MAAL,CAAY0M,WAAZ,CAAwB,YAAxB,CAAH,GAAmD,IAAnD,CAAwDZ,YAAxD,CAAuE1V,EAAA,CAAG+D,QAAH,EAAvE,CAEA,KAAA,CAAK2R,YAAL,CAAkBvR,MAAlB,CAAyB,CAAC,IAAD,CAAMrS,OAAN,CAAe,IAAf,CAAoBmhB,UAApB,CAAzB,CAAA,CACGmO,UADH,CACc,CAAC7c,CAAD,CAASD,CAAT,CADd,CAP+B,CAl8CV,CA68CrBmc,mBAAoBA,QAAQ,CAACY,CAAD,CAAmB,CAC/CA,CAAA,CAAmBA,CAAnB,EAAuC,CAMvC,KAP+C,IAE3CC,EAAc,IAAdA,CAAmBxvB,OAFwB,CAG9CyvB,EAAc,CAHgC,CAM3CtL,EAAM,IAANA,CAAWpC,YAAXoC,CAAwBrnB,MAC5B,CAAc,CAAd,CAAMqnB,CAAA,EAAN,CAAA,CACI,IAAA,CAAKpC,YAAL,CAAkBoC,CAAlB,CACH,CAD0BiI,OAC1B,CADoCoD,CACpC,GADiDA,CACjD,CAD+D,IAAA,CAAKzN,YAAL,CAAkBoC,CAAlB,CAC/D,CADsFiI,OACtF,EAAG,IAAA,CAAKrK,YAAL,CAAkBoC,CAAlB,CAAH,CAA0BkI,OAA1B,CAAoCoD,CAApC,GAAiDA,CAAjD,CAA+D,IAAA,CAAK1N,YAAL,CAAkBoC,CAAlB,CAA/D,CAAsFkI,OAAtF,CAEsB;CAAvB,EAAGkD,CAAH,EAA4BA,CAA5B,CAA6CnD,OAA7C,CAAuDoD,CAAvD,GAAoEA,CAApE,CAAkFD,CAAlF,CAAmGnD,OAAnG,CACuB,EAAvB,EAAGmD,CAAH,EAA4BA,CAA5B,CAA6ClD,OAA7C,CAAuDoD,CAAvD,GAAoEA,CAApE,CAAkFF,CAAlF,CAAmGlD,OAAnG,CAEA,KAAA,CAAKzI,YAAL,CAAkBvR,MAAlB,CAAyB,CAACmd,CAAD,CAAcC,CAAd,CAAzB,CAd+C,CA78C1B,CA89CrB9G,iBAAkBA,QAAQ,EAAG,CAC7B,IAAA,CAAK7B,YAAL,EACA,KAAA,CAAK4I,kBAAL,EAF6B,CA99CR,CAm+CrB5I,aAAcA,QAAQ,EAAG,CACzB,IAAA,CAAKzD,MAAL,CAAYhR,MAAZ,CAAmB,CAAC,IAAD,CAAM+P,UAAN,CAAmB,EAAnB,CAAwB,IAAxB,CAA6BN,YAA7B,CAA4C,IAA5C,CAAiDM,UAAjD,CAA8D,EAA9D,CAAnB,CAAA,CACKlQ,KADL,CACW,CAAC,IAAD,CAAMwQ,QAAN,CAAgB,IAAA,CAAKpqB,SAAL,CAAeyC,QAAf,EAAhB,CAA4C,IAA5C,CAAiD4nB,QAAjD,CADX,CADyB,CAn+CJ,CAw+CrB+M,mBAAoBA,QAAQ,EAAG,CAC/B,IAAA,CAAKnM,YAAL,CAAkBlR,MAAlB,CAAyB,CAAC,CAAD,CAAI,IAAJ,CAASwP,aAAT,CAAyB,CAAzB,CAAzB,CAAA,CACK3P,KADL,CACW,CAAC,IAAD,CAAMwQ,QAAN,CAAgB,IAAA,CAAKpqB,SAAL,CAAeyC,QAAf,EAAhB,CAA4C,IAA5C,CAAiD4nB,QAAjD,CADX,CAD+B,CAx+CV,CA6+CrB8F,gBAAiBA,QAAQ,EAAG,CAC5B,MAAO,KAAA,CAAK1H,eAAL;AAAuB,IAAvB,CAA4B+B,YAA5B,CAAyC,IAAzC,CAA8CC,cAA9C,CAA+D,CAD1C,CA7+CP,CAi/CrByF,gBAAiBA,QAAQ,EAAG,CAC5B,IAAA,CAAK1F,YAAL,CAAoBhjB,IAAA,CAAKM,GAAL,CAAS,EAAT,CAAa,IAAA,CAAK9H,SAAL,CAAeuC,SAAf,EAAb,CAAwC,IAAxC,CAA6CgoB,iBAA7C,CADQ,CAj/CP,CAq/CrB8M,WAAYA,QAAQ,EAAG,CACvB,IAAA,CAAK5O,eAAL,CAAuB,CAAA,CACvB,KAAA,CAAK8J,YAAL,CAAkB,CAAA,CAAlB,CACA,KAAA,CAAK9G,QAAL,EAHuB,CAr/CF,CA2/CrB/C,WAAYA,QAAQ,EAAG,CACvB,IAAA,CAAKD,eAAL,CAAuB,CAAA,CACvB,KAAA,CAAKgD,QAAL,EAFuB,CA3/CF,CAsgDrB2E,eAAgBA,QAAS,EAAG,CAI5B,IAAA,CAAKrG,WAAL,CAAmB,EAOnB,KALA,IAAIuN,EAAQ1hB,EAAA,CAAGoV,WAAH,EAAA,CACVjR,MADU,CACH,CAAC,GAAD,CAAK,IAAL,CADG,CAAA,CAEVH,KAFU,CAEJ,CAAC,EAAD,CAAI,EAAJ,CAFI,CAAZ,CAII2d,EAAS,IAAA,CAAK/X,MAAL,CAAY2M,SAAZ,EAJb,CAKS5nB,EAAI,CALb,CAKgBsnB,EAAM0L,CAAA,CAAOC,iBAAP,EAAtB,CAAkDjzB,CAAlD,CAAsDsnB,CAAtD,CAA2DtnB,CAAA,EAA3D,CAAgE,CAC/D,IAAIshB,EAAO0R,CAAA,CAAOnL,WAAP,CAAmB7nB,CAAnB,CACPkzB,EAAAA,CAAa5R,CAAA,CAAK6R,aAAL,EACdD;CAAH,CAAcjzB,MAAd,EAAwB8yB,CAAA,CAZhBxI,IAYsB,CAAG9uB,SAAH,CAAayC,QAAb,EAAN,CAAxB,CAZQqsB,IAaP,CAAG/E,WAAH,CAAenjB,IAAf,CAAoB6wB,CAApB,CADD,EAGKE,CACJ,CADmBF,CAAA,CAAWG,SAAX,CAAqB,CAArB,CAAuBN,CAAA,CAfnCxI,IAeyC,CAAG9uB,SAAH,CAAayC,QAAb,EAAN,CAAvB,CAAwD,CAAxD,CACnB,CAhBOqsB,IAgBP,CAAG/E,WAAH,CAAenjB,IAAf,CAAoB+wB,CAApB,CAAmC,KAAnC,CAJD,CAH+D,CAXpC,CAtgDP,CA6hDrBrG,WAAYA,QAAS,EAAG,CAGxB,GAA2B,MAA3B,GAAG,IAAH,CAAQtH,cAAR,EAA6D,QAA7D,GAAqC,IAArC,CAA0CA,cAA1C,CACC,IAAAsH,EAAa,CAEa,OAA3B,GAAG,IAAH,CAAQtH,cAAR,GACCsH,CADD,CACc,EADd,CAG2B,QAA3B,GAAG,IAAH,CAAQtH,cAAR,GACCsH,CADD,CACc,CADd,CAGA,OAAOA,EAZiB,CA7hDH,CA4iDrBH,yBAA0BA,QAAS,CAACkC,CAAD,CAAS,CAE5C,MAAOA,EAAP,EAAiB,EAF2B,CA5iDvB,CAskDtBZ,YAAaA,QAAQ,EAAG,CACvB,MAAO,KAAP,CAAYlJ,aAAZ,EAA2B,GAA3B,CAA+B,IAAA,CAAK/J,MAAL,CAAYqY,QAAZ,EAA/B,CADuB,CAtkDF,C,CCtEvBj2B,GAAA,CAAIk2B,MAAJ,CAAW,wBAAX,CAAqC,CACjCC,aAAc,CAAC,QAAD,CADmB,CA2BjCC,OAAQA,QAAQ,CAAC9W,CAAD,CAAO,CACzB,GAAI,IAAJ,CAAS+W,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEH3b,IAAA,CAAIy2B,QAAJ,CAAanX,CAAb,CAAJ,CACC9P,MAAA,CAAO8P,CAAP,CADD,CACgB,IADhB,CAGCgX,MAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6B,kDAA7B,CAAgF,MAAOpX,EAAvF,CAA4F,IAA5F,CAAiGA,CAAjG,CAED,OAAO,KATiB,CA3BU,CAArC,C,CCAAtf,GAAA,CAAIk2B,MAAJ,CAAW,iBAAX,CAA8B,CAC7B11B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAIw4B,EAAO,EACX,IAAI,CAAC,IAAD,CAAMC,aAAV,CAAyB,CACxB,IAAIC,EAAM,IAAA,CAAK7D,cAAL,CAAsB,IAAA,CAAKA,cAAL,EAAtB,CAA8CsD,MAA9C,CAAqDC,WAG/D,IAAI,IAAJ,CAASO,MAAT,CACC,IAAK5yB,CAAL,GAAY,KAAZ,CAAiB4yB,MAAjB,CAAyB,CACxB,IAAIC,EAAM/2B,GAAA,CAAIg3B,YAAJ,CAAiB7yB,GAAjB,CAAqBD,CAArB,CACN6yB,EAAJ,EAAWA,CAAX,CAAeE,GAAf,EACCN,CAAA,CAAKhD,MAAL,CAAY,CAAZ,CAAe,CAAf,CAAkBoD,CAAlB,CAAsBE,GAAtB,CAHuB,CAO1B,IAAA,CAAKC,YAAL,CAAkBP,CAAlB,CAAwB32B,GAAA,CAAIg3B,YAAJ,CAAiBG,QAAjB,CAA0BN,CAA1B,CAAxB,CACIA,EAAJ,CAAQO,YAAR,EACCT,CAAA,CAAK3xB,IAAL,CAAU6xB,CAAA,CAAIO,YAAJ,EAAV,CAduB,CAkBzB,IAAA,CAAKF,YAAL,CAAkBP,CAAlB,CAAwB32B,GAAA,CAAIg3B,YAAJ,CAAiBG,QAAjB,CAA0B,IAA1B,CAAxB,CAEA,KAAA,CAAKF,GAAL,CAAW,EACXN,EAAA,CAAKne,OAAL,CAAa,QAAQ,CAACyJ,CAAD,CAAI,CACxB,IAAK/d,CAAL,GAAY+d,EAAZ,CACC,IAAA,CAAKgV,GAAL,CAAS/yB,CAAT,CAAA,CAAgB,CAACmzB,QAASpV,CAAA,CAAE/d,CAAF,CAAV,CAAkBrE,MAAOoiB,CAAA,CAAE/d,CAAF,CAAzB,CAFO,CAAzB,CAIG,IAJH,CAMOozB,EAAAA,CAAct3B,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CACjB5Z;CAAAA,CAAQ,IAAA,CAAKy2B,QAAL,CAAgB,IAAA,CAAKA,QAAL,EAAhB,CAAkChxB,IAAAA,EAC3C,KAAKvC,IAAIA,CAAT,GAAgBozB,EAAhB,CACK,IAAA,CAAKL,GAAL,CAAS/yB,CAAT,CAAJ,CACC,IAAA,CAAKwzB,WAAL,CAAiBxzB,CAAjB,CAAsBozB,CAAA,CAAYpzB,CAAZ,CAAtB,CADD,CAEWlD,CAFX,EAEqC,CAFrC,CAEoBkD,CAAA,CAAI8C,OAAJ,CAAY,GAAZ,CAFpB,GAGKqN,CAHL,CAGSnQ,CAAA,CAAI8xB,SAAJ,CAAc9xB,CAAA,CAAI8C,OAAJ,CAAY,GAAZ,CAAd,CAA+B,CAA/B,CAHT,GAIUqN,CAJV,GAIe,KAJf,CAIoB4iB,GAJpB,EAKE,IAAA,CAAKS,WAAL,CAAiBrjB,CAAjB,CAAoBijB,CAAA,CAAYpzB,CAAZ,CAApB,CAKN,IAAI/F,CAAJ,EAAc6B,GAAA,CAAI23B,QAAJ,CAAax5B,CAAb,CAAoB84B,GAApB,CAAd,CAAwC,CACpC,IAAS/yB,CAAT,GAAgB/F,EAAhB,CAAuB84B,GAAvB,CACK,IAAA,CAAKA,GAAL,CAAS/yB,CAAT,CAAJ,EACC,IAAA,CAAKwzB,WAAL,CAAiBxzB,CAAjB,CAAsB/F,CAAA,CAAO84B,GAAP,CAAW/yB,CAAX,CAAtB,CAGF,QAAO/F,CAAP,CAAc84B,GANsB,CAUjCK,CAAJ,CAAgB,IAAhB,EAA4B,OAA5B,EAAuC,KAAvC,CAA4CL,GAA5C,EAAoD,CAAC,IAAA,CAAK3M,WAAL,CAAiB,OAAjB,CAArD,EACC,IAAA,CAAKoN,WAAL,CAAiB,OAAjB,CAA0BJ,CAA1B,CAAsC,IAAtC,CArDyB,CADD,CA0D7BJ,aAAcA,QAAQ,CAACP,CAAD,CAAOI,CAAP,CAAY,CAC7BA,CAAJ,CAAQE,GAAR,EAAcN,CAAA,CAAKhD,MAAL,CAAY,CAAZ,CAAc,CAAd,CAAiBoD,CAAjB,CAAqBE,GAArB,CACVF,EAAJ,CAAQa,UAAR,EAAqB,IAAA,CAAKV,YAAL,CAAkBP,CAAlB,CAAwBI,CAAxB,CAA4Ba,UAA5B,CAAuCC,IAAvC,CAFY,CA1DL,CA8D7BvN,YAAaA,QAAQ,CAACpmB,CAAD;AAAM4zB,CAAN,CAAoB,CACxC,MAAuBrxB,KAAAA,EAAhB,GAAA,IAAA,CAAKwwB,GAAL,CAAS/yB,CAAT,CAAA,CAA4B,IAAA,CAAK+yB,GAAL,CAAS/yB,CAAT,CAA5B,CAA0CrE,KAA1C,CAAkDi4B,CADjB,CA9DZ,CAiE7BV,aAAcA,QAAQ,CAAC7jB,CAAD,CAAOwkB,CAAP,CAAkB,CACvCxkB,CAAA,CAAOA,CAAP,EAAeD,MAAA,CAAOC,IAAP,CAAY,IAAZ,CAAiB0jB,GAAjB,CACf,KAAIA,EAAM,EACNj3B,IAAA,CAAIy2B,QAAJ,CAAaljB,CAAb,CAAJ,GAAyBA,CAAzB,CAA8B,CAACA,CAAD,CAA9B,CACAA,EAAA,CAAKiF,OAAL,CAAa,QAAQ,CAACtU,CAAD,CAAM,CAC1B,IAAI0qB,EAAM,IAAA,CAAKtE,WAAL,CAAiBpmB,CAAjB,CACV,IAAI6zB,CAAJ,EAAiB,CAAC/3B,GAAA,CAAIg4B,OAAJ,CAAYpJ,CAAZ,CAAlB,CAAqCqI,CAAA,CAAI/yB,CAAJ,CAAA,CAAS0qB,CAFpB,CAA3B,CAIG,IAJH,CAKA,OAAOqI,EATgC,CAjEX,CA6E7BgB,qBAAsBA,QAAQ,EAAG,CAChC,IAAIhB,EAAM,EAAV,CACS/yB,CAAT,KAASA,CAAT,GAAgB,KAAhB,CAAqB+yB,GAArB,CACK,IAAA,CAAKA,GAAL,CAAS/yB,CAAT,CAAJ,CAAkBmzB,OAAlB,EAA2B,IAAA,CAAKJ,GAAL,CAAS/yB,CAAT,CAA3B,CAAyCrE,KAAzC,GACCo3B,CAAA,CAAI/yB,CAAJ,CADD,CACU,IAAA,CAAK+yB,GAAL,CAAS/yB,CAAT,CADV,CACwBrE,KADxB,CAID,OAAOo3B,EAPyB,CA7EJ,CAuF7BpK,aAAcA,QAAQ,CAAC1uB,CAAD,CAAS,CAC9B,IAAK+F,IAAIA,CAAT,GAAgB/F,EAAhB,CAAyB,IAAA,CAAKu5B,WAAL,CAAiBxzB,CAAjB,CAAsB/F,CAAA,CAAO+F,CAAP,CAAtB,CADK,CAvFF,CA2F7BwzB,YAAaA,QAAQ,CAACxzB,CAAD,CAAMrE,CAAN,CAAa,CAC7B,IAAJ,CAASo3B,GAAT,EAAgB,IAAA,CAAKA,GAAL,CAAS/yB,CAAT,CAAhB,GAAgC,IAAA,CAAK+yB,GAAL,CAAS/yB,CAAT,CAAhC,CAA8CrE,KAA9C;AAAoDA,CAApD,CADiC,CA3FL,CAA9B,C,CCAAG,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCgC,QAAS,CACRC,iBAAkB,IADV,CAERC,SAAU,IAFF,CAGRC,KAAM,EAHE,CAD6B,CASnCC,cAAet4B,GAAA,CAAIu4B,MAAJ,CAAW,qBAAX,CAAkC,CAC7CC,OAAQ,CAAC,MAAD,CAAS,UAAT,CADqC,CAE7Czb,KAAO,CACC,CAAC,IAAD,CAAO,SAAP,CADD,CAFsC,CAAlC,CAToB,CAgBtC0b,YAAaA,QAAQ,CAACC,CAAD,CAAO,CAC3B,IAAIzuB,EAAS,IAAA,CAAKquB,aAAL,CAAmBjF,UAAnB,CAA2C,CAAb,EAAAqF,CAAA,CAAK91B,MAAL,CAAiB,MAAjB,CAA0B,UAAxD,CAAoE81B,CAApE,CACb,IAAIzuB,CAAJ,CAAa,MAAOA,EAAA,CAAO9F,GAAP,CAAwB,CAAb,EAAAu0B,CAAA,CAAK91B,MAAL,CAAiB,UAAjB,CAA8B,MAAzC,CAFO,CAhBU,CAqBtC+1B,SAAUA,QAAQ,CAACz0B,CAAD,CAAM/F,CAAN,CAAc,CAC/B,MAAO,KAAA,CAAKy6B,eAAL,CAAqB,IAArB,CAA2B10B,CAA3B,CAAgC/F,CAAhC,CADwB,CArBM,CAyBtCy6B,gBAAiBA,QAAQ,CAACC,CAAD,CAAS30B,CAAT,CAAc/F,CAAd,CAAsB,CAE9C,IAAIywB,EAAM,IAAA,CAAKkK,cAAL,CAAoB94B,GAAA,CAAIg3B,YAAJ,CAAiBG,QAAjB,CAA0B0B,CAA1B,CAApB,CAAuD30B,CAAvD,CAA4D/F,CAA5D,CACV,IAAIywB,CAAJ,CAAU,MAAOA,EACjB;GAAIiK,CAAJ,CAAW/B,MAAX,CACC,IAAKiC,KAAL,GAAcF,EAAd,CAAqB/B,MAArB,CAEC,GADIlI,CACJ,CADU,IAAA,CAAKkK,cAAL,CAAoB94B,GAAA,CAAIg3B,YAAJ,CAAiBG,QAAjB,CAA0B0B,CAAA,CAAO/B,MAAP,CAAciC,KAAd,CAA1B,CAApB,CAAqE70B,CAArE,CAA0E/F,CAA1E,CACV,CAAU,MAAOywB,EAGnB,OAAIiK,EAAJ,CAAWjB,UAAX,GACChJ,CADD,CACQ,IAAA,CAAKgK,eAAL,CAAqBC,CAArB,CAA4BjB,UAA5B,CAAwC1zB,CAAxC,CAA6C/F,CAA7C,CADR,EAEkBywB,CAFlB,CAIOzwB,CAAA,EAA6BsI,IAAAA,EAA7B,EAAUtI,CAAA,CAAO,SAAP,CAAV,CAAyCA,CAAA,CAAO,SAAP,CAAzC,CAA6D,GAA7D,CAAiE+F,CAAjE,CAAqE,GAd9B,CAzBT,CA0CtC40B,eAAgBA,QAAQ,CAACE,CAAD,CAAQ90B,CAAR,CAAa/F,CAAb,CAAqB,CAC5C,GAAI66B,CAAJ,EAAaA,CAAb,CAAmBX,IAAnB,EAA2BW,CAAA,CAAMX,IAAN,CAAWn0B,CAAX,CAA3B,CAA4C,CAC3C,IAAI+0B,EAAM,CAAA,CACND,EAAA,CAAMX,IAAN,CAAWn0B,CAAX,CAAJ,GACC+0B,CADD,CACOD,CAAA,CAAMX,IAAN,CAAWn0B,CAAX,CADP,CAcA,OAAI+0B,EAAJ,CACKA,CAAJ,CAAQC,UAAR,CACQD,CAAA,CAAI70B,KAAJ,CAAUjG,CAAV,CADR,CAGO86B,CAJR,CAMO96B,CAAA,EAA6BsI,IAAAA,EAA7B,EAAUtI,CAAA,CAAO,SAAP,CAAV,CAAyCA,CAAA,CAAO,SAAP,CAAzC,CAA6D,GAA7D,CAAiE+F,CAAjE,CAAqE,GAtBjC,CAwB5C,MAAO,CAAA,CAzBqC,CA1CP,CAsEtCi1B,oBAAqBA,QAAQ,EAAG,CAE/B,MAAO,CACNjvB,KAAM,UADA,CAENkvB,QAAS,IAAA,CAAKT,QAAL,CAAc,eAAd,CAFH;AAGN33B,MAAO,UAHD,CAIAq4B,MAAO,mBAJP,CAKNC,QANQpM,IAMRoM,CAAYC,mBALN,CAMNr3B,MAPQgrB,IACF,CAFwB,CAtEM,CAmFtCqM,oBAAqBA,QAAQ,EAAG,CAC/B,IAAIrM,EAAK,IAAT,CACIsM,EAAQ,wCAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAmEvlB,GAAnE,CAAuE,QAAQ,CAACwlB,CAAD,CAAO,CACjG,MAAO,CAAC9Z,KAAM,IAAA,CAAKgZ,QAAL,CAAcc,CAAd,CAAP,CAA4B55B,MAAO45B,CAAnC,CAD0F,CAAtF,CAET,IAFS,CAGZD,EAAA,CAAM11B,IAAN,CAAW,QAAQ,CAACme,CAAD,CAAGtY,CAAH,CAAM,CACxB,MAAOsY,EAAA,CAAEtC,IAAF,CAAO+Z,aAAP,CAAqB/vB,CAArB,CAAuBgW,IAAvB,CADiB,CAAzB,CAGA6Z,EAAA,CAAM7F,MAAN,CAAa,CAAb,CAAe,CAAf,CAAiB,CAAChU,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CAAP,CAAyC94B,MAAO,EAAhD,CAAjB,CAEA,EAAA,IAAIG,GAAJ,CAAQwP,MAAR,CAAemqB,MAAf,CAAsB,CACrB5yB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,eAAd,CADc,CAErBiB,MAAO,CAAA,CAFc,CAGrBC,MAAO,CACN74B,MAAO,MADD,CAEN64B,MAAO,CAAC,CACP74B,MAAO,OADA,CAEPse,KAAM,MAFC,CAGPzf,MAAO,IAAA,CAAKyqB,WAAL,CAAiB,MAAjB,CAAPzqB;AAAmC,EAH5B,CAIEi6B,UAAW,OAJb,CAKEC,SAAU,CAAA,CALZ,CAMEC,WAAY,IAAA,CAAKrB,QAAL,CAAc,gBAAd,CANd,CAOE/3B,MAAO,GAPT,CAQEq5B,WAAY,OARd,CASEC,WAAY,GATd,CAUEC,aAAc,MAVhB,CAWEC,WAAY,OAXd,CAYPC,MAAO,CACN7B,OAAQ,CAAC,MAAD,CAAS,OAAT,CADF,CAENzb,KAAMyc,CAFA,CAZA,CAAD,CAFD,CA0CNc,QAAS,CAAC,CACA3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADN,CAEA4B,GAAI,iBAFJ,CAGGlB,MAAO,mBAHV,CAIHmB,KAAM,CAJH,CAKHlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CALpB,CAAD,CAQP,CACQhb,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADd,CAEDU,MAAO,mBAFN,CAGQmB,KAAM,CAHd,CAIKlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIG,EAAOH,CAAA,CAAIC,EAAJ,CAAO,MAAP,CACX,IAAIE,CAAA,CAAKC,OAAL,EAAJ,CAAoB,CACnB,IAAIhE,EAAM3J,CAAA,CAAG8F,cAAH,EAAV,CACI5B,EAASyF,CAAA,CAAIoB,oBAAJ,EACTpB;CAAA,CAAItM,SAAJ,EAAJ,CACC6G,CADD,CACQuE,MADR,CACiBkB,CAAA,CAAItM,SAAJ,EAAA,CAAgBuQ,YAAhB,EADjB,CAGC,OAAO1J,CAAP,CAAc2J,MAEf,QAAO3J,CAAP,CAAcqI,IAEVuB,EAAAA,CAASJ,CAAA,CAAKK,SAAL,EACTD,EAAJ,CAAWvB,IAAX,GAAkBrI,CAAlB,CAAyBqI,IAAzB,CAAgCuB,CAAhC,CAAuCvB,IAAvC,CAEAjC,SAAA,CAASpB,MAAT,CAAgB,KAAhB,CAAsBp2B,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9J,CAAzB,CAAtB,CAbmB,CAepBqJ,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAjBsB,CAJ5B,CAuBKz4B,MAAOgrB,CAvBZ,CARO,CA1CH,CAHc,CA+ErBiO,YAAa,CA/EQ,CAAtB,CAAA,EAgFG3Z,IAhFH,EAV+B,CAnFM,CAAvC,C,CCGAxhB,GAAA,CAAIk2B,MAAJ,CAAW,oBAAX,CAAiC,CAEhC/3B,OAAQ,CAKPi9B,SAAU30B,IAAAA,EALH,CAUP40B,sBAAuB50B,IAAAA,EAVhB,CAFwB,CAehCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAKm9B,WAAL,CAAiB,CAChB,UAAW,CAAC,CAAC,CAAD,CAAI,CAAJ,CAAO,GAAP,CAAD,CAAc,CAAC,EAAD,CAAK,GAAL,CAAU,EAAV,CAAd,CAA6B,CAAC,GAAD,CAAM,CAAN,CAAS,GAAT,CAA7B,CAA4C,CAAC,GAAD,CAAM,EAAN,CAAU,GAAV,CAA5C,CAA4D,CAAC,EAAD,CAAK,GAAL,CAAU,GAAV,CAA5D,CAA4E,CAAC,GAAD,CAAM,GAAN,CAAW,CAAX,CAA5E,CAA2F,CAAC,EAAD,CAAK,GAAL,CAAU,GAAV,CAA3F,CAA2G,CAAC,GAAD,CAAM,GAAN,CAAW,EAAX,CAA3G,CAA2H,CAAC,GAAD,CAAM,CAAN,CAAS,GAAT,CAA3H,CAA0I,CAAC,EAAD,CAAK,GAAL,CAAU,GAAV,CAA1I,CAA0J,CAAC,EAAD,CAAK,GAAL,CAAU,EAAV,CAA1J,CAAyK,CAAC,GAAD,CAAM,EAAN,CAAU,GAAV,CAAzK,CAAyL,CAAC,GAAD,CAAM,EAAN,CAAU,GAAV,CAAzL,CAAyM,CAAC,GAAD,CAAM,GAAN,CAAW,EAAX,CAAzM,CAAyN,CAAC,GAAD,CAAM,EAAN,CAAU,EAAV,CAAzN,CAAwO,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAxO,CAAyP,CAAC,EAAD,CAAK,GAAL,CAAU,GAAV,CAAzP,CAAyQ,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAzQ,CAA0R,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAA1R,CAA2S,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAA3S,CAA4T,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAA5T,CAA6U,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAA7U,CAA8V,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAA9V,CAA+W,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAA/W,CADK,CAAjB,CAGA,KAAA,CAAKC,0BAAL,EAGA,IAAW90B,IAAAA,EAAX,GAAIuN,EAAJ,CAAsB,CACjBwnB,CAAAA;AAAQxnB,EAAA,CAAGynB,YAAH,CAAgBznB,EAAhB,CAAmB0nB,gBAAnB,CAAA,CAAqC1jB,KAArC,EAAA,CAA6C/D,GAA7C,CAAiD,QAAQ,CAAC2a,CAAD,CAAM,CAAE,MAAO,KAAA,CAAK+M,QAAL,CAAc/M,CAAd,CAAT,CAA/D,CAA+F,IAA/F,CACZ,KAAIgN,EAAS5nB,EAAA,CAAGynB,YAAH,CAAgBznB,EAAhB,CAAmB6nB,gBAAnB,CAAA,CAAqC7jB,KAArC,EAAA,CAA6C/D,GAA7C,CAAiD,QAAQ,CAAC2a,CAAD,CAAM,CAAE,MAAO,KAAA,CAAK+M,QAAL,CAAc/M,CAAd,CAAT,CAA/D,CAA+F,IAA/F,CAAb,CACIkN,EAAS9nB,EAAA,CAAGynB,YAAH,CAAgBznB,EAAhB,CAAmB+nB,iBAAnB,CAAA,CAAsC/jB,KAAtC,EAAA,CAA8C/D,GAA9C,CAAkD,QAAQ,CAAC2a,CAAD,CAAM,CAAE,MAAO,KAAA,CAAK+M,QAAL,CAAc/M,CAAd,CAAT,CAAhE,CAAgG,IAAhG,CADb,CAEIoN,EAAShoB,EAAA,CAAGynB,YAAH,CAAgBznB,EAAhB,CAAmBioB,iBAAnB,CAAA,CAAsCjkB,KAAtC,EAAA,CAA8C/D,GAA9C,CAAkD,QAAQ,CAAC2a,CAAD,CAAM,CAAE,MAAO,KAAA,CAAK+M,QAAL,CAAc/M,CAAd,CAAT,CAAhE,CAAgG,IAAhG,CACb,KAAA,CAAKsN,eAAL,CAAqB,UAArB,CAAiCV,CAAjC,CACA,KAAA,CAAKU,eAAL,CAAqB,WAArB,CAAkCN,CAAlC,CACA,KAAA,CAAKM,eAAL,CAAqB,WAArB,CAAkCJ,CAAlC,CACA,KAAA,CAAKI,eAAL,CAAqB,WAArB;AAAkCF,CAAlC,CARqB,CAWZG,CAAAA,CAAQn8B,GAAA,CAAIu4B,MAAJ,CAAW,sBAAX,CAAA,CAAmC6D,SAAnC,EAAA,CAA+CnoB,GAA/C,CAAmD,QAAQ,CAAC2a,CAAD,CAAM,CAAE,MAAO,KAAA,CAAK+M,QAAL,CAAc/M,CAAd,CAAT,CAAjE,CAAiG,IAAjG,CACZ,KAAA,CAAKsN,eAAL,CAAqB,OAArB,CAA8BC,CAA9B,CAnBuB,CAfE,CAqChCZ,2BAA4BA,QAAQ,EAAG,CACtC,IAAA,CAAKc,wBAAL,CAA8B,IAAIr8B,GAAJ,CAAQC,IAAR,CAAaC,eAA3C,CADsC,CArCP,CAyChCo8B,SAAUA,QAAQ,CAACra,CAAD,CAAI,CACrB,MAAO,GAAP,CAAa,CAAE,QAAF,EAAcA,CAAA,CAAE,CAAF,CAAd,EAAsB,EAAtB,GAA6BA,CAAA,CAAE,CAAF,CAA7B,EAAqC,CAArC,EAA0CA,CAAA,CAAE,CAAF,CAA1C,EAAgDsa,QAAhD,CAAyD,EAAzD,CAAA,CAA6Dh3B,KAA7D,CAAmE,CAAnE,CADQ,CAzCU,CA6ChCo2B,SAAUA,QAAQ,CAACa,CAAD,CAAM,CAGpBA,CAAA,CAAMA,CAAA,CAAI34B,OAAJ,CADe44B,kCACf,CAA4B,QAAQ,CAACC,CAAD,CAAIC,CAAJ,CAAOC,CAAP,CAAUjzB,CAAV,CAAa,CACnD,MAAOgzB,EAAP,CAAWA,CAAX,CAAeC,CAAf,CAAmBA,CAAnB,CAAuBjzB,CAAvB,CAA2BA,CADwB,CAAjD,CAKN,OAAO,CADHkzB,CACG,CADM,2CAAA,CAA4CC,IAA5C,CAAiDN,CAAjD,CACN,EAAS,CACZxR,QAAA,CAAS6R,CAAA,CAAO,CAAP,CAAT;AAAoB,EAApB,CADY,CAEZ7R,QAAA,CAAS6R,CAAA,CAAO,CAAP,CAAT,CAAoB,EAApB,CAFY,CAGZ7R,QAAA,CAAS6R,CAAA,CAAO,CAAP,CAAT,CAAoB,EAApB,CAHY,CAAT,CAIH,IAZgB,CA7CQ,CAiEhCX,gBAAiBA,QAAQ,CAACh4B,CAAD,CAAM82B,CAAN,CAAc,CACtC,IAAA,CAAK+B,WAAL,EAAA,CAAmB74B,CAAnB,CAAA,CAA0B82B,CADY,CAjEP,CA4EhCgC,gBAAiBA,QAAQ,CAAC94B,CAAD,CAAM+4B,CAAN,CAAiB,CACrCC,CAAAA,CAAah5B,CAAbg5B,EAAoB,SACpBC,EAAAA,CAAU,IAAA,CAAKJ,WAAL,EAAA,CAAmBG,CAAnB,CACEz2B,KAAAA,EAAhB,GAAI02B,CAAJ,GACCA,CADD,CACW,EADX,CAGA,IAAIF,CAAJ,CAAe,CACVhxB,CAAAA,CAAS,EACb,KAAK,IAAItJ,EAAI,CAAb,CAAgBA,CAAhB,CAAoBw6B,CAApB,CAA4Bv6B,MAA5B,CAAoCD,CAAA,EAApC,CACCsJ,CAAA,CAAOjH,IAAP,CAAY,IAAA,CAAKs3B,QAAL,CAAca,CAAA,CAAQx6B,CAAR,CAAd,CAAZ,CAED,OAAOsJ,EALO,CAOd,MAAOkxB,EAbiC,CA5EV,CAqGhCC,SAAUA,QAAQ,CAACl5B,CAAD,CAAMqC,CAAN,CAAa02B,CAAb,CAAwB,CACrCC,CAAAA,CAAah5B,CAAbg5B,EAAoB,SACpBC,EAAAA,CAAU,IAAA,CAAKJ,WAAL,EAAA,CAAmBG,CAAnB,CACV32B,EAAJ,EAAa42B,CAAb,CAAqBv6B,MAArB,GACS2D,CADT,EACiB42B,CADjB,CACyBv6B,MADzB,CAGA,OAAIq6B,EAAJ,CACQ,IAAA,CAAKX,QAAL,CAAca,CAAA,CAAQ52B,CAAR,CAAd,CADR,CAGQ42B,CAAA,CAAQ52B,CAAR,CATiC,CArGV,CA0HhC0sB,gBAAiBA,QAAQ,CAAC/uB,CAAD,CAAMtE,CAAN,CAAYq9B,CAAZ,CAAuB,CAC3CC,CAAAA,CAAah5B,CAAbg5B,EAAoB,SACpBC,EAAAA,CAAU,IAAA,CAAKJ,WAAL,EAAA,CAAmBG,CAAnB,CAEW,GAAzB,EAAIt9B,CAAA,CAAKoH,OAAL,CAAa,GAAb,CAAJ,GACCpH,CADD,CACQA,CAAA,CAAKwkB,KAAL,CAAW,GAAX,CAAA,CAAgB,CAAhB,CADR,CAGA;IAAI7a,EAAQ,IAAA,CAAK8zB,wBAAL,EAAA,CAAgCl5B,GAAhC,CAAoCvE,CAApC,CACC,KAAb,EAAI2J,CAAJ,GACKhD,CAEJ,CAFY,IAAA,CAAK82B,wBAAL,EAAA,CAAgCtyB,QAAhC,EAEZ,CAFyDoyB,CAEzD,CAFiEv6B,MAEjE,CADA2G,CACA,CADQ4zB,CAAA,CAAQ52B,CAAR,CACR,CAAA,IAAA,CAAK82B,wBAAL,EAAA,CAAgCt8B,GAAhC,CAAoCnB,CAApC,CAA0C2J,CAA1C,CAHD,CAKI0zB,EAAJ,GACC1zB,CADD,CACS,IAAA,CAAK+yB,QAAL,CAAc/yB,CAAd,CADT,CAGA,OAAOA,EAhBwC,CA1HhB,CAkJhC+zB,gBAAiBA,QAAQ,CAAC19B,CAAD,CAAO2J,CAAP,CAAc,CACT,CAAA,CAA7B,GAAIg0B,KAAA,CAAMC,OAAN,CAAcj0B,CAAd,CAAJ,GACCA,CADD,CACS,IAAA,CAAKoyB,QAAL,CAAcpyB,CAAd,CADT,CAGA,KAAA,CAAK8zB,wBAAL,EAAA,CAAgCx5B,OAAhC,CAAwCjE,CAAxC,CAA8C2J,CAA9C,CAJsC,CAlJP,CAAjC,C,CCHAvJ,GAAA,CAAIk2B,MAAJ,CAAW,wBAAX,CAAqC,CACpCuH,cAAgB,EADoB,CAGpCC,mBAAqBA,QAAQ,EAAG,CAC/B,IAAA,CAAKD,aAAL,CAAqB,EADU,CAHI,CAOpCE,iBAAmBA,QAAQ,EAAG,CAC7B,MAAO,KAAP,CAAYF,aAAZ,CAA0B76B,MADG,CAPM,CAWpCg7B,YAAaA,QAAQ,CAACzH,CAAD,CAAe,CAGnC,IAAI0H,EAAW,IAAI79B,GAAJ,CAAQ89B,QAMnB3H,EAAJ,EAAoBA,CAApB,CAAiC4H,QAAjC,EACC5H,CAAA,CAAa4H,QAAb,CAAsB5H,CAAtB,CAAoC0H,CAApC,CAA6CG,OAA7C,CAGG,EAACH,CAAD,CAAUG,OAAV,CAAkBxc,IAAtB,EAA8BhS,MAA9B,CAAqCgS,IAArC,GAA4Cqc,CAA5C,CAAqDG,OAArD,CAA6Dxc,IAA7D,CAAkEA,IAAlE,CAGKqc,EAAL,CAAcG,OAAd,CAAsB5H,MAAtB,EACCp2B,GAAA,CAAIoE,KAAJ,CAAUy5B,CAAV,CAAmBG,OAAnB,CAA4B,CAAC5H,QAAQ,IAAIE,MAAJ,CAAWr2B,IAAX,CAAgBg+B,UAAxB7H,EAAqCA,MAAtC,CAA5B,CAGD,KAAA,CAAKqH,aAAL,CAAmBz4B,IAAnB,CAAwB64B,CAAxB,CAEA,KAAI3Q,EAAK,IACT2Q,EAAA,CAASG,OAAT,CAAiBE,MAAjB,CAAwB,QAAQ,EAAG,CAClChR,CAAA,CAAGuQ,aAAH,CAAiBU,GAAjB,EADkC,CAAnC,CAGA,OAAON,EA1B4B,CAXA,CAwCpCO,uBAAwBA,QAAQ,CAACC,CAAD,CAAM,CACrC,MAA8B,QAAvB;AAAA,MAAOA,EAAP,CAAWL,OAAX,CAAkCK,CAAlC,CAAsCL,OAAtC,CAAgDK,CAAA,CAAIL,OAAJ,EADlB,CAxCF,CA4CpCxH,yBAA0BA,QAAQ,CAACwH,CAAD,CAAUM,CAAV,CAAgBnI,CAAhB,CAA8B,CAC/D,IAAIoI,EAAS5iB,SAAT4iB,CAAmBA,MAAnBA,CAA0BC,MAA9B,CACIH,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+BzH,CAA/B,CACV6H,EAAA,CAAQ3H,IAAR,CAAa,QAAQ,CAACoI,CAAD,CAAW,CAC/BJ,CAAA,CAAIK,OAAJ,CAAYH,CAAA,CAAOn6B,KAAP,CAAaq6B,CAAb,CAAuBH,CAAvB,CAAZ,CAD+B,CAAhC,CAKA,OAAOD,EAAP,CAAWL,OARoD,CA5C5B,CAArC,C,CCAAh+B,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCyI,OAAQ,WAD+B,CAEvC7H,OAAQ,CAAC,0BAAD,CAF+B,CAGvC34B,OAAQ,CACPygC,IAAKn4B,IAAAA,EADE,CAEPo4B,MAAOp4B,IAAAA,EAFA,CAGPq4B,QAASr4B,IAAAA,EAHF,CAH+B,CAQvCyxB,QAAS,CACRG,KAAM,CACLwG,MAAO,OADF,CADE,CAR8B,CAavCr+B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK4gC,MAAL,CAAY5gC,CAAZ,CAAmBygC,GAAnB,CACA,KAAA,CAAKI,QAAL,CAAc7gC,CAAd,CAAqB0gC,KAArB,CACA,KAAA,CAAKI,UAAL,CAAgB9gC,CAAhB,CAAuB2gC,OAAvB,CACA,KAAA,CAAKI,UAAL,CAAgBvjB,SAAhB,CAJ6B,CAbS,CAsBvC6F,KAAMA,QAAQ,CAACrjB,CAAD,CAAS,CAClBqR,MAAJ,CAAWknB,SAAX,CAAuBA,SAAA,CAAU3f,IAAV,CAAe,IAAf,CAAvB,CACM,IAAA,CAAKooB,OAAL,CAAahhC,CAAb,CAFgB,CAtBgB,CA2BvCghC,QAASA,QAAQ,CAAChhC,CAAD,CAAS,CACzBA,CAAA,CAASA,CAAT,EAAmB,EACnB6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBkhC,QAAS,IAAA,CAAKC,MAAL,EAATD,CAAuB,qBAAvBA,CAA6C,IAAA,CAAKE,QAAL,EAA7CF,CAA6D,6EAA7DA;AACwEG,MAAA,CAAO,IAAA,CAAKC,UAAL,EAAP,CADxEJ,CACkG,yCAF/E,CAGnBt4B,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAHY,CAIhB2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAJD,CAKhBC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KALL,CAMhBC,WAAY,CAAA,CANI,CAApB,CAQA//B,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAarjB,CAAb,CAVyB,CA3Ba,CAAxC,C,CCAA6B,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCyI,OAAQ,2BAD+B,CAEvCxgC,OAAQ,CACP6hC,SAAUv5B,IAAAA,EADH,CAF+B,CAKvCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK8hC,WAAL,CAAiB9hC,CAAjB,CAAwB6hC,QAAxB,CACAhgC,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBygC,IAAKzgC,CAALygC,CAAYoB,QAAZpB,CAAqBsB,UADF,CAEnBrB,MAAQ,cAAD,EAAmB1gC,EAAnB,CAA0B6hC,QAA1B,CAAsC7hC,CAAA,CAAO6hC,QAAP,CAAgBG,YAAhB,CAA6B/b,KAA7B,CAAmC,cAAnC,CAAA,CAAmD/K,KAAnD,EAAtC,CAAmG,EAFvF,CAGnBylB,QAAU,cAAD,EAAmB3gC,EAAnB,CAA0B6hC,QAA1B,CAAsC7hC,CAAtC,CAA6C6hC,QAA7C,CAAsDG,YAAtD,CAAqE,EAH3D,CAApB,CAKA,KAAA,CAAKjB,UAAL,CAAgBvjB,SAAhB,CAP6B,CALS,CAAxC,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,uBAAX,CAAoC,CASnCkK,aAAeA,QAAQ,CAACpF,CAAD,CAASqF,CAAT,CAAkB,CACxC,GAAoB,CAApB,CAAIrF,CAAJ,CAAWp4B,MAAX,CACC,MAAO,EAER,KAAIgP,EAAM0uB,MAAN1uB,CAAa2uB,SAAjB,CACIr6B,EAAMo6B,MAANp6B,CAAas6B,SADjB,CAEIC,EAAa,CAAA,CACjB,KAAU99B,CAAV,CAAc,CAAd,CAAiBA,CAAjB,CAAqBq4B,CAArB,CAA4Bp4B,MAA5B,CAAoCD,CAAA,EAApC,CACKq4B,CAAA,CAAOr4B,CAAP,CAMJ,CANgBiP,CAMhB,GALCA,CAKD,CALOopB,CAAA,CAAOr4B,CAAP,CAKP,EAHIq4B,CAAA,CAAOr4B,CAAP,CAGJ,CAHgBuD,CAGhB,GAFCA,CAED,CAFO80B,CAAA,CAAOr4B,CAAP,CAEP,EAAI,CAAC89B,CAAL,EACyC,EADzC,CACKzF,CAAA,CAAOr4B,CAAP,CAAA,CAAU45B,QAAV,EAAA,CAAqBv1B,OAArB,CAA6B,GAA7B,CADL,GAECy5B,CAFD,CAEc,CAAA,CAFd,CAKD,KAAIC,EAAM,CAACx6B,CAAD,CAAO0L,CAAP,EAAY2qB,QAAZ,EAAV,CAIIoE,EAAY,EAChB,IAAIF,CAAJ,CAAgB,CACXG,CAAJ,CAAiB,GAEjB,KAAUj+B,CAAV,CADU+9B,CAAA,CAAI15B,OAAJ,CAAY,GAAZ,CACV,CAD6B,CAC7B,CAAmBrE,CAAnB,CAAuB+9B,CAAvB,CAA2B99B,MAA3B,CAAmCD,CAAA,EAAnC,CACC,GAAqB,GAArB,EAAI+9B,CAAA,CAAIG,MAAJ,CAAWl+B,CAAX,CAAJ,CACCi+B,CAAA,EAAc,EADf,KAGC,MAGF,KAAUj+B,CAAV,CAAc,CAAd,CAAiBA,CAAjB,CAAqBq4B,CAArB,CAA4Bp4B,MAA5B,CAAoCD,CAAA,EAApC,CACCg+B,CAAA,CAAUh+B,CAAV,CAAA,CAAeqoB,QAAA,CAASgQ,CAAA,CAAOr4B,CAAP,CAAT,CAAqBi+B,CAArB,CAEhB16B,EAAA,CAAM8kB,QAAA,CAAS9kB,CAAT,CAAe06B,CAAf,CACNhvB,EAAA,CAAMoZ,QAAA,CAASpZ,CAAT,CAAegvB,CAAf,CAdS,CAAhB,IAgBO,CACFE,CAAJ,CAAc,CACd,KAAUn+B,CAAV,CAAc+9B,CAAd,CAAkB99B,MAAlB,CAA2B,CAA3B,CAAkC,EAAlC,CAA8BD,CAA9B,CAAsCA,CAAA,EAAtC,CACC,GAAqB,GAArB,EAAI+9B,CAAA,CAAIG,MAAJ,CAAWl+B,CAAX,CAAJ,CACCm+B,CAAA,EAAW,EADZ,KAGC,MAGF,IAAe,CAAf;AAAIA,CAAJ,CAAkB,CACjB,IAAUn+B,CAAV,CAAc,CAAd,CAAiBA,CAAjB,CAAqBq4B,CAArB,CAA4Bp4B,MAA5B,CAAoCD,CAAA,EAApC,CACCg+B,CAAA,CAAUh+B,CAAV,CAAA,CAAeq4B,CAAA,CAAOr4B,CAAP,CAAf,CAA2Bm+B,CAE5B56B,EAAA,EAAO46B,CACPlvB,EAAA,EAAOkvB,CALU,CAAlB,IAOCH,EAAA,CAAY3F,CAhBP,CAuBH+F,CAAAA,CAAiBn7B,IAAA,CAAKupB,KAAL,CAAW,IAAX,GAHPjpB,CAAA,CAAIq2B,QAAJ,EAAA,CAAe35B,MAAf,CAAwBgP,CAAA,CAAI2qB,QAAJ,EAAxB,CAAuC35B,MAAvC,CAAgDsD,CAAA,CAC3Dq2B,QAD2D,EAAhD,CACA35B,MADA,CAEVgP,CAAA,CAAI2qB,QAAJ,EAFU,CAEK35B,MACE,EADQ,CACR,EACjBo+B,EAAAA,CAAU,oFAAVA,CAAgGpvB,CAAhGovB,CAAsG,GAAtGA,CAA4G96B,CAC5G+6B,EAAAA,CAASr7B,IAAA,CAAK8qB,IAAL,CAAUsK,CAAV,CAAiBp4B,MAAjB,CAA0Bm+B,CAA1B,CACTzV,EAAAA,CAAU,CACd,KAAI0U,EAAW,EAGdkB,EAAA,CADmB,CAApB,CAAIlG,CAAJ,CAAWp4B,MAAX,CACO,CADP,CAE2B,EAApB,CAAIo4B,CAAJ,CAAWp4B,MAAX,CACA,CADA,CAEoB,EAApB,CAAIo4B,CAAJ,CAAWp4B,MAAX,CACA,CADA,CAEoB,EAApB,CAAIo4B,CAAJ,CAAWp4B,MAAX,CACA,CADA,CAGA,CAQP,KAAUD,CAAV,CAAc,CAAd,CAAiBA,CAAjB,CAAqBs+B,CAArB,CAA6Bt+B,CAAA,EAA7B,CAAkC,CACjC,IAAIw+B,EAAOR,CAAA,CAAUp7B,KAAV,CAAgB+lB,CAAhB,CACTA,CADS,EACEyV,CADF,CAEXf,EAAA,EAAY,sDAAZ,CACIgB,CADJ,CAEI,WAFJ,CAGKE,CAHL,CAGWC,CAHX,CAGgBv+B,MAHhB,CAII,gBAJJ,CAKIu+B,CAAA,CAAK33B,IAAL,CAAU,GAAV,CALJ;AAKqB,wBACP,EAAd,EAAIy3B,CAAJ,CACCjB,CADD,EACa,MADb,CAGS,CAAR,CAAIr9B,CAAJ,EAAaA,CAAb,CAAiB,CAAjB,CAAqBs+B,CAArB,CACCjB,CADD,CACY,QADZ,CAGCA,CAHD,CAEgB,CAAT,EAAIr9B,CAAJ,CACNq9B,CADM,CACM,MADN,CAGNA,CAHM,CAGM,OAGdA,EAAA,EAAY,MApBqB,CAsBlC,MAAOA,EA5GiC,CATN,CAApC,C,CCAAhgC,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCkL,SAAU,CAAC,0BAAD,CAA4B,iBAA5B,CADwB,CAElClJ,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJoK,cAAe,CAAA,CADX,CAHG,CAFyB,CASlC7gC,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACnB,IAAI,EAAA,IAAA,CAAKmsB,WAAL,EAAuD,MAAvD,EAAoB,IAAA,CAAKA,WAAL,CAAiB,eAAjB,CAApB,EACA,QADA,EACYnsB,EADZ,EACsC,CAAA,CADtC,GACsBA,CADtB,CAC6BmjC,MAD7B,CAAJ,CACA,CAEA,IAAIC,EAAY96B,IAAAA,EAAhB,CACImX,EAAS,IAAA,CAAK8c,EAAL,CAAQ,WAAR,CACTv8B,EAAJ,CAAWojC,SAAX,EACCA,CACA,CADY,EACZ,CAAApjC,CAAA,CAAOojC,SAAP,CAAiB/oB,OAAjB,CAAyB,QAAQ,CAACxX,CAAD,CAAQ,CACnCA,CAAJ,EAAaA,CAAb,EAAoB,IAApB,CAAyBA,KAAzB,EACAugC,CAAA,CAAUv8B,IAAV,CAAe,IAAA,CAAKw8B,oBAAL,CAA0BxgC,CAA1B,CAAf,CAFuC,CAAzC,CAKG,IALH,CAFD,EASS4c,CATT,EASmBA,CAAA,CAAO6jB,gBAAP,CAAwB,WAAxB,CATnB,GAUCF,CACC,CADW,EACX,CAAA3jB,CAAA,CAAO6jB,gBAAP,CAAwB,WAAxB,CAAA,CAAqCjpB,OAArC,CAA6C,QAAQ,CAACxX,CAAD,CAAQ,CACxDA,CAAJ;AAAaA,CAAb,EAAoB,IAApB,CAAyBA,KAAzB,EACAugC,CAAA,CAAUv8B,IAAV,CAAe,IAAA,CAAKw8B,oBAAL,CAA0BxgC,CAA1B,CAAf,CAF4D,CAA7D,CAKE,IALF,CAXF,CAkBIugC,EAAJ,EAAiB,IAAA,CAAKvO,cAAL,EAAjB,CAAuC0O,YAAvC,EACCH,CAAA,CAAUv8B,IAAV,CAAe,CAAChE,MAAO,eAAR,CAAf,CAED,IAAI,IAAA,CAAKgyB,cAAL,EAAJ,CAA0B0O,YAA1B,CAAwC,CACvCH,CAAA,CAAYA,CAAZ,EAAyB,EACzB,KAAI1K,EAAM,IAAA,CAAK7D,cAAL,EACN2O,EAAAA,CAAQ9K,CAAA,CAAI6K,YAAJ,EACZC,EAAA,CAAMnpB,OAAN,CAAc,QAAQ,CAAC+Y,CAAD,CAAW,CAChC,IAAIqQ,EAAa,EACjBrQ,EAAA,CAASsI,KAAT,CAAerhB,OAAf,CAAuB,QAAQ,CAACxX,CAAD,CAAQ,CACtC4gC,CAAA,CAAW58B,IAAX,CAAgB,IAAA,CAAKw8B,oBAAL,CAA0BxgC,CAA1B,CAAhB,CADsC,CAAvC,CAEG,IAFH,CAGAugC,EAAA,CAAUv8B,IAAV,CAAe,CACd2a,KAAMkX,CAAA,CAAI8B,QAAJ,CAAapH,CAAb,CAAsB8G,IAAtB,CADQ,CAEdgB,MAAO9H,CAAP8H,CAAgBA,KAFF,CAGdwI,KAAM,CAAChI,MAAO+H,CAAR,CAHQ,CAAf,CALgC,CAAjC,CAUG,IAVH,CAJuC,CAkBxC,IAAIE,EAAW,CAKb9zB,KAAM,CACLqrB,MAAO,mBADF,CAELh4B,GAAI,IAAJA,CAAS0gC,eAFJ,CAGLlI,MATepzB,IAAAA,EAMV,CALO,CAUbu7B,KAAMT,CAAA,CAAY,CACjBlI,MAAO,mBADU;AAEjBQ,MAAO0H,CAFU,CAAZ,CAGF96B,IAAAA,EAbS,CAcbw7B,KAAM,IAAA,CAAKC,gBAAL,EAAyB,IAAzB,CAA8BC,UAA9B,CAA2C,CAChD9I,MAAO,mBADyC,CAEhDh4B,GAAI,IAAA,CAAK6gC,gBAAL,CAAwB,IAAxB,CAA6BA,gBAA7B,CAAgD,QAAQ,CAACE,CAAD,CAAQ,CAC/DA,CAAA,CAAMC,OAAN,CAAc,gBAAd,CAAJ,GAAsCD,CAAtC,CAA8CA,CAAA,CAAME,YAAN,EAA9C,CAEAtiC,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC/BxxB,MAAOq7B,CAAA,CAAMzJ,QAAN,CAAe,cAAf,CADwB,CAE/BiB,MAAO,CAAA,CAFwB,CAGtBwI,MAAOA,CAHe,CAI/BvI,MAAO,CACN74B,MAAO,MADD,CAEN64B,MAAOuI,CAAA,CAAMD,UAAN,EAFD,CAGNhhC,UAAW,CACVC,YAAaA,QAAQ,CAACw5B,CAAD,CAAO,CAC3B,IAAI3D,EAAMmL,CAAA,CAAMhL,YAAN,CAAmBwD,CAAA,CAAK2H,OAAL,EAAA,CAAeC,SAAf,EAAA,CAA2BC,OAA3B,CAAmC,MAAnC,CAAnB,CACV7H,EAAA,CAAK2H,OAAL,EAAA,CAAeG,SAAf,CAAyBzL,CAAzB,CAF2B,CADlB,CAHL,CASNqD,QAAS,CAAC,CACA3a,KAAMyiB,CAAA,CAAMzJ,QAAN,CAAe,OAAf,CADN,CAETU,MAAO,mBAFE;AAGAmB,KAAM,CAHN,CAIA4H,MAAOA,CAJP,CAKA7H,GAAI,iBALJ,CAMHjB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CAClB,IAAJ,CAAS3D,MAAT,EAAmB,IAAA,CAAKA,MAAL,CAAY,iBAAZ,CAAnB,GACC,IAAA,CAAKA,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CACA,CAAI,IAAJ,CAASmmB,SAAT,EAAsB,IAAA,CAAKA,SAAL,EAAtB,EACC,IAAA,CAAKoY,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqC,IAAA,CAAKpY,SAAL,EAArC,CAHF,CAMAkQ,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAPsB,CANpB,CAeHz4B,MAAOkgC,CAfJ,CAAD,CAiBP,CAACphC,MAAO,QAAR,CAjBO,CAiBY,CACX2e,KAAMyiB,CAAA,CAAMzJ,QAAN,CAAe,aAAf,CADK,CAEX4B,GAAI,iBAFO,CAGRlB,MAAO,mBAHC,CAIdmB,KAAM,CAJQ,CAKdlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CALT,CAjBZ,CAyBP,CACQhb,KAAMyiB,CAAA,CAAMzJ,QAAN,CAAe,cAAf,CADd,CAEDU,MAAO,mBAFN,CAGQmB,KAAM,CAHd,CAIQ4H,MAAOA,CAJf,CAKK9I,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBmI,QAASA,EAAc,CAAC1+B,CAAD;AAAMrE,CAAN,CAAa,CAE/Bg3B,CAAJ,CAAQa,WAAR,EACCb,CAAA,CAAIa,WAAJ,CAAgBxzB,CAAhB,CAAqBrE,CAArB,CAKD,KADA,IAAIk7B,EAASlE,CAAA,CAAIgM,WAAJ,EAAA,CAAkBzY,KAAlB,CAAwB,aAAxB,CAAb,CACSznB,EAAE,CAAX,CAAcA,CAAd,CAAgBo4B,CAAhB,CAAuBn4B,MAAvB,CAA+BD,CAAA,EAA/B,CACKo4B,CAAA,CAAOp4B,CAAP,CAAJ,CAAc+0B,WAAd,EACCqD,CAAA,CAAOp4B,CAAP,CAAA,CAAU+0B,WAAV,CAAsBxzB,CAAtB,CAA2BrE,CAA3B,CAGFijC,EAAA,CAAe,CAAA,CAboB,CAgBpC,IAAI9H,EAASP,CAAA,CAAIC,EAAJ,CAAO,MAAP,CAAA,CAAeO,SAAf,EAGb,KAAA,CAAKpO,YAAL,CAAkBmO,CAAlB,CAEA,KAAInE,EAAM,IAAA,CAAK7D,cAAL,EAAV,CACI2C,EAASkB,CAAA,CAAItM,SAAJ,EADb,CAGIuY,EAAe,CAAA,CACOr8B,KAAAA,EAA1B,EAAIu0B,CAAJ,CAAW,QAAX,EAAmEv0B,IAAAA,EAAnE,EAAuCu0B,CAAvC,CAA8C,cAA9C,EAAgFA,CAAhF,CAAuF+H,cAAvF,EACCH,CAAA,CAAe,UAAf,CAA2B5H,CAA3B,CAAkC,QAAlC,CAEwBv0B,KAAAA,EAAzB,EAAIu0B,CAAJ,CAAW,OAAX,GACLnE,CAAA,CAAI0E,0BAAJ,EACM,CAAAqH,CAAA,CAAe,SAAf,CAA0B5H,CAA1B,CAAiC,OAAjC,CAFD,CAIsBv0B,KAAAA,EAA5B,EAAIu0B,CAAJ,CAAW,UAAX,EACO4H,CAAA,CAAe,YAAf,CAA6B5H,CAA7B,CAAoC,UAApC,CAGG8H,EAAJ,GAEKnN,CAAJ,CACCkB,CAAA,CAAImM,aAAJ,CAAkB,cAAlB;AAAkC,IAAlC,CAAwCrN,CAAxC,CADD,CAGCkB,CAAA,CAAImM,aAAJ,CAAkB,kBAAlB,CAAsC,IAAtC,CAA4ChI,CAA5C,CALF,CASIrF,EAAJ,CAAa,IAAA,CAAKgN,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqChN,CAArC,CAAb,CACM,IAAA,CAAKgN,SAAL,CAAe,kBAAf,CAAmC,IAAnC,CAAyC3H,CAAzC,CAENP,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAjDsB,CAL5B,CAwDKz4B,MAAOkgC,CAxDZ,CAzBO,CATH,CAJwB,CAiG/BjH,YAAa,CAjGkB,CAAhC,CAAA,CAkGG3Z,IAlGH,EAHmE,CAFpB,CAA3C,CAyGF/a,IAAAA,EAvHS,CAwHbw8B,KAAM,CACL5J,MAAO,mBADF,CAELh4B,GAAI,IAAJA,CAAS6hC,aAFJ,CAxHO,CA6HXvB,EAAJ,CAAY,EAGZ,IAAIxjC,CAAJ,CAAWglC,YAAX,CACC,IAAKC,IAAIA,CAAT,GAAiBjlC,EAAjB,CAAwBglC,YAAxB,CACyC,QAAxC,EAAI,MAAOhlC,EAAA,CAAOglC,YAAP,CAAoBC,CAApB,CAAX,EACCzB,CAAA,CAAM38B,IAAN,CAAW7G,CAAA,CAAOglC,YAAP,CAAoBC,CAApB,CAAX,CAMH,KAASA,CAAT,GAAiBtB,EAAjB,CACK3jC,CAAJ,CAAWglC,YAAX,EAA2B,CAAChlC,CAAA,CAAOglC,YAAP,CAAoBC,CAApB,CAA5B,EAAyD,CAACtB,CAAA,CAASsB,CAAT,CAA1D,EACAzB,CAAA,CAAM38B,IAAN,CAAW,CACVkF,KAAMk5B,CADI,CAEVhK,QAAS,IAAA,CAAKT,QAAL,CAAcyK,CAAd,CAAmB,KAAnB,CAFC,CAGVC,SAAUvB,CAAA,CAASsB,CAAT,CAAVC,CAAyBhiC,EAHf,CAIVL,MAAO,UAJG;AAKVq4B,MAAOyI,CAAA,CAASsB,CAAT,CAAP/J,CAAsBA,KALZ,CAMVQ,MAAOiI,CAAA,CAASsB,CAAT,CAAPvJ,CAAsBA,KANZ,CAAX,CAUD75B,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfu9B,MAAOA,CADQ,CAAhB,CAGA,KAAA,CAAK3rB,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CACjC,IAAIsrB,EAAS,IAAA,CAAKgC,SAAL,EACb,IAAIhC,CAAJ,EAAiC,SAAjC,EAActhC,GAAd,CAAkBujC,EAAlB,CAAqBC,UAArB,EAA8C,CAAC,IAAA,CAAKnB,OAAL,CAAa,eAAb,CAA/C,EAAgF,CAAC,IAAA,CAAKA,OAAL,CAAa,UAAb,CAAjF,CAA2G,CAC1G,IAAI5/B,EAAK6+B,CAAA,CAAOmC,KAAP,EACThhC,EAAA,CAAGuT,EAAH,CAAM,WAAN,CAAmB,QAAQ,EAAG,CAC7B,IAAA,CAAKstB,SAAL,EAAA,CAAiBI,QAAjB,EAAA,CAA4BlrB,OAA5B,CAAoC,QAAQ,CAAC4qB,CAAD,CAAO,CAClDA,CAAA,CAAK5hB,IAAL,EADkD,CAAnD,CAD6B,CAA9B,CAIG,IAJH,CAKA/e,EAAA,CAAGuT,EAAH,CAAM,UAAN,CAAkB,QAAQ,EAAG,CAC5B,IAAA,CAAKstB,SAAL,EAAA,CAAiBI,QAAjB,EAAA,CAA4BlrB,OAA5B,CAAoC,QAAQ,CAAC4qB,CAAD,CAAO,CAClD,IAAIl5B,EAAOk5B,CAAPl5B,CAAY/L,MAAZ+L,CAAmBA,IAAnBA,EAA2Bk5B,CAA3Bl5B,CAAgCA,IAChCA,EAAJ,EAAkB,MAAlB,EAAYA,CAAZ,EAAsD,EAAtD,EAA4BA,CAAA,CAAKlD,OAAL,CAAa,UAAb,CAA5B,EAA2Do8B,CAAA,CAAKO,IAAL,EAFT,CAAnD,CAD4B,CAA7B,CAKG,IALH,CAMArC,EAAA,CAAOoC,QAAP,EAAA,CAAkBlrB,OAAlB,CAA0B,QAAQ,CAAC4qB,CAAD;AAAMzgC,CAAN,CAAS,CACpB,MAAtB,EAAIygC,CAAJ,CAASjlC,MAAT,CAAgB+L,IAAhB,EAA+Bk5B,CAAA,CAAKO,IAAL,EADW,CAA3C,CAb0G,CAF1E,CAAlC,CAmBG,IAnBH,CAnMA,CAH6B,CATI,CAoOlCnC,qBAAsBA,QAAQ,CAACxgC,CAAD,CAAQ,CAErC,IAAI7C,EAAS,IAAA,CAAK60B,cAAL,EAAA,CAAsB4Q,0BAAtB,CAAiD5iC,CAAjD,CACT7C,EAAJ,EAAcA,CAAd,CAAqBi7B,OAArB,EACC,OAAOj7B,CAAP,CAAci7B,OAEf,OAAOp5B,IAAA,CAAIoE,KAAJ,CAAUpE,GAAA,CAAI6jC,KAAJ,CAAU1lC,CAAV,CAAV,CAA6B,CACnC6C,MAAO,UAD4B,CAEnC2e,KAAMxhB,CAANwhB,CAAa5Y,KAFsB,CAGnC+8B,UAAW,MAHwB,CAInCxK,QAASA,QAAQ,EAAG,CAAC,IAAA,CAAKyK,YAAL,CAAkB5lC,CAAlB,CAAyB6C,KAAzB,CAAD,CAJe,CAKnCkB,MAAO,IAL4B,CAA7B,CAN8B,CApOJ,CAkPlC8hC,kBAAmBA,QAAQ,CAAC5B,CAAD,CAAQ,CAElC,IAAI6B,EADOjkC,GAAA,CAAIm3B,QAAJ,CAAaiL,CAAb,CAAA9iB,CAAoB4kB,OAApB5kB,EACC,CAAK8E,KAAL,CAAW,GAAX,CACZ+f,IAAA,CAAM/B,CAAA,CAAMgC,UAAN,EAAN,CAAyB,OAAzB,CAAiCH,CAAA,CAAMA,CAAN,CAAYrhC,MAAZ,CAAmB,CAAnB,CAAjC,CAAuD,GACvDwuB,OAAA,CAASgR,CAAA,CAAMnK,oBAAN,EACL,EAAC7G,MAAD,CAAQuE,MAAZ,EAAsByM,CAAtB,CAA4B7X,SAA5B,EAAyC6X,CAAA,CAAM7X,SAAN,EAAzC;CACC6G,MADD,CACQuE,MADR,CACiByM,CAAA,CAAM7X,SAAN,EAAA,CAAkBE,KAAlB,EADjB,CAGI2G,OAAJ,GAAa+S,GAAb,EAAoB,GAApB,CAAwBnkC,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9J,MAAzB,CAAxB,CACAgR,EAAA,CAAMiC,OAAN,CAAcF,GAAd,CATkC,CAlPD,CA6PlCpC,gBAAiBA,QAAQ,CAACK,CAAD,CAAQ,CAC5BA,CAAA,CAAMC,OAAN,CAAc,gBAAd,CAAJ,GAAsCD,CAAtC,CAA8CA,CAAA,CAAME,YAAN,EAA9C,CACA,KAAIzI,EAAkC,uBAA1B,EAAArqB,MAAA,CAAOgoB,QAAP,CAAgB8M,QAAhB,CAAoD,CAAC,CAACrjC,KAAM,2MAAP,CAAD,CAApD,CAA4Q,EAAxR,CACIsjC,EAAkB,CAAC,CAChBvjC,MAAO,OADS,CAEhBse,KAAM,QAFU,CAGhBklB,WAAY,OAHI;AAIhBC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,qBAAf,CAJM,CAAD,CAKd,CACD33B,MAAO,OADN,CAEDse,KAAM,QAFL,CAGDklB,WAAY,QAHX,CAIDC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,kBAAf,CAJT,CALc,CAUd,CACD33B,MAAO,OADN,CAEDse,KAAM,QAFL,CAGDklB,WAAY,QAHX,CAIDC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,kBAAf,CAJT,CAVc,CAgBlByJ,EAAJ,CAAUsC,mBAAV,EACCtC,CAAA,CAAMsC,mBAAN,EAAA,CAA4BlsB,OAA5B,CAAoC,QAAQ,CAACyL,CAAD,CAAO,CAClDjkB,GAAA,CAAIo/B,OAAJ,CAAYnb,CAAZ,CAAkB,CACjBjjB,MAAO,OADU,CAEjBse,KAAM,QAFW,CAAlB,CAIAilB,EAAA,CAAgBv/B,IAAhB,CAAqBif,CAArB,CALkD,CAAnD,CAQD4V,EAAA,CAAM70B,IAAN,CAAW,CACHhE,MAAO,OADJ,CAEHse,KAAM,QAFH,CAGHklB,WAAY,KAHT,CAIHC,SAAU,WAAVA,CAAsBrC,CAAA,CAAMuC,YAAN,CAAmB5tB,IAAnB,CAAwBqrB,CAAxB,CAAtBqC,CAAqD,oBAArDA,CAA0ErC,CAAA,CAAMzJ,QAAN,CAAe,eAAf,CAA1E8L,CAA0G,MAJvG;AAKHG,QAAS,CAAA,CALN,CAMHzjC,UAAW,CACVC,YAAaA,QAAQ,EAAG,CACvB,IAAA,CAAKyjC,UAAL,CAAgB7uB,EAAhB,CAAmB,OAAnB,CAA4B,QAAQ,EAAG,CACtC,IAAA,CAAK0kB,EAAL,CAAQ,QAAR,CAAA,CAAkBC,KAAlB,EADsC,CAAvC,CAEG,IAFH,CADuB,CADd,CANR,CAAX,CAaE,CACI35B,MAAO,UADX,CAEI8jC,YAAa,CAAA,CAFjB,CAGIC,UAAW,CAAA,CAHf,CAIIh+B,MAAOq7B,CAAA,CAAMzJ,QAAN,CAAe,oBAAf,CAJX,CAKIkB,MAAO0K,CALX,CAbF,CAoBA,IAAInC,CAAA,CAAMC,OAAN,CAAc,MAAd,CAAJ,CAA2B,CAC1B,IAAI2C,EAAc,CAAC,CACZhkC,MAAO,OADK,CAEZse,KAAM,QAFM,CAGZklB,WAAY,iBAHA,CAIZC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,uBAAf,CAJE,CAAD,CAKX,CACA33B,MAAO,OADP,CAEAse,KAAM,QAFN,CAGAklB,WAAY,gBAHZ,CAIAC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,sBAAf,CAJV,CALW,CAWbyJ,EAAL,CAAW6C,gBAAX,EAAyD,CAAzD,EAA+B7C,CAAA,CAAM6C,gBAAN,EAA/B,EACCD,CAAA,CAAYhgC,IAAZ,CAAiB,CACVhE,MAAO,OADG;AAEVse,KAAM,QAFI,CAGVklB,WAAY,aAHF,CAIVC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,mBAAf,CAJA,CAAjB,CAKO,CACA33B,MAAO,OADP,CAEAse,KAAM,QAFN,CAGAklB,WAAY,YAHZ,CAIAC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,kBAAf,CAJV,CALP,CAYDkB,EAAA,CAAM70B,IAAN,CAAW,CACLhE,MAAO,UADF,CAEL8jC,YAAa,CAAA,CAFR,CAGLC,UAAW,CAAA,CAHN,CAILh+B,MAAOq7B,CAAA,CAAMzJ,QAAN,CAAe,mBAAf,CAJF,CAKLkB,MAAOmL,CALF,CAAX,CAzB0B,CAiCrB5C,CAAN,CAAY8C,sBAAZ,EAAsC,CAAA9C,CAAA,CAAM8C,sBAAN,EAAtC,EAAgG,CAAhG,EAAyE9C,CAAA,CAAMC,OAAN,CAAc,MAAd,CAAzE,EAA0G,EAAAD,CAAA,CAAM/T,IAAN,CAAW,OAAX,CAAA,EAAuB+T,CAAA,CAAM+C,WAAN,EAAA,CAAoBziC,GAApB,CAAwB0iC,aAAxB,CAAsC,QAAtC,CAAvB,EAA0EhD,CAAA,CAAM+C,WAAN,EAAA,CAAoBziC,GAApB,CAAwB0iC,aAAxB,CAAsC,KAAtC,CAA1E,CAA1G,GACKC,CAiCJ,CAjCc,CAAC,CACdrkC,MAAO,OADO,CAEdse,KAAM,QAFQ,CAGdklB,WAAY,KAHE;AAIdC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,WAAf,CAJI,CAAD,CAKZ,CACD33B,MAAO,QADN,CAEDJ,MAAO,GAFN,CAGDf,MAAO,CAHN,CAIDylC,SAAU,EAJT,CAKDC,SAAU,EALT,CAMDC,UAAW,EANV,CAODvL,WAAY,OAPX,CAQDwL,iBAAkB,CARjB,CASDC,OAAQ,OATP,CAUD1L,WAAY,CAAA,IAAIh6B,GAAJ,CAAQ2lC,QAAR,CAAiBvD,CAAA,CAAMzJ,QAAN,CAAe,YAAf,CAAjB,CAAA,EAA+Cv0B,KAA/C,CAAqD,CAAC,CAAD,CAArD,CAVX,CAWDjD,UAAW,CACVykC,OAAQA,QAAQ,CAACC,CAAD,CAASC,CAAT,CAAiB,CAChC,IAAA,CAAKC,aAAL,CAAmB,CAAA,IAAI/lC,GAAJ,CAAQ2lC,QAAR,CAAiBvD,CAAA,CAAMzJ,QAAN,CAAe,YAAf,CAAjB,CAAA,EAA+Cv0B,KAA/C,CAAqD,CAAC0hC,CAAD,CAArD,CAAnB,CADgC,CADvB,CAIVE,eAAgBA,QAAQ,CAACH,CAAD,CAAS,CAChCA,CAAA,CAAOI,eAAP,EAAA,CAAyBC,QAAzB,CAAkC,CAAA,CAAlC,CADgC,CAJvB,CAXV,CALY,CAiCd,CARI9D,CAAA,CAAM+C,WAAN,EAAA,CAAoBziC,GAApB,CAAwB0iC,aAAxB,CAAsC,KAAtC,CAQJ,EAPCC,CAAA,CAAQrgC,IAAR,CAAa,CACZhE,MAAO,OADK,CAEZse,KAAM,QAFM,CAGZklB,WAAY,KAHA,CAIZC,SAAUrC,CAAA,CAAMzJ,QAAN,CAAe,WAAf,CAJE,CAAb,CAOD;AAAAkB,CAAA,CAAM70B,IAAN,CAAW,CACJhE,MAAO,UADH,CAEJ8jC,YAAa,CAAA,CAFT,CAGJC,UAAW,CAAA,CAHP,CAIJh+B,MAAOq7B,CAAA,CAAMzJ,QAAN,CAAe,gBAAf,CAJH,CAKJkB,MAAOwL,CALH,CAAX,CAlCD,CA0CArlC,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC/BxxB,MAAOq7B,CAAA,CAAMzJ,QAAN,CAAe,aAAf,CADwB,CAE/BiB,MAAO,CAAA,CAFwB,CAG/BC,MAAO,CACN74B,MAAO,MADD,CAEN64B,MAAOA,CAFD,CAGNS,QAAS,CAAC,CACA3a,KAAMyiB,CAAA,CAAMzJ,QAAN,CAAe,aAAf,CADN,CAETU,MAAO,mBAFE,CAGAmB,KAAM,CAHN,CAIA4H,MAAOA,CAJP,CAKH9I,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIG,EAAOH,CAAA,CAAIC,EAAJ,CAAO,MAAP,CAAX,CACIr5B,EAAK,QAALA,CAAcrB,GAAA,CAAImmC,MAAJ,CAAWC,UAAX,CAAsBxL,CAAA,CAAKK,SAAL,EAAA,CAAiB,QAAjB,CAAtB,CACdj7B,IAAA,CAAIqmC,UAAJ,CAAejE,CAAA,CAAM/gC,CAAN,CAAf,CAAJ,CACC+gC,CAAA,CAAM/gC,CAAN,CAAA,CAAU0V,IAAV,CAAeqrB,CAAf,CAAsBA,CAAtB,CAA6BxH,CAA7B,CADD,CAIC56B,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAOq7B,CAAA,CAAMzJ,QAAN,CAAe,aAAf,CADE,CAET0G,QAAS+C,CAAA,CAAMzJ,QAAN,CAAe,kBAAf,CAFA;AAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJL,CAAb,CAODrF,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAdsB,CALpB,CAqBHz4B,MAAOkgC,CArBJ,CAAD,CAsBG,CACFziB,KAAMyiB,CAAA,CAAMzJ,QAAN,CAAe,aAAf,CADJ,CAECU,MAAO,mBAFR,CAGLmB,KAAM,CAHD,CAILlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CAJlB,CAtBH,CAHH,CAHwB,CAqC/BQ,YAAa,CArCkB,CAAhC,CAAA,CAsCG3Z,IAtCH,EA3HgC,CA7PC,CAgalC8kB,UAAWA,QAAQ,CAACC,CAAD,CAAM,CAExB,GADIC,CACJ,CADU,IAAA,CAAKrB,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,KAArC,CACV,CACKnkC,CAIJ,CAJW+S,EAAA,CAAG6C,MAAH,CAAU2vB,CAAV,CAAA,CACT5tB,IADS,CACJ,SADI,CACO,GADP,CAAA,CAETA,IAFS,CAEJ,OAFI,CAEK,4BAFL,CAAA,CAGThE,IAHS,EAIX,CADS6xB,UACT,CADoBC,SACpB,CAAA1mC,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,gBAAd,CADE,CAET0G,QAAS,sCAATA,CAAoDsH,IAAA,CAAKC,QAAA,CAASC,kBAAA,CAAmB5lC,CAAnB,CAAT,CAAL,CAApDo+B;AAA6F,0FAA7FA,CAAwL,IAAA,CAAK1G,QAAL,CAAc,kBAAd,CAF/K,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAKTC,OAAQ,CAAA,CALC,CAMNC,UAAW,CAAA,CANL,CAONnnC,MAAOoB,CAPD,CAAb,CAPuB,CAhaS,CAkblCgmC,cAAeA,QAAQ,CAACV,CAAD,CAAM,CAC5BvmC,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,gBAAd,CADE,CAET0G,QAAS,0BAATA,CAAoCkH,CAApClH,CAAwC,0FAAxCA,CAAmI,IAAA,CAAK1G,QAAL,CAAc,kBAAd,CAF1H,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAKTC,OAAQ,CAAA,CALC,CAMNC,UAAW,CAAA,CANL,CAONnnC,MAAO,YAAPA;AAAoB0mC,CAApB1mC,CAAwB,MAPlB,CAAb,CAD4B,CAlbK,CA6blCqnC,UAAWA,QAAQ,CAAC9E,CAAD,CAAQxH,CAAR,CAAc,CAChC,IAAIlF,EAAQ,CACRkF,EAAJ,GACCA,CAAA,CAAKuM,IAAL,CAAU/E,CAAA,CAAMzJ,QAAN,CAAe,SAAf,CAAV,CAGA,EADIkN,CACJ,CADajL,CAAA,CAAKpO,SAAL,CAAe,OAAf,CACb,GAAcqZ,CAAd,CAAqBuB,QAArB,GACC1R,CADD,CACSmQ,CAAA,CAAOuB,QAAP,EADT,CAJD,CASA,KAAIC,EAAgB,IAAA,CAAKhZ,IAAL,CAAU,MAAV,CAAhBgZ,EAAqC,IAAA,CAAKhZ,IAAL,CAAU,OAAV,CACzC,IAAIgZ,CAAJ,GAAsBA,CAAtB,CAAoCC,OAApC,EAA+CD,CAA/C,CAA6DE,QAA7D,EAAwE,CAAA,IAKnEj1B,EAAO+0B,CAAA,CAAcG,YAAd,CAA2BC,OAA3B,EACAC,EAAAA,CAAWnK,KAAA,CAAMh9B,SAAN,CAAgBgF,KAAhB,CAAsBwR,IAAtB,CAA2BswB,CAA3B,CAAyCxN,KAAzC,CAA+CA,KAA/C,CANiD,KAO5D8N,EAAWN,CAAXM,CAAyBC,eAPmC,CASzD/0B,CAGR,KAAKA,CAAL,CAAS,CAAT,CAAYA,CAAZ,CAAgB60B,CAAhB,CAAyB9kC,MAAzB,CAAiCiQ,CAAA,EAAjC,CAAsC,CAClC,IAAAg1B,EAAUH,CAAA,CAAS70B,CAAT,CACV,KAAAi1B,EAASH,CAAA,CAASE,CAAT,CAAiB39B,IAAjB,CAET,KADAvH,CACA,CADIkQ,CACJ,CADQ,CACR,CAAY,CAAZ,EAAOlQ,CAAP,EAAiBglC,CAAA,CAASD,CAAA,CAAS/kC,CAAT,CAAT,CAAqBuH,IAArB,CAAjB,CAA8C49B,CAA9C,CAAA,CACIJ,CAAA,CAAS/kC,CAAT,CAAa,CAAb,CACA,CADkB+kC,CAAA,CAAS/kC,CAAT,CAClB,CAAAA,CAAA,EAEJ+kC,EAAA,CAAS/kC,CAAT,CAAa,CAAb,CAAA,CAAkBklC,CARgB,CAZ2B,IA2B7DE,EAAexmC,QAAA,CAASymC,aAAT,CAAuB,QAAvB,CAChBC,EAAAA,CAAYjoC,GAAA,CAAIkoC,YAAJ,CAAiBR,CAAA,CAAS,CAAT,CAAjB,CACZ/1B,EAAAA,EAAQ+1B,CAAA,CAAS,CAAT,CAAR/1B,CAAoBw2B,gBA7B0C;IA8B9D5oC,EAAMwoC,CAAA,CAAatmC,UAAb,CAAwB,IAAxB,CAGTsmC,EAAA,CAAannC,KAAb,CAAqBgF,IAAA,CAAK8qB,IAAL,CAAUpe,CAAV,CAAe1R,KAAf,CAAuB+Q,CAAvB,CACrBo2B,EAAA,CAAarnC,MAAb,CAAsBkF,IAAA,CAAK8qB,IAAL,CAAUpe,CAAV,CAAe5R,MAAf,CAAwBiR,CAAxB,CAGtB,KAAKhP,CAAL,CAAS,CAAT,CAAYA,CAAZ,CAAgB+kC,CAAhB,CAAyB9kC,MAAzB,CAAiCD,CAAA,EAAjC,CAEI,GADAklC,CACI,CADMH,CAAA,CAAS/kC,CAAT,CACN,CAAA3C,GAAA,CAAIkoC,YAAJ,CAAiBL,CAAjB,CAAA,GAA8BI,CAAlC,CAKA,IAFAG,CAEK,CAFEP,CAAA,CAAQQ,OAAR,EAEF,CADLC,WACK,CADST,CAAA,CAAQplC,EAAR,CAAWglC,OAAX,EACT,CAAA50B,CAAA,CAAI,CAAT,CAAYA,CAAZ,CAAgBg1B,CAAhB,CAAwBU,QAAxB,CAAiC3lC,MAAjC,CAAyCiQ,CAAA,EAAzC,CAA8C,CAC1C,IAAArT,EAASqoC,CAAA,CAAQU,QAAR,CAAiB11B,CAAjB,CACTlE,EAAA,CAAKnP,CAAA,CAAOgpC,YAAP,CAAoBhpC,CAAA,CAAOipC,SAAP,EAApB,CACLlpC,EAAA,CAAImpC,SAAJ,CAAclpC,CAAd,CAAqBkD,GAArB,EAA2B0lC,CAAA,CAAK,CAAL,CAA3B,CAAqCz5B,CAAA,CAAG,CAAH,CAArC,EAA8CgD,CAA9C,EAAsDy2B,CAAA,CAAK,CAAL,CAAtD,CAAgEz5B,CAAA,CAAG,CAAH,CAAhE,EAAyEgD,CAAzE,CAAgF22B,WAAhF,CAA4F1nC,KAA5F,CAAkG+Q,CAAlG,CAAwG22B,WAAxG,CAAoH5nC,MAApH,CAA2HiR,CAA3H,CAH0C,CAM9CipB,CAAJ,EAAYA,CAAA,CAAK+N,SAAL,EAAZ,EAA+B/N,CAAA,CAAK3J,MAAL,EAGrC,OAAO,KAAA,CAAKgW,aAAL,CAAmBc,CAAA,CAAaa,SAAb,EAAnB,CArDgE,CA6DpEC,CAAAA,CAAW,IAAA,CAAK1D,WAAL,EAAX0D,CAA8BnmC,GAElC,IADClD,CACD,CADUqpC,CAAA,CAASzD,aAAT,CAAuB,QAAvB,CACV,CAAY,CACX,GAAW,CAAX,EAAI1P,CAAJ,CAGC,MAFI3Y,EAEG,CAFIvd,CAAA,CAAOopC,SAAP,CAAiB,WAAjB,CAEJ;AADGhO,CACH,EADWA,CAAA,CAAK+N,SAAL,EACX,EAD8B/N,CAAA,CAAK3J,MAAL,EAC9B,CAAA,IAAA,CAAKgW,aAAL,CAAmBlqB,CAAnB,CAEEgrB,EANC,CAMcxmC,QAAA,CAASymC,aAAT,CAAuB,QAAvB,CAChBzoC,EADH,CACSwoC,CAAA,CAAatmC,UAAb,CAAwB,IAAxB,CACTsmC,EAAA,CAAannC,KAAb,CAAqBgF,IAAA,CAAK8qB,IAAL,CAAUlxB,CAAV,CAAiBoB,KAAjB,CAAyB80B,CAAzB,CACrBqS,EAAA,CAAarnC,MAAb,CAAsBkF,IAAA,CAAK8qB,IAAL,CAAUlxB,CAAV,CAAiBkB,MAAjB,CAA0Bg1B,CAA1B,CAE1B,KAAIoT,EAAQ,IAAIC,KAChBD,EAAA,CAAME,GAAN,CAAYxpC,CAAA,CAAOopC,SAAP,CAAiB,WAAjB,CACZE,EAAA,CAAM1G,KAAN,CAAc,IACd0G,EAAA,CAAMG,MAAN,CAAeC,QAAQ,EAAG,CACzB3pC,CAAA,CAAImpC,SAAJ,CAAcI,CAAd,CAAqB,CAArB,CAAwB,CAAxB,CAA2Bf,CAA3B,CAAwCnnC,KAAxC,CAA+CmnC,CAA/C,CAA4DrnC,MAA5D,CACA6lC,EAAA,CAAMwB,CAAA,CAAaa,SAAb,CAAuB,WAAvB,CACGhO,EAAJ,EAAYA,CAAA,CAAK+N,SAAL,EAAZ,EAA+B/N,CAAA,CAAK3J,MAAL,EACpC,KAAA,CAAKmR,KAAL,CAAW6E,aAAX,CAAyBlwB,IAAzB,CAA8B,IAA9B,CAAmCqrB,KAAnC,CAA0CmE,CAA1C,CAJyB,CAdjB,CAAZ,IAwBA,IADIC,CACJ,CADUqC,CAAA,CAASzD,aAAT,CAAuB,KAAvB,CACV,CAAS,CACJxkC,CAAAA,CAAQioC,CAARjoC,CAAiBuoC,WAAjBvoC,CAA6B80B,CAChCh1B,EAAAA,CAASmoC,CAATnoC,CAAkB0oC,YAAlB1oC,CAA+Bg1B,CAC5BmO,EAAAA,CAAQ2C,CAAA,CAAI6C,SAAJ,CAAc,CAAA,CAAd,CACZxF,EAAA,CAAMyF,YAAN,CAAmB,SAAnB,CAA8B,GAA9B,CACAzF;CAAA,CAAMyF,YAAN,CAAmB,OAAnB,CAA4B,4BAA5B,CACAzF,EAAA,CAAMyF,YAAN,CAAmB,OAAnB,CAA4B1oC,CAA5B,CACAijC,EAAA,CAAMyF,YAAN,CAAmB,QAAnB,CAA6B5oC,CAA7B,CAGA,KADI6oC,CACJ,CADkB,EAClB,CAA+B,CAA/B,CAAO1F,CAAP,CAAavhC,QAAb,CAAsBM,MAAtB,CAAA,CACC2mC,CAAA,CAAYvkC,IAAZ,CAAiB6+B,CAAA,CAAM2F,WAAN,CAAkB3F,CAAA,CAAMvhC,QAAN,CAAe,CAAf,CAAlB,CAAjB,CAGD,KAAIs6B,EAAIr7B,QAAA,CAASymC,aAAT,CAAuB,GAAvB,CACRpL,EAAA,CAAE0M,YAAF,CAAe,OAAf,CAAwB,0BAAxB,CACA1M,EAAA,CAAE0M,YAAF,CAAe,WAAf,CAA4B,QAA5B,CAAqC5T,CAArC,CAA2C,GAA3C,CACAmO,EAAA,CAAM4F,WAAN,CAAkB7M,CAAlB,CAEA2M,EAAA,CAAY/wB,OAAZ,CAAoB,QAAQ,CAACyL,CAAD,CAAO,CAClC2Y,CAAA,CAAE6M,WAAF,CAAcxlB,CAAd,CADkC,CAAnC,CAIA,KACCsiB,EAAM,4BAANA,CAAoCI,IAAA,CAAKC,QAAA,CAASC,kBAAA,CADxChD,CACwC,CADlC6F,SACkC,CAAT,CAAL,CAEjClqC,EA1BI,CA0BKQ,GAAA,CAAIouB,SAAJ,CAAcub,SAAd,CAAwB,CAACC,IAAI,QAAL,CAAchpC,MAAOA,CAArB,CAA2BF,OAAOA,CAAlC,CAAxB,CAAb;IACCmpC,EAAUrqC,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CAEPqnC,EAAJ,CAAY,IAAIC,KAChBD,EAAA,CAAME,GAAN,CAAYzC,CACZuC,EAAA,CAAM1G,KAAN,CAAc,IACd0G,EAAA,CAAMG,MAAN,CAAeC,QAAQ,EAAG,CACzBW,CAAA,CAAQnB,SAAR,CAAkBI,CAAlB,CAAyB,CAAzB,CAA4B,CAA5B,CACAvC,EAAA,CAAM/mC,CAAA,CAAOopC,SAAP,CAAiB,WAAjB,CACIhO,EAAJ,EAAYA,CAAA,CAAK+N,SAAL,EAAZ,EAA+B/N,CAAA,CAAK3J,MAAL,EACrC,OAAO,KAAA,CAAKmR,KAAL,CAAW6E,aAAX,CAAyBlwB,IAAzB,CAA8B,IAA9B,CAAmCqrB,KAAnC,CAA0CmE,CAA1C,CAJkB,CAhClB,CAnGuB,CA7bC,CA2kBlCuD,UAAWA,QAAQ,EAAG,CACrB,IAAA,CAAKzF,OAAL,CAAa,IAAA,CAAKM,YAAL,EAAb,CADqB,CA3kBY,CA8kBlCoF,YAAaA,QAAQ,EAAG,CACvB,IAAIC,EAAuC,CAAvCA,EAAS,IAAA,CAAK3H,OAAL,CAAa,cAAb,CACbriC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,sBAAd,CADE,CAET0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,wBAAd,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAKTC,OAAQ,CAAA,CALC,CAMNC,UAAW,CAAA,CANL,CAONnnC,MAAO,qcAAPA;CAM2BmqC,CAAA,CAAS,IAAA,CAAKnpC,QAAL,EAAT,CAAyB,IAAzB,CAAgC,MAN3DhB,EAMmE,YANnEA,EAMiFmqC,CAAA,CAAS,IAAA,CAAKrpC,SAAL,EAAT,CAA0B,IAA1B,CAAiC,OANlHd,EAM2H,UAN3HA,CAMsI,IAAA,CAAK8kC,YAAL,CAAkBqF,CAAlB,CANtInqC,CAMgK,aAb1J,CAAb,CAFuB,CA9kBU,CAgmBlCoqC,aAAcA,QAAQ,EAAG,CACxB,IAAIC,EAAO,IAAIh9B,IAAf,CACIi3B,EAAM,IAAA,CAAKQ,YAAL,EACV3kC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,mBAAd,CADE,CAET0G,QAAS,uGAATA,EACsE,IAAA,CAAKgD,OAAL,CAAa,cAAb,CAAA,CAA+B,EAA/B,CAAoC,GAApC,CAAwC,IAAA,CAAK1J,QAAL,CAAc,OAAd,CAAxC,CAA+D,KADrI0G,EAEA,uBAFAA,CAEwBr/B,GAAA,CAAIkN,IAAJ,CAAS+hB,MAAT,CAAgBib,CAAhB,CAAqB,GAArB,CAFxB7K,CAEkD,SAFlDA,CAE4Dr/B,GAAA,CAAIkN,IAAJ,CAAS+hB,MAAT,CAAgBib,CAAhB,CAAqB,OAArB,CAF5D7K;AAE0F,QAF1FA,CAEmG8E,CAFnG9E,CAEuG,qIAFvGA,EAKqE,IAAA,CAAKgD,OAAL,CAAa,cAAb,CAAA,CAA+B,EAA/B,CAAoC,GAApC,CAAwC,IAAA,CAAK1J,QAAL,CAAc,OAAd,CAAxC,CAA+D,KALpI0G,EAMA,gCANAA,CAMiCr/B,GAAA,CAAIkN,IAAJ,CAAS+hB,MAAT,CAAgBib,CAAhB,CAAqB,QAArB,CANjC7K,CAMgE,IANhEA,CAMqE8E,CANrE9E,CAMyE,kHANzEA,CAS8Dr/B,GAAA,CAAIkN,IAAJ,CAAS+hB,MAAT,CAAgBib,CAAhB,CAAqB,GAArB,CAT9D7K,CASwF,KATxFA,EAS+F,IAAA,CAAKgD,OAAL,CAAa,cAAb,CAAA,CAA+B,EAA/B,CAAoC,IAAA,CAAK1J,QAAL,CAAc,OAAd,CAApC,CAA2D,IAT1J0G,EAUA,iCAVAA;AAUkCr/B,GAAA,CAAIkN,IAAJ,CAAS+hB,MAAT,CAAgBib,CAAhB,CAAqB,QAArB,CAVlC7K,CAUiE,SAVjEA,CAU2E8E,CAV3E9E,CAU+E,mBAZtE,CAaT/E,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAbR,CAcTC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAdL,CAAb,CAHwB,CAhmBS,CAonBlCqD,aAAcA,QAAQ,EAAG,CACxB,IAAIC,EAAapqC,GAAA,CAAIkoC,YAAJ,CAAiB,IAAjB,CAAA,CAAuB9jB,KAAvB,CAA6B,GAA7B,CAAA,CAAkC+Z,GAAlC,EAAjB,CACIlH,EAAM,IAAA,CAAKjE,cAAL,EAAA,CAAsBiF,oBAAtB,EACwB,EAAlC,EAAI,IAAA,CAAKoK,OAAL,CAAa,cAAb,CAAJ,GACC,OAAOpL,CAAP,CAAW8D,MAGX,CADA/6B,GAAA,CAAIoE,KAAJ,CAAU6yB,CAAV,CAAe,IAAA,CAAKgB,oBAAL,EAAf,CACA,CAAA,OAAOhB,CAAP,CAAWtB,MAJZ,CAMA,KAAI0U,EAAUpT,CAAVoT,EAAiB,OAAjBA,EAA4BpT,EAChC,QAAOA,CAAP,CAAWqT,IACX,QAAOrT,CAAP,CAAWsT,KAIPC,EAAAA,CAAQ,IAARA,CAFI7D,IAAA,CAAKE,kBAAA,CAEQ4D,qDAFR,CAAL,CAAA,CAA8B5mC,OAA9B,CAAsC,IAAtC,CAA4C,KAA5C,CAEJ2mC,CAAwE,KAAxEA,CAFI7D,IAAA,CAAKE,kBAAA,CAGR,cAHQ;AAGO,IAAA,CAAK7T,cAAL,EAAA,CAAsBzI,SAAtB,EAAA,CAAkCuQ,YAAlC,EAHP,CAGwD,WAHxD,EAIC,cAAZ,EAAAsP,CAAA,CAA6B,EAA7B,CAAkCA,CAJvB,EAImC,GAJnC,EAIgE,CAAxB,CAAA92B,MAAA,CAAOC,IAAP,CAAY0jB,CAAZ,CAAA,CAAiBr0B,MAAjB,CAA6B,GAA7B,CAAiC5C,GAAA,CAAI0qC,MAAJ,CAAWzT,CAAX,CAAjC,CAAoD,EAJ5F,EAIiG,IAJjG,CAAL,CAAA,CAA8BpzB,OAA9B,CAAsC,IAAtC,CAA4C,KAA5C,CAEJ2mC,CAEgH,IACpH,KAAA,CAAKnG,OAAL,CAAa,IAAA,CAAKrR,cAAL,EAAA,CAAsBoR,UAAtB,EAAb,CAAgD,mBAAhD,EAAqEiG,CAAA,CAAU,aAAV,CAA0B,EAA/F,EAAmG,gCAAnG,CAAoIG,CAApI,CAlBwB,CApnBS,CAwoBlCG,sBAAuBA,QAAQ,CAACC,CAAD,CAAOhQ,CAAP,CAAa,CAO3CiQ,QAASA,EAAa,CAACC,CAAD,CAAM,CAC3B,IAAIlc,EAAM,EACVmc,EAAA,CAAevyB,OAAf,CAAuB,QAAS,CAACwyB,CAAD,CAAS,CACxCpc,CAAA,CAAIoc,CAAJ,CAAWrrB,IAAX,CAAA,CAAmBmrB,CAAA,CAAI3mC,GAAJ,CAAQ6mC,CAAR,CAAeC,SAAf,CADqB,CAAzC,CAGAjQ,OAAA,CAAOh2B,IAAP,CAAY4pB,CAAZ,CAL2B,CANxByL,CAAAA,CAAQuQ,CAAA,CAAKzX,QAAL,EACCkH,EAAA,CAAMmI,SAAN,EAEb,KAAIuI,EAAiBH,CAAA,CAAKM,gBAAL,EAAA,CAAwBC,QAAxB,CAAiCC,qBAAjC,EACrBpQ;MAAA,CAAS,EAULX,EAAJ,CAAUgR,QAAV,CACChR,CAAA,CAAMtd,IAAN,CAAWvE,OAAX,CAAmBqyB,CAAnB,CADD,CAGCxQ,CAAA,CAAMl0B,IAAN,CAAW0kC,CAAX,CAGD7qC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,iBAAd,CADE,CAET0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,uBAAd,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAKTC,OAAQ,CAAA,CALC,CAMNC,UAAW,CAAA,CANL,CAONnnC,MAAOG,GAAA,CAAI0qC,MAAJ,CAAW1P,MAAX,CAPD,CAAb,CArB2C,CAxoBV,CAuqBlCsQ,qBAAsBA,QAAQ,CAACV,CAAD,CAAOhQ,CAAP,CAAa,CAU1C2Q,QAASA,EAAY,CAACT,CAAD,CAAM,CAC1BU,KAAA,CAAQ,EACRT,EAAA,CAAevyB,OAAf,CAAuB,QAAS,CAACwyB,CAAD,CAAS,CACpCpc,CAAAA,CAAMkc,CAAA,CAAI3mC,GAAJ,CAAQ6mC,CAAR,CAAeC,SAAf,CACNjrC,IAAA,CAAIy2B,QAAJ,CAAa7H,CAAb,CAAJ,GACCA,CADD,CACOA,CAAA,CAAI/qB,OAAJ,CAAY,MAAZ,CAAoB,GAApB,CADP,CAGA2nC,MAAA,CAAMxmC,IAAN,CAAW4pB,CAAX,CALwC,CAAzC,CAOA/uB,EAAA,EAAS2rC,KAAA,CAAMhiC,IAAN,CAAW,IAAX,CAAT,CAA4B,IATF,CATvB6wB,CAAAA,CAAQuQ,CAAA,CAAKzX,QAAL,EACZ,KAAIqF,EAAS6B,CAAA,CAAMmI,SAAN,EAAb,CACIuI,EAAiBH,CAAA,CAAKM,gBAAL,EAAA,CAAwBC,QAAxB,CAAiCC,qBAAjC,EACjB5S;CAAJ,CAAa,EACbuS,EAAA,CAAevyB,OAAf,CAAuB,QAAQ,CAACwyB,CAAD,CAAS,CACvCxS,CAAA,CAAOxzB,IAAP,CAAYgmC,CAAZ,CAAmBrrB,IAAnB,CADuC,CAAxC,CAGA,KAAI9f,EAAQ24B,CAAA,CAAOhvB,IAAP,CAAY,IAAZ,CAAR3J,CAA0B,IAc1Bw6B,EAAJ,CAAUgR,QAAV,CACChR,CAAA,CAAMtd,IAAN,CAAWvE,OAAX,CAAmB+yB,CAAnB,CADD,CAGClR,CAAA,CAAMl0B,IAAN,CAAWolC,CAAX,CAGDvrC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,iBAAd,CADE,CAET0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,sBAAd,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAKTC,OAAQ,CAAA,CALC,CAMNC,UAAW,CAAA,CANL,CAONnnC,MAAOA,CAPD,CAAb,CA5B0C,CAvqBT,CA6sBlC4rC,sBAAuBA,QAAQ,CAACb,CAAD,CAAOhQ,CAAP,CAAa,CAW3C8Q,QAASA,EAAa,CAACZ,CAAD,CAAM,CAC3BjrC,CAAA,EAAS,YACTkrC,EAAA,CAAevyB,OAAf,CAAuB,QAAS,CAACwyB,CAAD,CAAS,CACpCpc,CAAAA,CAAMkc,CAAA,CAAI3mC,GAAJ,CAAQ6mC,CAAR,CAAeC,SAAf,CACNjrC,IAAA,CAAIy2B,QAAJ,CAAa7H,CAAb,CAAJ,GACCA,CADD,CACOA,CAAA,CAAI/qB,OAAJ,CAAY,IAAZ,CAAkB,OAAlB,CAAA,CAA2BA,OAA3B,CAAmC,IAAnC,CAAyC,MAAzC,CAAA,CAAiDA,OAAjD,CAAyD,IAAzD,CAA+D,MAA/D,CADP,CAGAhE,EAAA,EAAS,YAAT,CAAwB+uB,CAAxB,CAA8B,SALU,CAAzC,CAOA/uB;CAAA,EAAS,aATkB,CAVxBw6B,CAAAA,CAAQuQ,CAAA,CAAKzX,QAAL,EACCkH,EAAA,CAAMmI,SAAN,EACb,KAAI3iC,EAAQ,gCAAZ,CACIkrC,EAAiBH,CAAA,CAAKM,gBAAL,EAAA,CAAwBC,QAAxB,CAAiCC,qBAAjC,EACrBL,EAAA,CAAevyB,OAAf,CAAuB,QAAQ,CAACwyB,CAAD,CAAS,CACvCnrC,CAAA,EAAO,YAAP,CAAoBmrC,CAApB,CAA2BrrB,IAA3B,CAAgC,SADO,CAAxC,CAIA9f,EAAA,EAAO,oCAcHw6B,EAAJ,CAAUgR,QAAV,CACChR,CAAA,CAAMtd,IAAN,CAAWvE,OAAX,CAAmBkzB,CAAnB,CADD,CAGCrR,CAAA,CAAMl0B,IAAN,CAAWulC,CAAX,CAGD7rC,EAAA,EAAO,sBACPG,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,iBAAd,CADE,CAET0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,uBAAd,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAKTC,OAAQ,CAAA,CALC,CAMNC,UAAW,CAAA,CANL,CAONnnC,MAAOA,CAPD,CAAb,CA9B2C,CA7sBV,CAqvBlC8rC,kBAAmBA,QAAQ,CAACf,CAAD;AAAOhQ,CAAP,CAAa,CACvC56B,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB,IAAA,CAAKjT,QAAL,CAAc,gBAAd,CAAhB,CAAiD,IAAA,CAAKA,QAAL,CAAc,sBAAd,CAAjD,CAAwF,QAAQ,CAAC8B,CAAD,CAAM,CAC5F,KAAT,EAAIA,CAAJ,GACKrJ,CAEJ,CAFa,CAACya,MAAO,CAAR,CAAW37B,MAAO,CAAlB,CAEb,CADAlQ,GAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoBwZ,CAAA,CAAKzX,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2BC,cAA3B,EAApB,CACA,CAAA,IAAA,CAAK1H,OAAL,CAAa,IAAA,CAAK2H,cAAL,EAAb,CAAmC,GAAnC,CAAuChsC,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9J,CAAzB,CAAvC,CAHD,CADqG,CAAtG,CAMG,IANH,CADuC,CArvBN,CA8vBlC6a,iBAAkBA,QAAQ,CAACrB,CAAD,CAAOhQ,CAAP,CAAa,CACtC56B,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB,IAAA,CAAKjT,QAAL,CAAc,gBAAd,CAAhB,CAAiD,IAAA,CAAKA,QAAL,CAAc,qBAAd,CAAjD,CAAuF,QAAQ,CAAC8B,CAAD,CAAM,CAC3F,KAAT,EAAIA,CAAJ,GACKrJ,CAEJ,CAFa,CAACya,MAAO,CAAR,CAAW37B,MAAO,CAAlB,CAAqBg8B,SAAU,IAAA,CAAKzU,QAAL,EAAVyU,CAA0B,MAA/C,CAEb,CADAlsC,GAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoBwZ,CAAA,CAAKzX,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2BC,cAA3B,EAApB,CACA;AAAA,IAAA,CAAK1H,OAAL,CAAa,IAAA,CAAK2H,cAAL,EAAb,CAAmC,GAAnC,CAAuChsC,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9J,CAAzB,CAAvC,CAHD,CADoG,CAArG,CAMG,IANH,CADsC,CA9vBL,CAuwBlCuT,aAAcA,QAAQ,CAACqF,CAAD,CAAS,CAE9B,IAAI/S,EAAM,IAAA,CAAKjE,cAAL,EAAA,CAAsBiF,oBAAtB,EAAV,CACImS,EAAapqC,GAAA,CAAIkoC,YAAJ,CAAiB,IAAjB,CAAA,CAAuB9jB,KAAvB,CAA6B,GAA7B,CAAA,CAAkC+Z,GAAlC,EACiB,EAAlC,EAAI,IAAA,CAAKkE,OAAL,CAAa,cAAb,CAAJ,GACC,OAAOpL,CAAP,CAAW8D,MAGX,CADA/6B,GAAA,CAAIoE,KAAJ,CAAU6yB,CAAV,CAAe,IAAA,CAAKgB,oBAAL,EAAf,CACA,CAAK+R,CAAL,GAAc/S,CAAd,CAAkBqT,IAAlB,CAAuBF,CAAvB,CAJD,CAMKnT,EAAL,CAAStB,MAAT,GACCsB,CADD,CACKtB,MADL,CACc,IAAA,CAAK3C,cAAL,EAAA,CAAsBzI,SAAtB,EAAA,CAAkCuQ,YAAlC,EADd,CAGA,OAAO,KAAA,CAAK9H,cAAL,EAAA,CAAsBoR,UAAtB,EAAP,EAA2C4F,CAAA,CAAS,OAAT,CAAiBI,CAAjB,CAA4B,GAA5B,CAAkC,EAA7E,EAAiF,GAAjF,CAAqFpqC,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyBjE,CAAzB,CAbvD,CAvwBG,CAsxBlCiM,cAAeA,QAAQ,CAACd,CAAD,CAAQ,CAC1BA,CAAA,CAAMC,OAAN,CAAc,gBAAd,CAAJ;CAAsCD,CAAtC,CAA8CA,CAAA,CAAME,YAAN,EAA9C,CACA,KAAIW,EAAOb,CAAA,CAAMzJ,QAAN,CAAe,MAAf,CAAuB,CAAC,UAAW,CAAA,CAAZ,CAAvB,CAAPsK,EAAqDb,CAAA,CAAMzJ,QAAN,CAAe,SAAf,CACrDsK,EAAJ,EAAUb,CAAA,CAAMtJ,cAAN,CAAqB94B,GAAA,CAAIg3B,YAAJ,CAAiB7yB,GAAjB,CAAqB,sBAArB,CAArB,CAAmE,SAAnE,CAAV,CACCi+B,CAAA,CAAMiC,OAAN,CAAejC,CAAA,CAAMgC,UAAN,EAAf,CAAkC,gBAAlC,CAAqDhC,CAAA,CAAM3K,QAAN,EAArD,CADD,CAICz3B,GAAA,CAAI0/B,GAAJ,CAAQyM,KAAR,CAAc/J,CAAA,CAAMzJ,QAAN,CAAe,OAAf,CAAd,CAAuCsK,CAAvC,CAA6C,cAA7C,CAA4Db,CAAA,CAAMgC,UAAN,EAA5D,CACE,OADF,EACYhC,CAAA,CAAMC,OAAN,CAAc,cAAd,CAAA,CAAgC,EAAhC,CAAqC,WAArC,CAAiDD,CAAA,CAAM3K,QAAN,EAD7D,EACgF,wBADhF,CACyG2K,CAAA,CAAMzJ,QAAN,CAAe,UAAf,CADzG,CACoI,UADpI,CAP6B,CAtxBG,CAiyBlCoL,aAAcA,QAAQ,CAAC/iC,CAAD,CAAQ,CAC7B,IAAI20B,EAAS,IAAA,CAAK3C,cAAL,EAAA,CAAsBzI,SAAtB,EACA,KAAA,CAAKkX,gBAAL,EAEb,IAAI,IAAA,CAAKY,OAAL,CAAa,cAAb,CAAJ;AAAoC,IAAA,CAAKrP,cAAL,EAApC,CAA0DoZ,gBAA1D,CAA4E,CAC3E,IAAAxuB,EAAS,IAAA,CAAKoV,cAAL,EAAA,CAAsBoZ,gBAAtB,EACTxuB,EAAA,CAAOyuB,SAAP,CAAiB,CAAA,CAAjB,CACczuB,EAAA,CAAO7c,GAAP,CAAW,CAACC,MAAOA,CAAR,CAAX,CACV20B,EAAJ,EACC,IAAA,CAAK3C,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,cAApC,CAAoDplB,CAApD,CAA4D+X,CAA5D,CAGG2B,EAAAA,CAAct3B,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CAClB,KAAIupB,EAAM,IAAA,CAAKnR,cAAL,EAAA,CAAsBoR,UAAtB,EACVD,EAAA,EAAO,UAAP,CAAkBxO,CAAA,CAAOmF,YAAP,EAClBqJ,EAAA,EAAO,QAAP,CAAgBnjC,CAChB,KAAKkD,IAAIA,CAAT,GAAgBozB,EAAhB,CACa,QAAZ,GAAIpzB,CAAJ,EAAgC,MAAhC,GAAwBA,CAAxB,GACCigC,CADD,EACQ,GADR,CACYjgC,CADZ,CACgB,GADhB,CACoBozB,CAAA,CAAYpzB,CAAZ,CADpB,CAIDsL,OAAA,CAAO88B,OAAP,CAAeC,SAAf,CAAyB,CACxB5W,OAAQA,CAAA,CAAOmF,YAAP,EADgB,CAExBwP,KAAMtpC,CAFkB,CAAzB,CAGG,EAHH,CAGOmjC,CAHP,CAjB2E,CAA5E,IAuBCvmB,EAMA,CANS,IAAA,CAAKykB,OAAL,CAAa,cAAb,CAAA,EAAgC,IAAA,CAAKrP,cAAL,EAAhC,CAAsDoZ,gBAAtD;AAAyE,IAAA,CAAKpZ,cAAL,EAAA,CAAsBoZ,gBAAtB,EAAzE,CAAoH,IAAA,CAAK1R,EAAL,CAAQ,WAAR,CAM7H,CALA9c,CAAA,CAAO5E,MAAP,CAAc,IAAd,CAAoB,CAAA,CAApB,CAKA,CAJIwzB,CAIJ,CAJc5uB,CAAA,CAAO7c,GAAP,CAAW,CAACC,MAAOA,CAAR,CAAX,CAId,CAHI4c,CAAA,CAAOykB,OAAP,CAAe,gBAAf,CAGJ,EAFCzkB,CAAA,CAAO6uB,YAAP,CAAoBD,CAApB,CAED,CAAI7W,CAAJ,EACC6W,CAAA,CAAQ7J,SAAR,CAAkB,cAAlB,CAAkC6J,CAAlC,CAA2C7W,CAA3C,CAGF,KAAA,CAAK3C,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,aAApC,CAAmD,IAAnD,CArC6B,CAjyBI,CAAnC,CA60BAhjC;GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAC/ByI,OAAQ,gBADuB,CAE/B+N,MAAO,iBAFwB,CAG/BC,UAAW,CAAC,qXAAD,CAHoB,CAa/BC,SAAU,CACNC,QAASA,QAAQ,EAAG,CAEhB,IACAC;AADS5f,IACK,CAAGgS,UAAH,CAAcvjB,SAAd,CAGVmxB,EAAJ,EAJS5f,IAIT,CAAsB2M,KAAtB,GAJS3M,IAWL,CANQ6f,QAMR,GAXK7f,IAWL,CALO6f,QAKP,CALkB,IAAI/sC,GAAJ,CAAQ6hC,IAAR,CAAamL,IAAb,CAAkB,CAC5BnT,MAPH3M,IAOG2M,CAAUA,KADkB,CAAlB,CAKlB,EAXK3M,IAUL,CAAG6f,QAAH,CAAYE,MAAZ,CAAmB,CAAnB,CAAsB,CAAtB,CACA,CAXK/f,IAWL,CAAG6f,QAAH,CAAYE,MAAZ,CAXK/f,IAWc,CAAGggB,IAAH,EAAnB,CAXKhgB,IAW0B,CAAGrsB,QAAH,EAA/B,CAXKqsB,IAW0C,CAAG6f,QAAH,CAAYlsC,QAAZ,EAA/C,CAXKqsB,IAWkE,CAAGigB,IAAH,EAAvE,CAXKjgB,IAW8E,CAAGvsB,SAAH,EAAnF,CAAoG,EAApG,CAPJ,CAWA,OAAOmsC,EAjBS,CADd,CAoBNM,UAAWA,QAAQ,EAAG,CAClBptC,GAAA,CAAIqtC,cAAJ,CAAmB,IAAnB,CAAyB,UAAzB,CACA,KAAA,CAAKnO,UAAL,EAFkB,CApBhB,CAbqB,CAsClCoO,cAAeA,QAAQ,EAAG,CACbpgB,IACT,CAAGgS,UAAH,CAAcvjB,SAAd,CAGA,KAAA0d,EAJSnM,IAITmM,CAAWA,KAAXA,EAAoB,mBAGhB,IAAqB,QAArB,GAAI,MAAOA,EAAX,CAA+B,CAC3B,IAAAkU,EAAalU,CAAA,CAAMjV,KAAN,CAAY,GAAZ,CACbiV,EAAA,CAAQkU,CAAA,CAAW,CAAX,CACRC,EAAA,CAAkBD,CAAA,CAAW,CAAX,CAHS,CAA/B,IAI4B,QAArB,GAAI,MAAOlU,EAAX;AAAiCA,CAAjC,CAAuCoU,WAAvC,GACHF,CAEA,CAFalU,CAAA,CAAMoU,WAAN,CAAkBrpB,KAAlB,CAAwB,GAAxB,CAEb,CADAiV,CACA,CADQkU,CAAA,CAAW,CAAX,CACR,CAAAC,CAAA,CAAkBD,CAAA,CAAW,CAAX,CAHf,CAOPvtC,IAAA,CAAIo/B,OAAJ,CAlBKlS,IAkBL,CAAewgB,UAAf,CAA2B,CACvBC,QAnBCzgB,IAmBDygB,CAAYA,OADW,CAEvBC,MAAO5tC,GAAP4tC,CAAWC,eAFY,CAGvB3jC,KArBCgjB,IAqBDhjB,CAASA,IAHc,CAIvBmvB,MAAOA,CAJgB,CAKvBmU,gBAAiBA,CALM,CAA3B,CAnBkB,CAtCQ,CAAnC,C,CC70BAxtC,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCC,aAAc,CAAC,UAAD,CADwB,CAEtC4H,SAAUA,QAAQ,CAACjf,CAAD,CAAS/O,CAAT,CAAsB,CACvC,GAAI+O,CAAJ,CAAWqX,YAAX,CACC,IAAK,IAAIxzB,EAAE,CAAX,CAAaA,CAAb,CAAemc,CAAf,CAAsBqX,YAAtB,CAAmCvzB,MAAnC,CAA0CD,CAAA,EAA1C,CAA+C,CAC9C,IAAImrC,EAAShvB,CAAA,CAAOqX,YAAP,CAAoBxzB,CAApB,CACboN,EAAA,CAAY+9B,CAAZ,CAAA,CAAsB9tC,GAAA,CAAI2B,IAAJ,CAASmd,CAAA,CAAOgvB,CAAP,CAAT,CAAyB/9B,CAAzB,CAFwB,CAKhD,GAAI+O,CAAJ,CAAWgY,MAAX,CACC,IAAKiC,KAAL,GAAcja,EAAd,CAAqBgY,MAArB,CACC,IAAA,CAAKiH,QAAL,CAAcjf,CAAA,CAAOgY,MAAP,CAAciC,KAAd,CAAd,CAAoChpB,CAApC,CATqC,CAFF,CAAvC,C,CCAA/P,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCyI,OAAQ,UAD0B,CAElCn+B,YAAaA,QAAQ,CAACutC,CAAD,CAAW,CAC/B,IAAA,CAAKA,QAAL,CAAgBA,CAChB,KAAA,CAAK95B,GAAL,CAAW,EACX,KAAA,CAAK85B,QAAL,CAAcv1B,OAAd,CAAsB,QAAQ,CAACw1B,CAAD,CAAUznC,CAAV,CAAiB,CAC9CynC,CAAA,CAAQx1B,OAAR,CAAgB,QAAQ,CAACy1B,CAAD,CAAI,CAC3B,IAAA,CAAKh6B,GAAL,CAASg6B,CAAT,CAAA,CAAY1nC,CADe,CAA5B,CAEG,IAFH,CAD8C,CAA/C,CAIG,IAJH,CAH+B,CAFE,CAWlC2nC,YAAaA,QAAQ,CAAC7pC,CAAD,CAAQ,CAC5B,IAAI0pC,EAAW,EACX/tC,IAAA,CAAIy2B,QAAJ,CAAapyB,CAAb,CAAJ,GAA0BA,CAA1B,CAAkC,CAACA,CAAD,CAAlC,CACIrE,IAAA,CAAIw9B,OAAJ,CAAYn5B,CAAZ,CAAJ,EACCA,CAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACR6G,IAAAA,EAApB,EAAI,IAAA,CAAKwN,GAAL,CAASrU,CAAT,CAAJ,EACCmuC,CAAA,CAAS/oC,IAAT,CAAcZ,KAAd,CAAoB2pC,CAApB,CAA8B,IAAA,CAAKA,QAAL,CAAc,IAAA,CAAK95B,GAAL,CAASrU,CAAT,CAAd,CAA9B,CAF2B,CAA7B,CAIG,IAJH,CAMD,OAAOmuC,EAVqB,CAXK,CAAnC,C,CCAA/tC,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCY,OAAQ,CAAC,0BAAD,CAD8B,CAEtCoB,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJkX,eAAgB1nC,IAAAA,EADZ,CAEJ2nC,iBAAkB3nC,IAAAA,EAFd,CAHG,CAF6B,CAWtC4nC,qBAAsBA,QAAQ,CAACC,CAAD,CAAW,CACxC,IAAIlM,EAAQ,IACZpiC,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC/BxxB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,aAAd,CADwB,CAE/BiB,MAAO,CAAA,CAFwB,CAG/BC,MAAO,CACN74B,MAAO,MADD,CAEN64B,MAAO,CAAC74B,MAAO,iBAAR,CAFD,CAGNG,UAAW,CACVC,YAAaA,QAAQ,CAACw5B,CAAD,CAAO,CAE3BA,CAAA,CAAK2H,OAAL,EAAA,CAAeG,SAAf,CAAyBN,CAAA,CAAMhL,YAAN,CAAmB,CAAC,kBAAD,CAAoB,gBAApB,CAAnB,CAAzB,CAF2B,CADlB,CAHL,CAUNkD,QAAS,CAAC,CACA3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADN,CAEGU,MAAO,mBAFV;AAGHmB,KAAM,CAHH,CAIAD,GAAI,iBAJJ,CAKHjB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CALpB,CAAD,CAQP,CACQhb,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADd,CAEDU,MAAO,mBAFN,CAGQmB,KAAM,CAHd,CAIKlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIO,EAASP,CAAA,CAAIC,EAAJ,CAAO,MAAP,CAAA,CAAeO,SAAf,EACbmH,EAAA,CAAMvV,YAAN,CAAmBmO,CAAnB,CACAoH,EAAA,CAAMmM,kBAAN,CAAyBD,CAAzB,CACA7T,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAJsB,CAJ5B,CAUKz4B,MAAO,IAVZ,CARO,CAVH,CAHwB,CAkC/Bi5B,YAAa,CAlCkB,CAAhC,CAAA,CAmCG3Z,IAnCH,EAFwC,CAXH,CAmDnC+sB,mBAAoBA,QAAQ,CAACD,CAAD,CAAW,CACrCnK,CAAAA,CAAM,IAAA,CAAK6H,cAAL,EAAN7H,CAA4B,UAA5BA,CAAuCmK,CAAvCnK,CAAgD,kFAAhDA,CACoCmK,CADpCnK,CAC6C,MAD7CA,EAEF,IAAA,CAAK7Z,WAAL,CAAiB,gBAAjB,CAAA,CAAqC,kBAArC;AAAwD,IAAA,CAAKA,WAAL,CAAiB,gBAAjB,CAAxD,CAA6F,EAF3F6Z,GAGF,IAAA,CAAK7Z,WAAL,CAAiB,kBAAjB,CAAA,CAAuC,oBAAvC,CAA4D,IAAA,CAAKA,WAAL,CAAiB,kBAAjB,CAA5D,CAAmG,EAHjG6Z,CAIJ,KAAA,CAAKE,OAAL,CAAaF,CAAb,CALyC,CAnDJ,CAAvC,C,CCAAnkC,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCsY,WAAY,IADqB,CAGjCC,cAAeA,QAAQ,CAAC3tC,CAAD,CAAKic,CAAL,CAAW,CACjC,IAAI2xB,EAAa1uC,GAAA,CAAI0qC,MAAJ,CAAW3tB,CAAX,CAEjB,IAAI2xB,CAAJ,CAAe9rC,MAAf,CAAwB,IAAxB,CAA6B4rC,UAA7B,CAAyC,CAExC,IAAInQ,EAAM,IAAIr+B,GAAJ,CAAQ89B,QAAlB,CAEI6Q,EAAY/oC,IAAA,CAAK8qB,IAAL,CAAUge,CAAV,CAAqB9rC,MAArB,CAA8B,IAA9B,CAAmC4rC,UAAnC,CAFhB,CAIII,EAAW,EACf,KAASjsC,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBgsC,CAApB,CAA+BhsC,CAAA,EAA/B,CACCisC,CAAA,CAAS5pC,IAAT,CAAclE,CAAd,CAAiB,QAAjB,CAA0B6B,CAA1B,CAED,KAAA,CAAKksC,QAAL,CAAc/tC,CAAd,CAAiB,YAAjB,CAA+Bd,GAAA,CAAI0qC,MAAJ,CAAWkE,CAAX,CAA/B,CAAA,CAAqDvY,IAArD,CAA0D,QAAQ,EAAG,CAGpE,IAFA,IAAIyY,EAAa,CAAjB,CACIC,EAAY,CADhB,CAESpsC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBgsC,CAApB,CAA+BhsC,CAAA,EAA/B,CAAoC,CACnC,IAAIqsC,EAAcN,CAAA,CAAWO,MAAX,CAAkBF,CAAlB,CAA6B,IAA7B,CAAkCP,UAAlC,CAElB,KAAA,CAAKK,QAAL,CAAcD,CAAA,CAASjsC,CAAT,CAAd,CAA2BqsC,CAA3B,CAAA,CAAwC3Y,IAAxC,CAA6C,QAAQ,EAAG,CACvDyY,CAAA,EACIA,EAAJ,EAAkBH,CAAlB,EACCtQ,CAAA,CAAIK,OAAJ,EAHsD,CAAxD,CAKG,QAAQ,EAAG,CACbL,CAAA,CAAI6Q,MAAJ,EADa,CALd,CAOG,IAPH,CAOS,IAPT,CASAH,EAAA,EAAa,IAAb,CAAkBP,UAZiB,CAHgC,CAArE,CAiBG,QAAQ,EAAG,CACbnQ,CAAA,CAAI6Q,MAAJ,EADa,CAjBd,CAmBG,IAnBH,CAmBS,IAnBT,CAqBA;MAAO7Q,EAAP,CAAWL,OA/B6B,CAiCxC,MAAO,KAAA,CAAK6Q,QAAL,CAAc/tC,CAAd,CAAkB4tC,CAAlB,CApCyB,CAHD,CA2CjCG,SAAUA,QAAQ,CAAC/tC,CAAD,CAAK4tC,CAAL,CAAiB,CAClC,IAAIrQ,EAAM,IAAIr+B,GAAJ,CAAQ89B,QAClB99B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACPjL,IAAK,IAAA,CAAK6H,cAAL,EADE,CAEP5a,OAAQ,CACJgS,KAAM,yBADF,CAEJiM,WAAYvuC,CAFR,CAGJ2tC,cAAeC,CAHX,CAFD,CAAjB,CAAA,CAOSrY,IAPT,CAOc,QAAQ,CAAC2J,CAAD,CAAW,CACvB3B,CAAA,CAAIK,OAAJ,EADuB,CAPjC,CASS,QAAQ,CAACsB,CAAD,CAAW,CAClB3B,CAAA,CAAI6Q,MAAJ,EADkB,CAT5B,CAaA,OAAO7Q,EAAP,CAAWL,OAfuB,CA3CF,CA6DjCsR,kBAAmBA,QAAQ,CAACxuC,CAAD,CAAK,CAC/B,IAAIu9B,EAAM,IAAIr+B,GAAJ,CAAQ89B,QAElB99B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACPjL,IAAK,IAAA,CAAK6H,cAAL,EADE,CAEP5a,OAAQ,CACJgS,KAAM,yBADF,CAEJmM,iBAAkBzuC,CAAlByuC,CAAqB,YAFjB,CAFD,CAAjB,CAAA,CAMSlZ,IANT,CAMc,QAAQ,CAAC2J,CAAD,CAAW,CAE1B,CADIvhB,CACJ,CADWze,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACX,GAAY1hB,CAAZ,CAAiBgxB,cAAjB;AAAmChxB,CAAnC,CAAwCgxB,cAAxC,CAAuD3uC,EAAvD,EAAuF,EAAvF,EAA6D2d,CAA7D,CAAkEgxB,cAAlE,CAAiF3uC,EAAjF,CAEI,IAAA,CAAK4uC,YAAL,CAAkBjxB,CAAlB,CAAuBgxB,cAAvB,CAAsC3uC,EAAtC,CAA0C,CAAA,CAA1C,CAAA,CAAiDu1B,IAAjD,CAAsD,QAAQ,CAACuY,CAAD,CAAW,CAGxE,IAFA,IAAIe,EAAW,EAAf,CACUC,EAAa,EADvB,CAESjtC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBisC,CAApB,CAA6BhsC,MAA7B,CAAqCD,CAAA,EAArC,CACC,IAAA,CAAK+sC,YAAL,CAAkBd,CAAA,CAASjsC,CAAT,CAAlB,CAA+B,CAAA,CAA/B,CAAA,CAAqC0zB,IAArC,CAA0C,QAAQ,CAAC2J,CAAD,CAAW,CAG5D4P,CAAA,CAFc5P,CAAA6P,CAAS,CAATA,CAEd,CAAA,CADY7P,CAAAngC,CAAS,CAATA,CAGRgO,EAAAA,CAAO,CAAA,CACX,KAAK,IAAIgF,EAAI+7B,CAAJ/7B,CAAajQ,MAAbiQ,CAAoB,CAA7B,CAAqC,CAArC,EAAgCA,CAAhC,CAAwCA,CAAA,EAAxC,CACC,GAAgCpM,IAAAA,EAAhC,GAAImpC,CAAA,CAAWhB,CAAA,CAAS/7B,CAAT,CAAX,CAAJ,CAA2C,CAC1ChF,CAAA,CAAO,CAAA,CACP,MAF0C,CAM5C,GAAIA,CAAJ,CAAU,CACT,IAASgF,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB+7B,CAApB,CAA6BhsC,MAA7B,CAAqCiQ,CAAA,EAArC,CACC88B,CAAA,EAAYC,CAAA,CAAWhB,CAAA,CAAS/7B,CAAT,CAAX,CAEbwrB,EAAA,CAAIK,OAAJ,CAAY1+B,GAAA,CAAIwvC,MAAJ,CAAWG,CAAX,CAAZ,CAJS,CAbkD,CAA7D,CAmBG,QAAQ,EAAG,CACJtR,CAAA,CAAI6Q,MAAJ,EADI,CAnBd,CAqBS,IArBT,CAqBe,IArBf,CAJuE,CAAzE,CA2BG,QAAQ,EAAG,CACb7Q,CAAA,CAAI6Q,MAAJ,EADa,CA3Bd,CA6BG,IA7BH,CA6BS,IA7BT,CAFJ,CAkCL,IAAA,CAAKQ,YAAL,CAAkB5uC,CAAlB,CAAsB,CAAA,CAAtB,CAAA,CAA6Bu1B,IAA7B,CAAkC,QAAQ,CAACx2B,CAAD,CAAQ,CACjDw+B,CAAA,CAAIK,OAAJ,CAAY7+B,CAAZ,CADiD,CAAlD,CAEG,QAAQ,EAAG,CACbw+B,CAAA,CAAI6Q,MAAJ,EADa,CAFd,CAIG,IAJH,CAIS,IAJT,CApC+B,CANjC,CAgDS,QAAQ,EAAG,CACb7Q,CAAA,CAAI6Q,MAAJ,EADa,CAhDpB;AAkDS,IAlDT,CAkDe,IAlDf,CAoDA,OAAO7Q,EAAP,CAAWL,OAvDoB,CA7DC,CAuHjC0R,aAAcA,QAAQ,CAAC5uC,CAAD,CAAKgvC,CAAL,CAAc,CACnC,IAAIzR,EAAM,IAAIr+B,GAAJ,CAAQ89B,QAElB99B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACPjL,IAAK,IAAA,CAAK6H,cAAL,EADE,CAEP5a,OAAQ,CACJgS,KAAM,yBADF,CAEJ2M,mBAAoBjvC,CAFhB,CAGJkvC,YAAa,CAAA,CAHT,CAFD,CAAjB,CAAA,CAOS3Z,IAPT,CAOc,QAAQ,CAAC2J,CAAD,CAAW,CAC1B,IAAIvhB,EAAOze,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACPr/B,EAAAA,CAAK2d,CAAL3d,CAAU2uC,cAAV3uC,CAAyBA,EACzBjB,EAAAA,CAAQ4e,CAAR5e,CAAa4vC,cAAb5vC,CAA4BowC,QACZ,EAApB,EAAIpwC,CAAJ,CAAU+C,MAAV,CACCy7B,CAAA,CAAI6Q,MAAJ,EADD,CAGgB,CAAf,EAAIY,CAAJ,EACCjwC,CACA,CADQG,GAAA,CAAIwvC,MAAJ,CAAW3vC,CAAX,CACR,CAAAw+B,CAAA,CAAIK,OAAJ,CAAY7+B,CAAZ,CAFD,EAICw+B,CAAA,CAAIK,OAAJ,CAAY,CAAC59B,CAAD,CAAKjB,CAAL,CAAZ,CAXwB,CAPjC,CAqBS,QAAQ,EAAG,CACbw+B,CAAA,CAAI6Q,MAAJ,EADa,CArBpB,CAuBS,IAvBT,CAuBe,IAvBf,CAyBA,OAAO7Q,EAAP,CAAWL,OA5BwB,CAvHH,CAAlC,C,CCaAh+B,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CACxCga,cAAe,EADyB,CAGxC1vC,YAAaA,QAAQ,EAAG,CACpB,IAAI2vC,EAA8B,CAC9B,CAAC,KAAO,GAAR,CAAa,QAAU,yMAAvB,CAD8B,CAE9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAF8B,CAG9B,CAAC,KAAO,IAAR,CAAa,QAAU,oBAAvB,CAH8B,CAI9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAJ8B,CAK9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAL8B,CAM9B,CAAC,KAAO,IAAR,CAAa,QAAU,cAAvB,CAN8B,CAO9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAP8B;AAQ9B,CAAC,KAAO,GAAR,CAAa,QAAU,mDAAvB,CAR8B,CAS9B,CAAC,KAAO,GAAR,CAAa,QAAU,qEAAvB,CAT8B,CAU9B,CAAC,KAAO,GAAR,CAAa,QAAU,uFAAvB,CAV8B,CAW9B,CAAC,KAAO,IAAR,CAAa,QAAU,cAAvB,CAX8B,CAY9B,CAAC,KAAO,IAAR,CAAa,QAAU,cAAvB,CAZ8B,CAa9B,CAAC,KAAO,GAAR,CAAa,QAAU,iLAAvB,CAb8B;AAc9B,CAAC,KAAO,GAAR,CAAa,QAAU,iCAAvB,CAd8B,CAe9B,CAAC,KAAO,GAAR,CAAa,QAAU,uFAAvB,CAf8B,CAgB9B,CAAC,KAAO,GAAR,CAAa,QAAU,iFAAvB,CAhB8B,CAiB9B,CAAC,KAAO,GAAR,CAAa,QAAU,qHAAvB,CAjB8B,CAkB9B,CAAC,KAAO,GAAR,CAAa,QAAU,2BAAvB,CAlB8B,CAmB9B,CAAC,KAAO,GAAR,CAAa,QAAU,iFAAvB,CAnB8B;AAoB9B,CAAC,KAAO,GAAR,CAAa,QAAU,yGAAvB,CApB8B,CAqB9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CArB8B,CAsB9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAtB8B,CAuB9B,CAAC,KAAO,GAAR,CAAa,QAAU,6CAAvB,CAvB8B,CAwB9B,CAAC,KAAO,GAAR,CAAa,QAAU,6FAAvB,CAxB8B,CAyB9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAzB8B,CA0B9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CA1B8B,CA2B9B,CAAC,KAAO,GAAR,CAAa,QAAU,+PAAvB,CA3B8B;AA4B9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CA5B8B,CA6B9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CA7B8B,CA8B9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CA9B8B,CA+B9B,CAAC,KAAO,IAAR,CAAa,QAAU,cAAvB,CA/B8B,CAgC9B,CAAC,KAAO,IAAR,CAAa,QAAU,cAAvB,CAhC8B,CAiC9B,CAAC,KAAO,GAAR,CAAa,QAAU,yDAAvB,CAjC8B,CAkC9B,CAAC,KAAO,GAAR,CAAa,QAAU,iCAAvB,CAlC8B,CAmC9B,CAAC,KAAO,GAAR,CAAa,QAAU,mGAAvB,CAnC8B,CAoC9B,CAAC,KAAO,GAAR,CAAa,QAAU,mGAAvB,CApC8B;AAqC9B,CAAC,KAAO,GAAR,CAAa,QAAU,uFAAvB,CArC8B,CAsC9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAtC8B,CAuC9B,CAAC,KAAO,GAAR,CAAa,QAAU,yMAAvB,CAvC8B,CAwC9B,CAAC,KAAO,GAAR,CAAa,QAAU,6CAAvB,CAxC8B,CAyC9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAzC8B,CA0C9B,CAAC,KAAO,GAAR,CAAa,QAAU,yDAAvB,CA1C8B;AA2C9B,CAAC,KAAO,GAAR,CAAa,QAAU,2BAAvB,CA3C8B,CA4C9B,CAAC,KAAO,GAAR,CAAa,QAAU,uFAAvB,CA5C8B,CA6C9B,CAAC,KAAO,GAAR,CAAa,QAAU,iFAAvB,CA7C8B,CA8C9B,CAAC,KAAO,GAAR,CAAa,QAAU,+MAAvB,CA9C8B,CA+C9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CA/C8B;AAgD9B,CAAC,KAAO,IAAR,CAAa,QAAU,oBAAvB,CAhD8B,CAiD9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAjD8B,CAkD9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAlD8B,CAmD9B,CAAC,KAAO,IAAR,CAAa,QAAU,cAAvB,CAnD8B,CAoD9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CApD8B,CAqD9B,CAAC,KAAO,GAAR,CAAa,QAAU,mDAAvB,CArD8B,CAsD9B,CAAC,KAAO,GAAR,CAAa,QAAU,2EAAvB,CAtD8B,CAuD9B,CAAC,KAAO,GAAR,CAAa,QAAU,iFAAvB,CAvD8B,CAwD9B,CAAC,KAAO,IAAR,CAAa,QAAU,cAAvB,CAxD8B,CAyD9B,CAAC,KAAO,GAAR,CAAa,QAAU,uLAAvB,CAzD8B;AA0D9B,CAAC,KAAO,GAAR,CAAa,QAAU,iCAAvB,CA1D8B,CA2D9B,CAAC,KAAO,GAAR,CAAa,QAAU,uFAAvB,CA3D8B,CA4D9B,CAAC,KAAO,GAAR,CAAa,QAAU,uFAAvB,CA5D8B,CA6D9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CA7D8B,CA8D9B,CAAC,KAAO,GAAR,CAAa,QAAU,qHAAvB,CA9D8B,CA+D9B,CAAC,KAAO,GAAR,CAAa,QAAU,iCAAvB,CA/D8B,CAgE9B,CAAC,KAAO,GAAR,CAAa,QAAU,iFAAvB,CAhE8B;AAiE9B,CAAC,KAAO,GAAR,CAAa,QAAU,+GAAvB,CAjE8B,CAkE9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAlE8B,CAmE9B,CAAC,KAAO,GAAR,CAAa,QAAU,6CAAvB,CAnE8B,CAoE9B,CAAC,KAAO,GAAR,CAAa,QAAU,mGAAvB,CApE8B,CAqE9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CArE8B,CAsE9B,CAAC,KAAO,GAAR,CAAa,QAAU,+PAAvB,CAtE8B;AAuE9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAvE8B,CAwE9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAxE8B,CAyE9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAzE8B,CA0E9B,CAAC,KAAO,GAAR,CAAY,QAAU,yDAAtB,CA1E8B,CA2E9B,CAAC,KAAO,GAAR,CAAY,QAAU,iCAAtB,CA3E8B,CA4E9B,CAAC,KAAO,GAAR,CAAY,QAAU,mGAAtB,CA5E8B,CA6E9B,CAAC,KAAO,GAAR,CAAY,QAAU,yGAAtB,CA7E8B,CA8E9B,CAAC,KAAO,GAAR,CAAY,QAAU,6FAAtB,CA9E8B;AA+E9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CA/E8B,CAgF9B,CAAC,KAAO,GAAR,CAAY,QAAW,yMAAvB,CAhF8B,CAiF9B,CAAC,KAAO,GAAR,CAAY,QAAU,6CAAtB,CAjF8B,CAkF9B,CAAC,KAAO,IAAR,CAAa,QAAU,QAAvB,CAlF8B,CAmF9B,CAAC,KAAO,GAAR,CAAY,QAAU,+DAAtB,CAnF8B,CAoF9B,CAAC,KAAO,GAAR,CAAY,QAAU,2BAAtB,CApF8B,CAqF9B,CAAC,KAAO,GAAR,CAAY,QAAU,6FAAtB,CArF8B;AAsF9B,CAAC,KAAO,GAAR,CAAY,QAAU,iFAAtB,CAtF8B,CAyFlC,KAAA,CAAKD,aAAL,CAAqB,EACrB,KAAK,IAAIvtC,EAAE,CAAX,CAAcA,CAAd,CAAkBwtC,CAAlB,CAA+CvtC,MAA/C,CAAuDD,CAAA,EAAvD,CAEI,IADA,IAAIytC,EAAUD,CAAA,CAA6BxtC,CAA7B,CAAVytC,CAA0CA,OAA9C,CACSv9B,EAAE,CAAX,CAAcA,CAAd,CAAkBu9B,CAAlB,CAA0BxtC,MAA1B,CAAmCiQ,CAAA,EAAnC,CACI,IAAA,CAAKq9B,aAAL,CAAmBE,CAAA,CAAQv9B,CAAR,CAAnB,CAAA,CAAiCs9B,CAAA,CAA6BxtC,CAA7B,CAAjC,CAAiE0tC,IA9FrD,CAHgB,CAuGxCC,iBAAkBA,QAAQ,CAAC7F,CAAD,CAAM,CAC5B,MAAOA,EAAA,CAAI5mC,OAAJ,CAAY,mBAAZ,CAAiC,QAAQ,CAACoe,CAAD,CAAG,CAC/C,MAAO,KAAA,CAAKiuB,aAAL,CAAmBjuB,CAAnB,CAAP,EAAgCA,CADe,CAAX,CAEtCtgB,IAFsC,CAEjC,IAFiC,CAAjC,CADqB,CAvGQ,CAA5C,C,CCbA3B,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCC,aAAc,CAAC,MAAD,CADyB,CAUvC3U,KAAMA,QAAQ,CAACyI,CAAD,CAAM,CACnB,GAAI,IAAJ,CAASoM,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP6F,KAAA,CAAKzK,IAAL,CAAU,IAAV,CAAgB,IAAA,CAAKw5B,SAAL,CAAiB,IAAA,CAAKA,SAAL,CAAetmB,CAAf,CAAjB,CAAuC,IAAA,CAAKsS,QAAL,EAAvD,CAAwE,CAAC,IAAD,CAAMgU,SAAN,EAAmBvwC,GAAA,CAAIwwC,QAAJ,CAAavmB,CAAb,CAAnB,CAAuCA,CAAvC,CAA6CxjB,IAAAA,EAArH,CAJkB,CAVmB,CAiBvCyxB,QAAS,CACR1W,KAAMA,QAAQ,CAACivB,CAAD,CAAWxmB,CAAX,CAAgB,CAC7B,GAAI,IAAJ,CAASoM,IAAT,CAAe,CACd,IAAIqa,EAAMD,CACV,KAAA,CAAKpa,IAAL,CAAU,QAAQ,CAACzH,CAAD,CAAM,CACvBpN,IAAA,CAAKzK,IAAL,CAAU6X,CAAV,CAAeA,CAAf,CAAoB8hB,CAApB,CADuB,CAAxB,CAFc,CAAf,IAMC,IAAiBjqC,IAAAA,EAAjB,GAAIgqC,CAAJ,CAAA,CAIA,GAAIzwC,GAAA,CAAIw9B,OAAJ,CAAYiT,CAAZ,CAAJ,CAA2B,CAC1B,IAAIE,EAAc,EAClBF,EAAA,CAASj4B,OAAT,CAAiB,QAAQ,CAACo4B,CAAD,CAAU,CAClCD,CAAA,EAAeC,CAAA,CAAQL,SAAR,CAAoBK,CAAA,CAAQL,SAAR,EAApB,CAA0CK,CAAA,CAAQrU,QAAR,EADvB,CAAnC,CAGAkU,EAAA,CAAWE,CALe,CAA3B,IAMO,IAAI3wC,GAAA,CAAIy2B,QAAJ,CAAa,IAAb,CAAJ;AAA0B,IAA1B,WAA0C0P,OAA1C,CACFnmC,GAAA,CAAIwwC,QAAJ,CAAaC,CAAb,CACJ,GAD6BxmB,CAC7B,CADmCwmB,CACnC,EAAAA,CAAA,CAAW,IAEZ,IAAIA,CAAJ,CAAapa,IAAb,CACC,MAAOoa,EAAA,CAASpa,IAAT,CAAc,QAAQ,CAAC1W,CAAD,CAAO,CAAC6B,IAAA,CAAK7B,CAAL,CAAWsK,CAAX,CAAD,CAA7B,CAEJwmB,EAAJ,CAAaI,MAAb,CAAsBJ,CAAtB,CAA+BA,CAAA,CAASI,MAAT,EAA/B,CACSJ,CAAJ,CAAaF,SAAb,CAAyBE,CAAzB,CAAkCA,CAAA,CAASF,SAAT,EAAlC,CACIE,CADJ,CACalU,QADb,GACwBkU,CADxB,CACiCA,CAAA,CAASlU,QAAT,EADjC,CAIDkU,EAAJ,CAAapa,IAAb,CACCoa,CAAA,CAASpa,IAAT,CAAc,QAAQ,CAAC1W,CAAD,CAAO,CAAC6B,IAAA,CAAK7B,CAAL,CAAWsK,CAAX,CAAD,CAA7B,CADD,EAGKA,CAEJ,EAFWjqB,GAAA,CAAIwwC,QAAJ,CAAavmB,CAAb,CAEX,GAF+BwmB,CAE/B,CAF0CA,CAAA,CAASza,SAAT,CAAmB,CAAnB,CAAqB/L,CAArB,CAE1C,EADgD,CAChD,EADIqM,MACJ,CADWwa,QACX,CADoB7wC,IACpB,CADyB8wC,IACzB,CAD8BC,gBAC9B,GADwDP,CACxD,CADiE,cACjE,CADgFna,MAChF,CADuFwa,QACvF,CADgG7wC,IAChG,CADqG8wC,IACrG,CAD0GE,IAC1G,CAD+G,IAC/G,CADoHR,CACpH,CAD6H,QAC7H,EAAAna,MAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB8wC,IAArB,CAA0BG,MAA1B,CAAiCC,UAAjC,CAA4C,WAA5C,CAAwDV,CAAxD,CALD,CAtBA,CAP4B,CADtB,CAuCR/Z,UAAWA,QAAQ,CAACmI,CAAD,CAAQuS,CAAR,CAAc,CAChC,IAAIC,EAAO/a,MAAP+a,CAAcP,QAAdO,CAAuBpxC,IAAvBoxC,CAA4BN,IAA5BM,CAAiCJ,IACrC3a,OAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB8wC,IAArB,CAA0BE,IAA1B;AAA+B,OAE3B,KAAJ,WAAoB3a,OAApB,CAA2Br2B,IAA3B,CAAgCqxC,aAAhC,GACCzS,CADD,CACS,IADT,CAGIA,EAAJ,WAAqBvI,OAArB,CAA4Br2B,IAA5B,CAAiCqxC,aAAjC,EACKC,OAEJ,EAFcA,OAAA,CAAQ1S,KAAR,CAAcA,CAAA,CAAM2S,WAAN,EAAd,CAEd,CADAJ,CACA,CADOvS,CAAA,CAAM2S,WAAN,EACP,CAD2BrR,YAC3B,CAAAtB,CAAA,CAAQA,CAAA,CAAMS,MAAN,EAHT,GAQe74B,IAAAA,EACd,GADIo4B,CACJ,EAD2BA,CAC3B,CADiC4S,KACjC,EAD0C,CAACL,CAC3C,GADkDA,CAClD,CADuDvS,CACvD,CAD6D4S,KAC7D,EAAIL,CAAJ,EAAiC,CAAA,CAAjC,GAAYpxC,GAAA,CAAIy2B,QAAJ,CAAa2a,CAAb,CAAZ,GAAyCA,CAAzC,CAA8CA,CAAA,CAAK7U,QAAL,EAA9C,CATD,CAaIgV,QAAJ,EAAcA,OAAA,CAAQ1S,KAAR,CAAcA,CAAd,CACVuS,EAAJ,GACKG,OACJ,EADcA,OAAA,CAAQ1S,KAAR,CAAcuS,CAAd,CACd,CAAAvS,CAAA,CAAM,MAAN,CAAaA,CAAA,CAAMtC,QAAN,EAAb,CAA8B,YAA9B,CAA2Cv8B,GAAA,CAAImmC,MAAJ,CAAWuL,UAAX,CAAsBN,CAAtB,CAA3C,CAAuE,QAFxE,CAIA5vB,KAAA,CAAKqd,CAAL,CACAvI,OAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB8wC,IAArB,CAA0BE,IAA1B,CAAiCI,CA1BD,CAvCzB,CAmERH,OAAS,IAnED,CAoERD,KAAM,MApEE,CAqERD,iBAAmB,CAAA,CArEX,CAjB8B,CAAxC,CA2FA;IAAIxvB,KADJ2kB,MACI3kB,CADGjhB,SACHihB,CADaA,IACbA,CADoB8U,MACpB9U,CAD2BsvB,QAC3BtvB,CADoCvhB,IACpCuhB,CADyCuvB,IACzCvvB,CAD8CA,IAClD,CACIkV,UAAYJ,MAAZI,CAAmBoa,QAAnBpa,CAA4Bz2B,IAA5By2B,CAAiCqa,IAAjCra,CAAsCA,S,CC5F1C12B,GAAA,CAAIk2B,MAAJ,CAAW,4BAAX,CAAyC,CACxCC,aAAc,CAAC,OAAD,CAD0B,CAExCwb,MAAOA,QAAQ,EAAG,CACjBA,KAAA,CAAMvtC,KAAN,CAAY,IAAZ,CAAkBuX,SAAlB,CADiB,CAFsB,CAKxCnb,YAAaA,QAAQ,CAACrC,CAAD,CAAS,EALU,CAQxC+5B,QAAS,CACRG,KAAM,EADE,CAERpB,IAAK,CACJ2a,mBAAoBnrC,IAAAA,EADhB,CAEJorC,eAAgBprC,IAAAA,EAFZ,CAFG,CAMRkrC,MAAOA,QAAQ,CAACG,CAAD,CAAM3zC,CAAN,CAAc,CAC5B,GAAI,IAAJ,CAASk4B,IAAT,CACC,IAAA,CAAKA,IAAL,CAAU,QAAQ,CAAC0b,CAAD,CAAW,CAC5BJ,KAAA,CAAM56B,IAAN,CAAWg7B,CAAX,CAAqBD,CAArB,CAA0B3zC,CAA1B,CAD4B,CAA7B,CADD,KAIO,IAAI6B,GAAA,CAAIw9B,OAAJ,CAAYsU,CAAZ,CAAJ,CACNxb,MAuBA,CAvBOwa,QAuBP,CAvBgB7wC,IAuBhB,CAvBqB8wC,IAuBrB,CAvB0BC,gBAuB1B,CAvB2C,CAAA,CAuB3C,CAtBAxvB,IAAA,CAAK,aAAL,CAsBA,CArBAswB,CAAA,CAAIt5B,OAAJ,CAAY,QAAQ,CAACw5B,CAAD,CAAa,CAChCxwB,IAAA,CAAK,MAAL,CACIxhB,IAAA,CAAIw9B,OAAJ,CAAYwU,CAAZ,CAAJ,CACKA,CAAA,CAAW,CAAX,CAAJ,CAAkBA,UAAlB,CACCA,CAAA,CAAW,CAAX,CAAA,CAAcL,KAAd,CAAoBvtC,KAApB,CAA0B4tC,CAAA,CAAW,CAAX,CAA1B,CAAyCA,CAAA,CAAWzsC,KAAX,CAAiB,CAAjB,CAAzC,CADD,CAGCosC,KAAA,CAAMvtC,KAAN,CAAY,IAAZ,CAAkB4tC,CAAlB,CAJF,CAOCL,KAAA,CAAMvtC,KAAN,CAAY,IAAZ;AAAkB4tC,CAAlB,CAEDxwB,KAAA,CAAK,OAAL,CAXgC,CAAjC,CAqBA,CADAA,IAAA,CAAK,eAAL,CACA,CAAA8U,MAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB8wC,IAArB,CAA0BC,gBAA1B,CAA2C,CAAA,CAxBrC,KA0BA,CAEFgB,CAAA,IAAAA,CAAKA,UAAT,EAAyBF,CAAzB,EAAgC,CAAA9xC,GAAA,CAAI23B,QAAJ,CAAama,CAAb,CAAhC,GAEK9xC,GAAA,CAAI23B,QAAJ,CAAama,CAAb,CACJ,GADwB3zC,CACxB,CADiC2zC,CACjC,EAAAA,CAAA,CAAM,IAAA,CAAKE,UAAL,CAAgB,CAAhB,CAHP,CAKIhyC,IAAA,CAAIy2B,QAAJ,CAAaqb,CAAb,CAAJ,GACCA,CADD,CACO9xC,GAAA,CAAIg3B,YAAJ,CAAiBib,UAAjB,CAA4B,SAA5B,CAAsCH,CAAA,CAAIzvB,WAAJ,EAAtC,CADP,EACmEriB,GAAA,CAAIg3B,YAAJ,CAAiB7yB,GAAjB,CAAqB2tC,CAArB,CADnE,CAGA,KAAII,EAAa,CAAA,CACjB,IAAIlyC,GAAA,CAAIqmC,UAAJ,CAAeyL,CAAf,CAAJ,CAAyB,CACxB,IAAIxyB,EAAOwyB,CAAA,CAAI5N,OAAJ,EACP,KAAJ,CAAS8N,UAAT,EAqEY,CAAA,CArEZ,GAAuBhyC,GAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe,IAAf,CAAoB6rC,UAApB,CAAgC,QAAQ,CAAC/tB,CAAD,CAAO,CACpE,GAAIA,CAAJ,EAAU3E,CAAV,CAAgB,CACfnhB,CAAA,CAASA,CAAT,EAAmB,EACfg0C,EAAAA,CAAiB,EAErB,KAAKjuC,GAAL,GAAYlE,IAAA,CAAIg3B,YAAJ,CAAiB7yB,GAAjB,CAAqBnE,GAAA,CAAIkoC,YAAJ,CAAiB4J,CAAjB,CAArB,CAAZ,CAAwD7a,GAAxD,CACK/yB,GAAJ,GAAW/F,EAAX,GACCg0C,CAAA,CAAejuC,GAAf,CADD,CACuB/F,CAAA,CAAO+F,GAAP,CADvB,CAID,IAAI,CAACiuC,CAAD,CAAgBxc,MAApB,CACC,GAA4B,0BAA5B;AAAI31B,GAAA,CAAIkoC,YAAJ,CAAiB,IAAjB,CAAJ,CACCiK,CAAA,CAAexc,MAAf,CAAwB,IAAA,CAAKlL,KAAL,EADzB,KAEO,IAAI,IAAJ,CAASF,SAAT,CAAoB,CAC1B,IAAIoL,EAAS,IAAA,CAAKpL,SAAL,EACToL,EAAJ,GACCwc,CADD,CACgBxc,MADhB,CACyB,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EADzB,CAF0B,CAO5BzqB,GAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB+M,MAAO,SAAPA,EAAkB/M,CAAlB+M,CAAyBtK,KAAzBsK,EAAkC,KAAlCA,GAA4ClL,GAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAoByC,KAApB,CAAA,CAA6B,IAA7B,CAAoC,EAAhFsK,EACC,YADDA,EACe/M,CADf+M,CACsBxK,MADtBwK,EACiC,OADjCA,GAC6ClL,GAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAoBuC,MAApB,CAAA,CAA8B,IAA9B,CAAqC,EADlFwK,CADmB,CAApB,CAIA,QAAO/M,CAAP,CAAcyC,KACd,QAAOzC,CAAP,CAAcuC,MAEVi1B,EAAJ,CAAawc,CAAb,CAA4Bxc,MAC5B,QAAOwc,CAAP,CAAsBxc,MAEb31B,IAAA,CAAIo/B,OAAJ,CAAY+S,CAAZ,CAA4B7b,MAAA,CAAOC,WAAP,CAAmB0B,oBAAnB,EAA5B,CAGLma,EAAAA,CAA8BpyC,GAAA,CAAI0qC,MAAJ,CAAWyH,CAAX,CAC9BE,EAAAA,CAAsBxL,kBAAA,CAAmBuL,CAAnB,CAE1B,KAAIE,EAAWtyC,GAAA,CAAIc,EAAJ,EAAf,CACIqjC,EAAM7N,MAAA,CAAOC,WAAP,CAAmBgc,cAAnB,EAANpO,CAA0C,OAA1CA,CAAkD7kB,CAAA,CAAK0W,SAAL,CAAe1W,CAAA,CAAKkzB,WAAL,CAAiB,GAAjB,CAAf;AAAqC,CAArC,CAAlDrO,CAA0F,IAE7F3iB,KAAA,CAAK,iBAAL,CAAuBrjB,CAAvB,CAA8B+M,KAA9B,CAAoC,QAApC,CAA6ConC,CAA7C,CAAsD,UAAtD,CAAiEA,CAAjE,CAA0E,aAA1E,CACA,KAAIjU,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACJ59B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,yBADC,CAEPqL,cAAe4D,CAFR,CAFK,CAAjB,CAAA,CAMGhc,IANH,CAMQ,QAAQ,CAAC2J,CAAD,CAAW,CAEnB5O,CAAAA,CAAS,CACZqhB,QAAS,CAAA,CADG,CAEZC,cAHU1yC,GAAAye,CAAIxe,IAAJwe,CAASkH,IAATlH,CAAc+wB,MAAd/wB,CAAqBuhB,CAArBvhB,CAA8B0hB,YAA9B1hB,CAGVi0B,CAAoBjD,cAApBiD,CAAmC5xC,EAFvB,CAIT60B,EAAJ,GACCvE,CADD,CACQuE,MADR,CACiBA,CADjB,CAGA31B,IAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoBkF,MAAA,CAAOC,WAAP,CAAmB0B,oBAAnB,EAApB,CACA12B,SAAA,CAASC,cAAT,CAAwB8wC,CAAxB,CAAA,CAAkChJ,YAAlC,CAA+C,KAA/C,CAAqDnF,CAArD,CAAyDnkC,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9J,CAAzB,CAAzD,CACTiN,EAAA,CAAIK,OAAJ,EAXgC,CAN3B,CAAA,CAkBGiU,SAlBH,CAkBa,QAAQ,CAAC3S,CAAD,CAAW,CAC/BtJ,SAAA,CAAUsJ,CAAV,CACA3B;CAAA,CAAI6Q,MAAJ,EAF+B,CAlBhC,CAyBPgD,EAAA,CAAa,CAAA,CACb,OAAO,CAAA,CAlEQ,CADoD,CAA/C,CAqEnB,IArEmB,CAAvB,EAsEC5b,MAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB2yC,KAArB,CAA2BC,uBAA3B,CAAmD97B,IAAnD,CAAwD,IAAxD,CAEIm7B,EAAL,GACgBlyC,GAAA+xC,CAAIxZ,MAAJwZ,CAAWD,CAAXC,CAAgB5zC,CAAhB4zC,CACf,CAASJ,KAAT,CAAexzC,CAAf,CACA,CAAA+zC,CAAA,CAAa,CAAA,CAHd,CA1EwB,CAgFpBA,CAAL,EAEC5b,MAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB2yC,KAArB,CAA2BC,uBAA3B,CAAmD97B,IAAnD,CAAwD,IAAxD,CA7FK,CA/BqB,CANrB,CAsIR87B,wBAAyBA,QAAQ,EAAG,CACnC,IAAIjU,EAAMtI,MAANsI,CAAakS,QAAblS,CAAsB3+B,IAAtB2+B,CAA2BgU,KAA3BhU,CAAiCvG,IAAjCuG,CAAsCkU,mBACtC,KAAJ,CAASd,UAAT,GACCpT,CADD,EACQtI,MADR,CACewa,QADf,CACwB7wC,IADxB,CAC6B2yC,KAD7B,CACmCva,IADnC,CACwC0a,SADxC,CACkD,MADlD,CACyD,IAAA,CAAKf,UAAL,CAAgB/9B,GAAhB,CAAoB,QAAQ,CAAC69B,CAAD,CAAM,CACrFkB,CAAAA,CAASlB,CAAA,CAAI9b,SAAJ,CAAc8b,CAAA,CAAIU,WAAJ,CAAgB,GAAhB,CAAd,CAAmC,CAAnC,CAAA,CAAsCnwB,WAAtC,EACb,OAAO,iCAAP,CAAyC2wB,CAAzC,CAAgD,wBAAhD;AAAyEA,CAAzE,CAAgF,OAFS,CAAlC,CAAA,CAGrDxpC,IAHqD,CAGhD,IAHgD,CADzD,CAIe,OAJf,CAMAktB,UAAA,CAAUkI,CAAV,CARmC,CAtI5B,CAR+B,CAAzC,CA4JA+S,MAAA,CAAQrb,MAAR,CAAewa,QAAf,CAAwB7wC,IAAxB,CAA6B2yC,KAA7B,CAAmCjB,K,CC5JnC3xC,GAAA,CAAIk2B,MAAJ,CAAW,iCAAX,CAA8C,CAC1CyI,OAAQ,gBADkC,CAE1CsU,WAAY,MAF8B,CAG1Cza,OAAQ,CACH,CAAClZ,KAAM,MAAP,CADG,CAEH,CAACA,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAFG,CAGH,CAACoV,KAAM,cAAP,CAAuBpV,KAAM,QAA7B,CAHG,CAIH,CAACoV,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAJG,CAKH,CAACoV,KAAM,eAAP,CAAwBpV,KAAM,SAA9B,CALG,CAMH,CAACoV,KAAM,QAAP,CANG,CAHkC,CAA9C,C,CCAAtf,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACpCyI,OAAQ,gBAD4B,CAEpCnG,OAAQ,CACC,CAAClZ,KAAM,IAAP,CADD,CAEC,CAACA,KAAM,UAAP,CAAmB,KAAQ,KAA3B,CAFD,CAGC,CAACA,KAAM,UAAP,CAAmB,KAAQ,KAA3B,CAHD,CAIC,CAACA,KAAM,OAAP,CAJD,CAKC,CAACA,KAAM,MAAP,CALD,CAMC,CAACA,KAAM,SAAP,CAND,CAOC,CAACA,KAAM,MAAP,CAPD,CAQC,CAACA,KAAM,OAAP,CARD,CAF4B,CAahC4zB,YAAaA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK/uC,GAAL,CAAS,UAAT,CAAR,CAbQ,CAchCgvC,QAASA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKhvC,GAAL,CAAS,MAAT,CAAR,CAdY,CAehCivC,UAAWA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKjvC,GAAL,CAAS,QAAT,CAAR,CAfU,CAgBhCkvC,qBAAsBA,QAAQ,EAAG,CAAC,MAAO,wBAAP,CAAgC,IAAA,CAAKD,SAAL,EAAhC,CAAiD,SAAlD,CAhBD,CAiBhCE,SAAUA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKnvC,GAAL,CAAS,OAAT,CAAR,CAjBW,CAkBhCovC,YAAaA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKpvC,GAAL,CAAS,UAAT,CAAR,CAlBQ;AAmBhCqvC,sBAAuBA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKL,OAAL,EAAP,CAAsB,IAAA,CAAKE,oBAAL,EAAtB,CAAkD,IAAA,CAAKC,QAAL,EAAnD,CAnBF,CAAxC,C,CCAAtzC,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CACxCyI,OAAQ,gBADgC,CAExCsU,WAAY,OAF4B,CAGxCza,OAAQ,CACC,CAAClZ,KAAM,OAAP,CADD,CAEC,CAACA,KAAM,OAAP,CAFD,CAGC,CAACA,KAAM,kBAAP,CAA2BpV,KAAM,KAAjC,CAHD,CAHgC,CAQxCupC,SAAUA,QAAQ,EAAG,CACpB,MAAO,KAAA,CAAKtvC,GAAL,CAAS,OAAT,CADa,CARmB,CAWxCuvC,SAAUA,QAAQ,EAAG,CACpB,MAAO,KAAA,CAAKvvC,GAAL,CAAS,OAAT,CADa,CAXmB,CAc3CwvC,oBAAqBA,QAAQ,EAAG,CAC/B,MAAO,KAAA,CAAKxvC,GAAL,CAAS,kBAAT,CADwB,CAdW,CAA5C,C,CCAAnE,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC5CyI,OAAQ,gBADoC,CAE5CnG,OAAQ,CACC,CAAClZ,KAAM,MAAP,CADD,CAEC,CAACA,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAFD,CAGC,CAACoV,KAAM,aAAP,CAHD,CAIC,CAACA,KAAM,oBAAP,CAA6BpV,KAAM,KAAnC,CAJD,CAFoC,CAS5C0pC,QAASA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKC,UAAL,EAAR,CATwB,CAU5CC,WAAYA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKC,iBAAL,EAAR,CAVqB,CAW5CF,WAAYA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK1vC,GAAL,CAAS,MAAT,CAAR,CAXqB,CAY5C4vC,kBAAmBA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK5vC,GAAL,CAAS,SAAT,CAAR,CAZc,CAa5C6vC,eAAgBA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK7vC,GAAL,CAAS,aAAT,CAAR,CAbiB,CAc5C8vC,sBAAuBA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK9vC,GAAL,CAAS,oBAAT,CAAR,CAdU,CAAhD,C,CCGAnE,GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CACvCyI,OAAQ,gBAD+B,CAEvCsU,WAAY,MAF2B,CAGvCza,OAAQ,CACC,CAAClZ,KAAM,IAAP,CADD,CAEC,CAACA,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAFD,CAGC,CAACoV,KAAM,kBAAP,CAA2BpV,KAAM,KAAjC,CAHD,CAIC,CAACoV,KAAM,cAAP,CAAuBpV,KAAM,OAA7B,CAJD,CAKC,CAACoV,KAAM,oBAAP,CAA6BpV,KAAM,OAAnC,CALD,CAMC,CAACoV,KAAM,kBAAP,CAA2BpV,KAAM,OAAjC,CAND,CAOC,CAACoV,KAAM,kCAAP,CAA2CpV,KAAM,OAAjD,CAPD,CAQC,CAACoV,KAAM,eAAP,CARD,CASC,CAACA,KAAM,wBAAP,CAAiCpV,KAAM,OAAvC,CAAgDgqC,UAAYA,QAAQ,CAACn3B,CAAD,CAAO,CAC7E,MAAOA,EAAA,CAAK,oBAAL,CAAP,CAAkCA,CAAA,CAAK,qBAAL,CAD2C,CAA3E,CATD,CAH+B,CAqBvC62B,QAASA,QAAQ,EAAG,CACnB,MAAO,KAAA,CAAKzvC,GAAL,CAAS,MAAT,CADY,CArBmB;AA6B1C2vC,WAAYA,QAAQ,EAAG,CACtB,MAAO9oB,SAAA,CAAS,IAAA,CAAK7mB,GAAL,CAAS,SAAT,CAAT,CADe,CA7BmB,CAiC1CwvC,oBAAqBA,QAAQ,EAAG,CAC/B,MAAO3oB,SAAA,CAAS,IAAA,CAAK7mB,GAAL,CAAS,kBAAT,CAAT,CADwB,CAjCU,CAqC1CgwC,iBAAkBA,QAAQ,EAAG,CAC5B,MAAO,KAAA,CAAKhwC,GAAL,CAAS,eAAT,CADqB,CArCa,CA4C1Cqd,KAAMA,QAAQ,CAACrjB,CAAD,CAAS,CACtBqjB,IAAA,CAAK,IAAA,CAAK+uB,SAAL,CAAepyC,CAAf,CAAL,CADsB,CA5CmB,CAgD1CoyC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAKqD,OAAL,EAAP,CAAsB,IAAtB,CAA2B,IAAA,CAAKE,UAAL,EADN,CAhDoB,CAA3C,C,CCHA9zC,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CACxCyI,OAAQ,gBADgC,CAExCnG,OAAQ,CACC,CAAClZ,KAAM,MAAP,CADD,CAEC,CAACA,KAAM,QAAP,CAAiBpV,KAAM,KAAvB,CAFD,CAGC,CAACoV,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAHD,CAIC,CAACoV,KAAM,eAAP,CAJD,CAFgC,CAQxCs0B,QAASA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKzvC,GAAL,CAAS,MAAT,CAAR,CARoB,CAA5C,C,CCAAnE,GAAA,CAAIk2B,MAAJ,CAAW,6BAAX,CAA0C,CACtCyI,OAAQ,gBAD8B,CAEtCnG,OAAQ,CACJ,CAAClZ,KAAM,YAAP,CAAqBpV,KAAM,QAA3B,CADI,CAF8B,CAA1C,C,CCAAlK,GAAA,CAAIk2B,MAAJ,CAAW,4BAAX,CAAyC,CACrCyI,OAAQ,gBAD6B,CAGrCnG,OAAQ,CACC,CAAClZ,KAAM,QAAP,CADD,CAER,CAACA,KAAM,IAAP,CAFQ,CAGR,CAACA,KAAM,QAAP,CAHQ,CAIC,CAACA,KAAM,SAAP,CAJD,CAKC,CAACA,KAAM,WAAP,CALD,CAMC,CAACA,KAAM,UAAP,CAND,CAOC,CAACA,KAAM,SAAP,CAPD,CAQC,CAACA,KAAM,YAAP,CARD,CASC,CAACA,KAAM,OAAP,CAAgBpV,KAAM,KAAtB,CATD,CAUC,CAACoV,KAAM,qBAAP,CAA8BpV,KAAM,KAApC,CAVD,CAWC,CAACoV,KAAM,oBAAP,CAA6BpV,KAAM,KAAnC,CAXD,CAYC,CAACoV,KAAM,wBAAP,CAAiCpV,KAAM,OAAvC,CAAgDgqC,UAAYA,QAAQ,CAACn3B,CAAD,CAAO,CAC7E,MAAOA,EAAA,CAAK,oBAAL,CAAP,CAAkCA,CAAA,CAAK,qBAAL,CAD2C,CAA3E,CAZD,CAeC,CAACuC,KAAM,8BAAP,CAAuCpV,KAAM,KAA7C,CAfD,CAgBC,CAACoV,KAAM,OAAP,CAhBD;AAiBC,CAACA,KAAM,UAAP,CAAmB80B,QAASA,QAAQ,CAACr3B,CAAD,CAAO,CAAC,MAAO/c,IAAA,CAAIg4B,OAAJ,CAAYjb,CAAZ,CAAA,CAAoB,EAApB,CAAyBA,CAAjC,CAA3C,CAjBD,CAkBC,CAACuC,KAAM,gBAAP,CAAyBpV,KAAM,KAA/B,CAlBD,CAmBC,CAACoV,KAAM,yBAAP,CAAkCpV,KAAM,OAAxC,CAAiDgqC,UAAYA,QAAQ,CAACn3B,CAAD,CAAO,CAC9E,MAAOA,EAAA,CAAK,cAAL,CAAyBA,CAAA,CAAK,qBAAL,CAAzB,CAAuDA,CAAvD,CAA4D,cAA5D,CAAgF,CADT,CAA5E,CAnBD,CAsBR,CAACuC,KAAM,KAAP,CAAcpV,KAAM,QAApB,CAtBQ,CAH6B,CA4BrCmqC,sBAAuBA,QAAQ,EAAG,CACjC,MAAO,KAAA,CAAKlwC,GAAL,CAAS,qBAAT,CAD0B,CA5BG,CAgCrCmwC,yBAA0BA,QAAQ,EAAG,CACpC,MAAO,KAAA,CAAKnwC,GAAL,CAAS,wBAAT,CAD6B,CAhCA,CAoCrCowC,kBAAmBA,QAAQ,CAACp2C,CAAD,CAAS,CACtC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C;AAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACVz/B,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,GACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB0tC,MAAO,CADY,CAApB,CAGA,KAAI2I,EAAgB,IAAA,CAAKC,gBAAL,EACpBD,EAAA,CAAcE,IAAd,CAAmB,CAClBtjB,OAAQjzB,CADU,CAElBklC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,CACCvW,CAAA,CAAIK,OAAJ,CAAY8V,CAAZ,CADD,CAGCnW,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAJ8C,CAF9B,CAAnB,CAUA,OAAOtW,EAAP,CAAWL,OAvB0B,CApCC,CAgErC6W,WAAYA,QAAQ,CAAC12C,CAAD,CAAS,CAC/B,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACVz/B,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,GACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB0tC,MAAO,CADY,CAApB,CAGA,KAAIiJ,EAAS,IAAA,CAAKC,SAAL,CAAe,EAAf,CACbD,EAAA,CAAOJ,IAAP,CAAY,CACXtjB,OAAQjzB,CADG,CAEXklC,SAAUA,QAAQ,CAACtb,CAAD;AAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,CACCvW,CAAA,CAAIK,OAAJ,CAAYoW,CAAZ,CADD,CAGCzW,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAJ8C,CAFrC,CAAZ,CAUA,OAAOtW,EAAP,CAAWL,OAvBmB,CAhEQ,CA4FrC+W,UAAWA,QAAQ,CAAC52C,CAAD,CAAS,CAC9B,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEJxd,EAAA,CAASA,CAAT,EAAmB,EACnB6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB62C,MAAO,EADY,CAApB,CAGAh1C,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAA0B,CACzBC,YAAa,EADY,CAA1B,CAGAj1C,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAAyBC,WAAzB,CAAsC,CACrC5qC,SAAU,IAAA,CAAKlG,GAAL,CAAS,OAAT,CAD2B,CAAtC,CAGAnE,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjB8F,MAAO,IAAA,CAAKE,GAAL,CAAS,IAAT,CADU,CAAlB,CAGA,OAAO,KAAA,CAAKA,GAAL,CAAS,QAAT,CAAA,CAAmB4wC,SAAnB,CAA6B52C,CAA7B,CAjBmB,CA5FS,CAiHrCs2C,iBAAkBA,QAAQ,CAACt2C,CAAD,CAAS,CACrC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEJxd,EAAA,CAASA,CAAT,EAAmB,EACnB6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB62C,MAAO,EADY,CAApB,CAGAh1C;GAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAA0B,CACzBC,YAAa,EADY,CAA1B,CAGAj1C,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAAyBC,WAAzB,CAAsC,CACrC5qC,SAAU,IAAA,CAAKlG,GAAL,CAAS,OAAT,CAD2B,CAAtC,CAGA,OAAIhG,EAAJ,CAAWw3B,MAAX,CACQx3B,CAAA,CAAOw3B,MAAP,CAAc8e,gBAAd,CAA+Bt2C,CAA/B,CADR,CAGO,IAAA,CAAKgG,GAAL,CAAS,QAAT,CAAA,CAAmBswC,gBAAnB,CAAoCt2C,CAApC,CAjB0B,CAjHE,CAsIrC+2C,SAAUA,QAAQ,EAAG,CACpB,MAAO,KAAA,CAAK/wC,GAAL,CAAS,OAAT,CADa,CAtIgB,CA0IrCsmB,MAAOA,QAAQ,EAAG,CACjB,MAAO,KAAA,CAAKtmB,GAAL,CAAS,IAAT,CADU,CA1ImB,CA8IrCgxC,aAAcA,QAAQ,EAAG,CACxB,IAAIC,EAAS,IAAA,CAAKC,SAAL,EACb,OAAO,KAAA,CAAKC,QAAL,EAAP,EAA0BF,CAAA,CAAS,GAAT,CAAaA,CAAb,CAAoB,GAApB,CAA0B,EAApD,CAFwB,CA9IY,CAmJrCE,SAAUA,QAAQ,EAAG,CACpB,IAAIvuC,EAAQ,IAAA,CAAK5C,GAAL,CAAS,OAAT,CACEsC,KAAAA,EAAd,GAAIM,CAAJ,GAAyBA,CAAzB,CAAiC,EAAjC,CACAA,EAAA,CAAQ/G,GAAA,CAAIw9B,OAAJ,CAAYz2B,CAAZ,CAAA,CAAqBA,CAAA,CAAMyC,IAAN,CAAW,IAAX,CAArB,CAAwCzC,CAEhD,OADAA,EACA,CADQA,CAAA,CAAMwuC,IAAN,EAAA,CAAa1xC,OAAb,CAAqB,MAArB,CAA6B,GAA7B,CAJY,CAnJgB,CA2JrC2xC,aAAcA,QAAQ,CAAC/jB,CAAD;AAASvrB,CAAT,CAAc,CACpC,GAAIurB,CAAJ,CAAW7uB,MAAX,CAAoBsD,CAApB,CAAyB,CAEzB,IAAIuvC,EAAQhkB,CAAA,CAAO+gB,WAAP,CAAmB,GAAnB,CACF,GAAV,CAAIiD,CAAJ,GACChkB,CADD,CACUA,CAAA,CAAOwd,MAAP,CAAcwG,CAAd,CAAoB,CAApB,CADV,CAIA,IAAIhkB,CAAJ,CAAW7uB,MAAX,CAAkBsD,CAAlB,CAAuB,CAClBwvC,CAAAA,CAAQjkB,CAAA,CAAOzqB,OAAP,CAAe,GAAf,CAAoBd,CAApB,CAAwB,CAAxB,CACZ,IAAY,CAAZ,CAAIwvC,CAAJ,EAAiBA,CAAjB,CAAyBxvC,CAAzB,CACCwvC,CAAA,CAAQxvC,CAETurB,EAAA,CAASA,CAAA,CAAOuE,SAAP,CAAiB,CAAjB,CAAoB0f,CAApB,CAAT,CAAsC,QALhB,CAPE,CAezB,MAAOjkB,EAhB6B,CA3JC,CA+KrCqE,cAAeA,QAAQ,EAAG,CACxB,IAAI/uB,EAAQ,IAAA,CAAKuuC,QAAL,EACZvuC,EAAA,CAAQA,CAAA,CAAMlD,OAAN,CAAc,qCAAd,CAAoD,EAApD,CACRkD,EAAA,CAAQA,CAAA,CAAMlD,OAAN,CAAc,yBAAd,CAAwC,EAAxC,CACR,OAAO,KAAA,CAAK2xC,YAAL,CAAkBzuC,CAAlB,CAAyB,EAAzB,CAJiB,CA/KW,CAsLrC4uC,aAAcA,QAAQ,EAAG,CACxB,MAAO,KAAA,CAAKH,YAAL,CAAkB,IAAA,CAAK1f,aAAL,EAAlB,CAAwC,EAAxC,CADiB,CAtLY,CA0LrC8f,cAAeA,QAAQ,EAAG,CACzB,IAAIR,EAAS,IAAA,CAAKC,SAAL,CAAe,EAAf,CACb,OAAQrqB,SAAA,CAAS,IAAA,CAAKkqB,QAAL,EAAT,CAAR,CAAkC,CAAlC,CAAuC,OAAvC;AAAiD,IAAA,CAAKpf,aAAL,EAAjD,CAAwE,MAAxE,EAAiFsf,CAAA,CAAS,IAAT,CAAcA,CAAd,CAAqB,GAArB,CAA2B,EAA5G,CAFyB,CA1LW,CA+LrCS,aAAcA,QAAQ,EAAG,CACxB,MAAQ7qB,SAAA,CAAS,IAAA,CAAKkqB,QAAL,EAAT,CAAR,CAAkC,CAAlC,CAAuC,IAAvC,CAA8C,IAAA,CAAKS,YAAL,EADtB,CA/LY,CAmMrCG,WAAYA,QAAQ,EAAG,CACtB,MAAO,KAAA,CAAK3xC,GAAL,CAAS,SAAT,CADe,CAnMc,CAuMrC4xC,aAAcA,QAAQ,EAAG,CACxB,MAAO,KAAA,CAAK5xC,GAAL,CAAS,WAAT,CADiB,CAvMY,CA2MrC6xC,YAAaA,QAAQ,EAAG,CACvB,MAAO,KAAA,CAAK7xC,GAAL,CAAS,UAAT,CADgB,CA3Ma,CA+MrC0vC,WAAYA,QAAQ,EAAG,CACtB,MAAO,KAAA,CAAKoC,WAAL,CAAiB,SAAjB,CADe,CA/Mc,CAmNrCC,cAAeA,QAAQ,EAAG,CACzB,MAAO,KAAA,CAAKD,WAAL,CAAiB,YAAjB,CADkB,CAnNW,CAuNrCZ,UAAWA,QAAQ,CAACnvC,CAAD,CAAM,CACxB,IAAA,CAAK+vC,WAAL,CAAiB,QAAjB,CADwB,CAvNY,CA2NrCA,YAAaA,QAAQ,CAACE,CAAD,CAAQjwC,CAAR,CAAa,CAC7B0oB,CAAAA,CAAM,IAAA,CAAKzqB,GAAL,CAASgyC,CAAT,CAANvnB;AAAyB,EAC7BA,EAAA,CAAM5uB,GAAA,CAAIw9B,OAAJ,CAAY5O,CAAZ,CAAA,CAAmBA,CAAA,CAAIplB,IAAJ,CAAS,IAAT,CAAnB,CAAoColB,CAC1CA,EAAA,CAAMA,CAAA,CAAI2mB,IAAJ,EAAA,CAAW1xC,OAAX,CAAmB,MAAnB,CAA2B,GAA3B,CACN,OAAOqC,EAAA,CAAM,IAAA,CAAKsvC,YAAL,CAAkB5mB,CAAlB,CAAuB1oB,CAAvB,CAAN,CAAoC0oB,CAJV,CA3NG,CAkOrCwnB,YAAaA,QAAQ,EAAG,CACvB,MAAO,KAAA,CAAKjyC,GAAL,CAAS,QAAT,CAAA,CAAmB22B,YAAnB,EADgB,CAlOa,CAsOrCub,YAAaA,QAAQ,EAAG,CACvB,MAAI,KAAA,CAAKlyC,GAAL,CAAS,oBAAT,CAAJ,EAAsC,QAAA,CAAwB4N,IAAxB,CAA6B,IAAA,CAAK5N,GAAL,CAAS,oBAAT,CAA7B,CAAtC,CACQ,CAAA,CADR,CAGO,CAAA,CAJgB,CAtOa,CA6OrCmyC,2BAA4BA,QAAQ,EAAG,CACtC,MAAO,KAAA,CAAKnyC,GAAL,CAAS,yBAAT,CAD+B,CA7OF,CAiPrCqd,KAAMA,QAAQ,EAAG,CAChBA,IAAA,CAAK,IAAA,CAAK2zB,YAAL,EAAL,CADgB,CAjPoB,CAqPrC5qB,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAKpmB,GAAL,CAAS,QAAT,CADc,CArPe,CA0PrCoyC,QAASA,QAAQ,CAACp4C,CAAD,CAAS,CAC5B,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C;AAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACPz/B,EAAA,CAASA,CAAT,EAAmB,EACnB6B,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACdilC,KAAM,uBADQ,CAEdzN,OAAQ,IAAA,CAAKygB,WAAL,EAFM,CAAlB,CAIA,KAAA,CAAKrB,SAAL,CAAe52C,CAAf,CAAA,CAAuBk4B,IAAvB,CAA4B,QAAQ,CAACye,CAAD,CAAS,CAC5CzW,CAAA,CAAIK,OAAJ,CAAYoW,CAAZ,CAD4C,CAA7C,CAGA,OAAOzW,EAAP,CAAWL,OAba,CA1PW,CA2QrCwY,aAAcA,QAAQ,CAACr4C,CAAD,CAAS,CACjC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEJxd,EAAA,CAASA,CAAT,EAAmB,EACnB6B,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjBs4C,aAAc,MADG,CAEjBvK,SAAU,gBAFO,CAGjBwK,SAAU,CAAA,CAHO,CAAlB,CAKH,OAAO,KAAA,CAAKH,OAAL,EAVyB,CA3QM,CA0RrCI,eAAgBA,QAAQ,CAACx4C,CAAD,CAAS,CAChCA,CAAA,CAASA,CAAT,EAAmB,EACnBA,EAAA,CAAO8F,KAAP,CAAe,IAAA,CAAKwmB,KAAL,EAClB,OAAO,KAAA,CAAKF,SAAL,EAAA,CAAiBosB,cAAjB,CAAgCx4C,CAAhC,CAH4B,CA1RI;AAySrCy4C,YAAaA,QAAQ,CAACz4C,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACnB6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB62C,MAAO,EADY,CAApB,CAGAh1C,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAA0B,CACzBC,YAAa,EADY,CAA1B,CAGAj1C,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAAyBC,WAAzB,CAAsC,CACrC5qC,SAAU,IAAA,CAAKlG,GAAL,CAAS,OAAT,CAD2B,CAAtC,CAGH,OAAOnE,IAAA,CAAIu4B,MAAJ,CAAW,oCAAX,CAAiDv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CAACw3B,OAAQ,IAAA,CAAKpL,SAAL,EAAT,CAA2BtmB,MAAO,IAAA,CAAKwmB,KAAL,EAAlC,CAAlB,CAAjD,CAXyB,CAzSO,CAuTrCosB,aAAcA,QAAQ,CAAC14C,CAAD,CAAS,CAEjC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACV,KAAA,CAAKgZ,WAAL,EAAA,CAAmBlC,IAAnB,CAAwB,CACvBtjB,OAAQjzB,CADe,CAEvBklC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,CACCvW,CAAA,CAAIK,OAAJ,CAAY3W,CAAZ,CADD,CAGCsW,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAAqB9V,KAArB,CAA2BmB,QAA3B,CAJ8C,CAFzB,CAAxB,CAUA;MAAO3B,EAAP,CAAWL,OAhBqB,CAvTM,CA2UxC8Y,OAAQA,QAAQ,EAAG,CAClB,MAAO,KAAA,CAAK3yC,GAAL,CAAS,KAAT,CAAP,EAA0B,IAAA,CAAKA,GAAL,CAAS,YAAT,CADR,CA3UqB,CAAzC,C,CCAAnE,GAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC3CyI,OAAQ,gBADmC,CAE3CnG,OAAQ,CACC,CAAClZ,KAAM,MAAP,CADD,CAEC,CAACA,KAAM,UAAP,CAAmB,KAAQ,KAA3B,CAFD,CAGC,CAACA,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAHD,CAIC,CAACoV,KAAM,MAAP,CAJD,CAKC,CAACA,KAAM,WAAP,CALD,CAFmC,CAS3Cs0B,QAASA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKzvC,GAAL,CAAS,MAAT,CAAR,CATuB,CAU3C+uC,YAAaA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK/uC,GAAL,CAAS,UAAT,CAAR,CAVmB,CAW3C2vC,WAAYA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK3vC,GAAL,CAAS,SAAT,CAAR,CAXoB,CAY3C4yC,aAAcA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK5yC,GAAL,CAAS,WAAT,CAAR,CAZkB,CAA/C,C,CCAAnE,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAC/CyI,OAAQ,gBADuC,CAE/CnG,OAAQ,CACC,CAAClZ,KAAM,IAAP,CADD,CAEC,CAACA,KAAM,OAAP,CAAgB,KAAQ,KAAxB,CAFD,CAGC,CAACA,KAAM,OAAP,CAHD,CAIC,CAACA,KAAM,eAAP,CAJD,CAFuC,CAQ/CvU,SAAUA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK5G,GAAL,CAAS,OAAT,CAAR,CAR0B,CAS/CgwC,iBAAkBA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKhwC,GAAL,CAAS,eAAT,CAAR,CATkB,CAU/C6yC,UAAWA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK7yC,GAAL,CAAS,QAAT,CAAR,CAVyB,CAAnD,C,CCAAnE,GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CACzCyI,OAAQ,gBADiC,CAEzCnG,OAAQ,CACC,CAAClZ,KAAM,IAAP,CADD,CAEC,CAACA,KAAM,MAAP,CAFD,CAGC,CAACA,KAAM,UAAP,CAAmB,KAAQ,KAA3B,CAHD,CAIC,CAACA,KAAM,OAAP,CAJD,CAKC,CAACA,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CALD,CAMC,CAACoV,KAAM,cAAP,CAAuBpV,KAAM,OAA7B,CAND,CAOC,CAACoV,KAAM,OAAP,CAAgBpV,KAAM,OAAtB,CAPD,CAQC,CAACoV,KAAM,QAAP,CAAiBpV,KAAM,OAAvB,CARD,CASC,CAACoV,KAAM,aAAP,CAAsBpV,KAAM,OAA5B,CATD,CAUC,CAACoV,KAAM,eAAP,CAVD,CAFiC,CAczCs0B,QAASA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKzvC,GAAL,CAAS,MAAT,CAAR,CAdqB,CAezC+uC,YAAaA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK/uC,GAAL,CAAS,UAAT,CAAR,CAfiB,CAgBzC2vC,WAAYA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK3vC,GAAL,CAAS,SAAT,CAAR,CAhBkB,CAiBzC8yC,gBAAiBA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAK9yC,GAAL,CAAS,cAAT,CAAR,CAjBa;AAkBzCgwC,iBAAkBA,QAAQ,EAAG,CAAC,MAAO,KAAA,CAAKhwC,GAAL,CAAS,eAAT,CAAR,CAlBY,CAA7C,C,CCAAnE,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAC/CyI,OAAQ,gBADuC,CAE/CnG,OAAQ,CACJ,CAAClZ,KAAM,YAAP,CAAqBpV,KAAM,QAA3B,CADI,CAEJ,CAACoV,KAAM,cAAP,CAFI,CAFuC,CAAnD,C,CCGAtf,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CACxCyI,OAAQ,gBADgC,CAExCnG,OAAQ,CACC,CAAClZ,KAAM,QAAP,CADD,CAEC,CAACA,KAAM,QAAP,CAFD,CAGC,CAACA,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAHD,CAFgC,CAYxCgtC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAK/yC,GAAL,CAAS,QAAT,CADc,CAZkB,CAoBxCgzC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAKhzC,GAAL,CAAS,QAAT,CADc,CApBkB,CA2B3Cqd,KAAMA,QAAQ,CAACrjB,CAAD,CAAS,CACtBqjB,IAAA,CAAK,IAAA,CAAK+uB,SAAL,CAAepyC,CAAf,CAAL,CADsB,CA3BoB,CA+B3CoyC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAK2G,SAAL,EAAP,CAAwB,GAAxB,CAA4B,IAAA,CAAKC,SAAL,EADP,CA/BqB,CAA5C,C,CCHAn3C,GAAA,CAAIk2B,MAAJ,CAAW,uCAAX,CAAoD,CAChDyI,OAAQ,gBADwC,CAEhDyC,SAAU,CAAC,sCAAD,CAAyC,6BAAzC,CAAwE,iCAAxE,CAFsC,CAGhD5I,OAAQ,CACH,CAAClZ,KAAM,IAAP,CADG,CAHwC,CAUlD83B,uBAAwBA,QAAQ,EAAG,CACnC,IAAIC,EAAM,EACV,KAAA,CAAKt6B,IAAL,CAAUu6B,mBAAV,CAA8B9+B,OAA9B,CAAsC,QAAQ,CAAC++B,CAAD,CAAK,CAClDF,CAAA,CAAIryC,IAAJ,CAAShF,GAAA,CAAIu4B,MAAJ,CAAW,sCAAX,CAAmDgf,CAAnD,CAAT,CADkD,CAAnD,CAGA,OAAOF,EAL4B,CAVe,CAiBlDG,cAAeA,QAAQ,EAAG,CAC1B,IAAIC,EAAa,EACjB,KAAA,CAAK16B,IAAL,CAAU06B,UAAV,CAAqBj/B,OAArB,CAA6B,QAAQ,CAACk/B,CAAD,CAAM,CAC1CD,CAAA,CAAWzyC,IAAX,CAAgBhF,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CAACof,WAAYD,CAAb,CAA1C,CAAhB,CAD0C,CAA3C,CAGA;MAAOD,EALmB,CAjBwB,CAwBlD1C,UAAWA,QAAQ,EAAG,CACtB,IAAID,EAAS,EACb,KAAA,CAAK/3B,IAAL,CAAU+3B,MAAV,CAAiBt8B,OAAjB,CAAyB,QAAQ,CAACo/B,CAAD,CAAM,CACtC9C,CAAA,CAAO9vC,IAAP,CAAYhF,GAAA,CAAIu4B,MAAJ,CAAW,iCAAX,CAA8Cqf,CAA9C,CAAZ,CADsC,CAAvC,CAGA,OAAO9C,EALe,CAxB4B,CAApD,C,CCAA90C,GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CAClCyI,OAAQ,gBAD0B,CAElCnG,OAAQ,CACC,CAAClZ,KAAM,IAAP,CADD,CAEC,CAACA,KAAM,OAAP,CAFD,CAGC,CAACA,KAAM,UAAP,CAAmBpV,KAAM,KAAzB,CAHD,CAIC,CAACoV,KAAM,OAAP,CAJD,CAKC,CAACA,KAAM,SAAP,CALD,CAMC,CAACA,KAAM,WAAP,CAND,CAOC,CAACA,KAAM,UAAP,CAAmBpV,KAAM,KAAzB,CAPD,CAQC,CAACoV,KAAM,aAAP,CAAsBpV,KAAM,KAA5B,CARD,CASC,CAACoV,KAAM,WAAP,CAAoBpV,KAAM,KAA1B,CATD,CAF0B,CAalCguB,QAAS,CACR2f,mBAAoBA,QAAQ,CAACnH,CAAD,CAAM,CACjC,GAAIA,CAAJ,EAAWA,CAAX,CAAejmB,KAAf,CAEC,MADIwZ,EACG,CADKyM,CAAA,CAAIjmB,KAAJ,EAAA,CAAYrG,KAAZ,CAAkB,GAAlB,CACL,CAAA,CACN/Z,SAAU2gB,QAAA,CAASiZ,CAAA,CAAM,CAAN,CAAT,CADJ,CAENnX,SAAU9B,QAAA,CAASiZ,CAAA,CAAM,CAAN,CAAT,CAFJ,CAHyB,CAD1B,CAbyB,CAwBrC6T,OAAQA,QAAQ,EAAG,CAClB,MAA4B,SAA5B,EAAO,IAAA,CAAKC,YAAL,EADW,CAxBkB,CA2BrCC,WAAYA,QAAQ,EAAG,CACtB,MAA6B,MAA7B,EAAO,IAAA,CAAK7zC,GAAL,CAAS,UAAT,CADe,CA3Bc;AA8BrC4zC,aAAcA,QAAQ,EAAG,CACxB,MAAO,KAAA,CAAK5zC,GAAL,CAAS,WAAT,CADiB,CA9BY,CAiCrCsmB,MAAOA,QAAQ,EAAG,CACjB,MAAO,CAAC,EAAD,CAAI,IAAA,CAAKyoB,WAAL,EAAJ,CAAuB,IAAA,CAAKK,WAAL,EAAvB,CAAA,CAA2C/pC,IAA3C,CAAgD,GAAhD,CADU,CAjCmB,CAoCrC0pC,YAAaA,QAAQ,EAAG,CACvB,MAAO,KAAA,CAAK/uC,GAAL,CAAS,UAAT,CADgB,CApCa,CAuCrC8zC,SAAUA,QAAQ,EAAG,CACpB,MAAO,KAAA,CAAK9zC,GAAL,CAAS,OAAT,CADa,CAvCgB,CA0CrCyvC,QAASA,QAAQ,EAAG,CACnB,MAAO,KAAA,CAAKzvC,GAAL,CAAS,MAAT,CADY,CA1CiB,CA6CrC+zC,uBAAwBA,QAAQ,CAAC7B,CAAD,CAAc,CAC7C,IAAIz2C,EAAO,IAAA,CAAKg0C,OAAL,EAAA,CAAe/vC,OAAf,CAAuB,gBAAvB,CAAyC,cAAzC,CAAA,CAAyDA,OAAzD,CAAiE,QAAjE,CAA0E,IAA1E,CAAA,CAAgFA,OAAhF,CAAwF,2BAAxF,CAAoH,cAApH,CACPwyC,EAAJ,GAAkBz2C,CAAlB,CAAyBA,CAAA,CAAKiE,OAAL,CAAa,kBAAb,CAAgC,QAAhC,CAAzB,CACA,OAAOjE,EAHsC,CA7CT;AAkDrC2zC,YAAaA,QAAQ,EAAG,CACvB,MAAO,KAAA,CAAKpvC,GAAL,CAAS,UAAT,CADgB,CAlDa,CAqDrCg0C,mBAAoBA,QAAQ,EAAG,CAC9B,MAAO,KAAA,CAAKh0C,GAAL,CAAS,SAAT,CADuB,CArDM,CAAtC,C,CCGAnE,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC5CyI,OAAQ,gBADoC,CAE5CnG,OAAQ,CACC,CAAClZ,KAAM,QAAP,CADD,CAEC,CAACA,KAAM,QAAP,CAFD,CAGC,CAACA,KAAM,aAAP,CAAsBpV,KAAM,OAA5B,CAHD,CAIC,CAACoV,KAAM,cAAP,CAAuBpV,KAAM,OAA7B,CAJD,CAKC,CAACoV,KAAM,aAAP,CAAsB40B,UAAWA,QAAQ,CAACn3B,CAAD,CAAO,CAAC,MAAOA,EAAP,CAAY+B,MAAZ,CAAmBlf,IAApB,CAAhD,CALD,CAMC,CAAC0f,KAAM,aAAP,CAAsB40B,UAAWA,QAAQ,CAACn3B,CAAD,CAAO,CAAC,MAAOA,EAAP,CAAYwD,MAAZ,CAAmB3gB,IAApB,CAAhD,CAND,CAOC,CAAC0f,KAAM,sBAAP,CAA+B40B,UAAWA,QAAQ,CAACn3B,CAAD,CAAO,CAAC,MAAOA,EAAP,CAAY+B,MAAZ,CAAmBra,aAApB,CAAzD,CAPD,CAQC,CAAC6a,KAAM,sBAAP,CAA+B40B,UAAWA,QAAQ,CAACn3B,CAAD,CAAO,CAAC,MAAOA,EAAP,CAAYwD,MAAZ,CAAmB9b,aAApB,CAAzD,CARD,CAFoC,CAiB5CyyC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAK/yC,GAAL,CAAS,QAAT,CADc,CAjBsB;AAyB5CgzC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAKhzC,GAAL,CAAS,QAAT,CADc,CAzBsB,CAgC/Cqd,KAAMA,QAAQ,CAACrjB,CAAD,CAAS,CACtBqjB,IAAA,CAAK,IAAA,CAAK+uB,SAAL,CAAepyC,CAAf,CAAL,CADsB,CAhCwB,CAoC/CoyC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAK2G,SAAL,EAAP,CAAwB,GAAxB,CAA4B,IAAA,CAAKC,SAAL,EADP,CApCyB,CAAhD,C,CCHAn3C,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CY,OAAQ,CAAC,0BAAD,CAA4B,4BAA5B,CADmC,CAE3C34B,OAAQ,CACPw3B,OAAQlvB,IAAAA,EADD,CAEP2xC,YAAa3xC,IAAAA,EAFN,CAFmC,CAM3CjG,YAAaA,QAAQ,CAACrC,CAAD,CAASk6C,CAAT,CAAiB,CACrC,IAAInrB,EAAK,IACT/uB,EAAA,CAASA,CAAT,EAAmB,EACnB6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBm6C,WAAY,CAAA,CADO,CAEnBC,SAAU,CAAA,CAFS,CAkBnBC,eAAiB,CAlBE,CAmBnBC,SAAW,GAnBQ,CAoBnBC,kBAAoB,GApBD,CAApB,CAsBAv6C,EAAA,CAAO62C,KAAP,CAAe72C,CAAf,CAAsB62C,KAAtB,EAA+B,EAC/Bh1C,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAA0B,CACzB9qC,KAAM,MADmB,CAEzByuC,QAAS,IAFgB,CAGzBxU,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EAHoB,CAIzB4M,cAAe,CAACC,KAAM,MAAP,CAJU,CAKzBC,OAAQ,CACP5uC,KAAM,MADC,CAEP6uC,aAAcV,CAAA,CAAO,2BAAP,CAFP,CAGPW,cAAeX,CAAA,CAAO,4BAAP,CAHR;AAIPY,aAAcZ,CAAA,CAAO,2BAAP,CAAdY,EAAqD,UAJ9C,CALiB,CAWzBC,eAAgB,CAAA,CAXS,CAYzB/3C,UAAW,CACVg4C,UAAWA,QAAQ,CAACnE,CAAD,CAAQ5F,CAAR,CAAiBuF,CAAjB,CAA4B,CAC1CznB,CAAJ,CAAOkrB,WAAP,EAAsBlrB,CAAtB,CAAyBkrB,WAAzB,CAAqC1hB,SAArC,EAECxJ,CAAA,CAAGkrB,WAAH,CAAe1hB,SAAf,CAAyBie,CAAzB,CAH6C,CADrC,CAZc,CAA1B,CAqBAx2C,EAAA,CAAO62C,KAAP,CAAaC,WAAb,CAA2B92C,CAA3B,CAAkC62C,KAAlC,CAAwCC,WAAxC,EAAuD,EACvDj1C,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAAyBC,WAAzB,CAAsC,CACrC7R,KAAMiV,CAAA,CAAO,wBAAP,CAD+B,CAAtC,CAI2B5xC,KAAAA,EAA3B,GAAItI,CAAJ,CAAWi6C,WAAX,GACCp4C,GAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmB62C,KAAnB,CAAyBC,WAAzB,CAAsC,CACrCmE,QAASj7C,CAATi7C,CAAgBhB,WAAhBgB,CAA4Bp4C,KADS,CAAtC,CAQA,CALA,IAAA,CAAKq4C,cAAL,CAAoBl7C,CAApB,CAA2Bi6C,WAA3B,CAKA,CAJAj6C,CAAA,CAAOi6C,WAAP,CAAmBpiC,EAAnB,CAAsB,cAAtB,CAAsC,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC3D,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CAD2D,CAA5D,CAEG,IAFH,CAIA,CADAx3B,CACA,CADOgD,SACP;AADmBhD,CACnB,CAD0BgD,SAC1B,EADuC,EACvC,CAAAhD,CAAA,CAAOgD,SAAP,CAAiBo4C,UAAjB,CAA8B,CAC5Bl4C,GAAIA,QAAQ,CAACg5B,CAAD,CAAQsa,CAAR,CAAmB,CAAA,IAC1B/2B,EAAS,IAAA,CAAK47B,cAAL,EADiB,CACMxE,EAAQ3a,CAAA,CAAMyR,QAAN,EAC5C,IAAerlC,IAAAA,EAAf,GAAImX,CAAJ,CAA0B,CAErBwT,CAAAA,CAASxT,CAAA,CAAOwZ,YAAP,EACbud,EAAA,CAAYA,CAAA,CAAyB,CAAZ,GAAAA,CAAA,CAAgB,EAAhB,CAAqBA,CAAlC,CAA+C,EAC3DA,EAAA,CAAUvjB,MAAV,CAAmBujB,CAAnB,CAA6BvjB,MAA7B,EAAuC,EAGnC4jB,EAAJ,EAAa,IAAb,CAAkByE,eAAlB,GACCz5C,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAf,CAAoBC,wBAApB,CAAA,CAA8CnhC,OAA9C,CAAsD,QAAQ,CAACtU,CAAD,CAAM,CACnE8wC,CAAA,CAAM4E,aAAN,CAAoB11C,CAApB,CAAyBuC,IAAAA,EAAzB,CADmE,CAApE,CAGA,CAAA,IAAA,CAAKkzC,wBAAL,CAAgC,EAJjC,CAMA,KAAKz1C,IAAIA,CAAT,GAAgBktB,EAAhB,CAOK4jB,CAIJ,EAJa,IAIb,CAJkByE,eAIlB,GAHC,IAAA,CAAKE,wBAAL,CAA8B30C,IAA9B,CAAmCd,CAAnC,CACA,CAAA8wC,CAAA,CAAM4E,aAAN,CAAoB11C,CAApB,CAAyBktB,CAAA,CAAOltB,CAAP,CAAzB,CAED,EAAAywC,CAAA,CAAUvjB,MAAV,CAAiBltB,CAAjB,CAAA,CAAwBktB,CAAA,CAAOltB,CAAP,CAxBA,CAFI,CADH,CA+B5BhC,MAAO,IA/BqB,CAT/B,CA4CAlC,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgBjG,CAAhB,CAhGqC,CANK,CAwG3Cm7C,UAAWA,QAAQ,CAAC3jB,CAAD,CAAS,CACvBA,CAAJ;AAAc,IAAd,CAAmBmW,QAAnB,EAA+B,IAAA,CAAKA,QAAL,EAA/B,EACC,IAAA,CAAKA,QAAL,EAAA,CAAgB8N,aAAhB,CAA8B,QAA9B,CAAwC55C,GAAA,CAAIy2B,QAAJ,CAAad,CAAb,CAAA,CAAuBA,CAAvB,CAAgCA,CAAA,CAAOlL,KAAP,EAAxE,CAED,KAAA,CAAKyU,UAAL,CAAgBvjB,SAAhB,CAJ2B,CAxGe,CA8G3C40B,UAAWA,QAAQ,CAACpyC,CAAD,CAAS,CACvBmM,CAAAA,CAAQ,IAAA,CAAKS,QAAL,EACZ,OAAO,sBAAP,CAA8B,IAAA,CAAKA,QAAL,EAA9B,CAA8C,QAA9C,EAA8D,CAAN,CAAAT,CAAA,CAAU,sBAAV,CAAiC,IAAA,CAAKuvC,KAAL,CAAW,CAAX,CAAA,CAAcrX,SAAd,EAAA,CAA0BvuB,GAA1B,CAA8B,QAAQ,CAACkiC,CAAD,CAAQ,CAAC,MAAOA,EAAA,CAAMjS,OAAN,EAAR,CAA9C,CAAA,CAAwE16B,IAAxE,CAA6E,IAA7E,CAAjC,CAAsH,EAA9K,EAAkL,GAFvJ,CA9Ge,CAmH3CmoC,MAAOA,QAAQ,CAACG,CAAD,CAAM3zC,CAAN,CAAc,CACxB,CAACA,CAAL,EAAe6B,GAAA,CAAI23B,QAAJ,CAAama,CAAb,CAAf,GACC3zC,CACA,CADS2zC,CACT,CAAAA,CAAA,CAAM,IAAA,CAAKE,UAAL,CAAgB,CAAhB,CAFP,CAIA7zC,EAAA,CAASA,CAAT,EAAmB,EAEnB,KAAI4e,EAAO,EACX,KAAA,CAAK5W,IAAL,CAAU,QAAQ,CAAC8D,CAAD,CAAS,CAC1B8S,CAAA,CAAK/X,IAAL,CAAUiF,CAAV,CAAiB8S,IAAjB,CAD0B,CAA3B,CAEG,IAFH,CAIA/c,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjB27C,UAAWn0B,IAAA,CAAKE,SAAL,CAAe,CACzBk0B,WAAY/5C,GAAA,CAAIkoC,YAAJ,CAAiB,IAAjB,CADa;AAEzB8R,UAAWj9B,CAFc,CAAf,CADM,CAAlB,CAOA40B,MAAA,CAAM56B,IAAN,CAAW,IAAX,CAAiB+6B,CAAjB,CAAsB3zC,CAAtB,CAnB4B,CAnHc,CAA5C,C,CCAA6B,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC/CY,OAAQ,CAAC,+BAAD,CADuC,CAE/Ckb,WAAY,CAAC,0BAAD,CAFmC,CAG5CiI,MAAO,uCAHqC,CAI/Cz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,WADmD,CAE7E,4BAA6B,wBAFgD,CAG7E,6BAA8B,mCAH+C,CAAT,CAArE,CAKAA,EAAA,CAAO62C,KAAP,CAAaC,WAAb,CAAyBiF,iBAAzB,CAA6C,CAAA,CANf,CAJgB,CAAhD,CAcAl6C;GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CAC1CyI,OAAQ,gBADkC,CAE1C7H,OAAQ,CAAC,mCAAD,CAFkC,CAG1Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,mCAAZ,CAAA,CAAiDt2B,WAAjD,CAA6D4D,KAA7D,CAAmE,IAAnE,CAAyE,CAACjG,CAAD,CAAzE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHW,CAA3C,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDyI,OAAQ,wBAD0C,CAElD7H,OAAQ,CAAC,mCAAD,CAF0C,CAGlDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,mCAAZ,CAAA,CAAiDt2B,WAAjD,CAA6D4D,KAA7D,CAAmE,IAAnE,CAAyE,CAACjG,CAAD,CAAzE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHmB,CAAnD,C,CCxBA6B,GAAA,CAAIk2B,MAAJ,CAAW,iCAAX,CAA8C,CAC7CY,OAAQ,CAAC,+BAAD,CADqC,CAE1CmjB,MAAO,2BAFmC,CAG7Cz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,yBADmD,CAE7E,4BAA6B,2BAFgD,CAG7E,6BAA8B,wBAH+C,CAAT,CAArE,CAD8B,CAHc,CAA9C,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,4BAAX,CAAyC,CACxCyI,OAAQ,gBADgC,CAExC7H,OAAQ,CAAC,iCAAD,CAFgC,CAGxCt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,iCAAZ,CAAA,CAA+Ct2B,WAA/C,CAA2D4D,KAA3D,CAAiE,IAAjE,CAAuE,CAACjG,CAAD,CAAvE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHS,CAAzC,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDyI,OAAQ,wBADwC,CAEhD7H,OAAQ,CAAC,iCAAD,CAFwC,CAGhDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,iCAAZ,CAAA,CAA+Ct2B,WAA/C,CAA2D4D,KAA3D,CAAiE,IAAjE,CAAuE,CAACjG,CAAD,CAAvE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHiB,CAAjD,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,yCAAX,CAAsD,CACrDY,OAAQ,CAAC,+BAAD,CAD6C,CAElDmjB,MAAO,mCAF2C,CAGrDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,yBADmD,CAE7E,4BAA6B,6BAFgD,CAG7E,6BAA8B,wBAH+C,CAAT,CAArE,CAD8B,CAHsB,CAAtD,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDyI,OAAQ,gBADwC,CAEhD7H,OAAQ,CAAC,yCAAD,CAFwC,CAGhDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,yCAAZ,CAAA,CAAuDt2B,WAAvD,CAAmE4D,KAAnE,CAAyE,IAAzE,CAA+E,CAACjG,CAAD,CAA/E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHiB,CAAjD,CAUA6B;GAAA,CAAIk2B,MAAJ,CAAW,4CAAX,CAAyD,CACxDyI,OAAQ,wBADgD,CAExD7H,OAAQ,CAAC,yCAAD,CAFgD,CAGxDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,yCAAZ,CAAA,CAAuDt2B,WAAvD,CAAmE4D,KAAnE,CAAyE,IAAzE,CAA+E,CAACjG,CAAD,CAA/E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHyB,CAAzD,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,qCAAX,CAAkD,CACjDY,OAAQ,CAAC,+BAAD,CADyC,CAE9CmjB,MAAO3jB,MAAP2jB,CAAcl9B,IAAdk9B,CAAmBA,KAAnBA,CAAyBE,WAFqB,CAGjD35C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,qBADmD,CAE7E,4BAA6B,qBAFgD,CAG7E,6BAA8B,oBAH+C,CAAT,CAArE,CAD8B,CAHkB,CAAlD,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CAC5CyI,OAAQ,gBADoC,CAE5C7H,OAAQ,CAAC,qCAAD,CAFoC,CAG5Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHa,CAA7C,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,wBAD4C,CAEpD7H,OAAQ,CAAC,qCAAD,CAF4C,CAGpDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHqB,CAArD,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDY,OAAQ,CAAC,+BAAD,CADwC,CAE7CmjB,MAAO3jB,MAAP2jB,CAAcl9B,IAAdk9B,CAAmBA,KAAnBA,CAAyBG,UAFoB,CAQhD55C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,oBADmD,CAE7E,4BAA6B,mBAFgD,CAG7E,6BAA8B,mBAH+C,CAAT,CAArE,CAD8B,CARiB,CAgBhDqjB,KAAMA,QAAQ,CAACrjB,CAAD,CAAS,CACtBqjB,IAAA,CAAK,IAAA,CAAK+uB,SAAL,CAAepyC,CAAf,CAAL,CADsB,CAhByB,CAAjD,CAyBA6B;GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CyI,OAAQ,gBADmC,CAE3C7H,OAAQ,CAAC,oCAAD,CAFmC,CAGxCmjB,MAAO3jB,MAAP2jB,CAAcl9B,IAAdk9B,CAAmBA,KAAnBA,CAAyBG,UAHe,CA2B3C55C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,oCAAZ,CAAA,CAAkDt2B,WAAlD,CAA8D4D,KAA9D,CAAoE,IAApE,CAA0E,CAACjG,CAAD,CAA1E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CA3BY,CAA5C,CAmCA6B;GAAA,CAAIk2B,MAAJ,CAAW,uCAAX,CAAoD,CACnDyI,OAAQ,wBAD2C,CAEnD7H,OAAQ,CAAC,oCAAD,CAF2C,CAGhDmjB,MAAO3jB,MAAP2jB,CAAcl9B,IAAdk9B,CAAmBA,KAAnBA,CAAyBG,UAHuB,CAInD55C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,oCAAZ,CAAA,CAAkDt2B,WAAlD,CAA8D4D,KAA9D,CAAoE,IAApE,CAA0E,CAACjG,CAAD,CAA1E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAJoB,CAApD,C,CC5DA6B,GAAA,CAAIk2B,MAAJ,CAAW,6CAAX,CAA0D,CACzDY,OAAQ,CAAC,+BAAD,CADiD,CAEtDmjB,MAAO,sCAF+C,CAGzDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,wBADmD,CAE7E,4BAA6B,yBAFgD,CAG7E,6BAA8BsI,IAAAA,EAH+C,CAI7E,4BAA6B,wBAJgD,CAAT,CAArE,CAD8B,CAH0B,CAA1D,CAaAzG;GAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,gBAD4C,CAEpD7H,OAAQ,CAAC,6CAAD,CAF4C,CAGpDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,6CAAZ,CAAA,CAA2Dt2B,WAA3D,CAAuE4D,KAAvE,CAA6E,IAA7E,CAAmF,CAACjG,CAAD,CAAnF,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHqB,CAArD,CAUA6B;GAAA,CAAIk2B,MAAJ,CAAW,gDAAX,CAA6D,CAC5DyI,OAAQ,wBADoD,CAE5D7H,OAAQ,CAAC,6CAAD,CAFoD,CAG5Dt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,6CAAZ,CAAA,CAA2Dt2B,WAA3D,CAAuE4D,KAAvE,CAA6E,IAA7E,CAAmF,CAACjG,CAAD,CAAnF,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAH6B,CAA7D,C,CCvBA6B,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDY,OAAQ,CAAC,+BAAD,CAD0C,CAE/CmjB,MAAO,gCAFwC,CAGlDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,sBADmD,CAE7E,4BAA6B,qBAFgD,CAG7E,6BAA8B,qBAH+C,CAAT,CAArE,CAD8B,CAHmB,CAAnD,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,iCAAX,CAA8C,CAC7CyI,OAAQ,gBADqC,CAE7C7H,OAAQ,CAAC,sCAAD,CAFqC,CAG7Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,sCAAZ,CAAA,CAAoDt2B,WAApD,CAAgE4D,KAAhE,CAAsE,IAAtE,CAA4E,CAACjG,CAAD,CAA5E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHc,CAA9C,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,yCAAX,CAAsD,CACrDyI,OAAQ,wBAD6C,CAErD7H,OAAQ,CAAC,sCAAD,CAF6C,CAGrDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,sCAAZ,CAAA,CAAoDt2B,WAApD,CAAgE4D,KAAhE,CAAsE,IAAtE,CAA4E,CAACjG,CAAD,CAA5E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHsB,CAAtD,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,yCAAX,CAAsD,CACrDY,OAAQ,CAAC,+BAAD,CAD6C,CAElDmjB,MAAO,kCAF2C,CAGrDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,yBADmD,CAE7E,4BAA6B,2BAFgD,CAG7E,6BAA8B,wBAH+C,CAAT,CAArE,CAD8B,CAHsB,CAAtD,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDyI,OAAQ,gBADwC,CAEhD7H,OAAQ,CAAC,yCAAD,CAFwC,CAGhDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,yCAAZ,CAAA,CAAuDt2B,WAAvD,CAAmE4D,KAAnE,CAAyE,IAAzE,CAA+E,CAACjG,CAAD,CAA/E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHiB,CAAjD,CAUA6B;GAAA,CAAIk2B,MAAJ,CAAW,4CAAX,CAAyD,CACxDyI,OAAQ,wBADgD,CAExD7H,OAAQ,CAAC,yCAAD,CAFgD,CAGxDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,yCAAZ,CAAA,CAAuDt2B,WAAvD,CAAmE4D,KAAnE,CAAyE,IAAzE,CAA+E,CAACjG,CAAD,CAA/E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHyB,CAAzD,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC9CY,OAAQ,CAAC,+BAAD,CADsC,CAE3CmjB,MAAO,4BAFoC,CAG3C/hB,QAAS,CACRG,KAAM,EADE,CAHkC,CAO9CgiB,QAAS,CACFC,SAAU,OADR,CAEFC,UAAW,KAFT,CAPqC,CAW9CjC,WAAY,CAAA,CAXkC,CAY9C93C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,0BADmD,CAE7E,4BAA6B,6BAFgD,CAG7E,6BAA8B,yBAH+C,CAAT,CAArE,CAD8B,CAZe,CAmB9CgD,UAAW,CACTuzC,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiByyB,CAAjB,CAA6BC,CAA7B,CAAmC,CAChD,GAAID,CAAJ,CAAgB,CACf,IAAI7kB;AAAS0E,CAAA,CAAM9P,SAAN,EACbxC,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CAChCA,CAAA,CAAOqpB,GAAP,CAAW,QAAX,CAAqBqC,CAArB,CADgC,CAAjC,CAFe,CADgC,CADxC,CAnBmC,CA6B9CnL,YAAaA,QAAQ,CAACrsB,CAAD,CAAS,CAC7B,MAAO6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAA,CAAuB,IAAA,CAAK07C,KAAL,CAAW17C,CAAX,CAAvB,CAA4C,IAAA,CAAKu8C,OAAL,CAAav8C,CAAb,CADtB,CA7BgB,CAA/C,CAmCA6B,IAAA,CAAIk2B,MAAJ,CAAW,6BAAX,CAA0C,CACzCyI,OAAQ,gBADiC,CAEzC7H,OAAQ,CAAC,kCAAD,CAFiC,CAGtCmjB,MAAO,4BAH+B,CAIzCz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,kCAAZ,CAAA,CAAgDt2B,WAAhD,CAA4D4D,KAA5D,CAAkE,IAAlE,CAAwE,CAACjG,CAAD,CAAxE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAJU,CAA1C,CAWA6B;GAAA,CAAIk2B,MAAJ,CAAW,qCAAX,CAAkD,CACjDyI,OAAQ,wBADyC,CAEjD7H,OAAQ,CAAC,kCAAD,CAFyC,CAG9CmjB,MAAO,4BAHuC,CAIjDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,kCAAZ,CAAA,CAAgDt2B,WAAhD,CAA4D4D,KAA5D,CAAkE,IAAlE,CAAwE,CAACjG,CAAD,CAAxE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAJkB,CAAlD,C,CC9CA6B,GAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDY,OAAQ,CAAC,+BAAD,CADwC,CAEhDkb,WAAY,CAAC,0BAAD,CAFoC,CAG7CiI,MAAO,uCAHsC,CAIhDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,YADmD,CAE7E,4BAA6B,aAFgD,CAG7E,6BAA8B,wBAH+C,CAAT,CAArE,CAKAA,EAAA,CAAO62C,KAAP,CAAaC,WAAb,CAAyBiF,iBAAzB,CAA6C,CAAA,CANf,CAJiB,CAAjD,CAcAl6C;GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CyI,OAAQ,gBADmC,CAE3C7H,OAAQ,CAAC,oCAAD,CAFmC,CAG3Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,oCAAZ,CAAA,CAAkDt2B,WAAlD,CAA8D4D,KAA9D,CAAoE,IAApE,CAA0E,CAACjG,CAAD,CAA1E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHY,CAA5C,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,uCAAX,CAAoD,CACnDyI,OAAQ,wBAD2C,CAEnD7H,OAAQ,CAAC,oCAAD,CAF2C,CAGnDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,oCAAZ,CAAA,CAAkDt2B,WAAlD,CAA8D4D,KAA9D,CAAoE,IAApE,CAA0E,CAACjG,CAAD,CAA1E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHoB,CAApD,C,CCxBA6B,GAAA,CAAIk2B,MAAJ,CAAW,uCAAX,CAAoD,CACnDY,OAAQ,CAAC,+BAAD,CAD2C,CAEhDmjB,MAAO,uCAFyC,CAGnDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,2BADmD,CAE7E,4BAA6B,oBAFgD,CAG7E,6BAA8B,0BAH+C,CAAT,CAArE,CAKAA,EAAA,CAAO62C,KAAP,CAAaC,WAAb,CAAyBiF,iBAAzB,CAA6C,CAAA,CANf,CAHoB,CAApD,CAaAl6C;GAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC9CyI,OAAQ,gBADsC,CAE9C7H,OAAQ,CAAC,uCAAD,CAFsC,CAG9Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,uCAAZ,CAAA,CAAqDt2B,WAArD,CAAiE4D,KAAjE,CAAuE,IAAvE,CAA6E,CAACjG,CAAD,CAA7E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHe,CAA/C,CAUA6B;GAAA,CAAIk2B,MAAJ,CAAW,0CAAX,CAAuD,CACtDyI,OAAQ,wBAD8C,CAEtD7H,OAAQ,CAAC,uCAAD,CAF8C,CAGtDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,uCAAZ,CAAA,CAAqDt2B,WAArD,CAAiE4D,KAAjE,CAAuE,IAAvE,CAA6E,CAACjG,CAAD,CAA7E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHuB,CAAvD,C,CCvBA6B,GAAA,CAAIk2B,MAAJ,CAAW,qCAAX,CAAkD,CACjDY,OAAQ,CAAC,+BAAD,CADyC,CAE9CmjB,MAAO,+BAFuC,CAGjDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,qBADmD,CAE7E,4BAA6B,qBAFgD,CAG7E,6BAA8B,oBAH+C,CAAT,CAArE,CAD8B,CAHkB,CAAlD,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CAC5CyI,OAAQ,gBADoC,CAE5C7H,OAAQ,CAAC,qCAAD,CAFoC,CAG5Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHa,CAA7C,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,wBAD4C,CAEpD7H,OAAQ,CAAC,qCAAD,CAF4C,CAGpDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHqB,CAArD,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,qCAAX,CAAkD,CACjDY,OAAQ,CAAC,+BAAD,CADyC,CAE9CmjB,MAAO,+BAFuC,CAGjDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,sBADmD,CAE7E,4BAA6B,qBAFgD,CAG7E,6BAA8B,qBAH+C,CAAT,CAArE,CAD8B,CAHkB,CAAlD,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CAC5CyI,OAAQ,gBADoC,CAE5C7H,OAAQ,CAAC,qCAAD,CAFoC,CAG5Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHa,CAA7C,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,wBAD4C,CAEpD7H,OAAQ,CAAC,qCAAD,CAF4C,CAGpDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHqB,CAArD,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,yCAAX,CAAsD,CACrDY,OAAQ,CAAC,+BAAD,CAD6C,CAElDmjB,MAAO,mCAF2C,CAGrDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,+BADmD,CAE7E,sCAAuC,MAFsC,CAG7E,4BAA6B,+BAHgD,CAI7E,6BAA8B,wBAJ+C,CAAT,CAArE,CAD8B,CAHsB,CAAtD,CAaA6B;GAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDyI,OAAQ,gBADwC,CAEhD7H,OAAQ,CAAC,yCAAD,CAFwC,CAGhDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,yCAAZ,CAAA,CAAuDt2B,WAAvD,CAAmE4D,KAAnE,CAAyE,IAAzE,CAA+E,CAACjG,CAAD,CAA/E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHiB,CAAjD,CAUA6B;GAAA,CAAIk2B,MAAJ,CAAW,4CAAX,CAAyD,CACxDyI,OAAQ,wBADgD,CAExD7H,OAAQ,CAAC,yCAAD,CAFgD,CAGxDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,yCAAZ,CAAA,CAAuDt2B,WAAvD,CAAmE4D,KAAnE,CAAyE,IAAzE,CAA+E,CAACjG,CAAD,CAA/E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHyB,CAAzD,C,CCvBA6B,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CY,OAAQ,CAAC,+BAAD,CADmC,CAExCmjB,MAAO,yBAFiC,CAG3Cz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,uBADmD,CAE7E,4BAA6B,uBAFgD,CAG7E,6BAA8B,sBAH+C,CAAT,CAArE,CAD8B,CAHY,CAA5C,CAYA6B;GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCyI,OAAQ,gBAD8B,CAEtC7H,OAAQ,CAAC,+BAAD,CAF8B,CAGtCt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAArE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHO,CAAvC,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC9CyI,OAAQ,wBADsC,CAE9C7H,OAAQ,CAAC,+BAAD,CAFsC,CAG9Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAArE,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHe,CAA/C,C,CCtBA6B,GAAA,CAAIk2B,MAAJ,CAAW,qCAAX,CAAkD,CACjDY,OAAQ,CAAC,+BAAD,CADyC,CAEjDkb,WAAY,CAAC,0BAAD,CAFqC,CAG9CiI,MAAO,uCAHuC,CAIjDz5C,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqE,CAACjG,CAAD,CAAS,CAC7E,yBAA0B,aADmD,CAE7E,4BAA6B,cAFgD,CAG7E,6BAA8B,yBAH+C,CAAT,CAArE,CAKAA,EAAA,CAAO62C,KAAP,CAAaC,WAAb,CAAyBiF,iBAAzB,CAA6C,CAAA,CAC7C/7C,EAAA,CAAO62C,KAAP,CAAaC,WAAb,CAAyB0F,OAAzB,CAAmC,CAPL,CAJkB,CAAlD,CAeA36C;GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CAC5CyI,OAAQ,gBADoC,CAE5C7H,OAAQ,CAAC,qCAAD,CAFoC,CAG5Ct2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHa,CAA7C,CAUA6B,IAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,wBAD4C,CAEpD7H,OAAQ,CAAC,qCAAD,CAF4C,CAGpDt2B,YAAcA,QAAQ,CAACrC,CAAD,CAAS,CAC9BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,qCAAZ,CAAA,CAAmDt2B,WAAnD,CAA+D4D,KAA/D,CAAqE,IAArE,CAA2E,CAACjG,CAAD,CAA3E,CACA,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAH8B,CAHqB,CAArD,C,CCVA6B,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3C0kB,mBAAoB,CAAC,cAAD,CADuB,CAE3C9jB,OAAQ,CAAC,4BAAD,CAA8B,2BAA9B,CAFmC,CAG3Ckb,WAAY,CAAC,kCAAD,CAH+B,CAI3C7zC,OAAQ,CAKP08C,MAAO,EALA,CAUP97B,MAAO,EAVA,CAJmC,CAkB3Cve,YAAaA,QAAQ,CAACrC,CAAD,CAASs8C,CAAT,CAAe,CACnCt8C,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK28C,QAAL,CAAc96C,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAev7C,CAAf,CAAsB08C,KAAtB,CAAd,CACA,KAAA,CAAKE,QAAL,CAAc/6C,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAev7C,CAAf,CAAsB4gB,KAAtB,CAAd,CACA,KAAA,CAAKmgB,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAJmC,CAlBO,CAwB3C68C,QAASA,QAAQ,CAAChS,CAAD,CAAMzoB,CAAN,CAAc1gB,CAAd,CAAqB,CACrC,IAAA,CAAKo7C,QAAL,EAAA,CAAgBj2C,IAAhB,CAAqBhF,GAAA,CAAI23B,QAAJ,CAAaqR,CAAb,CAAA,CAAoBA,CAApB,CAA0B,CAAClqB,OAAQkqB,CAAT,CAAczoB,OAAQA,CAAtB,CAA8B1gB,MAAOA,CAArC,CAA/C,CADqC,CAxBK,CA2B3Cq7C,QAASA,QAAQ,CAACt7C,CAAD,CAAO,CACvB,MAAOI,IAAA,CAAIu9B,KAAJ,CAAU4d,YAAV,CAAuB,IAAA,CAAKC,QAAL,EAAvB;AAAwCx7C,CAAxC,CAA8C6G,IAAAA,EAA9C,CAAyDA,IAAAA,EAAzD,CAAoE,QAAQ,CAAC40C,CAAD,CAAMC,CAAN,CAAW,CAC7F,MAAQD,EAAD,CAAKz7C,IAAL,CAAY07C,CAAZ,CAAgB17C,IAAhB,CAAwB,EAAxB,CAA+By7C,CAAD,CAAKz7C,IAAL,CAAY07C,CAAZ,CAAgB17C,IAAhB,CAAwB,CAAxB,CAA4B,CAD4B,CAAvF,CADgB,CA3BmB,CAgC3C+xC,MAAOA,QAAQ,CAACG,CAAD,CAAM3zC,CAAN,CAAc,CACxB,CAACA,CAAL,EAAe6B,GAAA,CAAI23B,QAAJ,CAAama,CAAb,CAAf,GACC3zC,CACA,CADS2zC,CACT,CAAAA,CAAA,CAAM,IAAA,CAAKE,UAAL,CAAgB,CAAhB,CAFP,CAIA7zC,EAAA,CAASA,CAAT,EAAmB,EACnB,KAAIsgB,EAAO,CACTo8B,MAAO,IAAA,CAAKI,QAAL,EADE,CAETl8B,MAAO,IAAA,CAAKq8B,QAAL,EAFE,CAGTj9C,OAAQA,CAHC,CAKX,IAAIA,CAAJ,CAAW0tC,KAAX,EAAoBptB,CAApB,CAAyBo8B,KAAzB,CAA+Bj4C,MAA/B,CAAsCzE,CAAtC,CAA6C0tC,KAA7C,CAAoD,CACnDptB,CAAA,CAAKo8B,KAAL,CAAap8B,CAAA,CAAKo8B,KAAL,CAAWt1C,KAAX,CAAiB,CAAjB,CAAoBpH,CAApB,CAA2B0tC,KAA3B,CACb,KAAIxnC,EAAQ,EACZoa,EAAA,CAAKo8B,KAAL,CAAWriC,OAAX,CAAmB,QAAQ,CAAC+iC,CAAD,CAAO,CACjCl3C,CAAA,CAAM,GAAN,CAAUk3C,CAAV,CAAez8B,MAAf,CAAA,CAAyB,CAAA,CACzBza,EAAA,CAAM,GAAN,CAAUk3C,CAAV,CAAeh7B,MAAf,CAAA,CAAyB,CAAA,CAFQ,CAAlC,CAIA,KAAIxB,EAAQ,EACZN,EAAA,CAAKM,KAAL,CAAWvG,OAAX,CAAmB,QAAQ,CAAC5D,CAAD,CAAO,CAC7B,GAAJ,CAAQA,CAAR,CAAahV,IAAb,GAAqByE,EAArB,EACC0a,CAAA,CAAM/Z,IAAN,CAAW4P,CAAX,CAFgC,CAAlC,CAKA6J,EAAA,CAAKM,KAAL,CAAaA,CAbsC,CAepD/e,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjBq9C,SAAU71B,IAAA,CAAKE,SAAL,CAAepH,CAAf,CADO,CAAlB,CAGAkzB,MAAA,CAAM56B,IAAN,CAAW,IAAX,CAAiB+6B,CAAjB,CAAsB3zC,CAAtB,CA7B4B,CAhCc,CAgE3CoyC,UAAWA,QAAQ,CAACpyC,CAAD,CAAS,CAE3B,MAAO,KAAA,CAAK88C,QAAL,EAAA,CAAgBhnC,GAAhB,CAAoB,QAAQ,CAACsnC,CAAD,CAAO,CAACA,CAAA,CAAKz8B,MAAL;AAAY,GAAZ,CAAgBy8B,CAAhB,CAAqBh7B,MAAtB,CAAnC,CAAA,CAAkE/W,IAAlE,CAAuE,IAAvE,CAFoB,CAhEe,CAA5C,C,CCfAxJ,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACpCY,OAAQ,CAAC,0BAAD,CAD4B,CAEpCoB,QAAS,CACPG,KAAM,EADC,CAF2B,CAOvCl6B,OAAQ,CACP4e,KAAM,EADC,CAEP0+B,QAASh1C,IAAAA,EAFF,CAGPkvB,OAAQlvB,IAAAA,EAHD,CAIPi1C,gCAAiC,CAAA,CAJ1B,CAKPC,eAAgB,EALT,CAP+B,CAcvCn7C,YAAaA,QAAQ,CAACrC,CAAD,CAASs8C,CAAT,CAAe,CACnCt8C,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CACA,KAAA,CAAKm7C,SAAL,CAAen7C,CAAf,CAAsBw3B,MAAtB,CAHmC,CAdG,CAmBvC+e,KAAMA,QAAQ,CAACtjB,CAAD,CAASiN,CAAT,CAAc,CAC3B,IAAA,CAAKud,iBAAL,CAAuBxqB,CAAvB,CACAiN,EAAA,CAAMA,CAAN,EAAa/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CAFc,KAGvB1Q,EAAK,IAHkB,CAGZ2uB,EAAc,CAC5BlmB,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBuQ,YAAjB,EADoB,CAE5B2gB,QAAS,IAAA,CAAKK,UAAL,EAFmB,CAG5B1Y,KAAM,mBAHsB,CAI5ByI,MAAO,GAJqB,CAM7B7rC,IAAA,CAAIoE,KAAJ,CAAUy3C,CAAV,CAAuBzqB,CAAvB,EAAiC,EAAjC,CAEKA,EAAL,CAAY2qB,WAAZ;AACC7uB,CAAA,CAAG8uB,OAAH,CAAW,EAAX,CAGDh8C,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EADW,CAEhB5a,OAAQyqB,CAFQ,CAGhB35C,MAAO,IAHS,CAAjB,CAAA,CAIGm0B,IAJH,CAIQ,QAAQ,CAAC2J,CAAD,CAAW,CAE1B,CADIjjB,CACJ,CADW/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACX,GAAYpjB,CAAZ,CAAiBk/B,UAAjB,EAA+Bl/B,CAA/B,CAAoCk/B,UAApC,CAA+CC,QAA/C,EACC,IAAI5lB,MAAJ,CAAW0c,MAAX,CAAkBmJ,eAAlB,CAAkC,CACjCD,SAAUn/B,CAAVm/B,CAAeD,UAAfC,CAA0BA,QADO,CAEjCE,oBAAqB,IAFY,CAGjChZ,KAAM,mBAH2B,CAIjCwR,QAASA,QAAQ,EAAG,CACnB1nB,CAAA,CAAGwnB,IAAH,CAAQ39B,IAAR,CAAamW,CAAb,CAAiBkE,CAAjB,CAAyBiN,CAAzB,CADmB,CAJa,CAOjCge,QAASA,QAAQ,CAACC,CAAD,CAAqB,CACrChmB,MAAA,CAAOC,WAAP,CAAmBgmB,iBAAnB,CAAqCrvB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAArC,CAA2E2jB,CAA3E,CADqC,CAPL,CAUjCp6C,MAAOgrB,CAV0B,CAAlC,CAaGnQ,EAAJ,EAAYA,CAAZ,CAAiBk/B,UAAjB,EAA+B,CAACl/B,CAAD,CAAMk/B,UAAN,CAAiBC,QAAhD,GACM9qB,CAGL,CAHY2qB,WAGZ;AAFC7uB,CAAA,CAAG8uB,OAAH,CAAWj/B,CAAX,CAAgBk/B,UAAhB,CAED,CAAA5d,CAAA,CAAIK,OAAJ,CAAY3hB,CAAZ,CAJD,CAhB0B,CAJ3B,CA0BG,QAAQ,CAACijB,CAAD,CAAW,CACrB1J,MAAA,CAAOC,WAAP,CAAmBgmB,iBAAnB,CAAqCrvB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAArC,CAA2EqH,CAA3E,CADqB,CA1BtB,CA6BA,OAAO3B,EAAP,CAAWL,OA5CgB,CAnBW,CAiEvCwe,eAAgBA,QAAQ,EAAG,CAC1B,MAAOlpC,OAAA,CAAOC,IAAP,CAAY,IAAA,CAAKkpC,OAAL,EAAZ,CAA2BC,SAA3B,CAAqCA,SAArC,CAAP,CAAuD95C,MAD7B,CAjEY,CAoEvC+5C,oBAAqBA,QAAQ,EAAG,CAC/B,MAAO,KAAA,CAAKF,OAAL,EAAP,CAAsBC,SAAtB,CAAgCE,KADD,CApEO,CAuEvCC,cAAeA,QAAQ,EAAG,CACzB,MAAO,KAAA,CAAKL,cAAL,EAAP,CAA6B,IAAA,CAAKG,mBAAL,EADJ,CAvEa,CA0EvCG,SAAUA,QAAQ,CAACz7C,CAAD,CAAKa,CAAL,CAAYgE,CAAZ,CAAiB,CAAA,IAC9Bw2C,EAAY,IAAA,CAAKD,OAAL,EAAZC,CAA2BA,SAA3BA,CAAqCA,SADP,CACkBK,EAAmB,EADrC,CAEzBj8C,CAAT,KAASA,CAAT,GAAe47C,EAAf,CACCK,CAAA,CAAiB/3C,IAAjB,CAAsBhF,GAAA,CAAIoE,KAAJ,CAAUs4C,CAAA,CAAU57C,CAAV,CAAV,CAAyB,CAACA,GAAIA,CAAL,CAAzB,CAAtB,CAEDi8C;CAAA,CAAiBj5C,IAAjB,CAAsB,QAAQ,CAACk5C,CAAD,CAAKC,CAAL,CAAS,CACtC,MAAOD,EAAA,CAAGvzC,OAAH,EAAcwzC,CAAd,CAAiBxzC,OAAjB,CAA2BuzC,CAA3B,CAA8B5yC,KAA9B,CAAsC6yC,CAAtC,CAAyC7yC,KAAzC,CAAiD6yC,CAAjD,CAAoDxzC,OAApD,CAA8DuzC,CAA9D,CAAiEvzC,OADlC,CAAvC,CAGIvD,EAAJ,EAAW62C,CAAX,CAA4Bn6C,MAA5B,CAAmCsD,CAAnC,GAAyC62C,CAAzC,CAA4DA,CAAA,CAAiBx3C,KAAjB,CAAuB,CAAvB,CAAyBW,CAAzB,CAA5D,CACA62C,EAAA,CAAiBvkC,OAAjB,CAAyB,QAAQ,CAACgf,CAAD,CAAW,CAACn2B,CAAA,CAAG0V,IAAH,CAAQ7U,CAAR,CAAes1B,CAAf,CAAD,CAA5C,CATkC,CA1EI,CAqFvC0lB,oBAAqBA,QAAQ,EAAG,CAC/B,MAAO,KAAA,CAAKT,OAAL,EAAP,CAAsBU,WAAtB,CAAkCA,WAAlC,CAA8Cv6C,MADf,CArFO,CAwFvCw6C,yBAA0BA,QAAQ,EAAG,CACpC,MAAO,KAAA,CAAKX,OAAL,EAAP,CAAsBU,WAAtB,CAAkCP,KADE,CAxFE,CA2FvCS,eAAgBA,QAAQ,CAACh8C,CAAD,CAAKa,CAAL,CAAYgE,CAAZ,CAAiB,CAAA,IACpCi3C,EAAc,IAAA,CAAKV,OAAL,EAAdU,CAA6BA,WAA7BA,CAAyCA,WADL,CAEvCT,EAAY,IAAA,CAAKD,OAAL,EAAZC,CAA2BA,SAA3BA,CAAqCA,SACrCY,mBAAA,CAAqB,EACtB,KAJwC,IAI/B36C,EAAE,CAJ6B,CAI1BsnB,EAAIkzB,CAAJlzB,CAAgBrnB,MAA9B,CAAsCD,CAAtC,CAAwCsnB,CAAxC,EAMK,EALJ5oB,CAAA,CAAG0V,IAAH,CAAQ7U,CAAR,CAAe,CACd4c,OAAQ9e,GAAA,CAAIoE,KAAJ,CAAU,CAACtD,GAAIq8C,CAAA,CAAYx6C,CAAZ,CAAJ7B,CAAmBge,MAApB,CAAV;AAAuC49B,CAAA,CAAUS,CAAA,CAAYx6C,CAAZ,CAAV,CAAyBmc,MAAzB,CAAvC,CADM,CAEdyB,OAAQvgB,GAAA,CAAIoE,KAAJ,CAAU,CAACtD,GAAIq8C,CAAA,CAAYx6C,CAAZ,CAAJ7B,CAAmByf,MAApB,CAAV,CAAuCm8B,CAAA,CAAUS,CAAA,CAAYx6C,CAAZ,CAAV,CAAyB4d,MAAzB,CAAvC,CAFM,CAGd9W,QAAS0zC,CAAA,CAAYx6C,CAAZ,CAAT8G,CAAwBA,OAHV,CAAf,CAKI,CAAA9G,CAAA,CAAEuD,CAAF,CANL,CAA6CvD,CAAA,EAA7C,EAJwC,CA3FF,CAwGvC46C,wBAAyBA,QAAQ,CAACh3C,CAAD,CAAQ,CACxC,GAAK,IAAA,CAAKk2C,OAAL,EAAL,CAAoBC,SAApB,CAAA,CADwC,IAEpCc,EAA4B,IAAA,CAAKf,OAAL,EAA5Be,CAA2CC,qBAFP,CAGvCA,EAAwBD,CAAxBC,CAAkDA,qBAClDf,UAAA,CAAY,IAAA,CAAKD,OAAL,EAAZ,CAA2BC,SAA3B,CAAqCA,SACtC,IAAI,CAAC,IAAA,CAAKgB,kCAAL,EAAL,EAAkDD,CAAlD,CAAwE76C,MAAxE,CAA+E46C,CAA/E,CAAyGZ,KAAzG,EAAkHr2C,CAAlH,CAAwH,GAAxH,CAA4Hk3C,CAA5H,CAAkJ76C,MAAlJ,CAA0J,CACzJ,IAAA,CAAK+6C,kCAAL,CAAwC,CAAA,CAAxC,CACA,KAAIzwB,EAAK,IACLkE,EAAAA,CAAS,EACbpxB,IAAA,CAAIoE,KAAJ,CAAUgtB,CAAV,CAAkB,IAAlB,CAAuBwsB,iBAAvB,CACA59C,IAAA,CAAIoE,KAAJ,CAAUgtB,CAAV,CAAkB,CACjBlhB,MAAOutC,CAAPvtC,CAA6BtN,MADZ,CAEjBm5C,YAAa,CAAA,CAFI,CAGjB8B,kBAAmB,CAAA,CAHF;AAIjBC,oBAAqB,CAAA,CAJJ,CAAlB,CAMA,KAAA,CAAKpJ,IAAL,CAAUtjB,CAAV,CAAA,CAAkBiF,IAAlB,CAAuB,QAAQ,CAACtZ,CAAD,CAAO,CACrCmQ,CAAA,CAAGywB,kCAAH,CAAsC,CAAA,CAAtC,CACAzwB,EAAA,CAAGuvB,OAAH,EAAA,CAAagB,qBAAb,CAAmCA,qBAAnC,CAA2DA,CAAA,CAAsBM,MAAtB,CAA6BhhC,CAA7B,CAAkCk/B,UAAlC,CAA6CwB,qBAA7C,CAAmEA,qBAAnE,CAFtB,CAAtC,CAXyJ,CAgB1J,MAAIA,EAAJ,EAA6BA,CAAA,CAAsBl3C,CAAtB,CAA7B,EACKy3C,CAIGA,CAJUP,CAAA,CAAsBl3C,CAAtB,CAIVy3C,CAHPA,CAGOA,CAHIz3C,KAGJy3C,CAHYz3C,CAGZy3C,CAFPh+C,GAAA,CAAIoE,KAAJ,CAAU45C,CAAV,CAAqBl/B,MAArB,CAA6B49B,SAAA,CAAUsB,CAAV,CAAqBl/B,MAArB,CAA4B0Y,QAA5B,CAA7B,CAEOwmB,CADPh+C,GAAA,CAAIoE,KAAJ,CAAU45C,CAAV,CAAqBz9B,MAArB,CAA6Bm8B,SAAA,CAAUsB,CAAV,CAAqBz9B,MAArB,CAA4BiX,QAA5B,CAA7B,CACOwmB,CAAAA,CALR,EAOO,IA3BP,CADwC,CAxGF,CAsIpCC,4BAA6BA,QAAQ,CAACC,CAAD,CAAWC,CAAX,CAAqB,CACzD,QAGG,KADA,IAAIC,EAAa,EAAjB,CACSz7C,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAAA,CAAKy6C,wBAAL,EAApB,CAAqDz6C,CAAA,EAArD,CAA0D,CACtD,IAAI07C,EAAY,IAAA,CAAKd,uBAAL,CAA6B56C,CAA7B,CACZ07C;CAAJ,EAAiBA,CAAjB,CAA2B99B,MAA3B,CAAkCzf,EAAlC,EAAwCq9C,CAAxC,EAAoDE,CAApD,CAA8Dv/B,MAA9D,CAAqEhe,EAArE,EAA2Eo9C,CAA3E,EACIE,CAAA,CAAWp5C,IAAX,CAAgBq5C,CAAhB,CAHkD,CAM1D,MAAOD,EAV+C,CAtItB,CAAxC,C,CCiCAp+C,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtC0kB,mBAAoB,CAAC,QAAD,CADkB,CAEnC9jB,OAAQ,CAAC,4BAAD,CAA8B,2BAA9B,CAA0D,0BAA1D,CAAqF,0BAArF,CAAgH,wBAAhH,CAF2B,CAGnCX,aAAc,mFAAA,CAAA,KAAA,CAAA,GAAA,CAHqB,CAKnC6b,WAAY,uVAAA,CAAA,KAAA,CAAA,GAAA,CALuB;AAMtC5Q,SAAU,CAAC,2BAAD,CAA6B,+BAA7B,CAA6D,6BAA7D,CAN4B,CAOnCzC,OAAQ,gBAP2B,CAQnCxgC,OAAQ,CAqUPmgD,eAAgB73C,IAAAA,EArUT,CAR2B,CA+UnCyxB,QAAS,CACRG,KAAM,EADE,CA/U0B,CAkVnCG,OAAQ,CACH,CAAClZ,KAAM,gBAAP,CAAyBpV,KAAM,KAA/B,CADG,CAEH,CAACoV,KAAM,oBAAP,CAA6BpV,KAAM,KAAnC,CAFG,CAGH,CAACoV,KAAM,mBAAP,CAA4BpV,KAAM,KAAlC,CAHG,CAIH,CAACoV,KAAM,aAAP,CAAsBpV,KAAM,KAA5B,CAJG,CAKH,CAACoV,KAAM,aAAP,CAAsBpV,KAAM,MAA5B,CAAoCq0C,WAAY,GAAhD,CALG,CAMH,CAACj/B,KAAM,OAAP,CAAgBpV,KAAM,QAAtB,CANG,CAOH,CAACoV,KAAM,UAAP,CAAmBpV,KAAM,QAAzB,CAPG,CAQH,CAACoV,KAAM,gBAAP,CAAyBpV,KAAM,QAA/B,CARG,CAlV2B,CAkYtC1J,YAAcA,QAAQ,CAACse,CAAD,CAAS3gB,CAAT,CAAiB,CACtC2gB,CAAA;AAASA,CAAT,EAAmB,EACnB3gB,EAAA,CAASA,CAAT,EAAmB,EAEnB,KAAA,CAAK+gC,UAAL,CAAgB,EAAhB,CAEA,KAAIb,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CAEV,IAAI59B,GAAA,CAAIy2B,QAAJ,CAAa3X,CAAb,CAAJ,CACwB,CAAvB,EAAI,IAAA,CAAK/M,IAAL,CAAU+M,CAAV,CAAJ,EAAqD,EAArD,EAAgCA,CAAA,CAAO9X,OAAP,CAAe,GAAf,CAAhC,CACChH,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjBw3B,OAAQ7W,CADS,CAAlB,CADD,CAKC9e,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjBqsC,MAAO1rB,CADU,CAAlB,CANF,KAUO,IAAI9e,GAAA,CAAIw9B,OAAJ,CAAY1e,CAAZ,CAAJ,CACN9e,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjBqsC,MAAO1rB,CADU,CAAlB,CADM,KAIA,IAAI9e,GAAA,CAAI23B,QAAJ,CAAa7Y,CAAb,CAAJ,CACN9e,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB2gB,CAAlB,CADM,KAON,OAJAwX,OAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6B,IAAA,CAAKiC,QAAL,CAAc,mBAAd,CAA7B,CAAgE,KAAhE,CAAwE,MAAO7Z,EAA/E,CAAuF,IAAvF,CAA4FA,CAA5F,CAIOkf,CAHPh+B,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpBngB,CAAA,CAAI6Q,MAAJ,CAAW,IAAA,CAAKvW,QAAL,CAAc,mBAAd,CAAX,CAA8C,KAA9C,CAAsD,MAAO7Z,EAA7D,CAAqE,IAArE,CAA0EA,CAA1E,CADoB,CAArB,CAEG,EAFH,CAEO,IAFP,CAGOkf,CAAAK,CAAAL,CAAIA,OAGZ,IAAIh+B,GAAA,CAAI23B,QAAJ,CAAax5B,CAAb,CAAJ,CAA0B,CAEzB,GAAI,CAACA,CAAD,CAAQw3B,MAAZ;AAAsB,CAACx3B,CAAD,CAAQqsC,KAA9B,EAAuC,CAACrsC,CAAD,CAAQsgD,UAA/C,CAKC,MAJAnoB,OAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6B,IAAA,CAAKiC,QAAL,CAAc,iBAAd,CAA7B,CAA8D,IAA9D,CAAmEx6B,CAAnE,CAIO6/B,CAHPh+B,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpBngB,CAAA,CAAI6Q,MAAJ,CAAW,IAAA,CAAKvW,QAAL,CAAc,iBAAd,CAAX,CAA4C,IAA5C,CAAiDx6B,CAAjD,CADoB,CAArB,CAEG,EAFH,CAEO,IAFP,CAGO6/B,CAAAK,CAAAL,CAAIA,OAGZh+B,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CAACilC,KAAM,uBAAP,CAAlB,CAEA,KAAIlW,EAAK,IACKltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAC9BjL,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EADyB,CAE9B5a,OAAQjzB,CAFsB,CAAjB,CAAA,CAGXk4B,IAHW,CAGN,QAAQ,CAAC2J,CAAD,CAAW,CAC1B9S,CAAA,CAAGoG,GAAH,CAAOtzB,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CAAP,CAA8CxK,MAA9C,CAAqD+oB,QAArD,CAEA,IAAIvgD,CAAJ,CAAW4I,KAAX,EAAoB5I,CAApB,CAA2BwgD,QAA3B,CACCzxB,CAAA,CAAGoG,GAAH,CAAO,OAAP,CAAgBn1B,CAAhB,CAAuB4I,KAAvB,CACA,CAAAmmB,CAAA,CAAGoG,GAAH,CAAO,UAAP,CAAmBn1B,CAAnB,CAA0BwgD,QAA1B,CAKD,OAAOzxB,EAVmB,CAHb,CAcX,QAAQ,CAAC8S,CAAD,CAAU,CACpB1J,MAAA,CAAOC,WAAP,CAAmBgmB,iBAAnB,CAAqCrvB,CAAA,CAAGyL,QAAH,CAAY,oBAAZ,CAArC;AAAwEqH,CAAxE,CADoB,CAdP,CAAA,CAgBX3J,IAhBW,CAgBN,QAAQ,CAACV,CAAD,CAAS,CACQ,CAAhC,EAAIA,CAAA,CAAOC,iBAAP,EAAJ,EACCU,MAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6BxJ,CAAA,CAAGyL,QAAH,CAAY,YAAZ,CAA7B,CAAuD,GAAvD,CAA2DzL,CAAA,CAAGyL,QAAH,CAAY,SAAZ,CAA3D,CAAkF,GAAlF,CAEG,GAAE,WAAF,EAAiBx6B,EAAjB,CAAJ,EAAoD,CAAA,CAApD,GAAiCA,CAAjC,CAAwCygD,SAAxC,EAA8E,CAA9E,CAA6DzgD,CAA7D,CAAoEygD,SAApE,CACC1xB,CAAA,CAAG2xB,YAAH,EAAA,CAAkBnK,IAAlB,CAAuB,CACtBtjB,OAAQ,CACPya,MAAQ,WAAD,EAAgB1tC,EAAhB,CAA0BA,CAA1B,CAAiCygD,SAAjC,CAA6C1xB,CAAA,CAAG0I,iBAAH,EAD7C,CADc,CAItByN,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EACC1nB,CAAA,CAAG4xB,iBAAH,CAAqB,IAArB,CACA,CAAAzgB,CAAA,CAAIK,OAAJ,CAAY/I,CAAZ,CAFD,EAIC0I,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAL8C,CAJ1B,CAAvB,CADD,CAeCtW,CAAA,CAAIK,OAAJ,CAAY/I,CAAZ,CAnBuB,CAhBX,CAbW,CAA1B,IAqDCW,OAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6B,IAAA,CAAKiC,QAAL,CAAc,mBAAd,CAA7B,CAAgE,KAAhE,CAAwE,MAAOx6B,EAA/E,CAAuF,IAAvF,CAA4FA,CAA5F,CACA,CAAA6B,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpBngB,CAAA,CAAI6Q,MAAJ,CAAW,IAAA,CAAKvW,QAAL,CAAc,mBAAd,CAAX;AAA8C,KAA9C,CAAsD,MAAOx6B,EAA7D,CAAqE,IAArE,CAA0EA,CAA1E,CADoB,CAArB,CAEG,EAFH,CAEO,IAFP,CAHA,OAAOkgC,EAAP,CAAWL,OAnF0B,CAlYD,CA+dtCvT,MAAOA,QAAQ,EAAG,CAEd,MAAO,KAAA,CAAK4L,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAKxX,GAAL,CAAS,IAAT,CAFpE,CA/doB,CAqetC22B,aAAcA,QAAQ,EAAG,CAErB,MAAO,KAAA,CAAKzE,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA4E,IAAA,CAAKxX,GAAL,CAAS,OAAT,CAA5E,EAAiG,IAAA,CAAKA,GAAL,CAAS,IAAT,CAFnF,CArea,CA6ftC46C,gBAAiBA,QAAQ,CAAC5gD,CAAD,CAAS,CACjC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACVz/B,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,GACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ;AAAoB,CACnB0tC,MAAO,CADY,CAApB,CAGA,KAAImT,EAAc,IAAA,CAAKC,cAAL,EAClBD,EAAA,CAAYtK,IAAZ,CAAiB,CAChBtjB,OAAQjzB,CADQ,CAEhBklC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,CACCvW,CAAA,CAAIK,OAAJ,CAAYsgB,CAAZ,CADD,CAGC3gB,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAJ8C,CAFhC,CAAjB,CAUA,OAAOtW,EAAP,CAAWL,OAvBqB,CA7fI,CAqjBtC6W,WAAYA,QAAQ,CAAC12C,CAAD,CAAS,CAC5B,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACVz/B,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,GACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB0tC,MAAO,CADY,CAApB,CAGA,KAAIiJ,EAAS,IAAA,CAAKC,SAAL,EACbD,EAAA,CAAOJ,IAAP,CAAY,CACXtjB,OAAQjzB,CADG,CAEXklC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,CACCvW,CAAA,CAAIK,OAAJ,CAAYoW,CAAZ,CADD,CAGCzW,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAJ8C,CAFrC,CAAZ,CAUA,OAAOtW,EAAP,CAAWL,OAvBgB,CArjBS,CAglBtCihB,eAAgBA,QAAQ,CAAC9gD,CAAD,CAAS,CAChC,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,+BAAX;AAA4Cv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAA5C,CADyB,CAhlBK,CAolBtCof,UAAWA,QAAQ,CAAC52C,CAAD,CAAS,CAC3B,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,0BAAX,CAAuCv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAAvC,CADoB,CAplBU,CAwlBtCxvB,KAAMA,QAAQ,CAAC9E,CAAD,CAAKa,CAAL,CAAY,CACzB,IAAA,CAAK28C,YAAL,EAAA,CAAoB14C,IAApB,CAAyB,QAAQ,CAAC5C,CAAD,CAAMZ,CAAN,CAAS,CACzCtB,CAAA,CAAG0V,IAAH,CAAQ7U,CAAR,EAAiBqB,CAAjB,CAAsBA,CAAtB,CAA2BZ,CAA3B,CADyC,CAA1C,CADyB,CAxlBY,CA8lBtCsR,IAAKA,QAAQ,CAAC5S,CAAD,CAAKa,CAAL,CAAY,CACxB,MAAO,KAAA,CAAK28C,YAAL,EAAA,CAAoBK,QAApB,EAAA,CAA+BjrC,GAA/B,CAAmC,QAAQ,CAAC1Q,CAAD,CAAMZ,CAAN,CAAS,CAC1D,MAAOtB,EAAA,CAAG0V,IAAH,CAAQ7U,CAAR,EAAiBqB,CAAjB,CAAsBA,CAAtB,CAA2BZ,CAA3B,CADmD,CAApD,CAEJT,CAFI,EAEK,IAFL,CADiB,CA9lBa,CAomBtCi9C,oBAAqBA,QAAQ,CAAChhD,CAAD,CAAS,CACrC,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,oCAAX,CAAiDv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAAjD,CAD8B,CApmBA,CAwmBtCypB,wBAAyBA,QAAQ,CAACjhD,CAAD,CAAS,CAEzC,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,wCAAX;AAAqDv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAArD,CAFkC,CAxmBJ,CA6mBtC8e,iBAAkBA,QAAQ,CAACt2C,CAAD,CAAS,CAClC,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,iCAAX,CAA8Cv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAA9C,CAD2B,CA7mBG,CAinBtC0pB,oBAAqBA,QAAQ,CAAClhD,CAAD,CAAS,CACrC,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,oCAAX,CAAiDv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAAjD,CAD8B,CAjnBA,CAqnBtC2pB,aAAcA,QAAQ,CAACnhD,CAAD,CAAS,CAC9B,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACVz/B,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,GACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB0tC,MAAO,CADY,CAApB,CAGA,KAAI0T,EAAW,IAAA,CAAKC,WAAL,EACfD;CAAA,CAAS7K,IAAT,CAAc,CACbtjB,OAAQjzB,CADK,CAEbklC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,CACCvW,CAAA,CAAIK,OAAJ,CAAY6gB,CAAZ,CADD,CAGClhB,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAJ8C,CAFnC,CAAd,CAUA,OAAOtW,EAAP,CAAWL,OAvBkB,CArnBO,CAipBtCwhB,YAAaA,QAAQ,CAACrhD,CAAD,CAAS,CAC7B,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,4BAAX,CAAyCv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAAzC,CADsB,CAjpBQ,CAqpBtCkpB,aAAcA,QAAQ,CAAC1gD,CAAD,CAAS,CAC9B,MAAO,KAAA,CAAKshD,iBAAL,EAAA,CAA2B,IAAA,CAAKA,iBAAL,EAA3B,CAAsDz/C,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0Cv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAA1C,CAD/B,CArpBO,CA0pBtCnL,YAAaA,QAAQ,CAACrsB,CAAD,CAAS,CAC7B,GAAI,IAAA,CAAKshD,iBAAL,EAAJ,CAA8B,CAC7B,GAAIthD,CAAJ,WAAsBm4B,OAAtB,CAA6BvZ,IAA7B,CAAkCk9B,KAAlC,CAAwCyF,QAAxC,CACC,MAAOvhD,EAEH,IAAI6B,GAAA,CAAI2/C,SAAJ,CAAcxhD,CAAd,CAAJ,CACJ,MAAO,KAAA,CAAKshD,iBAAL,EAAA,CAAyB5F,KAAzB,CAA+B7uB,QAAA,CAAS7sB,CAAT,CAA/B,CAEH;GAAI6B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAAJ,CACJ,MAAO,KAAA,CAAKshD,iBAAL,EAAA,CAAyB/E,OAAzB,CAAiCv8C,CAAjC,CARqB,CAW9B,MAAO,KAAA,CAAKk4B,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAK8jC,iBAAL,EAAA,CAAyBj1B,WAAzB,CAAqCrsB,CAArC,CAZrD,CA1pBQ,CAyqBtCy3B,kBAAmBA,QAAQ,EAAG,CAC7B,MAAO,KAAA,CAAKS,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAKxX,GAAL,CAAS,gBAAT,CADrD,CAzqBQ,CA6qBtCy7C,mBAAoBA,QAAQ,EAAG,CAC3B,MAAO,KAAA,CAAKvpB,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAKxX,GAAL,CAAS,oBAAT,CADvD,CA7qBO,CAirBtC07C,kBAAmBA,QAAQ,EAAG,CAC1B,MAAO,KAAA,CAAKxpB,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C;AAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAKxX,GAAL,CAAS,mBAAT,CADxD,CAjrBQ,CAqrBtC27C,eAAgBA,QAAQ,EAAG,CACvB,MAAO,KAAA,CAAKzpB,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAKxX,GAAL,CAAS,aAAT,CAD3D,CArrBW,CAyrBtC47C,iBAAkBA,QAAQ,EAAG,CAC5B,IAAIC,EAAmB,IAAA,CAAKC,mBAAL,EACvB,OAAyB,MAAzB,EAAOD,CAAP,EAAqD,gBAArD,EAAmCA,CAFP,CAzrBS,CA8rBtCC,oBAAqBA,QAAQ,EAAG,CAE5B,MAAO,KAAA,CAAK5pB,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAKxX,GAAL,CAAS,kBAAT,CAFtD,CA9rBM,CAmsBtCmxC,SAAUA,QAAQ,EAAG,CACpB,MAAO,KAAA,CAAKjf,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ;AAA2E,IAAA,CAAKxX,GAAL,CAAS,OAAT,CAD9D,CAnsBiB,CAusBtC+7C,YAAaA,QAAQ,EAAG,CACvB,MAAO,KAAA,CAAK7pB,IAAL,CAAYC,MAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAAZ,CAA2E,IAAA,CAAKxX,GAAL,CAAS,UAAT,CAD3D,CAvsBc,CA2sBtCg8C,gBAAkBA,QAAQ,CAAChiD,CAAD,CAAS,CAClC,MAAO6B,IAAA,CAAIu4B,MAAJ,CAAW,gCAAX,CAA6Cv4B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAACw3B,OAAQ,IAAT,CAAxB,CAA7C,CAD2B,CA3sBG,CA+sBtCyqB,iBAAmBA,QAAQ,CAACjiD,CAAD,CAAS,CAEnC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACVz/B,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,GACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB0tC,MAAO,CADY,CAApB,CAGmB,KAAAwU,CAAKF,eAALE,EACnB,CAAa3L,IAAb,CAAkB,CACjBtjB,OAAQjzB,CADS;AAEjBklC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,CACCvW,CAAA,CAAIK,OAAJ,CAAY3W,CAAZ,CADD,CAGCsW,CAAA,CAAI6Q,MAAJ,CAAWyF,CAAX,CAAqB9V,KAArB,CAA2BmB,QAA3B,CAJ8C,CAF/B,CAAlB,CAUA,OAAO3B,EAAP,CAAWL,OAxBuB,CA/sBE,CAuwBtCuY,QAASA,QAAQ,CAACp4C,CAAD,CAAS,CACzB,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAA6D,IAA7D,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACPz/B,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,CACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAEW6B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAFX,GAGCA,CAHD,CAGU,CAAC0tC,MAAO7gB,QAAA,CAAS7sB,CAAT,CAAR,CAHV,CAKA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CAChB0tC,MAAO,CADS,CAEnB4K,aAAc,MAFK,CAGnBvK,SAAU,gBAHS,CAApB,CAKAlsC,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACdilC,KAAM,uBADQ,CAEdzN,OAAQ,IAAA,CAAKmF,YAAL,EAFM,CAAlB,CAIG96B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EADQ;AAEb5a,OAAQjzB,CAFK,CAGby2C,QAASA,QAAQ,CAAC5U,CAAD,CAAWya,CAAX,CAAiB,CAC7B96B,CAAAA,CAAOqgB,CAAA,CAASG,YAAT,CAAsBoV,IAAtB,EACPp3C,EAAJ,CAAWmiD,aAAX,GAC2C,EAA1C,CAAIniD,CAAA,CAAOmiD,aAAP,CAAqBt5C,OAArB,CAA6B,OAA7B,CAAJ,CACC2Y,CADD,CACQA,CAAA,CAAK0C,WAAL,EADR,CAEiD,EAFjD,CAEWlkB,CAAA,CAAOmiD,aAAP,CAAqBt5C,OAArB,CAA6B,OAA7B,CAFX,GAGC2Y,CAHD,CAGQA,CAAA,CAAK4gC,WAAL,EAHR,CADD,CAOAliB,EAAA,CAAIK,OAAJ,CAAY/e,CAAZ,CATiC,CAHrB,CAcb08B,QAASA,QAAQ,CAACrc,CAAD,CAAWya,CAAX,CAAiB,CACjCpc,CAAA,CAAI6Q,MAAJ,CAAWlP,CAAX,CADiC,CAdrB,CAiBb99B,MAAO,IAjBM,CAAjB,CAmBH,OAAOm8B,EAAP,CAAWL,OAvCU,CAvwBY,CAq0BnCwY,aAAcA,QAAQ,CAACr4C,CAAD,CAAS,CACjC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEJxd,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,CACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAEW6B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAFX,GAGCA,CAHD,CAGU,CAAC0tC,MAAO7gB,QAAA,CAAS7sB,CAAT,CAAR,CAHV,CAKA6B,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjB+tC,SAAU,qBADO,CAAlB,CAGH,OAAO,KAAA,CAAKqK,OAAL,CAAap4C,CAAb,CAbyB,CAr0BI;AA02BnCqiD,SAAUA,QAAQ,CAACriD,CAAD,CAAS,CAC7B,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEJxd,EAAA,CAASA,CAAT,EAAmB,EACf6B,IAAA,CAAIwwC,QAAJ,CAAaryC,CAAb,CAAJ,CACCA,CADD,CACU,CAAC0tC,MAAO1tC,CAAR,CADV,CAEW6B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAFX,GAGCA,CAHD,CAGU,CAAC0tC,MAAO7gB,QAAA,CAAS7sB,CAAT,CAAR,CAHV,CAKA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB+tC,SAAU,iBADS,CAApB,CAGH,OAAO,KAAA,CAAKqK,OAAL,CAAap4C,CAAb,CAbqB,CA12BQ,CA+4BnCsiD,cAAeA,QAAQ,CAACtiD,CAAD,CAAS,CAClC,GAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACP,KAAA,CAAK4iB,QAAL,CAAcriD,CAAd,CAAA,CAAsBk4B,IAAtB,CAA2B,QAAQ,CAAC1W,CAAD,CAAO,CAC5C0e,CAAA,CAAIK,OAAJ,CAAY/e,CAAA,CAAKyE,KAAL,CAAW,GAAX,CAAZ,CAD4C,CAA1C,CAGH,OAAOia,EAAP,CAAWL,OARsB,CA/4BG,CA+6BnC2Y,eAAgBA,QAAQ,CAACx4C,CAAD,CAAS,CAChCA,CAAA;AAASA,CAAT,EAAmB,EACtB,IAAI,IAAJ,CAASk4B,IAAT,CACC,MAAOC,OAAA,CAAOC,WAAP,CAAmBC,wBAAnB,CAA4C,IAA5C,CAAkD7a,SAAlD,CAEP,KAAI0iB,EAAM/H,MAAA,CAAOC,WAAP,CAAmBqH,WAAnB,CAA+B,IAA/B,CACV59B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB+tC,SAAU,kBADS,CAEnBwU,cAAe,CAAA,CAFI,CAGnBhK,SAAU,CAAA,CAHS,CAApB,CAKG,KAAA,CAAK8J,QAAL,CAAcriD,CAAd,CAAA,CAAsBk4B,IAAtB,CAA2B,QAAQ,CAAC1W,CAAD,CAAO,CACrCghC,CAAAA,CAAShhC,CAAA,CAAKyE,KAAL,CAAW,GAAX,CAAA,CAAgBnQ,GAAhB,CAAoB,QAAQ,CAAC8d,CAAD,CAAO,CAAC,MAAOA,EAAA,CAAKiE,SAAL,CAAe,CAAf,CAAkBjE,CAAA,CAAK/qB,OAAL,CAAa,GAAb,CAAlB,CAAR,CAAnC,CAChBq3B,EAAA,CAAIK,OAAJ,CAAYiiB,CAAZ,CAF4C,CAA1C,CAIH,OAAOtiB,EAAP,CAAWL,OAfuB,CA/6BE,CA89BnCuS,UAAWA,QAAQ,CAACpyC,CAAD,CAAS,CAC9B,IAAImU,EAAO,IAAA,CAAKsjB,iBAAL,EAAX,CACIyJ,EAAU,IAAA,CAAK1G,QAAL,CAAc,YAAd,CACd,IAAU,CAAV,EAAIrmB,CAAJ,CAAc+sB,CAAA,EAAW,GAAX,CAAe,IAAA,CAAK1G,QAAL,CAAc,SAAd,CAAf,CAAwC,GAAtD,KACK,CACJ0G,CAAA,EAAS,GAERA,EAAA,CADQ,CAAT,CAAI/sB,CAAJ,CACC+sB,CADD,CACU,CAAA,IAAIr/B,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,eAAd,CAAlB,CAAA,EAAkDv0B,KAAlD,CAAwD,CAACkG,MAAOtK,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBxuC,CAAvB;AAA4B,OAA5B,CAAR,CAAxD,CADV,CAIC+sB,CAJD,CAIU,IAAA,CAAK1G,QAAL,CAAc,cAAd,CAEV0G,EAAA,EAAS,GAAT,CAAa,CAAA,IAAIr/B,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,sBAAd,CAAlB,CAAA,EAAyDv0B,KAAzD,CAA+D,CAAC28C,MAAO/gD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuB,IAAA,CAAKlB,kBAAL,EAAvB,CAAiD,OAAjD,CAAR,CAAmEoB,MAAOhhD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuB,IAAA,CAAKjB,iBAAL,EAAvB,CAAgD,OAAhD,CAA1E,CAA/D,CAAb,CAAiN,GACjNxgB,EAAA,EAAS,GAAT,CAAa,IAAA,CAAK1G,QAAL,CAAc,SAAd,CAAb,CAAsC,GACtC,KAAIsoB,EAAc,IAAA,CAAK98C,GAAL,CAAS,aAAT,CAAlB,CACI+8C,EAAM,IAAIh0C,IAkBV,EAAA,CAjBJ,GAAIlN,GAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe,CACZ,CAAC,MAAD,CAASnG,GAAT,CAAakN,IAAb,CAAkBi0C,IAAlB,CADY,CAEZ,CAAC,OAAD,CAAUnhD,GAAV,CAAckN,IAAd,CAAmBk0C,KAAnB,CAFY,CAGZ,CAAC,KAAD,CAAQphD,GAAR,CAAYkN,IAAZ,CAAiBm0C,GAAjB,CAHY,CAIZ,CAAC,MAAD,CAASrhD,GAAT,CAAakN,IAAb,CAAkBo0C,IAAlB,CAJY,CAKZ,CAAC,QAAD,CAAWthD,GAAX,CAAekN,IAAf,CAAoBq0C,MAApB,CALY,CAMZ,CAAC,QAAD,CAAWvhD,GAAX,CAAekN,IAAf,CAAoBs0C,MAApB,CANY,CAAf,CAOG,QAAQ,CAACzzC,CAAD,CAAO,CACd,GAAI/N,GAAA,CAAIkN,IAAJ,CAASu0C,IAAT,CAAcR,CAAd;AAA2BC,CAA3B,CAAgCnzC,CAAA,CAAK,CAAL,CAAhC,CAAJ,EAAuD,QAAT,EAAAA,CAAA,CAAK,CAAL,CAAA,CAAoB,CAApB,CAAwB,CAAtE,EAA0E,CACzE,IAAIzD,EAAQtK,GAAA,CAAIkN,IAAJ,CAASu0C,IAAT,CAAcR,CAAd,CAA2BC,CAA3B,CAAgCnzC,CAAA,CAAK,CAAL,CAAhC,CACZsxB,EAAA,EAAS,oCAAT,CAA8Cr/B,GAAA,CAAIkN,IAAJ,CAAS+hB,MAAT,CAAgBgyB,CAAhB,CAA6B,cAA7B,CAA9C,CAA2F,IAC5E5hB,EAAA,CAAJ,CAAX,EAAI/0B,CAAJ,CAAe+0B,CAAf,CAAwB,CAAA,IAAIr/B,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc5qB,CAAA,CAAK,CAAL,CAAd,CAAsB,KAAtB,CAAlB,CAAA,EAAgD3J,KAAhD,CAAsD,CAACkG,MAAOA,CAAR,CAAe4/B,KAAM+W,CAArB,CAAtD,CAAxB,CACM5hB,CADN,CACe,CAAA,IAAIr/B,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc5qB,CAAA,CAAK,CAAL,CAAd,CAAsB,MAAtB,CAAlB,CAAA,EAAiD3J,KAAjD,CAAuD,CAACkG,MAAOA,CAAR,CAAe4/B,KAAM+W,CAArB,CAAvD,CACf5hB,EAAA,EAAS,SACT,OAAO,CAAA,CANkE,CAD5D,CAPlB,CAgBA,IAhBA,CAAJ,GAkBCA,CAlBD,EAkBU,IAAA,CAAK1G,QAAL,CAAc,KAAd,CAlBV,CAoBA0G,EAAA,EAAS,GAETA,EAAA,EAAS,EAlCL,CAoCQ,CAAA,CAAb,GAAIlhC,CAAJ,GAAoBkhC,CAApB,EAA6B,IAA7B,CAAkC,IAAA,CAAK5U,KAAL,EAAlC,CAA+C,GAA/C,CACA,OAAO4U,EAzCuB,CA99BO,CAAvC,C,CCjCAr/B,GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CACvCyI,OAAQ,yBAD+B,CAEvC7H,OAAQ,CAAC,0BAAD,CAA6B,iBAA7B,CAF+B,CAGvC4V,MAAO,uBAHgC,CAIvCxU,QAAS,CACPG,KAAM,EADC,CAGPpB,IAAK,CACJyqB,SAAUj7C,IAAAA,EADN,CAHE,CAJ8B,CAYvCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1BA,CAAA,CAASA,CAAT,EAAmB,EAGzB,KAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CAEI,KAAIoB,EAAO,CAAC,CAAC,aAAD,CAAe,qBAAf,CAAD,CAAuC,CAAC,QAAD,CAAU,iBAAV,CAAvC,CAEP,KAAA,CAAKuN,WAAL,CAAiB,UAAjB,CAAJ,CACFvN,CADE,CACK,IAAA,CAAK4kC,2BAAL,CAAiC,IAAA,CAAKr3B,WAAL,CAAiB,UAAjB,CAAjC,CADL,CAEOgM,MAFP,CAEcC,WAFd,EAE6BD,MAF7B,CAEoCC,WAFpC,CAEgDqrB,WAFhD;AAE+DtrB,MAAA,CAAOC,WAAP,CAAmBqrB,WAAnB,EAF/D,GAGClR,CAMJ,CANUpa,MAAA,CAAOC,WAAP,CAAmBqrB,WAAnB,EAMV,CALAlR,CAKA,CALMmR,kBAAA,CAAmBnR,CAAnB,CAKN,CAJAA,CAIA,CAJMA,CAAA,CAAI7sC,OAAJ,CAAY,KAAZ,CAAkB,GAAlB,CAIN,CAHmB,GAGnB,EAHI6sC,CAAA,CAAI7P,MAAJ,CAAW,CAAX,CAGJ,EAHoD,GAGpD,EAH0B6P,CAAA,CAAI7P,MAAJ,CAAW6P,CAAX,CAAe9tC,MAAf,CAAsB,CAAtB,CAG1B,GAFC8tC,CAED,CAFOA,CAAA,CAAI1a,SAAJ,CAAc,CAAd,CAAiB0a,CAAjB,CAAqB9tC,MAArB,CAA4B,CAA5B,CAEP,EAAAma,CAAA,CAAO,IAAA,CAAK4kC,2BAAL,CAAiCjR,CAAjC,CATJ,CAYA1wC,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB67B,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CADO,CAEbuB,WAAY,GAFC,CAGbD,WAAY,OAHC,CAIb3a,KAAK,QAJQ,CAKbwa,UAAU,OALG,CAMbO,MAAOtd,CANM,CAApB,CAQE,KAAA,CAAKmiB,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CA5B0B,CAZS,CA2CtCmvC,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/BA,CAAA,CAASA,CAAT,EAAmB,EACjB,KAAA,CAAK+gC,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAF6B,CA3CM,CAgDvCwjD,4BAA6BA,QAAQ,CAACG,CAAD,CAAa,CAAA,IAC5C/kC,EAAO,EAAI8c,EAAAA,CAAQioB,CAAA,CAAW19B,KAAX,CAAiB,GAAjB,CACvB;IAAK,IAAIzhB,EAAE,CAAX,CAAcA,CAAd,CAAgBk3B,CAAhB,CAAsBj3B,MAAtB,CAA8BD,CAAA,EAA9B,CAAmC,CAClC,IAAIo/C,EAAYloB,CAAA,CAAMl3B,CAAN,CAAA,CAASyhB,KAAT,CAAe,GAAf,CACZ29B,EAAA,CAAU,CAAV,CAAJ,EACIhlC,CAAA,CAAK/X,IAAL,CAAU,CAAC+8C,CAAA,CAAU,CAAV,CAAD,CAAcA,CAAA,CAAU,CAAV,CAAA,CAAeA,CAAA,CAAU,CAAV,CAAf,CAA8BA,CAAA,CAAU,CAAV,CAA5C,CAAV,CAH8B,CAMnC,MAAOhlC,EARyC,CAhDX,CAA3C,C,CCAA/c,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACnCyI,OAAQ,yBAD2B,CAEnC7H,OAAQ,CAAC,0BAAD,CAF2B,CAGnC4V,MAAO,mBAH4B,CAInCsV,OAAQ,MAJ2B,CAKnC9pB,QAAS,CACRG,KAAM,EADE,CAL0B,CASnCiV,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAE/B,IAAI0B,EAAQ,IAAA,CAAK66B,EAAL,CAAQ,QAAR,CAAA,CAAkB0H,KAAlB,CAAwB9X,WAAxB,CAAoC,IAApC,CAAyChL,IAAzC,CAAZ,CACIvC,EAAOld,CAAA,CAAQ,CAAC,CAACyf,KAAMzf,CAAP,CAAcA,MAAOA,CAArB,CAAD,CAAR,CAAwC,EAEnDkd,EAAA,CAAK4W,MAAL,CAAY,CAAZ,CAAe,CAAf,CAAkB,CAACrU,KAAO,IAAA,CAAKqZ,QAAL,CAAc,MAAd,CAAR,CAAiC94B,MAAO,EAAxC,CAAlB,CAAgE,CAACyf,KAAO,IAAA,CAAKqZ,QAAL,CAAc,KAAd,CAAR,CAAgC94B,MAAO,KAAvC,CAAhE,CACAG,IAAA,CAAIoE,KAAJ,CALS8oB,IAKT,CAAc,CACZ2M,MAAO,CAAC,CACD74B,MAAO,OADN,CAED84B,UAAW,OAFV,CAGDj6B,MAAOA,CAHN,CAIDoiD,cAAe,KAJd,CAKDloB,SAAU,CAAA,CALT,CAMDC,WAAY,IAAA,CAAKrB,QAAL,CAAc,IAAd,CAAmBrZ,IAAnB,CAAwB,OAAxB,CANX;AAOD2a,WAAY,OAPX,CAQD3a,KAAM,IAANA,CAAWA,IARV,CASD6a,aAAc,MATb,CAUDC,WAAY,OAVX,CAWDC,MAAO,CACH7B,OAAQ,CAAC,MAAD,CAAS,OAAT,CADL,CAEHzb,KAAMA,CAFH,CAXN,CAAD,CAeJ,CAACnc,MAAO,EAAR,CAfI,CAeS,CAACI,MAAO,UAAR,CAfT,CAe8B,CACpCA,MAAO,QAD6B,CAEpC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAF8B,CAG9B4B,GAAI,iBAH0B,CAIpCjB,QAAS,IAATA,CAAc4oB,QAJsB,CAKpChgD,MAAO,IAL6B,CAf9B,CADK,CAAd,CALSgrB,KA6BN,CAAGgS,UAAH,CAAcvjB,SAAd,CA9B4B,CATG,CA0CnCumC,SAAUA,QAAQ,EAAG,CAEpB,IAAI9f,EADM,IAAA9Z,CAAKoS,EAALpS,CAAQ,QAARA,CACN8Z,CAAYA,KAAhB,CACIviC,EAAQ,IAAA,CAAKwuB,IAAL,CAAU,OAAV,CAAA,CAAmB+Y,QAAnB,EACZpnC,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK/B,CAAA,CAAM4J,cAAN,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,0BADC,CAEP+e,KAAMtiD,CAFC,CAFK,CAMb+0C,QAASA,QAAQ,CAAC5U,CAAD,CAAU,CAEtBoiB,CAAAA,CADOpiD,GAAAye,CAAIxe,IAAJwe,CAASkH,IAATlH,CAAc+wB,MAAd/wB,CAAqBuhB,CAArBvhB,CAA8B0hB,YAA9B1hB,CACI,CAAK2jC,QAAL,CAAcA,QAAd,CAAuBt+C,IAAvB,EAAA,CAA8B0F,IAA9B,CAAmC,IAAnC,CAClBxJ;GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,eAAd,CADE,CAET0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,iBAAd,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiB+nB,QAHR,CAITC,WAAY,CACRC,GAAI,IAAA,CAAK5pB,QAAL,CAAc,IAAd,CADI,CAER6pB,OAAQ,IAAA,CAAK7pB,QAAL,CAAc,QAAd,CAFA,CAJH,CAQTiH,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IARL,CASTC,OAAQ,CAAA,CATC,CAUNC,UAAW,CAAA,CAVL,CAWNnnC,MAAOuiD,CAXD,CAYNK,SAAUL,CAZJ,CAaN/gD,GAAIA,QAAQ,CAACo5B,CAAD,CAAK56B,CAAL,CAAWsiD,CAAX,CAAiB,CACnB,IAAT,EAAI1nB,CAAJ,EAAiB0nB,CAAjB,CAAsBM,QAAtB,EAAgC5iD,CAAhC,GACK6iD,CACJ,CADY,IAAA,CAAKr0B,IAAL,CAAU,OAAV,CACZ,CAAmC,CAAnC,EAAIruB,GAAA,CAAImmC,MAAJ,CAAWoP,IAAX,CAAgB11C,CAAhB,CAAJ,CAA2B+C,MAA3B,CACC8/C,CAAA,CAAMxc,QAAN,CAAe,OAAf,CADD,CAIIlmC,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK/B,CAAA,CAAM4J,cAAN,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,yBADC,CAEVqL,cAAe5uC,CAFL,CAFK,CAMb6iD,MAAOA,CANM,CAOb9N,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAChC,IAAIlkC,EAAOze,GAAA,CAAIC,IAAJ,CAAS0lB,IAAT,CAAc6pB,MAAd,CAAqBxP,CAArB,CAA8BG,YAA9B,CACP9F;CAAAA,CAAQsoB,CAAA,CAAID,KAAJ,CAAUvvB,QAAV,EACRtzB,EAAAA,CAAQ,WAARA,CAAoB4e,CAApB5e,CAAyB4vC,cAAzB5vC,CAAwCiB,EAC5Cu5B,EAAA,CAAMt5B,GAAN,CAAU,CAACue,KAAMzf,CAAP,CAAcA,MAAOA,CAArB,CAAV,CACA8iD,EAAA,CAAID,KAAJ,CAAUxc,QAAV,CAAmBrmC,CAAnB,CACA8iD,EAAA,CAAID,KAAJ,CAAUvgD,YAAV,EANgC,CAPpB,CAebD,MAAO,IAfM,CAAjB,CANL,CAD4B,CAbvB,CAwCNA,MAAO,IAxCD,CAAb,CAH6B,CANd,CAoDbA,MAAO,IApDM,CAAjB,CAJoB,CA1Cc,CAAvC,C,CCAAlC,GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CACvCyI,OAAQ,yBAD+B,CAEvC7H,OAAQ,CAAC,0BAAD,CAF+B,CAGvC4V,MAAO,uBAHgC,CAIvCsV,OAAQ,MAJ+B,CAKvC9pB,QAAS,CACP0qB,UAAW,CACPC,GAAI,2BADG,CAEVC,GAAI,8BAFM,CAGVC,GAAI,2BAHM,CAIVC,GAAI,4BAJM,CAKVC,IAAK,6BALK,CAMVC,GAAI,8BANM,CAOVC,GAAI,0BAPM,CAQVC,GAAI,oBARM,CASV3gD,GAAI,0BATM,CAUV4gD,GAAI,uBAVM,CAWVC,GAAI,qBAXM;AAYVC,GAAI,2BAZM,CAaVC,GAAI,0BAbM,CAcVC,GAAI,qBAdM,CAeVC,GAAI,0BAfM,CAgBVC,GAAI,6BAhBM,CAiBVC,IAAK,4BAjBK,CAkBVC,GAAI,0BAlBM,CAmBVC,GAAI,uBAnBM,CAoBVC,GAAI,6BApBM,CAqBVjjD,GAAI,+BArBM,CAsBVkjD,GAAI,qBAtBM,CAuBVC,GAAI,6BAvBM,CAwBVC,GAAI,mBAxBM,CAyBVC,GAAI,4BAzBM,CA0BVC,GAAI,+BA1BM,CA2BVC,GAAI,mBA3BM,CA4BVC,GAAI,mBA5BM;AA6BVC,GAAI,uBA7BM,CA8BVC,GAAI,uBA9BM,CA+BVC,GAAI,6BA/BM,CAgCVC,GAAI,qBAhCM,CAiCVC,GAAI,0BAjCM,CAkCVC,GAAI,yBAlCM,CAmCVC,GAAI,4BAnCM,CADJ,CAsCPxsB,KAAM,EAtCC,CAL8B,CA+CvCiV,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAE/B,IAAI0B,EAAQ,IAAA,CAAK66B,EAAL,CAAQ,QAAR,CAAA,CAAkB0H,KAAlB,CAAwB9X,WAAxB,CAAoC,UAApC,CAAZ,CACIvN,EAAO,EACX,KAAKjc,EAAL,GAAWw1B,OAAX,CAAkB0c,MAAlB,CAAyB8R,cAAzB,CAAwClC,SAAxC,CACC7lC,CAAA,CAAK/X,IAAL,CAAU,CAACsa,KAAM,IAAA,CAAKqZ,QAAL,CAAc73B,EAAd,CAAP,CAA0BjB,MAAOy2B,MAAA,CAAO0c,MAAP,CAAc8R,cAAd,CAA6BlC,SAA7B,CAAuC9hD,EAAvC,CAAjC,CAAV,CAEDic,EAAA,CAAKjZ,IAAL,CAAU,QAAQ,CAACme,CAAD,CAAGtY,CAAH,CAAM,CACvB,MAAOsY,EAAA,CAAE3C,IAAF,CAAS3V,CAAT,CAAW2V,IAAX,CAAkB,EAAlB,CAAuB,CADP,CAAxB,CAGAvC,EAAA,CAAK4W,MAAL,CAAY,CAAZ,CAAe,CAAf,CAAkB,CAACrU,KAAO,IAAA,CAAKqZ,QAAL,CAAc,MAAd,CAAR;AAAiC94B,MAAO,MAAxC,CAAlB,CAAmE,CAACyf,KAAO,IAAA,CAAKqZ,QAAL,CAAc,MAAd,CAAR,CAAiC94B,MAAO,EAAxC,CAAnE,CAAiH,CAACyf,KAAO,IAAA,CAAKqZ,QAAL,CAAc,KAAd,CAAR,CAAgC94B,MAAO,KAAvC,CAAjH,CACAG,IAAA,CAAIoE,KAAJ,CAVS8oB,IAUT,CAAc,CACZ2M,MAAO,CAAC,CACD74B,MAAO,OADN,CAED84B,UAAW,OAFV,CAGDj6B,MAAOA,CAHN,CAIDoiD,cAAe,KAJd,CAKDloB,SAAU,CAAA,CALT,CAMDC,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CANX,CAODsB,WAAY,OAPX,CAQD3a,KAAM,UARL,CASD6a,aAAc,MATb,CAUDC,WAAY,OAVX,CAWDC,MAAO,CACH7B,OAAQ,CAAC,MAAD,CAAS,OAAT,CADL,CAEHzb,KAAMA,CAFH,CAXN,CAAD,CAeJ,CAACnc,MAAO,EAAR,CAfI,CAeS,CAACI,MAAO,UAAR,CAfT,CAe8B,CACpCA,MAAO,QAD6B,CAEpC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAF8B,CAG9B4B,GAAI,iBAH0B,CAIpCjB,QAAS,IAATA,CAAc4oB,QAJsB,CAKpChgD,MAAO,IAL6B,CAf9B,CAqBJ,CAACtB,MAAO,EAAR,CArBI,CAqBS,CACfI,MAAO,UADQ,CAEfse,KAAM,gBAFS;AAGfslB,QAAS,CAAA,CAHM,CAIfH,SAAU,IAAA,CAAK9L,QAAL,CAAc,eAAd,CAJK,CArBT,CADK,CAAd,CAVSzL,KAuCN,CAAGgS,UAAH,CAAcvjB,SAAd,CAxC4B,CA/CO,CA0FvCumC,SAAUA,QAAQ,EAAG,CAEpB,IAAI9f,EADM,IAAA9Z,CAAKoS,EAALpS,CAAQ,QAARA,CACN8Z,CAAYA,KAAhB,CACIviC,EAAQ,IAAA,CAAKwuB,IAAL,CAAU,OAAV,CAAA,CAAmB+Y,QAAnB,EADZ,CAEIkH,EAAWlM,CAAA,CAAMpP,cAAN,EAAwBoP,CAAA,CAAMpP,cAAN,EAAxB,CAA+CzI,SAA/C,CAA2D6X,CAAA,CAAMpP,cAAN,EAAA,CAAuBzI,SAAvB,EAAA,CAAmCE,KAAnC,EAA3D,CAAwGhkB,IAAAA,EAC5G,OAAX,EAAI5G,CAAJ,EAAsByuC,CAAtB,CASAtuC,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK/B,CAAA,CAAM4J,cAAN,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,0BADC,CAEV2hB,SAAUllD,CAFA,CAGV81B,OAAQ2Y,CAHE,CAFK,CAObsG,QAASA,QAAQ,CAAC5U,CAAD,CAAU,CAEtBoiB,CAAAA,CADOpiD,GAAAye,CAAIxe,IAAJwe,CAASkH,IAATlH,CAAc+wB,MAAd/wB,CAAqBuhB,CAArBvhB,CAA8B0hB,YAA9B1hB,CACI,CAAK2jC,QAAL,CAAcA,QAAd,CAAuBt+C,IAAvB,EAAA,CAA8B0F,IAA9B,CAAmC,IAAnC,CAClBxJ,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,mBAAd,CADE;AAET0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,qBAAd,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiB+nB,QAHR,CAITC,WAAY,CACRC,GAAI,IAAA,CAAK5pB,QAAL,CAAc,IAAd,CADI,CAER6pB,OAAQ,IAAA,CAAK7pB,QAAL,CAAc,QAAd,CAFA,CAJH,CAQTiH,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IARL,CASTC,OAAQ,CAAA,CATC,CAUNC,UAAW,CAAA,CAVL,CAWNnnC,MAAOuiD,CAXD,CAYNK,SAAUL,CAZJ,CAaN/gD,GAAIA,QAAQ,CAACo5B,CAAD,CAAK56B,CAAL,CAAWmlD,CAAX,CAAqB,CAEhCnlD,CAAA,CAAQA,CAAA,CAAMwiB,WAAN,EACC,KAAT,EAAIoY,CAAJ,EAAiBuqB,CAAjB,CAA0BvC,QAA1B,EAAoC5iD,CAApC,GACK6iD,CACJ,CADY,IAAA,CAAKr0B,IAAL,CAAU,OAAV,CACZ,CAAmC,CAAnC,EAAIruB,GAAA,CAAImmC,MAAJ,CAAWoP,IAAX,CAAgB11C,CAAhB,CAAJ,CAA2B+C,MAA3B,CACC8/C,CAAA,CAAMxc,QAAN,CAAe,OAAf,CADD,CAIIlmC,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK/B,CAAA,CAAM4J,cAAN,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,yBADC,CAEVqL,cAAe5uC,CAFL,CAGV81B,OAAQ2Y,CAHE,CAFK,CAOboU,MAAOA,CAPM,CAQb9N,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAChC,IAAIlkC,EAAOze,GAAA,CAAIC,IAAJ,CAAS0lB,IAAT,CAAc6pB,MAAd,CAAqBxP,CAArB,CAA8BG,YAA9B,CACP9F;CAAAA,CAAQsoB,CAAA,CAAID,KAAJ,CAAUvvB,QAAV,EACRtzB,EAAAA,CAAQ,WAARA,CAAoB4e,CAApB5e,CAAyB4vC,cAAzB5vC,CAAwCiB,EAC5Cu5B,EAAA,CAAMt5B,GAAN,CAAU,CAACue,KAAMzf,CAAP,CAAcA,MAAOA,CAArB,CAAV,CACA8iD,EAAA,CAAID,KAAJ,CAAUxc,QAAV,CAAmBrmC,CAAnB,CACA8iD,EAAA,CAAID,KAAJ,CAAUvgD,YAAV,EANgC,CARpB,CAgBbD,MAAO,IAhBM,CAAjB,CANL,CAHgC,CAb3B,CA2CNA,MAAO,IA3CD,CAAb,CAH6B,CAPd,CAwDbA,MAAO,IAxDM,CAAjB,CATA,CACClC,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,iBAAd,CADK,CAEZ0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,mBAAd,CAFG,CAGZ2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHL,CAIZC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJF,CAAb,CANmB,CA1FkB,CAA3C,C,CCAA9/B,GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CACzCyI,OAAQ,oBADiC,CAEzC7H,OAAQ,CAAC,0BAAD,CAFiC,CAGzC4V,MAAO,yBAHkC,CAI5CxU,QAAS,CACRG,KAAM,EADE,CAJmC,CAQ5Cl6B,OAAQ,CACPw3B,OAAQlvB,IAAAA,EADD,CAEPw+C,UAAW,SAFJ,CAGPC,WAAY,CAAA,CAHL,CAIPC,qBAAsB1+C,IAAAA,EAJf,CAKPs+C,SAAUt+C,IAAAA,EALH,CAMP2+C,8BAA+B,CAAA,CANxB,CAOPC,aAAc,CAAA,CAPP,CAQPjN,YAAa3xC,IAAAA,EARN,CASP6+C,4BAA6B7+C,IAAAA,EATtB,CARoC,CAmB5C8+C,wBAAyB,CAAA,CAnBmB,CAoB5CC,WAAY,CAAA,CApBgC,CAsBzChlD,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE7BA,CAAA,CAASA,CAAT,EAAmB,EAInB6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBsnD,SAAU,GADS,CAEnBC,SAAU,GAFS,CAGnBC,gBAAkB,CAAA,CAHC,CAInBC,SAAU,CAJS;AAKhBzrB,aAAc,MALE,CAMhBC,WAAY,MANI,CAOhByrB,eAAgB,CAAA,CAPA,CAQhBC,iBAAkB,CAAA,CARF,CAShBC,gBAAiB,CAAA,CATD,CAUhBC,WAAY,CAAA,CAVI,CAYhBC,IAAK,CACJ,wCADI,CAEJ,0EAFI,EAfK9nD,CAAA+nD,CAAOA,OAAPA,CAAiB/nD,CAAjB+nD,CAAwBA,OAAxBA,CAAmC/nD,CAAA,CAAOgnD,oBAAP,CAC9C,0HAD8C,CAE9C,iHAaM;AAE+E,OAF/E,CAGJ,aAHI,CAZW,CAiBhBgB,SAAU,CACNljB,KAAM,CACFmjB,OAAQ,CADN,CAEFC,IAAK,iCAFH,CAGF/sB,QAASA,QAAQ,EAAG,CACnBt5B,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,aAAd,CADE,CAET0G,QAAS,IAAA,CAAKinB,aAAL,EAAA,CAAuB,IAAA,CAAK3tB,QAAL,CAAc,wBAAd,CAAvB,CAAiE,IAAA,CAAKA,QAAL,CAAc,gBAAd,CAFjE,CAGT2B,QAASt6B,GAATs6B,CAAaqF,EAHJ,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAAb,CADmB,CAHlB,CAWF5kC,MAAO,MAXL,CADA,CAjBM,CAApB,CAiCI/D,EAAJ,CAAWinD,6BAAX,GACCjnD,CADD,CACQgoD,QADR,CACiB77C,KADjB,CACyB,CACjB+7C,IAAK,YADY,CAEjB/sB,QAAS,aAFQ,CAGjBp3B,MAAO,MAHU,CAIjBgG,OAAQ,CAAA,CAJS,CADzB,CAQI/J,EAAJ,CAAWknD,YAAX,EACC,IAAA,CAAKkB,eAAL,CAAqBpoD,CAArB,CAA4BknD,YAA5B,CAEE,KAAA,CAAKnmB,UAAL,CAAgBvjB,SAAhB,CAlD0B,CAtBW;AA0EzC2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAE/B,IAAI+uB,EAAK,IAETA,EAAA,CAAGlX,EAAH,CAAM,aAAN,CAAqB,QAAQ,CAACwwC,CAAD,CAAY,CAExC,GAAIA,CAAJ,CAAcp8B,KAAd,CAAqB,CACpBo8B,CAAA,CAAUp8B,KAAV,CAAkBo8B,CAAA,CAAUp8B,KAAV,CAAgBmrB,IAAhB,EAGlB,KAAIkR,EAAuBD,CAAA,CAAUp8B,KAAV,CAAgB/H,WAAhB,EAC3B,KAAA,CAAKqkC,8BAAL,CAAoCF,CAApC,CAA8Cp8B,KAA9C,CAEA,IAA+B,GAA/B,EAAIo8B,CAAA,CAAUp8B,KAAV,CAAgByW,MAAhB,CAAuB,CAAvB,CAAJ,CAAoC,CACJ,GAA/B,EAAI2lB,CAAA,CAAUp8B,KAAV,CAAgByW,MAAhB,CAAuB,CAAvB,CAAJ,GACC2lB,CACA,CADUp8B,KACV,CADgBo8B,CAAA,CAAUp8B,KAAV,CAAgB4L,SAAhB,CAA0B,CAA1B,CAChB,CAAAwwB,CAAA,CAAUhE,MAAV,CAA2C,CAA3C,EAAmBgE,CAAnB,CAA6Bp8B,KAA7B,CAAmCxnB,MAFpC,CAI+B,IAA/B,EAAI4jD,CAAA,CAAUp8B,KAAV,CAAgByW,MAAhB,CAAuB,CAAvB,CAAJ,GACC2lB,CADD,CACWp8B,KADX,CACmB,GADnB,CACuBo8B,CADvB,CACiCp8B,KADjC,CAGA,IAAsD,GAAtD,EAAIo8B,CAAA,CAAUp8B,KAAV,CAAgByW,MAAhB,CAAuB2lB,CAAvB,CAAiCp8B,KAAjC,CAAuCxnB,MAAvC,CAA8C,CAA9C,CAAJ,EAA+G,GAA/G,EAA6D4jD,CAAA,CAAUp8B,KAAV,CAAgByW,MAAhB,CAAuB2lB,CAAvB,CAAiCp8B,KAAjC,CAAuCxnB,MAAvC,CAA8C,CAA9C,CAA7D,CACC4jD,CACA,CADUp8B,KACV,CADgBo8B,CAAA,CAAUp8B,KAAV,CAAgB4L,SAAhB,CAA0B,CAA1B,CAA4BwwB,CAA5B,CAAsCp8B,KAAtC,CAA4CxnB,MAA5C,CAAmD,CAAnD,CAChB,CAAA4jD,CAAA,CAAUhE,MAAV,CAA2C,CAA3C,EAAmBgE,CAAnB,CAA6Bp8B,KAA7B,CAAmCxnB,MAEL,IAA/B,EAAI4jD,CAAA,CAAUp8B,KAAV,CAAgByW,MAAhB,CAAuB,CAAvB,CAAJ;CACC2lB,CADD,CACWhE,MADX,CACoBgE,CADpB,CAC8Bp8B,KAD9B,CACoCxnB,MADpC,EAC6C,IAAA,CAAKmP,IAAL,CAAUy0C,CAAA,CAAUp8B,KAAV,CAAgByW,MAAhB,CAAuB,CAAvB,CAAV,CAAA,CAAuC,CAAvC,CAA2C,CADxF,EAGA,IAAI,CACS,IAAI1d,MAAJ,CAAWqjC,CAAX,CAAqBp8B,KAArB,CADT,CAGE,MAAMza,CAAN,CAAS,CACR62C,CAAA,CAAUhE,MAAV,CAAmB,CAAA,CADX,CAGwB,EAAjC,CAAIgE,CAAA,CAAUp8B,KAAV,CAAgBpjB,OAAhB,CAAwB,GAAxB,CAAJ,GACmC,EAClC,EADIw/C,CAAA,CAAUp8B,KAAV,CAAgBpjB,OAAhB,CAAwB,GAAxB,CACJ,GADuCw/C,CACvC,CADiDhE,MACjD,CADwD,CAAA,CACxD,EAA+C,CAA/C,GAAKgE,CAAA,CAAUp8B,KAAV,CAAgBle,KAAhB,CAAsB,GAAtB,CAAL,EAAmC,EAAnC,EAAuCtJ,MAAvC,GAAmD4jD,CAAnD,CAA6DhE,MAA7D,CAAoE,CAAA,CAApE,CAFD,CAIiC,GAAjC,CAAIgE,CAAA,CAAUp8B,KAAV,CAAgBpjB,OAAhB,CAAwB,GAAxB,CAAJ,CAEmC,EAFnC,EAEKw/C,CAAA,CAAUp8B,KAAV,CAAgBpjB,OAAhB,CAAwB,GAAxB,CAFL,EAEuE,EAFvE,EAEyCw/C,CAAA,CAAUp8B,KAAV,CAAgBpjB,OAAhB,CAAwB,GAAxB,CAFzC,GAGEw/C,CAHF,CAGYp8B,KAHZ,EAGqB,IAHrB,CAG0Bo8B,CAH1B,CAGoCp8B,KAHpC,EAMCo8B,CAND,CAMWp8B,KANX,CAMmBo8B,CANnB,CAM6Bp8B,KAN7B,CAMmC,GANnC,EAMuE,EAA9B,EAAAo8B,CAAA,CAAUp8B,KAAV,CAAgBpjB,OAAhB,CAAwB,GAAxB,CAAA,EAAmE,EAAnE,EAAqCw/C,CAAA,CAAUp8B,KAAV,CAAgBpjB,OAAhB,CAAwB,GAAxB,CAArC,CAAwE,IAAxE,CAAgFw/C,CAAhF,CAA0Fp8B,KAA1F,CAAgG,GAAhG,CAAsG,EAN/I,CAzB6B,CAApC,IAiC4B,GAArB,EAAIo8B,CAAJ,CAAcp8B,KAAd,GACNo8B,CADM,CACIhE,MADJ,CACa,CAAA,CADb,CAID,KAAI5kC,EAASsP,CAAA,CAAGssB,cAAH,EACb,IAAsB,CAAtB,EAAIgN,CAAJ,CAAchE,MAAd,EAA+B5kC,CAA/B,CAAuC,CACtC,IAAI+oC,EAAgE,GAAhC;AAAAF,CAAA,CAAqB5lB,MAArB,CAA4B,CAA5B,CAAA,CAAsC4lB,CAAA,CAAqBzwB,SAArB,CAA+B,CAA/B,CAAtC,CAA0EywB,CAA9G,CACSG,CAAT,KAASA,CAAT,GAAgBhpC,EAAA,CAAOoV,cAAP,EAAA,CAAwB6zB,oBAAxB,EAAA,CAA+CC,aAA/C,EAAhB,CAC8D,EAA7D,CAAIF,CAAA,CAAIvkC,WAAJ,EAAA,CAAkBrb,OAAlB,CAA0B2/C,CAA1B,CAAJ,GACCH,CADD,CACWp8B,KADX,CACmB,GADnB,CACuBw8B,CADvB,EAC4D,GAAhC,EAAAH,CAAA,CAAqB5lB,MAArB,CAA4B,CAA5B,CAAA,CAAsC,EAAtC,CAA2C,GAA3C,CAA+C2lB,CAA/C,CAAyDp8B,KADrF,EAHqC,CA7CzB,CAFmB,CAAzC,CA0DG,IA1DH,CA4DA8C,EAAA,CAAGlX,EAAH,CAAM,QAAN,CAAgB,QAAQ,CAAC+wC,CAAD,CAAOtL,CAAP,CAAgB,CAElCvuB,CAAL,CAAQs4B,UAAR,CA6BCt4B,CA7BD,CA6BIs4B,UA7BJ,CA6BiB,CAAA,CA7BjB,EACC/J,CAMA,CANUA,CAAA,CAAQxnC,GAAR,CAAY,QAAQ,CAACmW,CAAD,CAAQ,CAAC,MAAOA,EAAA,CAAMvmB,OAAN,CAAc,UAAd,CAA0B,MAA1B,CAAR,CAA5B,CAMV,CALAqpB,CAAA,CAAGwN,EAAH,CAAM,OAAN,CAAA,CAAeiI,SAAf,CAAyB,OAAzB,CAAkCzV,CAAlC,CAAsCuuB,CAAtC,CAKA,CAJIvuB,CAAA,CAAG85B,eAAH,EAIJ,GAHC95B,CACA,CADGs4B,UACH,CADgB,CAAA,CAChB,CAAAt4B,CAAA,CAAG+5B,WAAH,CAAe/5B,CAAA,CAAGg6B,eAAH,EAAf,CAED,EAAIh6B,CAAJ,CAAOi5B,QAAP,CAAgB77C,KAAhB,GACC4iB,CAAA,CAAGi5B,QAAH,CAAY77C,KAAZ,CAAkBkX,IAAlB,EAEA,CADA0L,CAAA,CAAGi5B,QAAH,CAAY77C,KAAZ,CAAkBm5B,KAAlB,EAAA,CAA0B0jB,OAA1B,CAAkC,GAAlC,CACA,CAAmB,CAAnB,CAAI1L,CAAJ,CAAY74C,MAAZ;AACCsqB,CAAA,CAAG3C,SAAH,EAAA,CAAe00B,cAAf,EAAA,CAAgCvK,IAAhC,CAAqC,CACpCtjB,OAAQ,CACPhH,MAAOqxB,CAAA,CAAQxnC,GAAR,CAAY,QAAQ,CAACmzC,CAAD,CAAI,CAAC,MAAO,GAAP,CAAWA,CAAX,CAAa,GAAd,CAAxB,CAAA,CAA4C59C,IAA5C,CAAiD,GAAjD,CADA,CAEPy7C,UAAW/3B,CAAA,CAAG6qB,YAAH,EAFJ,CAGPgN,SAAU73B,CAAA,CAAGm6B,WAAH,EAHH,CAIPlC,qBAAsB,CAAA,CAJf,CAD4B,CAOpC9hB,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EAAe7sB,CAAf,EAA0C,CAA1C,EAA0BA,CAA1B,CAAkCnlB,MAAlC,EACCsqB,CAAA,CAAGi5B,QAAH,CAAY77C,KAAZ,CAAkBm5B,KAAlB,EAAA,CAA0B0jB,OAA1B,CAAkCp/B,CAAA,CAAQ,CAAR,CAAA,CAAW4rB,mBAAX,EAAlC,CAF8C,CAPZ,CAArC,CADD,CAeCzmB,CAAA,CAAGi5B,QAAH,CAAY77C,KAAZ,CAAkBq5B,IAAlB,EAlBF,CAPD,CAFuC,CAAxC,CAqCA,KAAIyU,EAAclrB,CAAA,CAAGo6B,YAAH,CAAgB,QAAQ,CAACvwB,CAAD,CAAM,CAC/C,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CADwC,CAA9B,CAGlB,IAAmB,IAAnB,EAAIshB,CAAJ,CAAyB,CACxB,IAAA,CAAKiB,cAAL,CAAoBjB,CAApB,CACA,IAAIA,CAAJ,CAAgB7tB,SAAhB,EAA6B6tB,CAAA,CAAY7tB,SAAZ,EAA7B,CACC2C,CAAA,CAAGlX,EAAH,CAAM,aAAN,CAAqB,QAAQ,CAAC1M,CAAD,CAAI,CAChC,IAAA,CAAKi+C,WAAL,CAAiBnP,CAAA,CAAY7tB,SAAZ,EAAjB,CADgC,CAAjC,CADD;IAMK6tB,EAAA,CAAYpiC,EAAZ,CAAe,cAAf,CAA+B,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACpDzI,CAAA,CAAGq6B,WAAH,CAAe5xB,CAAf,CADoD,CAArD,CAEGzI,CAFH,CAFJA,EAAA,CAAGq4B,uBAAH,CAA6B,CAAA,CANN,CAezBr4B,CAAA,CAAGlX,EAAH,CAAM,aAAN,CAAqB,QAAQ,CAAC1M,CAAD,CAAI,CAEG,CAAA,CAAnC,GAAI4jB,CAAJ,CAAOq4B,uBAAP,EACMr4B,CAAA,CAAG3C,SAAH,EADN,GAEK6tB,CAOH,CAPiBlrB,CAAA,CAAGo6B,YAAH,CAAgB,QAAQ,CAACvwB,CAAD,CAAM,CAC3C,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CADoC,CAA9B,CAOjB,CAJsB,IAItB,EAJOshB,CAIP,GAHIA,CAGJ,CAHkBlrB,CAAA,CAAGwN,EAAH,CAAM,QAAN,CAGlB,CAHkC0H,KAGlC,EADOzM,CACP,CADgByiB,CAAA,CAAYplB,cAAZ,EAAA,CAA6BzI,SAA7B,EAChB,CAAe9jB,IAAAA,EAAf,GAAIkvB,CAAJ,CACCzI,CAAA,CAAGq6B,WAAH,CAAe5xB,CAAf,CADD,EAGCyiB,CAAA,CAAYpiC,EAAZ,CAAe,cAAf,CAA+B,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACpDzI,CAAA,CAAGq6B,WAAH,CAAe5xB,CAAf,CADoD,CAArD,CAEMzI,CAFN,CAGA,CAAAA,CAAA,CAAGq4B,uBAAH,CAA6B,CAAA,CAN9B,CATF,CAoBIr4B,EAAJ,CAAOi5B,QAAP,EAAmBj5B,CAAnB,CAAsBi5B,QAAtB,CAA+BljB,IAA/B,EACCjjC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQ2M,CAAA,CAAGi5B,QAAH,CAAYljB,IAAZ,CAAiBQ,KAAjB,EADwB;AAEhC9jB,KAAMuN,CAAA,CAAGo5B,aAAH,EAAA,CAAqBp5B,CAAA,CAAGyL,QAAH,CAAY,wBAAZ,CAArB,CAA6DzL,CAAA,CAAGyL,QAAH,CAAY,gBAAZ,CAFnC,CAAjC,CAKGzL,EAAJ,CAAOi5B,QAAP,EAAmBj5B,CAAnB,CAAsBi5B,QAAtB,CAA+B77C,KAA/B,EACCtK,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQ2M,CAAA,CAAGi5B,QAAH,CAAY77C,KAAZ,CAAkBm5B,KAAlB,EADwB,CAEhC9jB,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,2BAAZ,CAF0B,CAAjC,CA7B+B,CAAjC,CAoCAzL,EAAA,CAAGlX,EAAH,CAAM,eAAN,CAAuB,QAAQ,CAAC1M,CAAD,CAAI,CAE9B4jB,CAAJ,CAAOi5B,QAAP,EAAmBj5B,CAAnB,CAAsBi5B,QAAtB,CAA+BljB,IAA/B,EACCjjC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmCz6B,CAAA,CAAGi5B,QAAH,CAAYljB,IAAZ,CAAiBQ,KAAjB,EAAnC,CAEGvW,EAAJ,CAAOi5B,QAAP,EAAmBj5B,CAAnB,CAAsBi5B,QAAtB,CAA+B77C,KAA/B,EACCtK,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmCz6B,CAAA,CAAGi5B,QAAH,CAAY77C,KAAZ,CAAkBm5B,KAAlB,EAAnC,CANiC,CAAnC,CAUAvW,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CArK+B,CA1ES,CAkPzC4rC,YAAaA,QAAQ,CAAC5xB,CAAD,CAAS,CAE7B,GAAc,IAAd;AAAIA,CAAJ,CAAoB,CACnB,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CAEH,IAAclvB,IAAAA,EAAd,EADe,IAAAs+C,CAAKsC,WAALtC,EACf,CACI,GAAI,IAAJ,CAASz6B,WAAT,CAAuB,IAAA,CAAKs9B,WAAL,CAAiB,IAAA,CAAKt9B,WAAL,CAAiB,UAAjB,CAAjB,CAAvB,KAGC,KADA,IAAI1M,EAAS,IAAA,CAAK8c,EAAL,CAAQ,OAAR,CACb,CAAO9c,CAAP,CAAA,CAAe,CACd,GAAIA,CAAJ,EAAcA,CAAd,CAAqB0M,WAArB,CAAkC,CACjC,IAAA,CAAKs9B,WAAL,CAAiBhqC,CAAA,CAAO0M,WAAP,CAAmB,UAAnB,CAAjB,CACA,MAFiC,CAIlC1M,CAAA,CAASA,CAAA,CAAO8c,EAAP,CAAU,OAAV,CALK,CAUpB,IAAIkH,EAAa,IAAA,CAAKtX,WAAL,CAAmB,IAAA,CAAKA,WAAL,CAAiB,YAAjB,CAAnB,CAAoD7jB,IAAAA,EACrE,IAAI,CAACm7B,CAAL,CAEI,IADIhkB,CACJ,CADa,IAAA,CAAK8c,EAAL,CAAQ,OAAR,CACb,CAAO9c,CAAP,CAAA,CAAe,CACd,GAAIA,CAAJ,EAAcA,CAAd,CAAqB0M,WAArB,CAAkC,CACjCsX,CAAA,CAAahkB,CAAA,CAAO0M,WAAP,CAAmB,YAAnB,CACb,MAFiC,CAIlC1M,CAAA,CAASA,CAAA,CAAO8c,EAAP,CAAU,OAAV,CALK,CAQfL,CAAAA,CAAQ1E,CAAA,CAAOspB,cAAP,CAAsB,CACjCtpB,OAAQA,CAAA,CAAOmF,YAAP,EADyB,CAEjCka,MAAO,CACNC,YAAa,CACRpJ,MAAO,EADC,CAERoZ,UAAW,IAAXA,CAAgBA,SAFR;AAGRF,SAAU,IAAA,CAAKsC,WAAL,EAHF,CAIRlC,qBAAsB,IAAA,CAAK0C,uBAAL,EAJd,CAKRjmB,WAAYA,CALJ,CADP,CAF0B,CAAtB,CAgBZ,KAAA,CAAKkmB,QAAL,CAAcztB,CAAd,CA5CsB,CAFS,CAlPW,CAA7C,C,CCAAr6B,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC5CyI,OAAQ,eADoC,CAE5C7H,OAAQ,CAAC,0BAAD,CAFoC,CAG5C4V,MAAO,4BAHqC,CAI/CxU,QAAS,CACRG,KAAM,EADE,CAJsC,CAQ5CiV,cAAeA,QAAQ,EAAG,CAEtBttC,GAAA,CAAIo/B,OAAJ,CADSlS,IACT,CAAgB,CACZ+4B,IAAK,IAAA,CAAKttB,QAAL,CAAc,qBAAd,CADO,CAEZ+M,OAAQ,qBAFI,CAGZx6B,MAAO,kBAHK,CAIZ/J,UAAW,CACVC,YAAaA,QAAQ,CAAC0wC,CAAD,CAAM,CAC1B,IAAIlH,EAAOkH,CAAA,CAAIpX,EAAJ,CAAO,MAAP,CACX,IAAIkQ,CAAJ,CAAU,CACT,IAAIvQ,EAAQuQ,CAAA,CAAKzX,QAAL,EACZ2e,EAAA,CAAIiW,YAAJ,CAAiB1tB,CAAA,CAAM2tB,aAAN,EAAjB,CACApd,EAAA,CAAKzX,QAAL,EAAA,CAAgBnd,EAAhB,CAAmB,kBAAnB,CAAuC87B,CAAvC,CAA2CiW,YAA3C,CAAyDjW,CAAzD,CAHS,CAFgB,CADjB,CAJC,CAAhB,CADS5kB,KAgBT,CAAGgS,UAAH,CAAcvjB,SAAd,CAjBsB,CARkB,CA2B5CosC,aAAcA,QAAQ,CAACz9C,CAAD,CAAQ,CAC7B,IAAA,CAAK2T,MAAL,CAAY,CAAC3T,MAAOA,CAAR,CAAZ,CAD6B,CA3Bc,CAAhD,C,CCAAtK,GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CACzCY,OAAQ,CAAC,0BAAD,CADiC,CAEzC4V,MAAO,yBAFkC,CAG5CrT,MAAO,mBAHqC,CAI5CnB,QAAS,CACRG,KAAM,EADE,CAJmC,CAS5Cl6B,OAAQ,CACP8pD,KAAMxhD,IAAAA,EADC,CAEPkvB,OAAQlvB,IAAAA,EAFD,CAGPyhD,aAAc,CAAA,CAHP,CAToC,CAezC5a,cAAeA,QAAQ,EAAG,CAI5B,IAAA,CAAK6a,eAAL,CAAiD1hD,IAAAA,EAA5B,EAAA,IAAA,CAAKtI,MAAL,CAAY+pD,YAAZ,CAAwC,IAAA,CAAKE,eAAL,EAAxC,CAAiE,IAAjE,CAAsEjqD,MAAtE,CAA6E+pD,YAAlG,CAEAloD,IAAA,CAAIoE,KAAJ,CAJS8oB,IAIT,CAAc,CACbvN,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CADO,CAEbkJ,KAAM,CACLjhC,MAAO,GADF,CAELynD,KAAM,CAAC,CACNrnD,MAAO,UADD,CAENkH,OAAQ,IAAA,CAAKkgD,eAAL,EAFF,CAGN3jB,SAAU,IAAA,CAAK9L,QAAL,CAAc,KAAd,CAHJ,CAINx3B,UAAW,CACVykC,OAAQ,CACPvkC,GAAIA,QAAQ,CAAC4iB,CAAD;AAAO2gB,CAAP,CAAgB,CAC3B,IAAA,CAAK0jB,OAAL,EAAA,CAAezuB,KAAf,CAAqB1zB,IAArB,CAA0B,QAAQ,CAAC8d,CAAD,CAAO,CACxCA,CAAA,CAAKskC,UAAL,CAAgB3jB,CAAhB,CADwC,CAAzC,CAD2B,CADrB,CAMP1iC,MAAO,IANA,CADE,CAJL,CAAD,CAcJ,CAAClB,MAAM,QAAP,CAdI,CAca,CACfA,MAAO,QADQ,CAEf2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,IAAd,CAFS,CAGlBzwB,OAAQ,IAAA,CAAKkgD,eAAL,EAHU,CAIZ1yB,MAAO,OAJK,CAKf4D,QAASA,QAAQ,CAACkvB,CAAD,CAAS74C,CAAT,CAAY,CAC5B,IAAIs4C,EAAO,EACX,KAAA,CAAKK,OAAL,EAAA,CAAezuB,KAAf,CAAqB1zB,IAArB,CAA0B,QAAQ,CAAC8d,CAAD,CAAO,CACpCA,CAAJ,CAAS2gB,OAAT,EACCqjB,CAAA,CAAKjjD,IAAL,CAAUif,CAAV,CAAehgB,KAAf,CAFuC,CAAzC,CAIG,IAJH,CAUH,EAHIm+B,CAGJ,CAHYomB,CAAA,CAAOlB,YAAP,CAAoB,QAAQ,CAACvwB,CAAD,CAAM,CAC7C,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CADsC,CAAlC,CAGZ,GACIsL,CAAA,CAAMO,SAAN,CAAgB,mBAAhB,CAAqC6lB,CAArC,CAA6CP,CAA7C,CAIDO,EAAA,CAAOlB,YAAP,CAAoB,QAAQ,CAACvwB,CAAD,CAAM,CACjC,MAAIA,EAAA,CAAIsL,OAAJ,CAAY,QAAZ,CAAJ,EAA6BtL,CAAA,CAAI0xB,cAAJ,EAA7B,EACC1xB,CAAA,CAAI2xB,QAAJ,EACO,CAAA,CAAA,CAFR,EAIO,CAAA,CAL0B,CAAlC,CAjB4B,CALd,CA8BfxmD,MAAO,IA9BQ,CAdb,CA6CD,CACDlB,MAAO,QADN;AAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFL,CAGEjD,MAAO,OAHT,CAID4D,QAASA,QAAQ,CAAC3vB,CAAD,CAAIgG,CAAJ,CAAO,CACvB,IAAA,CAAK23C,YAAL,CAAkB,QAAQ,CAACvwB,CAAD,CAAM,CAC/B,MAAIA,EAAA,CAAIsL,OAAJ,CAAY,QAAZ,CAAJ,EAA6BtL,CAAA,CAAI0xB,cAAJ,EAA7B,EACC1xB,CAAA,CAAI2xB,QAAJ,EACO,CAAA,CAAA,CAFR,EAIO,CAAA,CALwB,CAAhC,CAMG,IANH,CAOA,KAAA,CAAKA,QAAL,EARuB,CAJvB,CAcDxmD,MAAO,IAdN,CA7CC,CAFD,CAFO,CAkEbf,UAAW,CACVC,YAAaA,QAAQ,CAACswB,CAAD,CAAW,CAC/BA,CAAA,CAAS1b,EAAT,CAAY,cAAZ,CAA4B,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACjD,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CACgC,EAAhC,EAAIA,CAAA,CAAOC,iBAAP,EAAJ,CACC,IAAA,CAAK+N,IAAL,EADD,CAGCjS,CAAA,CAASi3B,QAAT,CAAkBhzB,CAAA,CAAO8pB,iBAAP,EAAA,CAA2BP,QAA3B,EAAlB,CAAyD,CAAA,CAAzD,CALgD,CAAlD,CAOGxtB,CAPH,CAQA,KAAI0Q,EAAQ1Q,CAAA,CAAS41B,YAAT,CAAsB,QAAQ,CAACvwB,CAAD,CAAM,CAC/C,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CADwC,CAApC,CAGRsL,EAAJ,GACCA,CAAA,CAAMpsB,EAAN,CAAS,cAAT,CAAyB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC9CjE,CAAA,CAASiR,SAAT,CAAmB,cAAnB;AAAmCqG,CAAnC,CAAwCrT,CAAxC,CAD8C,CAA/C,CAEGjE,CAFH,CAGA,CAAI0Q,CAAJ,CAAU7X,SAAV,EAAuB6X,CAAA,CAAM7X,SAAN,EAAvB,CAA2CmH,CAAA,CAASiR,SAAT,CAAmB,cAAnB,CAAmCjR,CAAnC,CAA6C0Q,CAAA,CAAM7X,SAAN,EAA7C,CAA3C,CACS6X,CADT,CACejP,QADf,EAC2BiP,CAAA,CAAMjP,QAAN,EAD3B,EAC+CiP,CAAA,CAAMjP,QAAN,EAD/C,CACgE5I,SADhE,EAC6E6X,CAAA,CAAMjP,QAAN,EAAA,CAAiB5I,SAAjB,EAD7E,EAECmH,CAAA,CAASiR,SAAT,CAAmB,cAAnB,CAAmCjR,CAAnC,CAA6C0Q,CAAA,CAAMjP,QAAN,EAAA,CAAiB5I,SAAjB,EAA7C,CANF,CAZ+B,CADtB,CAlEE,CAAd,CAN4B,CAfe,CAoHzCo+B,SAAUA,QAAQ,CAACV,CAAD,CAAOpkD,CAAP,CAAgB,CACjC,IAAA,CAAK+kD,OAAL,CAAaX,CAAb,CAEA,KAAIpmB,EAAO,IAAA,CAAKymB,OAAL,EACPzkD,EAAJ,EACCg+B,CAAA,CAAKwK,SAAL,EAGD,KAAIwc,EAAiB,IAAA,CAAKT,eAAL,EAArB,CAEIU,EAAU,UAAVA,CAAqB9oD,GAAA,CAAIc,EAAJ,EACzBmnD,EAAA,CAAKzvC,OAAL,CAAa,QAAQ,CAACjV,CAAD,CAAMgD,CAAN,CAAa,CACjCs7B,CAAA,CAAK9gC,GAAL,CAAS,CACRC,MAAO,eADC,CAER2e,KAAMpc,CAAA,CAAIuyB,aAAJ,EAFE,CAGR7xB,MAAOV,CAAA,CAAIY,GAAJ,CAAQ,IAAR,CAHC,CAIRygC,QAASikB,CAATjkB,EAAoC,CAApCA,EAA2Br+B,CAA3Bq+B,EAAyC,CAACikB,CAJlC,CAKRE,MAAOF,CAAA,CAAiBC,CAAjB,CAA2BriD,IAAAA,EAL1B,CAMRuiD,aAAcA,QAAQ,CAAC/kC,CAAD,CAAO2gB,CAAP,CAAgB,CACjC,IAAA,CAAKwjB,eAAL,EAAJ;AAA8BxjB,CAA9B,GACKxC,CADL,CACa,IAAA,CAAKklB,YAAL,CAAkB,QAAQ,CAACvwB,CAAD,CAAM,CAC3C,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CADoC,CAAhC,CADb,GAKEsL,CAAA,CAAMO,SAAN,CAAgB,kBAAhB,CAAoC,IAApC,CAA0Cp/B,CAA1C,CANmC,CAN9B,CAgBRrB,MAAO,IAhBC,CAAT,CADiC,CAAlC,CAmBG,IAnBH,CAXiC,CApHO,CAA7C,CAuJAlC,IAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAC/CyI,OAAQ,mBADuC,CAE/C+N,MAAO,+BAFwC,CAG/C5V,OAAQ,CAAC,gCAAD,CAHuC,CAI/CwW,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKxW,MAAL,CAAY,gCAAZ,CAAA,CAA8CwW,aAA9C,CAA4DlpC,KAA5D,CAAkE,IAAlE,CAAwEuX,SAAxE,CACH,KAAA,CAAKujB,UAAL,EAF4B,CAJqB,CAAnD,CAUAl/B;GAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACjDyI,OAAQ,eADyC,CAEjD+N,MAAO,iCAF0C,CAGjD5V,OAAQ,CAAC,gCAAD,CAHyC,CAIjDwW,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKxW,MAAL,CAAY,gCAAZ,CAAA,CAA8CwW,aAA9C,CAA4DlpC,KAA5D,CAAkE,IAAlE,CAAwEuX,SAAxE,CACH,KAAA,CAAKujB,UAAL,EAF4B,CAJuB,CAArD,C,CCjKAl/B,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAC/CyI,OAAQ,mBADuC,CAE/C7H,OAAQ,CAAC,0BAAD,CAFuC,CAG/C4V,MAAO,+BAHwC,CAIlDxU,QAAS,CACRG,KAAM,EADE,CAJyC,CAQlDl6B,OAAQ,CACPw3B,OAAQlvB,IAAAA,EADD,CAEPyhD,aAAc,CAAA,CAFP,CAR0C,CAa/C5a,cAAeA,QAAQ,EAAG,CAG5B,IAAA,CAAK6a,eAAL,CAAiD1hD,IAAAA,EAA5B,EAAA,IAAA,CAAKtI,MAAL,CAAY+pD,YAAZ,CAAwC,IAAA,CAAKE,eAAL,EAAxC,CAAiE,IAAjE,CAAsEjqD,MAAtE,CAA6E+pD,YAAlG,CAEAloD,IAAA,CAAIoE,KAAJ,CAJS8oB,IAIT,CAAc,CACbvN,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADO,CAEbU,MAAO,mBAFM,CAGbwI,KAAM,CACLhI,MAAO,CAAC,CACPla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADC,CAEPU,MAAO,mBAFA,CAGPC,QAASA,QAAQ,CAACkvB,CAAD,CAAS,CACzB,IAAIpmB;AAAQ,IAAA,CAAKklB,YAAL,CAAkB,QAAQ,CAACvwB,CAAD,CAAM,CAC3C,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CADoC,CAAhC,CAGRsL,EAAJ,GACComB,CAAA,CAAOS,WAAP,EAAA,CAAqBpnB,IAArB,CAA0BhI,KAA1B,CAAgC1zB,IAAhC,CAAqC,QAAQ,CAAC8d,CAAD,CAAO,CACnDA,CAAA,CAAKskC,UAAL,CAAgB,CAAA,CAAhB,CAAuB,CAAA,CAAvB,CADmD,CAApD,CAGA,CAAAnmB,CAAA,CAAMO,SAAN,CAAgB,gBAAhB,CAAkC,IAAlC,CAAwC,IAAA,CAAKpY,SAAL,EAAxC,CAJD,CAJyB,CAHnB,CAcProB,MAAO,IAdA,CAAD,CAeL,CACDlB,MAAO,0BADN,CAEDknD,aAAc,IAAA,CAAKE,eAAL,EAFb,CAfK,CADF,CAHO,CAwBbjnD,UAAW,CACVC,YAAaA,QAAQ,CAACswB,CAAD,CAAW,CAC/BA,CAAA,CAAS1b,EAAT,CAAY,cAAZ,CAA4B,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACjD,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CACgC,EAAhC,EAAIA,CAAA,CAAOC,iBAAP,EAAJ,EACC,IAAA,CAAK+N,IAAL,EAHgD,CAAlD,CAKGjS,CALH,CAMA,KAAI0Q,EAAQ1Q,CAAA,CAAS41B,YAAT,CAAsB,QAAQ,CAACvwB,CAAD,CAAM,CAC/C,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CADwC,CAApC,CAGRsL,EAAJ,GACCA,CAAA,CAAMpsB,EAAN,CAAS,cAAT;AAAyB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC9CjE,CAAA,CAASiR,SAAT,CAAmB,cAAnB,CAAmCqG,CAAnC,CAAwCrT,CAAxC,CAD8C,CAA/C,CAEGjE,CAFH,CAGA,CAAI0Q,CAAJ,CAAU7X,SAAV,EAAuB6X,CAAA,CAAM7X,SAAN,EAAvB,CAA2CmH,CAAA,CAASiR,SAAT,CAAmB,cAAnB,CAAmCjR,CAAnC,CAA6C0Q,CAAA,CAAM7X,SAAN,EAA7C,CAA3C,CACS6X,CADT,CACejP,QADf,EAC2BiP,CAAA,CAAMjP,QAAN,EAD3B,EAC+CiP,CAAA,CAAMjP,QAAN,EAD/C,CACgE5I,SADhE,EAC6E6X,CAAA,CAAMjP,QAAN,EAAA,CAAiB5I,SAAjB,EAD7E,EAECmH,CAAA,CAASiR,SAAT,CAAmB,cAAnB,CAAmCjR,CAAnC,CAA6C0Q,CAAA,CAAMjP,QAAN,EAAA,CAAiB5I,SAAjB,EAA7C,CANF,CAV+B,CADtB,CAxBE,CAAd,CAJS2C,KAoDT,CAAGgS,UAAH,CAAcvjB,SAAd,CArD4B,CAbqB,CAAnD,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,uCAAX,CAAoD,CAChDyI,OAAQ,yBADwC,CAEhD7H,OAAQ,CAAC,0BAAD,CAA6B,sBAA7B,CAFwC,CAGhD4V,MAAO,gCAHyC,CAInDxU,QAAS,CACRG,KAAM,EADE,CAJ0C,CAQnDl6B,OAAQ,CACJmhB,KAAM,kBADF,CAEJomB,OAAQ,kBAFJ,CAGPlN,OAAQ,CAAC,SAAD,CAAY,OAAZ,CAAqB,QAArB,CAHD,CAIP34B,MAAO,CAAC,SAAD,CAAY,OAAZ,CAJA,CAKPe,MAAO,GALA,CAR2C,CAiBhD0sC,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/BA,CAAA,CAASA,CAAT,EAAmB,EACP+uB,KAET,CAAGg8B,SAAH,EAFSh8B,KAIT,CAAGlX,EAAH,CAAM,aAAN,CAAqB,QAAQ,EAAG,CAC/B,IAAA,CAAK6jB,KAAL,CAAWsvB,OAAX,CAAmB,QAAQ,CAACjlD,CAAD,CAAM,CAChC,IAAIlE,GAAJ,CAAQopD,EAAR,CAAWC,QAAX,CAAoB,IAAA,CAAKxvB,KAAL,CAAW11B,GAAX,CAAeD,CAAf,CAAA,CAAoBihC,WAApB,EAApB,CAAuD,CACtDmkB,QAAS,kBAD6C;AAEtDC,mBAAoBA,QAAQ,CAAC55C,CAAD,CAAI,CAC3B4Q,CAAAA,CAAS5Q,CAAA,CAAEwnC,SAAF,EAEb,OAAO52B,EAAA,CAAO0nB,SAAP,EAA2D,EAA3D,CAAoB1nB,CAAA,CAAO0nB,SAAP,CAAiBjhC,OAAjB,CAAyB,YAAzB,CAApB,CAAgEuZ,CAAhE,CAAuEkmB,UAAvE,CAAoFlmB,CAH5D,CAFsB,CAOhDipC,WAAaA,QAAQ,CAACjpC,CAAD,CAAS6oC,CAAT,CAAaz5C,CAAb,CAAgBoN,CAAhB,CAAqB,CACzCwD,CAAA,CAAOkpB,WAAP,CAAmB2f,CAAnB,CAAsB3mD,EAAtB,CAAyBC,GAAzB,CACG,OAAO,CAAA,CAF+B,CAPM,CAAvD,CADgC,CAAjC,CAaG,IAbH,CAeA,KAAA,CAAK8/B,SAAL,EAAA,CAAiBvuB,GAAjB,CAAqB,QAAQ,CAACgQ,CAAD,CAAO,CACnCA,CAAA,CAAOjkB,GAAA,CAAIy2B,QAAJ,CAAaxS,CAAb,CAAA,CAAqB,CACxB2lB,IAAK,MADmB,CAExB3oC,KAAM,IAAA,CAAK03B,QAAL,CAAc1U,CAAd,CAAmB,OAAnB,CAFkB,CAGxBpkB,MAAOokB,CAHiB,CAArB,CAIHA,CACJ,KAAI7lB,EAAY,IAAA,CAAKouB,SAAL,CAAexsB,GAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB,IAAA,CAAKriB,QAAL,EAAnB,CAAoCnjB,CAApC,CAAyCpkB,KAAzC,CAAA,CAAkD,SAAlD,CAA8D,WAA7E,CAClB4C,EAAAA,CAAKzC,GAAA,CAAI0C,GAAJ,CAAQgnD,MAAR,CAAe/wC,MAAf,CAAsBva,CAAA,CAAU+mC,WAAV,EAAtB,CAA+CnlC,GAAA,CAAIoE,KAAJ,CAAU6f,CAAV,CAAgB,CAACoiC,IAAK,YAAN,CAAhB,CAA/C,CACNrmD,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC91B,CAAhC,CAAoC,CACnC6mD,QAAS,kBAD0B,CAApC,CARsC,CAApC;AAWG,IAXH,CAhB+B,CAAhC,CAJSp8B,IAIT,CAJSA,KAiCT,CAAGgS,UAAH,CAAcvjB,SAAd,CAnC4B,CAjBgB,CAsDhDguC,SAAU,CACT3oD,MAAO,WADE,CAETJ,MAAO,MAFE,CAtDsC,CA0DhDi5B,MAAO,CAAC,CACP6L,OAAQ,SADD,CAEP2gB,IAAK,2BAFE,CAAD,CAGJ,CACF3gB,OAAQ,WADN,CAEF2gB,IAAK,4BAFH,CAHI,CA1DyC,CAmEhDjf,SAAUA,QAAQ,EAAG,CACpB,MAAO,KAAA,CAAKwiB,QAAL,CAAgB,IAAA,CAAKzkB,WAAL,EAAA,CAAmB/a,KAAnB,CAAyB,+BAAzB,CAAA,CAA0DnW,GAA1D,CAA8D,QAAQ,CAAC6K,CAAD,CAAS,CAAC,MAAOA,EAAA,CAAOuR,YAAP,CAAoB,OAApB,CAAR,CAA/E,CAAhB,CAAwI,IAAxI,CAA6IxwB,KADhI,CAnE2B,CAuEhDqmC,SAAUA,QAAQ,CAACtX,CAAD,CAAM,CACnB,IAAJ,CAASg7B,QAAT,CACI,IAAA,CAAKzkB,WAAL,EAAA,CAAmB/a,KAAnB,CAAyB,aAAzB,CAAwC,CAAA,CAAxC,CAAA,CAA+C5R,OAA/C,CAAuD,QAAQ,CAACsG,CAAD,CAAS,CACvE,IAAI+qC,EAAU7pD,GAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB,IAAnB,CAAwB5pD,KAAxB,CAA+Bif,CAAA,CAAOuR,YAAP,CAAoB,OAApB,CAA/B,CACVw5B;CAAJ,EAAe/qC,CAAA,CAAOlB,MAAP,EAAA,CAAgBksC,MAAhB,CAAuB,mBAAvB,CAAf,CACC,IAAA,CAAKt9B,SAAL,CAAe,SAAf,CAAA,CAA0B2Y,WAA1B,EAAA,CAAwCsE,WAAxC,CAAoD3qB,CAApD,CAA2Dpc,GAA3D,CADD,CAEW,CAACmnD,CAFZ,EAEuB/qC,CAAA,CAAOlB,MAAP,EAAA,CAAgBksC,MAAhB,CAAuB,kBAAvB,CAFvB,EAGC,IAAA,CAAKt9B,SAAL,CAAe,WAAf,CAAA,CAA4B2Y,WAA5B,EAAA,CAA0CsE,WAA1C,CAAsD3qB,CAAtD,CAA6Dpc,GAA7D,CALsE,CAAxE,CAOG,IAPH,CADJ,CAUC,IAVD,CAUM7C,KAVN,CAUc+uB,CAXS,CAvEwB,CAApD,C,CCAA5uB,GAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC3CyI,OAAQ,wBADmC,CAE3C7H,OAAQ,CAAC,0BAAD,CAFmC,CAG3C4V,MAAO,2BAHoC,CAI9CxU,QAAS,CACRG,KAAM,EADE,CAJqC,CAQ3CiV,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/BA,CAAA,CAASA,CAAT,EAAmB,EAGhB6B,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf61B,WAAY97B,CAAA,CAAO87B,UAAP,CAAoB97B,CAApB,CAA2B87B,UAA3B,CAAwC,OADrC,CAAhB,CAIAj6B,IAAA,CAAIo/B,OAAJ,CAAY,IAAZ,CAAkB,CACjBpF,WAAY,IAAA,CAAKrB,QAAL,CAAc,YAAd,CADK,CAEjBkB,MAAO,CACH,CAAC4K,SAAU,IAAA,CAAK9L,QAAL,CAAc,UAAd,CAAX,CAAsCrZ,KAAM,gBAA5C,CAA8DklB,WAAY,QAA1E,CADG,CAEH,CAACC,SAAU,IAAA,CAAK9L,QAAL,CAAc,WAAd,CAAX,CAAuCrZ,KAAM,gBAA7C,CAA+DklB,WAAY,QAA3E,CAFG,CAGA,CAACC,SAAU,IAAA,CAAK9L,QAAL,CAAc,WAAd,CAAX;AAAuCrZ,KAAM,gBAA7C,CAA+DklB,WAAY,KAA3E,CAHA,CAFU,CAOjB5jC,MAAO,GAPU,CAAlB,CANSssB,KAeT,CAAGlX,EAAH,CAAM,aAAN,CAAqB,QAAQ,EAAG,CAC/B,IAAA,CAAKoU,KAAL,CAAW,UAAX,CAAA,CAAuB5R,OAAvB,CAA+B,QAAQ,CAACs5B,CAAD,CAAM,CAC5C,IAAI1Y,EAAU,IAAA,CAAKT,QAAL,CAAcmZ,CAAd,CAAkBtN,UAAlB,CAA6B,KAA7B,CAC6B,GAA3C,EAAIpL,CAAA,CAAQpyB,OAAR,CAAgB8qC,CAAhB,CAAoBtN,UAApB,CAA+B,KAA/B,CAAJ,EACCxkC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CACzBnnC,OAAOuxB,CAAA,CAAIrO,KAAJ,EADkB,CAEzB9jB,KAAMyZ,CAFmB,CAAjC,CAH2C,CAA7C,CAQG,IARH,CAD+B,CAAhC,CAUG,IAVH,CAfSlM,KA0BT,CAAGlX,EAAH,CAAM,eAAN,CAAuB,QAAQ,EAAG,CACjC,IAAA,CAAKoU,KAAL,CAAW,UAAX,CAAA,CAAuB5R,OAAvB,CAA+B,QAAQ,CAACs5B,CAAD,CAAM,CAC5C9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD4C,CAA7C,CAEG,IAFH,CADiC,CAAlC,CAIG,IAJH,CA1BSvW,KAgCT,CAAGgS,UAAH,CAAcvjB,SAAd,CAlC4B,CARW,CAA/C,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CACxCyI,OAAQ,mBADgC,CAExC7H,OAAQ,CAAC,0BAAD,CAFgC,CAGxCsK,SAAU,CAAC,kCAAD,CAAqC,uCAArC,CAH8B,CAIxCsL,MAAO,wBAJiC,CAK3CxU,QAAS,CACRG,KAAM,EADE,CALkC,CAS3Cl6B,OAAQ,CACP07B,MAAO,CAAC,CAAC74B,MAAO,oBAAR,CAAD,CAAgC,CAACA,MAAO,yBAAR,CAAhC,CADA,CATmC,CAYxCssC,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/BA,CAAA,CAASA,CAAT,EAAmB,EAEhB6B,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO5I,CAAA,CAAO4I,KAAP,CAAe5I,CAAf,CAAsB4I,KAAtB,CAA8B,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADtB,CAAhB,CADMzL,KAIN,CAAGgS,UAAH,CAAcvjB,SAAd,CAN4B,CAZQ,CAA5C,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CACzCyI,OAAQ,yBADiC,CAEzC7H,OAAQ,CAAC,0BAAD,CAFiC,CAGzC4V,MAAO,yBAHkC,CAIzCxU,QAAS,CACRG,KAAM,EADE,CAGR0xB,MAAO,CAAC,CAACzqC,KAAM,SAAP,CAAkBzf,MAAO,gBAAzB,CAAD,CACC,CAACyf,KAAM,UAAP,CAAmBzf,MAAO,sDAA1B,CADD,CAEC,CAACyf,KAAM,iBAAP,CAA0Bzf,MAAO,iCAAjC,CAFD,CAGC,CAACyf,KAAM,OAAP,CAAgBzf,MAAO,8BAAvB,CAHD,CAIC,CAACyf,KAAM,aAAP,CAAsBzf,MAAO,mCAA7B,CAJD,CAKC,CAACyf,KAAM,eAAP,CAAwBzf,MAAO,sCAA/B,CALD;AAMC,CAACyf,KAAM,QAAP,CAAiBzf,MAAO,8BAAxB,CAND,CAOC,CAACyf,KAAM,MAAP,CAAezf,MAAO,SAAtB,CAPD,CAQC,CAACyf,KAAM,QAAP,CAAiBzf,MAAO,oDAAxB,CARD,CASC,CAACyf,KAAM,eAAP,CAAwBzf,MAAO,4BAA/B,CATD,CAUC,CAACyf,KAAM,wBAAP,CAAiCzf,MAAO,uCAAxC,CAVD,CAWC,CAACyf,KAAM,gBAAP,CAAyBzf,MAAO,6BAAhC,CAXD,CAYC,CAACyf,KAAM,cAAP,CAAuBzf,MAAO,mCAA9B,CAZD,CAaC,CAACyf,KAAM,eAAP,CAAwBzf,MAAO,qCAA/B,CAbD,CAHC,CAJgC,CAsBzCyf,KAAM,YAtBmC;AAuBzCguB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/BA,CAAA,CAASA,CAAT,EAAmB,EAEnB,KAAI0B,EAAQ,IAAA,CAAK66B,EAAL,CAAQ,QAAR,CAAA,CAAkB0H,KAAlB,CAAwB9X,WAAxB,CAAoC,YAApC,CAAZ,CACIvN,EAAO/c,GAAA,CAAIg3B,YAAJ,CAAiBG,QAAjB,CAA0B,IAA1B,CAAPpa,CAAuCgtC,KAEtC/pD,IAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB1sC,CAAA,CAAK9I,GAAL,CAAS,QAAQ,CAACgQ,CAAD,CAAO,CAAC,MAAOA,EAAP,CAAYpkB,KAAb,CAAxB,CAAnB,CAAiEA,CAAjE,CAAL,EACIkd,CAAA,CAAK4W,MAAL,CAAY,CAAZ,CAAe,CAAf,CAAkB,CAACrU,KAAOzf,CAAR,CAAeA,MAAOA,CAAtB,CAAlB,CAGJG,IAAA,CAAIoE,KAAJ,CARS8oB,IAQT,CAAc,CACb2M,MAAO,CACN74B,MAAO,OADD,CAEA84B,UAAW,OAFX,CAGAxa,KAAM,YAHN,CAIAzf,MAAOA,CAJP,CAKAoiD,cAAe,KALf,CAMAloB,SAAU,CAAA,CANV,CAOAC,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CAPZ,CAQAsB,WAAY,OARZ,CASAE,aAAc,MATd,CAUAC,WAAY,OAVZ,CAWAC,MAAO,CACH7B,OAAQ,CAAC,MAAD,CAAS,OAAT,CADL,CAEHzb,KAAMA,CAFH,CAXP,CAeAnc,MAAO,GAfP,CADM,CAAd,CARSssB,KA2BN,CAAGgS,UAAH,CAAcvjB,SAAd,CA7B4B,CAvBS,CAA7C,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC3CyI,OAAQ,yBADmC,CAE3C7H,OAAQ,CAAC,0BAAD,CAFmC,CAG3C4V,MAAO,2BAHoC,CAI3CsV,OAAQ,MAJmC,CAK3C9pB,QAAS,CACRG,KAAM,EADE,CALkC,CAU3C2xB,WAAY,IAAIhqD,GAAJ,CAAQ4gD,SAAR,CACd,eADc,CAEb,mEAFa,CAGd,QAHc,CAV+B,CAe9CqJ,aAAc,IAAIjqD,GAAJ,CAAQ+c,IAAR,CAAamtC,UAAb,CAAwB,CAC/B1xB,OAAQ,CAAC,IAAD,CAAO,OAAP,CADuB,CAE/Br3B,UAAW,CACV8c,OAAQA,QAAQ,CAACoc,CAAD,CAAQpwB,CAAR,CAAgBkgD,CAAhB,CAAoBC,CAApB,CAAyBtrB,CAAzB,CAAkC,EADxC,CAGV58B,MAAO,IAHG,CAFoB,CAAxB,CAfgC,CAwB3CmoD,eAAgB,IAxB2B,CAyB3CC,SAAU,IAzBiC,CA2B3Chd,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAG/B,IAAI04B,EAAM,IAAA,CAAK6D,EAAL,CAAQ,QAAR,CAAA,CAAkB0H,KAAlB,CAAwBpP,cAAxB,EAAV;AACIjW,EAAO,EADX,CAES7Y,CAAT,KAASA,CAAT,GAAgB2yB,EAAA,CAAIkG,WAAJ,EAAhB,CACChgB,CAAA,CAAK/X,IAAL,CAAU,CAACsa,KAAMpb,CAAP,CAAYrE,MAAOqE,CAAnB,CAAV,CAEGrE,EAAAA,CAAQg3B,CAAA,CAAIvM,WAAJ,CAAgB,SAAhB,CAEZtqB,IAAA,CAAIoE,KAAJ,CATS8oB,IAST,CAAc,CACZ2M,MAAO,CAAC,CACD74B,MAAO,OADN,CAED84B,UAAW,OAFV,CAGDj6B,MAAOA,CAHN,CAIDoiD,cAAe,KAJd,CAKDloB,SAAU,CAAA,CALT,CAMDC,WAhBA9M,IAgBY,CAAGyL,QAAH,CAAY,SAAZ,CANX,CAODsB,WAAY,OAPX,CAQD3a,KAAM,SARL,CASD6a,aAAc,MATb,CAUDC,WAAY,OAVX,CAWDC,MAAO,CACH7B,OAAQ,CAAC,MAAD,CAAS,OAAT,CADL,CAEHzb,KAAMA,CAFH,CAXN,CAAD,CAeJ,CAACnc,MAAO,EAAR,CAfI,CAeS,CAACI,MAAO,UAAR,CAfT,CAe8B,CACpCA,MAAO,QAD6B,CAEpC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAF8B,CAG9B4B,GAAI,iBAH0B,CAIpCjB,QAAS,IAATA,CAAcixB,WAJsB,CAKpCroD,MAAO,IAL6B,CAf9B,CADK,CAAd,CATSgrB,KAwCN,CAAGgS,UAAH,CAAcvjB,SAAd,CAzC4B,CA3BW,CAuE3C4uC,YAAaA,QAAQ,EAAG,CACvB,IAAI1qD;AAAQ,IAAA,CAAKwuB,IAAL,CAAU,OAAV,CAAA,CAAmB+Y,QAAnB,EACZ,KAAA,CAAKojB,WAAL,CAAiB3qD,CAAjB,CAEA,KAAA,CAAKwqD,cAAL,CAAsBrqD,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACxDxxB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,eAAd,CADiD,CAExDiB,MAAO,CAAA,CAFiD,CAGxDl5B,OAAQ,GAHgD,CAIxDE,MAAO,GAJiD,CAKxDoC,QAAS,CAL+C,CAMxDg/C,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CANgD,CAUxD5wB,MAAM,CAAC,CACNW,KAAM,CADA,CAENwnB,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAFF,CAMN5wB,MAAO,CAAC,CACPn5B,OAAQ,EADD,CAEPgqD,OAAQ,SAFD,CAGP7wB,MAAO,CAAC,CACP74B,MAAO,QADA,CAEP2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,KAAd,CAFC,CAGP+xB,OAAQ,SAHD,CAIPpxB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CAClBlxB,CAAAA,CAAQ,IAAA,CAAK+gD,QAAL,CAAcA,QAAd,CAAuB,KAAvB,CAAA,CAA8BK,KAA9B,EACZ,KAAIC,EAAK,IAAA,CAAKP,cAAL,CAAoBh8B,IAApB,CAAyB,UAAzB,CACT,KAAA,CAAK47B,YAAL,CAAkBlpD,GAAlB,CAAsB,CAAE,CAACf,GAAA,CAAIc,EAAJ,EAAD;AAAW,CAACyI,CAAD,CAAOozB,CAAP,CAAUpzB,CAAV,CAAgBqzB,CAAhB,CAAmBrzB,CAAnB,CAAyBI,CAAzB,CAAX,CAAF,CAAtB,CACAihD,EAAA,CAAGr3B,OAAH,EAJsB,CAJhB,CAUPrxB,MAAO,IAVA,CAAD,CAWL,CACDlB,MAAO,QADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFL,CAGD+xB,OAAQ,SAHP,CAIDpxB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CAClBmwB,CAAAA,CAAK,IAAA,CAAKP,cAAL,CAAoBh8B,IAApB,CAAyB,UAAzB,CACT,KAAIw8B,EAAMD,CAAA,CAAGE,iBAAH,EAAA,CAAuBC,YAAvB,EAAA,CAAsC,CAAtC,CACC,KAAX,EAAIF,CAAJ,EACC,IAAA,CAAKZ,YAAL,CAAkBjxC,MAAlB,CAAyB6xC,CAAzB,CAEDD,EAAA,CAAGr3B,OAAH,EANsB,CAJtB,CAYDrxB,MAAO,IAZN,CAXK,CAwBL,CACDlB,MAAO,QADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAFL,CAGDW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAA,CAAKwvB,YAAL,CAAkB5d,SAAlB,EADsB,CAHtB,CAMDnqC,MAAO,IANN,CAxBK,CAHA,CAAD,CAmCL,CACDlB,MAAO,UADN,CAEDw5B,KAAM,CAFL,CAGDwwB,WAAY,GAHX,CAIK3wB,MAAO,IAAPA,CAAY4vB,YAJjB,CAKKhE,IAAK,IAALA,CAAU+D,UALf,CAMKiB,aAAc,WANnB,CAOKC,YAAa,MAPlB;AAQKC,gBAAiB,UARtB,CASKC,eAAgB,CACf/Z,KAAM,QADS,CATrB,CAYKlwC,UAAW,CACVkqD,gBAAiBA,QAAQ,CAACC,CAAD,CAAYC,CAAZ,CAAsB9Q,CAAtB,CAA4B,CACjC,IAAnB,EAAI8Q,CAAA,CAAS,CAAT,CAAJ,GACDhiD,CAGJ,CAHYgiD,CAAA,CAAS,CAAT,CAAA,CAAYpnD,GAAZ,CAAgB,OAAhB,CAGZ,CADIq4B,CACJ,CAFkB,IAAA,CAAK9B,EAAL,CAAQ,QAAR,CACR,CAD0B0H,KAC1B,CAAYpP,cAAZ,EAAA,CAA6BsJ,QAA7B,CAAsC/yB,CAAtC,CACV,CAAA,IAAA,CAAK+gD,QAAL,CAAcA,QAAd,CAAuB,KAAvB,CAA8B9tB,CAA9B,CAJK,CADoD,CAD3C,CASVt6B,MAAO,IATG,CAZhB,CAnCK,CAND,CAAD,CAiEJ,CACDwjC,OAAQ,aADP,CAED9kC,MAAO,GAFN,CAGD8pD,OAAQ,SAHP,CAIDzpD,KAAM,8CAJL,CAjEI,CAVkD,CAiFxDq5B,QAAS,CAAC,CACT3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADG,CAETW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAA,CAAK+wB,WAAL,EACA/wB,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAFsB,CAFd,CAMTz4B,MAAO,IANE,CAAD,CAOP,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADL,CAEDW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CAFtB;AAKDz4B,MAAO,IALN,CAPO,CAjF+C,CA+FxDf,UAAW,CACVw5B,MAAOA,QAAQ,CAACyH,CAAD,CAAQ,CAClB,IAAJ,CAASkoB,QAAT,GACC,IAAA,CAAKA,QAAL,CAAcA,QAAd,CAAuB,SAAvB,CACA,CAAA,IAAA,CAAKA,QAAL,CAAgB,IAFjB,CADsB,CADb,CAOVpoD,MAAO,IAPG,CA/F6C,CAAhC,CAAA,CAwGnBsf,IAxGmB,EA0GtB,KAAA,CAAKiqC,YAAL,EA9GuB,CAvEmB,CAwL3CC,oBAAqBA,QAAQ,CAACniD,CAAD,CAAQ,CACpC,GAAsB,IAAtB,GAAI,IAAJ,CAAS+gD,QAAT,CAA4B,CAC1BqB,CAAAA,CAAMpiD,CAAA,CAAMohD,KAAN,EACNiB,EAAAA,CAAO,CAACD,CAAD,CAAKhvB,CAAL,CAAQgvB,CAAR,CAAY/uB,CAAZ,CAAe+uB,CAAf,CAAmBhiD,CAAnB,CAEX,KAAIkhD,EADK,IAAAD,CAAKP,cAALO,CAAoBv8B,IAApBu8B,CAAyB,UAAzBA,CACC,CAAGE,iBAAH,EAAA,CAAuBC,YAAvB,EAAA,CAAsC,CAAtC,CACC,KAAX,EAAIF,CAAJ,EACCA,CAAA,CAAIv3B,GAAJ,CAAQ,OAAR,CAAiBs4B,CAAjB,CAN6B,CADQ,CAxLM,CAoM9CH,aAAcA,QAAQ,EAAG,CACxB,GAAsB,IAAtB,GAAI,IAAJ,CAASnB,QAAT,CAA4B,CAE3B,IAAI9f,EADS,IAAAqhB,CAAKxB,cAALwB,CAAoBx9B,IAApBw9B,CAAyB,cAAzBA,CACD,CAAOppD,EAAP,CAAU4rB,IAAV,CAAe,OAAf,CACZ,KAAA,CAAKi8B,QAAL,CAAgBwB,CAAA,CAAEthB,CAAF,CAAQ9nC,GAAR,CAAA,CAAa4nD,QAAb,CAAsB,CACrCyB,KAAM,CAAA,CAD+B;AAErCC,UAAW,CAAA,CAF0B,CAGrCC,YAAa,CAAA,CAHwB,CAIrCC,gBAAiB,KAJoB,CAKrCtmB,OAAQ,IAAA,CAAK8lB,mBAAL,CAAyB/pD,IAAzB,CAA8B,IAA9B,CAL6B,CAMrCwqD,KAAM,IAAA,CAAKT,mBAAL,CAAyB/pD,IAAzB,CAA8B,IAA9B,CAN+B,CAAtB,CAHW,CADJ,CApMqB,CAmN3C6oD,YAAaA,QAAQ,CAAC4B,CAAD,CAAY,CAIhC,IAAIC,EAAc,EAHA,KAAA,CAAK3xB,EAAL,CAAQ,QAAR,CAEJ,CAFsB0H,KAEtB,CAAYpP,cAAZ,EAAAmK,CAA6BH,eAA7BG,CAA6CivB,CAA7CjvB,CAEd,CAAQ3kB,OAAR,CAAgB,QAAQ,CAAClP,CAAD,CAAI,CAC3B+iD,CAAA,CAAYrnD,IAAZ,CAAiB,CAAChF,GAAA,CAAIc,EAAJ,EAAD,CAAWwI,CAAX,CAAjB,CAD2B,CAA5B,CAEG,IAFH,CAGA,KAAA,CAAK2gD,YAAL,CAAkBqC,QAAlB,CAA2BD,CAA3B,CARgC,CAnNU,CA8N3Cb,YAAaA,QAAQ,EAAG,CACvB,IAAI3rD,EAAQ,EACZ,KAAA,CAAKoqD,YAAL,CAAkB9jD,IAAlB,CAAuB,QAAQ,CAACmD,CAAD,CAAI,CAClCzJ,CAAA,CAAMmF,IAAN,CAAWsE,CAAA,CAAEnF,GAAF,CAAM,OAAN,CAAX,CADkC,CAAnC,CAGA,KAAIooD,EAAcvsD,GAAA,CAAI0qC,MAAJ,CAAW7qC,CAAX,CAAlB,CACIu4C,EAAc,IAAA,CAAK1d,EAAL,CAAQ,QAAR,CAAd0d,CAAgChW,KADpC,CAEIkM,EAAW8J,CAAA,CAAY7tB,SAAZ,EAAA,CAAwBE,KAAxB,EACfzqB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAKiU,CAAA,CAAYpM,cAAZ,EADQ;AAEb5a,OAAQ,CACPgS,KAAM,yBADC,CAEVqL,cAAe8d,CAFL,CAGV52B,OAAQ2Y,CAHE,CAFK,CAObsG,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAE5B7hD,CAAAA,CADOd,GAAAye,CAAIxe,IAAJwe,CAASkH,IAATlH,CAAc+wB,MAAd/wB,CAAqBuhB,CAArBvhB,CAA8B0hB,YAA9B1hB,CACP3d,CAAU2uC,cAAV3uC,CAAyBA,EACzB4hD,EAAAA,CAAQ,IAAA,CAAKr0B,IAAL,CAAU,OAAV,CACAq0B,EAAAroB,CAAMlH,QAANkH,EACZ,CAAMt5B,GAAN,CAAU,CAACue,KAAMxe,CAAP,CAAWjB,MAAOiB,CAAlB,CAAV,CACA4hD,EAAA,CAAMxc,QAAN,CAAeplC,CAAf,CACA4hD,EAAA,CAAMvgD,YAAN,EAEAi2C,EAAA,CAAYplB,cAAZ,EAAA,CAA6BkJ,eAA7B,CAA6Cp7B,CAA7C,CAAiDjB,CAAjD,CATgC,CAPpB,CAkBbqC,MAAO,IAlBM,CAAjB,CARuB,CA9NmB,CAA/C,C,CCAAlC,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACpCyI,OAAQ,0BAD4B,CAEpC7H,OAAQ,CAAC,0BAAD,CAA4B,iBAA5B,CAA8C,4BAA9C,CAF4B,CAGpC4V,MAAO,oBAH6B,CAIpCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJu1B,UAAW/lD,IAAAA,EADP,CAHG,CAJ2B,CAWpCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EAEnB,KAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACA,KAAA,CAAKujB,UAAL,CAAgBvjB,SAAhB,CAJ6B,CAXM,CAkBpC2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK6X,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CAC9B,GAAI7X,CAAJ,EAAc,WAAd,EAA6BA,EAA7B,CACC6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,IAAA,CAAKqoD,sBAAL,CAA4BtuD,CAA5B,CAAmCquD,SAAnC,CAAhB,CADD,KAGK,IAAI,IAAA,CAAKliC,WAAL,CAAiB,WAAjB,CAAJ,CAAmC,CACvC,IAAIvD;AAAQ,IAAA,CAAK0lC,sBAAL,EACZ,KAAA,CAAKC,OAAL,CAAa3lC,CAAb,CAAmB4lC,IAAnB,CACA,KAAA,CAAKC,SAAL,CAAe7lC,CAAf,CAAqB8lC,MAArB,CACA,KAAA,CAAKC,SAAL,CAAe/lC,CAAf,CAAqBmM,MAArB,CACA,KAAA,CAAK40B,QAAL,CAAc/gC,CAAd,CAAoBsT,KAApB,CACA,KAAA,CAAKrjB,MAAL,EANuC,CAJV,CAAlC,CAYG,IAZH,CAaA,KAAA,CAAKkoB,UAAL,CAAgBvjB,SAAhB,CAf+B,CAlBI,CAoCpC8wC,uBAAwBA,QAAQ,CAACM,CAAD,CAAa,CAC5CA,CAAA,CAAaA,CAAb,EAA2B,IAAA,CAAKziC,WAAL,CAAiB,WAAjB,CAC3B,IAAI,CAACyiC,CAAL,CAAkB,MAAO,EAE5B,KAAItuC,EAAOkH,IAAA,CAAKC,KAAL,CAAWmnC,CAAX,CAEXtuC,EAAA,CAAKuuC,OAAL,CAAevuC,CAAA,CAAKuuC,OAAL,CAAa/4C,GAAb,CAAiB,QAAQ,CAACqtB,CAAD,CAAS,CAAC,MAAOA,EAAR,CAAlC,CAEU,EAAzB,EAAI7iB,CAAJ,CAASuuC,OAAT,CAAiBpqD,MAAjB,GACC6b,CAAA,CAAKuuC,OAAL,CAAahoD,IAAb,CAAkB,CAAlB,CAEA,CADAyZ,CACA,CADKwuC,MACL,CADc,CACd,CAAAxuC,CAAA,CAAKyuC,IAAL,CAAU10C,OAAV,CAAkB,QAAQ,CAACsyB,CAAD,CAAMnoC,CAAN,CAAS,CAAKmoC,CAAJ,EAAUA,CAAA,CAAI9lC,IAAJ,CAASrC,CAAT,CAAX,CAAnC,CAHD,CAOA,KAAIoa,EAAO,EACN0B,EAAL,CAAUwuC,MAAV,GAAmBxuC,CAAnB,CAAwBwuC,MAAxB,CAA+BxuC,CAAA,CAAKuuC,OAAL,CAAa,CAAb,CAA/B,CACAvuC,EAAA,CAAKyuC,IAAL,CAAU10C,OAAV,CAAkB,QAAQ,CAACsyB,CAAD,CAAMnoC,CAAN,CAAS,CAClC,GAAImoC,CAAJ,CAAS,CACR,IAAI72B;AAAM,EACVA,EAAA,CAAIwK,CAAJ,CAASwuC,MAAT,CAAA,CAAmBtqD,CACnBmoC,EAAA,CAAMA,CAAA,CAAItyB,OAAJ,CAAY,QAAQ,CAAC20C,CAAD,CAAOt6C,CAAP,CAAU,CACnCoB,CAAA,CAAIwK,CAAA,CAAKuuC,OAAL,CAAan6C,CAAb,CAAJ,CAAA,CAAuBs6C,CADY,CAA9B,CAGNpwC,EAAA,CAAK/X,IAAL,CAAUiP,CAAV,CANQ,CADyB,CAAnC,CAYKwK,EAAL,CAAUtgB,MAAV,GAAmBsgB,CAAnB,CAAwBtgB,MAAxB,CAAiC,EAAjC,CACI4oB,EAAAA,CAAQ,CACXsT,MAAO,CACA7B,OAAQllB,MAAA,CAAOC,IAAP,CAAYwJ,CAAA,CAAK,CAAL,CAAZ,CADR,CAEAA,KAAMA,CAFN,CADI,CAKL4vC,KAAM3sD,GAAA,CAAIw9B,OAAJ,CAAY/e,CAAZ,CAAiBtgB,MAAjB,CAAwBwuD,IAAxB,CAAA,CAAgCluC,CAAhC,CAAqCtgB,MAArC,CAA4CwuD,IAA5C,CAAmD,CAAC,EAAD,CAAI,EAAJ,CALpD,CAMLE,OAAQ,EANH,CAOR35B,OAAQzU,CAAA,CAAKtgB,MAAL,CAAYivD,QAAZ,EAAoD,CAApD,CAAwB95C,MAAA,CAAOC,IAAP,CAAYwJ,CAAA,CAAK,CAAL,CAAZ,CAAxB,CAA6Cna,MAA7C,CAAwD6D,IAAAA,EAAxD,CAAoE,CAAC4mD,OAAO,KAAR,CAPpE,CAYP5uC,EAAL,CAAUtgB,MAAV,CAAiBwuD,IAAjB,GAAwBluC,CAAxB,CAA6BtgB,MAA7B,CAAoCwuD,IAApC,CAA2C,CAAC,EAAD,CAAI,EAAJ,CAA3C,CACA5lC,EAAA,CAAM4lC,IAAN,CAAWn0C,OAAX,CAAmB,QAAQ,CAAC80C,CAAD,CAAO3qD,CAAP,CAAU,CAChC3C,GAAA,CAAI23B,QAAJ,CAAalZ,CAAb,CAAkBtgB,MAAlB,CAAyBwuD,IAAzB,CAAJ,CACC3sD,GAAA,CAAIoE,KAAJ,CAAUkpD,CAAV,CAAgB7uC,CAAhB,CAAqBtgB,MAArB,CAA4BwuD,IAA5B,CADD,CAEW3sD,GAAA,CAAIw9B,OAAJ,CAAY/e,CAAZ,CAAiBtgB,MAAjB,CAAwBwuD,IAAxB,CAFX,EAGC3sD,GAAA,CAAIoE,KAAJ,CAAUkpD,CAAV,CAAgB7uC,CAAA,CAAKtgB,MAAL,CAAYwuD,IAAZ,CAAiBhqD,CAAjB,CAAhB,CAED3C,IAAA,CAAIo/B,OAAJ,CAAYkuB,CAAZ,CAAkB,CACXpjD,KAAS,CAAH,EAAAvH,CAAA,CAAO,SAAP,CAAmB,UADd;AAEXmqB,SAAa,CAAH,EAAAnqB,CAAA,CAAO,MAAP,CAAgB,QAFf,CAGXyH,MAAU,CAAH,EAAAzH,CAAA,CAAO,EAAP,CAAY,CAAC4qD,SAAU,CAACC,QAAQ,GAAT,CAAX,CAHR,CAAlB,CANoC,CAArC,CAcA,KAzD+C,IAyDtC7qD,EAAE,CAzDoC,CAyDjCsnB,EAAIxL,CAAJwL,CAAS+iC,OAAT/iC,CAAiBrnB,MAA/B,CAAuCD,CAAvC,CAAyCsnB,CAAzC,CAA6CtnB,CAAA,EAA7C,CACC,GAAI8b,CAAA,CAAKuuC,OAAL,CAAarqD,CAAb,CAAJ,EAAqB8b,CAArB,CAA0BwuC,MAA1B,CAAA,CACA,IAAIQ,EAAM,EACNhvC,EAAJ,CAAStgB,MAAT,CAAgB0uD,MAAhB,GACK7sD,GAAA,CAAI23B,QAAJ,CAAalZ,CAAb,CAAkBtgB,MAAlB,CAAyB0uD,MAAzB,CAAJ,CACC7sD,GAAA,CAAIoE,KAAJ,CAAUqpD,CAAV,CAAehvC,CAAf,CAAoBtgB,MAApB,CAA2B0uD,MAA3B,CADD,CAEW7sD,GAAA,CAAIw9B,OAAJ,CAAY/e,CAAZ,CAAiBtgB,MAAjB,CAAwB0uD,MAAxB,CAFX,EAGC7sD,GAAA,CAAIoE,KAAJ,CAAUqpD,CAAV,CAAehvC,CAAA,CAAKtgB,MAAL,CAAY0uD,MAAZ,CAAmB9lC,CAAnB,CAAyB8lC,MAAzB,CAAgCjqD,MAAhC,CAAf,CAJF,CAOA5C,IAAA,CAAIo/B,OAAJ,CAAYquB,CAAZ,CAAiB,CACVvjD,KAAM,MADI,CAEVwjD,OAAQjvC,CAARivC,CAAaT,MAFH,CAGVU,OAAQlvC,CAAA,CAAKuuC,OAAL,CAAarqD,CAAb,CAHE,CAIVirD,OAAQ,CACPzoD,OAAQ,CADD,CAJE,CAOV0oD,aAAc,CACPC,QAAS,CADF,CAPJ,CAUP10B,QAAS,CACR20B,WAAY,CAAA,CADJ,CAERC,SAAUA,QAAS,CAAC50B,CAAD,CAAUnvB,CAAV,CAAkBga,CAAlB,CAAwB,CACpCmV,CAAA,CAAQ+tB,OAAR,CAAgBl9C,CAAA,CAAO9F,GAAP,CAAW8f,CAAA,CAAK4oC,MAAL,CAAYoB,SAAZ,EAAX,CAAhB,CAAoD,IAApD,CAAyDhkD,CAAA,CAAO9F,GAAP,CAAW8f,CAAA,CAAK4oC,MAAL,CAAYoB,SAAZ,EAAX,CAAzD,CADoC,CAFnC,CAVF,CAAjB,CAiBAlnC;CAAA,CAAM8lC,MAAN,CAAa7nD,IAAb,CAAkByoD,CAAlB,CA1BA,CA6BD,MAAO1mC,EAvFwC,CApCT,CAAxC,C,CCAA/mB,GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CACvCyI,OAAQ,gBAD+B,CAOvCuvB,YAAa,IAP0B,CAavCC,QAAS,EAb8B,CAmBvCC,aAAc,IAnByB,CAyBvCC,aAAc,IAzByB,CA+BvCv0C,cAAe,CAAA,CA/BwB,CAqCvCw0C,WAAY,CAAA,CArC2B,CA2CvCC,SAAU,SA3C6B,CA8CvCjhB,cAAeA,QAAQ,EAAG,CACbpgB,IACT,CAAGgS,UAAH,CAAcvjB,SAAd,CAFsB,CA9Ca,CAoDvC6yC,OAAQ,WApD+B,CAuDvCC,YAAa,QAvD0B,CA6DtCC,kBAAmBA,QAAQ,CAACvY,CAAD,CAAQvnB,CAAR,CAAa,CAAA,IAChC1B,EAAK,IAD2B,CAEhC5iB,EAAQ,CAFwB,CAGhCggC,EAAOpd,CAAPod,CAAUA,IAHsB,CAMhCqkB,EAAUzhC,CAAA,CAAG0hC,oBAAH,CAAwBC,UAAxB,EAEdvkB,EAAA,CAAK/W,OAAL,EAEArG,EAAA,CAAGghC,WAAH,CAAiBt/B,CACjB1B,EAAA,CAAGihC,OAAH,CAAa,EACbjhC,EAAA,CAAGkhC,YAAH,CAAkB,IAEK,KAAvB,GAAIlhC,CAAJ,CAAOghC,WAAP,GACIhhC,CAwCA,CAxCGmhC,YAwCH,CAxCkB,IAAIlrC,MAAJ,CAAWyL,CAAX,CAAgB,GAAhB,EAAuB1B,CAAA,CAAGpT,aAAH;AAAmB,EAAnB,CAAwB,GAA/C,EAwClB,CAtCAoT,CAAA,CAAGmN,KAAH,CAASl0B,IAAT,CAAc,QAAQ,CAAC8D,CAAD,CAAS6kD,CAAT,CAAc,CACjC,IAAIl6C,EAAO01B,CAAA,CAAK4Q,OAAL,CAAajxC,CAAb,CAEP2K,EAAJ,EACI5U,GAAA,CAAIu9B,KAAJ,CAAU/kB,OAAV,CAAkBm2C,CAAlB,CAA2B,QAAQ,CAAC3jB,CAAD,CAAS,CAAA,IAEpCmiB,EAAOntD,GAAA,CAAI8C,GAAJ,CAAQ8R,CAAR,CAAA,CAAcyZ,IAAd,CAAmB2c,CAAA,CAAO+jB,oBAAP,EAAnB,CAAkD,CAAA,CAAlD,CAF6B,CAIpCC,CAEJ,IAAI7B,CAAJ,EAA4C,CAA5C,EAAYniB,CAAA,CAAO3I,OAAP,CAAe,cAAf,CAAZ,CAAmD,CAC/C,IAAA8rB,EAAUhB,CAAA,CAAKzmB,SAAL,CAAex6B,KAAf,CAAqBghB,CAArB,CAAwBshC,MAAxB,CACV,KAAAS,EAAW9B,CAAA,CAAKzmB,SAAL,CAAe7iC,OAAf,CAAuBqpB,CAAvB,CAA0BshC,MAA1B,CAAkCthC,CAAlC,CAAqCuhC,WAArC,CAGXQ,EAAA,CAAWA,CAAA,CAASprD,OAAT,CAAiBqpB,CAAjB,CAAoBmhC,YAApB,CAAkC,QAAQ,CAAC3xB,CAAD,CAAI,CACrD,EAAEpyB,CACG0kD,EAAL,GACI9hC,CAAA,CAAGihC,OAAH,CAAWnpD,IAAX,CAAgB,CACZiF,OAAQA,CADI,CAEZ+gC,OAAQA,CAFI,CAAhB,CAIA,CAAAgkB,CAAA,CAAO,CAAA,CALX,CAOA,OAAO,eAAP,CAAyB9hC,CAAzB,CAA4BqhC,QAA5B,CAAuC,IAAvC,CAA8C7xB,CAA9C,CAAkD,SATG,CAA9C,CAURxP,CAVQ,CAYXltB,IAAA,CAAImG,IAAJ,CAASgoD,CAAT,CAAkB,QAAQ,CAACjiD,CAAD,CAAQ,CAC9B+iD,CAAA,CAAWA,CAAA,CAASprD,OAAT,CAAiBqpB,CAAjB,CAAoBuhC,WAApB,CAAiCviD,CAAjC,CADmB,CAAlC,CAIAihD,EAAA,CAAKzmB,SAAL,CAAiBuoB,CArB8B,CANX,CAA5C,CAJ6B,CAApC,CAmCG/hC,CAnCH,CAsCA,CAAI5iB,CAAJ,GACG4iB,CACA,CADGkhC,YACH,CADkB,CAClB;AAAAlhC,CAAA,CAAGgiC,WAAH,EAFH,CAzCJ,CAgDwB,KAAxB,GAAIhiC,CAAJ,CAAOkhC,YAAP,EACIlhC,CAAA,CAAG49B,iBAAH,EAAA,CAAuBqE,WAAvB,EAEJhZ,EAAA,CAAMiZ,KAAN,EAjEoC,CA7DF,CAiIvCxiB,SAAU,CACNsiB,YAAaA,QAAQ,EAAG,CACpB,IAAI1pD,EAAM,IAAA,CAAK2oD,OAAL,CAAa,IAAb,CAAkBC,YAAlB,CACV,KAAA,CAAKiB,kBAAL,EAAA,CAA0BC,WAA1B,CAAsC9pD,CAAtC,CAA0CyE,MAA1C,CAAkDzE,CAAlD,CAAsDwlC,MAAtD,CACA,KAAA,CAAK8f,iBAAL,EAAA,CAAyBj0C,MAAzB,CAAgCrR,CAAhC,CAAoCyE,MAApC,CAHoB,CADlB,CAjI6B,CAA3C,C,CCAAjK,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CyI,OAAQ,UADmC,CAE3C7H,OAAQ,CAAC,0BAAD,CAFmC,CAG3Cy4B,OAAQ9oD,IAAAA,EAHmC,CAI3CyxB,QAAS,CACRG,KAAM,EADE,CAJkC,CAQ3Cl6B,OAAQ,CACP+9C,SAAUz1C,IAAAA,EADH,CAEPvE,MAAOuE,IAAAA,EAFA,CAGPmuC,QAASnuC,IAAAA,EAHF,CAIP41C,QAAS51C,IAAAA,EAJF,CAKP63B,KAAM73B,IAAAA,EALC,CAMP28B,KAAM38B,IAAAA,EANC,CAOP+oD,MAAO,GAPA,CAQPpT,oBAAqB31C,IAAAA,EARd,CARmC,CAkB3CjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAA,CAAK24B,MAAL,CAAY,0BAAZ,CAAA,CAAwCt2B,WAAxC,CAAoD4D,KAApD,CAA0D,IAA1D,CAAgEuX,SAAhE,CACA,IAAI,CAACxd,CAAL,EAAe,CAACA,CAAD,CAAQ+9C,QAAvB,EAAmC,CAAC/9C,CAAD,CAAQ+9C,QAAR,CAAiBp7C,EAApD,CACC,MAAOw1B,OAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6B,IAAA,CAAKiC,QAAL,CAAc,YAAd,CAA7B,CAER,KAAA,CAAK82B,UAAL,CAAgBtxD,CAAhB,CACA,KAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACA;IAAA,CAAKsC,MAAL,EAR6B,CAlBa,CA6B3CA,OAAQA,QAAQ,EAAG,CAAA,IACdi+B,EAAW,IAAA,CAAKwT,WAAL,EADG,CACiBxtD,EAAQ,IAAA,CAAKytD,QAAL,EACvC/wB,EAAAA,CAAM18B,CAAA,CAAMy2B,QAAN,CAAiBz2B,CAAA,CAAMy2B,QAAN,CAAeujB,CAAf,CAAwBxjB,IAAxB,CAAjB,CAAiD,IAAA,CAAKC,QAAL,CAAcujB,CAAd,CAAuBxjB,IAAvB,CACvDkG,EAAJ,EAAS,GAAT,CAAasd,CAAb,CAAsBxjB,IAAtB,CAA2B,GAA3B,GAAiCkG,CAAjC,CAAqCsd,CAArC,CAA8C7c,OAA9C,CACAT,EAAA,EAAK,IAAL,CAAW5T,QAAA,CAA6B,GAA7B,CAASkxB,CAAT,CAAkB0T,UAAlB,CAAX,CAA8C,IAC9C,KAAIjwC,EAAO,IAAA,CAAKgZ,QAAL,CAAcujB,CAAA,CAAS2T,MAAT,CAAgBxtC,WAAhB,EAAd,CACN,KAAL,CAAUktC,MAAV,EAAoB,IAApB,CAAyBA,MAAzB,CAAgC3wB,GAAhC,CAAoC39B,IAApC,EAA0C29B,CAA1C,EAAkD,IAAlD,CAAuD2wB,MAAvD,CAA8DO,WAA9D,EAA6E,IAAA,CAAKP,MAAL,CAAYO,WAAZ,CAAwBvZ,OAAxB,EAA7E,EAAgH52B,CAAhH,GACC,IADD,CACM4vC,MADN,CACevvD,GAAA,CAAI0/B,GAAJ,CAAQqwB,IAAR,CAAanxB,CAAb,CAAkB,IAAA,CAAKjG,QAAL,CAAc,UAAd,CAAlB,CAA6C,CAC1DhZ,KAAMA,CADoD,CAA7C,CADf,CAKA,IAAqB,QAArB,EAAIu8B,CAAJ,CAAa2T,MAAb,EAAkD,SAAlD,EAAiC3T,CAAjC,CAA0C2T,MAA1C,CAA6D,CAC5D,IAAI3iC,EAAK,IACTltB,IAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpBx+C,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACZjL,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EADO;AAEZ5a,OAAQ,CACNgS,KAAM,0BADA,CAENtiC,GAAIo7C,CAAJp7C,CAAaA,EAFP,CAGNs7C,oBAAqBlvB,CAAA,CAAG8iC,sBAAH,EAHf,CAFI,CAAjB,CAAA,CAOI35B,IAPJ,CAOS,QAAQ,CAAC2J,CAAD,CAAWiwB,CAAX,CAAgB,CAE/B,CADIlzC,CACJ,CADW/c,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACX,GAAYpjB,CAAZ,CAAiBm/B,QAAjB,CAA0BA,QAA1B,EACChvB,CAAA,CAAGgjC,WAAH,CAAenzC,CAAf,CAAoBm/B,QAApB,CAA6BA,QAA7B,CACA,CAAAhvB,CAAA,CAAGjP,MAAH,EAFD,EAICiP,CAAA,CAAGijC,MAAH,CAAU,CAAA,CAAV,CAAiBjjC,CAAA,CAAGyL,QAAH,CAAY,aAAZ,CAAjB,CAN8B,CAPjC,CAeI,QAAQ,CAACqH,CAAD,CAAWiwB,CAAX,CAAgB,CAC1B/iC,CAAA,CAAGijC,MAAH,CAAU,CAAA,CAAV,CAAiBnwB,CAAjB,CAD0B,CAf5B,CADoB,CAArB,CAmBG,IAAA,CAAKowB,QAAL,EAnBH,CAmBoB,IAnBpB,CAF4D,CAA7D,IAuBC,KAAA,CAAKD,MAAL,CAA6B,UAA7B,EAAYjU,CAAZ,CAAqB2T,MAArB,CAAyCjxB,CAAzC,CAEmB,IAApB,CAAI,IAAA,CAAKwxB,QAAL,EAAJ,EAA2B,IAAA,CAAKC,QAAL,CAAc,IAAA,CAAKD,QAAL,EAAd,CAA8B,GAA9B,CApCT,CA7BwB,CAoE3CD,OAAQA,QAAQ,CAACvb,CAAD,CAAU5U,CAAV,CAAoB,CACnC,IAAIqD,EAAWuR,CAAA,CAAU,IAAA,CAAK0b,UAAL,EAAV,CAA8B,IAAA,CAAKC,UAAL,EAA7C,CACIjyB,EAAO,IAAA,CAAKkyB,OAAL,EADX,CAC2BtU,EAAW,IAAA,CAAKwT,WAAL,EADtC;AAC0DxtD,EAAQ,IAAA,CAAKytD,QAAL,EAClE,KAAA,CAAKh1B,KAAL,EACI0I,EAAJ,EAAgBA,CAAhB,CAAyBj/B,KAAzB,CACCi/B,CAAA,CAASj/B,KAAT,CAAelC,CAAf,CAAsB,CAAC0yC,CAAA,CAAUtW,CAAV,CAAiB0B,CAAjB,EAA6Bkc,CAA9B,CAAtB,CADD,CAGC5lB,MAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6BsJ,CAA7B,CAPkC,CApEO,CA+E3CrF,MAAOA,QAAQ,EAAG,CACb,IAAJ,CAAS40B,MAAT,EACC,IAAA,CAAKA,MAAL,CAAY50B,KAAZ,EAED,KAAA,CAAK81B,OAAL,EAJiB,CA/EyB,CAA5C,C,CCAAzwD,GAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDyI,OAAQ,iBADwC,CAE7C7H,OAAQ,CAAC,0BAAD,CAA4B,iBAA5B,CAA8C,4BAA9C,CAFqC,CAGhD4V,MAAO,6BAHyC,CAI7CxU,QAAS,CACRG,KAAM,EADE,CAEXpB,IAAK,CACJy5B,UAAWjqD,IAAAA,EADP,CAEJ+lD,UAAW/lD,IAAAA,EAFP,CAGJ7F,MAAO6F,IAAAA,EAHH,CAIJwwB,IAAKxwB,IAAAA,EAJD,CAFM,CAJoC,CAa7CxF,KAAM,EAbuC,CAc7C9C,OAAQ,CACPwyD,cAAelqD,IAAAA,EADR,CAdqC,CAiBhDjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1BA,CAAA,CAASA,CAAT,EAAmB,EACb+uB,KACH,CAAGgS,UAAH,CAAcvjB,SAAd,CAHuB,CAjBkB,CAsBhD2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAAA,IACxB+uB,EAAK,IAAM/uB,EAAf,CAAwBA,CAAxB,EAAkC,EAClC+uB,EAAA,CAAG4J,MAAH,CAAU,iBAAV,CAAA,CAA6Bt2B,WAA7B,CAAyC4D,KAAzC,CAA+C,IAA/C,CAAqDuX,SAArD,CACI,KAAJ,CAASxd,MAAT,CAAgB84B,GAAhB,EAAuB,IAAvB,CAA4B94B,MAA5B,CAAmC84B,GAAnC,CAAuCu1B,SAAvC;AACC,IAAA,CAAK90B,WAAL,CAAiB,WAAjB,CAA8B,IAA9B,CAAmCv5B,MAAnC,CAA0C84B,GAA1C,CAA8Cu1B,SAA9C,CAEJt/B,EAAA,CAAGlX,EAAH,CAAM,aAAN,CAAqB,QAAQ,EAAG,CAC5BkX,CAAA,CAAG0jC,eAAH,EACH,KAAIC,EAAQ,IAAA,CAAK1rB,WAAL,EAAA,CAAmB9W,IAAnB,CAAwB,OAAxB,CACZ,IAAIwiC,CAAJ,CAAW,CACV,IAAIjzC,EAASizC,CAAA,CAAMjzC,MAAN,EAAb,CACIgtB,EAAO,IAAI5qC,GAAJ,CAAQ8wD,EAAR,CAAWlmB,IAAX,CAAgBmmB,aAAhB,CAA8BF,CAA9B,CAAqC,CAC/CjwD,MAAO,IAAA,CAAK0pB,WAAL,CAAiB,OAAjB,CAAP1pB,EAAoCgd,CAAA,CAAO/c,QAAP,EADW,CAE/CH,OAAQ,IAAA,CAAK4pB,WAAL,CAAiB,QAAjB,CAAR5pB,EAAsC,EAAtCA,CAAmE,EAAnEA,CAA0CmwD,CAAA,CAAMzmC,KAAN,CAAY,IAAZ,CAA1C1pB,CAA4DkC,MAFb,CAArC,CAIXgoC,EAAA,CAAKomB,MAAL,CAAYpzC,CAAZ,CACA,IAAI,IAAA,CAAKqzC,gBAAL,EAAJ,CAA6B,CAC5B,IAAIC,EAAQ,EACZlxD,IAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAA,CAAKuX,gBAAL,EAAf,CAAA,CAAwCz4C,OAAxC,CAAgD,QAAQ,CAAC8oB,CAAD,CAAS,CAAC4vB,CAAA,CAAM5vB,CAAN,CAAA,CAAc,CAAA,CAAf,CAAjE,CACAsJ,EAAA,CAAKikB,UAAL,EAAA,CAAkBr2C,OAAlB,CAA0B,QAAQ,CAACwyB,CAAD,CAAS,CACtCA,CAAJ,CAAWrrB,IAAX,GAAmBuxC,EAAnB,EAA2BlmB,CAAA,CAAOrH,IAAP,EADe,CAA3C,CAGA3jC,IAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpB5T,CAAA,CAAK7nC,QAAL,CAAc6nC,CAAA,CAAKnH,KAAL,EAAd,CAA2B/gC,GAA3B,CAA+B+jC,UAA/B,CAA0C0C,WAA1C,CADoB,CAArB;AAEE,EAFF,CAN4B,CAPnB,CAHoB,CAAhC,CAqBGjc,CArBH,CAuBGA,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CA7B4B,CAtBgB,CAsDhDi1C,gBAAiBA,QAAQ,EAAG,CAAA,IACZF,EAAY,IAAA,CAAKpmC,WAAL,CAAiB,WAAjB,CADA,CAC+BkiC,EAAY,IAAA,CAAKliC,WAAL,CAAiB,WAAjB,CACtE,IAAIomC,CAAJ,CACC,IAAA,CAAKvJ,OAAL,CAAauJ,CAAb,CADD,KAEO,IAAIlE,CAAJ,CAAe,CAAA,IACjBvrD,EAAO,oBAAsBwd,EAAAA,CAAOkH,IAAA,CAAKC,KAAL,CAAW4mC,CAAX,CAEpC/tC,EAAJ,CAASuuC,OAAT,CACCvuC,CAAA,CAAKuuC,OAAL,CAAax0C,OAAb,CAAqB,QAAQ,CAAC8oB,CAAD,CAAS,CACrCrgC,CAAA,EAAM,MAAN,CAAaqgC,CAAb,CAAoB,OADiB,CAAtC,CADD,CAKC7iB,CAAA,CAAKyuC,IAAL,CAAU,CAAV,CAAA,CAAa10C,OAAb,CAAqB,QAAQ,CAAC20C,CAAD,CAAOxqD,CAAP,CAAU,CACtC1B,CAAA,EAAM,MAAN,EAAc0B,CAAd,CAAgB,CAAhB,EAAmB,OADmB,CAAvC,CAID1B,EAAA,EAAM,sBACNwd,EAAA,CAAKyuC,IAAL,CAAU10C,OAAV,CAAkB,QAAQ,CAACsyB,CAAD,CAAM,CAC/B7pC,CAAA,EAAM,MACN6pC,EAAA,CAAItyB,OAAJ,CAAY,QAAQ,CAAC20C,CAAD,CAAO,CAC1BlsD,CAAA,EAAM,MAAN,CAAaksD,CAAb,CAAkB,OADQ,CAA3B,CAGAlsD,EAAA,EAAM,OALyB,CAAhC,CAOAA,EAAA,EAAM,kBACN,KAAA,CAAKkmD,OAAL,CAAalmD,CAAb,CACIwd,EAAJ,CAAStgB,MAAT,EAAmBsgB,CAAnB,CAAwBtgB,MAAxB,CAA+B+J,MAA/B;AAAwC,IAAA,CAAKipD,gBAAL,CAAsB1yC,CAAtB,CAA2BtgB,MAA3B,CAAkC+J,MAAlC,CAtBnB,CAJK,CAtDoB,CAAjD,CA4FAlI;GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACpCyI,OAAQ,gBAD4B,CAWpCn+B,YAAaA,QAAQ,CAACqwD,CAAD,CAAQ1yD,CAAR,CAAgB,CACjCA,CAAA,CAAS6B,GAAA,CAAIoE,KAAJ,CAAU,EAAV,CAAcjG,CAAd,CACT,KAAA,CAAK0yD,KAAL,CAAa7wD,GAAA,CAAImE,GAAJ,CAAQ0sD,CAAR,CAiBb,KAnBiC,IAI7BO,EAAejzD,CAAfizD,CAAsB54B,MAAtB44B,EAAgC,EAJH,CAK7BC,EAAgBlzD,CAAhBkzD,CAAuB1C,OAAvB0C,EAAkC,EALL,CAM7B74B,EAAS,EANoB,CAO7B84B,EAAO,EAPsB,CAQ7BtE,EAAU6D,CAAA,CAAMzmC,KAAN,CAAY,UAAZ,CARmB,CAS7BznB,EAAI,CATyB,CAU7BsnB,EAAM+iC,CAAN/iC,CAAcrnB,MAVe,CAW7Bma,EAAO8zC,CAAP9zC,CAAara,GAXgB,CAa7BhC,CAb6B,CAe7B6wD,CAf6B,CAgB7B5xC,CAhB6B,CAiB7BL,CAEJ,CAAO3c,CAAP,CAAWsnB,CAAX,CAAgB,EAAEtnB,CAAlB,CACI4uD,CAUA,CAVMvE,CAAA,CAAQrqD,CAAR,CAUN,CARAgd,CAQA,CARO4xC,CAQP,CARW7qB,SAQX,CAPApnB,CAOA,CAPO,OAOP,CAPiB3c,CAOjB,CALA61B,CAAA,CAAOxzB,IAAP,CAAYhF,GAAA,CAAIo/B,OAAJ,CAAYgyB,CAAA,CAAazuD,CAAb,CAAZ,EAA+B,EAA/B,CAAmC,CAC3C2c,KAAMA,CADqC,CAE3CkyC,QAAS,SAATA,EAAsB7uD,CAAtB6uD,CAA0B,CAA1BA,EAA+B,cAFY,CAAnC,CAAZ,CAKA,CAAAF,CAAA,CAAKtsD,IAAL,CAAUhF,GAAA,CAAIo/B,OAAJ,CAAYiyB,CAAA,CAAc1uD,CAAd,CAAZ,EAAgC,EAAhC,CAAoC,CAC1Cgd,KAAMA,CADoC,CAE1CsrB,UAAW3rB,CAF+B,CAI1Ckb,KAAM,CAJoC,CAK1CpB,QAASm4B,CAATn4B,CAAaryB,KAL6B,CAM1C0qD,SAAU,CAAA,CANgC,CAApC,CAAV,CAWA7wD,EAAA,CADAzC,CAAJ,CAAWyC,KAAX,CACYzC,CADZ,CACmByC,KADnB,CAGYiwD,CAAA,CAAMhwD,QAAN,EAHZ,CAG+B,CAG3B1C,EAAJ,CAAWuC,MAAX,GACIA,CADJ,CACavC,CADb,CACoBuC,MADpB,CAIAV,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ;AAAoB,CAChBk8B,MAAO,CACHtd,KAAMA,CADH,CAEHyb,OAAQA,CAFL,CAGHwc,MAAO,CACH9qC,KAAM,QADH,CAEH4uC,OAAQ,CACJ7uC,OAAQ,UADJ,CAEJC,KAAM,KAFF,CAFL,CAHJ,CADS,CAYhBykD,QAAS2C,CAZO,CAahB1wD,MAAOA,CAbS,CAchBF,OAAQA,CAdQ,CAApB,CAgBA,KAAA,CAAKw+B,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CAEsB,EAAA,CAAtB,GAAIA,CAAJ,CAAW6a,MAAX,EAGI+D,CAAA,CAAK0pB,UAAL,CAAgB+C,WAAhB,CAA4BzsB,CAA5B,CAvE6B,CAXD,CAsFpC20C,UAAWA,QAAQ,EAAG,CAClB,IAAA,CAAKb,KAAL,CAAW73C,MAAX,EACA,KAAA,CAAK24C,IAAL,CAAY,IACZ,KAAA,CAAKzyB,UAAL,EAHkB,CAtFc,CAAxC,C,CC5FAl/B,GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CAC5CyI,OAAQ,yBADoC,CAE5C7H,OAAQ,CAAC,0BAAD,CAFoC,CAG5C4V,MAAO,yBAHqC,CAI5CxU,QAAS,CACRG,KAAM,EADE,CAJmC,CAQ5Cl6B,OAAQ,CACPyzD,WAAYnrD,IAAAA,EADL,CARoC,CAW5C6mC,cAAeA,QAAQ,EAAG,CACzB,IAAIztC,EAAQ,IAAA,CAAK66B,EAAL,CAAQ,QAAR,CAAA,CAAkB0H,KAAlB,CAAwB9X,WAAxB,CAAoC,YAApC,CAAZ,CACOvN,EAAOld,CAAA,CAAQ,CAAC,CAACyf,KAAMzf,CAAP,CAAcA,MAAOA,CAArB,CAAD,CAAR,CAAwC,EAEtDG,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACZ49C,OAAQ,MADI,CAEZnoB,MAAO,CAAC,CACP74B,MAAO,OADA,CAEP84B,UAAW,OAFJ,CAGPmoB,cAAe,KAHR,CAIPjoB,WAAY,IAAA,CAAKrB,QAAL,CAAc,YAAd,CAJL,CAKPsB,WAAY,OALL,CAMPE,aAAc,MANP,CAOPC,WAAY,OAPL,CAQPC,MAAO,CACN7B,OAAQ,CAAC,MAAD;AAAS,OAAT,CADF,CAENzb,KAAMA,CAFA,CARA,CAYPuC,KAAM,YAZC,CAaPzf,MAAOA,CAbA,CAAD,CAcJ,CAACe,MAAO,EAAR,CAdI,CAcS,CAACI,MAAO,UAAR,CAdT,CAc8B,CACpCA,MAAO,QAD6B,CAEpC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CAF8B,CAGpC4B,GAAI,iBAHgC,CAIpCjB,QAASA,QAAQ,EAAG,CACnB,GAA6B7yB,IAAAA,EAA7B,GAAI,IAAA,CAAKorD,aAAL,EAAJ,CAAwC,CACvC,IAAIzvB,EAAQ,IAAA,CAAK1H,EAAL,CAAQ,QAAR,CAAR0H,CAA0BA,KAC1B9Z,EAAAA,CAAMtoB,GAAA,CAAIu4B,MAAJ,CAAW,iCAAX,CAA8C,CACvD6J,MAAOA,CADgD,CAEvD1hC,OAAyD,GAAzDA,CAAQ0hC,CAAA,CAAMpP,cAAN,EAAA,CAAuB6P,WAAvB,EAAA,CAAqCliC,SAArC,EAF+C,CAGvDC,MAAuD,GAAvDA,CAAOwhC,CAAA,CAAMpP,cAAN,EAAA,CAAuB6P,WAAvB,EAAA,CAAqChiC,QAArC,EAHgD,CAA9C,CAKVynB,EAAA,CAAItS,EAAJ,CAAO,OAAP,CAAgB,QAAQ,CAACsS,CAAD,CAAM,CACzBxnB,CAAAA,CAAKwnB,CAAA,CAAIwpC,eAAJ,EACT,IAAWrrD,IAAAA,EAAX,GAAI3F,CAAJ,CAAsB,CACrB,IAAI4hD,EAAQ,IAAA,CAAKr0B,IAAL,CAAU,OAAV,CAEfq0B,EAAA,CAAMvvB,QAAN,EAAA,CAAiBpyB,GAAjB,CAAqB,CAACue,KADXxe,CACU;AAAajB,MAAOiB,CAApB,CAArB,CACA4hD,EAAA,CAAMxc,QAAN,CAAeplC,CAAf,CAEA,KAAA,CAAK45B,EAAL,CAAQ,QAAR,CAAA,CAAkB0H,KAAlB,CAAwB1K,WAAxB,CAAoC,YAApC,CAAkD52B,CAAlD,CANwB,CAFO,CAA9B,CAUG,IAVH,CAWA,KAAA,CAAKixD,aAAL,CAAmBzpC,CAAnB,CAlBuC,CAqBpC0pC,CAAAA,CAAe,IAAA,CAAK3jC,IAAL,CAAU,OAAV,CAAA,CAAmB+Y,QAAnB,EACnB,KAAA,CAAKyqB,aAAL,EAAA,CAAqBI,eAArB,CAAqCD,CAArC,CACH,KAAA,CAAKH,aAAL,EAAA,CAAqBrwC,IAArB,EAxBsB,CAJgB,CA8BpCtf,MAAO,IA9B6B,CAd9B,CAFK,CAAhB,CAkDA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CAtDyB,CAXkB,CAA7C,CAqEA3b;GAAA,CAAIk2B,MAAJ,CAAW,iCAAX,CAA8C,CAC1CyI,OAAQ,mBADkC,CAE1CyC,SAAU,CAAC,gCAAD,CAFgC,CAG1CtK,OAAQ,CAAC,0BAAD,CAA4B,iBAA5B,CAHkC,CAI1C4V,MAAO,0BAJmC,CAK1CxU,QAAS,CACRG,KAAM,CACLtxB,MAAO,oBADF,CAEL1C,MAAO,OAFF,CAGLzE,KAAM,MAHD,CAIL6J,QAAS,OAJJ,CAKLyoD,aAAc,UALT,CAMLtwB,WAAY,YANP,CAOLuwB,YAAa,cAPR,CAQLC,eAAgB,iBARX,CASLC,YAAa,uBATR,CAULC,aAAc,eAVT,CAWLvxD,IAAK,KAXA,CAYLyhD,OAAQ,QAZH,CAaL+P,OAAQ,yBAbH;AAcLC,cAAe,+CAdV,CAeLxkD,KAAM,MAfD,CAgBLykD,SAAU,UAhBL,CAiBRlhC,SAAU,UAjBF,CAkBRmhC,iBAAkB,4BAlBV,CAmBRC,iBAAkB,4BAnBV,CAqBLppD,MAAO,OArBF,CAsBLrC,KAAM,MAtBD,CAuBL0rD,YAAa,aAvBR,CADE,CA0BR37B,IAAK,CACJ8tB,SAAU,MADN,CAEJ36B,MAAO3jB,IAAAA,EAFH,CA1BG,CA8BRgsD,SAAU,CACNlpD,MAAO,CACNvI,MAAO,YADD,CAENiuB,OAAQ,OAFF,CADD,CAYN/nB,KAAM,CACLlG,MAAO,UADF,CAEL84B,UAAW,OAFN,CAGLK,aAAc,MAHT,CAILC,WAAY,OAJP,CAKLC,MAAO,CACN7B,OAAQ,CAAC,MAAD,CAAS,OAAT,CADF,CAENzb,KAAMuZ,MAANvZ,CAAai2B,MAAbj2B,CAAoB81C,gBAApB91C,CAAqCgtC,KAF/B,CALF,CAZA;AAsBN6I,YAAa,CACZ5xD,MAAO,UADK,CAEZ84B,UAAW,OAFC,CAGZK,aAAc,MAHF,CAIZC,WAAY,OAJA,CAKZC,MAAO,CACN7B,OAAQ,CAAC,MAAD,CAAS,OAAT,CADF,CAENzb,KAAM,CAAC,CAACuC,KAAM,YAAP,CAAqBzf,MAAO,CAA5B,CAAD,CAAiC,CAACyf,KAAM,UAAP,CAAmBzf,MAAO,EAA1B,CAAjC,CAFA,CALK,CAtBP,CA9BF,CALiC,CAqE1C1B,OAAQ,CACPw3B,OAAQlvB,IAAAA,EADD,CAEPmrD,WAAYnrD,IAAAA,EAFL,CAGPqsD,eAAgBrsD,IAAAA,EAHT,CAIPurD,aAAcvrD,IAAAA,EAJP,CArEkC,CA6E1CssD,YAAa,MA7E6B,CA8E1Cn5B,MAAO,CAAA,CA9EmC,CA+E7Cl5B,OAAQ,GA/EqC,CAgF7CE,MAAO,GAhFsC,CAkF1CJ,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EAEfA,EAAJ,CAAWikC,KAAX,EACC,IAEH,CAFQA,KAER,CAFgBjkC,CAEhB,CAFuBikC,KAEvB,CADA,IACA,CADKvL,GACL,CADW,IAAA,CAAKuL,KAAL,CAAWpP,cAAX,EACX,CAAA,IAAA,CAAKggC,iBAAL,CAAyB,IAAA,CAAKn8B,GAAL,CAASgwB,oBAAT,EAHvB,EAKKr3C,MALL,CAKY+hC,OALZ,EAMEA,OAAA,CAAQ0hB,IAAR,CAAa,mBAAb,CAIF;IAAA,CAAKn8B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACA,KAAA,CAAKujB,UAAL,CAAgBvjB,SAAhB,CAd6B,CAlFY,CAmG1C2xB,cAAeA,QAAQ,EAAG,CACzBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfk9B,OAAQ,CAAA,CADO,CAEf0gB,OAAQ,KAFO,CAGfkR,MAAOlzD,GAAPkzD,CAAWC,OAHI,CAIft5B,MAAO,CACN74B,MAAO,UADD,CAEN+F,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAFD,CAGNy6B,qBAAsB,CAHhB,CAINv5B,MAAO,CAAC,CACPmoB,OAAQ,QADD,CAEPj7C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,YAAd,CAFA,CAGPkB,MAAO,CAAC,CACP9yB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADA,CAEPvU,MAAO,CAAA,CAFA,CAGPxjB,MAAO,GAHA,CAIPyyD,OAAQ,MAJD,CAKPrR,OAAQ,KALD,CAMPnoB,MAAO,CACN6L,OAAQ,OADF,CAEN1kC,MAAO,MAFD,CAGNq5B,MAAOr6B,GAAA,CAAIu4B,MAAJ,CAAW,uCAAX,CAAoD,CACpD6f,YAAa,IADuC,CAApD,CAHD;AAMNkb,WAAY,CACXC,QAAS,CACRC,MAAO,kBADC,CAERlK,QAAS,OAFD,CAGRmK,KAAM,CAAA,CAHE,CAIRC,WAAY,CAAA,CAJJ,CAKRC,SAAU,CACTC,YAAaA,QAAQ,EAAG,CACvB,IAAIj0C,EAAO,EACX,KAAA,CAAKk0C,QAAL,CAAc9rC,OAAd,CAAsBvP,OAAtB,CAA8B,QAAQ,CAACzT,CAAD,CAAI,CACzC4a,CAAA,EAAQ5a,CAAA,CAAEZ,GAAF,CAAM,MAAN,CAAR,CAAsB,IADmB,CAA1C,CAGAwb,EAAA,CAAOA,CAAA,CAAKsvB,MAAL,CAAY,CAAZ,CAAetvB,CAAf,CAAoB/c,MAApB,CAA2B,CAA3B,CACW,GAAlB,CAAI+c,CAAJ,CAAS/c,MAAT,GACC+c,CADD,CACQA,CAAA,CAAKsvB,MAAL,CAAY,CAAZ,CAAe,EAAf,CADR,CAC6B,KAD7B,CAGA,OAAOtvB,EATgB,CADf,CALF,CADE,CANN,CA2BNm0C,SAAU,CACNziB,KAAM,OADA,CA3BJ,CA8BNsd,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADG,CAENsS,UAAW,MAFL,CAGNzQ,KAAM,CAHA,CAIAi3B,SAAU,CAAA,CAJV,CAAD,CAKD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADL,CAEDsS,UAAW,SAFV,CAGErqC,MAAO,UAHT,CAID6wD,SAAU,CAAA,CAJT,CALC,CAUD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADL,CAEDsS,UAAW,cAFV;AAGD+iB,SAAUA,QAAQ,CAACp/B,CAAD,CAAM,CACvB,MAAO5uB,IAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAA2B,GAA3B,CAAuBlyB,CAAvB,CAAoC,OAApC,CADgB,CAHvB,CAMEhuB,MAAO,UANT,CAOEsH,OAAQ,CAAA,CAPV,CAQDupD,SAAU,CAAA,CART,CAVC,CA9BH,CAkDAsC,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD,CAJG,CAAD,CAlDb,CA0DAG,UAAW,CACVipB,MAAOA,QAAQ,CAAC4e,CAAD,CAAM5e,CAAN,CAAa,CAC3B,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACIiQ,EAAAA,CAAQ,IAAA,CAAK7N,SAAL,CAAe,OAAf,CAAA,CAAwB2G,QAAxB,EACZkH,EAAA,CAAMgS,SAAN,EACAhS,EAAA,CAAMqa,IAAN,EAJ2B,CADlB,CAOVxyC,MAAO,IAPG,CA1DX,CANA,CAAD,CA0EL,CACD6E,MAAO,IAAA,CAAK4xB,QAAL,CAAc,YAAd,CADN,CAED+M,OAAQ,YAFP,CAGD2tB,OAAQ,QAHP,CAIDryD,MAAO,OAJN,CAKDghD,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CALP,CASDO,WAAY,GATX,CAUD+I,YAAa,CAAC,CACDC,KAAM,QADL;AAEDhzD,MAAO,SAFN,CAGDizD,gBAAiB,UAHhB,CAIDp6B,MAAO,CAAC,CACPla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADC,CAEPW,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK46B,iBAAL,EAAA,CAAyB1yC,IAAzB,EADmB,CAFb,CAKPtf,MAAO,IALA,CAAD,CAML,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK9M,SAAL,CAAe,YAAf,CAAA,CAA6BpC,KAA7B,CAAmC,MAAnC,CAAA,CAA2C5R,OAA3C,CAAmD,QAAQ,CAACoyB,CAAD,CAAO,CAChF,IAAIupB,EAAOvpB,CAAA,CAAKmgB,YAAL,EACXoJ,EAAA,CAAK37C,OAAL,CAAa,QAAQ,CAACqyC,CAAD,CAAM,CAC1B,IAAA,CAAKmI,iBAAL,CAAuB3mD,UAAvB,CAAkCu+B,CAAlC,CAAuCrZ,QAAvC,CAAiDs5B,CAAA,CAAIjX,OAAJ,EAAjD,CAD0B,CAA3B,CAEG,IAFH,CAGehJ,EAAA,CAAKzX,QAAL,EAAA,CAAgBna,MAAhB,CAAuBm7C,CAAvB,CALiE,CAAlE,CAMG,IANH,CADmB,CAFnB,CAWDjyD,MAAO,IAXN,CANK,CAJN,CAAD,CAVZ,CAkCD23B,MAAO,EAlCN,CA1EK,CAHA,CAAD,CAiHL,CACDmoB,OAAQ,KADP,CAEDtc,OAAQ,UAFP,CAGD3+B,MAAO,IAAA,CAAK4xB,QAAL,CAAc,UAAd,CAHN,CAID33B,MAAO,MAJN;AAKDgqD,WAAY,GALX,CAMD3wB,MAAOr6B,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CACvCC,OAAQ,CAAC,UAAD,CAD+B,CAAjC,CANN,CASDm2B,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADG,CAETsS,UAAW,UAFF,CAGTwmB,SAAU,CAAA,CAHD,CAIT2C,SAAU,CAAA,CAJD,CAKT55B,KAAM,CALG,CAAD,CATR,CAjHK,CAJD,CAJQ,CA2IfF,QAAS,CAAC,CACZ3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADM,CAEZW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAA,CAAKw3B,eAAL,CAAqBxrD,IAAAA,EAArB,CACAg0B,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAFsB,CAFX,CAMZz4B,MAAO,IANK,CAAD,CAOV,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADL,CAEDW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAA,CAAK45B,eAAL,EACA,KAAA,CAAKC,iCAAL,EACA,KAAA,CAAKz9B,GAAL,CAAS09B,gBAAT,EAAA,CAA4Bl+B,IAA5B,CAAiC,QAAQ,CAACv1B,CAAD,CAAK,CAC7C,IAAA,CAAKmxD,eAAL,CAAqBnxD,CAArB,CACA25B,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAF6C,CAAb,CAG/Bh5B,IAH+B,CAG1B,IAH0B,CAAjC;AAGc,QAAQ,EAAG,CACxB,IAAA,CAAKswD,eAAL,CAAqBxrD,IAAAA,EAArB,CACAg0B,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAFwB,CAAX,CAGZh5B,IAHY,CAGP,IAHO,CAHd,CAHsB,CAFtB,CAaDO,MAAO,IAbN,CAPU,CA3IM,CAiKlBf,UAAW,CACVqgB,KAAMA,QAAQ,EAAG,CAEZ,IAAA,CAAKswC,eAAL,EAAJ,EAA8B,IAAA,CAAKA,eAAL,EAA9B,EAAsD,IAAA,CAAKxnC,WAAL,CAAiB,YAAjB,CAAtD,CACI,IAAA,CAAKuM,GAAL,CAAS29B,gBAAT,CAA0B,IAAA,CAAK1C,eAAL,EAA1B,CAAA,CAAkDz7B,IAAlD,CAAuD,QAAQ,CAACtZ,CAAD,CAAO,CACxE,IAAA,CAAKu3C,iCAAL,EACA,KAAA,CAAKG,eAAL,EACA,KAAA,CAAKC,aAAL,EAHwE,CAAf,CAIxD/yD,IAJwD,CAInD,IAJmD,CAAvD,CADJ,EAOC,IAAA,CAAK8yD,eAAL,EACA,CAAA,IAAA,CAAKC,aAAL,EARD,CAUA,KAAA,CAAKrmC,IAAL,CAAU,UAAV,CAAA,CAAsBoe,YAAtB,CAAmC,CAAnC,CAZgB,CADP,CAeVrrC,YAAaA,QAAQ,CAACuzD,CAAD,CAAU,CAC9BA,CAAA,CAAQ3+C,EAAR,CAAW,cAAX,CAA2B,QAAQ,CAACgzB,CAAD;AAAMrT,CAAN,CAAc,CAC7C,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CACY,KAAAtxB,CAAKmoB,SAALnoB,CAAe,OAAfA,CACZ,CAAM8uB,QAAN,EAAA,CAAiBuhB,IAAjB,EAH6C,CAAjD,CAIMigB,CAJN,CAMA,KAAA,CAAKvyB,KAAL,CAAWpsB,EAAX,CAAc,cAAd,CAA8B,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAChDg/B,CAAA,CAAQhyB,SAAR,CAAkB,cAAlB,CAAkCqG,CAAlC,CAAuCrT,CAAvC,CADgD,CAApD,CAEMg/B,CAFN,CAGO,KAAJ,CAASvyB,KAAT,CAAe7X,SAAf,EAA4B,IAAA,CAAK6X,KAAL,CAAW7X,SAAX,EAA5B,CAAqDoqC,CAAA,CAAQhyB,SAAR,CAAkB,cAAlB,CAAkCgyB,CAAlC,CAA2C,IAAA,CAAKvyB,KAAL,CAAW7X,SAAX,EAA3C,CAArD,CACS,IADT,CACc6X,KADd,CACoBjP,QADpB,EACgC,IAAA,CAAKiP,KAAL,CAAWjP,QAAX,EADhC,EACyD,IAAA,CAAKiP,KAAL,CAAWjP,QAAX,EADzD,CAC+E5I,SAD/E,EAC4F,IAAA,CAAK6X,KAAL,CAAWjP,QAAX,EAAA,CAAsB5I,SAAtB,EAD5F,EAECoqC,CAAA,CAAQhyB,SAAR,CAAkB,cAAlB,CAAkCgyB,CAAlC,CAA2C,IAAA,CAAKvyB,KAAL,CAAWjP,QAAX,EAAA,CAAsB5I,SAAtB,EAA3C,CAZ0B,CAfrB,CA8BVroB,MAAO,IA9BG,CAjKO,CAAhB,CAmMA,KAAA,CAAK0yD,iBAAL,CAAuB50D,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACtDxxB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,aAAd,CAD+C;AAEtDiB,MAAO,CAAA,CAF+C,CAGtDm5B,YAAa,MAHyC,CAItD/Q,OAAQ,KAJ8C,CAKtDnoB,MAAO,CACN74B,MAAO,MADD,CAENJ,MAAO,GAFD,CAGN+oD,SAAU,CACT1vB,WAAY,OADH,CAHJ,CAMNJ,MAAO,CAAC,CACP74B,MAAO,WADA,CAEPg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CAFL,CAGPrZ,KAAM,cAHC,CAIPu1C,WAAY,CAAA,CAJL,CAKPC,UAAW,QAAQ,CAAClmC,CAAD,CAAM,CACxB,MAAwDnoB,KAAAA,EAAjD,GAAA,IAAA,CAAKusD,iBAAL,CAAuB+B,gBAAvB,CAAwCnmC,CAAxC,CAAA,CAA6D,CAAA,CAA7D,CAAoE,IAAA,CAAK+J,QAAL,CAAc,QAAd,CADnD,CAAd,CAETh3B,IAFS,CAEJ,IAFI,CALJ,CAQPqzD,gBAAiB,CAAA,CARV,CASP7zD,UAAW,CACV8zD,SAAUA,QAAQ,CAAC9e,CAAD,CAAQ+e,CAAR,CAAa,CAC1BA,CAAA,CAAIC,MAAJ,EAAJ,GAAqBn1D,GAArB,CAAyB2K,KAAzB,CAA+ByqD,KAA/B,CAAqCC,KAArC,EACClf,CAAA,CAAMzb,EAAN,CAAS,MAAT,CAAA,CAAiBlO,SAAjB,CAA2B,mBAA3B,CAAA,CAAgDjT,KAAhD,EAF6B,CADrB,CAMVrX,MAAO,IANG,CATJ,CAAD,CAND,CAwBNo4B,QAAS,CAAC,CACT3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADG;AAETW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CAFd,CAAD,CAKP,CACD+K,OAAQ,mBADP,CAED/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,KAAd,CAFL,CAGDW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIG,EAAOH,CAAA,CAAIC,EAAJ,CAAO,MAAP,CACPE,EAAA,CAAK06B,OAAL,EAAJ,GACKh2C,CAEJ,CAFWsb,CAAA,CAAKK,SAAL,EAEX,CAF4B,YAE5B,CADA,IAAA,CAAKk3B,WAAL,CAAiB7yC,CAAjB,CACA,CAAAmb,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAHD,CAFsB,CAHtB,CAWDz4B,MAAO,IAXN,CALO,CAxBH,CAL+C,CAgDtDf,UAAW,CACVqgB,KAAMA,QAAQ,CAAC8G,CAAD,CAAM,CACfsS,CAAAA,CAAOtS,CAAA,CAAI+F,IAAJ,CAAS,MAAT,CAAA,CAAiBkU,OAAjB,EACX3H,EAAA,CAAK26B,KAAL,EACH36B,EAAA,CAAK46B,YAAL,EAHsB,CADV,CAhD2C,CAAhC,CAAvB,CAyDA,KAAA,CAAKt2B,UAAL,CAAgBvjB,SAAhB,CA7PyB,CAnGgB,CAmW1Cw2C,YAAaA,QAAQ,CAAC7yC,CAAD,CAAO,CAC3B,IAAA,CAAK0zC,iBAAL,CAAuBb,WAAvB,CAAmC7yC,CAAnC,CAEA,KAAA,CAAKkN,SAAL,CAAe,UAAf,CAAA,CAA2B2G,QAA3B,EAAA,CAAsCpyB,GAAtC,CAA0C,CAACwwB,SAAUjS,CAAX,CAA1C,CAEA,KAAIm2C,EAAY,EAAhB,CACIpxD,EAAQ,IAAA,CAAK2uD,iBAAL,CAAuB+B,gBAAvB,CAAwCz1C,CAAxC,CACZ;GAAc7Y,IAAAA,EAAd,GAAIpC,CAAJ,CACC,IAAK,IAAI1B,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CACC8yD,CAAA,CAAUzwD,IAAV,CAAe,CAACpF,KAAMyE,CAAA,CAAM1B,CAAN,CAAP,CAAf,CAIF,KAAIioC,EAAO,IAAA,CAAKpe,SAAL,CAAe,YAAf,CAAA,CAA6BzrB,GAA7B,CAAiC,CAC3CC,MAAO,MADoC,CAE3CuwB,SAAUjS,CAFiC,CAG3CvY,MAAOuY,CAHoC,CAI3Co2C,MAAO,CAAA,CAJoC,CAK3C90D,MAAO,GALoC,CAM3C8pD,OAAQ,YANmC,CAO3C1I,OAAQ,KAPmC,CAQ3CrgB,MAAO,CAAC,CACPz3B,KAAM,OADC,CAEPkvB,QAAS,IAAA,CAAKT,QAAL,CAAc,gBAAd,CAFF,CAGP0K,SAAUA,QAAQ,CAACjB,CAAD,CAAQ,CACzBpiC,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB,IAAA,CAAKjT,QAAL,CAAc,gBAAd,CAAhB,CAAiD,IAAA,CAAKA,QAAL,CAAc,eAAd,CAAjD,CAAiF,QAAQ,CAAC8B,CAAD,CAAM,CAClF,KAAZ,GAAIA,CAAJ,EACC,IAAA,CAAK23B,cAAL,CAAoB9yC,CAApB,CAF6F,CAA/F,CAIG,IAJH,CADyB,CAHnB,CAUPpd,MAAO,IAVA,CAAD,CARoC,CAoB9CyzD,KAAM,CAAC,CACN30D,MAAO,QADD,CAEN2e,KAAM,EAFA,CAGNyZ,QAAS,IAAA,CAAKT,QAAL,CAAc,kBAAd,CAHH,CAINU,MAAO,mBAJD;AAKNC,QAASA,QAAQ,CAAC3vB,CAAD,CAAI,CAChBihC,CAAAA,CAAOjhC,CAAA,CAAEisD,gBAAF,CAAmB,MAAnB,CACX,KAAIh4C,EAAS,IAAA,CAAK4O,SAAL,CAAe,YAAf,CAAb,CACIqpC,EAAOj4C,CAAA,CAAOk4C,SAAP,CAAiBlrB,CAAjB,CACE,KAAb,GAAIirB,CAAJ,GACCj4C,CAAA,CAAOm4C,UAAP,CAAkBnrB,CAAlB,CAAwBirB,CAAxB,CACA,CAAA,IAAA,CAAKh/B,GAAL,CAASgwB,oBAAT,EAAA,CAAgCmP,kBAAhC,CAAmDprB,CAAA,CAAK0K,QAAL,EAAnD,CAAoE13B,CAAA,CAAOic,KAAP,CAAa7yB,OAAb,CAAqB4jC,CAArB,CAApE,CAFD,CAJoB,CALf,CAcN1oC,MAAO,IAdD,CAAD,CAeJ,IAfI,CAeC,CACNlB,MAAO,QADD,CAEN2e,KAAM,EAFA,CAGNyZ,QAAS,IAAA,CAAKT,QAAL,CAAc,kBAAd,CAHH,CAINU,MAAO,mBAJD,CAKNC,QAASA,QAAQ,CAAC3vB,CAAD,CAAI,CAChBihC,CAAAA,CAAOjhC,CAAA,CAAEisD,gBAAF,CAAmB,MAAnB,CACX,KAAIh4C,EAAS,IAAA,CAAK4O,SAAL,CAAe,YAAf,CAAb,CACIypC,EAAOr4C,CAAA,CAAOs4C,SAAP,CAAiBtrB,CAAjB,CACE,KAAb,GAAIqrB,CAAJ,GACCr4C,CAAA,CAAOu4C,SAAP,CAAiBvrB,CAAjB,CAAuBqrB,CAAvB,CACA,CAAA,IAAA,CAAKp/B,GAAL,CAASgwB,oBAAT,EAAA,CAAgCmP,kBAAhC,CAAmDprB,CAAA,CAAK0K,QAAL,EAAnD;AAAoE13B,CAAA,CAAOic,KAAP,CAAa7yB,OAAb,CAAqB4jC,CAArB,CAApE,CAFD,CAJoB,CALf,CAcN1oC,MAAO,IAdD,CAfD,CApBwC,CAoD3Cm4B,MAAOr6B,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CACvCxb,KAAM04C,CADiC,CAEvCj9B,OAAQ,CAAC,MAAD,CAF+B,CAAjC,CApDoC,CAwD3C86B,WAAY,CACXC,QAAS,CACRC,MAAO,kBADC,CAEXlK,QAAS,OAFE,CAGXqK,SAAU,CACTC,YAAaA,QAAQ,EAAG,CACvB,IAAIj0C,EAAO,EACX,KAAA,CAAKk0C,QAAL,CAAc9rC,OAAd,CAAsBvP,OAAtB,CAA8B,QAAQ,CAACzT,CAAD,CAAI,CACzC4a,CAAA,EAAQ5a,CAAA,CAAEZ,GAAF,CAAM,MAAN,CAAR,CAAsB,IADmB,CAA1C,CAGA,OAAOwb,EAAA,CAAKsvB,MAAL,CAAY,CAAZ,CAAetvB,CAAf,CAAoB/c,MAApB,CAA2B,CAA3B,CALgB,CADf,CAHC,CADE,CAxD+B,CAuE3CkxD,SAAU,CACTziB,KAAM,OADG,CAvEiC,CA0E3Csd,QAAS,CAAC,CACN1jB,UAAW,MADL,CAENzQ,KAAM,CAFA,CAGAi3B,SAAU,CAAA,CAHV,CAAD,CA1EkC,CA+E3CtwD,UAAW,CACVi1D,WAAYA,QAAQ,CAACxhD,CAAD,CAAOmI,CAAP,CAAa,CAC/Bi2C,CAAAA,CAAoB,IAAA,CAAKt4B,EAAL,CAAQ,mBAAR,CAApBs4B,CAAiDA,iBACrD,KAAIl0C,EAAS/B,CAAA,CAAKutB,IAAL,CAAU5P,EAAV,CAAa,MAAb,CAEb,IAAwBj0B,IAAAA,EAAxB,GAAIqY,CAAJ,CAAWyS,QAAX,CAEC,IAAK,IAAI5uB;AAAIoa,CAAJpa,CAASolB,OAATplB,CAAiBC,MAAjBD,CAAwB,CAAjC,CAAyC,CAAzC,EAAoCA,CAApC,CAA4CA,CAAA,EAA5C,CAAiD,CAChD,IAAI/C,EAAOmd,CAAA,CAAKgL,OAAL,CAAaplB,CAAb,CAAA,CAAgBwB,GAAhB,CAAoB,MAApB,CACX6uD,EAAA,CAAkB3mD,UAAlB,CAA6ByS,CAA7B,CAAoCyS,QAApC,CAA8C3xB,CAA9C,CAFgD,CANf,CADvB,CAaVy2D,KAAMA,QAAQ,CAACzhD,CAAD,CAAOmI,CAAP,CAAa,CAC1BA,CAAA,CAAKutB,IAAL,CAAUwgB,iBAAV,EAAA,CAA8BqE,WAA9B,EACA,KAAA,CAAKrE,iBAAL,EAAA,CAAyBqE,WAAzB,EAEI6D,EAAAA,CAAoB,IAAA,CAAKt4B,EAAL,CAAQ,mBAAR,CAApBs4B,CAAiDA,iBAErD,KADA,IAAI3uD,EAAQ,EAAZ,CACS1B,EAAI,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBgL,OAAzB,CAAiCnlB,MAAjC,CAAyCD,CAAA,EAAzC,CAA8C,CAC7C,IAAI/C,EAAOmd,CAAA,CAAKgL,OAAL,CAAaplB,CAAb,CAAA,CAAgBwB,GAAhB,CAAoB,MAApB,CACXE,EAAA,CAAMW,IAAN,CAAWpF,CAAX,CAF6C,CAI9CozD,CAAA,CAAkB5jD,QAAlB,CAA2BkQ,CAA3B,CAAiCjb,CAAjC,CAV0B,CAbjB,CA/EgC,CAAjC,CAAX,CA2GIiyD,EAAc,IAAIt2D,GAAJ,CAAQu2D,MAAR,CAAe,CAChCC,SAAU,CAAA,CADsB,CAEhCC,UAAW,KAFqB,CAGhCC,SAAU,CACT91D,MAAO,SADE,CAHsB,CAMhCu1C,MAAO,CACNn1C,MAAO,WADD,CAEN6zD,WAAY,CAAA,CAFN,CAGNC,UAAW,QAAQ,CAAClmC,CAAD,CAAM,CACxB,MAAwDnoB,KAAAA,EAAjD,GAAA,IAAA,CAAKusD,iBAAL,CAAuB+B,gBAAvB,CAAwCnmC,CAAxC,CAAA;AAA8DA,CAA9D,GAAuEgc,CAAA,CAAK0K,QAAL,EAAvE,CAAyF,CAAA,CAAzF,CAAgG,IAAA,CAAK3c,QAAL,CAAc,QAAd,CAD/E,CAAd,CAETh3B,IAFS,CAEJ,IAFI,CAHL,CANyB,CAahCR,UAAW,CACVw1D,SAAUA,QAAQ,CAACC,CAAD,CAAKC,CAAL,CAAeC,CAAf,CAAyB,CAC1C,IAAA,CAAK9D,iBAAL,CAAuB+D,cAAvB,CAAsCD,CAAtC,CAAgDD,CAAhD,CACA,KAAA,CAAKnC,aAAL,EAF0C,CADjC,CAKVxyD,MAAO,IALG,CAbqB,CAAf,CAsBlB0oC,EAAA,CAAKtJ,MAAL,CAAYgU,QAAZ,EAAA,CAAuB0hB,MAAvB,CAA8BhhD,EAA9B,CAAiC,UAAjC,CAA6C,QAAQ,CAACrG,CAAD,CAAI5J,CAAJ,CAAO,CAC3DuwD,CAAA,CAAYW,SAAZ,CAAsBlxD,CAAtB,CAD2D,CAA5D,CA9I2B,CAnWc,CAsf1CqsD,eAAgBA,QAAQ,CAAC9yC,CAAD,CAAO,CAC9B,IAAI43C,EAAmB,IAAA,CAAK1qC,SAAL,CAAe,YAAf,CAAvB,CACI4V,EAAQ80B,CAAA,CAAiBC,OAAjB,CAAyB,QAAQ,CAACrlB,CAAD,CAAM,CAClD,MAAIA,EAAJ,CAAQvgB,QAAR,EAAoBugB,CAApB,CAAwBvgB,QAAxB,EAAoCjS,CAApC,CACQ,CAAA,CADR,CAGO,CAAA,CAJ2C,CAAvC,CAMZ43C,EAAA,CAAiBl+C,MAAjB,CAAwBopB,CAAA,CAAM,CAAN,CAAxB,CAEIg1B,EAAAA,CAAgB,IAAA,CAAK5qC,SAAL,CAAe,UAAf,CAAA,CAA2B2G,QAA3B,EACpBikC,EAAA,CAAc3jC,QAAd,CAAuB2jC,CAAA,CAAcjrD,SAAd,CAAwB,UAAxB,CAAoCmT,CAApC,CAAvB,CAEH,KAAA,CAAK0zC,iBAAL,CAAuBZ,cAAvB,CAAsC9yC,CAAtC,CAbiC,CAtfW;AAsgB1C+3C,WAAYA,QAAQ,CAAC/3C,CAAD,CAAO,CAC7B,IAAA,CAAK0zC,iBAAL,CAAuBqE,UAAvB,CAAkC/3C,CAAlC,CACA,KAAA,CAAKo1C,aAAL,EAF6B,CAtgBe,CA2gB1CA,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKloC,SAAL,CAAe,UAAf,CAAA,CAA2B2G,QAA3B,EAAA,CAAsCkZ,SAAtC,EAEA,KAAI7T,EAAS,CAAC,UAAD,CAAb,CACCm2B,EAAU,CAAC,CACd8C,SAAU,CAAA,CADI,CAEd9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAFQ,CAGdsS,UAAW,UAHG,CAIdzQ,KAAM,CAJQ,CAAD,CADX,CAOCzd,EAAO,EAPR,CASMwU,CAAT,KAASA,CAAT,GAAqB,KAAA,CAAKyhC,iBAAL,CAAuBlM,aAAvB,EAArB,CACC/pC,CAAA,CAAK/X,IAAL,CAAU,CAACusB,SAAUA,CAAX,CAAV,CAGD,KAAIkhC,EAAW,IAAA,CAAKO,iBAAL,CAAuBsE,WAAvB,EAAf,CACIC,EAAkBv3D,GAAA,CAAIg3B,YAAJ,CAAiBG,QAAjB,CAA0B,IAA1B,CAAlBogC,CAAkD9E,QADtD,CAGS+E,CAAT,KAASA,CAAT,GAAoB/E,EAApB,CAA8B,CAC7Bj6B,CAAA,CAAOxzB,IAAP,CAAYwyD,CAAZ,CAEIC,EAAAA,CAAgBF,CAAA,CAAgBC,CAAhB,CACpB,KAAIE,EAAe13D,GAAA,CAAIo/B,OAAJ,CAAY,CAC9Bo4B,QAASA,CADqB,CAE9Br2D,UAAW,CACVykC,OAAQA,QAAQ,CAACkM,CAAD;AAAM+kB,CAAN,CAAgB,CAC/B,GAAI/kB,CAAJ,CAAQ8X,QAAR,CAAkB,CACjB,IAAI+N,EAAW7lB,CAAA,CAAIpX,EAAJ,CAAO,UAAP,CAAA,CAAmB1zB,OAAnB,CAA2B8qC,CAAA,CAAIrvC,EAAJ,CAAOi4B,EAAP,CAAU,OAAV,CAA3B,CAAf,CACIzwB,EAAS6nC,CAAA,CAAIpX,EAAJ,CAAO,MAAP,CAAA,CAAevH,QAAf,EAAA,CAA0B0mB,KAA1B,CAAgC8d,CAAhC,CACT1tD,EAAJ,CACCA,CAAA,CAAOqpB,GAAP,CAAWwe,CAAX,CAAe0lB,OAAf,CAAwBX,CAAxB,CADD,CAGKrnD,MAHL,CAGY+hC,OAHZ,EAIEA,OAAA,CAAQ0hB,IAAR,CAAa,eAAb,CAA8B0E,CAA9B,CAAwC7lB,CAAxC,CAPe,CADa,CADtB,CAcV5vC,MAAO,IAdG,CAFmB,CAAZ,CAkBhBu1D,CAlBgB,CAmBfA,EAAJ,CAAkBt2D,SAAlB,EACCnB,GAAA,CAAIo/B,OAAJ,CAAYs4B,CAAZ,CAAyBv2D,SAAzB,CAAoCs2D,CAApC,CAAkDt2D,SAAlD,CAGDwtD,EAAA,CAAQ3pD,IAAR,CAAa,CACZysD,SAAU,CAAA,CADE,CAEZ2C,SAAU,CAAA,CAFE,CAGZz0C,KAAM,IAAA,CAAKgZ,QAAL,CAAc6+B,CAAd,CAHM,CAIZvsB,UAAWusB,CAJC,CAKZh9B,KAAM,EALM,CAMZx5B,MAAO,cANK,CAOZgyC,OAAQ0kB,CAPI,CAAb,CAUA,KAASnmC,CAAT,GAAqB,KAAA,CAAKyhC,iBAAL,CAAuBlM,aAAvB,EAArB,CAEC,IADIjnD,CACK8C,CADG,IAAA,CAAKqwD,iBAAL,CAAuB4E,kBAAvB,CAA0CrmC,CAA1C,CAAoDimC,CAApD,CACH70D,CAAAA,CAAAA,CAAI,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACC,GAAIoa,CAAA,CAAKpa,CAAL,CAAJ,CAAY4uB,QAAZ,EAAwBA,CAAxB,CAAkC,CACjCxU,CAAA,CAAKpa,CAAL,CAAA,CAAQ60D,CAAR,CAAA,CAAmB33D,CACnB,MAFiC,CAxCP,CAgD1Bw6B,CAAAA;AAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CAC5CC,OAAQA,CADoC,CAE5Czb,KAAMA,CAFsC,CAAjC,CAIZ,KAAA,CAAKyP,SAAL,CAAe,UAAf,CAAA,CAA2BqrC,WAA3B,CAAuCx9B,CAAvC,CAA8Cs0B,CAA9C,CAvE4B,CA3gBgB,CAqlB7C0F,gBAAiBA,QAAQ,EAAG,CAC3B,IAAIh6B,EAAQ,IAAA,CAAK7N,SAAL,CAAe,UAAf,CAAA,CAA2B2G,QAA3B,EAAZ,CACIs/B,EAAWn/C,MAAA,CAAOC,IAAP,CAAY,IAAA,CAAKy/C,iBAAL,CAAuBsE,WAAvB,EAAZ,CACfj9B,EAAA,CAAMl0B,IAAN,CAAW,QAAQ,CAAC8D,CAAD,CAAS,CAC3B,IAAIsnB,EAAWtnB,CAAA,CAAO9F,GAAP,CAAW,UAAX,CACfsuD,EAAA,CAASj6C,OAAT,CAAiB,QAAQ,CAACg/C,CAAD,CAAU,CAClC,IAAIM,EAAe7tD,CAAA,CAAO9F,GAAP,CAAWqzD,CAAX,CACE/wD,KAAAA,EAArB,GAAIqxD,CAAJ,EACC,IAAA,CAAK9E,iBAAL,CAAuB+E,kBAAvB,CAA0CxmC,CAA1C,CAAoDimC,CAApD,CAA6DM,CAA7D,CAHiC,CAAnC,CAKG,IALH,CAF2B,CAA5B,CAQG,IARH,CAH2B,CArlBiB,CAmmB7CxD,kCAAmCA,QAAQ,EAAG,CACvC,IAAK/iC,IAAIA,CAAT,GAAqB,KAAA,CAAKyhC,iBAAL,CAAuBlM,aAAvB,EAArB,CAA6D,CACzD,IAAIv9C,EAAQ,IAAA,CAAKypD,iBAAL,CAAuB4E,kBAAvB,CAA0CrmC,CAA1C;AAAoD,OAApD,CACZ,IAAc9qB,IAAAA,EAAd,GAAI8C,CAAJ,CAAyB,CACjBoiD,CAAAA,CAAM,IAAA,CAAK90B,GAAL,CAAS8E,QAAT,CAAkBpyB,CAAlB,CAEV,KADA,IAAIlF,EAAQ,IAAA,CAAK2uD,iBAAL,CAAuB+B,gBAAvB,CAAwCxjC,CAAxC,CAAZ,CACS5uB,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CACI,IAAA,CAAKk0B,GAAL,CAASyG,eAAT,CAAyBj5B,CAAA,CAAM1B,CAAN,CAAzB,CAAmCgpD,CAAnC,CAJiB,CAFgC,CADtB,CAnmBD,CAgnB1C8I,gBAAiBA,QAAQ,EAAG,CAE3B,IAAA,CAAKjoC,SAAL,CAAe,YAAf,CAAA,CAA6B6f,SAA7B,EAEA,KAAI2rB,EAAO,IAAA,CAAKhF,iBAAL,CAAuBlM,aAAvB,EAAX,CACS5iD,CAAT,KAASA,CAAT,GAAgB8zD,EAAhB,CACC,IAAA,CAAK7F,WAAL,CAAiBjuD,CAAjB,CAN0B,CAhnBc,CAA9C,C,CCrEAlE,GAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC3CyI,OAAQ,iBADmC,CAE3C7H,OAAQ,CAAC,0BAAD,CAA4B,iBAA5B,CAA8C,4BAA9C,CAFmC,CAG3Ckb,WAAY,CAAC,kCAAD,CAH+B,CAI3CtF,MAAO,2BAJoC,CAK3CxU,QAAS,CACLG,KAAM,EADD,CAGLpB,IAAK,CACDukB,SAAU/0C,IAAAA,EADT,CAEDxC,MAAOwC,IAAAA,EAFN,CAGD4D,SAAU5D,IAAAA,EAHT,CAIDgY,KAAMhY,IAAAA,EAJL,CAKDwwB,IAAKxwB,IAAAA,EALJ,CAHA,CALkC,CAgB3CtI,OAAQ,CACJ2e,IAAKrW,IAAAA,EADD,CAEJwxD,UAAWxxD,IAAAA,EAFP,CAKJyxD,SAAUzxD,IAAAA,EALN,CAMJ0xD,SAAU1xD,IAAAA,EANN,CAQJ2xD,cAAe3xD,IAAAA,EARX,CASJ4xD,cAAe5xD,IAAAA,EATX,CAWJ6xD,YAAa7xD,IAAAA,EAXT,CAYJ8xD,YAAa9xD,IAAAA,EAZT,CAcJoS,KAAMpS,IAAAA,EAdF,CAeJ+xD,WAAY,CAAC,GAAD;AAAO,CAAP,CAfR,CAiBJC,UAAW,CAAA,CAjBP,CAmBJC,YAAa,CACZC,QAAS,CADG,CAEZC,QAAS,EAFG,CAGZC,gBAAiBpyD,IAAAA,EAHL,CAnBT,CAwBJqyD,YAAa,CACZH,QAAS,CADG,CAEZC,QAAS,EAFG,CAGZC,gBAAiBpyD,IAAAA,EAHL,CAxBT,CA8BJsyD,WAAY,CACdnkD,KAAM,CACLokD,OAAQ,CACPjvD,KAAM,SADC,CAEPkvD,YAAa,CAFN,CAGPnwD,OAAQ,SAHD,CAIPowD,cAAe,CAJR,CAKPC,YAAa,CALN,CADH,CAQLC,UAAW,CACVrvD,KAAM,SADI,CAEVkvD,YAAa,CAFH,CAGVnwD,OAAQ,SAHE,CAIVowD,cAAe,CAJL,CAKVC,YAAa,CALH,CARN,CADQ,CAiBd5d,KAAM,CACLyd,OAAQ,CACPlwD,OAAQ,SADD,CAEPowD,cAAe,GAFR,CAGPC,YAAa,CAHN,CADH,CAMLC,UAAW,CACVtwD,OAAQ,SADE,CAEVowD,cAAe,EAFL,CAGVC,YAAa,CAHH,CANN,CAjBQ,CA9BR,CA6DPE,aAAc,CACbC,QAAS,EADI,CAEbC,eAAgB,EAFH,CAGbC,YAAa,GAHA;AAIhBC,aAAc,GAJE,CAKhBC,eAAgB,GALA,CAMhBC,eAAgB,IANA,CA7DP,CAhBmC,CAsF3Cn5D,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1BA,CAAA,CAASA,CAAT,EAAmB,EAEnB,KAAA,CAAKy7D,WAAL,CAAiB,EAAjB,CACA,KAAA,CAAKC,WAAL,CAAiB,EAAjB,CAEA,KAAA,CAAK/iC,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACA,KAAA,CAAKujB,UAAL,CAAgBvjB,SAAhB,CAEA,KAAI8C,EAAO,EACP,KAAA,CAAK6L,WAAL,CAAiB,UAAjB,CAAJ,CACI7L,CADJ,CACWze,GAAA,CAAIwvC,MAAJ,CAAW,IAAA,CAAKllB,WAAL,CAAiB,UAAjB,CAAX,CADX,CAEW,IAAA,CAAKA,WAAL,CAAiB,MAAjB,CAAJ,CACN7L,CADM,CACC,IAAA,CAAK6L,WAAL,CAAiB,MAAjB,CADD,CAEInsB,CAAJ,CAAWsgB,IAAX,CACNA,CADM,CACCtgB,CADD,CACQsgB,IADR,CAEItgB,CAAJ,CAAW08C,KAAX,EACNp8B,CACA,CADKo8B,KACL,CADa18C,CACb,CADoB08C,KACpB,CAAI18C,CAAJ,CAAW4gB,KAAX,GACCN,CADD,CACMM,KADN,CACc5gB,CADd,CACqB4gB,KADrB,CAFM,EAKI5gB,CALJ,EAKcA,CALd,CAKqBq9C,QALrB,GAMN/8B,CANM,CAMCkH,IAAA,CAAKC,KAAL,CAAWznB,CAAX,CAAkBq9C,QAAlB,CAND,CAQP,KAAA,CAAKse,QAAL,CAAcr7C,CAAd,CAxB0B,CAtFa,CAgH3C6uB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC5B,IAAA,CAAK6X,EAAL,CAAQ,UAAR;AAAoB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACtC,IAAA,CAAKokC,SAAL,EACA,KAAA,CAAKC,YAAL,EAFsC,CAA1C,CAGG,IAHH,CAKA,KAAA,CAAKhkD,EAAL,CAAQ,QAAR,CAAkB,QAAQ,CAACosB,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,CAE7C,GADIoc,CACJ,CADU,IAAA,CAAK7R,IAAL,CAAUojB,IAAV,CAAe,KAAf,CACV,CACQ5rB,CASJ,CATS,IAST,CATcwI,IASd,CARIgvD,CAQJ,CARex3D,CAAA,CAAG9B,SAAH,EAQf,CAPIu5D,CAOJ,CAPcz3D,CAAA,CAAG5B,QAAH,EAOd,CANAic,CAAA,CAAIpa,GAAJ,CAAQ4mC,YAAR,CAAqB,OAArB,CAA8B4wB,CAA9B,CAMA,CALAp9C,CAAA,CAAIpa,GAAJ,CAAQ4mC,YAAR,CAAqB,QAArB,CAA+B2wB,CAA/B,CAKA,CAJA,IAAA,CAAKE,YAAL,EAAA,CACKC,KADL,CACW,GADX,CACgBpmD,EAAA,CAAGqmD,MAAH,CAAUH,CAAV,CAAkB,CAAlB,CADhB,CAAA,CAEPE,KAFO,CAED,GAFC,CAEIpmD,EAAA,CAAGsmD,MAAH,CAAUL,CAAV,CAAmB,CAAnB,CAFJ,CAIA,CAAkC,IAAlC,CAAI,IAAA,CAAKE,YAAL,EAAA,CAAoBI,KAApB,EAAJ,EACC,IAAA,CAAKJ,YAAL,EAAA,CAAoBI,KAApB,CAA0B,EAA1B,CAbwC,CAAjD,CAgBG,IAhBH,CAkBA,KAAA,CAAKr7B,UAAL,CAAgBvjB,SAAhB,CAxB4B,CAhHW,CA2I3C6+C,YAAaA,QAAQ,CAAC/7C,CAAD,CAAO,CACtBA,CAAL,EAAcA,CAAd,CAAmBo8B,KAAnB,GACWp8B,CAIJ,EAJYA,CAIZ,CAJiB6B,KAIjB,GAHI7B,CACA,CADKo8B,KACL,CADap8B,CACb,CADkB6B,KAClB,CAAA,OAAO7B,CAAP,CAAY6B,KAEhB,EAAK7B,CAAL,EAAcA,CAAd,CAAmBo8B,KAAnB,GACIp8B,CACA,CADOA,CACP,EADe,EACf,CAAAA,CAAA,CAAKo8B,KAAL;AAAa,EAFjB,CALP,CAUKp8B,EAAL,CAAUM,KAAV,GACCN,CADD,CACMM,KADN,CACc,EADd,CAGG,IAA0B,CAA1B,GAAIN,CAAJ,CAASM,KAAT,CAAenc,MAAf,CAA6B,CACzB,IAAI63D,EAAW,EACfh8C,EAAA,CAAKo8B,KAAL,CAAWriC,OAAX,CAAmB,QAAQ,CAAC+iC,CAAD,CAAO,CAC9B,CAAC,QAAD,CAAW,QAAX,CAAA,CAAqB/iC,OAArB,CAA6B,QAAQ,CAACkiD,CAAD,CAAM,CACtC96D,CAAAA,CAAO27C,CAAA,CAAKmf,CAAL,CACgB,EAAxB,EAAI96D,CAAJ,GAAY66D,EAAZ,EACIA,CAAA,CAAS76D,CAAT,CACA,CADiB,CACjB,CAAA6e,CAAA,CAAKM,KAAL,CAAW/Z,IAAX,CAAgB,CAACpF,KAAMA,CAAP,CAAhB,CAFJ,EAII66D,CAAA,CAAS76D,CAAT,CAAA,EAEJ27C,EAAA,CAAK17C,KAAL,CAAa,CAR0B,CAA3C,CAD8B,CAAlC,CAWG,IAXH,CAYA4e,EAAA,CAAKM,KAAL,CAAWvG,OAAX,CAAmB,QAAQ,CAAC5D,CAAD,CAAO,CAE9B5U,GAAA,CAAIo/B,OAAJ,CAAYxqB,CAAZ,CAAkB,CAAC/U,MADY4G,IAAAA,EAAxBmoB,GAAA6rC,CAAA,CAAS7lD,CAAT,CAAchV,IAAd,CAAAgvB,CAAoC,CAApCA,CAAwC6rC,CAAA,CAAS7lD,CAAT,CAAchV,IAAd,CAC7B,CAAlB,CAF8B,CAAlC,CAdyB,CAA7B,IAmBC6e,EAAA,CAAKM,KAAL,CAAWvG,OAAX,CAAmB,QAAQ,CAAC5D,CAAD,CAAO,CACjC5U,GAAA,CAAIo/B,OAAJ,CAAYxqB,CAAZ,CAAkB,CAAC/U,MAAO,CAAR,CAAlB,CADiC,CAAlC,CAKD,OAAO4e,EAtCiB,CA3Ie,CAoL3Cq7C,SAAUA,QAAQ,CAACr7C,CAAD,CAAO,CACxB,IAAA,CAAK+7C,WAAL,CAAiB/7C,CAAjB,CAEA,KAAIk8C,EAAgB,EACvB,KAAA,CAAKC,WAAL,EAAA,CAAmBpiD,OAAnB,CAA2B,QAAQ,CAAC5D,CAAD,CAAO,CACzC+lD,CAAA,CAAc/lD,CAAd,CAAmBhV,IAAnB,CAAA,CAA2B,CAAA,CADc,CAA1C,CAEG,IAFH,CAIG,KAAIi7D,EAAW,EAAf,CACIC,EAAW,EAEfr8C,EAAA,CAAKM,KAAL,CAAWvG,OAAX,CAAmB,QAAQ,CAAC5D,CAAD,CAAO,CACMnO,IAAAA,EAAjC;AAAIk0D,CAAA,CAAc/lD,CAAd,CAAmBhV,IAAnB,CAAJ,GACCgV,CACA,CADK9T,EACL,CADU,IAAA,CAAKi6D,KAAL,CAAWnmD,CAAX,CAAgBhV,IAAhB,CACV,CAAAi7D,CAAA,CAAS71D,IAAT,CAAc4P,CAAd,CAFD,CAD2B,CAAlC,CAKM,IALN,CAMG6J,EAAA,CAAKo8B,KAAL,CAAWriC,OAAX,CAAmB,QAAQ,CAACwiD,CAAD,CAAU,CAKjC,IAJA,IAAI9c,EAAW,IAAA,CAAK6c,KAAL,CAAWC,CAAX,CAAmBl8C,MAAnB,CAAf,CACIq/B,EAAW,IAAA,CAAK4c,KAAL,CAAWC,CAAX,CAAmBz6C,MAAnB,CADf,CAEIs6B,EAAQ,IAAA,CAAKogB,WAAL,EAFZ,CAGI1I,EAAS,CAAA,CAHb,CAIS5vD,EAAI,CAAb,CAAgBA,CAAhB,CAAoBk4C,CAApB,CAA0Bj4C,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CACtC,IAAI44C,EAAOV,CAAA,CAAMl4C,CAAN,CACX,IAAK44C,CAAL,CAAUz8B,MAAV,CAAiBhe,EAAjB,EAAuBo9C,CAAvB,EAAmC3C,CAAnC,CAAwCh7B,MAAxC,CAA+Czf,EAA/C,EAAqDq9C,CAArD,EAAmE5C,CAAnE,CAAwEh7B,MAAxE,CAA+Ezf,EAA/E,EAAqFo9C,CAArF,EAAiG3C,CAAjG,CAAsGz8B,MAAtG,CAA6Ghe,EAA7G,EAAmHq9C,CAAnH,CAA8H,CAC7HoU,CAAA,CAAS,CAAA,CACT,MAF6H,CAFxF,CAOlCA,CAAL,GACCyI,CAGA,CAHQl8C,MAGR,CAHiBo/B,CAGjB,CAFA8c,CAEA,CAFQz6C,MAER,CAFiB49B,CAEjB,CADA6c,CACA,CADQl6D,EACR,CADao9C,CACb,CADsB,GACtB,CAD0BC,CAC1B,CAAA2c,CAAA,CAAS91D,IAAT,CAAcg2D,CAAd,CAJD,CAZiC,CAArC,CAkBG,IAlBH,CAoBA,KAAA,CAAKpB,WAAL,CAAiB,IAAA,CAAKgB,WAAL,EAAA,CAAmB7c,MAAnB,CAA0B8c,CAA1B,CAAjB,CACA,KAAA,CAAKhB,WAAL,CAAiB,IAAA,CAAKoB,WAAL,EAAA,CAAmBld,MAAnB,CAA0B+c,CAA1B,CAAjB,CAEA,KAAA,CAAKd,YAAL,EAxCqB,CApLkB,CAgO3Ce,MAAOA,QAAQ,CAACn7D,CAAD,CAAO,CACrB,MAAOA,EAAA,CAAKiE,OAAL,CAAa,KAAb,CAAoB,GAApB,CADc,CAhOqB,CAoO3Cq3D,kBAAmBA,QAAQ,CAACC,CAAD;AAASC,CAAT,CAAkB,CAE/C,IADG,IAAIr+C,EAAO,IAAA,CAAK69C,WAAL,EAAX,CACMj4D,EAAI,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACC,GAAIoa,CAAA,CAAKpa,CAAL,CAAJ,CAAY7B,EAAZ,GAAmBq6D,CAAnB,CAA2B,CAC1Bn7D,GAAA,CAAIoE,KAAJ,CAAU2Y,CAAA,CAAKpa,CAAL,CAAV,CAAmBy4D,CAAnB,CACA,MAF0B,CAHmB,CApOF,CA8O3CC,kBAAmBA,QAAQ,CAACC,CAAD,CAASF,CAAT,CAAkB,CAE/C,IADG,IAAIr+C,EAAO,IAAA,CAAKk+C,WAAL,EAAX,CACMt4D,EAAI,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACC,GAAIoa,CAAA,CAAKpa,CAAL,CAAJ,CAAY7B,EAAZ,GAAmBw6D,CAAnB,CAA2B,CAC1Bt7D,GAAA,CAAIoE,KAAJ,CAAU2Y,CAAA,CAAKpa,CAAL,CAAV,CAAmBy4D,CAAnB,CACA,MAF0B,CAHmB,CA9OF,CAwP3CG,QAASA,QAAQ,CAACH,CAAD,CAAU,CACtBp7D,GAAA,CAAIy2B,QAAJ,CAAa2kC,CAAb,CAAJ,GACCA,CADD,CACW,CAACx7D,KAAMw7D,CAAP,CADX,CAGIA,EAAJ,CAAYx7D,IAAZ,EACC,IAAA,CAAKk6D,QAAL,CAAc,CAAC/6C,MAAO,CAACq8C,CAAD,CAAR,CAAd,CALyB,CAxPgB,CAiQ3CI,WAAYA,QAAQ,CAACL,CAAD,CAASM,CAAT,CAAwB,CAE9C,IADG,IAAI1+C,EAAO,IAAA,CAAK69C,WAAL,EAAX,CACMj4D,EAAI,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACC,GAAIoa,CAAA,CAAKpa,CAAL,CAAJ,CAAY7B,EAAZ,GAAmBq6D,CAAnB,CAA2B,CAC1Bp+C,CAAA,CAAK4W,MAAL,CAAYhxB,CAAZ,CAAe,CAAf,CACA,MAF0B,CAM5B,IAAI+4D,EAAmB,EACvB3+C,EAAA,CAAO,IAAA,CAAKk+C,WAAL,EACP,KAASt4D,CAAT,CAAaoa,CAAb,CAAkBna,MAAlB,CAAyB,CAAzB,CAAiC,CAAjC,EAA4BD,CAA5B,CAAoCA,CAAA,EAApC,CAAyC,CACxC,IAAIuJ,EAAQ,CAAA,CACR6Q,EAAA,CAAKpa,CAAL,CAAJ,CAAYmc,MAAZ,CAAmBhe,EAAnB,GAA0Bq6D,CAA1B,GACCjvD,CACA,CADQ,CAAA,CACR;AAAAwvD,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyB4d,MAAzB,CAAgCzf,EAAhC,CAAA,CAAsC,CAAA,CAFvC,CAIIic,EAAA,CAAKpa,CAAL,CAAJ,CAAY4d,MAAZ,CAAmBzf,EAAnB,GAA0Bq6D,CAA1B,GACCjvD,CACA,CADQ,CAAA,CACR,CAAAwvD,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyBmc,MAAzB,CAAgChe,EAAhC,CAAA,CAAsC,CAAA,CAFvC,CAIIoL,EAAJ,EACC6Q,CAAA,CAAK4W,MAAL,CAAYhxB,CAAZ,CAAe,CAAf,CAXuC,CAezC,GAAI84D,CAAJ,CAAmB,CAClB,IAAS94D,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACK+4D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyBmc,MAAzB,CAAgChe,EAAhC,CAGJ,EAFC,OAAO46D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyBmc,MAAzB,CAAgChe,EAAhC,CAER,CAAI46D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyB4d,MAAzB,CAAgCzf,EAAhC,CAAJ,EACC,OAAO46D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyB4d,MAAzB,CAAgCzf,EAAhC,CAGT,KAAK66D,IAAIA,CAAT,GAAqBD,EAArB,CACC,IAAA,CAAKF,UAAL,CAAgBG,CAAhB,CAA0B,CAAA,CAA1B,CAViB,CAcnB,IAAA,CAAK3B,YAAL,EAxC8C,CAjQD,CA4S3Chf,QAASA,QAAQ,CAACogB,CAAD,CAAU,CACtBp7D,GAAA,CAAI23B,QAAJ,CAAayjC,CAAb,CAAJ,EAA6BA,CAA7B,CAAqCt8C,MAArC,EAA+Cs8C,CAA/C,CAAuD76C,MAAvD,EACC,IAAA,CAAKu5C,QAAL,CAAc,CAACjf,MAAO,CAACugB,CAAD,CAAR,CAAd,CAFyB,CA5SgB,CAkT3CQ,WAAYA,QAAQ,CAACN,CAAD,CAASG,CAAT,CAAwB,CAE3C,IADA,IAAI1+C,EAAO,IAAA,CAAKk+C,WAAL,EAAX,CACSt4D,EAAIoa,CAAJpa,CAASC,MAATD,CAAgB,CAAzB,CAAiC,CAAjC,EAA4BA,CAA5B,CAAoCA,CAAA,EAApC,CACEoa,CAAA,CAAKpa,CAAL,CAAJ,CAAY7B,EAAZ,GAAmBw6D,CAAnB,EACCv+C,CAAA,CAAK4W,MAAL,CAAYhxB,CAAZ,CAAe,CAAf,CAIF,IAAI84D,CAAJ,CAAmB,CACdC,CAAAA,CAAmB,EACvB3+C,EAAA,CAAO,IAAA,CAAK69C,WAAL,EACP,KAASj4D,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACC+4D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyB7B,EAAzB,CAAA;AAA+B,CAAA,CAEhCic,EAAA,CAAO,IAAA,CAAKk+C,WAAL,EACP,KAASt4D,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACK+4D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyBmc,MAAzB,CAAgChe,EAAhC,CAGJ,EAFC,OAAO46D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyBmc,MAAzB,CAAgChe,EAAhC,CAER,CAAI46D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyB4d,MAAzB,CAAgCzf,EAAhC,CAAJ,EACC,OAAO46D,CAAA,CAAiB3+C,CAAA,CAAKpa,CAAL,CAAjB,CAAyB4d,MAAzB,CAAgCzf,EAAhC,CAGT,KAAK66D,IAAIA,CAAT,GAAqBD,EAArB,CACC,IAAA,CAAKF,UAAL,CAAgBG,CAAhB,CAA0B,CAAA,CAA1B,CAhBiB,CAqBnB,IAAA,CAAK3B,YAAL,EA7B8C,CAlTD,CAkV3CD,UAAWA,QAAQ,EAAG,CAClB,IAAIt3D,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACTr5D,EAAA,CAAGwb,MAAH,CAAU,EAAV,CACA,KAAIrd,EAAQ6B,CAAA,CAAG5B,QAAH,EAAZ,CACIH,EAAS+B,CAAA,CAAG9B,SAAH,EADb,CAGIo7D,EAAU,IAAA,CAAKC,eAAL,EACd,KAAA,CAAKC,YAAL,CAAkBjoD,EAAA,CAAGkoD,eAAH,EAAA,CAChBC,aADgB,CACFJ,CADE,CACMzC,OADN,CAAA,CAEnBc,KAFmB,CAEb,GAFa,CAERpmD,EAAA,CAAGqmD,MAAH,CAAUz5D,CAAV,CAAgB,CAAhB,CAAA,CAAmBw7D,QAAnB,CAA4BL,CAA5B,CAAoCxC,cAApC,CAFQ,CAAA,CAGnBa,KAHmB,CAGb,GAHa,CAGRpmD,EAAA,CAAGsmD,MAAH,CAAU55D,CAAV,CAAiB,CAAjB,CAAA,CAAoB07D,QAApB,CAA6BL,CAA7B,CAAqCxC,cAArC,CAHQ,CAAA,CAIba,KAJa,CAIP,MAJO;AAICpmD,EAAA,CAAGqoD,SAAH,EAAA,CAAev7D,EAAf,CAAkB,QAAQ,CAACiE,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAA9B,CAAA,CAAgDw7D,QAAhD,CAAyDP,CAAzD,CAAiEtC,YAAjE,CAAA,CAA+E2C,QAA/E,CAAwFL,CAAxF,CAAgGrC,cAAhG,CAJD,CAAA,CAKbU,KALa,CAKP,QALO,CAKGpmD,EAAA,CAAGuoD,aAAH,EAAA,CAAmBH,QAAnB,CAA4BL,CAA5B,CAAoCvC,WAApC,CALH,CAAA,CAMbY,KANa,CAMP,SANO,CAMIpmD,EAAA,CAAGwoD,YAAH,EAAA,CAAkBr3D,MAAlB,CAAyB,QAAQ,CAACJ,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAK8H,IAAL,CAAU3I,CAAV,CAAY03D,IAAZ,CAAiB77D,KAAjB,CAAyBmE,CAAzB,CAA2B03D,IAA3B,CAAgC/7D,MAAhC,CAAP,CAA+Cq7D,CAA/C,CAAuDpC,cAAzD,CAArC,CANJ,CAAA,CAOb3jD,EAPa,CAOV,MAPU,CAOF,QAAQ,EAAG,CACrB,IAAA,CAAK0mD,gBAAL,EAAA,CACI9jD,IADJ,CACS,IADT,CACe,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS+Z,MAAT,CAAgB7Z,CAAlB,CAD3B,CAAA,CAEI2T,IAFJ,CAES,IAFT,CAEe,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS+Z,MAAT,CAAgB3U,CAAlB,CAF3B,CAAA,CAGIyO,IAHJ,CAGS,IAHT,CAGe,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASwb,MAAT,CAAgBtb,CAAlB,CAH3B,CAAA,CAII2T,IAJJ,CAIS,IAJT,CAIe,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASwb,MAAT,CAAgBpW,CAAlB,CAJ3B,CAMA,KAAA,CAAKwyD,gBAAL,EAAA,CACE/jD,IADF,CACO,WADP;AACoB,QAAQ,CAAC7T,CAAD,CAAI,CAG9B,MAAO,YAAP,EAFQA,CAER,CAFUE,CAEV,CAF2B,EAE3B,CAFcF,CAEd,CAFgB03D,IAEhB,CAFqB77D,KAErB,EAAsB,GAAtB,EADQmE,CACR,CADUoF,CACV,CAD4B,EAC5B,CADcpF,CACd,CADgB03D,IAChB,CADqB/7D,MACrB,EAA4B,GAHE,CADhC,CAOkC,KAAlC,CAAI,IAAA,CAAKy5D,YAAL,EAAA,CAAoBI,KAApB,EAAJ,EACL,IAAA,CAAKJ,YAAL,EAAA,CAAoBI,KAApB,CAA0B,EAA1B,CAf0B,CAAX,CAiBb54D,IAjBa,CAiBR,IAjBQ,CAPE,CAAA,CAyBhBqU,EAzBgB,CAyBb,KAzBa,CAyBN,QAAQ,EAAG,CACxB,IAAA,CAAK4mD,SAAL,EADwB,CAAX,CAEZj7D,IAFY,CAEP,IAFO,CAzBM,CAAlB,CA8BI6kC,EAAAA,CAAMxyB,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CAAgCC,IAAhC,CAAqC,OAArC,CAA8ChY,CAA9C,CAAA,CAAqDgY,IAArD,CAA0D,QAA1D,CAAoElY,CAApE,CACV,KAAIk8B,EAAI4J,CAAA,CAAI7tB,MAAJ,CAAW,GAAX,CAEJE,EAAAA,CAAO7E,EAAA,CAAG6E,IAAH,EAAA,CAChBC,WADgB,CACJ,IAAA,CAAK+jD,aAAL,EADI,CAAA,CAEhB7mD,EAFgB,CAEb,MAFa,CAEL,QAAQ,EAAG,CACtB4mB,CAAA,CAAEhkB,IAAF,CAAO,WAAP,CAAoB5E,EAApB,CAAuBrJ,KAAvB,CAA6BoO,SAA7B,CADsB,CAFN,CAKjB,KAAA,CAAK+jD,OAAL,CAAajkD,CAAb,CACA2tB,EAAA,CAAIzvB,IAAJ,CAAS8B,CAAT,CAEM,KAAA,CAAKkkD,gBAAL,CAAsBngC,CAAA,CAAEjkB,MAAF,CAAS,GAAT,CAAA,CAAcC,IAAd,CAAmB,OAAnB,CAA4B,OAA5B,CAAA,CAAqC9B,SAArC,CAA+C,OAA/C,CAAtB,CACA;IAAA,CAAKkmD,gBAAL,CAAsBpgC,CAAA,CAAEjkB,MAAF,CAAS,GAAT,CAAA,CAAcC,IAAd,CAAmB,OAAnB,CAA4B,OAA5B,CAAA,CAAqC9B,SAArC,CAA+C,OAA/C,CAAtB,CACA,KAAA,CAAKmmD,MAAL,CAAYrgC,CAAZ,CAlDkB,CAlVqB,CAuY3CsgC,WAAYA,QAAQ,EAAG,CACtB,IAAA,CAAKtD,WAAL,CAAiB,EAAjB,CACH,KAAA,CAAKC,WAAL,CAAiB,EAAjB,CACA,KAAA,CAAKG,YAAL,EAHyB,CAvYoB,CA6Y3CA,aAAcA,QAAQ,EAAG,CACxB,GAA4BvzD,IAAAA,EAA5B,GAAI,IAAA,CAAK0zD,YAAL,EAAJ,CAAA,CAEG,IAAIhC,EAAW,IAAA,CAAK8C,WAAL,EAAf,CACI/C,EAAW,IAAA,CAAK0C,WAAL,EADf,CAGIuC,EAAanpD,EAAA,CAAGopD,MAAH,CAAUlF,CAAV,CAAoB,QAAQ,CAACnzD,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASlF,KAAX,CAAhC,CACHmU,GAAA,CAAGqpD,GAAH,CAAOnF,CAAP,CAAiB,QAAQ,CAACnzD,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASlF,KAAX,CAA7B,CACd,KAAIy9D,EAAatpD,EAAA,CAAGopD,MAAH,CAAUjF,CAAV,CAAoB,QAAQ,CAACpzD,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASlF,KAAX,CAAhC,CACHmU,GAAA,CAAGqpD,GAAH,CAAOlF,CAAP,CAAiB,QAAQ,CAACpzD,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASlF,KAAX,CAA7B,CAEd,KAAIi5D,EAAc,IAAA,CAAKyE,cAAL,EACkB92D,KAAAA,EAApC,GAAIqyD,CAAJ,CAAgBD,eAAhB;CACCC,CADD,CACaD,eADb,CAC+B7kD,EAAA,CAAGoV,WAAH,EAAA,CAAiBjR,MAAjB,CAAwBmlD,CAAxB,CAAA,CAAoCtlD,KAApC,CAA0C,CAAC8gD,CAAD,CAAaH,OAAb,CAAsBG,CAAtB,CAAkCF,OAAlC,CAA1C,CAD/B,CAIA,KAAIF,EAAc,IAAA,CAAK8E,cAAL,EACkB/2D,KAAAA,EAApC,GAAIiyD,CAAJ,CAAgBG,eAAhB,GACCH,CADD,CACaG,eADb,CAC+B7kD,EAAA,CAAG+D,QAAH,EAAA,CAAcI,MAAd,CAAqBglD,CAArB,CAAA,CAAiCnlD,KAAjC,CAAuC,CAAC0gD,CAAD,CAAaC,OAAb,CAAsBD,CAAtB,CAAkCE,OAAlC,CAAvC,CAD/B,CAIIrd,EAAAA,CAAO,IAAA,CAAKmhB,gBAAL,EAAA,CAAwB3/C,IAAxB,CAA6Bo7C,CAA7B,CAAuC,QAAQ,CAACpzD,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAAnD,CACXy6C,EAAA,CAAKn7B,IAAL,EAAA,CAAYpH,MAAZ,EACIykD,EAAAA,CAAYliB,CAAA,CAAK77B,KAAL,EAAA,CAAa/G,MAAb,CAAoB,MAApB,CAAA,CACdC,IADc,CACT,OADS,CACA,MADA,CAAA,CAEdA,IAFc,CAET,IAFS,CAEH,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAFT,CAAA,CAGdoK,KAHc,CAGR,QAHQ,CAGE,SAHF,CAAA,CAIdA,KAJc,CAIR,cAJQ,CAIQ,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAO+zD,EAAA,CAAYD,eAAZ,CAA4B9zD,CAA5B,CAA8BlF,KAA9B,CAAT,CAJpB,CAAA,CAKdmW,EALc,CAKX,WALW,CAKE,IAAA,CAAK0nD,aAAL,CAAmB/7D,IAAnB,CAAwB,IAAxB,CALF,CAAA,CAMXqU,EANW,CAMR,UANQ;AAMI,IAAA,CAAK2nD,YAAL,CAAkBh8D,IAAlB,CAAuB,IAAvB,CANJ,CAAA,CAOdqU,EAPc,CAOX,OAPW,CAOF,QAAQ,CAACjR,CAAD,CAAI,CACxBiP,EAAA,CAAGrJ,KAAH,CAASizD,wBAAT,EACN5pD,GAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA,KAAA,CAAKC,cAAL,CAAoB/4D,CAApB,CACA,KAAA,CAAK49B,SAAL,CAAe,aAAf,CAA8B,IAA9B,CAAoC59B,CAApC,CAJ8B,CAAZ,CAKXpD,IALW,CAKN,IALM,CAPE,CAchB,KAAA,CAAKo7D,gBAAL,CAAsBU,CAAA,CAAUz9C,KAAV,CAAgBu7B,CAAhB,CAAtB,CAEI3mC,EAAAA,CAAO,IAAA,CAAK+nD,gBAAL,EAAA,CAAwB5/C,IAAxB,CAA6Bm7C,CAA7B,CAAuC,QAAQ,CAACnzD,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAAnD,CACX8T,EAAA,CAAKwL,IAAL,EAAA,CAAYpH,MAAZ,EACIyG,EAAAA,CAAY7K,CAAA,CAAK8K,KAAL,EAAA,CAAa/G,MAAb,CAAoB,GAApB,CAAA,CACXC,IADW,CACN,OADM,CACG,MADH,CAAA,CAEXA,IAFW,CAEN,IAFM,CAEA,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAFZ,CAAA,CAGXoK,KAHW,CAGL,QAHK,CAGK,SAHL,CAAA,CAIX8K,EAJW,CAIR,WAJQ,CAIK,IAAA,CAAK+nD,aAAL,CAAmBp8D,IAAnB,CAAwB,IAAxB,CAJL,CAAA,CAKXqU,EALW,CAKR,UALQ,CAKI,IAAA,CAAKgoD,YAAL,CAAkBr8D,IAAlB,CAAuB,IAAvB,CALJ,CAAA,CAMXqU,EANW,CAMR,OANQ;AAMC,QAAQ,CAACjR,CAAD,CAAI,CACjCiP,EAAA,CAAGrJ,KAAH,CAASizD,wBAAT,EACA5pD,GAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA,KAAA,CAAKI,cAAL,CAAoBl5D,CAApB,CACA,KAAA,CAAK49B,SAAL,CAAe,aAAf,CAA8B,IAA9B,CAAoC59B,CAApC,CAJiC,CAAZ,CAKpBpD,IALoB,CAKf,IALe,CAND,CAAA,CAYpBqU,EAZoB,CAYjB,UAZiB,CAYL,QAAQ,CAACjR,CAAD,CAAI,CAC3BiP,EAAA,CAAGrJ,KAAH,CAASizD,wBAAT,EACA5pD,GAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA,KAAA,CAAKl7B,SAAL,CAAe,gBAAf,CAAiC,IAAjC,CAAuC59B,CAAvC,CAH2B,CAAZ,CAIdpD,IAJc,CAIT,IAJS,CAZK,CAAA,CAiBpBqU,EAjBoB,CAiBjB,aAjBiB,CAiBF,QAAQ,CAACjR,CAAD,CAAI,CAC9BiP,EAAA,CAAGrJ,KAAH,CAASizD,wBAAT,EACA5pD,GAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA,KAAA,CAAKl7B,SAAL,CAAe,oBAAf,CAAqC,IAArC,CAA2C59B,CAA3C,CAH8B,CAAZ,CAIjBpD,IAJiB,CAIZ,IAJY,CAjBE,CAAA,CAsBXoV,IAtBW,CAsBN/C,EAAA,CAAGgc,IAAH,EAAA,CACDha,EADC,CACE,OADF,CACW,QAAQ,CAACjR,CAAD,CAAI,CAChBiP,EAAL,CAAQrJ,KAAR,CAAcuzD,MAAd,EAAsB,IAAA,CAAK/D,YAAL,EAAA,CAAoBgE,WAApB,CAAgC,EAAhC,CAAA,CAAqCC,OAArC,EAClB;IAAA,CAAKC,YAAL,EAAJ,GACCt5D,CACA,CADEu5D,EACF,CADOv5D,CACP,CADSE,CACT,CAAAF,CAAA,CAAEw5D,EAAF,CAAOx5D,CAAP,CAASoF,CAFV,CAIA,KAAA,CAAKw4B,SAAL,CAAe,eAAf,CAAgC,IAAhC,CAAsC59B,CAAtC,CANqB,CAAZ,CAOdpD,IAPc,CAOT,IAPS,CADX,CAAA,CASDqU,EATC,CASE,MATF,CASU,QAAQ,CAACjR,CAAD,CAAI,CACnB,IAAA,CAAKs5D,YAAL,EAAJ,EACIt5D,CACA,CADEu5D,EACF,CADOtqD,EACP,CADUrJ,KACV,CADgB1F,CAChB,CAAAF,CAAA,CAAEw5D,EAAF,CAAOvqD,EAAP,CAAUrJ,KAAV,CAAgBR,CAFpB,GAICpF,CACA,CADEE,CACF,CADM+O,EACN,CADSrJ,KACT,CADe1F,CACf,CAAAF,CAAA,CAAEoF,CAAF,CAAM6J,EAAN,CAASrJ,KAAT,CAAeR,CALhB,CAOG,KAAA,CAAKw4B,SAAL,CAAe,UAAf,CAA2B,IAA3B,CAAiC59B,CAAjC,CARoB,CAAZ,CASVpD,IATU,CASL,IATK,CATV,CAAA,CAmBDqU,EAnBC,CAmBE,KAnBF,CAmBS,QAAQ,CAACjR,CAAD,CAAI,CACjBiP,EAAL,CAAQrJ,KAAR,CAAcuzD,MAAd,EAAsB,IAAA,CAAK/D,YAAL,EAAA,CAAoBgE,WAApB,CAAgC,CAAhC,CACtB,KAAA,CAAKx7B,SAAL,CAAe,aAAf,CAA8B,IAA9B,CAAoC59B,CAApC,CAFsB,CAAZ,CAGTpD,IAHS,CAGJ,IAHI,CAnBT,CAtBM,CA+ChB8d,EAAA,CAAU9G,MAAV,CAAiB,MAAjB,CAEA8G,EAAA,CAAU9G,MAAV,CAAiB,MAAjB,CAAA,CACKgH,IADL,CACU,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASnF,IAAX,CADtB,CAAA,CAGKgZ,IAHL,CAGU,WAHV,CAGuB,QAAQ,CAAC7T,CAAD,CAAI,CAAC,MAAO2zD,EAAA,CAAYG,eAAZ,CAA4B9zD,CAA5B,CAA8BlF,KAA9B,CAAP;AAA4C,IAA7C,CAHnC,CAAA,CAKJ+Y,IALI,CAKC,mBALD,CAKsB,QALtB,CAAA,CAMJ1N,KANI,CAME,aANF,CAMiB,MANjB,CAAA,CAOK/E,IAPL,CAOU,QAAQ,CAACpB,CAAD,CAAI,CAAEA,CAAA,CAAE03D,IAAF,CAAS,IAAA,CAAK17C,OAAL,EAAX,CAPtB,CASA,KAAA,CAAKi8C,gBAAL,CAAsBv9C,CAAA,CAAUO,KAAV,CAAgBpL,CAAhB,CAAtB,CAEA,KAAA,CAAK+nD,gBAAL,EAAA,CAAwB7lD,SAAxB,CAAkC,MAAlC,CAAA,CACE8B,IADF,CACO,OADP,CACgB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS03D,IAAT,CAAc77D,KAAd,CAAoB,EAAtB,CAD5B,CAAA,CAEJgY,IAFI,CAEC,QAFD,CAEW,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS03D,IAAT,CAAc/7D,MAAd,CAAqB,CAAvB,CAFvB,CAAA,CAGJkY,IAHI,CAGC,IAHD,CAGO,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAKM,GAAL,CAAS,CAAT,CAA4B,EAA5B,CAAYnB,CAAZ,CAAc03D,IAAd,CAAmB/7D,MAAnB,CAAT,CAHnB,CAAA,CAIJkY,IAJI,CAIC,IAJD,CAIO,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAKM,GAAL,CAAS,CAAT,CAA4B,EAA5B,CAAYnB,CAAZ,CAAc03D,IAAd,CAAmB/7D,MAAnB,CAAT,CAJnB,CAMA,KAAA,CAAKi8D,gBAAL,EAAA,CAAwB7lD,SAAxB,CAAkC,MAAlC,CAAA,CACE8B,IADF,CACO,IADP,CACa,CADb,CAAA,CAEJA,IAFI,CAEC,IAFD,CAEO,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAqB,EAArB,CAAOA,CAAP,CAAS03D,IAAT,CAAc/7D,MAAd;AAAyB,CAA3B,CAFnB,CAKA,KAAA,CAAKg8D,gBAAL,EAAA,CAAwB3lD,IAAxB,CAA6B,IAAA,CAAKynD,cAAL,CAAoB78D,IAApB,CAAyB,IAAzB,CAA7B,CACA,KAAA,CAAKg7D,gBAAL,EAAA,CAAwB5lD,IAAxB,CAA6B,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAA7B,CAEA,KAAA,CAAKw4D,YAAL,EAAA,CAAoBp7C,KAApB,CAA0Bm5C,CAA1B,CACA,KAAA,CAAKiC,YAAL,EAAA,CAAoBC,KAApB,CAA0B,MAA1B,CAAA,CAAkC95C,KAAlC,CAAwC63C,CAAxC,CACA,KAAA,CAAKgC,YAAL,EAAA,CAAoBI,KAApB,CAA0B,CAA1B,CAAA,CAA6B6D,OAA7B,EApHH,CADwB,CA7YkB,CAqgB3CxB,UAAWA,QAAQ,CAAC8B,CAAD,CAAiBC,CAAjB,CAAqC,CACvD,IAAIC,EAAS,IAAA,CAAKC,MAAL,EAAA,CAAcjqD,IAAd,EAAA,CAAqBmM,OAArB,EAAb,CACIngB,EAAQg+D,CAARh+D,CAAeA,KADnB,CAEIF,EAASk+D,CAATl+D,CAAgBA,MAFpB,CAGIo+D,EAAOF,CAAPE,CAAc75D,CAAd65D,CAAkBl+D,CAAlBk+D,CAAwB,CAH5B,CAIIC,EAAOH,CAAPG,CAAc50D,CAAd40D,CAAkBr+D,CAAlBq+D,CAAyB,CACzBv4B,EAAAA,CAAM,IAAA,CAAKq4B,MAAL,EAAA,CAAcjqD,IAAd,EAAN4xB,CAA2B1lB,aAC/B,KAAIk+C,EAAUx4B,CAAA,CAAIy4B,qBAAJ,EAAd,CACOC,EAAYF,CAAZE,CAAoBt+D,KACpBu+D,EAAAA,CAAaH,CAAbG,CAAqBz+D,MACxBg1B,EAAAA,EAASgpC,CAAThpC,EAA2B,EAA3BA,EAAkC9vB,IAAA,CAAKM,GAAL,CAAStF,CAAT,CAAes+D,CAAf,CAA0Bx+D,CAA1B,CAAiCy+D,CAAjC,CAClClxD,EAAAA,CAAY,CAACixD,CAAD,CAAW,CAAX,CAAexpC,CAAf,CAAqBopC,CAArB,CAA2BK,CAA3B,CAAsC,CAAtC,CAA0CzpC,CAA1C,CAAgDqpC,CAAhD,CAChB/qD,GAAA,CAAG6C,MAAH,CAAU2vB,CAAV,CAAA,CACEvmB,UADF,EAAA,CAEEC,QAFF,CAEWy+C,CAFX;AAEiC,GAFjC,CAAA,CAGE5nD,IAHF,CAGO,IAAA,CAAKqoD,OAAL,EAHP,CAGsBrmD,SAHtB,CAGiC/E,EAAA,CAAGqrD,YAAH,CAAgBpxD,SAAhB,CAA0BA,CAAA,CAAU,CAAV,CAA1B,CAAuCA,CAAA,CAAU,CAAV,CAAvC,CAAA,CAAqDynB,KAArD,CAA2DA,CAA3D,CAHjC,CAZuD,CArgBb,CAuhB3CgjC,YAAaA,QAAQ,CAAC9mD,CAAD,CAAM1L,CAAN,CAAW02C,CAAX,CAAkB/8C,CAAlB,CAAyB,CAC7C,MAAI+R,EAAJ,GAAY1L,CAAZ,CACQ,EADR,CAIQN,IAAA,CAAKM,GAAL,CAAS,CAAT,CADK,CACL,EADUA,CACV,CADgB0L,CAChB,GAAa/R,CAAb,CAAmB+R,CAAnB,EALqC,CAvhBH,CAgiB3C6sD,eAAgBA,QAAQ,CAAC5T,CAAD,CAAMyU,CAAN,CAAiB,CACvCC,CAAAA,CAAsB94D,IAAAA,EAAd,GAAA64D,CAAA,CAA0B,QAA1B,CAAqCA,CACjD,KAAIp0D,EAAQ,IAAA,CAAKs0D,aAAL,EAAA,CAAqB5qD,IAArB,CAA0B2qD,CAA1B,CACT1U,EAAA,CAAI/zC,SAAJ,CAAc,YAAd,CAAA,CACE5L,KADF,CACQ,MADR,CACgB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmG,EAAP,CAAanB,IAAf,CAAZ,CAAmCpI,IAAnC,CAAwC,IAAxC,CADhB,CAAA,CAEEuJ,KAFF,CAEQ,cAFR,CAEwB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmG,EAAP,CAAa+tD,WAAf,CAAZ,CAA0Ct3D,IAA1C,CAA+C,IAA/C,CAFxB,CAAA,CAGEuJ,KAHF,CAGQ,QAHR,CAGkB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmG,EAAP,CAAapC,MAAf,CAAZ,CAAqCnH,IAArC,CAA0C,IAA1C,CAHlB,CAAA,CAIEuJ,KAJF,CAIQ,gBAJR,CAI0B,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmG,EAAP,CAAaguD,aAAf,CAAZ,CAA4Cv3D,IAA5C,CAAiD,IAAjD,CAJ1B,CAAA,CAKEuJ,KALF,CAKQ,cALR;AAKwB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmG,EAAP,CAAaiuD,WAAf,CAAZ,CAA0Cx3D,IAA1C,CAA+C,IAA/C,CALxB,CAHwC,CAhiBE,CA2iB3C68D,eAAgBA,QAAQ,CAAC3T,CAAD,CAAM4U,CAAN,CAAiB,CACpCF,CAAAA,CAAsB94D,IAAAA,EAAd,GAAAg5D,CAAA,CAA0B,QAA1B,CAAqCA,CACjD,KAAIv0D,EAAQ,IAAA,CAAKs0D,aAAL,EAAA,CAAqBjkB,IAArB,CAA0BgkB,CAA1B,CACZ1U,EAAA,CAAI3/C,KAAJ,CAAU,QAAV,CAAoB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmG,EAAP,CAAapC,MAAf,CAAZ,CAAqCnH,IAArC,CAA0C,IAA1C,CAApB,CAAA,CACEuJ,KADF,CACQ,gBADR,CAC0B,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmG,EAAP,CAAaguD,aAAf,CAAZ,CAA4Cv3D,IAA5C,CAAiD,IAAjD,CAD1B,CAHwC,CA3iBE,CAmjB3C+7D,cAAeA,QAAQ,CAAC34D,CAAD,CAAI,CAC1B,IAAA,CAAK23D,gBAAL,EAAA,CAAwB3lD,IAAxB,CAA6B,IAAA,CAAKynD,cAAL,CAAoB78D,IAApB,CAAyB,IAAzB,CAA7B,CACA,KAAA,CAAKk9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB,CAAyB9R,CAAzB,CAA2BjE,EAA3B,CAAA,CAA+BiW,IAA/B,CAAoC,IAAA,CAAKynD,cAAL,CAAoB78D,IAApB,CAAyB,IAAzB,CAApC,CAAoE,WAApE,CAF0B,CAnjBgB,CAwjB3Cg8D,aAAcA,QAAQ,CAAC54D,CAAD,CAAI,CACzB,IAAA,CAAK23D,gBAAL,EAAA,CAAwB3lD,IAAxB,CAA6B,IAAA,CAAKynD,cAAL,CAAoB78D,IAApB,CAAyB,IAAzB,CAA7B,CADyB,CAxjBiB;AA4jB3Co8D,cAAeA,QAAQ,CAACh5D,CAAD,CAAI,CAC1B,IAAA,CAAKk5D,cAAL,CAAoBl5D,CAApB,CAEA,KAAA,CAAK43D,gBAAL,EAAA,CAAwB5lD,IAAxB,CAA6B,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAA7B,CAEH,KAAA,CAAK+6D,gBAAL,EAAA,CAAwBv2D,IAAxB,CAA6B,QAAQ,CAACka,CAAD,CAAO,CAE3C,GAAIA,CAAJ,CAASvB,MAAT,CAAgBhe,EAAhB,EAAsBiE,CAAtB,CAAwBjE,EAAxB,CACC,IAAAA,EAAKuf,CAALvf,CAAUyf,MAAVzf,CAAiBA,EADlB,KAEWuf,EAAJ,CAASE,MAAT,CAAgBzf,EAAhB,EAAsBiE,CAAtB,CAAwBjE,EAAxB,GACNA,CADM,CACDuf,CADC,CACIvB,MADJ,CACWhe,EADX,CAGI2F,KAAAA,EAAX,GAAI3F,CAAJ,GACC,IAAA,CAAK+9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB,CAAyB/V,CAAzB,CAAA,CAA6BiW,IAA7B,CAAkC,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAAlC,CAAkE,WAAlE,CACA,CAAA,IAAA,CAAKk9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB,CAAyBwJ,CAAzB,CAA8Bvf,EAA9B,CAAA,CAAkCiW,IAAlC,CAAuC,IAAA,CAAKynD,cAAL,CAAoB78D,IAApB,CAAyB,IAAzB,CAAvC,CAAuE,WAAvE,CAFD,CAP2C,CAAf,CAW3BA,IAX2B,CAWtB,IAXsB,CAA7B,CAaA,KAAA,CAAKk9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB,CAAyB9R,CAAzB,CAA2BjE,EAA3B,CAAA,CAA+BiW,IAA/B,CAAoC,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAApC,CAAoE,WAApE,CAlB6B,CA5jBgB,CAilB3Cq8D,aAAcA,QAAQ,CAACj5D,CAAD,CAAI,CACzB,IAAA,CAAK43D,gBAAL,EAAA,CAAwB5lD,IAAxB,CAA6B,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAA7B,CACA;IAAA,CAAK+6D,gBAAL,EAAA,CAAwB3lD,IAAxB,CAA6B,IAAA,CAAKynD,cAAL,CAAoB78D,IAApB,CAAyB,IAAzB,CAA7B,CAFyB,CAjlBiB,CAA/C,C,CCAA3B,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACpCyI,OAAQ,yBAD4B,CAEpC7H,OAAQ,CAAC,0BAAD,CAF4B,CAGpC4V,MAAO,oBAH6B,CAIpCxU,QAAS,CACLG,KAAM,EADD,CAJ2B,CAQpCl6B,OAAQ,CACJi6C,YAAa3xC,IAAAA,EADT,CAEJkvB,OAAQlvB,IAAAA,EAFJ,CAGJ63C,eAAgB73C,IAAAA,EAHZ,CAIJi5D,mBAAoBj5D,IAAAA,EAJhB,CAKPk5D,eAAgBl5D,IAAAA,EALT,CAMPm5D,gBAAiB,CAAA,CANV,CAR4B,CAiBpCC,oBAAqB,SAjBe,CAmBpCC,yBAA0B,EAnBU,CAoBpCC,qBAAsB,GApBc,CAsBpCC,UAAW,EAtByB,CAuBpCC,UAAW,CAvByB,CAwBpCC,YAAa,CAxBuB,CA0BpC1/D,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CAD0B,CA1BM,CA8BpC2xB,cAAeA,QAAQ,EAAG,CACtBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACZ49C,OAAQ,CACJ93C,KAAM,MADF,CADI;AAIZ2vB,MAAO,EAJK,CAAhB,CAOA,KAAA,CAAKsmC,qBAAL,CAA2BngE,GAAA,CAAIu4B,MAAJ,CAAW,gBAAX,CAA6B,CAC7D0hB,MAAO,gCADsD,CAE1D1B,SAAU,CAAA,CAFgD,CAG1DD,WAAY,CAAA,CAH8C,CAI1DtD,MAAO,CACT9qC,KAAM,MADG,CAETi6B,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EAFI,CAGTiJ,YAAa,CACZ7R,KAAM,sBADM,CAEZ8W,kBAAmB,CAAA,CAFP,CAIZkmB,cAAe,CAAA,CAJH,CAKZ57D,KAAM,EALM,CAMZ40C,QAAS,QANG,CAHJ,CAWTN,OAAQ,CACP5uC,KAAM,MADC,CAEE6uC,aAAc,qBAFhB,CAGEC,cAAe,qBAHjB,CAXC,CAgBTE,eAAgB,CAAA,CAhBP,CAJmD,CAsBvD/3C,UAAW,CACJuzC,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiByyB,CAAjB,CAA6BC,CAA7B,CAAmC,CAC7CpgB,CAAA,CAAMv2B,IAAN,CAAW,UAAX,CAAuB,KAAvB,CACA,KAAIu8D,EAAa,EAAjB,CACI96B,EAAW,CACflL,EAAA,CAAMl0B,IAAN,CAAW,QAAQ,CAACw2B,CAAD,CAAI,CACnB,IAAI2jC;AAAY,EAAhB,CACIC,EAAO5jC,CAAA,CAAEx4B,GAAF,CAAM,eAAN,CADX,CAEIF,EAAQ04B,CAAA,CAAEx4B,GAAF,CAAM,OAAN,CAFZ,CAGIkG,EAAWsyB,CAAA,CAAEx4B,GAAF,CAAM,UAAN,CACXvE,EAAAA,CAAO+8B,CAAA,CAAEx4B,GAAF,CAAM,MAAN,CACX,KAAK,IAAIxB,EAAI,CAAb,CAAgBA,CAAhB,CAAoB49D,CAApB,CAAyB39D,MAAzB,CAAiCD,CAAA,EAAjC,CAAsC,CAClC,IAAIyC,EAAMzC,CAAV,CACIisB,EAAM2xC,CAAA,CAAK59D,CAAL,CACNisB,EAAJ,CAAU2W,CAAV,GAAoBA,CAApB,CAA+B3W,CAA/B,CACA0xC,EAAA,CAAUt7D,IAAV,CAAe,CAACf,CAAD,CAAQoG,CAAR,CAAkBjF,CAAlB,CAAuBwpB,CAAvB,CAA4BhvB,CAA5B,CAAf,CAJkC,CAMtCygE,CAAA,CAAWh2D,CAAX,CAAA,CAAuBi2D,CAZJ,CAAvB,CAaG,IAbH,CAeA,IAAI,IAAA,CAAKE,kBAAL,EAAJ,CAEI,IADIC,CACK99D,CADI,IAAA,CAAKynB,KAAL,CAAW,WAAX,CACJznB,CAAAA,CAAAA,CAAI,CAAb,CAAgBA,CAAhB,CAAoB89D,CAApB,CAA2B79D,MAA3B,CAAmCD,CAAA,EAAnC,CACQ+9D,CAEJ,CAFYD,CAAA,CAAO99D,CAAP,CAEZ,CADIoa,CACJ,CADWsjD,CAAA,CAAW19D,CAAX,CACX,CAAa8D,IAAAA,EAAb,GAAIsW,CAAJ,EACI2jD,CAAA,CAAMC,OAAN,EAAA,CAAgB,CAAhB,CAAA,CAAmBC,UAAnB,CAA8Br7B,CAA9B,CACA,CAAAm7B,CAAA,CAAMvtC,QAAN,EAAA,CAAiBm5B,QAAjB,CAA0BvvC,CAA1B,CAFJ,EAII2jD,CAAA,CAAMvtC,QAAN,EAAA,CAAiBkZ,SAAjB,EA5BiC,CAD7C,CAkCVnqC,MAAO,IAlCG,CAtB4C,CAA7B,CAA3B,CA4DA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CAEA,KAAIy8B,EAAc,IAAA,CAAKkP,YAAL,CAAkB,QAAQ,CAACvwB,CAAD,CAAM,CACpD,MAAOA,EAAA,CAAID,MAAJ,CAAW,oBAAX,CAD6C,CAAhC,CAGrB,IAAmB,IAAnB,EAAIshB,CAAJ,CAEC,GADM,IAAA,CAAKiB,cAAL,CAAoBjB,CAApB,CACF;AAAAA,CAAA,CAAY7tB,SAAZ,EAAyB6tB,CAAA,CAAY7tB,SAAZ,EAA7B,CACC,IAAA,CAAKvU,EAAL,CAAQ,aAAR,CAAuB,QAAQ,CAAC1M,CAAD,CAAI,CAClC,IAAA,CAAKgwC,SAAL,CAAelB,CAAA,CAAY7tB,SAAZ,EAAf,CADkC,CAAnC,CAEG,IAFH,CADD,KAKU6tB,EAAA,CAAYpiC,EAAZ,CAAe,cAAf,CAA+B,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACjD,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CADiD,CAArD,CAEG,IAFH,CAGA,CAAA,IAAA,CAAK4vB,uBAAL,CAA+B,CAAA,CAIvC,KAAA,CAAKvvC,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CACKvP,IAAAA,EAAhC,EAAI,IAAA,CAAKo6D,iBAAL,EAAJ,EACI,IAAA,CAAKC,iBAAL,CAAuB9gE,GAAA,CAAIouB,SAAJ,CAAczV,MAAd,CAAqB,IAAA,CAAK8qB,KAAL,EAArB,CAAmC,CAACmG,IAAK,KAAN,CAAa1+B,MAAO,oBAAPA,CAA4B,IAA5BA,CAAiC20D,mBAAjC30D,CAAqD,kEAAlE,CAAnC,CAAvB,CAFuB,CAA/B,CAvFsB,CA9BU,CA4HpC61D,aAAcA,QAAQ,CAACprC,CAAD,CAAS,CAC3B,IAAIsyB,EAAOtyB,CAAA,CAAOkpB,YAAP,EACX,KAAA,CAAKC,iBAAL,CAAuBmJ,CAAvB,CACA;IAAA,CAAK+Y,qBAAL,EAAA,CAA6Bl1B,QAA7B,EAAA,CAAwC8N,aAAxC,CAAsD,QAAtD,CAAgEjkB,CAAA,CAAOlL,KAAP,EAAhE,CACA,KAAA,CAAKw2C,kBAAL,CAAwBhZ,CAAA,CAAKD,aAAL,EAAxB,CAA+C,IAA/C,CAAoD8X,wBAApD,CAEA,KAAA,CAAKoB,aAAL,CAAmBvrC,CAAnB,CAA2B,IAA3B,CAN2B,CA5HK,CAqIpCwrC,eAAgBA,QAAQ,CAACC,CAAD,CAAa,CAChCA,CAAJ,EAAsC,CAAtC,CAAkBA,CAAlB,CAA6Bx+D,MAA7B,EACF,IAAA,CAAKo+D,qBAAL,EAAA,CAA6BtsB,IAA7B,CAAkC,CACjCtjB,OAAQ,CACPhH,MAAOg3C,CADA,CADyB,CAAlC,CAFsC,CArID,CA+IpCF,cAAeA,QAAQ,CAACvrC,CAAD,CAASv3B,CAAT,CAAoB,CACvCg/B,QAASA,EAAQ,CAAC72B,CAAD,CAAQg0D,CAAR,CAAe,CACxBjxD,CAAAA,CAAI,IAAA,CAAKkwC,cAAL,EAAA,CAAsBxmB,cAAtB,EAAA,CAAuCoK,QAAvC,CAAgD72B,CAAhD,CACR,OAAO,OAAP,CAAe+C,CAAA,CAAE,CAAF,CAAf,CAAoB,GAApB,CAAwBA,CAAA,CAAE,CAAF,CAAxB,CAA6B,GAA7B,CAAiCA,CAAA,CAAE,CAAF,CAAjC,CAAsC,GAAtC,CAA0CixD,CAA1C,CAAgD,GAFpB,CAShC8G,QAASA,EAAQ,CAACC,CAAD,CAAU,CACvB,IAAI/6D,EAAQ+6D,CAAR/6D,CAAgBA,KAApB,CACIg7D,EAAWD,CAAXC,CAAmBA,QACnB7gE,EAAAA,CAAS4gE,CAAT5gE,CAAiB8gE,cACrB,KAAIC,EAASrkC,CAAA,CAASrmB,IAAT,CAAc,IAAd,CAAoBxQ,CAApB,CAA2B,EAA3B,CACTm7D,EAAAA;AAAStkC,CAAA,CAASrmB,IAAT,CAAc,IAAd,CAAoBxQ,CAApB,CAA2B,CAA3B,CACDnI,EAAA2oB,CAAUhmB,GAAVgmB,CAAc,CACtB/lB,MAAO,WADe,CAEtBuyD,QAAS,CACLC,MAAO,iBADF,CAFa,CAKtBh5B,KAAM+mC,CALgB,CAMtB7gE,OAAQ,MANc,CAOtBihE,aAAc,CAPQ,CAQtBC,WAAY,CACR13D,KAAM,QADE,CAERsjD,QAAS,EAFD,CAGRqU,MAAO,CAAC,CACJt0D,OAAQ,CADJ,CAEJhE,MAAOk4D,CAFH,CAAD,CAGL,CACEl0D,OAAQ7M,CADV,CAEE6I,MAAOk4D,CAFT,CAHK,CAML,CACEl0D,OAAQ7M,CADV,CAEE6I,MAAO,OAFT,CANK,CASL,CACEgE,OAAQ,CADV,CAEEhE,MAAO,OAFT,CATK,CAHC,CARU,CAyBtBojD,KAAM,CAAC,CACHziD,KAAM,SADH,CAEH4iB,SAAU,MAFP,CAGH0L,OAAQ,cAHL,CAIHtwB,OAAQ,CAAA,CAJL,CAAD,CAKJ,CACEgC,KAAM,UADR,CAEE4iB,SAAU,QAFZ,CAGE0L,OAAQ,KAHV,CAIEtwB,OAAQ,CAAA,CAJV,CALI,CAzBgB,CAoCtB2kD,OAAQ,CAAC,CACL3iD,KAAM,MADD,CAELwjD,OAAQ,KAFH,CAGLC,OAAQ,cAHH,CAILziD,MAAO,CACHxC,UAAW,CADR,CAEHD,YAAai5D,CAFV,CAJF,CAQLtoC,QAAS,CACLzD,OAAQA,CADH,CAELo4B,WAAY,CAAA,CAFP,CAGL7iD,MAAO,kBAHF;AAIL42D,UAAW,CAJN,CAKLC,aAAc,GALT,CAMLC,UAAW,CANN,CAOLhU,SAAUA,QAAQ,CAACiU,CAAD,CAAUh4D,CAAV,CAAkB1K,CAAlB,CAAuB,CACrC0iE,CAAA,CAAQ9a,OAAR,CAAgBxxB,CAAA,CAAOnL,WAAP,CAAmBvgB,CAAA,CAAO9F,GAAP,CAAW,UAAX,CAAnB,CAAA,CAA2CmxC,QAA3C,EAAhB,CAAsE,MAAtE,CAA6ErrC,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAA7E,CAAkG,IAAlG,CAAyG8F,CAAA,CAAO9F,GAAP,CAAW,cAAX,CAAzG,CADqC,CAPpC,CARJ,CAAD,CApCc,CAwDtBk2B,MAAOr6B,GAAA,CAAIu4B,MAAJ,CAAW,qBAAX,CAAkC,CACrCC,OAAQ,CAAC,OAAD,CAAU,UAAV,CAAsB,KAAtB,CAA6B,cAA7B,CAA6C,MAA7C,CAD6B,CAErCzb,KAAM,EAF+B,CAAlC,CAxDe,CA4DtB5b,UAAW,CACP+gE,UAAWA,QAAQ,CAACn7C,CAAD,CAAQ9C,CAAR,CAActZ,CAAd,CAAqB,EADjC,CAMPzI,MAAO,IANA,CA5DW,CAAd6kB,CAsEZ,CAAM9b,IAAN,CAAW+K,EAAX,CAAc,OAAd,CAAuB,QAAQ,CAACrL,CAAD,CAAQ4V,CAAR,CAAgB,CACvC9d,CAAAA,CAAKzC,GAAA,CAAImE,GAAJ,CAAQoc,CAAR,CAELtb,EAAAA,CAAI0F,CAAA,CAAMuiC,IAAN,EACR,KAAIi1B,EAAM1/D,CAAA,CAAG2/D,MAAH,EACNb,EAAAA,EAAYt8D,CAAZs8D,CAAgBY,CAAhBZ,CAAoBt8D,CAApBs8D,EAAyBY,CAAzBZ,CAA6B3gE,KAE7ByhE,EAAAA,CAAiB5/D,CAAA,CAAGmb,MAAH,CAAU,UAAV,CACjB0kD,EAAAA,CAAkBD,CAAA,CAAezkD,MAAf,EAElBvT,EAAAA,CADWrK,GAAAsC,CAAIigE,OAAJjgE,CAAYggE,CAAZhgE,CAA4BI,GAA5BJ,CAAgCA,QAAhCA,CACA,CAAS0E,OAAT,CAAiBq7D,CAAjB,CAAgC3/D,GAAhC,CAEf;IAAA,CAAKigC,SAAL,CAAe,kCAAf,CAAmD,IAAnD,CAAyD,CAACt4B,SAAUA,CAAX,CAAqBk3D,SAAUA,CAA/B,CAAzD,CAZ2C,CAA/C,CAaG,IAbH,CA5EuB,CA4F3BnjE,CAAA,CAAUiuC,SAAV,EAQA,KANA,IAAI4b,EAAOtyB,CAAA,CAAOkpB,YAAP,EAAX,CACI2jB,EAAc7sC,CAAA,CAAOiqB,kBAAP,EADlB,CAEI6iB,EAAW,EAFf,CAGIC,EAAapiC,MAAboiC,CAAoBniC,SAHxB,CAIIoiC,EAAa,EAJjB,CAMShgE,EAAI,CAAb,CAAgBA,CAAhB,CAAoBslD,CAAA,CAAKl9C,QAAL,EAApB,CAAqCpI,CAAA,EAArC,CAA0C,CACtC,IAAIoC,EAAIkjD,CAAA,CAAKpO,KAAL,CAAWl3C,CAAX,CAAR,CACI0H,EAAWtF,CAAA,CAAEZ,GAAF,CAAM,OAAN,CACXmG,EAAAA,CAAQvF,CAAA,CAAEZ,GAAF,CAAM,qBAAN,CACRmG,EAAJ,CAAYo4D,CAAZ,GAAwBA,CAAxB,CAAqCp4D,CAArC,CACIA,EAAJ,CAAYq4D,CAAZ,GAAwBA,CAAxB,CAAqCr4D,CAArC,CAEAm4D,EAAA,CAASz9D,IAAT,CAAc,CACVuB,MAAO8D,CADG,CAEVC,MAAOA,CAFG,CAGVi3D,SAJWj3D,CAIXi3D,CAJmBiB,CACT,CAAd,CAPsC,CAc1C,GAAI,IAAA,CAAKhC,kBAAL,EAAJ,CACI,IAAS79D,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB8/D,CAApB,CAA6B7/D,MAA7B,CAAqCD,CAAA,EAArC,CACQoC,CAEJ,CAFQ09D,CAAA,CAAS9/D,CAAT,CAER,CADAoC,CACA,CADEy8D,cACF,CADmBz8D,CAAA,CAAEuF,KAAF,EAASq4D,CAAT,CAAsB,CAAtB,CAA+DC,GAA/D,EAA8B79D,CAA9B,CAAgCuF,KAAhC,CAAuCo4D,CAAvC,GAAmDC,CAAnD,CAAuCD,CAAvC,EAxHN,GAyHb,CAAArB,CAAA,CAAStqD,IAAT,CAAc,IAAd,CAAoBhS,CAApB,CAJR,KAOgB3G,EAAA,CAAU2C,GAAV,CAAc,CACtBC,MAAO,WADe,CAEtBuyD,QAAS,CACLC,MAAO,iBADF,CAFa;AAKtBh5B,KAAM,CALgB,CAMtB95B,OAAQ,MANc,CAOtBihE,aAAc,CAPQ,CAQtBhV,KAAM,CAAC,CACHziD,KAAM,SADH,CAEH4iB,SAAU,MAFP,CAGH0L,OAAQ,OAHL,CAIHtwB,OAAQ,CAAA,CAJL,CAAD,CAKJ,CACEgC,KAAM,UADR,CAEE4iB,SAAU,QAFZ,CAGE0L,OAAQ,OAHV,CAIEtwB,OAAQ,CAAA,CAJV,CALI,CARgB,CAmBtB2kD,OAAQ,CAAC,CACL3iD,KAAM,KADD,CAELwjD,OAAQ,OAFH,CAGLC,OAAQ,OAHH,CAILziD,MAAO,CACH23D,YAAa,CADV,CAEHC,YAAa,CAFV,CAGHp6D,UAAW,CAHR,CAIHD,YAAa,MAJV,CAJF,CAULulD,SAAU,QAAS,CAAC+U,CAAD,CAAS5kE,CAAT,CAAiB6kE,CAAjB,CAA+Bz8D,CAA/B,CAAsC,CACrD,MAAO,CAAC8B,UAAW+0B,CAAA,CAASrmB,IAAT,CAAc,IAAd,CAAoBxQ,CAApB,CAA2B,EAA3B,CAAZ,CAD8C,CAA/C,CAER5E,IAFQ,CAEH,IAFG,CAVL,CAAD,CAnBc,CAiCtB04B,MAAOr6B,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CACpCC,OAAQ,CAAC,CAAClZ,KAAM,OAAP,CAAgBpV,KAAM,KAAtB,CAAD,CAA+B,CAACoV,KAAM,OAAP,CAAgBpV,KAAM,KAAtB,CAA/B,CAA6D,CAACoV,KAAM,UAAP,CAAmBpV,KAAM,OAAzB,CAA7D,CAD4B,CAEpC6S,KAAM0lD,CAF8B,CAAjC,CAjCe,CAqCtBthE,UAAW,CACP+gE,UAAWA,QAAQ,CAACn7C,CAAD;AAAQ9C,CAAR,CAActZ,CAAd,CAAqB,CAChClI,CAAAA,CAAKzC,GAAA,CAAImE,GAAJ,CAAQwG,CAAA,CAAMwsC,SAAN,EAAR,CACLlyC,EAAAA,CAAI0F,CAAA,CAAMuiC,IAAN,EACJi1B,EAAAA,CAAM1/D,CAAA,CAAG2/D,MAAH,EACV,KAAIa,EAAWd,CAAXc,CAAeriE,KAAfqiE,CAAuB,IAAA,CAAK14C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC9zC,QAAhC,EAEvBw2D,EAAAA,EADQt8D,CACRs8D,CADYY,CACZZ,CADgBt8D,CAChBs8D,EADqB0B,CACrB1B,CAAkB0B,CAE3BlmD,EAAAA,CAAOkH,CAAPlH,CAAY9S,MAAZ8S,CAAmBA,IAEV1S,EAAAA,CADM,IAAA,CAAKo1C,iBAAL,EAAAl8C,CAAyBs2C,KAAzBt2C,CAA+BwZ,CAA/BxZ,CAAoCgD,KAApChD,CACK,CAAI2xC,QAAJ,EAEf,KAAA,CAAKvS,SAAL,CAAe,kCAAf,CAAmD,IAAnD,CAAyD,CAACt4B,SAAUA,CAAX,CAAqBk3D,SAAUA,CAA/B,CAAzD,CAZoC,CADjC,CAePr/D,MAAO,IAfA,CArCW,CAAd,CAnIuB,CA/IP,CA6UpCghE,mBAAoBA,QAAQ,CAAC74D,CAAD,CAAWk3D,CAAX,CAAqB4B,CAArB,CAAgC,CACxD,IAAIC,EAAYpjE,GAAA,CAAImE,GAAJ,CAAQ,IAAA,CAAK08D,iBAAL,EAAR,CAAhB,CACIwC,EAAOD,CAAA,CAAUl2B,IAAV,EACX,IAAI,IAAA,CAAKszB,kBAAL,EAAJ,CAA+B,CAC3B,IAAIE,EAAQ,IAAA,CAAKt2C,KAAL,CAAW,WAAX,CAAA,CAAwB/f,CAAxB,CACRq2D,EAAJ,GACI2C,CADJ,CACW3C,CAAA,CAAMxzB,IAAN,EADX,CAC0BwzB,CAAA,CAAM7/D,QAAN,EAD1B,CAC2C0gE,CAD3C,CAF2B,CAA/B,IAMQb,EAEJ,CAFY,IAAA,CAAKryC,IAAL,CAAU,WAAV,CAEZ,CADI40C,CACJ;AADevC,CAAA,CAAM7/D,QAAN,EACf,CADkC,IAAA,CAAK0pB,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC9zC,QAAhC,EAClC,CAAAs4D,CAAA,CAAO3C,CAAA,CAAMxzB,IAAN,EAAP,CAAsB+1B,CAAtB,CAA+B54D,CAA/B,CAA0C44D,CAA1C,CAAmD1B,CAEtC,KAAjB,EAAI4B,CAAJ,GACQG,CAEA,CAFQF,CAAA,CAAUl2B,IAAV,EAER,CAACi2B,CAAD,EAAc,IAAd,CAAmBjD,WAAnB,EAAkCoD,CAAlC,CAA0CD,CAA1C,EAAoDF,CAApD,EAAiE,IAAjE,CAAsEnD,SAAtE,EAAmFsD,CAAnF,CAA2FD,CAHnG,IAG0GA,CAH1G,CAGiHC,CAHjH,CAKAF,EAAA,CAAUG,IAAV,CAAeF,CAAf,CAlBwD,CA7UxB,CAAxC,C,CCAArjE,GAAA,CAAIk2B,MAAJ,CAAW,oBAAX,CAAiC,CAChCY,OAAQ,CAAC,0BAAD,CAA4B,iBAA5B,CAA8C,sBAA9C,CAAqE,2BAArE,CADwB,CAEhCsK,SAAU,CAAC,gCAAD,CAAkC,8BAAlC,CAAiE,gCAAjE,CAAkG,mCAAlG,CAFsB,CAGhCsL,MAAO,oBAHyB,CAIhCxU,QAAS,CACRG,KAAM,EADE,CAGRl6B,OAAQ,CACPqlE,gBAAiB,CAAA,CADV,CAHA,CAMRvsC,IAAK,CACJtB,OAAQlvB,IAAAA,EADJ,CAEJ+jC,MAAO/jC,IAAAA,EAFH,CAGJg9D,YAAah9D,IAAAA,EAHT,CAIJi9D,SAAUj9D,IAAAA,EAJN,CANG,CAJuB,CAiBhCtI,OAAQ,CACPw3B,OAAQlvB,IAAAA,EADD,CAjBwB,CAoBhCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD;AAAuDuX,SAAvD,CACA,KAAA,CAAKmb,MAAL,CAAY,sBAAZ,CAAA,CAAoCt2B,WAApC,CAAgD4D,KAAhD,CAAsD,IAAtD,CAA4DuX,SAA5D,CACK,KAAL,CAAU0d,KAAV,GACC,IADD,CACMA,KADN,CACcr5B,GAAA,CAAIg3B,YAAJ,CAAiBG,QAAjB,CAA0B,IAA1B,CADd,CAC8CkC,KAD9C,CAIA,KAAA,CAAKrjB,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CACZ,OAArB,EAAI,IAAA,CAAKyhB,QAAL,EAAJ,EAAgC,IAAA,CAAKnN,WAAL,CAAiB,UAAjB,CAAhC,EAAgE,IAAA,CAAKgrB,QAAL,EAAhE,EACC,IAAA,CAAKquB,QAAL,CAAc,IAAA,CAAKruB,QAAL,EAAd,CAA8B,kCAA9B,CAAiE,IAAA,CAAKhrB,WAAL,CAAiB,UAAjB,CAAjE,CAA8F,MAA9F,CAEG,KAAA,CAAK+X,OAAL,CAAa,MAAb,CAAJ,GACC,IAAA,CAAKyoB,iBAAL,EAAA,CAAyB90C,EAAzB,CAA4B,iBAA5B,CAA+C,QAAQ,CAACqkB,CAAD,CAAQtS,CAAR,CAAiB,EAAxE,CAGG,IAHH,CAOA,CAHA,IAAA,CAAKoL,QAAL,EAAA,CAAgBnd,EAAhB,CAAmB,YAAnB,CAAiC,QAAQ,EAAG,CAC3C,IAAA,CAAK4tD,yBAAL;AAAiC,IAAA,CAAK7Y,YAAL,EADU,CAA5C,CAEG,IAFH,CAGA,CAAA,IAAA,CAAK53B,QAAL,EAAA,CAAgBnd,EAAhB,CAAmB,MAAnB,CAA2B,QAAQ,CAACqkB,CAAD,CAAQtS,CAAR,CAAiB,CACnD,GAA0D,CAA1D,CAAI/nB,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAf,CAAoBkqB,yBAApB,CAAJ,CAAmDhhE,MAAnD,CAA6D,CAE5D,IAAIosD,EAAO,EACP6U,EAAAA,CAAgB7jE,GAAA,CAAIu9B,KAAJ,CAAUvd,KAAV,CAAgB,IAAhB,CAAqB4jD,yBAArB,CAAgD77C,CAAhD,CAAA,CAAyDlU,MAAzD,CAAgE,QAAQ,CAACoQ,CAAD,CAAO,CAClG,MAAMA,EAAA,CAAKwG,KAAL,EAAN,EAAsBukC,EAAtB,CAIQ,CAAA,CAJR,CACCA,CAAA,CAAK/qC,CAAA,CAAKwG,KAAL,EAAL,CADD,CACoB,CAAA,CAF8E,CAA/E,CAQhB4P,EAAJ,CAAUof,eAAV,CACwB,CADxB,EACKpf,CADL,CACWypC,WADX,GAEEzpC,CAAA,CAAMtd,IAAN,CAAWgnD,MAAX,CAAkBF,CAAlB,CAEA,CADAxpC,CACA,CADM2pC,UACN,CADmBH,CACnB,CADiCjhE,MACjC,CAAAy3B,CAAA,CAAMsI,SAAN,CAAgB,SAAhB,CAA2BtI,CAA3B,CAJF,GAOCA,CAAA,CAAMvQ,WAAN,CAAkB+5C,CAAlB,CAGA,CAFA,IAAA,CAAK/Y,iBAAL,EAAA,CAAyBj0C,MAAzB,CAAgC,IAAhC,CAAqC+sD,yBAArC,CAEA,CADAvpC,CAAA,CAAMsI,SAAN,CAAgB,SAAhB,CAA2BtI,CAA3B,CACA,CAAA,IAAA,CAAKupC,yBAAL,CAAiC,EAVlC,CAX4D,CADV,CAApD,CAyBG,IAzBH,CARD,CAJiC,CAAlC;AAuCG,IAvCH,CAyCA,KAAA,CAAK5tD,EAAL,CAAQ,CACPiuD,aAAc,CACb5iE,GAAIA,QAAQ,CAAC2nC,CAAD,CAAMrT,CAAN,CAAc,CAEtB,IAAA,CAAK+B,WAAL,CAAiB,QAAjB,CAA2B/B,CAAA,CAAOmF,YAAP,EAA3B,CACH,KAAA,CAAKwe,SAAL,CAAe3jB,CAAf,CAHyB,CADb,CAMbuuC,SAAU,GANG,CAObhiE,MAAO,IAPM,CADP,CAAR,CAhD6B,CApBE,CAiFhC8wB,eAAgBA,QAAQ,EAAG,CAC1B,MAAOsD,OAAP,CAAcC,WADY,CAjFK,CAqFhC6N,WAAYA,QAAQ,EAAG,CACtB,MAAO,KAAA,CAAKpR,cAAL,EAAA,CAAsBoR,UAAtB,EADe,CArFS,CAyFhCC,QAASA,QAAQ,CAACF,CAAD,CAAM,CACtB,IAAA,CAAKnR,cAAL,EAAA,CAAsBqR,OAAtB,CAA8BjgC,KAA9B,CAAoC,IAApC,CAA0CuX,SAA1C,CADsB,CAzFS,CA6FhCqwB,eAAgBA,QAAQ,EAAG,CAC1B,MAAO,KAAA,CAAKhZ,cAAL,EAAA,CAAsBgZ,cAAtB,EADmB,CA7FK,CAiGhChJ,cAAeA,QAAQ,EAAG,CACzB,IAAIzM,EAAc,IAAA,CAAKvD,cAAL,EAClBuD,EAAA,CAAYyM,aAAZ,CAA0B5+B,KAA1B,CAAgCmyB,CAAhC,CAA6C5a,SAA7C,CAFyB,CAjGM,CAsGhC+a,UAAWA,QAAQ,CAACv4B,CAAD;AAAS6hC,CAAT,CAAmB,CACjChgC,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAAJ,GACCA,CADD,CACU,CACRkhC,QAASlhC,CADD,CADV,CAKA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB4I,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAAP5xB,CAA8B,IAA9BA,CAAmC,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAAnC5xB,CAA0D,GADvC,CAApB,CAGA,KAAA,CAAKisB,cAAL,EAAA,CAAsB0D,SAAtB,CAAgCv4B,CAAhC,CAAwC6hC,CAAxC,CATqC,CAtGN,CAkHhCuc,kBAAmBA,QAAQ,CAACp+C,CAAD,CAAS6hC,CAAT,CAAmB,CAC7C,IAAA,CAAKhN,cAAL,EAAA,CAAsBupB,iBAAtB,CAAwCp+C,CAAxC,CAAgD6hC,CAAhD,CAD6C,CAlHd,CAsHhCmkC,WAAYA,QAAQ,CAAChmE,CAAD,CAAS,CACxB6B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAAJ,GACCA,CADD,CACU,CAAC8C,KAAM9C,CAAP,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBk7B,MAAO,mBADY,CAEnBtyB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAFY,CAApB,CAIA,KAAA,CAAKyrC,KAAL,CAAWjmE,CAAX,CAR4B,CAtHG,CAiIhCkmE,UAAWA,QAAQ,CAAClmE,CAAD,CAAS,CACvB6B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAAJ,GACCA,CADD,CACU,CAAC8C,KAAM9C,CAAP,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBk7B,MAAO,mBADY,CAEnBtyB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,MAAd,CAFY,CAApB,CAIA,KAAA,CAAKyrC,KAAL,CAAWjmE,CAAX,CAR2B,CAjII;AA4IhCimE,MAAOA,QAAQ,CAACjmE,CAAD,CAAS,CACnB6B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAAJ,GACCA,CADD,CACU,CAAC8C,KAAM9C,CAAP,CADV,CAGA6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CAClBmmE,gBAAiB,GADC,CAElBC,OAAQ,CAAA,CAFU,CAGlB9Z,MAAO,GAHW,CAIlB+Z,OAAQ,IAAA,CAAKr/B,WAAL,EAJU,CAApB,CAMAnlC,IAAA,CAAIokE,KAAJ,CAAUjmE,CAAV,CAVuB,CA5IQ,CA+JhCsmE,gBAAiBA,QAAQ,CAAC9uC,CAAD,CAAS,CACjC,IAAIkB,EAAM,IAAA,CAAK7D,cAAL,EACV,IAAI6D,CAAJ,CAAS,CACR,IAAI6tC,EAAe7tC,CAAA,CAAI8tC,eAAJ,EACnB,IAAkB,OAAlB,EAAID,CAAJ,EAA2C,QAA3C,EAA6BA,CAA7B,CAAsD,MAAO,CAAA,CAFrD,CAIJ/uC,CAAL,GACK,IAGJ,CAHSpL,SAGT,GAFCoL,CAED,CAFU,IAAA,CAAKpL,SAAL,EAEV,EAAI,CAACoL,CAAL,EAAekB,CAAf,CAAmBtM,SAAnB,GACCoL,CADD,CACUkB,CAAA,CAAItM,SAAJ,EADV,CAJD,CAQA,OAAIoL,EAAJ,CACsC,gBADtC,EACQA,CAAA,CAAOsqB,mBAAP,EADR,EACwF,MADxF,EAC0DtqB,CAAA,CAAOsqB,mBAAP,EAD1D,CAGO,CAAA,CAjB0B,CA/JF,CAAjC,C,CCCAjgD,GAAA,CAAIk2B,MAAJ,CAAW,6BAAX,CAA0C,CACzCyI,OAAQ,eADiC,CAEzC+N,MAAO,uBAFkC,CAGzC5V,OAAQ,CAAC,oBAAD,CAHiC,CAIzCoB,QAAS,CACRG,KAAM,EADE,CAJgC,CAQzC73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CACvB,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF0B,CARW,CAYzC2xB,cAAeA,QAAQ,EAAG,CACtB,IAAA,CAAKpO,UAAL,CAAgBvjB,SAAhB,CADsB,CAZe,CAezCxa,UAAW,CACVyjE,UAAWA,QAAQ,CAACxiC,CAAD,CAAQyiC,CAAR,CAAgB,CAClC,IAAA,CAAKljC,KAAL,CAAa,EACb,KAAA,CAAK2B,SAAL,EAAA,CAAiB3B,KAAjB,CAAyB,EACzB,KAAA,CAAKvX,KAAL,CAAW,UAAX,CAAA,CAAuB5R,OAAvB,CAA+B,QAAQ,CAACu0B,CAAD,CAAW,CACjDA,CAAA,CAAS0jB,OAAT,EADiD,CAAlD,CAGA,KAAA,CAAKqU,OAAL,CAAaD,CAAb,CAAoBljC,KAApB,CACA,KAAA,CAAK3O,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,aAApC;AAAmD,IAAnD,CAPkC,CADzB,CAUV5hC,YAAaA,QAAQ,CAACghC,CAAD,CAAQ,CAC5B,IAAA,CAAKO,SAAL,CAAe,WAAf,CAA4B,IAA5B,CAAkC,IAAA,CAAKL,YAAL,EAAlC,CAD4B,CAVnB,CAf8B,CA6BzCJ,iBAAkBA,QAAQ,CAACE,CAAD,CAAQ,CACjC,IAAI2iC,EAAM3iC,CAAA,CAAME,YAAN,EACNyiC,EAAJ,CAAQ7iC,gBAAR,EACC6iC,CAAA,CAAI7iC,gBAAJ,CAAqB99B,KAArB,CAA2B2gE,CAA3B,CAAgCppD,SAAhC,CAHgC,CA7BO,CAA1C,C,CCDA3b,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCyI,OAAQ,gBADyB,CAE9B7H,OAAQ,CAAC,oBAAD,CAFsB,CAG9B4V,MAAO,cAHuB,CAIjCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJ36B,MAAO3jB,IAAAA,EAFH,CAHG,CAJwB,CAajCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CACvB,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACA3b,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,EAAsB,EAAtB,CAA0B,CACzBglC,aAAc,EADW,CAEzB6hC,SAAU,CAAA,CAFe,CAGzBC,YAAa,CAAA,CAHY,CAIzBvB,SAAUj9D,IAAAA,EAJe,CAA1B,CAMA,KAAA,CAAKqwB,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0D,CAACjG,CAAD,CAA1D,CARuB,CAbG,CAwBjC6mE,SAAU,CAAA,CAxBuB,CA0B9B13B,cAAeA,QAAQ,EAAE,CAExB,IAAIpgB,EAAK,IACJ,KAAL,CAAUmN,KAAV,GACC,IAQA,CARKA,KAQL,CARa,IAAIr6B,GAAJ,CAAQu4B,MAAR,CAAe,gCAAf,CAAiD,CAC7Dyc,MAAO,CACNC,YAAa,CACZiwB,MAAO,IAAPA,CAAYA,KADA,CADP,CADsD;AAM7D9sB,YAAa,IANgD,CAAjD,CAQb,CAAA,IAAA,CAAK/d,KAAL,CAAWyR,QAAX,EAAA,CAAsB91B,EAAtB,CAAyB,WAAzB,CAAsC,QAAQ,CAACg/B,CAAD,CAAQ5F,CAAR,CAAiBuF,CAAjB,CAA4BwwB,CAA5B,CAAmC,CAChFj4C,CAAA,CAAGqvB,iBAAH,CAAqB,yBAArB,CAA+CrvB,CAA/C,CAAkDg4C,KAAlD,CAAyDllC,QAAzD,CADgF,CAAjF,CATD,CAcGhgC,IAAA,CAAIo/B,OAAJ,CAAY,IAAZ,CAAkB,CACjBgmC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CADM,CAEjB0sC,YAAa,CAAA,CAFI,CAGjBC,QAAS,eAHQ,CAIjB3W,QAAS,CACC,CAAEX,SAAUA,QAAQ,CAACnuD,CAAD,CAAQ0lE,CAAR,CAAkBt7D,CAAlB,CAA0B,CAAC,MAAO,GAAP,CAAWA,CAAA,CAAO0pC,mBAAP,EAAX,CAAwC,IAAxC,CAA6C1pC,CAAA,CAAOwpC,QAAP,EAA9C,CAA9C,CAAgHjZ,KAAM,CAAtH,CADD,CAJQ,CAAlB,CAQA,KAAA,CAAK0E,UAAL,EAEI,KAAJ,CAASvJ,MAAT,EACC,IAAA,CAAK6vC,cAAL,CAAoB,IAApB,CAAyB7vC,MAAzB,CAGD,KAAA,CAAK3f,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,IAAA,CAAK6vC,cAAL,CAAoB7vC,CAApB,CAD6C,CAA9C,CAEG,IAFH,CAIA,KAAA,CAAK3f,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACrC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB;AAA0BtN,CAA1B,CAEA,KAAA,CAAKiQ,KAAL,CAAWqa,IAAX,CAAgB,CACftjB,OAAQ,IAAA,CAAKgG,YAAL,EADO,CAAhB,CAHqC,CAAtC,CAnCqB,CA1BK,CAsE9BouC,eAAgBA,QAAQ,CAAC7vC,CAAD,CAAS,CAE5B,IAAA,CAAKxC,QAAL,EAAJ,GACI,IAAA,CAAKA,QAAL,EAAA,CAAgBmmB,SAAhB,CAA0B3jB,CAA1B,CACA,CAAA,IAAA,CAAKxC,QAAL,EAAA,CAAgBuhB,IAAhB,EAFJ,CAFgC,CAtEH,CAAlC,C,CCCA10C,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCyI,OAAQ,iBAD0B,CAElC7H,OAAQ,CAAC,oBAAD,CAF0B,CAGlC4V,MAAO,gBAH2B,CAI/BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAOJ8tB,SAAU,MAPN,CASJ16C,SAAU,CATN,CAWJwhC,MAAO,GAXH,CAaJr+B,MAAO,CAAA,CAbH,CAeJi4D,MAAO,EAfH,CAHG,CAsBRpsC,MAAO,mBAtBC,CAJsB,CA4BlCl7B,OAAQ,CACJunE,QAAS,CAAC1kE,MAAO,gBAAR,CADL,CAEJwM,MAAO,CAAA,CAFH,CA5B0B,CAkC/BhN,YAAaA,QAAQ,EAAG,CAEvB,IAAA,CAAKs2B,MAAL,CAAY,0BAAZ,CAAA,CAAwCt2B,WAAxC,CAAoD4D,KAApD,CAA0D,IAA1D,CAAgEuX,SAAhE,CACA3b,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAElB13B,KAAM,qDAFY,CAGf8yD,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH;AAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACV74B,MAAO,wBADG,CAEVknD,aAAc,CAAA,CAFJ,CAAD,CAGR,CACVlnD,MAAO,QADG,CAEVg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CAFF,CAGVsB,WAAY,OAHF,CAIVC,WAAY,EAJF,CAKVt5B,MAAO,GALG,CAMV4kC,UAAW,CAND,CAOVF,SAAU,CAPA,CAQVC,SAAU,EARA,CASV1lC,MAAO,EATG,CAUVsB,UAAW,CACE6vD,OAAQA,QAAQ,CAAClf,CAAD,CAAM,CACrBA,CAAA,CAAI5L,QAAJ,CAAalb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAb,CACI,KAAJ,CAASq7C,OAAT,EAAmB,IAAA,CAAKA,OAAL,CAAaC,SAAb,CAAuB9zB,CAAA,CAAI1K,QAAJ,EAAvB,CACnB,KAAA,CAAK74B,QAAL,CAAcujC,CAAA,CAAI1K,QAAJ,EAAd,CACHpnC,IAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQuxB,CAAA,CAAIrO,KAAJ,EADwB,CAEzB9jB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAFmB,CAAjC,CAJwB,CADxB,CAWEktC,cAAeA,QAAQ,CAAC/zB,CAAD,CAAM,CAC5B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD4B,CAX/B;AAcKuC,eAAgBA,QAAQ,CAAC8L,CAAD,CAAMljB,CAAN,CAAW,CAClC,IAAA,CAAK8I,WAAL,CAAiB,OAAjB,CAA0B9I,CAA1B,CACC,KAAJ,CAAS+2C,OAAT,EAAmB,IAAA,CAAKA,OAAL,CAAaC,SAAb,CAAuBh3C,CAAvB,CAFkB,CAdxC,CAkBK1sB,MAAO,IAlBZ,CAVD,CAHQ,CAiCjB,CACWlB,MAAO,UADlB,CAEWyjC,SAAU,IAAA,CAAK9L,QAAL,CAAc,OAAd,CAFrB,CAGWx3B,UAAW,CACV6vD,OAAQA,QAAQ,CAAClf,CAAD,CAAM,CACrBA,CAAA,CAAI5L,QAAJ,CAAyC,CAAA,CAAzC,GAAa,IAAA,CAAK5b,WAAL,CAAiB,OAAjB,CAAb,EAA6E,MAA7E,EAAkD,IAAA,CAAKA,WAAL,CAAiB,OAAjB,CAAlD,CACA,KAAA,CAAK/b,QAAL,CAAcujC,CAAA,CAAI1K,QAAJ,EAAd,CACHpnC,IAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQuxB,CAAA,CAAIrO,KAAJ,EADwB,CAEzB9jB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAFmB,CAAjC,CAHwB,CADZ,CAUVktC,cAAeA,QAAQ,CAAC/zB,CAAD,CAAM,CAC5B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD4B,CAVnB,CAaPmC,OAAQA,QAAQ,CAACkM,CAAD,CAAMljB,CAAN,CAAW,CAC1B,IAAA,CAAK8I,WAAL,CAAiB,OAAjB;AAA0B9I,CAA1B,CACA,KAAA,CAAKrgB,QAAL,CAAcqgB,CAAd,CAF0B,CAbpB,CAiBP1sB,MAAO,IAjBA,CAHtB,CAjCiB,CAuDR,CAAClB,MAAO,QAAR,CAvDQ,CAuDW,CAC1BA,MAAO,QADmB,CAE1BC,KAAM,IAAA,CAAK03B,QAAL,CAAc,YAAd,CAFoB,CAvDX,CAJH,CAAD,CAHE,CAAhB,CAoEG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAChC,IAAA,CAAKwP,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CACb,KAAIlY,EAAK,IACTltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK,IAAA,CAAKC,UAAL,EAALD,CAAuB,8CADP,CAAjB,CAAA,CAEG9N,IAFH,CAEQ,QAAQ,CAACtZ,CAAD,CAAO,CACtB,IAAIvd,EAAS0tB,CAAA,CAAGiY,WAAH,EAAA,CAAiBziC,GAAjB,CAAqB0iC,aAArB,CAAmC,QAAnC,CACblY,EAAA,CAAGy4C,OAAH,CAAa,IAAIG,UAAJ,CAAetmE,CAAf,CAAuBud,CAAvB,CAA4BojB,YAA5B,CACbjT,EAAA,CAAGy4C,OAAH,CAAWrzD,IAAX,CAAgB4a,CAAA,CAAGiY,WAAH,EAAA,CAAiBtkC,QAAjB,EAAhB;AAA4CqsB,CAAA,CAAGiY,WAAH,EAAA,CAAiBxkC,SAAjB,EAA5C,CACAusB,EAAA,CAAGy4C,OAAH,CAAWC,SAAX,CAAqB14C,CAAA,CAAG5C,WAAH,CAAe,OAAf,CAArB,CACA4C,EAAA,CAAGy4C,OAAH,CAAWI,cAAX,CAA0B74C,CAA1B,CACAA,EAAA,CAAGy4C,OAAH,CAAWK,MAAX,EACA94C,EAAA,CAAG+4C,YAAH,EAPsB,CAFvB,CAH6C,CAA9C,CAcG,IAdH,CAgBA,KAAA,CAAKjwD,EAAL,CAAQ,QAAR,CAAkB,QAAQ,EAAG,CACxB,IAAJ,CAAS2vD,OAAT,EACC,IAAA,CAAKA,OAAL,CAAarzD,IAAb,CAAkB,IAAA,CAAKrH,IAAL,CAAUpK,QAAV,EAAlB,CAAuC,IAAA,CAAKoK,IAAL,CAAUtK,SAAV,EAAvC,CAF2B,CAA7B,CAMA,KAAA,CAAKqV,EAAL,CAAQ,kBAAR,CAA4B,QAAQ,CAACgzB,CAAD,CAAMzlC,CAAN,CAAW,CAC9C,IAAA,CAAKm0B,WAAL,CAAiB,UAAjB,CAA6B,IAAA,CAAKnN,SAAL,EAAA,CAAiBC,WAAjB,CAA6BjnB,CAA7B,CAAA,CAAkC2xC,QAAlC,EAA7B,CACA,KAAA,CAAK+wB,YAAL,EAF8C,CAA/C,CAhGuB,CAlCO,CAwI/B13D,SAAUA,QAAQ,CAACqgB,CAAD,CAAM,CACnB,IAAJ,CAASpgB,QAAT,GAAoB,IAApB,CAAyBA,QAAzB,CAAkCC,IAAlC,CAAuC5O,KAAvC,CAA6C+uB,CAAA,CAAM,CAAN,CAAU,CAAvD,CACA,KAAA,CAAKsQ,UAAL,CAAgBvjB,SAAhB,CAFuB,CAxIO,CA6I/BuqD,kBAAmBA,QAAQ,CAACtmE,CAAD,CAAO,CAC7B,IAAJ,CAASyP,UAAT;CAAsB,IAAtB,CAA2BA,UAA3B,CAAsCW,SAAtC,CAAgDnQ,KAAhD,CAAwD,IAAA,CAAKwE,KAAL,CAAWzE,CAAX,CAAA,CAAmBorB,QAAA,CAA2C,GAA3C,EAAU,IAAA,CAAK3mB,KAAL,CAAWzE,CAAX,CAAV,CAA2B,IAA3B,CAAgCkG,OAAhC,GAAmD,IAAnD,CAAwDnG,OAAxD,CAAgE,IAAhE,CAAqEmG,OAArE,EAAnB,CAAoG,CAA5J,CADiC,CA7IH,CAiJ/BqgE,kBAAmBA,QAAQ,EAAG,CACzB,IAAJ,CAAS33D,QAAT,GAAoB,IAApB,CAAyBA,QAAzB,CAAkCC,IAAlC,CAAuC5O,KAAvC,CAA+C,CAA/C,CACA,KAAI0G,EAAQykB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,UAAjB,CAAT,CACR/jB,EAAJ,CAAU,CAAV,CAAY,IAAA,CAAKgkB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAZ,GACC,IAAA,CAAK8B,WAAL,CAAiB,UAAjB,CAA6BnxB,CAA7B,CAAmC,CAAnC,CACA,CAAA,IAAA,CAAK0/D,YAAL,EAFD,CAH6B,CAjJC,CA0J/BA,aAAcA,QAAQ,EAAG,CAAA,IACpB/4C,EAAK,IADe,CACT3pB,EAAM,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BQ,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,UAAjB,CAAT,CAA7B,CAEhB,KAAA,CAAKoQ,EAAL,CAAQ,UAAR,CAAL,EACI,IAAA,CAAKipC,QAAL,CAAc,IAAA,CAAKhrC,QAAL,CAAc,OAAd,CAAd;AAAuC,0BAAvC,CAAkEp1B,CAAA,CAAI4xC,YAAJ,EAAlE,CAAqF,SAArF,CAGJ5xC,EAAA,CAAIgxC,iBAAJ,CAAsBv0C,GAAA,CAAIoE,KAAJ,CAAU,IAAA,CAAKgzB,YAAL,CAAkB,CAAC,UAAD,CAAlB,CAAV,CAA2C,CAChEyU,MAAO,GADyD,CAA3C,CAAtB,CAAA,CAEIxV,IAFJ,CAES,QAAQ,CAACme,CAAD,CAAgB,CAChCtnB,CAAA,CAAG7oB,KAAH,CAAW,EACXmwC,EAAA,CAAcruC,IAAd,CAAmB,QAAQ,CAACigE,CAAD,CAAe,CACzCl5C,CAAA,CAAG7oB,KAAH,CAAS+hE,CAAA,CAAaxyB,OAAb,EAAT,CAAA,CAAmCwyB,CAAA,CAAatyB,UAAb,EADM,CAA1C,CAGI9Y,EAAAA,CAAS1nB,MAAA,CAAOC,IAAP,CAAY2Z,CAAZ,CAAe7oB,KAAf,CAAA,CAAsB4P,GAAtB,CAA0B,QAAQ,CAACI,CAAD,CAAG,CAAC,MAAO6Y,EAAA,CAAG7oB,KAAH,CAASgQ,CAAT,CAAR,CAArC,CACb6Y,EAAA,CAAGpnB,OAAH,CAAa9F,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcopB,CAAd,CACb9N,EAAA,CAAGvtB,OAAH,CAAaK,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAc80B,CAAd,CACb9N,EAAA,CAAG3C,SAAH,EAAA,CAAesqB,UAAf,CAA0B,CAACwxB,UAAW/yD,MAAA,CAAOC,IAAP,CAAY2Z,CAAZ,CAAe7oB,KAAf,CAAZ,CAAmCqyC,SAAU,CAAA,CAA7C,CAAmD7K,MAAO,CAA1D,CAA6DxhC,SAAU6iB,CAAA,CAAG5C,WAAH,CAAe,UAAf,CAAvE,CAA1B,CAAA,CAA8H+L,IAA9H,CAAmI,QAAQ,CAACye,CAAD,CAAS,CACnJ,IAAIiM,EAAQ,EACTjM,EAAA,CAAO3uC,IAAP,CAAY,QAAQ,CAACqd,CAAD,CAAQ,CAC9Bu9B,CAAA,CAAM/7C,IAAN,CAAWwe,CAAA,CAAMowB,OAAN,EAAA,CAAgBvxB,WAAhB,EAAX,CAD8B,CAA5B,CAGA6K;CAAA,CAAGy4C,OAAH,CAAWW,QAAX,CAAoB,CAAC/iE,CAAA,CAAI+xC,QAAJ,EAAD,CAAgByL,CAAA,CAAMv3C,IAAN,CAAW,GAAX,CAAhB,CAApB,CACA0jB,EAAA,CAAGy4C,OAAH,CAAWY,IAAX,EACAr5C,EAAA,CAAG7d,UAAH,CAAcW,SAAd,CAAwBnQ,KAAxB,CAAgC,GAChCqtB,EAAA,CAAG1e,QAAH,CAAYC,IAAZ,CAAiB5O,KAAjB,CAAyBqtB,CAAA,CAAGs5C,QAAH,EAAA,CAAgB,CAAhB,CAAoB,CARmG,CAApJ,CARgC,CAFjC,CAPwB,CA1JM,CAwL/Bl5B,cAAeA,QAAQ,EAAG,CAE5BttC,GAAA,CAAIymE,MAAJ,CAAWC,UAAX,CAAsB,IAAA,CAAKtiC,UAAL,EAAtB,CAAwC,0CAAxC,CAEA,KAAI32B,EAAW,KAAK+B,MAAL,CAAYC,YAAZ,EAA4BD,MAA5B,CAAmCE,kBAAnC,CAEf,KAAA,CAAKL,UAAL,CAAkB5B,CAAA,CAASmC,gBAAT,EAClB,KAAA,CAAKpB,QAAL,CAAgBf,CAAA,CAASoC,UAAT,EAChB,KAAA,CAAKR,UAAL,CAAgBS,OAAhB,CAAwB,IAAxB,CAA6BtB,QAA7B,CACA,KAAA,CAAKA,QAAL,CAAcsB,OAAd,CAAsBrC,CAAtB,CAA+BsC,WAA/B,CACA,KAAA,CAAKV,UAAL,CAAgBW,SAAhB,CAA0BnQ,KAA1B,CAAkC,CAClC,KAAA,CAAKwP,UAAL,CAAgBa,KAAhB,EACA;IAAA,CAAK1B,QAAL,CAAcC,IAAd,CAAmB5O,KAAnB,CAA2B,CAExB,KAAA,CAAKq/B,UAAL,CAAgBvjB,SAAhB,CAdyB,CAxLK,CAAnC,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCyI,OAAQ,iBAD8B,CAEtC7H,OAAQ,CAAC,oBAAD,CAF8B,CAGtC4V,MAAO,oBAH+B,CAInCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAMJzyB,KAAM,EANF,CAYJ4lB,MAAO,IAZH,CAoBJ26B,SAAU,MApBN,CA0BJ9gD,MAAOwC,IAAAA,EA1BH,CAgCJ4D,SAAU5D,IAAAA,EAhCN,CAsCJkgE,QAAS,EAtCL,CAHG,CA2CRttC,MAAO,mBA3CC,CAJ0B,CAiDtCl7B,OAAQ,CACPyoE,YAAangE,IAAAA,EADN,CAEPwI,UAAWxI,IAAAA,EAFJ,CAGPogE,aAAcpgE,IAAAA,EAHP,CAIPqgE,aAAcrgE,IAAAA,EAJP,CAKJi/D,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CAAuD,CAACA,MAAO,oBAAR,CAAvD,CALL,CAjD8B,CAyDtC+lE,QAAS,IAAI/mE,GAAJ,CAAQ4gD,SAAR,CACR,eADQ,CAEP,kGAFO;AAGR,QAHQ,CAzD6B,CA+DnCpgD,YAAaA,QAAQ,EAAG,CACpB,IAAA,CAAK0+B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,IAAA,CAAKqxC,eAAL,CAAqBrxC,CAAA,CAAO8e,gBAAP,CAAwB,CAC5CO,MAAO,CACNC,YAAa,CACfiF,kBAAmB,KADJ,CAEfkmB,cAAe,CAAA,CAFA,CADP,CADqC,CAO/Cj/D,UAAW,CACHuzC,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiByyB,CAAjB,CAA6BkrB,CAA7B,CAAsC,CACpD39C,CAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CAChC,IAAI2B,EAAW,IAAA,CAAKq7D,YAAL,CAAkBh9D,CAAlB,CAAf,CACIhG,EAAQgG,CAAA,CAAO9F,GAAP,CAAW,OAAX,CACRvE,EAAAA,CAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CACX,KAAI+iE,EAAU,EACdA,EAAA,CAAQtnE,CAAR,CAAA,CAAgBgM,CAChB,KAAA,CAAKu7D,cAAL,EAAA,CAAsBpjE,aAAtB,CAAoCmjE,CAApC,CAA6CjjE,CAA7C,CANgC,CAAjC,CAOG,IAPH,CAQA,KAAA,CAAKkjE,cAAL,EAAA,CAAsB/kE,mBAAtB,EAToD,CADjD,CAYPF,MAAO,IAZA,CAPoC,CAAxB,CAArB,CAuBI;IAAA,CAAKymC,SAAL,EAAJ,EAAwB,IAAA,CAAKw+B,cAAL,EAAxB,EACC,IAAA,CAAKC,QAAL,EAzB4C,CAA9C,CA2BG,IA3BH,CA6BG,KAAA,CAAKpxD,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CAC1B,IAAA,CAAKuU,SAAL,EAAJ,EACLvqB,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,IAAnB,CAAwB4oB,QAAxB,CAAkC,GAAlC,CAAuC,IAAvC,CAFmC,CAA/B,CAIA,IAJA,CAMA,KAAA,CAAKpxD,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CAC1B3jB,IAAAA,EAAd,GAAI2jB,CAAJ,EAAoC,EAApC,EAA2BA,CAA3B,EACC,IAAA,CAAKk9C,oBAAL,CAA0Bl9C,CAA1B,CAFuC,CAAtC,CAIA,IAJA,CAMA,KAAA,CAAKpU,EAAL,CAAQ,mBAAR,CAA6B,QAAQ,CAACgzB,CAAD,CAAMu+B,CAAN,CAAc,CAClD,IAAA,CAAK7vC,WAAL,CAAiB,OAAjB,CAA0B6vC,CAA1B,CACA,KAAA,CAAKJ,cAAL,EAAA,CAAsBpnE,KAAtB,CAA4BoG,IAA5B,CAAiC,QAAQ,CAACpB,CAAD,CAAI,CAC5CA,CAAA,CAAEmD,MAAF,CAAoC,EAApC,GAAWq/D,CAAA,CAAOvgE,OAAP,CAAejC,CAAf,CAAiBjE,EAAjB,CADiC,CAA7C,CAGA,KAAA,CAAKqmE,cAAL,EAAA,CAAsB9jE,SAAtB,EALkD,CAAnD,CAMG,IANH,CAQH,KAAA,CAAK2S,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAC5C,GAAI2kC,CAAJ,GAAY,IAAZ,CAAkB,CACjB,IAAIo4B,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACrBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ;AAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHC,CAA7B,CAKA,KAAA,CAAK0zB,oBAAL,CAA0BlG,CAA1B,CAPiB,CAD0B,CAA7C,CAUA,IAVA,CAYA,KAAA,CAAKprD,EAAL,CAAQ,sBAAR,CAAgC,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CACpD,IAAI+8D,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBA,CAAA,CAAKg0C,OAAL,EAAJ,EAAqBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CADO,CAA7B,CAGA,KAAA,CAAK0zB,oBAAL,CAA0BlG,CAA1B,CALoD,CAArD,CAMG,IANH,CAQA,KAAA,CAAK/yC,IAAL,CAAU,cAAV,CAAA,CAA0B6X,QAA1B,CAAmClb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,MAAjB,CAAT,CAAnC,CAzEuB,CA/DW,CA2InCgjB,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKk6B,YAAL,CAAkBxnE,GAAA,CAAIu4B,MAAJ,CAAW,qBAAX,CAAkC,CAC7CC,OAAQ,CAAC,MAAD,CAAS,OAAT,CADqC,CAE7Cr3B,UAAW,CACVuzC,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiByyB,CAAjB,CAA6BkrB,CAA7B,CAAsC,CAC/C+B,CAAAA,CAAY,IAAA,CAAKp5C,IAAL,CAAU,YAAV,CAChB,KAAS1rB,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBolB,CAApB,CAA4BnlB,MAA5B,CAAoCD,CAAA,EAApC,CAEC8kE,CAAA,CAAU5wD,MAAV,CADQkR,CAAA4U,CAAQh6B,CAARg6B,CACR;AAAoB,CAAA,CAApB,CAJkD,CAD1C,CAQVz6B,MAAO,IARG,CAFkC,CAAlC,CAAlB,CAcAlC,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfo7B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAAD,CAEL,CACJ2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CADF,CAEbU,MAAO,mBAFM,CAGJC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKjL,IAAL,CAAU,YAAV,CAAA,CAAwBy8B,iBAAxB,EAAA,CAA4CqE,WAA5C,CAAwD,CAAA,CAAxD,CACA,KAAA,CAAKuY,YAAL,EAAA,CAAoBr7B,SAApB,EACA,KAAA,CAAKxf,YAAL,CAAkB,CAACzC,MAAO,IAAR,CAAlB,CACA,KAAA,CAAK+8C,cAAL,EAAA,CAAsB/6D,cAAtB,EACA,KAAA,CAAK+6D,cAAL,EAAA,CAAsB9jE,SAAtB,EALmB,CAHhB,CAUJnB,MAAO,IAVH,CAFK,CAaX,CACElB,MAAO,wBADT,CAbW,CAeX,CACEA,MAAO,QADT;AAEE0kC,OAAQ,aAFV,CAGE1L,WAAY,IAAA,CAAKrB,QAAL,CAAc,aAAd,CAHd,CAIEsB,WAAY,OAJd,CAKEC,WAAY,EALd,CAMEt5B,MAAO,GANT,CAOE4kC,UAAW,EAPb,CAQEF,SAAU,EARZ,CASEC,SAAU,GATZ,CAUEpkC,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACroB,KAAMqyD,CAAP,CAAlB,CACA,KAAA,CAAKsQ,cAAL,EAAA,CAAsB9mE,aAAtB,CAAsCw2D,CACtC,KAAA,CAAK8Q,eAAL,EAH0C,CADjC,CAMVzlE,MAAO,IANG,CAVb,CAfW,CAiCR,CACDlB,MAAO,UADN,CAEDyjC,SAAU,IAAA,CAAK9L,QAAL,CAAc,eAAd,CAFT,CAGDivC,cAAe,QAHd,CAIDhjC,QAAS,CAAA,CAJR,CAKDtL,QAASA,QAAQ,CAACuuC,CAAD,CAAWjjC,CAAX,CAAoB,CACpC,IAAA,CAAKuiC,cAAL,EAAA,CAAsBzoE,wBAAtB,CAAiDkmC,CACjD,KAAA,CAAKuiC,cAAL,EAAA,CAAsB7nE,kBAAtB,CAA2C,EAC3C,KAAA,CAAK6nE,cAAL,EAAA,CAAsB/jE,eAAtB,EACN;IAAA,CAAK+jE,cAAL,EAAA,CAAsB9jE,SAAtB,EAJ0C,CALpC,CAWDnB,MAAO,IAXN,CAjCQ,CAJH,CAAD,CAFE,CAsDThB,OAAQ,CAAA,CAtDC,CAuDT8gD,OAAQ,KAvDC,CAwDTnoB,MAAO,CACNmoB,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CADF,CAKNd,SAAU,CAACzoD,OAAQ,CAAA,CAAT,CALJ,CAMN24B,MAAO,CAAC,CACPn5B,OAAQ,EADD,CAEPglC,OAAQ,WAFD,CAGP1kC,MAAO,UAHA,CAIPq5B,MAAO,IAAA,CAAKqtC,YAAL,EAJA,CAKPzhB,IAAK,IAALA,CAAU8gB,OALH,CAMP9b,aAAc,UANP,CAOPC,YAAa,MAPN,CAQPC,gBAAiB,UARV,CASPC,eAAgB,CACf/Z,KAAM,QADS,CATT,CAaPy2B,SAAU,EAbH,CAcP3mE,UAAW,CACV4mE,gBAAiBA,QAAQ,CAACnd,CAAD,CAAK3gD,CAAL,CAAaga,CAAb,CAAmB1d,CAAnB,CAA0BoE,CAA1B,CAAiC8vC,CAAjC,CAAuC,CAC/D9vC,CAAA,CAAMkzD,cAAN,EACAlzD,EAAA,CAAMq9D,eAAN,EACApd,EAAA,CAAGjoB,SAAH,CAAa,iBAAb,CAAgCioB,CAAhC,CAAoC3gD,CAApC,CAA4Cga,CAA5C,CAAkD1d,CAAlD,CAAyDoE,CAAzD,CAAgE8vC,CAAhE,CACA,OAAO,CAAA,CAJwD,CADtD,CAOVwtB,qBAAsBA,QAAQ,EAAG,CAEhCt9D,KAAA,CAAMkzD,cAAN,EACAlzD;KAAA,CAAMq9D,eAAN,EACA,OAAO,CAAA,CAJyB,CAPvB,CAaV3c,gBAAiBA,QAAQ,CAACyI,CAAD,CAAWoU,CAAX,CAAuB,CAC/C,IAAItd,EAAK,IAAA,CAAKv8B,IAAL,CAAU,YAAV,CAAT,CACIhqB,EAAQ,EAEZumD,EAAA,CAAGz3B,QAAH,EAAA,CAAchtB,IAAd,CAAmB,QAAQ,CAACw2B,CAAD,CAAI,CACA,EAA9B,GAAIurC,CAAA,CAAWlhE,OAAX,CAAmB21B,CAAnB,CAAJ,EACCt4B,CAAA,CAAMW,IAAN,CAAW23B,CAAA,CAAEx4B,GAAF,CAAM,MAAN,CAAX,CACA,CAAAnE,GAAA,CAAI8C,GAAJ,CAAQ8nD,CAAA,CAAGud,eAAH,CAAmBxrC,CAAnB,CAAR,CAAA,CAA+ByrC,SAA/B,CAAyC,YAAzC,CAAA,CAAuDC,MAAvD,CAA8D,UAA9D,CAFD,EAICroE,GAAA,CAAI8C,GAAJ,CAAQ8nD,CAAA,CAAGud,eAAH,CAAmBxrC,CAAnB,CAAR,CAAA,CAA+ByrC,SAA/B,CAAyC,UAAzC,CAAA,CAAqDC,MAArD,CAA4D,YAA5D,CAL6B,CAA/B,CASA,KAAK9hE,IAAIA,CAAT,GAAkB,KAAA,CAAK4gE,cAAL,EAAlB,CAAwC7nE,kBAAxC,CAA4D,CACvDgpE,CAAAA,CAAU,IAAA,CAAKnB,cAAL,EAAA,CAAsB7nE,kBAAtB,CAAyCiH,CAAzC,CACd,KAAK3G,IAAIA,CAAT,GAAiB0oE,EAAjB,CAC4B,EAA3B,EAAIjkE,CAAA,CAAM2C,OAAN,CAAcpH,CAAd,CAAJ,EACC,OAAO,IAAA,CAAKunE,cAAL,EAAA,CAAsB7nE,kBAAtB,CAAyCiH,CAAzC,CAAA,CAAgD3G,CAAhD,CAJkD,CAS5D,IAAA,CAAKunE,cAAL,EAAA,CAAsB/mE,WAAtB;AAAoCiE,CACpC,KAAA,CAAK8iE,cAAL,EAAA,CAAsB/jE,eAAtB,EACA,KAAA,CAAK+jE,cAAL,EAAA,CAAsB9jE,SAAtB,EAxB+C,CAbtC,CAuCVklE,gBAAiBA,QAAQ,CAAC3d,CAAD,CAAK3gD,CAAL,CAAaxH,CAAb,CAAiB8D,CAAjB,CAAwBoE,CAAxB,CAA+B,CACvDA,CAAA,CAAMkzD,cAAN,EACAlzD,EAAA,CAAMq9D,eAAN,EACA,KAAIQ,EAAa5d,CAAA,CAAG4d,UAAH,CAAc/lE,CAAd,CA4BjB,EA3BWo/B,IAAI7hC,GAAJ6hC,CAAQA,IAARA,CAAamL,IAAbnL,CAAkB,CAC5B4mC,SAAU,CAAA,CADkB,CAE5B5uC,MAAO,CAAC,CACPla,KAAM6oD,CAAA,CAAa,IAAA,CAAK7vC,QAAL,CAAc,UAAd,CAAb,CAAyC,IAAA,CAAKA,QAAL,CAAc,UAAd,CADxC,CAEPW,QAASA,QAAQ,EAAG,CACfkvC,CAAJ,CACC5d,CAAA,CAAG8d,QAAH,CAAYniE,CAAZ,CADD,CAGCqkD,CAAA,CAAG/zC,MAAH,CAAUtQ,CAAV,CAAiB,CAAA,CAAjB,CAJkB,CAFb,CASPrE,MAAO,IATA,CAAD,CAUL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnBsxB,CAAA,CAAG8d,QAAH,CAAYniE,CAAZ,CACA,KAAI3G,EAAO,IAAA,CAAK8nE,YAAL,EAAA,CAAoB7tB,KAApB,CAA0BtzC,CAA1B,CAAA,CAAiCpC,GAAjC,CAAqC,MAArC,CACX,KAAA,CAAKujE,YAAL,EAAA,CAAoBj0C,QAApB,CAA6BltB,CAA7B,CACAqkD,EAAA,CAAGr3B,OAAH,EAEA,KAAA,CAAK4zC,cAAL,EAAA,CAAsB96D,UAAtB,CAAiCzM,CAAjC,CACA;IAAA,CAAKunE,cAAL,EAAA,CAAsB/jE,eAAtB,EACA,KAAA,CAAK+jE,cAAL,EAAA,CAAsB9jE,SAAtB,EARmB,CAFnB,CAYDnB,MAAO,IAZN,CAVK,CAFqB,CAAlB2/B,CA2BX,EAAKoL,MAAL,CAAYtiC,CAAA,CAAMg+D,KAAN,EAAZ,CA/BuD,CAvC9C,CAwEVzmE,MAAO,IAxEG,CAdJ,CAAD,CAwFL,CACDs4B,KAAM,CADL,CAEDx5B,MAAO,WAFN,CAGD4nE,OAAQ,KAHP,CAIDljC,OAAQ,cAJP,CAKDsc,OAAQ,KALP,CAMD6mB,UAAW,MANV,CAODC,UAAW,QAPV,CAxFK,CAND,CAuGN3nE,UAAW,CACV6vD,OAAQA,QAAQ,CAAC+X,CAAD,CAAY,CACvBC,CAAAA,CAAe,IAAA,CAAK36C,IAAL,CAAU,eAAV,CAChB,KAAA,CAAK46C,cAAL,CAAoB,IAAI/qE,WAAJ,CAAgB,CACnCE,UAAW4qE,CADwB,CAEnC1qE,aAAc,IAAA,CAAK4qE,kBAAL,CAAwBvnE,IAAxB,CAA6B,IAA7B,CAFqB,CAAhB,CAApB,CAIA,KAAA,CAAKwlE,cAAL,EAAA,CAAsB9mE,aAAtB,CAAsC2qB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,MAAjB,CAAT,CANd,CADlB,CASV6+C,YAAaA,QAAQ,CAAC/qE,CAAD,CAAY,CACU,CAAA,CAA1C,GAAI,IAAA,CAAK+oE,cAAL,EAAJ,CAA0B7mE,WAA1B;AACC,IAAA,CAAK6mE,cAAL,EAAA,CAAsB1mE,gBAAtB,EAF+B,CATvB,CAcb2oE,OAAQA,QAAQ,CAAC9nE,CAAD,CAAMV,CAAN,CAAaF,CAAb,CAAqB,CACpC,IAAA,CAAKymE,cAAL,EAAA,CAAsB/kE,mBAAtB,EADoC,CAdxB,CAiBVF,MAAO,IAjBG,CAvGL,CAxDE,CAAhB,CAqLA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CApMyB,CA3IS,CAkVnCyrD,SAAUA,QAAQ,EAAG,CAEpB,IAAIG,EAAS,EAChB,KAAA,CAAKh9C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC14C,IAAhC,CAAqC,QAAQ,CAAC5C,CAAD,CAAMgD,CAAN,CAAaq2C,CAAb,CAAoB,CAC5DysB,CAAAA,CAAU9iE,CAAV8iE,CAAkB,IAAA,CAAK/+C,WAAL,CAAiB,SAAjB,CACtB,KAAA,CAAK68C,cAAL,EAAA,CAAsB7jE,aAAtB,CAAoC,CACnCxC,GAAIyC,CAAA,CAAIknB,KAAJ,EAD+B,CAEnClkB,MAAOhD,CAAA,CAAI2xC,QAAJ,EAF4B,CAGnCnuC,MAAOxD,CAAA,CAAIuyB,aAAJ,EAH4B,CAInCzE,YAAa9tB,CAAA,CAAIY,GAAJ,CAAQ,qBAAR,CAJsB,CAKnCE,MAAO,EAL4B,CAMnC6D,OAAQ,CAACmhE,CAN0B,CAApC,CAQIA,EAAJ,EACC9B,CAAA,CAAOviE,IAAP,CAAYzB,CAAA,CAAIknB,KAAJ,EAAZ,CAX+D,CAAjE,CAaG,IAbH,CAcA,KAAA,CAAKiN,WAAL,CAAiB,OAAjB,CAA0B6vC,CAA1B,CAGA,KAAA,CAAKh9C,SAAL,EAAA,CAAiB00B,cAAjB,CAAgC,CAACqqB,SAAU,CAAA,CAAX,CAAhC,CAAA,CAAmD50B,IAAnD,CAAwD,CACvDrR,SAAUA,QAAQ,CAACtb,CAAD;AAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC5C,IAAIxqB,EAAQ,EACZrC,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS1D,CAAT,CAAgB,CAC1C6jB,CAAA,CAAMplB,IAAN,CAAWiF,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAX,CAD0C,CAAxC,CAEA,IAFA,CAGA,KAAA,CAAKmjE,oBAAL,CAA0Bl9C,CAA1B,CAL4C,CADO,CAQpDloB,MAAO,IAR6C,CASpDkvB,OAAQ,CACPya,MAAO,IAAA,CAAKvhB,WAAL,CAAiB,OAAjB,CAAA,CAA4B7jB,IAAAA,EAA5B,CAAwC,CADxC,CAEPs+C,SAAU,IAAA,CAAK3tB,YAAL,CAAkB,UAAlB,CAFH,CAGPhN,MAAO,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CAHA,CAT4C,CAAxD,CApBuB,CAlVc,CA2XnCg9C,qBAAsBA,QAAQ,CAACl9C,CAAD,CAAQ,CACjCA,CAAJ,EAAY,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACR,KAAA,CAAKG,SAAL,EAAJ,EAAwB,IAAA,CAAKoe,SAAL,EAAxB,EACF,IAAA,CAAK4gC,eAAL,EAAA,CAAuB70B,IAAvB,CAA4B,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAA5B,CAHuC,CA3XH,CAkYtCuwC,gBAAiBA,QAAQ,EAAG,CAC3B,IAAItjE,EAAQ,EAAZ,CACSzE,CAAT,KAASA,CAAT,GAAiB,KAAA,CAAKunE,cAAL,EAAjB,CAAuChnE,YAAvC,CACCkE,CAAA,CAAMW,IAAN,CAAWpF,CAAX,CAED,KAAA,CAAK0nE,oBAAL,CAA0BjjE,CAA1B,CAL2B,CAlYU;AA0YnCmlE,gBAAiBA,QAAQ,EAAG,CAC9B,IAAIjC,EAAS,IAAA,CAAKj9C,WAAL,CAAiB,OAAjB,CACC,GAAd,EAAIi9C,CAAJ,GACCA,CAIA,CAJS,EAIT,CAHA,IAAA,CAAKh9C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC14C,IAAhC,CAAqC,QAAQ,CAAC8d,CAAD,CAAO1d,CAAP,CAAc,CAC1DghE,CAAA,CAAOviE,IAAP,CAAYif,CAAA,CAAKwG,KAAL,EAAZ,CAD0D,CAA3D,CAGA,CAAA,IAAA,CAAKoC,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAlB,CALD,CAOqB,SAArB,EAAI,MAAOA,EAAX,GAA+BA,CAA/B,CAAwC,CAACA,CAAD,CAAxC,CAEA,IAAc,IAAd,EAAIA,CAAJ,CAAoB,CACnB,IAAA,CAAKkC,eAAL,CAAqB,IAAA,CAAKl/C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgChb,KAAhC,EAArB,CACA,KAAIv5B,EAAQ,IAAA,CAAKo/D,eAAL,EAAA,CAAuB3+D,QAAvB,EACZ,IAAY,EAAZ,CAAIT,CAAJ,CACC,IAAK,IAAI3H,EAAI,EAAb,CAAiBA,CAAjB,CAAqB2H,CAArB,CAA4B3H,CAAA,EAA5B,CACC,IAAA,CAAK+mE,eAAL,EAAA,CAAuBj2C,QAAvB,CAAgC,EAAhC,CAGF8zC,EAAA,CAAS,EACT,KAAA,CAAKmC,eAAL,EAAA,CAAuBvgB,OAAvB,CAA+B,QAAQ,CAACllD,CAAD,CAAQV,CAAR,CAAa,CACnDgkE,CAAA,CAAOviE,IAAP,CAAYf,CAAZ,CADmD,CAApD,CAEG,IAFH,CAGA,KAAA,CAAK4oB,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAlB,CAZmB,CAApB,IAcC,KAAA,CAAKkC,eAAL,CAAqB,IAAA,CAAKl/C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC8qB,QAAhC,CAAyC,QAAQ,CAACpmE,CAAD;AAAMU,CAAN,CAAa,CAClF,MAAgC,EAAhC,EAAOsjE,CAAA,CAAOvgE,OAAP,CAAe/C,CAAf,CAD2E,CAA9D,CAElB,IAFkB,CAArB,CAzB6B,CA1YO,CAyatCgjE,aAAcA,QAAQ,CAAC2C,CAAD,CAAa,CAClC,IACIhqE,EAAOgqE,CAAA,CAAWzlE,GAAX,CAAe,MAAf,CACPsF,KAAAA,EAAUmgE,CAAA,CAAWzlE,GAAX,CAAe,SAAf,CACd,KAAImB,EAAYskE,CAAA,CAAWzlE,GAAX,CAAe,WAAf,CAChB,IAAc,CAAd,CAAIsF,CAAJ,CAAiB,CAChB,IAAIF,EAAQ,IAAA,CAAKypB,cAAL,EAAA,CAAsBC,eAAtB,CAAsCrzB,CAAtC,CACmC,GAA/C,GAAI,IAAA,CAAK8nE,YAAL,EAAA,CAAoBmC,IAApB,CAAyB,MAAzB,CAAiCjqE,CAAjC,CAAJ,GACC,IAAA,CAAK8nE,YAAL,EAAA,CAAoBpb,QAApB,CAA6B,CAAC,CAAC1sD,CAAD,CAAO2J,CAAP,CAAD,CAA7B,CAA8C,CAAA,CAA9C,CAEA,CADIhD,CACJ,CADY,IAAA,CAAKmhE,YAAL,EAAA,CAAoBmC,IAApB,CAAyB,MAAzB,CAAiCjqE,CAAjC,CACZ,CAAA,IAAA,CAAKyuB,IAAL,CAAU,YAAV,CAAA,CAAwBxX,MAAxB,CAA+BtQ,CAA/B,CAAsC,CAAA,CAAtC,CAHD,CAKI9B,EAAAA,CAAgBmlE,CAAA,CAAWzlE,GAAX,CAAe,eAAf,CACpB+iE,EAAA,CAAU,CAAC5hE,UAAWA,CAAZ,CAAuBb,cAAeA,CAAtC,CAAqDgF,QAASA,CAA9D,CAAuEF,MAAOA,CAA9E,CARM,CAAjB,IAUC29D,EAAA,CAAU,CAAA,CAGX,OAAOA,EAlB2B,CAzaG,CA8btCgC,mBAAoBA,QAAQ,CAACnsD,CAAD,CAAO,CAClC,IAAA,CAAKiW,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,cAApC;AAAoD,IAApD,CAA0DjmB,CAA1D,CADkC,CA9bG,CAAvC,C,CCDA/c,GAAA,CAAIk2B,MAAJ,CAAW,wBAAX,CAAqC,CACpCyI,OAAQ,iBAD4B,CAEpCyC,SAAU,CAAC,qBAAD,CAF0B,CAGpCtK,OAAQ,CAAC,oBAAD,CAAsB,0BAAtB,CAH4B,CAKpC4V,MAAO,kBAL6B,CAMjCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ94B,OAAQsI,IAAAA,EADJ,CAEJs+C,SAAU,MAFN,CAGJmgB,MAAO,CAAC,aAAD,CAAe,cAAf,CAA8B,gBAA9B,CAHH,CAIJn+D,MAAON,IAAAA,EAJH,CAKJqjE,OAAQrjE,IAAAA,EALJ,CAMJqyC,OAAQ,QANJ,CAHG,CAWXzf,MAAO,mBAXI,CANwB,CAmBjCl7B,OAAQ,CACP4rE,OAAQ,EADD,CAEPC,eAAgB,EAFT,CAGPC,kBAAmBxjE,IAAAA,EAHZ,CAnByB,CAyBjCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACtB,KAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD;AAAuDuX,SAAvD,CACG3b,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfqpB,OAAQ,MAFO,CAGfnoB,MAAO,CACC,CACCmoB,OAAQ,MADT,CAECthD,OAAQ,MAFT,CAGC+pD,MAAO,SAHR,CAIC/kB,OAAQ,QAJT,CAKCikB,SAAU,CACT/oD,MAAO,GADE,CAET45B,KAAM,CAFG,CAGTx5B,MAAO,OAHE,CAIT0pD,OAAQ,CAJC,CAKTxpD,OAAQ,CAAA,CALC,CAMTw0D,MAAO,CAAA,CANE,CAONvyB,aAAc,CACbxI,MAAO,CACNzwB,KAAM,OADA,CAEHkvB,QAAS,IAAA,CAAKT,QAAL,CAAc,eAAd,CAFN,CAGH0K,SAAUA,QAAQ,CAAC6mC,CAAD,CAAW,CAC5B,OAAO,IAAA,CAAKH,MAAL,CAAYG,CAAZ,CAAqBhF,KAArB,CACPgF,EAAA,CAASzZ,OAAT,EACA,KAAA,CAAK0Z,aAAL,EAH4B,CAH1B,CAQHjoE,MAAO,IARJ,CADM,CAWbnB,IAAK,CACJmJ,KAAM,MADF,CAEDkvB,QAAS,IAAA,CAAKT,QAAL,CAAc,cAAd,CAFR,CAGD0K,SAAUA,QAAQ,EAAG,CACpB,IAAA,CAAK+mC,QAAL,EADoB,CAHpB,CAMDloE,MAAO,IANN,CAXQ,CAPR,CALX,CAiCC23B,MAAO,EAjCR,CADD,CAoCC,CACC74B,MAAO,OADR;AAECC,KAAM9C,CAAN8C,CAAagpE,iBAAbhpE,EAAkC,EAFnC,CAGCu5B,KAAM,CAHP,CAICkL,OAAQ,SAJT,CAKChlC,OAAQ,MALT,CAMC+pD,MAAO,SANR,CAOCO,WAAY,CAAA,CAPb,CAQCN,OAAQ,CART,CASCngC,UAAWA,QAAQ,EAAG,CACrB,MAAO,KAAA,CAAKqrC,gBAAL,CAAsB,OAAtB,CAAA,CAA+BrrC,SAA/B,EADc,CATvB,CAYCppB,UAAW,CACVipB,MAAOA,QAAQ,CAAC4e,CAAD,CAAM5e,CAAN,CAAa,CAC3B,IAAA,CAAKwrC,gBAAL,CAAsB,OAAtB,CAAA,CAA+BuU,aAA/B,CAA6CnqE,GAAA,CAAIy2B,QAAJ,CAAarM,CAAb,CAAA,CAAsB,CAACA,CAAD,CAAtB,CAAgCA,CAA7E,CAD2B,CADlB,CAZZ,CAiBF2pC,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACb6L,OAAQ,cADK,CAEb/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,oBAAd,CAFO,CAGb0xC,SAAU,CAAA,CAHG,CAIb/wC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK6N,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,kBAAd,CAAV,CACA,KAAI2xC;AAAY,IACbtqE,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK,IAAA,CAAKnR,cAAL,EAAA,CAAsBgZ,cAAtB,EADW,CAEhB5a,OAAQ,CACPuE,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EADD,CAEP2Y,KAAM,sBAFC,CAGPmnC,cAAe,CAAA,CAHR,CAIPtmE,MAAO,IAAA,CAAKumE,iBAAL,EAJA,CAFQ,CAQb51B,QAASA,QAAQ,CAAC5U,CAAD,CAAWya,CAAX,CAAiB,CACjC6vB,CAAA,CAAUr5C,MAAV,EACIxS,EAAAA,CAAOze,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACPgE,EAAAA,CAAMmmC,CAAA,CAAUlmC,UAAV,EAAND,CAA6B,UAA7BA,CAAwC1lB,CAAxC0lB,CAA6CxO,MAA7CwO,CAAoDrjC,EACxDwpE,EAAA,CAAUjmC,OAAV,CAAkBF,CAAlB,CAJiC,CARrB,CAcbkY,QAASA,QAAQ,CAACrc,CAAD,CAAWya,CAAX,CAAiB,CACjC6vB,CAAA,CAAUr5C,MAAV,EACA/D,GAAA,CAAGqvB,iBAAH,CAAqB,2BAArB,CAAiD+tB,CAAA,CAAU//C,SAAV,EAAA,CAAsBE,KAAtB,EAAjD,CAAgFuV,CAAhF,CAFiC,CAdrB,CAAjB,CAHgB,CAJP,CA4Bb99B,MAAO,IA5BM,CAAD,CA6BX,CACDwjC,OAAQ,QADP,CAED/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CAFL,CAGD0xC,SAAU,CAAA,CAHT,CAID/wC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK6N,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,kBAAd,CAAV,CACA;IAAI2xC,EAAY,IACbtqE,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK,IAAA,CAAKnR,cAAL,EAAA,CAAsBgZ,cAAtB,EADW,CAEhB5a,OAAQ,CACPuE,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EADD,CAEP2Y,KAAM,sBAFC,CAGPmnC,cAAe,CAAA,CAHR,CAIPtmE,MAAO,IAAA,CAAKumE,iBAAL,EAJA,CAFQ,CAQb51B,QAASA,QAAQ,CAAC5U,CAAD,CAAWya,CAAX,CAAiB,CACjC6vB,CAAA,CAAUr5C,MAAV,EACIxS,EAAAA,CAAOze,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACXmqC,EAAA,CAAUj8B,oBAAV,CAA+B5vB,CAA/B,CAAoCkX,MAApC,CAA2C70B,EAA3C,CAHiC,CARrB,CAabu7C,QAASA,QAAQ,CAACrc,CAAD,CAAWya,CAAX,CAAiB,CACjC6vB,CAAA,CAAUr5C,MAAV,EACA/D,GAAA,CAAGqvB,iBAAH,CAAqB,2BAArB,CAAiD+tB,CAAA,CAAU//C,SAAV,EAAA,CAAsBE,KAAtB,EAAjD,CAAgFuV,CAAhF,CAFiC,CAbrB,CAAjB,CAHgB,CAJnB,CA2BD99B,MAAO,IA3BN,CA7BW,CAyDX,CACDlB,MAAO,kBADN,CAEDJ,MAAO,GAFN,CAGD45B,KAAM,CAHL,CAzDW,CA6DX,CACDkL,OAAQ,QADP,CAED1kC,MAAO,QAFN,CA7DW,CAJH,CAAD,CAjBX,CApCD,CA2HI,CACFA,MAAO,IAAA,CAAKspB,WAAL,CAAiB,QAAjB,CADL;AAEFkQ,KAAM,CAFJ,CAGF95B,OAAQ,MAHN,CAIF+pD,MAAO,SAJL,CAKFnpB,OAAQ,CAAA,CALN,CA3HJ,CAHQ,CAAhB,CAuIG,KAAA,CAAKpC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAGA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,IAAA,CAAKnJ,SAAL,CAAe,QAAf,CAAA,CAAyBvO,MAAzB,CAAgC,CAAA,IAAIje,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,WAAd,CAAlB,CAAA,EAA8Cv0B,KAA9C,CAAoD,CAACuxB,CAAA,CAAOC,iBAAP,EAAD,CAApD,CAAhC,CACK,KAAA,CAAK60C,oBAAL,EAAL,GACK,IAAA,CAAKngD,WAAL,CAAiB,QAAjB,CAAJ,EACI,IAAA,CAAKogD,oBAAL,CAA0B,IAAA,CAAKpgD,WAAL,CAAiB,QAAjB,CAA1B,CACA,CAAA,IAAA,CAAK6/C,aAAL,EAFJ,GAKA,IAAA,CAAKO,oBAAL,CAA0B,CAAA,IAAI1qE,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,WAAd,CAAlB,CAAA,EAA8Cv0B,KAA9C,CAAoD,CAACuxB,CAAA,CAAOC,iBAAP,EAAD,CAApD,CAA1B,CAEG;AADH,IAAA,CAAKu0C,aAAL,EACG,CAAAnqE,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,yBADC,CAEPmM,iBAAkB,aAAlBA,CAAgC5Z,CAAA,CAAOmF,YAAP,EAFzB,CAFK,CAMb8Z,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAEhC,CADIlkC,CACJ,CADWze,GAAA,CAAIC,IAAJ,CAAS0lB,IAAT,CAAc6pB,MAAd,CAAqBxP,CAArB,CAA8BG,YAA9B,CACX,GAAY1hB,CAAZ,CAAiBgxB,cAAjB,EAAmChxB,CAAnC,CAAwCgxB,cAAxC,CAAuD3uC,EAAvD,EACId,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,yBADC,CAEP2M,mBAAoB,aAApBA,CAAkCpa,CAAA,CAAOmF,YAAP,EAF3B,CAFK,CAMb8Z,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAEhC,CADIlkC,CACJ,CADWze,GAAA,CAAIC,IAAJ,CAAS0lB,IAAT,CAAc6pB,MAAd,CAAqBxP,CAArB,CAA8BG,YAA9B,CACX,GAAY1hB,CAAZ,CAAiBgxB,cAAjB,EAAmChxB,CAAnC,CAAwCgxB,cAAxC,CAAuDQ,QAAvD,GACC,IAAA,CAAKy6B,oBAAL,CAA0BjsD,CAA1B,CAA+BgxB,cAA/B,CAA8CQ,QAA9C,CACA;AAAA,IAAA,CAAKk6B,aAAL,EAFD,CAFgC,CANpB,CAabjoE,MAAO,IAbM,CAAjB,CAH4B,CANpB,CA0BbA,MAAO,IA1BM,CAAjB,CAPH,CADD,CAF6C,CAA9C,CA0CA,KAAA,CAAK8T,EAAL,CAAQ,aAAR,CAAuB,QAAQ,CAACosB,CAAD,CAAQ,CAEtC,IAAIuoC,EAAY,IAAA,CAAKn+C,SAAL,CAAe,QAAf,CACnB,KAAA,CAAK49C,QAAL,CAAc,CACblF,MAAO,SADM,CAEV/hC,aAAc,CAACpiC,IAAK,CAChBmJ,KAAM,MADU,CAEbkvB,QAAS,IAAA,CAAKT,QAAL,CAAc,cAAd,CAFI,CAGb0K,SAAUA,QAAQ,EAAG,CACpB,IAAA,CAAK+mC,QAAL,EADoB,CAHR,CAMbloE,MAAO,IANM,CAAN,CAFJ,CAUbm4B,MAAO,IAAI/D,MAAJ,CAAWvZ,IAAX,CAAgBsd,KAAhB,CAAsBuwC,WAAtB,CAAkC,CACxCxyB,YAAa,IAD2B,CAErCpD,MAAO,CACNC,YAAa,CACT8P,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CADD,CADP,CAF8B,CAAlC,CAVM,CAAd,CAkBGqgD,CAlBH,CAoBOZ,EAAAA,CAAS,IAAA,CAAKz/C,WAAL,CAAiB,OAAjB,CACTtqB,IAAA,CAAIy2B,QAAJ,CAAaszC,CAAb,CAAJ,GAA2BA,CAA3B,CAAoCA,CAAA,CAAO3lD,KAAP,CAAa,GAAb,CAApC,CACA2lD,EAAA,CAAOvxD,OAAP,CAAe,QAAQ,CAAC0sD,CAAD,CAAQ,CAC9B,IAAA,CAAKkF,QAAL,CAAc,CAAClF,MAAOA,CAAR,CAAd;AAA8ByF,CAA9B,CAD8B,CAA/B,CAeG,IAfH,CA8BG,EADI5jE,CACJ,CADY,IAAA,CAAKujB,WAAL,CAAiB,OAAjB,CACZ,GAAY,IAAA,CAAKq5C,QAAL,CAAc58D,CAAd,CAvDuB,CAAvC,CAxL6B,CAzBG,CA8QjCqjE,SAAUA,QAAQ,CAACjsE,CAAD,CAASwsE,CAAT,CAAoB,CACrC,GAAI,CAACxsE,CAAL,CAEC,MAAO,KAAA,CAAK0sE,WAAL,CAAiB,QAAQ,CAAC3F,CAAD,CAAQ,CACvC,IAAA,CAAKkF,QAAL,CAAc,CAAClF,MAAOA,CAAR,CAAd,CADuC,CAAjC,CAIXyF,EAAA,CAAYA,CAAZ,EAAyB,IAAA,CAAKn+C,SAAL,CAAe,QAAf,CAPe,KAQjC04C,EAAQ/mE,CAAR+mE,CAAeA,KARkB,CASpChf,EAAU,uEAAVA,CAAkF,IAAA,CAAKvtB,QAAL,CAAc,mBAAd,CAAlFutB,CAAqH,kHAArHA,CAA2O,IAAA,CAAKvtB,QAAL,CAAc,UAAd,CAA3OutB,CAAqQ,4BATjO,CAWpCn/C,EAAQ,IAAA,CAAK4xB,QAAL,CAAcusC,CAAd,CAAoB,OAApB,CACRn+D;CAAJ,EAAW,GAAX,CAAem+D,CAAf,CAAqB,QAArB,GACCn+D,CADD,CACSm+D,CAAA,CAAMrhE,OAAN,CAAc,UAAd,CAAyB,EAAzB,CAAA,CAA6BA,OAA7B,CAAqC,SAArC,CAA+C,EAA/C,CADT,CAG6B,KAAA,CAAK80B,QAAL,CAAc,mBAAd,CAE7B34B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB4I,MAAOA,CADY,CAEnB+9B,YAAa,CAAA,CAFM,CAGnBogC,MAAOA,CAHY,CAInBvW,QAAS,CAAC,CACTX,SAAUA,QAAQ,CAACnuD,CAAD,CAAQ0lE,CAAR,CAAkBt7D,CAAlB,CAA0B,CAC3C,MAAO,uEAAP,CAA+E,IAAA,CAAK0uB,QAAL,CAAc,mBAAd,CAA/E,CAAkH,IAAlH,CAAuH1uB,CAAA,CAAO0pC,mBAAP,EAAvH,CAAoJ,kBAApJ,EACE1pC,CAAA,CAAOwpC,QAAP,CAAkBxpC,CAAA,CAAOwpC,QAAP,EAAlB,CAAsCxpC,CAAA,CAAO2pC,OAAP,EAAtC,CAAuD,wEAAvD,CAAgI,IAAA,CAAKjb,QAAL,CAAc,UAAd,CAAhI,CAA0J,IAA1J,CAA+J1uB,CAAA,CAAO6pC,UAAP,EAA/J;AAAmL,iBADrL,CAD2C,CADnC,CAKTtZ,KAAM,CALG,CAAD,CAJU,CAWnBm7B,KAAM,CAAC,CACN30D,MAAO,kBADD,CAENJ,MAAO,MAFD,CAGNqkD,UAAWigB,CAAA,CAAMrhE,OAAN,CAAc,QAAd,CAAwB,EAAxB,CAHL,CAINqiD,QAASA,CAJH,CAAD,CAXa,CAiBnBvwB,OAAQ,IAAA,CAAKpL,SAAL,EAjBW,CAApB,CAoBA,KAAI2/C,EAAWS,CAAA,CAAU5pE,GAAV,CAAc5C,CAAd,CAEf+rE,EAAA,CAASpf,iBAAT,EAAA,CAA6B90C,EAA7B,CAAgC,iBAAhC,CAAmD,QAAQ,CAACikC,CAAD,CAAQsR,CAAR,CAAkB,CAC5E,IAAIuf,EAAS,EACbvf,EAAA,CAAS/yC,OAAT,CAAiB,QAAQ,CAACyhC,CAAD,CAAQ,CAChC6wB,CAAA,CAAO9lE,IAAP,CAAY,CAACkgE,MAAOgF,CAAPhF,CAAgBA,KAAjB,CAAwB96D,MAAO6vC,CAAA,CAAMxG,QAAN,CAAiBwG,CAAA,CAAMxG,QAAN,EAAjB,CAAoCwG,CAAA,CAAMrG,OAAN,EAAnE,CAAZ,CADgC,CAAjC,CAGA,KAAA,CAAKm3B,SAAL,EAAA,CAAiB7F,CAAjB,CAAA,CAA0B4F,CAC1B,KAAA,CAAKX,aAAL,EAN4E,CAA7E,CAOG,IAPH,CAQAD,EAAA,CAASl0D,EAAT,CAAY,OAAZ,CAAqB,QAAQ,CAACikC,CAAD,CAAQsR,CAAR,CAAkB,CAC9C,IAAA,CAAKwf,SAAL,EAAA,CAAiBb,CAAjB,CAA0BhF,KAA1B,CAAA,CAAmC,EACnC,KAAA,CAAKiF,aAAL,EAF8C,CAA/C,CAGG,IAHH,CAIG,OAAOD,EAnD8B,CA9QL,CAoUjCC,cAAeA,QAAQ,CAAC1uB,CAAD,CAAU,CAChC,IAAIsuB,EAAS,IAAA,CAAKgB,SAAL,EACb;GAAI,CAACtvB,CAAL,CAAc,CACTA,CAAJ,CAAc,EACd,KAAKypB,KAAL,GAAc6E,EAAd,CACCA,CAAA,CAAO7E,KAAP,CAAA,CAAc1sD,OAAd,CAAsB,QAAQ,CAACpO,CAAD,CAAQ,CAClCqxC,CAAA,CAAQz2C,IAAR,CAAaoF,CAAb,CAAmB86D,KAAnB,CAAyB,GAAzB,CAA6B96D,CAA7B,CAAmCA,KAAnC,CADkC,CAAtC,CAID,IAAIqxC,CAAJ,CACC,MAAO,KAAA,CAAK0uB,aAAL,CAAmB1uB,CAAnB,CARK,CAWjB,IAAIuvB,EAAU,IAAA,CAAKx+C,SAAL,CAAe,SAAf,CAAA,CAA0B2Y,WAA1B,EAEd6lC,EAAA,CAAQ/sD,MAAR,CAAe,IAAA,CAAKwsD,oBAAL,EAAA,CAA8B,IAAA,CAAKA,oBAAL,EAA9B,CAA4D,CAAA,IAAIzqE,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,WAAd,CAAlB,CAAA,EAA8Cv0B,KAA9C,CAAoD,CAAC,IAAA,CAAKmmB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAD,CAApD,CAA3E,CACA,KAAA,CAAKpJ,SAAL,CAAe,QAAf,CAAA,CAAyBvO,MAAzB,CAAgC,CAAA,IAAIje,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,WAAd,CAAlB,CAAA,EAA8Cv0B,KAA9C,CAAoD,CAAC,IAAA,CAAKmmB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAD,CAApD,CAAhC,CACA,KAAA,CAAKpJ,SAAL,CAAe,cAAf,CAAA,CAA+By+C,WAA/B,CAA2C,CAAA,CAA3C,CACA,KAAA,CAAKz+C,SAAL,CAAe,QAAf,CAAA,CAAyBy+C,WAAzB,CAAqC,CAAA,CAArC,CACG;GAAIxvB,CAAJ,EAA8B,CAA9B,CAAeA,CAAf,CAAuB74C,MAAvB,CAAiC,CAChC,IAAA,CAAKukC,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,SAAd,CAAV,CACA,KAAIuyC,EAAuB,IAAA,CAAK3gD,SAAL,EAAA,CAAiB60B,uBAAjB,EAC3B8rB,EAAA,CAAqBx2B,IAArB,CAA0B,CACzBtjB,OAAQ,CAAChH,MAAOqxB,CAAR,CAAiB0vB,cAAe,CAAA,CAAhC,CADiB,CAEzB9nC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAA,CAAK3jB,MAAL,EACA,IAAIlJ,CAAJ,EAA8B,CAA9B,CAAeA,CAAf,CAAuBnlB,MAAvB,CAAiC,CAChC,IAAA,CAAK4pB,SAAL,CAAe,QAAf,CAAA,CAAyB26B,OAAzB,CAAiCp/B,CAAjC,CAAyCnlB,MAAzC,CACA,KAAIu/C,EAAO,MAAX,CACI6nB,EAAiB,EACrBjiD,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CAChCA,CAAA,CAAO+sC,SAAP,EAAA,CAAmBx+B,OAAnB,CAA2B,QAAQ,CAACvU,CAAD,CAAQ,CAC1C+lE,CAAA,CAAehlE,IAAf,CAAoBf,CAApB,CACA,KAAIV,EAAM2nE,CAAA,CAAqB3gD,SAArB,EAAA,CAAiCC,WAAjC,CAA6CvmB,CAA7C,CAAV,CACIggB,EAAO,UAAPA,CAAkB+mD,CAAA,CAAQvgD,KAAR,EAAlBxG,CAAkC,GAAlCA,CAAsChgB,CAAtCggB,CAA4C,yBAChDA,EAAA,EAAQ,8CAAR,CAAuDhgB,CAAvD,CAA6D,IAA7D,CAAkEV,CAAA,CAAI+xC,QAAJ,EAAlE,CAAiF,MACjF,KAAK4vB,KAAL,GAAc6E,EAAd,CACC,GAA0B,CAA1B;AAAIA,CAAA,CAAO7E,KAAP,CAAJ,CAAkBtiE,MAAlB,CAAA,CACA,IAAIwoE,EAAa,EACjB,IAAW,aAAX,EAAIlG,KAAJ,CAA0B,CACzB,IAAImG,EAASnG,KAAA,CAAMrhE,OAAN,CAAc,QAAd,CAAuB,EAAvB,CAEb,IADIuG,CACJ,CADY7G,CAAA,CAAIY,GAAJ,CAAQknE,CAAR,CACZ,CAAW,CACV,IAAI7tC,EAAUx9B,GAAA,CAAIw9B,OAAJ,CAAYpzB,CAAZ,CACVozB,EAAJ,CACC4tC,CADD,EACa,MADb,CACoBC,CADpB,CAC2B,MAD3B,CAGCjhE,CAHD,CAGS,CAACA,CAAD,CAETA,EAAA,CAAMoO,OAAN,CAAc,QAAQ,CAACwT,CAAD,CAAI,CACzB,IAAIs/C,EAAU,CAAA,CACdvB,EAAA,CAAO7E,KAAP,CAAA,CAAc1sD,OAAd,CAAsB,QAAQ,CAACmM,CAAD,CAAI,CAC7BA,CAAJ,CAAMva,KAAN,EAAa4hB,CAAb,CAAiBs/C,CAAjB,CAAyB,CAAA,CAAzB,CACmC,EADnC,EACS3mD,CAAA,CAAEugD,KAAF,CAAQl+D,OAAR,CAAgB,OAAhB,CADT,EAEC2d,CAAA,CAAEva,KAAF,CAAQga,KAAR,CAAc,KAAd,CAAA,CAAqB5L,OAArB,CAA6B,QAAQ,CAAC+yD,CAAD,CAAO,CACpB,CAAvB,CAAIA,CAAA,CAAKh2B,IAAL,EAAJ,CAAgB3yC,MAAhB,EAAwE,EAAxE,CAA4BopB,CAAA,CAAE3J,WAAF,EAAA,CAAgBrb,OAAhB,CAAwBukE,CAAA,CAAKlpD,WAAL,EAAxB,CAA5B,GACCipD,CADD,CACS,CAAA,CADT,CAD2C,CAA5C,CAHgC,CAAlC,CAUAF,EAAA,EAAY,MAAZ,EAAoB5tC,CAAA,CAAU,EAAV,CAAe6tC,CAAA,CAAOxnE,OAAP,CAAe,QAAf,CAAwB,EAAxB,CAAf,CAA2C,IAA/D,GAAsEynE,CAAA,CAAU,wBAAV,CAAmCt/C,CAAnC,CAAqC,SAArC,CAAiDA,CAAvH,EAA0H,OAZjG,CAA1B,CAcIwR,EAAJ,GACC4tC,CADD,EACa,YADb,CArBU,CAHc,CA6BtBA,CAAJ,GACCnnD,CADD,EACO,MADP;AACcmnD,CADd,CACyB,OADzB,CA/BA,CAoCDjpB,CAAA,EADAl+B,CACA,CADQ,OAzCkC,CAA3C,CADgC,CAAjC,CA8CAk+B,EAAA,EAAQ,OACR6oB,EAAA,CAAQ/sD,MAAR,CAAekkC,CAAf,CACA,KAAIj1B,EAAK,IACLs+C,EAAAA,CAAOR,CAAA,CAAQ5gD,KAAR,CAAc,oBAAd,CACXohD,EAAA,CAAKhzD,OAAL,CAAa,QAAQ,CAACizD,CAAD,CAAM,CAC1BzrE,GAAA,CAAImE,GAAJ,CAAQsnE,CAAR,CAAA,CAAaz1D,EAAb,CAAgB,OAAhB,CAAyB,QAAQ,CAACrG,CAAD,CAAGlN,CAAH,CAAO,CACvC,IAAA,CAAKugC,aAAL,CAAmB,kBAAnB,CAAuC9V,CAAvC,CAA2CzqB,CAAA,CAAG4tB,YAAH,CAAgB,MAAhB,CAA3C,CADuC,CAAxC,CAEGnD,CAFH,CAD0B,CAA3B,CAKiB,EAAjB,EAAIs+C,CAAJ,CAAS5oE,MAAT,EACC,IAAA,CAAKogC,aAAL,CAAmB,kBAAnB,CAAuC9V,CAAvC,CAA2Cs+C,CAAA,CAAK,CAAL,CAAA,CAAQn7C,YAAR,CAAqB,MAArB,CAA3C,CAED,KAAA,CAAK7D,SAAL,CAAe,QAAf,CAAA,CAAyBvO,MAAzB,CAAgC,CAAA,IAAIje,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,cAAd,CAAlB,CAAA,EAAiDv0B,KAAjD,CAAuD,CAAC4lE,CAAD,CAAgBpnE,MAAhB,CAAuB,IAAA,CAAK2nB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAvB,CAAvD,CAAhC,CACA,KAAA,CAAK81C,iBAAL,CAAuB1rE,GAAA,CAAIu9B,KAAJ,CAAUsG,KAAV,CAAgBmmC,CAAhB,CAAvB,CAC0B,EAA1B,CAAIA,CAAJ,CAAmBpnE,MAAnB,GACC,IAAA,CAAK4pB,SAAL,CAAe,QAAf,CAAA,CAAyBy+C,WAAzB,CAAqC,CAAA,CAArC,CACA;AAAA,IAAA,CAAKz+C,SAAL,CAAe,cAAf,CAAA,CAA+By+C,WAA/B,CAA2C,CAAA,CAA3C,CAFD,CAMIlB,EAAJ,CAAW,OAAX,GACK4B,CAEJ,CAFkB3B,CAAA,CAAer2C,MAAf,CAAsB,CAAtB,CAAwB,CAAxB,CAElB,CADA,IAAA,CAAKi4C,YAAL,CAAkBD,CAAlB,CAA+BX,CAAA,CAAQa,KAAR,EAAA,CAAgBA,KAAhB,EAA/B,CACA,CAAI7B,CAAJ,EAA4C,CAA5C,CAAsBA,CAAtB,CAAqCpnE,MAArC,EACI,IAAA,CAAKgpE,YAAL,CAAkB5B,CAAlB,CAJL,CAtEgC,CAFc,CAFvB,CAmFzB9nE,MAAO,IAnFkB,CAA1B,CAHgC,CAnBD,CApUA,CAkbjC0pE,aAAcA,QAAQ,CAACrE,CAAD,CAASuE,CAAT,CAAmB,CAC3C,IAAId,EAAU,IAAA,CAAKx+C,SAAL,CAAe,SAAf,CAAA,CAA0B2Y,WAA1B,EAAd,CACO4kC,EAAS,IAAA,CAAKgB,SAAL,EACb,IAAIhB,CAAJ,CAAW,OAAX,CAAuB,CAClBtuB,CAAAA,CAAUsuB,CAAA,CAAO,OAAP,CAAkB91D,GAAlB,CAAsB,QAAQ,CAAC7J,CAAD,CAAQ,CAAC,MAAOA,EAAP,CAAa86D,KAAb,CAAmB,GAAnB,CAAuB96D,CAAvB,CAA6BA,KAA9B,CAAtC,CACd,KAAIm1C,EAAW,IAAA,CAAKh1B,SAAL,EAAA,CAAiBi1B,WAAjB,CAA6B,CAACnU,SAAU,CAAA,CAAX,CAA7B,CACXygC,EAAJ,EACCA,CAAA,CAAS3kC,IAAT,CAAc,IAAA,CAAKxO,QAAL,CAAc,iBAAd,CAAd,CAED4mB,EAAA,CAAS7K,IAAT,CAAc,CACbq3B,OAAQ,MADK,CAEb36C,OAAQ,CACE46C,UAAW,KADb,CAEP5hD,MAAOqxB,CAFA,CAGPx3C,MAAOsjE,CAHA,CAIP0E,YAAa,CAJN;AAKPpgC,MAAO,GALA,CAMPqgC,uBAAwB,CAAA,CANjB,CAFK,CAUbhqE,MAAO,IAVM,CAWbmhC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3Ck3B,CAAJ,EACCA,CAAA,CAAS76C,MAAT,EAED,IAAI2jB,CAAJ,EAAe50C,GAAA,CAAIw9B,OAAJ,CAAYzV,CAAZ,CAAf,EAAsD,CAAtD,CAAuCA,CAAvC,CAA+CnlB,MAA/C,CAAyD,CACxD,IAAIupE,EAAW,EACfpkD,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CAC3BkiE,CAAA,CAASliE,CAAA,CAAOipC,WAAP,EAAT,CAAL,GAAsCi5B,CAAA,CAASliE,CAAA,CAAOipC,WAAP,EAAT,CAAtC,CAAqE,EAArE,CACAi5B,EAAA,CAASliE,CAAA,CAAOipC,WAAP,EAAT,CAAA,CAA+BluC,IAA/B,CAAoCiF,CAApC,CAFgC,CAAjC,CAIA,KAAKI,QAAL,GAAiB8hE,EAAjB,CACKrrE,CAQJ,CARS,IAAA,CAAKypB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BngB,QAA7B,CAAA,CAAuCogB,KAAvC,EAQT,CAPIxpB,CAOJ,CAPW,yDAOX,CAPqEkrE,CAAA,CAAS9hE,QAAT,CAAA,CAAmB4J,GAAnB,CAAuB,QAAQ,CAACm4D,CAAD,CAAU,CAC7G,MAAOA,EAAA,CAAQ54B,qBAAR,EADsG,CAAzC,CAAA,CAElEhqC,IAFkE,CAE7D,UAF6D,CAOrE,CALe,OAKf,CAJI6iE,CAIJ,CAJcrB,CAAA,CAAQ38C,IAAR,CAAa,GAAb,CAAiB28C,CAAA,CAAQvgD,KAAR,EAAjB,CAAiC,GAAjC,CAAqC3pB,CAArC,CAId,CAHIurE,CAAA,CAAQjiD,KAAR,CAAc,IAAd,CAGJ,GAFCnpB,CAED,CAFM,MAEN,CAFaA,CAEb,CAFkB,OAElB;AAAAorE,CAAA,CAAQl7B,UAAR,CAAmB,WAAnB,CAAgClwC,CAAhC,CAfuD,CAJV,CAXnC,CAAd,CANsB,CAHiB,CAlbR,CAkejC4pE,YAAaA,QAAQ,CAACxnC,CAAD,CAAW,CAC/B,GAAI,CAAC,IAAD,CAAMipC,oBAAV,CAAgC,CAC/B,IAAI/4D,EAAO,EACX,KAAA,CAAKgX,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC14C,IAAhC,CAAqC,QAAQ,CAAC5C,CAAD,CAAM,CAClD,IAAKW,IAAIA,CAAT,GAAgBX,EAAA,CAAIk5C,OAAJ,EAAhB,CACU,QAAT,EAAIv4C,CAAJ,EAA6C,CAA7C,GAAqBA,CAAA,CAAI8C,OAAJ,CAAY,QAAZ,CAArB,EAA2E,IAA3E,EAAkD9C,CAAA,CAAI8C,OAAJ,CAAY,UAAZ,CAAlD,GACIuM,CAAA,CAAKrP,CAAL,CADJ,CACgB,CAAA,CADhB,CAFiD,CAAnD,CAOAqP,EAAA,CAAOD,MAAA,CAAOC,IAAP,CAAYA,CAAZ,CACPA,EAAA,CAAKzP,IAAL,EACA,KAAA,CAAKwoE,oBAAL,CAA4BtsE,GAAA,CAAIu4B,MAAJ,CAAW,qBAAX,CAAkC,CAC1DC,OAAQ,CAAC,MAAD,CADkD,CAE1Dzb,KAAMxJ,CAAA,CAAKU,GAAL,CAAS,QAAQ,CAAC/P,CAAD,CAAM,CAAC,MAAO,CAACA,CAAD,CAAR,CAAvB,CAFoD,CAAlC,CAXG,CAiBhC,IAAIqoE,EAAiB,EACrB,KAAA,CAAK//C,SAAL,CAAe,QAAf,CAAA,CAAyBqN,KAAzB,CAA+B1zB,IAA/B,CAAoC,QAAQ,CAAC2rC,CAAD,CAAM,CACjDy6B,CAAA,CAAez6B,CAAf,CAAmBozB,KAAnB,CAAA,CAA0B,CAAA,CADuB,CAAlD,CAIA,KAAA,CAAKoH,oBAAL,CAA0B3C,QAA1B,CAAmC,QAAQ,CAAC1/D,CAAD,CAAS,CACnD,MAAO,EAAE,QAAF;AAAWA,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAX,EAAiCooE,EAAjC,CAD4C,CAApD,CAIOvsE,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACzCxxB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,aAAd,CADkC,CAEzCiB,MAAO,CAAA,CAFkC,CAGzCC,MAAO,CACN74B,MAAO,MADD,CAENJ,MAAO,GAFD,CAGNi5B,MAAO,CACN74B,MAAO,OADD,CAENq5B,MAAO,IAAPA,CAAYiyC,oBAFN,CAGNE,eAAgB,CAAA,CAHV,CAIN5rE,MAAO,GAJD,CAHD,CASN05B,QAAS,CAAC,CACA3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADN,CAEA4B,GAAI,iBAFJ,CAGGlB,MAAO,mBAHV,CAIHmB,KAAM,CAJH,CAKHlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CALpB,CAAD,CAQP,CACQhb,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADd,CAEDU,MAAO,mBAFN,CAGQmB,KAAM,CAHd,CAIKlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIyqC,EAAQzqC,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBrM,IAAjB,CAAsB,OAAtB,CAAA,CAA+B+Y,QAA/B,EACZ,IAAK89B,CAAL,CAGC7hC,CAAA,CAAStsB,IAAT,CAAc,IAAd,CAAoB,QAApB;AAA6BmuD,CAA7B,CACA,CAAAzqC,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAJD,KACC,OAAO,KAAA,CAAKjE,SAAL,CAAe,IAAA,CAAKiC,QAAL,CAAc,kBAAd,CAAf,CAHc,CAJ5B,CAaKz2B,MAAO,IAbZ,CARO,CATH,CAHkC,CAoCzCi5B,YAAa,CApC4B,CAAhC,CAAA,CAqCP3Z,IArCO,EA3BwB,CAleC,CAArC,C,CCaAxhB,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCyI,OAAQ,iBADyB,CAEjC7H,OAAQ,CAAC,oBAAD,CAFyB,CAGjC4V,MAAO,eAH0B,CAI9BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CASJ8tB,SAAU,MATN,CAUJnjB,WAAYn7B,IAAAA,EAVR,CAWJgmE,UAAWhmE,IAAAA,EAXP,CAmBJolC,MAAO,GAnBH,CAyBJ6gC,QAAS,EAzBL,CA0BJroE,MAAOoC,IAAAA,EA1BH,CA2BJxC,MAAOwC,IAAAA,EA3BH,CA4BJ4D,SAAU5D,IAAAA,EA5BN,CA8BJg4C,WAAYh4C,IAAAA,EA9BR,CAgCJkmE,WAAY,sDAhCR,CAiCJC,iBAAkB,CAAA,CAjCd,CAkCJhL,WAAY,UAlCR,CAmCJiL,KAAM,CAAA,CAnCF,CAoCJC,WAAY,CApCR,CAqCJC,UAAW,MArCP,CAHG,CA0CX1zC,MAAO,mBA1CI,CAJqB,CAiD9Bl7B,OAAQ,CAIPkzC,KAAM5qC,IAAAA,EAJC,CAQPi/D,QAAS,CACR,CAAC1kE,MAAO,gBAAR,CADQ,CAER,CACCA,MAAO,YADR;AAECse,KAAM,WAFP,CAFQ,CAML,CAACte,MAAO,kBAAR,CANK,CAuBL,CAACA,MAAO,kBAAR,CAvBK,CAwBL,CAACA,MAAO,oBAAR,CAxBK,CARF,CAsCP+mB,QAASthB,IAAAA,EAtCF,CA0CPpC,MAAOoC,IAAAA,EA1CA,CA8CPumE,SAAUvmE,IAAAA,EA9CH,CAkDPwxD,UAAWxxD,IAAAA,EAlDJ,CAsDPqW,IAAKrW,IAAAA,EAtDE,CA0DP+gD,IAAK/gD,IAAAA,EA1DE,CA8DPwmE,eAAgB,GA9DT,CAkEPC,YAAa,EAlEN,CAsEPC,gBAAiB,CAtEV,CA0EPC,iBAAkB,GA1EX,CAjDsB,CA8H9BC,YAAa,QA9HiB,CA+H9BC,cAAe,eA/He,CAiI9BtrB,OAAQ,KAjIsB,CAsI9BxhD,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAKqX,cAAL,EAAA,CAAsB6zB,oBAAtB,EAAA,CAA6CwQ,UAA7C,CAAwD,aAAxD;AAAuE,QAAQ,EAAG,CAAE,MAA+B,GAA/B,CAAO,CAAC,EAAkB,CAAlB,CAAEzxD,IAAA,CAAKqK,MAAL,EAAF,CAAV,CAAlF,CAEA,KAAA,CAAKs9D,WAAL,CAAiBvtE,GAAA,CAAIc,EAAJ,CAAO,IAAP,CAAa,SAAb,CAAjB,CAN6B,CAtIA,CA+I9BwsC,cAAeA,QAAS,CAACnvC,CAAD,CAAS,CAChC6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfo7B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACb74B,MAAO,wBADM,CAEbknD,aAAc,CAAA,CAFD,CAAD,CAGX,CACDluB,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CADX,CAEDuB,WAAY,EAFX,CAGDt5B,MAAO,GAHN,CAIDI,MAAO,QAJN,CAKEwkC,UAAW,EALb,CAMEF,SAAU,EANZ,CAOEC,SAAU,GAPZ,CAQEpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAON,QAAP,CAAkB,IAAA,CAAKjb,WAAL,CAAiB,OAAjB,CAClBub,EAAA,CAAOL,SAAP,CAAmBxa,QAAA,CAAS6a,CAAT,CAAgBN,QAAhB;AAAyB,EAAzB,CACnBM,EAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,SAAjB,CAAhB,CAH6B,CADpB,CAMV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAAC6/C,QAAS7V,CAAV,CAAlB,CACA,KAAA,CAAK2W,oBAAL,EAF0C,CANjC,CAUVtrE,MAAO,IAVG,CARb,CAHW,CAJH,CAAD,CAFE,CAAhB,CAiCA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CAlCgC,CA/IH,CAsL9Bxa,UAAW,CACVssE,SAAUA,QAAQ,EAAG,CACvB,IAAA,CAAKC,aAAL,EAEA,KAAIh/B,EAAa,IAAA,CAAKpkB,WAAL,CAAiB,YAAjB,CACX,IAAmB7jB,IAAAA,EAAnB,GAAIioC,CAAJ,CAA8B,CAC7B,GAA0B,GAA1B,EAAIA,CAAA,CAAW7N,MAAX,CAAkB,CAAlB,CAAJ,CACI,IAAI2a,EAAWx7C,GAAA,CAAIwvC,MAAJ,CAAWd,CAAX,CAAuB,CAAA,CAAvB,CADnB,KAGC,IAA4B,EAA5B,CAAIA,CAAA,CAAW1nC,OAAX,CAAmB,GAAnB,CAAJ,CACCw0C,CACA,CADW,EACX,CAAA9M,CAAA,CAAWtqB,KAAX,CAAiB,GAAjB,CAAA,CAAsB5L,OAAtB,CAA8B,QAAQ,CAAC5Y,CAAD,CAAO,CAC5CqkC,KAAA,CAAQrkC,CAAA,CAAKwkB,KAAL,CAAW,GAAX,CACRo3B,EAAA,CAASx2C,IAAT,CAAc,CACb2a,KAAMskB,KAAA,CAAM,CAAN,CADO,CAEbx6B,QAASuhB,QAAA,CAASiZ,KAAA,CAAM,CAAN,CAAT,CAFI,CAAd,CAF4C,CAA7C,CAFD,KASO,CACN,IAAI5/B,EAAQ,EACZm3C,EAAA,CAAW,EACX9M,EAAA,CAAWtqB,KAAX,CAAiB,GAAjB,CAAA,CAAsB5L,OAAtB,CAA8B,QAAQ,CAAC5Y,CAAD,CAAO,CACxCA,CAAJ;AAAYyE,CAAZ,CACCA,CAAA,CAAMzE,CAAN,CAAA,EADD,CAGCyE,CAAA,CAAMzE,CAAN,CAHD,CAGe,CAJ6B,CAA7C,CAOA,KAAKA,IAAL,GAAayE,EAAb,CACCm3C,CAAA,CAASx2C,IAAT,CAAc,CACb2a,KAAM/f,IADO,CAEb6J,QAASpF,CAAA,CAAMzE,IAAN,CAFI,CAAd,CAXK,CAkBS,IAAjB,GAAI47C,CAAJ,EAAyC,CAAzC,CAAyBA,CAAzB,CAAkC54C,MAAlC,GACC,IAAA,CAAK80B,WAAL,CAAiB,YAAjB,CAA+B8jB,CAA/B,CAEG,CADA,IAAA,CAAKmyB,QAAL,CAAcnyB,CAAd,CACA,CAAA,IAAA,CAAKoyB,cAAL,EAHJ,CA/B6B,CAJb,CADX,CA2CVxE,OAAQA,QAAQ,CAAChnC,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,CAClC,IAAA,CAAKy5D,YAAL,EAAJ,EAA2B,IAAA,CAAK5vC,SAAL,EAA3B,GACC,IAAA,CAAKsjD,gBAAL,EAOA,CALIprE,CAKJ,CALS,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAKT,CAJGl7D,CAIH,CAJW6B,CAAA,CAAG5B,QAAH,EAIX,CAHAH,CAGA,CAHS+B,CAAA,CAAG9B,SAAH,EAGT,CADA8B,CAAA,CAAG4rB,IAAH,CAAQ,KAAR,CAAA,CAAeiF,GAAf,CAAmB,CAAC1yB,MAAOA,CAAR,CAAeF,OAAQA,CAAvB,CAAnB,CACA,CAAI,IAAA,CAAKotE,QAAL,EAAJ,EACI,IAAA,CAAK3T,YAAL,EAAA,CAAoB7nD,IAApB,CAAyB,CAAC1R,CAAD,CAAQF,CAAR,CAAzB,CAAA,CAA0C4O,IAA1C,EAAA,CAAiDyxC,KAAjD,CAAuD,IAAA,CAAK+sB,QAAL,EAAvD,CAAA,CAAwE59D,KAAxE,EATL,CADsC,CA3C7B,CA0DV+zD,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CACtC,IAAA,CAAK3C,cAAL,EAAA,CAAsB6zB,oBAAtB,EAAA,CAA6CwQ,UAA7C,CAAwD,MAAxD;AAAgE,IAAA,CAAK/sC,WAAL,CAAiB,YAAjB,CAAhE,CACG,KAAA,CAAKojD,aAAL,EACI,KAAA,CAAKpjD,WAAL,CAAiB,UAAjB,CAAJ,CACC,IAAA,CAAKqY,SAAL,CAAe,kBAAf,CAAmC,IAAnC,CAAyChN,CAAA,CAAOnL,WAAP,CAAmB,IAAA,CAAKF,WAAL,CAAiB,UAAjB,CAAnB,CAAzC,CADD,CAEW,IAAA,CAAKA,WAAL,CAAiB,OAAjB,CAAJ,CACN,IAAA,CAAKqY,SAAL,CAAe,kBAAf,CAAmC,IAAnC,CAAyChN,CAAA,CAAOnL,WAAP,CAAmB,IAAA,CAAKF,WAAL,CAAiB,OAAjB,CAAnB,CAAzC,CADM,CAGH,IAAA,CAAKyjD,cAAL,CAAoBp4C,CAApB,CAR+B,CA1D1B,CAsEVq4C,eAAgBA,QAAQ,CAAChlC,CAAD,CAAMrT,CAAN,CAAc,CACrC,IAAA,CAAKo4C,cAAL,CAAoBp4C,CAApB,CADqC,CAtE5B,CA2EVs4C,iBAAkBA,QAAQ,CAACjlC,CAAD,CAAMznC,CAAN,CAAgB,CACrCA,CAAJ,GACQo0B,CAIJ,CAJa,IAAA,CAAKpL,SAAL,EAIb,CAHIhpB,CAGJ,CAHeo0B,CAAA,CAAOnL,WAAP,CAAmBjpB,CAAnB,CAGf,CAFA,IAAA,CAAKm2B,WAAL,CAAiB,OAAjB,CAA0Bn2B,CAAA,CAASkpB,KAAT,EAA1B,CAEA,CADI+pB,CACJ,CADoBjzC,CAAA,CAASkzC,gBAAT,CAA0B,CAAC60B,SAAU,CAAA,CAAX,CAAkB3zC,OAAQA,CAA1B;AAAkC8iB,SAAU,IAAA,CAAKnuB,WAAL,CAAiB,YAAjB,CAA5C,CAA4E8tB,YAAa,IAAzF,CAA1B,CACpB,CAAA,IAAA,CAAK81B,qBAAL,CAA2B15B,CAA3B,CALJ,CADyC,CA3EhC,CAqFV25B,iBAAkBA,QAAQ,CAACnlC,CAAD,CAAMrT,CAAN,CAAc,CACnC,IAAA,CAAKy4C,OAAL,EAAJ,EAAsB,IAAtB,CAA2Bf,WAA3B,EAAyC,IAAA,CAAKU,cAAL,CAAoBp4C,CAApB,CADF,CArF9B,CAtLmB,CAgR9Bo4C,eAAgBA,QAAQ,CAACp4C,CAAD,CAAS,CAEflvB,IAAAA,EAAjB,GADe,IAAA+0C,CAAKlxB,WAALkxB,CAAiB,YAAjBA,CACf,GACF,IAAA,CAAK3uB,YAAL,CAAkB,CAAC5oB,MAAOwC,IAAAA,EAAR,CAAmB4D,SAAU5D,IAAAA,EAA7B,CAAlB,CACA,CAAA,IAAA,CAAK4nE,mBAAL,CAAyB14C,CAAA,CAAOspB,cAAP,CAAsB,CAACqqB,SAAU,CAAA,CAAX,CAAkB7wB,SAAU,IAAA,CAAKnuB,WAAL,CAAiB,YAAjB,CAA5B,CAA4D8tB,YAAa,IAAzE,CAAtB,CAAzB,CAFE,CAFgC,CAhRH,CAqS9B81B,sBAAuBA,QAAQ,CAAC15B,CAAD,CAAgB,CAC9CA,CAAA,CAAcE,IAAd,CAAmB,CAClBrR,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAA,CAAK05B,OAAL,CAAa,IAAb,CAAkBhB,aAAlB,CACA;IAAA,CAAKiB,UAAL,CAAgB55B,CAAA,CAAU65B,UAAV,EAAhB,CACA,KAAA,CAAKhB,oBAAL,EAH+C,CAD9B,CAMlBtrE,MAAO,IANW,CAOlBkvB,OAAQ,IAAA,CAAKgG,YAAL,EAPU,CAAnB,CAD8C,CArSjB,CAiT9Bi3C,oBAAqBA,QAAQ,CAACrvB,CAAD,CAAc,CAC7CA,CAAA,CAAYtK,IAAZ,CAAiB,CACbrR,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAA,CAAK05B,OAAL,CAAa,IAAb,CAAkBjB,WAAlB,CACA,KAAA,CAAKkB,UAAL,CAAgB55B,CAAA,CAAU65B,UAAV,EAAhB,CACH,KAAA,CAAKhB,oBAAL,EAHkD,CADnC,CAMbtrE,MAAO,IANM,CAObkvB,OAAQ,IAAA,CAAKgG,YAAL,EAPK,CAAjB,CAD6C,CAjTb,CA6T9Bo2C,qBAAsBA,QAAQ,EAAG,CAChC,IAAIzlD,EAAU,IAAA,CAAKymD,UAAL,EAAd,CACI9B,EAAU,IAAA,CAAKpiD,WAAL,CAAiB,SAAjB,CACVoiD,EAAJ,CAAY3kD,CAAZ,CAAoBnlB,MAApB,GAA6B8pE,CAA7B,CAAqC3kD,CAArC,CAA6CnlB,MAA7C,CAEA,KADA,IAAIyB,EAAQ,EAAZ,CACS1B,EAAE,CAAX,CAAcA,CAAd,CAAgB+pE,CAAhB,CAAyB/pE,CAAA,EAAzB,CAC+B,CAA9B,CAAIolB,CAAA,CAAQplB,CAAR,CAAA,CAAWwB,GAAX,CAAe,SAAf,CAAJ,EACIE,CAAA,CAAMW,IAAN,CAAW,CAAC2a,KAAMoI,CAAA,CAAQplB,CAAR,CAAA,CAAWwB,GAAX,CAAe,MAAf,CAAA,CAAuBN,OAAvB,CAA+B,IAA/B;AAAoC,EAApC,CAAP,CAAgD4F,QAASse,CAAA,CAAQplB,CAAR,CAAA,CAAWwB,GAAX,CAAe,SAAf,CAAzD,CAAX,CAGL,KAAA,CAAKwpE,QAAL,CAActpE,CAAd,CACA,KAAA,CAAKupE,cAAL,EAXgC,CA7TH,CA2U9BF,cAAeA,QAAQ,CAACe,CAAD,CAAc,CACpC,GAAIA,CAAJ,EAA0ChoE,IAAAA,EAA1C,EAAmB,IAAA,CAAK0zD,YAAL,EAAnB,CAEC,GADIyS,CACA,CADmB,IAAA,CAAKtiD,WAAL,CAAiB,kBAAjB,CACnB,CAAoB,MAApB,EAAAsiD,CAAA,EAAmD,CAAA,CAAnD,GAA8BA,CAAlC,CAA6D,CAC5D,IAAA,CAAKl1C,WAAL,CAAiB,kBAAjB,CAAqC,CAAA,CAArC,CACI52B,EAAAA,CAAK,IAAA,CAAK4tE,WAAL,EAKT,KAJA,IAAIC,EAAU,CACb7tE,GAAIA,CADS,CAAd,CAGIyS,EAAO,CAAC,YAAD,CAAc,MAAd,CAAqB,YAArB,CAAkC,WAAlC,CAHX,CAIS5Q,EAAI,CAAb,CAAgBA,CAAhB,CAAoB4Q,CAApB,CAAyB3Q,MAAzB,CAAiCD,CAAA,EAAjC,CACCgsE,CAAA,CAAQp7D,CAAA,CAAK5Q,CAAL,CAAR,CAAA,CAAmB,IAAA,CAAK2nB,WAAL,CAAiB/W,CAAA,CAAK5Q,CAAL,CAAjB,CAGhBisE,EAAAA,CAAY,sCAAZA,CAAmD,IAAA,CAAK57C,cAAL,EAAA,CAAsBoR,UAAtB,EAAnDwqC,CAAsF,gDAgB1F,KAAA,CAAK3wD,MAAL,CAAY2wD,CAAZ;CAfkB,mDAelB,CAdkB9tE,CAclB,CAdqB,+HAcrB,CAZ+B,IAY/B,CAZoCA,EAYpC,CAZuC,uFAYvC,CATYA,CASZ,CATe,kHASf,CANgBA,CAMhB,CANmB,8DAMnB,CAL+B,IAK/B,CALoCA,EAKpC,CALuC,kEAKvC;AAAmC,CAAA,CAAnC,CAAyC,QAAQ,EAAG,CACnD+tE,QAASA,EAAS,CAAC9F,CAAD,CAAY,CAC7B,GAAyB,WAAzB,GAAI,MAAO+F,UAAX,CAAsC,CACrC,IAAIrsE,EAAKsmE,CAAA,CAAUlN,SAAV,EAAA,CAAsBC,eAAtB,EAAT,CACIl7D,EAAQ6B,CAAA,CAAG5B,QAAH,EACRH,EAAAA,CAAS+B,CAAA,CAAG9B,SAAH,EAEV,KAAIouE,EAAchG,CAAA,CAAU/1C,cAAV,EAAA,CAA2BoR,UAA3B,EAAd2qC,CAAsD,mCAC1DhG,EAAA,CAAUhoE,GAAV,CAAc,CACbC,MAAO,OADM,CAEbF,GAAI6tE,CAAJ7tE,CAAYA,EAFC,CAGbqjC,IAAK4qC,CAHQ,CAIbnuE,MAAOA,CAJM,CAKbF,OAAQA,CALK,CAMbsuE,UAAWL,CANE,CAObM,YAAa,CAClBptC,KAAM,OADY,CAElBnM,MAAO,SAFW,CAGlBw5C,kBAAmB,QAHD,CAIlBC,QAAS,SAJS,CAKlBC,MAAO,QALW,CAPA,CAAd,CAgBArG,EAAA,CAAUsG,cAAV,CAA2BrvE,GAAA,CAAImE,GAAJ,CAAQwqE,CAAR,CAAgB7tE,EAAhB,CAAA,CAAoB+qE,KAApB,EAA3B,CAAuDnpE,GAtBrB,CAAtC,IAwBCiF,WAAA,CAAWknE,CAAX,CAAsB,EAAtB,CAA0B9F,CAA1B,CAzB4B,CA4B9B8F,CAAA,CAAU,IAAV,CA7BmD,CAApD,CA+BG,IA/BH,CA3B4D,CAA7D,IA4DKpsE,EAoBP,CApBY,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAoBZ,CAnBGr5D,CAAA,CAAGwb,MAAH,CAAU,EAAV,CAmBH;AAlBUrd,CAkBV,CAlBkB6B,CAAA,CAAG5B,QAAH,EAkBlB,CAjBIH,CAiBJ,CAjBa+B,CAAA,CAAG9B,SAAH,EAiBb,CAhBA,IAAA,CAAKs7D,YAAL,CACCjoD,EAAA,CAAGs7D,WAAH,EAAA,CACEh9D,IADF,CACO,CAAC1R,CAAD,CAAQF,CAAR,CADP,CAAA,CAEE6uE,QAFF,CAEW,CAAA,CAFX,CAAA,CAGEvsE,OAHF,CAGU,CAHV,CAAA,CAIEwsE,MAJF,CAIS,QAAQ,CAACzqE,CAAD,CAAI,CAAE,MAAO,KAAA,CAAKiuB,cAAL,EAAA,CAAsB6zB,oBAAtB,EAAA,CAA6C4oB,iBAA7C,CAA+D,aAA/D,CAA8E1qE,CAA9E,CAAgF4a,IAAhF,CAAT,CAAZ,CAA8Ghe,IAA9G,CAAmH,IAAnH,CAJT,CAAA,CAKE+tE,MALF,CAKS,aALT,CAAA,CAMExoE,IANF,CAMO,QAAQ,CAACnC,CAAD,CAAI,CAAE,MAAO,KAAA,CAAKiuB,cAAL,EAAA,CAAsB6zB,oBAAtB,EAAA,CAA6C4oB,iBAA7C,CAA+D,MAA/D,CAAuE1qE,CAAvE,CAAyE4a,IAAzE,CAAT,CAAZ,CAAuGhe,IAAvG,CAA4G,IAA5G,CANP,CAAA,CAOEguE,QAPF,CAOW,QAAQ,CAAC5qE,CAAD,CAAI,CAAC,MAAOA,EAAP,CAAS4qE,QAAV,CAAZ,CAAkChuE,IAAlC,CAAuC,IAAvC,CAPX,CAAA,CAQEge,IARF,CAQO,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS4a,IAAX,CARnB,CAAA,CASE3J,EATF,CASK,KATL,CASY,IAAA,CAAKoJ,IAAL,CAAUzd,IAAV,CAAe,IAAf,CATZ,CADD,CAgBA,CAHI6kC,CAGJ,CAHUxyB,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CAAgCC,IAAhC,CAAqC,IAArC;AAA0C,IAAA,CAAK81D,WAAL,EAA1C,CAAA,CAA8D91D,IAA9D,CAAmE,OAAnE,CAA4E,aAA5E,CAAA,CAA2FA,IAA3F,CAAgG,OAAhG,CAAyGhY,CAAzG,CAAA,CAAgHgY,IAAhH,CAAqH,QAArH,CAA+HlY,CAA/H,CAGV,CAFA,IAAA,CAAKu8D,MAAL,CAAYz2B,CAAA,CAAI7tB,MAAJ,CAAW,GAAX,CAAA,CAAgBC,IAAhB,CAAqB,WAArB,CAAkC,YAAlC,CAAiDhY,CAAjD,CAAyD,CAAzD,CAA6D,GAA7D,CAAmEF,CAAnE,CAA4E,CAA5E,CAAgF,GAAhF,CAAZ,CAEA,CAAsB+F,IAAAA,EAAtB,GAAI,IAAA,CAAKmpE,MAAL,EAAJ,EACC,IAAA,CAAKC,MAAL,CAAY7vE,GAAA,CAAIu4B,MAAJ,CAAW,aAAX,CAA0B,EAA1B,CAAZ,CApFoC,CA3UP,CAqa9Bq1C,eAAgBA,QAAQ,EAAG,CAC7B,IAAIvpE,EAAQ,IAAA,CAAKypE,QAAL,EACT,IAAI,IAAJ,CAASlkB,QAAT,EAAqBvlD,CAArB,CACC,GAA6C,CAAA,CAA7C,GAAI,IAAA,CAAKimB,WAAL,CAAiB,kBAAjB,CAAJ,CACC,GAA4B7jB,IAAAA,EAA5B,GAAI,IAAJ,CAAS4oE,cAAT,EAA0E5oE,IAAAA,EAA1E,GAAyC,IAAzC,CAA8C4oE,cAA9C,CAA6DS,QAA7D,CAAqF,CAEpF,IADA,IAAI/uB,EAAQ,EAAZ,CACSp+C,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CACtC,IAAIoD,EAAI1B,CAAA,CAAM1B,CAAN,CACJ,EAACoD,CAAD,CAAG4Z,IAAP,EAAe5Z,CAAf,CAAiBnG,IAAjB,GAAwBmG,CAAxB,CAA0B4Z,IAA1B,CAA+B5Z,CAA/B,CAAiCnG,IAAjC,CACAmhD,EAAA,CAAM/7C,IAAN,CAAW,CAAC+sB,KAAMhsB,CAANgsB,CAAQpS,IAAT;AAAerN,KAAMvM,CAANuM,CAAQ7I,OAAvB,CAAgCW,MAAOrE,CAAPqE,CAASX,OAAzC,CAAX,CAHsC,CAKvC,IAAA,CAAK4lE,cAAL,CAAoBS,QAApB,EACA,KAAA,CAAKT,cAAL,CAAoBU,QAApB,CAA6BhvB,CAA7B,CACA,KAAA,CAAKsuB,cAAL,CAAoBW,YAApB,EAToF,CAArF,IAWChwE,IAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAeovB,cAAf,CAA+B,EAA/B,CAAmC,IAAnC,CAZF,KAcO,CACFjV,CAAAA,CAAU,GACVC,EAAAA,CAAU,EACd,KAASj2D,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CACtC,IAAI2P,EAAOjO,CAAA,CAAM1B,CAAN,CAAP2P,CAAgB7I,OAChB6I,EAAJ,CAAWqmD,CAAX,GAAoBA,CAApB,CAA8BrmD,CAA9B,CACIA,EAAJ,CAAWsmD,CAAX,GAAoBA,CAApB,CAA8BtmD,CAA9B,CAHsC,CAKvC,IAAA,CAAK29D,mBAAL,CAAyBtX,CAAzB,CACA,KAAA,CAAKuX,kBAAL,CAAwBtX,CAAxB,CAGA,KAAA,CAAKuX,gBAAL,EACA,KAAA,CAAKtC,gBAAL,EAIA,KAAA,CAAK1T,YAAL,EAAA,CAAoBpZ,KAApB,CAA0B18C,CAA1B,CAAA,CAAiC6L,KAAjC,EAjBM,CAfR,IAmCClQ,IAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAeovB,cAAf,CAA+B,EAA/B,CAAmC,IAAnC,CArCyB,CAraG,CA8c9BxuD,KAAMA,QAAQ,CAAC2hC,CAAD,CAAQ6d,CAAR,CAAgB,CAC7B,IAAIx8B,EAAQ,IACH,KAAA,CAAKy5B,SAAL,EAAA,CAAiBC,eAAjB,EACT;IAAIl7D,EAAQ,IAAA,CAAKu5D,YAAL,EAAA,CAAoB7nD,IAApB,EAAA,CAA2B,CAA3B,CAAZ,CACI5R,EAAS,IAAA,CAAKy5D,YAAL,EAAA,CAAoB7nD,IAApB,EAAA,CAA2B,CAA3B,CAETojB,EAAAA,CAAQkpC,CAAA,CAASh5D,IAAA,CAAKgM,GAAL,CACvBhR,CADuB,CACfgF,IAAA,CAAKwI,GAAL,CAASwwD,CAAA,CAAO,CAAP,CAAT,CAAmB35D,CAAnB,CAAuBrE,CAAvB,CAA+B,CAA/B,CADe,CAEvBA,CAFuB,CAEfgF,IAAA,CAAKwI,GAAL,CAASwwD,CAAA,CAAO,CAAP,CAAT,CAAmB35D,CAAnB,CAAuBrE,CAAvB,CAA+B,CAA/B,CAFe,CAGvBF,CAHuB,CAGdkF,IAAA,CAAKwI,GAAL,CAASwwD,CAAA,CAAO,CAAP,CAAT,CAAmBz0D,CAAnB,CAAuBzJ,CAAvB,CAAgC,CAAhC,CAHc,CAIvBA,CAJuB,CAIdkF,IAAA,CAAKwI,GAAL,CAASwwD,CAAA,CAAO,CAAP,CAAT,CAAmBz0D,CAAnB,CAAuBzJ,CAAvB,CAAgC,CAAhC,CAJc,CAAT,CAKR,CALQ,CAKJ,CAEX,KAAIqF,EAAIiO,EAAA,CAAGiM,UAAH,EAAA,CAAgBC,QAAhB,CAAyB,GAAzB,CAEJnB,EAAAA,CAAQ,IAAA,CAAK8/C,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CAAgCiG,IAAhC,CAAqCgkC,CAArC,CAA4C,QAAQ,CAACh8C,CAAD,CAAI,CAAC,MAAOA,EAAP,CAAS4a,IAAV,CAAxD,CAEZZ,EAAA,CAAMqB,IAAN,EAAA,CAAaH,UAAb,CAAwBla,CAAxB,CAAA,CACEmF,KADF,CACQ,WADR,CACqB,KADrB,CAAA,CAEE8N,MAFF,EAIA,KAAIo3D,EAAarxD,CAAA,CAAMW,KAAN,EAAA,CAAc/G,MAAd,CAAqB,MAArB,CAAA,CACfgH,IADe,CACV,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS4a,IAAX,CADF,CAAA,CAEf/G,IAFe,CAEV,aAFU,CAEK,QAFL,CAAA,CAGfA,IAHe,CAGV,WAHU,CAGG,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS0E,OAAX,CAHf,CAAA,CAIfmP,IAJe,CAIV,WAJU,CAIG,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,YAAP;AAAsB,CAACA,CAAD,CAAGE,CAAH,CAAMF,CAAN,CAAQoF,CAAR,CAAtB,CAAmC,UAAnC,CAAgDpF,CAAhD,CAAkDyqE,MAAlD,CAA2D,GAA7D,CAJf,CAAA,CAKftkE,KALe,CAKT,aALS,CAKM,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOq9B,EAAA,CAAMpP,cAAN,EAAA,CAAuB6zB,oBAAvB,EAAA,CAA8C4oB,iBAA9C,CAAgE,MAAhE,CAAwE1qE,CAAxE,CAA0E4a,IAA1E,CAAT,CALlB,CAAA,CAMfzU,KANe,CAMT,MANS,CAMD,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOq9B,EAAA,CAAMpP,cAAN,EAAA,CAAuBC,eAAvB,CAAuCluB,CAAvC,CAAyC4a,IAAzC,CAA+C,CAAA,CAA/C,CAAT,CANX,CAAA,CAOfzU,KAPe,CAOT,WAPS,CAOI,KAPJ,CAAA,CAQf8K,EARe,CAQZ,OARY,CAQH,QAAQ,CAACoQ,CAAD,CAAM,CAACgc,CAAA,CAAMY,aAAN,CAAoB,cAApB,CAAoCZ,CAApC,CAA2C,CAAChc,CAAD,CAAKzG,IAAL,CAA3C,CAAD,CARX,CAAA,CASf3J,EATe,CASZ,WATY,CASC,QAAQ,CAACoQ,CAAD,CAAM,CAC9B,IAAA,CAAKwpD,MAAL,EAAA,CAAcpuD,IAAd,EAD8B,CAAd,CAEf7f,IAFe,CAEV,IAFU,CATD,CAAA,CAYfqU,EAZe,CAYZ,WAZY,CAYC,QAAQ,CAACoQ,CAAD,CAAM,CAC9B,IAAIohC,EAAM,IAAA,CAAKooB,MAAL,EACVpoB,EAAA,CAAIvpC,MAAJ,CAAWmI,CAAX,CAAezG,IAAf,CAAoB,IAApB,CAAyByG,CAAzB,CAA6B3c,OAA7B,CACIrL,EAAAA,CAAY4B,GAAA,CAAImE,GAAJ,CAAQ,IAAA,CAAKuqE,WAAL,EAAR,CAAZtwE,CAAwCsE,GACxC2tE,EAAAA;AAASr8D,EAAA,CAAGs8D,KAAH,CAASlyE,CAAT,CACbiyE,EAAA,CAAO,CAAP,CAAA,EAAa,EACb7oB,EAAA,CAAI8H,WAAJ,CAAgB+gB,CAAhB,CAN8B,CAAd,CAOf1uE,IAPe,CAOV,IAPU,CAZD,CAAA,CAoBfqU,EApBe,CAoBZ,UApBY,CAoBA,QAAQ,CAACoQ,CAAD,CAAM,CAC7B,IAAA,CAAKwpD,MAAL,EAAA,CAAcjsC,IAAd,EAD6B,CAAd,CAEdhiC,IAFc,CAET,IAFS,CApBA,CAwBCod,EAAAwxD,CAAMvwD,KAANuwD,CAAYH,CAAZG,CAElB,CAAYtwD,UAAZ,CAAuBla,CAAvB,CAAA,CACEmF,KADF,CACQ,aADR,CACuB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOq9B,EAAA,CAAMpP,cAAN,EAAA,CAAuB6zB,oBAAvB,EAAA,CAA8C4oB,iBAA9C,CAAgE,MAAhE,CAAwE1qE,CAAxE,CAA0E4a,IAA1E,CAAT,CADnC,CAAA,CAEEzU,KAFF,CAEQ,MAFR,CAEgB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOq9B,EAAA,CAAMpP,cAAN,EAAA,CAAuBC,eAAvB,CAAuCluB,CAAvC,CAAyC4a,IAAzC,CAA+C,CAAA,CAA/C,CAAT,CAF5B,CAAA,CAGE/G,IAHF,CAGO,WAHP,CAGoB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,YAAP,CAAsB,CAACA,CAAD,CAAGE,CAAH,CAAMF,CAAN,CAAQoF,CAAR,CAAtB,CAAmC,UAAnC,CAAgDpF,CAAhD,CAAkDyqE,MAAlD,CAA2D,GAA7D,CAHhC,CAAA,CAIEtkE,KAJF,CAIQ,WAJR,CAIqB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS4qE,QAAT,CAAoB,IAAtB,CAJjC,CAMA,KAAA,CAAK9Q,MAAL,EAAA,CAAc5+C,UAAd,CAAyBla,CAAzB,CAAA,CAA4B6S,IAA5B,CAAiC,WAAjC;AAA8C,YAA9C,CAA6DhY,CAA7D,CAAqE,CAArE,CAAyE,GAAzE,CAA+EF,CAA/E,CAAwF,CAAxF,CAA4F,SAA5F,CAAwGg1B,CAAxG,CAAgH,GAAhH,CArDgC,CA9cA,CAsgB9BzhB,IAAKA,QAAQ,CAACpU,CAAD,CAAQ2wE,CAAR,CAAgBC,CAAhB,CAAuB7N,CAAvB,CAA+B8N,CAA/B,CAAsC,CACrD,MAAO9N,EAAP,EAAqC/iE,CAArC,CAA6C2wE,CAA7C,GAAwDC,CAAxD,CAAgED,CAAhE,GAAiBE,CAAjB,CAAyB9N,CAAzB,CADqD,CAtgBrB,CA0gBjC+N,wBAAyBA,QAAQ,EAAG,CACnC,IAAItsE,EAAQ,IAAA,CAAKypE,QAAL,EACN,IAAcrnE,IAAAA,EAAd,GAAIpC,CAAJ,CAAyB,CAC9B,IAAI5B,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAEC8U,EAAAA,CAAYnuE,CAAA,CAAG5B,QAAH,EAAZ+vE,CAA4BnuE,CAAA,CAAG9B,SAAH,EAChB,IAAhB,CAAIiwE,CAAJ,CAAwB,IAAA,CAAKC,cAAL,CAAoB,CAApB,CAAxB,CACK,IAAA,CAAKA,cAAL,CAAoB,EAApB,CAIL,KADA,IAAIC,EAAiB,CAArB,CACSnuE,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CAEnC,IAAIouE,EAAW,IAAA,CAAKC,iBAAL,CADJ3sE,CAAA0tB,CAAMpvB,CAANovB,CACI,CACf++C,EAAA,EAAkBC,CAHiB,CAMvC,IAAA,CAAKE,iBAAL,CAAuBL,CAAvB,CAAmCE,CAAnC,CAfwB,CAFI,CA1gBH,CA+hB9BE,kBAAmBA,QAAQ,CAACj/C,CAAD,CAAO,CAI9B,IAHA,IAAIm/C,EAAWtrE,IAAA,CAAKC,GAAL,CAA6B,EAA7B,CAASksB,CAAT,CAAco/C,YAAd,CAAXD,CAA8CtrE,IAA9CsrE,CAAmDE,MAAvD,CACI1wE,GAAUwwE,CAAVxwE,CAAqBqxB,CAArBrxB,CAA0BywE,YAA1BzwE,EAA0C,CAD9C,CAEIE,EAAQ,CAFZ,CAGS+B;AAAI,CAAb,CAAgBA,CAAhB,CAAoBovB,CAApB,CAAyBpS,IAAzB,CAA8B/c,MAA9B,CAAsCD,CAAA,EAAtC,CAA4C,CACxC,IAAI0uE,EAASt/C,CAAA,CAAKpS,IAAL,CAAUkhB,MAAV,CAAiBl+B,CAAjB,CAC2F/B,EAAA,CAA1F,GAAd,EAAIywE,CAAJ,EAA+B,GAA/B,EAAqBA,CAArB,EAAgD,GAAhD,EAAsCA,CAAtC,EAAiE,GAAjE,EAAuDA,CAAvD,EAAkF,GAAlF,EAAwEA,CAAxE,EAAmG,GAAnG,EAAyFA,CAAzF,CAAwGzwE,CAAxG,CAAiHswE,CAAjH,CAA4H,CAA5H,CACmB,GAAd,EAAIG,CAAJ,EAA+B,GAA/B,EAAqBA,CAArB,CAAoCzwE,CAApC,CAA6CswE,CAA7C,EAAyD,CAAzD,CAA6D,CAA7D,EACAtwE,CADA,CACSswE,CADT,CACoB,GAJe,CAO5C,MADexwE,EACf,CADwBE,CAVM,CA/hBJ,CA6iB9BitE,iBAAkBA,QAAQ,EAAG,CAC5B,IAAA,CAAK8C,uBAAL,EACA,KAAItsE,EAAQ,IAAA,CAAKypE,QAAL,EACZ,IAAcrnE,IAAAA,EAAd,GAAIpC,CAAJ,CACF,IAAK,IAAI1B,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CACtC,IAAI/C,EAAOyE,CAAA,CAAM1B,CAAN,CAAX,CACI2uE,EAAe,IAAA,CAAKC,mBAAL,CAAyB3xE,CAAzB,CACnBA,EAAA,CAAK+vE,QAAL,CAAgB2B,CAAA,CAAe,IAAA,CAAKE,cAAL,EAAf,CAAuCF,CAAvC,CAAsD,IAAA,CAAKE,cAAL,EAHhC,CAJT,CA7iBC,CAyjB9BrB,iBAAkBA,QAAQ,EAAG,CAC5B,IAAI9rE,EAAQ,IAAA,CAAKypE,QAAL,EACZ,IAAcrnE,IAAAA,EAAd,GAAIpC,CAAJ,CACC,IAAK,IAAI1B,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CAChC,IAAIovB,EAAO1tB,CAAA,CAAM1B,CAAN,CACXovB,EAAA,CAAKo/C,YAAL,CAAoB,IAAA,CAAKl9D,GAAL,CAAS8d,CAAT,CAActoB,OAAd;AAAuB,IAAA,CAAKgoE,mBAAL,EAAvB,CAAmD,IAAA,CAAKC,kBAAL,EAAnD,CAA8E,EAA9E,CAAmF,CAAnF,CAFY,CAHZ,CAzjBC,CAmkB9BH,oBAAqBA,QAAQ,CAACx/C,CAAD,CAAO,CACnC,IAAI4/C,EAAiB,IAAA,CAAKC,iBAAL,EACdC,EAAAA,EAAO,IAAA,CAAKb,iBAAL,CAAuBj/C,CAAvB,CAGX,QADuBnsB,IAAA,CAAK8H,IAAL,CAAU,CAAV,CACvB,CADsC9H,IAAA,CAAK8H,IAAL,CAAU,CAAV,CAAc9H,IAAA,CAAKksE,GAAL,CAAS//C,CAAT,CAAcpS,IAAd,CAAmB/c,MAAnB,CAA2B,CAA3B,CAAd,CAA8CivE,CAA9C,CAAqD9/C,CAArD,CAA0DpS,IAA1D,CAA+D/c,MAA/D,CACtC,CAD+G,CAC/G,CADmHmvB,CACnH,CADwHpS,IACxH,CAD6H/c,MAC7H,GADwI,CACxI,CAD4ImvB,CAC5I,CADiJpS,IACjJ,CADsJ/c,MACtJ,CALgC,CAnkBN,CAAlC,C,CCbA5C,GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CAC1CyI,OAAQ,iBADkC,CAE1C7H,OAAQ,CAAC,oBAAD,CAFkC,CAG1C4V,MAAO,wBAHmC,CAIvCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ7M,MAAO3jB,IAAAA,EADH,CAEJ4qC,KAAM5qC,IAAAA,EAFF,CAGJolC,MAAO,CAHH,CAIJkZ,SAAU,MAJN,CAKJ1gD,MAAOoC,IAAAA,EALH,CAMJojC,QAAS,CANL,CAOJkoC,WAAYtrE,IAAAA,EAPR,CAHG,CAYX4yB,MAAO,mBAZI,CAJ8B,CAmBvCl7B,OAAQ,CACPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CACnCA,MAAO,kBAD4B,CAA3B,CADF,CAKPk3D,SAAUzxD,IAAAA,EALH,CAMPurE,SAAUvrE,IAAAA,EANH,CAQPwrE,MAAOxrE,IAAAA,EARA,CASPqW,IAAKrW,IAAAA,EATE,CAUPwxD,UAAWxxD,IAAAA,EAVJ,CAWPsY,MAAOtY,IAAAA,EAXA,CAYP6Z,MAAO7Z,IAAAA,EAZA,CAaPoS,KAAMpS,IAAAA,EAbC,CAePyrE,SAAU,CAAA,CAfH,CAiBPC,YAAa1rE,IAAAA,EAjBN,CAmBP6xD,YAAa7xD,IAAAA,EAnBN,CAqBP2rE,YAAa3rE,IAAAA,EArBN;AAuBPsyD,WAAY,CACXsZ,YAAa,CACZrZ,OAAQ,CACPjvD,KAAM,SADC,CAEPjB,OAAQ,SAFD,CADI,CAKZswD,UAAW,CACVrvD,KAAM,SADI,CAEVjB,OAAQ,SAFE,CALC,CADF,CAWXwpE,YAAa,CACZtZ,OAAQ,CACPjvD,KAAM,SADC,CAEPjB,OAAQ,SAFD,CADI,CAKZswD,UAAW,CACVrvD,KAAM,SADI,CAEVjB,OAAQ,SAFE,CALC,CAXF,CAqBXuX,KAAM,CACL24C,OAAQ,CACPlwD,OAAQ,SADD,CAEPowD,cAAe,EAFR,CADH,CAKLE,UAAW,CACVtwD,OAAQ,SADE,CAEVowD,cAAe,EAFL,CALN,CArBK,CAvBL,CAwDPG,aAAc,CACbkZ,YAAa,CACZjZ,QAAS,EADG,CAEZC,eAAgB,EAFJ,CAGZC,YAAa,GAHD,CAIfC,aAAc,GAJC,CAKfC,eAAgB,GALD,CAMfC,eAAgB,IAND,CADA,CASb6Y,gBAAiB,CAChBlZ,QAAS,EADO,CAEhBC,eAAgB,EAFA,CAGhBC,YAAa,EAHG,CAInBC,aAAc,GAJK;AAKnBC,eAAgB,CALG,CAMnBC,eAAgB,CANG,CATJ,CAxDP,CAnB+B,CA+FvC8Y,aAAc,CA/FyB,CAgGvCC,iBAAkB,CAhGqB,CAkGvClyE,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAKy7D,WAAL,CAAiB,EAAjB,CACA,KAAA,CAAK+Y,WAAL,CAAiB,EAAjB,CAEA,KAAA,CAAKC,QAAL,CAAc5yE,GAAA,CAAIc,EAAJ,CAAO,IAAP,CAAa,QAAb,CAAd,CAEA,KAAA,CAAKo+B,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAP6B,CAlGS,CA4GvC2xB,cAAeA,QAAQ,EAAG,CAEtBttC,GAAA,CAAIoE,KAAJ,CADS8oB,IACT,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEVo7B,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACL74B,MAAO,kBADF,CAAD,CAEL,CACD2e,KAVAuN,IAUM,CAAGyL,QAAH,CAAY,YAAZ,CADL,CAEbU,MAAO,mBAFM;AAGDC,QAAS,IAATA,CAAc4jC,UAHb,CAIDh7D,MAbAgrB,IASC,CAFK,CAOL,IAAA,CAAKyL,QAAL,CAAc,SAAd,CAPK,CAOoB,CAC1B33B,MAAO,QADmB,CAE1B0kC,OAAQ,eAFkB,CAG1BJ,SAAU,CAHgB,CAI1BzlC,MAAO,CAJmB,CAK1B0lC,SAAU,EALgB,CAM1BC,UAAW,CANe,CAO1B5kC,MAAO,EAPmB,CAQ1BO,UAAW,CACV6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACxBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,SAAjB,CAAhB,CADwB,CADf,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C,IAAA,CAAKn7C,WAAL,CAAiB,SAAjB,CAA4BmO,CAAA,CAAOuB,QAAP,EAA5B,CACI,KAAA,CAAK0rC,cAAL,EAAJ,GAA8B,IAA9B,CAAmCL,YAAnC,GACQpuE,CACP,CADe,IAAA,CAAKu2D,WAAL,EAAA,CAAmB3mD,GAAnB,CAAuB,QAAQ,CAACW,CAAD,CAAO,CAAE,MAAOA,EAAP,CAAYhV,IAAd,CAAtC,CACf,CAAmB,CAAnB,CAAIyE,CAAJ,CAAUzB,MAAV,GACC,IAAA,CAAKg3D,WAAL,CAAiB,EAAjB,CAIA,CAHA,IAAA,CAAK+Y,WAAL,CAAiB,EAAjB,CAGA,CAFA,IAAA,CAAKp/C,OAAL,EAEA,CAAA,IAAA,CAAKw/C,aAAL,CAAmB1uE,CAAnB,CALD,CAFD,CAF0C,CAJjC,CAiBVnC,MAvCDgrB,IAsBW,CARe,CAPpB,CAJG,CAAD,CAFH,CAAd,CA4CA;IAAA,CAAK8lD,cAAL,CAAoBhzE,GAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CACrD06C,SAAUjzE,GAAA,CAAIkzE,OAAJ,EAD2C,CAErDr5C,MAAO,CAAC,CACP74B,MAAO,KADA,CAEP0kC,OAAQ,OAFD,CAGPglB,OAAQ,iBAHD,CAIPzpD,KAAM,EAJC,CAAD,CAKL,CACKD,MAAO,eADZ,CALK,CAOL,CACDA,MAAO,eADN,CAED2e,KAAM,OAFL,CAGD+lB,OAAQ,OAHP,CAIDvkC,UAAW,CACVgyE,YAAaA,QAAQ,CAAC7pE,CAAD,CAAIs7B,CAAJ,CAAaj1B,CAAb,CAAgB,CAChCiF,CAAAA,CAAO,IAAA,CAAKw+D,cAAL,EACE3sE,KAAAA,EAAb,GAAImO,CAAJ,GACKmI,CAUJ,CAVW,CACVs2D,MAAOzuC,CADG,CAUX,CAPIA,CAAJ,EACC7nB,CACA,CADKuhD,EACL,CADU1pD,CACV,CADe3P,CACf,CAAA8X,CAAA,CAAKwhD,EAAL,CAAU3pD,CAAV,CAAezK,CAFhB,GAIC4S,CACA,CADKuhD,EACL,CADU,IACV,CAAAvhD,CAAA,CAAKwhD,EAAL,CAAU,IALX,CAOA,CAAA,IAAA,CAAKrD,iBAAL,CAAuBtmD,CAAvB,CAA4B9T,EAA5B,CAAgCic,CAAhC,CAXD,CAFoC,CAD3B,CAiBV7a,MAAO,IAjBG,CAJV,CAPK,CA8BL,CACDlB,MAAO,QADN,CAED2e,KAAM,kBAFL,CAGDzU,MAAO,cAHN,CAIDouB,QAASA,QAAQ,CAAC3vB,CAAD,CAAIgG,CAAJ,CAAO,CACnBiF,CAAAA,CAAO,IAAA,CAAKw+D,cAAL,EACE3sE,KAAAA,EAAb;AAAImO,CAAJ,GACK,IAAA,CAAKk+D,cAAL,EAOD,GAP2B,IAO3B,CAPgCJ,gBAOhC,GANF,IAAA,CAAKxV,UAAL,EAIA,CAHA,IAAA,CAAKoW,cAAL,CAAoB,IAApB,CAAyBb,YAAzB,CAGA,CAFA,IAAA,CAAK/6C,WAAL,CAAiB,YAAjB,CAA+BjxB,IAAAA,EAA/B,CAEA,CADAmO,CACA,CADK1E,KACL,CADa,CACb,CAAA0E,CAAA,CAAKi3B,KAAL,CAAa,IAAA,CAAKvhB,WAAL,CAAiB,OAAjB,CAEX,EAAA,IAAA,CAAKipD,sBAAL,CAA4B3+D,CAA5B,CARJ,CAFuB,CAJvB,CAiBD1S,MAAO,IAjBN,CA9BK,CAgDL,CACDlB,MAAO,QADN,CAED2e,KAAM,YAFL,CAGDzU,MAAO,cAHN,CAIDouB,QAASA,QAAQ,CAAC3vB,CAAD,CAAIgG,CAAJ,CAAO,CACnBiF,CAAAA,CAAO,IAAA,CAAKw+D,cAAL,EACE3sE,KAAAA,EAAb,GAAImO,CAAJ,EACI,IAAA,CAAK4+D,YAAL,CAAkB5+D,CAAlB,CAAuBhV,IAAvB,CAEJ,KAAA,CAAK6zE,cAAL,EAAA,CAAsB9vC,IAAtB,EALuB,CAJvB,CAWDzhC,MAAO,IAXN,CAhDK,CA4DL,CACDlB,MAAO,QADN,CAED2e,KAAM,QAFL,CAGDzU,MAAO,cAHN,CAIDouB,QAASA,QAAQ,CAAC3vB,CAAD,CAAIgG,CAAJ,CAAO,CACnBiF,CAAAA,CAAO,IAAA,CAAKw+D,cAAL,EACE3sE;IAAAA,EAAb,GAAImO,CAAJ,EACC,IAAA,CAAK4mD,UAAL,CAAgB5mD,CAAhB,CAAqB9T,EAArB,CAED6I,EAAA,CAAE+wB,EAAF,CAAK,MAAL,CAAA,CAAaiJ,IAAb,EALuB,CAJvB,CAWDzhC,MAAO,IAXN,CA5DK,CAF8C,CAA5B,CAApB,CA6EA,KAAA,CAAK8T,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC/C,IAAA,CAAKgT,SAAL,EAAJ,EACC,IAAA,CAAKy+B,QAAL,EAFkD,CAA9C,CAIG,IAJH,CAMA,KAAA,CAAKpxD,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CAChC,IAAA,CAAKuU,SAAL,EAAJ,EACsC,CADtC,GACQ,IAAA,CAAKqwC,WAAL,EADR,CAC2Bh4D,MAD3B,EAEQ5C,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,IAAnB,CAAwB4oB,QAAxB,CAAkC,GAAlC,CAAuC,IAAvC,CAH4B,CAA/B,CAMA,IANA,CAQA,KAAA,CAAKpxD,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CAAC,IAAA,CAAK2oD,aAAL,CAAmB3oD,CAAnB,CAAD,CAAtC,CAAoE,IAApE,CAEA,KAAA,CAAKpU,EAAL,CAAQ,QAAR,CAAkB,QAAQ,CAACosB,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,CAEhD,GADIoc,CACJ,CADU9c,GAAA,CAAImE,GAAJ,CAAQ,IAAA,CAAKuvE,QAAL,EAAR,CACV,CACKjxE,CAWJ,CAXS,IAWT,CAXcwI,IAWd,CAVOgvD,CAUP,CAVkBx3D,CAAA,CAAG9B,SAAH,EAUlB,CATOu5D,CASP,CATiBz3D,CAAA,CAAG5B,QAAH,EASjB,CAPAic,CAAA,CAAIra,EAAJ,CAAOC,GAAP,CAAW4mC,YAAX,CAAwB,OAAxB,CAAiC4wB,CAAjC,CAOA,CANAp9C,CAAA,CAAIra,EAAJ,CAAOC,GAAP,CAAW4mC,YAAX,CAAwB,QAAxB;AAAkC2wB,CAAlC,CAMA,CALA,IAAA,CAAKE,YAAL,EAAA,CACEC,KADF,CACQ,GADR,CACapmD,EAAA,CAAGqmD,MAAH,CAAUH,CAAV,CAAkB,CAAlB,CADb,CAAA,CAEDE,KAFC,CAEK,GAFL,CAEUpmD,EAAA,CAAGsmD,MAAH,CAAUL,CAAV,CAAmB,CAAnB,CAFV,CAKA,CAAAj6D,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,IAAnB,CAAwBoe,SAAxB,CAAmC,GAAnC,CAAwC,IAAxC,CAd+C,CAAjD,CAiBH,IAjBG,CA1IS1vC,KA6JT,CAAGgS,UAAH,CAAcvjB,SAAd,CA9JsB,CA5Ga,CA8QvCyrD,SAAUA,QAAQ,EAAG,CACvB,IAAA,CAAKrN,SAAL,EACA,KAAA,CAAKuZ,cAAL,CAAoB,IAApB,CAAyBb,YAAzB,CAEA,IAAI,IAAA,CAAKnoD,WAAL,CAAiB,YAAjB,CAAJ,CAAoC,CACnC,IAAA,CAAKgpD,cAAL,CAAoB,IAApB,CAAyBZ,gBAAzB,CACA,KAAI9yE,EAAO,IAAA,CAAK0qB,WAAL,CAAiB,YAAjB,CACX,KAAA,CAAKkpD,YAAL,CAAkB5zE,CAAlB,CAHmC,CAApC,IAIO,CACFisC,CAAAA,CAAQ,CACZ,KAAIzhB,EAAQ,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CACE7jB,KAAAA,EAAd,GAAI2jB,CAAJ,GACCyhB,CADD,CACS7rC,GAAA,CAAIw9B,OAAJ,CAAYpT,CAAZ,CAAA,CAAqBA,CAArB,CAA2BxnB,MAA3B,CAAoCwnB,CAAA,CAAMhG,KAAN,CAAY,GAAZ,CAApC,CAAqDxhB,MAD9D,CAGA,KAAA,CAAK2nB,SAAL,EAAA,CAAiB00B,cAAjB,CAAgC,CAAC1G,SAAU,CAAA,CAAX,CAAhC,CAAA,CAAmD7D,IAAnD,CAAwD,CACvDtjB,OAAQ,CACPya,MAAOA,CADA;AAEPzhB,MAAOA,CAFA,CAGP26B,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAHH,CAIPsX,WAAY,IAAA,CAAKtX,WAAL,CAAiB,YAAjB,CAJL,CAD+C,CAOpD+Y,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EACC,IAAA,CAAK++B,yBAAL,CAA+B5rD,CAA/B,CAF8C,CAPI,CAYpD7lB,MAAO,IAZ6C,CAAxD,CANM,CARgB,CA9QkB,CA6SvC6wE,cAAeA,QAAQ,CAAC3oD,CAAD,CAAQ,CAC9B,GAAIpqB,GAAA,CAAIw9B,OAAJ,CAAYpT,CAAZ,CAAJ,EAAwC,CAAxC,EAA0BA,CAA1B,CAAgCxnB,MAAhC,CACC,IAAA,CAAK80B,WAAL,CAAiB,OAAjB,CAA0BjxB,IAAAA,EAA1B,CACA,CAAA,IAAA,CAAKy2D,UAAL,EAFD,KAAA,CAKA,IAAA,CAAKrwC,YAAL,CAAkB,CACjBwkB,KAAM,QADW,CAEjBjnB,MAAOA,CAFU,CAAlB,CAIA,KAAIgH,EAAS,IAAA,CAAKgG,YAAL,EACbhG,EAAA,CAAOupB,OAAP,CAAe,CAAA,CACf,EAAC36C,GAAA,CAAIy2B,QAAJ,CAAarM,CAAb,CAAA,CAAsB,CAACA,CAAD,CAAtB,CAAgCA,CAAjC,EAAwC5R,OAAxC,CAAgD,QAAQ,CAAC4uC,CAAD,CAAI,CACxD,IAAA,CAAK78B,SAAL,EAAA,CAAiB40B,mBAAjB,CAAqC,CAAC5G,SAAU,CAAA,CAAX,CAArC,CAAA,CAAwD7D,IAAxD,CAA6D,CAC5DtjB,OAAQpxB,GAAA,CAAIoE,KAAJ,CAAUpE,GAAA,CAAI6jC,KAAJ,CAAUzS,CAAV,CAAV,CAA6B,CAAChH,MAAOg9B,CAAR,CAA7B,CADoD;AAE5D/jB,SAAUA,QAAQ,CAACtb,CAAD,CAAU6rD,CAAV,CAAsBh/B,CAAtB,CAA+B,CAC5CA,CAAJ,EACC,IAAA,CAAKi/B,8BAAL,CAAoC9rD,CAApC,CAF+C,CAFW,CAO5D7lB,MAAO,IAPqD,CAA7D,CADwD,CAA5D,CAUG,IAVH,CAXA,CAD8B,CA7SQ,CAsUvCyxE,0BAA2BA,QAAQ,CAAC30B,CAAD,CAAc,CAChD,GAAIh/C,GAAA,CAAIw9B,OAAJ,CAAYwhB,CAAZ,CAAJ,EAAmD,CAAnD,CAAgCA,CAAhC,CAA4Cp8C,MAA5C,CAAsD,CACrD,IAAIyB,EAAQ,EACZ26C,EAAA,CAAYxmC,OAAZ,CAAoB,QAAQ,CAACs7D,CAAD,CAAa,CACxCzvE,CAAA,CAAMW,IAAN,CAAW8uE,CAAA,CAAWlgC,OAAX,EAAX,CADwC,CAAzC,CAGA,KAAA,CAAKm/B,aAAL,CAAmB1uE,CAAnB,CALqD,CADN,CAtUV,CAgVvCwvE,+BAAgCA,QAAQ,CAAC9rD,CAAD,CAAUgsD,CAAV,CAAqB,CAC5D,GAAI/zE,GAAA,CAAIw9B,OAAJ,CAAYzV,CAAZ,CAAJ,CAA0B,CACzB,IAAI7X,EAAQ,IAAA,CAAKoa,WAAL,CAAiB,OAAjB,CAAZ,CAEI7nB,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAFT,CAGIkY,EAAKvxE,CAAA,CAAG5B,QAAH,EAALmzE,CAAmB,CAHvB,CAIIC,EAAKxxE,CAAA,CAAG9B,SAAH,EAALszE,CAAoB,CAJxB,CAMIC,EAAe,EACnB,KAAA,CAAKtZ,WAAL,EAAA,CAAmBpiD,OAAnB,CAA2B,QAAQ,CAACyL,CAAD,CAAO,CACzCiwD,CAAA,CAAajwD,CAAb,CAAkBnjB,EAAlB,CAAA,CAAwB,CAAA,CADiB,CAA1C,CAEG,IAFH,CAIA,KAAI+5D,EAAW,EAAf,CACIsZ,EAAW,EAEfpsD,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAAC47D,CAAD;AAAkB7tE,CAAlB,CAAyB,CAChD,IAAI3G,EAAOw0E,CAAA,CAAgBxgC,OAAhB,EAAX,CACIygC,EAAcD,CAAA,CAAgBpgC,cAAhB,EADlB,CAEIsgC,EAAWF,CAAA,CAAgBrgC,iBAAhB,EAFf,CAGIwgC,EAAcH,CAAA,CAAgBngC,qBAAhB,EAHlB,CAKIugC,EAAYF,CALhB,CAMIG,EAAeF,CACf,KAAA,CAAKzB,cAAL,EAAJ,GAA8B,IAA9B,CAAmCJ,gBAAnC,GACC8B,CACA,CADY,CACZ,CAAAC,CAAA,CAAe7uE,IAAA,CAAKC,GAAL,CAAS0uE,CAAT,CAFhB,CAQa,EAAb,EAAIhuE,CAAJ,GACmBE,IAAAA,EAClB,GADIstE,CACJ,GAD6BA,CAC7B,CADyC,IAAA,CAAKhZ,KAAL,CAAWn7D,CAAX,CACzC,EAAgC6G,IAAAA,EAAhC,GAAIytE,CAAA,CAAaH,CAAb,CAAJ,CACC,IAAA,CAAK7Y,iBAAL,CAAuB6Y,CAAvB,CAAkC,CACjChtE,MAAOnH,CAAPmH,CAAY,IAAZA,CAAiButE,CAAjBvtE,CAA0B,GADO,CAEjCmD,KAAM,SAF2B,CAGjCrK,MAAO20E,CAH0B,CAAlC,CADD,EAOCN,CAAA,CAAaH,CAAb,CAaA,CAb0B,CAAA,CAa1B,CAXAW,CAWA,CAXY,CACX5zE,GAAIizE,CADO,CAEXn0E,KAAMA,CAFK,CAGXmH,MAAOnH,CAAPmH,CAAY,IAAZA,CAAiButE,CAAjBvtE,CAA0B,GAHf,CAIXmD,KAAM,SAJK,CAKXrK,MAAO20E,CALI,CAMXtkE,MAAOA,CANI,CAOXmjE,MAAO,CAAA,CAPI,CAQXpuE,EAAG+uE,CARQ,CASX7pE,EAAG8pE,CATQ,CAWZ,CAAApZ,CAAA,CAAS71D,IAAT,CAAc0vE,CAAd,CApBD,CAFD,CA0BA,IAAI90E,CAAJ,EAAYy0E,CAAZ,CAAyB,CACpBM,CAAAA,CAAY,IAAA,CAAK5Z,KAAL,CAAWsZ,CAAX,CACgB5tE,KAAAA,EAAhC,GAAIytE,CAAA,CAAaS,CAAb,CAAJ,GAECT,CAAA,CAAaS,CAAb,CAaA,CAb0B,CAAA,CAa1B,CAXAC,CAWA,CAXmB,CACf9zE,GAAI6zE,CADW,CAEf/0E,KAAMy0E,CAFS,CAGfttE,MAAOstE,CAAPttE,CAAmB,IAAnBA,CAAwBwtE,CAAxBxtE,CAAoC,GAHrB,CAIfmD,KAAM,SAJS,CAKfrK,MAAO40E,CALQ,CAMfvkE,MAAO,CANQ;AAOfmjE,MAAO,CAAA,CAPQ,CAQlBpuE,EAAG+uE,CARe,CASlB7pE,EAAG8pE,CATe,CAWnB,CAAApZ,CAAA,CAAS71D,IAAT,CAAc4vE,CAAd,CAfD,CAkBIC,EAAAA,CAAe,IACf7C,EAAAA,CAAW,IAAA,CAAK8C,WAAL,EACf,KAASnyE,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBqvE,CAApB,CAA6BpvE,MAA7B,CAAqCD,CAAA,EAArC,CAEC,GADI0d,CACA,CADO2xD,CAAA,CAASrvE,CAAT,CACP,CAAC0d,CAAD,CAAMvB,MAAN,CAAahe,EAAb,EAAmBizE,CAAnB,EAAgC1zD,CAAhC,CAAqCE,MAArC,CAA4Czf,EAA5C,EAAkD6zE,CAAlD,EAAiEt0D,CAAjE,CAAsEvB,MAAtE,CAA6Ehe,EAA7E,EAAmF6zE,CAAnF,EAAgGt0D,CAAhG,CAAqGE,MAArG,CAA4Gzf,EAA5G,EAAkHizE,CAAtH,CAAkI,CACjIc,CAAA,CAAex0D,CACf,MAFiI,CAM/H00D,CAAAA,CAAYX,CAAA,CAAgBngC,qBAAhB,EACK,KAArB,GAAI4gC,CAAJ,EACCV,CAAA,CAASnvE,IAAT,CAAc,CAAC8Z,OAAQi1D,CAAT,CAAoBxzD,OAAQo0D,CAA5B,CAAuC90E,MAAOk1E,CAA9C,CAAyDj0E,GAAIizE,CAAJjzE,CAAc,GAAdA,CAAkB6zE,CAA3E,CAAd,CAhCuB,CA1CuB,CAAjD,CA+EG,IA/EH,CAiFA,KAAA,CAAK/a,WAAL,CAAiB,IAAA,CAAKgB,WAAL,EAAA,CAAmB7c,MAAnB,CAA0B8c,CAA1B,CAAjB,CACA,KAAA,CAAK8X,WAAL,CAAiB,IAAA,CAAKmC,WAAL,EAAA,CAAmB/2B,MAAnB,CAA0Bo2B,CAA1B,CAAjB,CAEA,KAAA,CAAK5gD,OAAL,EAnGyB,CADkC,CAhVtB,CAwbvCwnC,MAAOA,QAAQ,CAACn7D,CAAD,CAAO,CACrB,MAAOA,EAAA,CAAKiE,OAAL,CAAa,KAAb,CAAoB,GAApB,CADc,CAxbiB,CA4bvCq3D,kBAAmBA,QAAQ,CAACC,CAAD,CAASC,CAAT,CAAkB,CAE/C,IADG,IAAIr+C,EAAO,IAAA,CAAK69C,WAAL,EAAX,CACMj4D,EAAI,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACC,GAAIoa,CAAA,CAAKpa,CAAL,CAAJ,CAAY7B,EAAZ;AAAmBq6D,CAAnB,CAA2B,CAC1Bn7D,GAAA,CAAIoE,KAAJ,CAAU2Y,CAAA,CAAKpa,CAAL,CAAV,CAAmBy4D,CAAnB,CACA,MAF0B,CAHmB,CA5bN,CAscvCI,WAAYA,QAAQ,CAACL,CAAD,CAASM,CAAT,CAAwB,CACvC1+C,CAAAA,CAAO,IAAA,CAAK69C,WAAL,EACd,KAAK,IAAIj4D,EAAI,CAAb,CAAgBA,CAAhB,CAAoBoa,CAApB,CAAyBna,MAAzB,CAAiCD,CAAA,EAAjC,CACC,GAAIoa,CAAA,CAAKpa,CAAL,CAAJ,CAAY7B,EAAZ,GAAmBq6D,CAAnB,CAA2B,CAC1Bp+C,CAAA,CAAK4W,MAAL,CAAYhxB,CAAZ,CAAe,CAAf,CACA,MAF0B,CAM5Boa,CAAA,CAAO,IAAA,CAAK+3D,WAAL,EACP,KAASnyE,CAAT,CAAaoa,CAAb,CAAkBna,MAAlB,CAAyB,CAAzB,CAAiC,CAAjC,EAA4BD,CAA5B,CAAoCA,CAAA,EAApC,CACKoa,CAAA,CAAKpa,CAAL,CAAJ,CAAYmc,MAAZ,CAAmBhe,EAAnB,GAA0Bq6D,CAA1B,EAAoCp+C,CAAA,CAAKpa,CAAL,CAApC,CAA4C4d,MAA5C,CAAmDzf,EAAnD,GAA0Dq6D,CAA1D,EACCp+C,CAAA,CAAK4W,MAAL,CAAYhxB,CAAZ,CAAe,CAAf,CAKF,KAAA,CAAK+0B,WAAL,CAAiB,OAAjB,CAA0B13B,GAAA,CAAIu9B,KAAJ,CAAUvkB,MAAV,CAAiBhZ,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAA,CAAKpvB,WAAL,CAAiB,OAAjB,CAAf,CAAjB,CAA4D6wC,CAA5D,CAA1B,CAMA,KAAA,CAAK5nC,OAAL,EAvB8C,CAtcL,CAgevCigD,aAAcA,QAAQ,CAAC5zE,CAAD,CAAO,CAC5B,IAAA,CAAK83B,WAAL,CAAiB,YAAjB,CAA8B93B,CAA9B,CACA,KAAA,CAAKs9D,UAAL,EAEA,KAAA,CAAKoW,cAAL,CAAoB,IAApB,CAAyBZ,gBAAzB,CAEI31D,EAAAA,CAAO,CACbjc,GAAI,IAAA,CAAKi6D,KAAL,CAAWn7D,CAAX,CADS,CAEbA,KAAMA,CAFO,CAGbmH,MAAOnH,CAAPmH,CAAY,MAHC;AAIbmD,KAAM,SAJO,CAKbrK,MAAO,GALM,CAMbqQ,MAAO,CANM,CAQd,KAAA,CAAK0pD,WAAL,CAAiB,CAAC78C,CAAD,CAAjB,CACA,KAAA,CAAKwW,OAAL,EAGA,KAAIsY,EAAQ,IAAA,CAAKvhB,WAAL,CAAiB,OAAjB,CACZ,KAAA,CAAKoN,WAAL,CAAiB,OAAjB,CAFsBs9C,GAEtB,CACA,KAAA,CAAKzB,sBAAL,CAA4Bx2D,CAA5B,CACA,KAAA,CAAK2a,WAAL,CAAiB,OAAjB,CAA0BmU,CAA1B,CArB+B,CAheU,CAyfvCopC,iBAAkBA,QAAQ,CAAC5jC,CAAD,CAAO,CAChC,GAAI,IAAA,CAAK8oB,YAAL,EAAJ,CAAyB,CACxB,GAAI9oB,CAAJ,GAAa,IAAb,CAAkBohC,YAAlB,CAAgC,CAC/B,IAAI1W,EAAU,IAAA,CAAKC,eAAL,EAAVD,CAAiCwW,WACrC,KAAA,CAAKpY,YAAL,EAAA,CACEgC,aADF,CACgBJ,CADhB,CACwBzC,OADxB,CAAA,CAEEc,KAFF,CAEQ,MAFR,CAEgBpmD,EAAA,CAAGqoD,SAAH,EAAA,CAAev7D,EAAf,CAAkB,QAAQ,CAACiE,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAA9B,CAAA,CAAgDw7D,QAAhD,CAAyDP,CAAzD,CAAiEtC,YAAjE,CAAA,CAA+E2C,QAA/E,CAAwFL,CAAxF,CAAgGrC,cAAhG,CAFhB,CAAA,CAGDU,KAHC,CAGK,QAHL,CAGepmD,EAAA,CAAGuoD,aAAH,EAAA,CAAmBH,QAAnB,CAA4BL,CAA5B,CAAoCvC,WAApC,CAHf,CAAA,CAIDY,KAJC,CAIK,SAJL;AAIgBpmD,EAAA,CAAGwoD,YAAH,CAAgB,QAAQ,CAACz3D,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAK8H,IAAL,CAAU3I,CAAV,CAAY03D,IAAZ,CAAiB77D,KAAjB,CAAyBmE,CAAzB,CAA2B03D,IAA3B,CAAgC/7D,MAAhC,CAAP,CAAiDq7D,CAAjD,CAAyDpC,cAA3D,CAA5B,CAJhB,CAF+B,CAAhC,IAUKoC,EACJ,CADc,IAAA,CAAKC,eAAL,EACd,CADqCwW,eACrC,CAAA,IAAA,CAAKrY,YAAL,EAAA,CACEgC,aADF,CACgBJ,CADhB,CACwBzC,OADxB,CAAA,CAEEc,KAFF,CAEQ,MAFR,CAEgBpmD,EAAA,CAAGqoD,SAAH,EAAA,CAAev7D,EAAf,CAAkB,QAAQ,CAACiE,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAA9B,CAAA,CAAgDw7D,QAAhD,CAAyDP,CAAzD,CAAiEtC,YAAjE,CAAA,CAA+E2C,QAA/E,CAAwFL,CAAxF,CAAgGrC,cAAhG,CAFhB,CAAA,CAGDU,KAHC,CAGK,QAHL,CAGepmD,EAAA,CAAGuoD,aAAH,EAAA,CAAmBH,QAAnB,CAA4B,QAAQ,CAACr3D,CAAD,CAAI,CACxD,MAAe,SAAf,GAAIA,CAAJ,CAAMmF,IAAN,CACQ,IADR,CAGQ,CAJgD,CAAxC,CAHf,CAAA,CAUDkwD,KAVC,CAUK,SAVL,CAUgBpmD,EAAA,CAAGwoD,YAAH,CAAgB,QAAQ,CAACz3D,CAAD,CAAI,CAC7C,MAAe,SAAf,GAAIA,CAAJ,CAAMmF,IAAN,CACQnF,CADR,CACUlF,KADV,CAGQ+F,IAAA,CAAK8H,IAAL,CAAU3I,CAAV,CAAY03D,IAAZ,CAAiB77D,KAAjB,CAAyBmE,CAAzB,CAA2B03D,IAA3B,CAAgC/7D,MAAhC,CAHR,CAGkDq7D,CAHlD,CAG0DpC,cAJb,CAA5B,CAVhB,CAJA;IAAA,CAAKQ,YAAL,EAAA,CAAoBC,KAApB,CAA0B,GAA1B,CAAA,CAA+BgC,QAA/B,CAAwCL,CAAxC,CAAgDxC,cAAhD,CACA,KAAA,CAAKY,YAAL,EAAA,CAAoBC,KAApB,CAA0B,GAA1B,CAAA,CAA+BgC,QAA/B,CAAwCL,CAAxC,CAAgDxC,cAAhD,CATuB,CAkCzB,MAAOloB,EAnCyB,CAzfM,CA+hBvC0oB,UAAWA,QAAQ,EAAG,CACrB,IAAIt3D,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACTr5D,EAAA,CAAGwb,MAAH,CAAU,EAAV,CACA,KAAIrd,EAAQ6B,CAAA,CAAG5B,QAAH,EAAZ,CACIH,EAAS+B,CAAA,CAAG9B,SAAH,EAEb,KAAA,CAAKs7D,YAAL,CAAkBjoD,EAAA,CAAGkoD,eAAH,EAAA,CAChB9B,KADgB,CACV,GADU,CACLpmD,EAAA,CAAGqmD,MAAH,CAAUz5D,CAAV,CAAgB,CAAhB,CADK,CAAA,CAEhBw5D,KAFgB,CAEV,GAFU,CAELpmD,EAAA,CAAGsmD,MAAH,CAAU55D,CAAV,CAAiB,CAAjB,CAFK,CAAA,CAGnBsV,EAHmB,CAGhB,MAHgB,CAGR,QAAQ,EAAG,CACnB,IAAA,CAAKk/D,QAAL,EAAA,CACEt8D,IADF,CACO,IADP,CACa,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS+Z,MAAT,CAAgB7Z,CAAlB,CADzB,CAAA,CAEE2T,IAFF,CAEO,IAFP,CAEa,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS+Z,MAAT,CAAgB3U,CAAlB,CAFzB,CAAA,CAGEyO,IAHF,CAGO,IAHP,CAGa,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASwb,MAAT,CAAgBtb,CAAlB,CAHzB,CAAA,CAIE2T,IAJF,CAIO,IAJP,CAIa,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASwb,MAAT,CAAgBpW,CAAlB,CAJzB,CAUA;IAAA,CAAKixC,QAAL,EAAA,CAAgBxiC,IAAhB,CAAqB,WAArB,CAAkC,QAAQ,CAAC7T,CAAD,CAAI,CAC7C,IAAIE,EAAIF,CAAJE,CAAMA,CAAV,CACIkF,EAAIpF,CAAJoF,CAAMA,CACV,IAAI,IAAA,CAAK2oE,cAAL,EAAJ,GAA8B,IAA9B,CAAmCL,YAAnC,EAA8D,SAA9D,GAAmD1tE,CAAnD,CAAqDmF,IAArD,CACCjF,CACA,EADkB,EAClB,CADKF,CACL,CADO03D,IACP,CADY77D,KACZ,CAAAuJ,CAAA,EAAmB,EAAnB,CAAKpF,CAAL,CAAO03D,IAAP,CAAY/7D,MAIb,OAAO,YAAP,CAAoBuE,CAApB,CAAsB,GAAtB,CAA0BkF,CAA1B,CAA4B,GATiB,CAAZ,CAUhCxI,IAVgC,CAU3B,IAV2B,CAAlC,CAYI,EAAC,IAAA,CAAKwzE,WAAL,EAAL,EAAyD,IAAzD,CAA2B,IAAA,CAAKhb,YAAL,EAAA,CAAoBI,KAApB,EAA3B,EACC,IAAA,CAAKJ,YAAL,EAAA,CAAoBI,KAApB,CAA0B,EAA1B,CAxBkB,CAAX,CA0BP54D,IA1BO,CA0BF,IA1BE,CAHQ,CAAA,CA8BhBqU,EA9BgB,CA8Bb,KA9Ba,CA8BN,QAAQ,EAAG,CAClBhW,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,IAAnB,CAAwBoe,SAAxB,CAAmC,GAAnC,CAAwC,IAAxC,CADkB,CAAX,CAETj7D,IAFS,CAEJ,IAFI,CA9BM,CAAlB,CAmCI6kC,EAAAA,CAAMxyB,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CAAgCC,IAAhC,CAAqC,IAArC,CAA0C,IAAA,CAAK86D,QAAL,EAA1C,CAAA,CAA2D96D,IAA3D,CAAgE,OAAhE,CAAyE,YAAzE,CAAA,CAAuFA,IAAvF,CAA4F,OAA5F,CAAqGhY,CAArG,CAAA,CAA4GgY,IAA5G,CAAiH,QAAjH;AAA2HlY,CAA3H,CACV,KAAIk8B,EAAI4J,CAAA,CAAI7tB,MAAJ,CAAW,GAAX,CAEJE,EAAAA,CAAO7E,EAAA,CAAG6E,IAAH,EAAA,CACTC,WADS,CACG,CAAC,GAAD,CAAM,CAAN,CADH,CAAA,CAET9C,EAFS,CAEN,MAFM,CAEE,QAAQ,EAAG,CACzB4mB,CAAA,CAAEhkB,IAAF,CAAO,WAAP,CAAoB5E,EAApB,CAAuBrJ,KAAvB,CAA6BoO,SAA7B,CADyB,CAFb,CAKX,KAAA,CAAK+jD,OAAL,CAAajkD,CAAb,CACH2tB,EAAA,CAAIzvB,IAAJ,CAAS8B,CAAT,CAEA2tB,EAAA,CAAIxwB,EAAJ,CAAO,OAAP,CAAgB,QAAQ,EAAG,CACvB,IAAA,CAAKy9D,cAAL,EAAA,CAAsB9vC,IAAtB,EADuB,CAAX,CAEXhiC,IAFW,CAEN,IAFM,CAAhB,CAIG,KAAA,CAAKyzE,QAAL,CAAcx4C,CAAA,CAAEjkB,MAAF,CAAS,GAAT,CAAA,CAAcC,IAAd,CAAmB,OAAnB,CAA4B,OAA5B,CAAA,CAAqC9B,SAArC,CAA+C,OAA/C,CAAd,CACA,KAAA,CAAKikC,QAAL,CAAcne,CAAA,CAAEjkB,MAAF,CAAS,GAAT,CAAA,CAAcC,IAAd,CAAmB,OAAnB,CAA4B,OAA5B,CAAA,CAAqC9B,SAArC,CAA+C,OAA/C,CAAd,CACH,KAAA,CAAKmmD,MAAL,CAAYrgC,CAAZ,CA1DwB,CA/hBiB,CA4lBvCsgC,WAAYA,QAAQ,EAAG,CACzB,IAAA,CAAKtD,WAAL,CAAiB,EAAjB,CACG,KAAA,CAAK+Y,WAAL,CAAiB,EAAjB,CACH,KAAA,CAAKW,cAAL,CAAoB,IAApB,CAAyBb,YAAzB,CACA,KAAA,CAAKl/C,OAAL,EAJyB,CA5lBgB,CAmmBvCA,QAASA,QAAQ,EAAG,CACnB,IAAIrG;AAAK,IAAT,CAEIgrC,EAAW,IAAA,CAAK0C,WAAL,EAFf,CAGIoX,EAAW,IAAA,CAAK8C,WAAL,EAHf,CAgBIz0D,EAAO,IAAA,CAAK60D,QAAL,EAAA,CAAgBn4D,IAAhB,CAAqBi1D,CAArB,CAA+B,QAAQ,CAACjtE,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAA3C,CACXuf,EAAA,CAAKD,IAAL,EAAA,CAAYpH,MAAZ,EACH,KAAI0H,EAAYL,CAAA,CAAKX,KAAL,EAAA,CAAa/G,MAAb,CAAoB,MAApB,CAAA,CACdC,IADc,CACT,OADS,CACA,MADA,CAAA,CAEdA,IAFc,CAET,IAFS,CAEH,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAFT,CAAA,CAGdkV,EAHc,CAGX,WAHW,CAGEkX,CAAA,CAAGmoD,aAAH,CAAiB1zE,IAAjB,CAAsBurB,CAAtB,CAHF,CAAA,CAIdlX,EAJc,CAIX,UAJW,CAICkX,CAAA,CAAGooD,YAAH,CAAgB3zE,IAAhB,CAAqBurB,CAArB,CAJD,CAAA,CAKdlX,EALc,CAKX,OALW,CAKF,QAAQ,CAAC+G,CAAD,CAAO,CAC3B/I,EAAA,CAAGrJ,KAAH,CAASizD,wBAAT,EACA5pD,GAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA,KAAA,CAAK76B,aAAL,CAAmB,cAAnB,CAAmC,IAAnC,CAAyC,CAAC,GAAD,CAAKjmB,CAAL,CAAU+B,MAAV,CAAiBlf,IAAjB,CAAsB,GAAtB,CAA0Bmd,CAA1B,CAA+BwD,MAA/B,CAAsC3gB,IAAtC,CAA2C,IAA3C,CAAgD,IAAA,CAAK0qB,WAAL,CAAiB,SAAjB,CAAhD,CAAzC,CAH2B,CAAf,CAIX3oB,IAJW,CAINurB,CAJM,CALE,CAAA,CAWdhiB,KAXc,CAWR,QAXQ;AAWE,SAXF,CAAA,CAYdA,KAZc,CAYR,cAZQ,CAYQ,QAAQ,CAACnG,CAAD,CAAI,CAClC,MAAImoB,EAAA,CAAG4lD,cAAH,EAAJ,GAA4B5lD,CAA5B,CAA+BulD,YAA/B,CACQ7sE,IAAA,CAAKM,GAAL,CAAS,CAAT,CAAYN,IAAA,CAAKgM,GAAL,CAAS,EAAT,CAAahM,IAAA,CAAK8H,IAAL,CAAU3I,CAAV,CAAYlF,KAAZ,CAAb,CAAZ,CADR,CAGQ,CAJ0B,CAZpB,CAoBhB,KAAA,CAAKu1E,QAAL,CAAc10D,CAAA,CAAUV,KAAV,CAAgBK,CAAhB,CAAd,CAEOzL,EAAAA,CAAO,IAAA,CAAKwmC,QAAL,EAAA,CAAgBr+B,IAAhB,CAAqBm7C,CAArB,CAA+B,QAAQ,CAACnzD,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAA3C,CACX8T,EAAA,CAAKwL,IAAL,EAAA,CAAYpH,MAAZ,EACIyG,EAAAA,CAAY7K,CAAA,CAAK8K,KAAL,EAAA,CAAa/G,MAAb,CAAoB,GAApB,CAAA,CACjBC,IADiB,CACZ,OADY,CACH,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,OAAP,CAAeA,CAAf,CAAiBmF,IAAnB,CADT,CAAA,CAEjB0O,IAFiB,CAEZ,IAFY,CAEN,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAFN,CAAA,CAGjBkV,EAHiB,CAGd,WAHc,CAGDkX,CAAA,CAAG6wC,aAAH,CAAiBp8D,IAAjB,CAAsBurB,CAAtB,CAHC,CAAA,CAIjBlX,EAJiB,CAId,UAJc,CAIFkX,CAAA,CAAG8wC,YAAH,CAAgBr8D,IAAhB,CAAqBurB,CAArB,CAJE,CAAA,CAKjBlX,EALiB,CAKd,OALc,CAKL,QAAQ,CAAC+G,CAAD,CAAO,CAC3B/I,EAAA,CAAGrJ,KAAH,CAASizD,wBAAT,EACA5pD,GAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA;IAAA,CAAK76B,aAAL,CAAmB,cAAnB,CAAmC,IAAnC,CAAyC,CAACjmB,CAAD,CAAMnd,IAAN,CAAzC,CAH2B,CAAf,CAIX+B,IAJW,CAINurB,CAJM,CALK,CAAA,CAUjBlX,EAViB,CAUd,UAVc,CAUF,QAAQ,CAAC+G,CAAD,CAAO,CAC9B/I,EAAA,CAAGrJ,KAAH,CAASizD,wBAAT,EACA5pD,GAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA,KAAA,CAAK0V,sBAAL,CAA4Bx2D,CAA5B,CAH8B,CAAf,CAIdpb,IAJc,CAITurB,CAJS,CAVE,CAAA,CAejBlX,EAfiB,CAed,aAfc,CAeC,QAAQ,CAACjR,CAAD,CAAIpC,CAAJ,CAAO,CACjCqR,EAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EAEIh8B,EAAAA,CAAO3U,CAAA,CAAGumD,cAAH,EACX5xC,EAAA,CAAKrV,SAAL,CAAe,OAAf,CAAA,CAAwB26B,OAAxB,CAAgCpiD,CAAhC,CAAkCnF,IAAlC,CACGiiC,EAAA,CAAKrV,SAAL,CAAe,OAAf,CAAA,CAAwB+7B,UAAxB,CAAmCxjD,CAAnC,CAAqCsuE,KAArC,CACHxxC,EAAA,CAAKoL,MAAL,CAAYj5B,EAAZ,CAAerJ,KAAf,CAAqB4qE,KAArB,CAA2B,EAA3B,CAA+BvhE,EAA/B,CAAkCrJ,KAAlC,CAAwC6qE,KAAxC,CAA8C,EAA9C,CANiC,CAfhB,CAAA,CAuBjBz+D,IAvBiB,CAuBZ/C,EAAA,CAAGgc,IAAH,EAAA,CACJha,EADI,CACD,OADC,CACQ,QAAQ,CAACjR,CAAD,CAAI,CACxBmoB,CAAA,CAAGuoD,WAAH,CAAe,CAAA,CAAf,CACKzhE,GAAL,CAAQrJ,KAAR,CAAcuzD,MAAd,EAAsBhxC,CAAA,CAAGitC,YAAH,EAAA,CAAkBI,KAAlB,CAAwB,EAAxB,CAAA,CAA6B6D,OAA7B,EACtBr5D;CAAA,CAAEu5D,EAAF,CAAOv5D,CAAP,CAASE,CACTF,EAAA,CAAEw5D,EAAF,CAAOx5D,CAAP,CAASoF,CACTpF,EAAA,CAAEsuE,KAAF,CAAU,CAAA,CALc,CADpB,CAAA,CAQJr9D,EARI,CAQD,MARC,CAQO,QAAQ,CAACjR,CAAD,CAAI,CACvBmoB,CAAA,CAAGitC,YAAH,EAAA,CAAkBI,KAAlB,CAAwB,EAAxB,CACAx1D,EAAA,CAAEu5D,EAAF,CAAOtqD,EAAP,CAAUrJ,KAAV,CAAgB1F,CAChBF,EAAA,CAAEw5D,EAAF,CAAOvqD,EAAP,CAAUrJ,KAAV,CAAgBR,CACZ+iB,EAAA,CAAG8D,QAAH,EAAJ,CACS9D,CAAA,CAAGwoD,WAAH,CAAe1hE,EAAf,CAAkBrJ,KAAlB,CAAwB1F,CAAxB,CAA2B+O,EAA3B,CAA8BrJ,KAA9B,CAAoCR,CAApC,CADT,EAEK+iB,CAAA,CAAG+D,MAAH,EAFL,CAIc/D,CAAA,CAAGwoD,WAAH,CAAe1hE,EAAf,CAAkBrJ,KAAlB,CAAwB1F,CAAxB,CAA2B+O,EAA3B,CAA8BrJ,KAA9B,CAAoCR,CAApC,CAJd,EAKI+iB,CAAA,CAAGia,IAAH,CAAQja,CAAA,CAAGyL,QAAH,CAAY,iBAAZ,CAAR,CATmB,CARnB,CAAA,CAoBJ3iB,EApBI,CAoBD,KApBC,CAoBM,QAAQ,CAACjR,CAAD,CAAI,CACtBmoB,CAAA,CAAGuoD,WAAH,CAAe,CAAA,CAAf,CAEe,EAAf,EAAI1wE,CAAJ,CAAMsuE,KAAN,GACCtuE,CACA,CADEu5D,EACF,CADO,IACP,CAAAv5D,CAAA,CAAEw5D,EAAF,CAAO,IAFR,CAIIrxC,EAAA,CAAGwoD,WAAH,CAAe1hE,EAAf,CAAkBrJ,KAAlB,CAAwB1F,CAAxB,CAA2B+O,EAA3B,CAA8BrJ,KAA9B,CAAoCR,CAApC,CAAJ,GACO+iB,CAAA,CAAG+D,MAAH,EAGA,CAFA/D,CAAA,CAAGia,IAAH,CAAQja,CAAA,CAAGyL,QAAH,CAAY,UAAZ,CAAR,CAEA,CADAzL,CAAA,CAAGsuC,UAAH,CAAcz2D,CAAd,CAAgBjE,EAAhB,CACA,CAAAosB,CAAA,CAAG+D,MAAH,EAJP,CAPsB,CApBlB,CAvBY,CA2DhBxR,EAAA,CAAU9G,MAAV,CAAiB,OAAjB,CAAA,CAA0BgH,IAA1B,CAA+B,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASgC,KAAX,CAA3C,CAEI,KAAA,CAAK+rE,cAAL,EAAJ;AAA8B,IAA9B,CAAmCL,YAAnC,CACChzD,CAAA,CAAU9G,MAAV,CAAiB,MAAjB,CAAA,CACDzN,KADC,CACK,cADL,CACqB,CADrB,CAAA,CAEDA,KAFC,CAEK,gBAFL,CAEuB,CAFvB,CADD,CAKCuU,CAAA,CAAU5L,MAAV,CAAiB,QAAQ,CAAC9O,CAAD,CAAI,CAAE,MAAkB,SAAlB,GAAOA,CAAP,CAASmF,IAAX,CAA7B,CAAA,CAA+DyO,MAA/D,CAAsE,QAAtE,CAAA,CACEzN,KADF,CACQ,cADR,CACwB,CADxB,CAAA,CAEEA,KAFF,CAEQ,gBAFR,CAE0B,CAF1B,CAKDuU,EAAA,CAAU9G,MAAV,CAAiB,MAAjB,CAAA,CACDC,IADC,CACI,aADJ,CACmB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAG8F,cAAH,EAAA,CAAoB6zB,oBAApB,EAAA,CAA2C4oB,iBAA3C,CAA6D,MAA7D,CAAqE1qE,CAArE,CAAuEnF,IAAvE,CAAT,CAD/B,CAAA,CAEDgZ,IAFC,CAEI,WAFJ,CAEiB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAKM,GAAL,CAAS,EAAT,CAAaN,IAAA,CAAK8H,IAAL,CAAU3I,CAAV,CAAYlF,KAAZ,CAAb,CAAT,CAF7B,CAAA,CAGD8f,IAHC,CAGI,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASnF,IAAX,CAHhB,CAAA,CAIDuG,IAJC,CAII,QAAQ,CAACpB,CAAD,CAAI,CAAEA,CAAA,CAAE03D,IAAF,CAAS,IAAA,CAAK17C,OAAL,EAAX,CAJhB,CAAA,CAKD7V,KALC,CAKK,QALL,CAKe,SALf,CAAA,CAMDA,KANC,CAMK,aANL;AAMoB,MANpB,CAAA,CAOD0N,IAPC,CAOI,mBAPJ,CAOyB,QAPzB,CASA,KAAA,CAAKmiC,QAAL,CAAct7B,CAAA,CAAUO,KAAV,CAAgBpL,CAAhB,CAAd,CAEI,KAAA,CAAKk+D,cAAL,EAAJ,GAA8B,IAA9B,CAAmCL,YAAnC,EACC,IAAA,CAAK5T,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CACE8B,IADF,CACO,OADP,CACgB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS03D,IAAT,CAAc77D,KAAd,CAAoB,EAAtB,CAD5B,CAAA,CAEDgY,IAFC,CAEI,QAFJ,CAEc,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS03D,IAAT,CAAc/7D,MAAd,CAAqB,CAAvB,CAF1B,CAAA,CAGDkY,IAHC,CAGI,IAHJ,CAGU,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAKM,GAAL,CAAS,CAAT,CAA4B,EAA5B,CAAYnB,CAAZ,CAAc03D,IAAd,CAAmB/7D,MAAnB,CAAT,CAHtB,CAAA,CAIDkY,IAJC,CAII,IAJJ,CAIU,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAKM,GAAL,CAAS,CAAT,CAA4B,EAA5B,CAAYnB,CAAZ,CAAc03D,IAAd,CAAmB/7D,MAAnB,CAAT,CAJtB,CAAA,CAKDqW,IALC,CAKI,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CALJ,CAMA,CAAA,IAAA,CAAKk9D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CACE8B,IADF,CACO,IADP,CACa,CADb,CAAA,CAEDA,IAFC,CAEI,IAFJ,CAEU,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAqB,EAArB,CAAOA,CAAP,CAAS03D,IAAT,CAAc/7D,MAAd,CAAyB,CAA3B,CAFtB,CAPD,GAWC,IAAA,CAAKm+D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,QAAxB,CAAA,CACE8B,IADF,CACO,GADP;AACY,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAKgM,GAAL,CAAS,GAAT,CAAc7M,CAAd,CAAgB03D,IAAhB,CAAqB77D,KAArB,CAAT,CADxB,CAAA,CAEEmW,IAFF,CAEO,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAFP,CAGA,CAAA,IAAA,CAAKk9D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CACE8B,IADF,CACO,IADP,CACa,QAAQ,CAAC7T,CAAD,CAAI,CACvB,MAAe,SAAf,GAAIA,CAAJ,CAAMmF,IAAN,CACsB,EADtB,CACQ,CAACnF,CAAD,CAAG03D,IAAH,CAAQ77D,KADhB,CAGQ,CAJe,CADzB,CAAA,CAQDgY,IARC,CAQI,IARJ,CAQU,QAAQ,CAAC7T,CAAD,CAAI,CACvB,MAAe,SAAf,GAAIA,CAAJ,CAAMmF,IAAN,CACQ,CADR,CAGsB,EAHtB,CAGQnF,CAHR,CAGU03D,IAHV,CAGe/7D,MAHf,CAG0B,CAJH,CARtB,CAdD,CA8BA,KAAA,CAAKm+D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CAAgCC,IAAhC,CAAqC,IAAA,CAAK4+D,cAAL,CAAoBh0E,IAApB,CAAyB,IAAzB,CAArC,CAGA,KAAA,CAAKw4D,YAAL,EAAA,CAAoBp7C,KAApB,CAA0Bm5C,CAA1B,CACA,KAAA,CAAKiC,YAAL,EAAA,CAAoBC,KAApB,CAA0B,MAA1B,CAAA,CAAkC95C,KAAlC,CAAwC0xD,CAAxC,CACA,KAAA,CAAK7X,YAAL,EAAA,CAAoBI,KAApB,CAA0B,CAA1B,CAAA,CAA6B6D,OAA7B,EAhKmB,CAnmBmB,CAswBvCsX,YAAaA,QAAQ,CAACzwE,CAAD,CAAIkF,CAAJ,CAAO,CAC3B,IAAI2S,EAAM9c,GAAA,CAAImE,GAAJ,CAAQ,IAAA,CAAKuvE,QAAL,EAAR,CACV,OAAW,EAAX;AAAOzuE,CAAP,EAAoB,CAApB,CAAgBkF,CAAhB,EAAyBlF,CAAzB,CAA6B6X,CAAA,CAAIjc,QAAJ,EAA7B,EAA+CsJ,CAA/C,CAAmD2S,CAAA,CAAInc,SAAJ,EAFxB,CAtwBW,CA2wBvCi8D,UAAWA,QAAQ,CAAC8B,CAAD,CAAiBC,CAAjB,CAAqC,CACvD,IAAIC,EAAS,IAAA,CAAKC,MAAL,EAAA,CAAcjqD,IAAd,EAAA,CAAqBmM,OAArB,EAAb,CACIngB,EAAQg+D,CAARh+D,CAAeA,KADnB,CAEIF,EAASk+D,CAATl+D,CAAgBA,MAFpB,CAGIo+D,EAAOF,CAAPE,CAAc75D,CAAd65D,CAAkBl+D,CAAlBk+D,CAAwB,CAH5B,CAIIC,EAAOH,CAAPG,CAAc50D,CAAd40D,CAAkBr+D,CAAlBq+D,CAAyB,CACzBv4B,EAAAA,CAAM,IAAA,CAAKq4B,MAAL,EAAA,CAAcjqD,IAAd,EAAN4xB,CAA2B1lB,aAC/B,KAAIk+C,EAAUx4B,CAAA,CAAIy4B,qBAAJ,EAAd,CACIC,EAAYF,CAAZE,CAAoBt+D,KACpBu+D,EAAAA,CAAaH,CAAbG,CAAqBz+D,MACrBg1B,EAAAA,EAASgpC,CAAThpC,EAA2B,EAA3BA,EAAkC9vB,IAAA,CAAKM,GAAL,CAAStF,CAAT,CAAes+D,CAAf,CAA0Bx+D,CAA1B,CAAiCy+D,CAAjC,CAClClxD,EAAAA,CAAY,CAACixD,CAAD,CAAW,CAAX,CAAexpC,CAAf,CAAqBopC,CAArB,CAA2BK,CAA3B,CAAsC,CAAtC,CAA0CzpC,CAA1C,CAAgDqpC,CAAhD,CACN,EAAV,CAAIn+D,CAAJ,EAEAoT,EAAA,CAAG6C,MAAH,CAAU2vB,CAAV,CAAA,CACEvmB,UADF,EAAA,CAEEC,QAFF,CAEWy+C,CAFX,EAEiC,GAFjC,CAAA,CAGE5nD,IAHF,CAGO,IAAA,CAAKqoD,OAAL,EAHP,CAGsBrmD,SAHtB,CAGiC/E,EAAA,CAAGqrD,YAAH,CAAgBpxD,SAAhB,CAA0BA,CAAA,CAAU,CAAV,CAA1B,CAAuCA,CAAA,CAAU,CAAV,CAAvC,CAAA,CAAqDynB,KAArD,CAA2DA,CAA3D,CAHjC,CAduD,CA3wBjB,CA+xBvC+oC,eAAgBA,QAAQ,CAAC5T,CAAD,CAAMyU,CAAN,CAAiB,CAC3C,IAAIC,EAAsB94D,IAAAA,EAAd,GAAA64D,CAAA,CAA0B,QAA1B,CAAqCA,CAC9CzU,EAAA,CAAI3/C,KAAJ,CAAU,MAAV,CAAkB,QAAQ,CAACnG,CAAD,CAAI,CAAMmF,CAAAA,CAAOnF,CAAPmF,CAASA,IAATA,CAAc,MAAQ;MAAO,KAAA,CAAKs1D,aAAL,EAAA,CAAqBt1D,CAArB,CAAA,CAA2Bq1D,CAA3B,CAAP,CAAyCx1D,IAArE,CAAZ,CAAyFpI,IAAzF,CAA8F,IAA9F,CAAlB,CACAkpD,EAAA,CAAI3/C,KAAJ,CAAU,QAAV,CAAoB,QAAQ,CAACnG,CAAD,CAAI,CAAMmF,CAAAA,CAAOnF,CAAPmF,CAASA,IAATA,CAAc,MAAQ,OAAO,KAAA,CAAKs1D,aAAL,EAAA,CAAqBt1D,CAArB,CAAA,CAA2Bq1D,CAA3B,CAAP,CAAyCz2D,MAArE,CAAZ,CAA2FnH,IAA3F,CAAgG,IAAhG,CAApB,CAHwC,CA/xBF,CAqyBvCg0E,eAAgBA,QAAQ,CAAC9qB,CAAD,CAAM+qB,CAAN,CAAiB,CACxC,IAAIrW,EAAsB94D,IAAAA,EAAd,GAAAmvE,CAAA,CAA0B,QAA1B,CAAqCA,CACjD/qB,EAAA,CAAI3/C,KAAJ,CAAU,QAAV,CAAoB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAO,KAAA,CAAKy6D,aAAL,EAAA,CAAqBn/C,IAArB,CAA0Bk/C,CAA1B,CAAP,CAAwCz2D,MAA1C,CAAZ,CAAgEnH,IAAhE,CAAqE,IAArE,CAApB,CACAkpD,EAAA,CAAI3/C,KAAJ,CAAU,gBAAV,CAA4B,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAO,KAAA,CAAKy6D,aAAL,EAAA,CAAqBn/C,IAArB,CAA0Bk/C,CAA1B,CAAP,CAAwCrG,aAA1C,CAAZ,CAAuEv3D,IAAvE,CAA4E,IAA5E,CAA5B,CAHwC,CAryBF,CA2yBvC0zE,cAAeA,QAAQ,CAACtwE,CAAD,CAAI,CAC1B,IAAA,CAAK85D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CAAgCC,IAAhC,CAAqC,IAAA,CAAK4+D,cAAL,CAAoBh0E,IAApB,CAAyB,IAAzB,CAArC,CACA,KAAA,CAAKk9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB;AAAyB9R,CAAzB,CAA2BjE,EAA3B,CAAA,CAA+BiW,IAA/B,CAAoC,IAAA,CAAK4+D,cAAL,CAAoBh0E,IAApB,CAAyB,IAAzB,CAApC,CAAoE,WAApE,CAF0B,CA3yBY,CAgzBvC2zE,aAAcA,QAAQ,CAACvwE,CAAD,CAAI,CACzB,IAAA,CAAK85D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CAAgCC,IAAhC,CAAqC,IAAA,CAAK4+D,cAAL,CAAoBh0E,IAApB,CAAyB,IAAzB,CAArC,CADyB,CAhzBa,CAozBvCo8D,cAAeA,QAAQ,CAACh5D,CAAD,CAAI,CAC1B,IAAA,CAAKk5D,cAAL,CAAoBl5D,CAApB,CAEH,KAAA,CAAK85D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CAAgCC,IAAhC,CAAqC,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAArC,CAEA,KAAA,CAAKuzE,QAAL,EAAA,CAAgB/uE,IAAhB,CAAqB,QAAQ,CAACka,CAAD,CAAO,CAEnC,GAAIA,CAAJ,CAASvB,MAAT,CAAgBhe,EAAhB,EAAsBiE,CAAtB,CAAwBjE,EAAxB,CACC,IAAAA,EAAKuf,CAALvf,CAAUyf,MAAVzf,CAAiBA,EADlB,KAEWuf,EAAJ,CAASE,MAAT,CAAgBzf,EAAhB,EAAsBiE,CAAtB,CAAwBjE,EAAxB,GACNA,CADM,CACDuf,CADC,CACIvB,MADJ,CACWhe,EADX,CAGI2F,KAAAA,EAAX,GAAI3F,CAAJ,GACC,IAAA,CAAK+9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB,CAAyB/V,CAAzB,CAA4B,OAA5B,CAAA,CAAqCiW,IAArC,CAA0C,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAA1C,CAA0E,WAA1E,CACA,CAAA,IAAA,CAAKk9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB;AAAyBwJ,CAAzB,CAA8Bvf,EAA9B,CAAA,CAAkCiW,IAAlC,CAAuC,IAAA,CAAK4+D,cAAL,CAAoBh0E,IAApB,CAAyB,IAAzB,CAAvC,CAAuE,WAAvE,CAFD,CAPmC,CAAf,CAWnBA,IAXmB,CAWd,IAXc,CAArB,CAaA,KAAA,CAAKk9D,MAAL,EAAA,CAAchoD,MAAd,CAAqB,GAArB,CAAyB9R,CAAzB,CAA2BjE,EAA3B,CAA8B,OAA9B,CAAA,CACEoK,KADF,CACQ,cADR,CACwB,CADxB,CAAA,CAEE6L,IAFF,CAEO,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAFP,CAEuC,WAFvC,CAlB6B,CApzBY,CA20BvCq8D,aAAcA,QAAQ,CAACj5D,CAAD,CAAI,CACpB,IAAA,CAAK0uE,cAAL,EAAA,CAAsB9qC,SAAtB,EAAL,EACF,IAAA,CAAKs1B,cAAL,CAAoBx3D,IAAAA,EAApB,CAGD,KAAA,CAAKo4D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CACE5L,KADF,CACQ,cADR,CACwB,CADxB,CAAA,CAEE6L,IAFF,CAEO,IAAA,CAAK0nD,cAAL,CAAoB98D,IAApB,CAAyB,IAAzB,CAFP,CAIA,KAAA,CAAKk9D,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CACEC,IADF,CACO,IAAA,CAAK4+D,cAAL,CAAoBh0E,IAApB,CAAyB,IAAzB,CADP,CAT4B,CA30Ba,CAw1BvC4xE,uBAAwBA,QAAQ,CAACxuE,CAAD,CAAI,CACnC,IAAI8mC,EAAQ,IAAA,CAAKvhB,WAAL,CAAiB,OAAjB,CAAZ,CACIF;AAAQ,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CAERF,EAAJ,CAAYpqB,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAA,CAAKpvB,WAAL,CAAiB,OAAjB,CAAf,CACZtqB,IAAA,CAAIu9B,KAAJ,CAAUs4C,OAAV,CAAkBzrD,CAAlB,CAAyBrlB,CAAzB,CAA2BnF,IAA3B,CACH,KAAA,CAAK83B,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CAE0B,KAAA,CAAKG,SAAL,EAAAurD,CAAiB32B,mBAAjB22B,CAAqC,CAACv9B,SAAU,CAAA,CAAX,CAArCu9B,CACvB,CAAiBphC,IAAjB,CAAsB,CACrBtjB,OAAQpxB,GAAA,CAAIoE,KAAJ,CAAU,IAAA,CAAKgzB,YAAL,EAAV,CAA+B,CAAChN,MAAOrlB,CAAPqlB,CAASxqB,IAAV,CAAgBsQ,MAAOnL,CAAPmL,CAASA,KAAzB,CAAgC27B,MAAOA,CAAvC,CAA/B,CADa,CAErBxI,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,GACC,IAAA,CAAKsmB,iBAAL,CAAuBn2D,CAAvB,CAAyBjE,EAAzB,CAA6B,CAC5BoP,MAAOnL,CAAPmL,CAASA,KAATA,CAAe27B,CADa,CAA7B,CAIG,CAAA,IAAA,CAAKgoC,8BAAL,CAAoC9rD,CAApC,CAA6ChjB,CAA7C,CAA+CjE,EAA/C,CALJ,CAD+C,CAF3B,CAWrBoB,MAAO,IAXc,CAAtB,CATmC,CAx1BG,CAA3C,C,CCAAlC,GAAA,CAAIk2B,MAAJ,CAAW,uBAAX,CAAoC,CACnCyI,OAAQ,gBAD2B,CAEnC7H,OAAQ,CAAC,oBAAD,CAF2B,CAGnCsK,SAAU,CAAC,4BAAD,CAHyB,CAInCsL,MAAO,iBAJ4B,CAKnCqpC,cAAe,CAAA,CALoB,CAMhC79C,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ7M,MAAO3jB,IAAAA,EADH,CAEJxC,MAAOwC,IAAAA,EAFH,CAGJ4D,SAAU5D,IAAAA,EAHN,CAIJs+C,SAAU,MAJN,CAKJlb,QAAS,CALL,CAMJmsC,OAAQ,EANJ,CAHG,CAWX38C,MAAO,mBAXI,CANuB,CAmBhCl7B,OAAQ,CACPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADF,CAnBwB,CAsBhCR,YAAaA,QAAQ,EAAG,CACpB,IAAA,CAAK0+B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAFuB,CAtBQ,CA2BhC2xB,cAAeA,QAAQ,EAAG,CACtB,IAAIpgB;AAAK,IAETltB,IAAA,CAAIoE,KAAJ,CAAU8oB,CAAV,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhBysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFK,CAGV0B,MAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,oCAAX,CAAiD,CACxD6f,YAAa,IAD2C,CAExDpD,MAAO,CACNC,YAAa,CACN+2B,UAAW,KADL,CADP,CAFiD,CAAjD,CAHE,CAgBhBlY,SAAU,CACT5pD,KAAM,UADG,CAEA/I,UAAW,CACPkqD,gBAAiB,CAChBhqD,GAAIA,QAAQ,CAAC40E,CAAD,CAAK/N,CAAL,CAAiB,CAC5B,IAAA,CAAKl1C,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,qBAApC,CAA2D,IAA3D,CAAiEklC,CAAjE,CAD4B,CADb,CAIhBhmE,MAAO,IAJS,CADV,CAFX,CAhBM,CA2BVqxD,QAAS,CAAC,CACNC,MAAO,aADD,CAEN0iB,WAAa,IAAIl2E,GAAJ,CAAQ4gD,SAAR,CAAkB,EAAlB,CAFP,CAAD,CA3BC,CA+BVmT,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD;AAEJ,CACCA,MAAO,qBADR,CAFI,CAIJ,IAAA,CAAK23B,QAAL,CAAc,SAAd,CAJI,CAIsB,CAC5B33B,MAAO,QADqB,CAE5BskC,SAAU,CAFkB,CAG5BzlC,MAAO,CAHqB,CAI5B0lC,SAAU,EAJkB,CAK5BC,UAAW,CALiB,CAM5B5kC,MAAO,EANqB,CAO5BO,UAAW,CACV6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACxBA,CAAA,CAAOK,QAAP,CAAgBhZ,CAAA,CAAG5C,WAAH,CAAe,SAAf,CAAhB,CADwB,CADf,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C3lD,CAAA,CAAGwK,WAAH,CAAe,SAAf,CAA0BmO,CAAA,CAAOuB,QAAP,EAA1B,CACGla,EAAA,CAAGiG,QAAH,EAAA,CAAcgjD,YAAd,CAA2B,CAAC/kD,OAAQlE,CAAA,CAAGkK,YAAH,EAAT,CAA3B,CAFuC,CAJjC,CAPiB,CAJtB,CAoBJ,IAAA,CAAKuB,QAAL,CAAc,QAAd,CApBI,CAoBqB,CAC3B33B,MAAO,QADoB,CAE3BskC,SAAU,CAFiB,CAG3BzlC,MAAO,CAHoB,CAI3B0lC,SAAU,GAJiB,CAK3BC,UAAW,EALgB,CAM3B5kC,MAAO,EANoB,CAO3BO,UAAW,CACV6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACxBA,CAAA,CAAOK,QAAP,CAAgBhZ,CAAA,CAAG5C,WAAH,CAAe,QAAf,CAAhB,CADwB,CADf,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD;AAASgtC,CAAT,CAAmB,CAC1C3lD,CAAA,CAAGwK,WAAH,CAAe,QAAf,CAAyBm7C,CAAzB,CACIvoC,EAAAA,CAAOpd,CAAA,CAAGkpD,OAAH,EACPC,EAAAA,CAAkBnpD,CAAA,CAAGqmC,OAAH,CAAW,CAAX,CAAlB8iB,CAAgCA,eACpC,KAAIh8C,EAAQiQ,CAAA,CAAKnX,QAAL,EAAZ,CACSryB,CAAT,KAASA,CAAT,GAAeu1E,EAAf,CAAgC,CAC/B,IAAIpsE,EAASowB,CAAA,CAAMi8C,eAAN,CAAsBx1E,CAAtB,CAAb,CACCgqC,EAAMR,CAAA,CAAKisC,MAAL,CAAYtsE,CAAZ,CADP,CAECusE,EAAY1rC,CAAA,CAAIrE,UAAJ,CAAegwC,UAAf,CAA0B,CAA1B,CACTJ,EAAA,CAAgBv1E,CAAhB,CAAJ,CACCwpC,CAAA,CAAK3H,SAAL,CAAe,YAAf,CAA6BmI,CAA7B,CAAkC7gC,CAAlC,CAA0CusE,CAA1C,CAAqD,CAACpc,MAAO,CAAA,CAAR,CAArD,CADD,CAGCp6D,GAAA,CAAI8C,GAAJ,CAAQ0zE,CAAR,CAAA,CAAmBnoD,IAAnB,CAAwB,iBAAxB,CAAA,CAA2C84B,OAA3C,CAAmD,EAAnD,CAP8B,CALU,CAJjC,CAPgB,CApBrB,CAgDL,CACPnmD,MAAO,wBADA,CAhDK,CAJG,CAAD,CA/BH,CAuFhB2tD,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADG,CAETspC,QAAS,IAAA,CAAKtpC,QAAL,CAAc,aAAd,CAFA,CAGA/3B,MAAO,UAHP,CAINqqC,UAAW,UAJL,CAKAwmB,SAAU,CAAA,CALV,CAMAzD,SAAUA,QAAS,CAACnuD,CAAD,CAAQ0lE,CAAR,CAAkBt7D,CAAlB,CAA0B0tD,CAA1B,CAAoC+e,CAApC,CAA8Cr8C,CAA9C,CAAqD,CACvE,MAAOA,EAAA,CAAM9P,SAAN,EAAA,CAAkBC,WAAlB,CAA8B3qB,CAA9B,CAAA,CAAqCg2C,YAArC,EADgE,CANxE,CAAD;AASD,CACPl2B,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADC,CAEPS,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAFF,CAGP8xB,MAAO,OAHA,CAIJxf,UAAW,MAJP,CAKEwmB,SAAU,CAAA,CALZ,CAMEj3B,KAAM,CANR,CATC,CAgBD,CACP7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADC,CAEPS,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAFF,CAGJsS,UAAW,MAHP,CAIEwmB,SAAU,CAAA,CAJZ,CAKE7wD,MAAO,UALT,CAhBC,CAsBD,CACP+e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADC,CAEPS,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAFF,CAGJsS,UAAW,OAHP,CAIEwmB,SAAU,CAAA,CAJZ,CAKEj3B,KAAM,CALR,CAtBC,CA4BD,CACP7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADC,CAEPS,QAAS,IAAA,CAAKT,QAAL,CAAc,aAAd,CAFF,CAGJsS,UAAW,UAHP,CAIEwmB,SAAU,CAAA,CAJZ,CAKEvpD,OAAQ,CAAA,CALV,CAMEsyB,KAAM,CANR,CA5BC,CAvFO,CA2HVr5B,UAAW,CACVe,MAAO,IADG,CAEnB8rE,eAAgBA,QAAQ,EAAG,CACtB,IAAA,CAAK76C,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ;CACC,IAAA,CAAKsC,YAAL,CAAkB,CAAC5oB,MAAOwC,IAAAA,EAAR,CAAmB4D,SAAU5D,IAAAA,EAA7B,CAAlB,CACA,CAAA,IAAA,CAAK0sB,QAAL,EAAA,CAAgBgjD,YAAhB,EAFD,CAD0B,CAFR,CASnBQ,kBAAmBA,QAAQ,CAAC3tC,CAAD,CAAMif,CAAN,CAAY,CACtC,IAAIsf,EAAS,EAAb,CACI5xC,EAAS,IAAA,CAAKxC,QAAL,EAAA,CAAgB5I,SAAhB,EACb09B,EAAA,CAAKzvC,OAAL,CAAa,QAAQ,CAACjV,CAAD,CAAM,CAC1BgkE,CAAA,CAAOviE,IAAP,CAAY2wB,CAAA,CAAOnL,WAAP,CAAmBjnB,CAAnB,CAAA,CAAwBknB,KAAxB,EAAZ,CAD0B,CAA3B,CAEG,IAFH,CAGA,KAAA,CAAKoC,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAgBl9D,SAAU5D,IAAAA,EAA1B,CAAlB,CACA,KAAA,CAAK0sB,QAAL,EAAA,CAAgBgjD,YAAhB,EAPsC,CATpB,CAmBVS,2BAA4B,CAC1Bv1E,GAAIA,QAAQ,CAAC2nC,CAAD,CAAM6tC,CAAN,CAA2B,CACjCA,CAAL,CAAyBj3E,IAAzB,GACAwxB,MASE,CATO,CAAChH,MAAOysD,CAAPzsD,CAA2BxqB,IAA5B,CASP,CAREi3E,CAAJ,CAAwB5yE,KAAxB,CACCmtB,MADD,CACQntB,KADR,CACgB4yE,CADhB,CACoC5yE,KADpC,CAKCmtB,MALD,CAKQ/mB,QALR,CAKmBwsE,CAAA,CAAoBxsE,QAApB,CAAgCwsE,CAAhC,CAAoDxsE,QAApD,CAA+D,CAGhF,CADF,IAAA,CAAKwiB,YAAL,CAAkBuE,MAAlB,CACE,CAAI,IAAA,CAAKuX,SAAL,EAAJ,EACC,IAAA,CAAKxV,QAAL,EAAA,CAAgBgjD,YAAhB,EAXH,CADsC,CADb;AAgB1Bj0E,MAAO,IAhBmB,CAnBlB,CAqCT40E,0BAA2B,CAC1Bz1E,GAAIA,QAAQ,CAAC2nC,CAAD,CAAM+tC,CAAN,CAA0B,CAEtC,IAAIC,EAAc,EAAlB,CACIv7B,EAAU,EADd,CAEIw7B,EAAe,EAFnB,CAGI5sE,EAAW,EACf0sE,EAAA,CAAmBv+D,OAAnB,CAA2B,QAAQ,CAACyL,CAAD,CAAO,CACpC+yD,CAAA,CAAY/yD,CAAZ,CAAiBrkB,IAAjB,CAAL,GACC67C,CAAA,CAAQz2C,IAAR,CAAaif,CAAb,CAAkBrkB,IAAlB,CACA,CAAAo3E,CAAA,CAAY/yD,CAAZ,CAAiBrkB,IAAjB,CAAA,CAAuB,CAAA,CAFxB,CAIKq3E,EAAA,CAAahzD,CAAb,CAAkB5Z,QAAlB,CAAL,GACCA,CAAA,CAASrF,IAAT,CAAcif,CAAd,CAAmB5Z,QAAnB,CACA,CAAA4sE,CAAA,CAAahzD,CAAb,CAAkB5Z,QAAlB,CAAA,CAA4B,CAAA,CAF7B,CALyC,CAA1C,CAUG,KAAA,CAAKwiB,YAAL,CAAkB,CACjB5oB,MAAOwC,IAAAA,EADU,CAEjB4D,SAAUA,CAFO,CAGjB+f,MAAOqxB,CAHU,CAAlB,CAKI,KAAA,CAAK9S,SAAL,EAAJ,EACC,IAAA,CAAKxV,QAAL,EAAA,CAAgBgjD,YAAhB,CAA6B,CAAC/kD,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAA7B,CAtBkC,CADZ,CA0B1Bl1B,MAAO,IA1BmB,CArClB,CAiENd,YAAaA,QAAQ,CAAC8rB,CAAD,CAAK,CACzBA,CAAA,CAAGkpD,OAAH,EAAA,CAAapgE,EAAb,CAAgB,YAAhB,CAA8B,QAAQ,CAAEkhE,CAAF,CAAWjtE,CAAX,CAAmBusE,CAAnB,CAA8BrR,CAA9B,CAAsC,CAC3E,GAA4B,EAA5B,GAAIqR,CAAJ,CAAcW,WAAd,EAAmChS,CAAnC,EAA4CA,CAA5C,CAAkD/K,KAAlD,CAA0D,CAC5C//B,CAAAA,CAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,4BAAX,CAAyC,CACpDyzC,UAAW,KADyC;AAEpDr2C,OAAQzI,CAAA,CAAGiG,QAAH,EAAA,CAAc5I,SAAd,EAF4C,CAAzC,CAIZ,KAAIxN,EAAO9S,CAAA,CAAOwyC,OAAP,EACXpiB,EAAA,CAAMqa,IAAN,CAAW,CACVtjB,OAAQ,CACJhH,MAAOrN,CAAPqN,CAAYA,KADR,CAEJ/f,SAAU0S,CAAV1S,CAAeA,QAFX,CAGJyiB,SAAU/P,CAAV+P,CAAeA,QAHX,CAIJ+e,MAAO,CAJH,CAKJhC,QAAS3c,CAAA,CAAG5C,WAAH,CAAe,QAAf,CALL,CADE,CAQP+Y,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EAA+B,CAA/B,EAAe7sB,CAAf,CAAuBnlB,MAAvB,GACCma,CACA,CADOgL,CAAA,CAAQ,CAAR,CAAA,CAAW00B,OAAX,EACP,CAAAz8C,GAAA,CAAI8C,GAAJ,CAAQ6xC,CAAR,CAAkB6hC,SAAlB,CAAA,CAA6BnoD,IAA7B,CAAkC,iBAAlC,CAAA,CAAqD84B,OAArD,CAA6DpqC,CAA7D,CAAkEtF,IAAlE,CAAyE,8BAAzE,CAA0GsF,CAA1G,CAA+Gq6D,MAA/G,CAAwH,UAAxH,CAAqIr6D,CAArI,CAA0IpF,KAA1I,CAFD,CAD+C,CARzC,CAcP6+D,UAAWA,CAdJ,CAAX,CANgD,CADiB,CAA5E,CADyB,CAjEpB,CA3HD,CAAd,CA4NAtpD,EAAA,CAAGlX,EAAH,CAAM,cAAN,CAAsB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACT,CAAlC,EAAI,IAAA,CAAK8uC,eAAL,CAAqB9uC,CAArB,CAAJ,CACC,IAAA,CAAKwR,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,eAAd,CAAV,CAA0C,iBAA1C,CADD,CAImBhD,CAAAqpB,CAAOC,cAAPD,CAAsB,CAACzG,SAAU,CAAA,CAAX,CAAtByG,CAClB,CAAYtK,IAAZ,CAAiB,CACbrR,SAAUA,QAAQ,CAACtb,CAAD;AAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EAA8B,CAA9B,CAAe7sB,CAAf,CAAuBnlB,MAAvB,GACC,IAAA,CAAK80B,WAAL,CAAiB,OAAjB,CAA0B,CAAC3P,CAAA,CAAQ,CAAR,CAAA,CAAW6rB,OAAX,EAAD,CAA1B,CACA,CAAA,IAAA,CAAKzgB,QAAL,EAAA,CAAgBgjD,YAAhB,CAA6B,CAAC/kD,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAA7B,CAFD,CAD+C,CADnC,CAObl1B,MAAOgrB,CAPM,CAQbkE,OAAQ,CACVya,MAAO,CADG,CAEVzhB,MAAO,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CAFG,CAGVy6B,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAHA,CAIV8uB,QAAS,UAJC,CARK,CAAjB,CAN0C,CAA5C,CAwBAlsB,EAAA,CAAGlX,EAAH,CAAM,OAAN,CAAe,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACnC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAK+I,QAAL,EAAA,CAAgBgjD,YAAhB,CAA6B,CAAC/kD,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAA7B,CAFmC,CAApC,CAGGlK,CAHH,CAKAA,EAAA,CAAGlX,EAAH,CAAM,sBAAN,CAA8B,QAAQ,CAACgzB,CAAD,CAAMwL,CAAN,CAAqB,CAC1D,IAAIuiC,EAAqB,EACzBviC,EAAA,CAAch8B,OAAd,CAAsB,QAAQ,CAAC4tD,CAAD,CAAe,CAC5C2Q,CAAA,CAAmB/xE,IAAnB,CAAwB,CACvBpF,KAAMwmE,CAAA,CAAaxyB,OAAb,EADiB,CAEvBvpC,SAAU+7D,CAAA,CAAalzB,WAAb,EAFa,CAAxB,CAD4C,CAA7C,CAMA,KAAA,CAAKvQ,SAAL,CAAe,2BAAf;AAA4C,IAA5C,CAAkDo0C,CAAlD,CAR0D,CAA3D,CAWA7pD,EAAA,CAAGlX,EAAH,CAAM,cAAN,CAAsB,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAC1C,IAAI0yE,EAAqB,EACrB/2E,IAAA,CAAIy2B,QAAJ,CAAapyB,CAAb,CAAJ,GAA0BA,CAA1B,CAAkC,CAACA,CAAD,CAAlC,CACAA,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACN6G,IAAAA,EAAtB,GAAI7G,CAAJ,CAASyK,QAAT,EACI0sE,CAAA,CAAmB/xE,IAAnB,CAAwB,CACvBpF,KAAMA,CAANA,CAAWA,IADY,CAEvByK,SAAUzK,CAAVyK,CAAeA,QAFQ,CAAxB,CAFwB,CAA7B,CAQgC,EAAhC,CAAI0sE,CAAJ,CAAuBn0E,MAAvB,EACC,IAAA,CAAK+/B,SAAL,CAAe,2BAAf,CAA4C,IAA5C,CAAkDo0C,CAAlD,CAZyC,CAA3C,CAgBH7pD,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CAvRyB,CA3BM,CAApC,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CyI,OAAQ,gBADmC,CAE3C7H,OAAQ,CAAC,oBAAD,CAFmC,CAG3C4V,MAAO,yBAHoC,CAIxCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJlb,QAAS,CAFL,CAGJzf,MAAO3jB,IAAAA,EAHH,CAIJxC,MAAOwC,IAAAA,EAJH,CAKJ4D,SAAU5D,IAAAA,EALN,CAMJ3C,KAAM,oBANF,CAHG,CAWXu1B,MAAO,mBAXI,CAJ+B,CAiBxCl7B,OAAQ,CACPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADF,CAjBgC,CAoBxCR,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAGA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACzC,IAAA,CAAKgT,SAAL,EAAJ;AACC,IAAA,CAAK0uC,YAAL,EAF4C,CAA9C,CAMIl5E,EAAJ,CAAW4zC,QAAX,EAMS5zC,CANT,CAMgBw3B,MANhB,EAOC,IAAA,CAAKgN,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqCxkC,CAArC,CAA4Cw3B,MAA5C,CAGD,KAAA,CAAK3f,EAAL,CAAQ,oBAAR,CAA8B,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAClD,GAAI,IAAA,CAAK8uB,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,CAAiC,CAC7B,IAAIH,EAAQ,EACZ/lB,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CAC5BwqB,CAAA,CAAMplB,IAAN,CAAWpF,CAAA,CAAKuE,GAAL,CAAS,MAAT,CAAX,CAD4B,CAA7B,CAGA,KAAA,CAAK0oB,YAAL,CAAkB,CACjBzC,MAAOA,CADU,CAEjBnmB,MAAOwC,IAAAA,EAFU,CAGjB4D,SAAU5D,IAAAA,EAHO,CAAlB,CAKI,KAAA,CAAKkiC,SAAL,EAAJ,EACI,IAAA,CAAK0uC,YAAL,EAXyB,CADiB,CAAnD,CAiBA,KAAA,CAAKrhE,EAAL,CAAQ,kBAAR,CAA4B,QAAQ,CAACgzB,CAAD,CAAMsuC,CAAN,CAAiB,CACpD,IAAI/P,EAAS,EACb+P,EAAA,CAAU9+D,OAAV,CAAkB,QAAQ,CAACjV,CAAD,CAAM,CAACgkE,CAAA,CAAOviE,IAAP,CAAYzB,CAAA,CAAIY,GAAJ,CAAQ,IAAR,CAAZ,CAAD,CAAhC,CACA,KAAA,CAAK0oB,YAAL,CAAkB,CACjB5oB,MAAOsjE,CADU,CAEjBgQ,MAAO9wE,IAAAA,EAFU,CAGjB2jB,MAAO3jB,IAAAA,EAHU,CAAlB,CAKI,KAAA,CAAKkiC,SAAL,EAAJ,EACI,IAAA,CAAK0uC,YAAL,EATgD,CAArD,CAaA;IAAA,CAAKrhE,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CAC1B,IAAA,CAAKmd,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,EAAkC,IAAA,CAAK8sD,YAAL,EADJ,CAA/B,CAEG,IAFH,CAIA,KAAA,CAAKrhE,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACrC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAK+I,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2B8N,aAA3B,CAAyC,OAAzC,CAAkDxvB,CAAlD,CACA,KAAA,CAAKitD,YAAL,EAHqC,CAAtC,CAIG,IAJH,CAxD6B,CApBU,CAmFxCA,aAAcA,QAAQ,EAAG,CACpB,IAAA,CAAKlkD,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,GACK,IAAA,CAAKD,WAAL,CAAiB,OAAjB,CAAJ,CACC,IAAA,CAAK6I,QAAL,EAAA,CAAgBgjD,YAAhB,CAA6B,CAAC/kD,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAA7B,CADD,CAIgB,IAAA,CAAKjE,QAAL,EAAA,CAAgB5I,SAAhB,EAAAy0B,CAA4BC,cAA5BD,CAA2C,CAC5DtG,kBAAmB,CADyC,CAE5DH,SAAU,CAAA,CAFkD,CAA3CyG,CAIZ,CAAYtK,IAAZ,CAAiB,CACbrR,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,GAAIA,CAAJ,CAAa,CACZ,IAAIvwC,EAAQ,EACZ0jB,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAAC5Y,CAAD,CAAO,CAC9ByE,CAAA,CAAMW,IAAN,CAAWpF,CAAA,CAAKg0C,OAAL,EAAX,CAD8B,CAA/B,CAGA;IAAA,CAAKzgB,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2B8N,aAA3B,CAAyC,OAAzC,CAAkDv1C,CAAlD,CACA,KAAA,CAAKqzB,WAAL,CAAiB,OAAjB,CAA0BrzB,CAA1B,CACA,KAAA,CAAKgzE,YAAL,EAPY,CADkC,CADnC,CAYbn1E,MAAO,IAZM,CAabkvB,OAAQ,CACVya,MAAO,EADG,CAEVkZ,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAFA,CAbK,CAAjB,CATL,CADwB,CAnFe,CAoHxCgjB,cAAeA,QAAQ,EAAG,CACtB,IAAIpgB,EAAK,IAAT,CAEImN,EAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,4CAAX,CAAyD,CAAC6f,YAAa,IAAd,CAAzD,CAEZp4C,IAAA,CAAIoE,KAAJ,CAAU8oB,CAAV,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhBysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFK,CAGV0B,MAAQA,CAHE,CAIhBy5B,SAAU9zD,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CAC1Cp3B,UAAW,CACPkqD,gBAAiB,CAChBhqD,GAAIA,QAAQ,CAAC40E,CAAD,CAAK/N,CAAL,CAAiB,CAC5B,IAAI7jE,EAAQ,EAAZ,CACIwlC,EAAU,IAAA,CAAKvf,WAAL,CAAiB,SAAjB,CACd49C;CAAA,CAAW1vD,OAAX,CAAmB,QAAQ,CAAC9D,CAAD,CAAY,CACtCrQ,CAAA,CAAMW,IAAN,CAAW,GAAX,CAAe0P,CAAA,CAAUm/B,UAAV,EAAf,CAAsC,GAAtC,CAA0Cn/B,CAAA,CAAUs/B,cAAV,EAA1C,CAAqE,IAArE,CAA0EnK,CAA1E,CADsC,CAAvC,CAGA,KAAA,CAAK7W,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,cAApC,CAAoD,IAApD,CAA0D3+B,CAA1D,CAN4B,CADb,CAShBnC,MAAO,IATS,CADV,CAD+B,CAA1C,CAJM,CAmBV6xD,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD,CAEJ,CACCA,MAAO,qBADR,CAFI,CAIJ,IAAA,CAAK23B,QAAL,CAAc,SAAd,CAJI,CAIsB,CAC5B33B,MAAO,QADqB,CAE5BskC,SAAU,CAFkB,CAG5BzlC,MAAO,CAHqB,CAI5B0lC,SAAU,EAJkB,CAK5BC,UAAW,CALiB,CAM5B5kC,MAAO,EANqB,CAO5BO,UAAW,CACV6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACxBA,CAAA,CAAOK,QAAP,CAAgBhZ,CAAA,CAAG5C,WAAH,CAAe,SAAf,CAAhB,CADwB,CADf,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C3lD,CAAA,CAAGwK,WAAH,CAAe,SAAf;AAA0BmO,CAAA,CAAOuB,QAAP,EAA1B,CACZla,EAAA,CAAGmqD,YAAH,EAFsD,CAJjC,CAPiB,CAJtB,CAoBL,CACPr2E,MAAO,wBADA,CApBK,CAJG,CAAD,CAnBH,CA+ChB2tD,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADG,CAENsS,UAAW,MAFL,CAGH7R,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAHN,CAIA84B,SAAU,CAAA,CAJV,CAKAj3B,KAAM,CALN,CAAD,CAMD,CACP7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADC,CAEJsS,UAAW,SAFP,CAGD7R,QAAS,IAAA,CAAKT,QAAL,CAAc,gBAAd,CAHR,CAIE84B,SAAU,CAAA,CAJZ,CAKE7wD,MAAO,UALT,CAMEsH,OAAQ,CAAA,CANV,CANC,CAaD,CACDyX,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADL,CAEDsS,UAAW,aAFV,CAGD7R,QAAS,IAAA,CAAKT,QAAL,CAAc,gBAAd,CAHR,CAID6B,KAAM,CAJL,CAKDi3B,SAAU,CAAA,CALT,CAbC,CAmBD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,oBAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,uBAAd,CAFR;AAGDsS,UAAW,oBAHV,CAIDrqC,MAAO,UAJN,CAKD6wD,SAAU,CAAA,CALT,CAnBC,CA/CO,CAmFVtwD,UAAW,CACnBe,MAAO,IADY,CAEVs1E,aAAcA,QAAQ,CAACxuC,CAAD,CAAM3kC,CAAN,CAAa,CAC3C,GAAI,IAAA,CAAK8uB,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,CAAiC,CAChC,IAAI62C,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ,CAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHI,CAA7B,CAKwB,EAAxB,CAAIwtB,CAAJ,CAAex+D,MAAf,GACC,IAAA,CAAKiqB,YAAL,CAAkB,CACjBxiB,SAAU5D,IAAAA,EADO,CAEjBxC,MAAOwC,IAAAA,EAFU,CAGjB2jB,MAAOg3C,CAHU,CAAlB,CAKA,CAAI,IAAA,CAAKz4B,SAAL,EAAJ,EACC,IAAA,CAAK0uC,YAAL,EAPF,CAPgC,CADU,CAFzB,CAuBnBrJ,eAAgBA,QAAQ,EAAG,CACtB,IAAA,CAAK76C,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,GACC,IAAA,CAAKsC,YAAL,CAAkB,CAAC5oB,MAAOwC,IAAAA,EAAR,CAAmB4D,SAAU5D,IAAAA,EAA7B,CAAlB,CACA,CAAA,IAAA,CAAK4wE,YAAL,EAFD,CAD0B,CAvBR,CA8BnBV,kBAAmBA,QAAQ,CAAC3tC,CAAD;AAAMif,CAAN,CAAY,CACtC,IAAIsf,EAAS,EAAb,CACI5xC,EAAS,IAAA,CAAKxC,QAAL,EAAA,CAAgB5I,SAAhB,EACb09B,EAAA,CAAKzvC,OAAL,CAAa,QAAQ,CAACjV,CAAD,CAAM,CAC1BgkE,CAAA,CAAOviE,IAAP,CAAY2wB,CAAA,CAAOnL,WAAP,CAAmBjnB,CAAnB,CAAA,CAAwBknB,KAAxB,EAAZ,CAD0B,CAA3B,CAEG,IAFH,CAGA,KAAA,CAAKoC,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAgBl9D,SAAU5D,IAAAA,EAA1B,CAAlB,CACA,KAAA,CAAK4wE,YAAL,EAPsC,CA9BpB,CAnFD,CAAd,CA6HAnqD,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CAEAuR,EAAA,CAAGiG,QAAH,EAAA,CAAc2Y,QAAd,EAAA,CAAyB8N,aAAzB,CAAuC,mBAAvC,CAA4D,CAAA,CAA5D,CApIsB,CApHc,CAA5C,C,CCAA55C,GAAA,CAAIk2B,MAAJ,CAAW,iCAAX,CAA8C,CAC1CyI,OAAQ,iBADkC,CAE1C7H,OAAQ,CAAC,oBAAD,CAFkC,CAG1C4V,MAAO,0BAHmC,CAI1CxU,QAAS,CACLG,KAAM,EADD,CAGLpB,IAAK,CACD8tB,SAAU,MADT,CAED36B,MAAO3jB,IAAAA,EAFN,CAGDolC,MAAO,CAHN,CAHA,CAJiC,CAa1C1tC,OAAQ,CACJw3B,OAAQlvB,IAAAA,EADJ,CAEJwD,OAAQxD,IAAAA,EAFJ,CAGJgxE,gBAAiBhxE,IAAAA,EAHb,CAIJixE,kBAAmBjxE,IAAAA,EAJf,CAKJkxE,aAAclxE,IAAAA,EALV,CAMJi5D,mBAAoBj5D,IAAAA,EANhB,CAbkC,CAqB1C4/C,IAAK,qBArBqC,CAuB1C7lD,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,GAAsBsI,IAAAA,EAAtB,GAAItI,CAAJ,CAAW8L,MAAX,CAEI,MADAsnC,QAAA,CAAQ0hB,IAAR,CAAa,sCAAb,CACO,CAAA,CAAA,CAGXjzD,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACZy1B,MAAO,CACH6L,OAAQ,MADL,CAEHkyC,UAAW,GAFR;AAGH5sB,WAAY,CAAA,CAHT,CAIHN,OAAQ,CAJL,CADK,CAOZqJ,YAAa,CACTC,KAAM,QADG,CAEThzD,MAAO,SAFE,CAGT64B,MAAO,CACHG,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CADT,CAEHuB,WAAY,EAFT,CAGHt5B,MAAO,GAHJ,CAIHI,MAAO,QAJJ,CAKHwkC,UAAW,CALR,CAMHF,SAAU,CANP,CAOHC,SAAU,EAPP,CAQHpkC,UAAW,CACPssE,SAAUA,QAAQ,CAAC5nC,CAAD,CAAS,CACvBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,OAAjB,CAAhB,CADuB,CADpB,CAIP0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CACvC,IAAA,CAAKn/B,WAAL,CAAiB,OAAjB,CAA0Bm/B,CAA1B,CACA,KAAA,CAAKghB,SAAL,EAFuC,CAJpC,CAQP31E,MAAO,IARA,CARR,CAHE,CAPD,CA8BZf,UAAW,CACPssE,SAAUA,QAAQ,EAAG,CACjB,IAAA,CAAKxiE,IAAL,CAAU+K,EAAV,CAAa,OAAb,CAAsB,QAAQ,CAACrG,CAAD,CAAI,CAE9B,CADI4Q,CACJ,CADa5Q,CAAA,CAAEwnC,SAAF,CAAY,IAAZ,CAAkB,IAAlB,CAAwB,CAAA,CAAxB,CACb,GAAoC,GAApC,EAAc52B,CAAd,CAAqB7d,GAArB,CAAyBo1E,OAAzB,EACQv3D,CAAA,CAAOupC,MAAP,CAAc,aAAd,CADR,EAEQ,IAAA,CAAK9mB,aAAL,CAAmB,cAAnB;AAAmC,IAAnC,CAAyC,CAACziB,CAAA,CAAOw3D,OAAP,EAAD,CAAzC,CAJsB,CAAlC,CAOG,IAPH,CAOS,CAAC/P,gBAAiB,CAAA,CAAlB,CAPT,CASA,KAAA,CAAKgQ,cAAL,EAAA,CAAsBx/D,OAAtB,CAA8B,QAAQ,CAAC7V,CAAD,CAAI,CACvCA,CAAA,CAAE8gC,KAAF,EAAA,CAAUztB,EAAV,CAAa,OAAb,CAAsB,IAAtB,CAA4B,IAA5B,CAAkC,CAACgyD,gBAAiB,CAAA,CAAlB,CAAlC,CADuC,CAA1C,CAIA,KAAA,CAAK6P,SAAL,EAdiB,CADd,CAiBP31E,MAAO,IAjBA,CA9BC,CAAhB,CAmDAlC,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CAChB4I,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAAP5xB,CAA8B5I,CAAA,CAAO8L,MAAP,CAAc2pC,OAAd,EADd,CAApB,CAIA,KAAA,CAAK1U,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAIga,EAAS,IAAA,CAAKsiD,SAAL,EAAA,CAAiB59C,KAAjB,CAAuB9P,SAAvB,EACb,KAAA,CAAK+uB,SAAL,CAAe3jB,CAAf,CAEA,KAAA,CAAK+B,WAAL,CAAiB,OAAjB,CAA0B,IAAA,CAAKugD,SAAL,EAAA,CAAiBrkC,OAAjB,EAA1B,CAEA,KAAA,CAAKskC,kBAAL,CAAwBl4E,GAAA,CAAIu4B,MAAJ,CAAW,oCAAX;AAAiD,CAAE5C,OAAQA,CAAV,CAAjD,CAAxB,CACA,KAAA,CAAKwiD,oBAAL,CAA0Bn4E,GAAA,CAAIu4B,MAAJ,CAAW,oCAAX,CAAiD,CAAE5C,OAAQA,CAAV,CAAjD,CAA1B,CACA,KAAA,CAAKyiD,eAAL,CAAqBp4E,GAAA,CAAIu4B,MAAJ,CAAW,gCAAX,CAA6C,CAAE5C,OAAQA,CAAV,CAA7C,CAArB,CACA,KAAA,CAAKwqC,qBAAL,CAA2BngE,GAAA,CAAIu4B,MAAJ,CAAW,iCAAX,CAA8C,CAAE5C,OAAQA,CAAV,CAA9C,CAA3B,CAxE0B,CAvBY,CAmG1CkiD,UAAWA,QAAQ,EAAG,CAClB,IAAA,CAAKQ,YAAL,CAAkB,MAAlB,CAAA,CAA0BhsC,SAA1B,EAGA,KADA,IAAIisC,EAAa,EAAjB,CACS31E,EAAI,CAAb,CAAgBA,CAAhB,CAAoB,IAAA,CAAK4nB,SAAL,EAAA,CAAiBqL,iBAAjB,EAApB,CAA0DjzB,CAAA,EAA1D,CACI21E,CAAA,CAAW31E,CAAX,CAAA,CAAgBA,CAEpB,KAAA,CAAK01E,YAAL,CAAkB,MAAlB,CAAA,CAA0Bt3E,GAA1B,CAA8B,CAC1BC,MAAO,WADmB,CAE1BqlD,IAAK,SAFqB,CAG1BrE,OAAQ,MAHkB,CAI1ByI,MAAO,QAJmB,CAK1B5wB,MAAO,CAAC,CACJ74B,MAAO,WADH;AAEJC,KAAM,sBAANA,CAA6B,IAAA,CAAK03B,QAAL,CAAc,cAAd,CAA7B13B,CAA2D,QAFvD,CAAD,CAGL,CACEykC,OAAQ,UADV,CAEE1kC,MAAO,eAFT,CAGEg6B,OAAQ,EAHV,CAIEt6B,OAAQ,EAJV,CAKEE,MAAO,GALT,CAHK,CALmB,CAe1BO,UAAW,CACPC,YAAaA,QAAQ,CAAChD,CAAD,CAAY,CAC7BA,CAAA,CAAU+oC,IAAV,CAAe,IAAA,CAAKxO,QAAL,CAAc,SAAd,CAAf,CAEA,KAAA,CAAKqoC,qBAAL,EAAA,CAA6BtsB,IAA7B,CAAkC,CAC9BtjB,OAAQ,CACJhH,MAAO,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CADH,CAEJjgB,SAAUiuE,CAFN,CAGJp+B,kBAAmB,CAAA,CAHf,CAIJ11C,KAA0C,CAA1CA,CAAMwmB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAJF,CADsB,CAO9B+Y,SAAUA,QAAQ,CAACtb,CAAD,CAAUoiC,CAAV,CAAcvV,CAAd,CAAuB,CACjCA,CAAJ,EAAe7sB,CAAf,EAAyC,CAAzC,CAA0BA,CAA1B,CAAkCnlB,MAAlC,GAEQo4B,CAEJ,CAHajT,CAAAwwD,CAAQtkE,GAARskE,CAAY,QAAQ,CAAC57C,CAAD,CAAI,CAAE,MAAOA,EAAA,CAAEwX,gBAAF,EAAT,CAAxBokC,CACA,CAAOC,MAAP,CAAc,QAAQ,CAACv2D,CAAD,CAAGtY,CAAH,CAAM,CAAE,MAAOsY,EAAA,CAAE87B,MAAF,CAASp0C,CAAT,CAAT,CAA5B,CAEb,CADA,IAAA,CAAK0kB,IAAL,CAAU,WAAV,CAAA,CAAuBqU,SAAvB,CAAiC1H,CAAjC,CACA;AAAA58B,CAAA,CAAU6yB,MAAV,EAJJ,CADqC,CAPX,CAe9B/uB,MAAO,IAfuB,CAAlC,CAH6B,CAD1B,CAsBPA,MAAO,IAtBA,CAfe,CAA9B,CAyCA,KAAA,CAAKu2E,UAAL,CACI,IAAA,CAAK9/C,QAAL,CAAc,YAAd,CADJ,CACiC,IAAA,CAAK+/C,kBAAL,EADjC,CAC4D,IAAA,CAAKthD,YAAL,EAD5D,CAEI,oLAFJ,CAGI,QAAQ,CAACuF,CAAD,CAAI,CACR,MAAO,CAAC/8B,KAAM+8B,CAAA,CAAEqX,cAAF,EAAP,CAA2BplB,IAAK+N,CAAA,CAAEsX,qBAAF,EAAhC,CADC,CAHhB,CAQA,KAAA,CAAKwkC,UAAL,CACI,IAAA,CAAK9/C,QAAL,CAAc,cAAd,CADJ,CACmC,IAAA,CAAKggD,oBAAL,EADnC,CACgE,IAAA,CAAKvhD,YAAL,EADhE,CAEI,oLAFJ;AAGI,QAAQ,CAACuF,CAAD,CAAI,CACR,MAAO,CAAC/8B,KAAM+8B,CAAA,CAAEx4B,GAAF,CAAM,aAAN,CAAP,CAA6ByqB,IAAK+N,CAAA,CAAEx4B,GAAF,CAAM,QAAN,CAALyqB,CAAqBnlB,OAAlD,CADC,CAHhB,CAQA,KAAA,CAAKgvE,UAAL,CACI,IAAA,CAAK9/C,QAAL,CAAc,SAAd,CADJ,CAC8B,IAAA,CAAKigD,eAAL,EAD9B,CACsD54E,GAAA,CAAIoE,KAAJ,CAAU,CAACy0E,UAAW,CAAZ,CAAe/0E,KAAM,QAArB,CAAV,CAA0C,IAAA,CAAKszB,YAAL,EAA1C,CADtD,CAEI,sDAFJ,CAGI,QAAQ,CAACuF,CAAD,CAAI,CACR,MAAO,CAACm8C,OAAQn8C,CAAA,CAAEiX,OAAF,EAAT,CADC,CAHhB,CAhEkB,CAnGoB,CA4K1C6kC,WAAYA,QAAQ,CAAC1xE,CAAD,CAAQszB,CAAR,CAAejJ,CAAf,CAAuB8a,CAAvB,CAAiCslB,CAAjC,CAA0C,CAC1D,MAAO,KAAA,CAAK6mB,YAAL,CAAkB,MAAlB,CAAA,CAA0Bt3E,GAA1B,CAA8B,CACjCC,MAAO,WAD0B,CAEjCC,KAAM,sBAANA,CAA6B8F,CAA7B9F,CAAmC,QAFF,CAGjColD,IAAK,SAH4B,CAIjCllD,UAAW,CACPC,YAAaA,QAAQ,CAAChD,CAAD,CAAY,CAC7BA,CAAA,CAAU+oC,IAAV,CAAe,IAAA,CAAKxO,QAAL,CAAc,SAAd,CAAf,CACA0B;CAAA,CAAMqa,IAAN,CAAW,CACPtjB,OAAQA,CADD,CAEPiS,SAAUA,QAAQ,CAACtb,CAAD,CAAUoiC,CAAV,CAAcvV,CAAd,CAAuB,CACjCA,CAAJ,EAAe7sB,CAAf,EAAyC,CAAzC,CAA0BA,CAA1B,CAAkCnlB,MAAlC,GACIxE,CAAA,CAAU6yB,MAAV,EACA,CAAAjxB,GAAA,CAAI0C,GAAJ,CAAQgnD,MAAR,CAAe/wC,MAAf,CAAsBva,CAAA,CAAU+mC,WAAV,EAAA,CAAwB0mC,KAAxB,EAAA,CAAgCA,KAAhC,EAAtB,CACI,CAAA,IAAI7rE,GAAJ,CAAQ4gD,SAAR,CAAkB,wBAAlB,CAA2C1U,CAA3C,CAAoD,QAApD,CAAA,EAA8D9nC,KAA9D,CAAoE2jB,CAAA,CAAQ9T,GAAR,CAAYu9C,CAAZ,CAApE,CADJ,CAFJ,CADqC,CAFlC,CAAX,CAF6B,CAD1B,CAePtvD,MAAO,IAfA,CAJsB,CAA9B,CADmD,CA5KpB,CAA9C,C,CCAAlC,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCyI,OAAQ,gBAD+B,CAEvC7H,OAAQ,CAAC,oBAAD,CAF+B,CAGvC4V,MAAO,qBAHgC,CAIpCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ7M,MAAO3jB,IAAAA,EADH,CAEJxC,MAAOwC,IAAAA,EAFH,CAGJ4D,SAAU5D,IAAAA,EAHN,CAIJs+C,SAAU,MAJN,CAKJg0B,yBAA0B,GALtB,CAHG,CAUX1/C,MAAO,mBAVI,CAJ2B,CAgBpCl7B,OAAQ,CACPunE,QAAS,CAAC,CACT1kE,MAAO,gBADE,CAAD,CAGL,CAACA,MAAO,kBAAR,CAHK,CADF,CAhB4B,CAuBpCR,YAAaA,QAAQ,EAAG,CACpB,IAAA,CAAK0+B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAFuB,CAvBY,CA4BpC2xB,cAAeA,QAAQ,EAAG,CACtB,IAAIpgB,EAAK,IAETltB,IAAA,CAAIoE,KAAJ,CAAU8oB,CAAV,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS;AAEhBysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFK,CAGhB0B,MAAOr6B,GAAA,CAAIu4B,MAAJ,CAAW,4CAAX,CAAyD,CACzD6f,YAAa,IAD4C,CAAzD,CAHS,CAOhBuW,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADG,CAETS,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAFA,CAGNsS,UAAW,aAHL,CAINwmB,SAAU,CAAA,CAJJ,CAAD,CAKP,CACQzwD,MAAO,cADf,CAEQo4B,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAFjB,CAGQ/3B,MAAO,GAHf,CAIQqqC,UAAW,sBAJnB,CAKQ+H,OAAQ,CACJhyC,MAAO,eADH,CALhB,CAQQ2e,KAAM,QARd,CALO,CAcD,CACE3e,MAAO,cADT,CAEEo4B,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAFX,CAGE/3B,MAAO,GAHT,CAIEqqC,UAAW,sBAJb,CAKE+H,OAAQ,CACJhyC,MAAO,eADH,CALV;AAQE2e,KAAM,QARR,CASE8qC,MAAO,OATT,CAdC,CAwBD,CACP9qC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADC,CAEPS,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAFF,CAGJsS,UAAW,aAHP,CAIJwmB,SAAU,CAAA,CAJN,CAxBC,CA6BP,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,gBAAd,CAFR,CAGEsS,UAAW,aAHb,CA7BO,CAiCP,CACDtrB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,iBAAd,CAFR,CAGEsS,UAAW,cAHb,CAjCO,CAPO,CA+CV9pC,UAAW,CACVe,MAAO,IADG,CAEnB8rE,eAAgBA,QAAQ,EAAG,CAC1B,IAAA,CAAKnhD,YAAL,CAAkB,CAACxiB,SAAU5D,IAAAA,EAAX,CAAsBxC,MAAOwC,IAAAA,EAA7B,CAAlB,CACM,KAAA,CAAK0sB,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2B8N,aAA3B,CAAyC,MAAzC,CAAiD,+BAAjD,CACA;IAAA,CAAKzmB,QAAL,EAAA,CAAgBuhB,IAAhB,EAHoB,CAFR,CAQnBiiC,kBAAmBA,QAAQ,CAAC3tC,CAAD,CAAMif,CAAN,CAAY,CACtC,IAAIsf,EAAS,EAAb,CACI5xC,EAAS,IAAA,CAAKxC,QAAL,EAAA,CAAgB5I,SAAhB,EACb09B,EAAA,CAAKzvC,OAAL,CAAa,QAAQ,CAACjV,CAAD,CAAM,CAC1BgkE,CAAA,CAAOviE,IAAP,CAAY2wB,CAAA,CAAOnL,WAAP,CAAmBjnB,CAAnB,CAAA,CAAwBknB,KAAxB,EAAZ,CAD0B,CAA3B,CAEG,IAFH,CAGA,KAAA,CAAKoC,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAgBl9D,SAAU5D,IAAAA,EAA1B,CAAlB,CACM,KAAA,CAAK0sB,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2B8N,aAA3B,CAAyC,MAAzC,CAAiD,iCAAjD,CACA,KAAA,CAAKzmB,QAAL,EAAA,CAAgBuhB,IAAhB,EARgC,CARpB,CA/CD,CAmEVqf,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD,CAEL,CACEA,MAAO,qBADT,CAFK,CAIJ,CACFA,MAAO,UADL,CAJI,CAMJ,CACFA,MAAO,QADL,CAEF0kC,OAAQ,+BAFN;AAGF/lB,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,+BAAZ,CAHJ,CANI,CAUJ,CACR33B,MAAO,QADC,CAELwkC,UAAW,CAFN,CAGLF,SAAU,CAHL,CAILC,SAAU,GAJL,CAKL3kC,MAAO,EALF,CAMLO,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,0BAAjB,CAAhB,CACAub,EAAA,CAAOnL,EAAP,CAAU,SAAV,CAAA,CAAqB29C,YAArB,CAAkC,+BAAlC,CAAA,CAAmEW,OAAnE,CAA2E,CAAA,IAAIh5E,GAAJ,CAAQ4gD,SAAR,CAAkB1zB,CAAA,CAAGyL,QAAH,CAAY,+BAAZ,CAAlB,CAAA,EAAgEv0B,KAAhE,CAAsE,CAAC,IAAA,CAAKkmB,WAAL,CAAiB,0BAAjB,CAAD,CAAtE,CAA3E,CAF6B,CADpB,CAKV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACksD,yBAA0BliB,CAA3B,CAAlB,CACAhxB,EAAA,CAAOnL,EAAP,CAAU,SAAV,CAAA,CAAqB29C,YAArB,CAAkC,+BAAlC,CAAA,CAAmEW,OAAnE,CAA2E,CAAA,IAAIh5E,GAAJ,CAAQ4gD,SAAR,CAAkB1zB,CAAA,CAAGyL,QAAH,CAAY,+BAAZ,CAAlB,CAAA,EAAgEv0B,KAAhE,CAAsE,CAACyyD,CAAD,CAAtE,CAA3E,CACA;IAAA,CAAK1jC,QAAL,EAAA,CAAgBuhB,IAAhB,EAH0C,CALjC,CAUVxyC,MAAO,IAVG,CANN,CAVI,CA4BL,CACPlB,MAAO,wBADA,CA5BK,CAJG,CAAD,CAnEH,CAAd,CAyGAksB,EAAA,CAAGlX,EAAH,CAAM,cAAN,CAAsB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACX,CAAhC,EAAIA,CAAA,CAAOC,iBAAP,EAAJ,EACC,IAAA,CAAKzC,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2B8N,aAA3B,CAAyC,MAAzC,CAAiD,iCAAjD,CAEG,KAAA,CAAKjR,SAAL,EAAJ,EACC,IAAA,CAAKxV,QAAL,EAAA,CAAgBuhB,IAAhB,EAL0C,CAA5C,CASHxnB,EAAA,CAAGlX,EAAH,CAAM,UAAN,CAAkB,QAAQ,EAAG,CACxB,IAAA,CAAKmd,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,EAAkC,IAAA,CAAK4I,QAAL,EAAA,CAAgBuhB,IAAhB,EADN,CAA7B,CAEG,IAFH,CAIAxnB,EAAA,CAAGlX,EAAH,CAAM,OAAN,CAAe,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CAChC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAK+I,QAAL,EAAA,CAAgBuhB,IAAhB,EAFgC,CAApC,CAGMxnB,CAHN,CAKGA,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CA9HsB,CA5BU,CAAxC,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,4BAAX,CAAyC,CACxCyI,OAAQ,gBADgC,CAExCyC,SAAU,CAAC,qBAAD,CAF8B,CAGxCtK,OAAQ,CAAC,oBAAD,CAHgC,CAIxC4V,MAAO,sBAJiC,CAKxCqpC,cAAe,CAAA,CALyB,CAMrC79C,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJwsC,YAAah9D,IAAAA,EADT,CAEJwyE,SAAUxyE,IAAAA,EAFN,CAGJyyE,kBAAmBzyE,IAAAA,EAHf,CAIJ0yE,gBAAiB1yE,IAAAA,EAJb,CAKJ2yE,gBAAiB3yE,IAAAA,EALb,CAMJ4yE,cAAe5yE,IAAAA,EANX,CAOJ6yE,eAAgB7yE,IAAAA,EAPZ,CAQJ8yE,gBAAiB9yE,IAAAA,EARb,CASJ+yE,kBAAmB/yE,IAAAA,EATf,CAUJgzE,iBAAkBhzE,IAAAA,EAVd,CAWJizE,iBAAkBjzE,IAAAA,EAXd,CAYJkzE,mBAAoBlzE,IAAAA,EAZhB,CAaJmzE,sBAAuBnzE,IAAAA,EAbnB,CAcJozE,iBAAkBpzE,IAAAA,EAdd;AAeJqzE,mBAAoBrzE,IAAAA,EAfhB,CAgBJszE,iBAAkBtzE,IAAAA,EAhBd,CAiBJuzE,eAAgBvzE,IAAAA,EAjBZ,CAkBJwzE,gBAAiBxzE,IAAAA,EAlBb,CAmBJyzE,iBAAkBzzE,IAAAA,EAnBd,CAoBJ0zE,mBAAoB1zE,IAAAA,EApBhB,CAqBJ2zE,kBAAmB3zE,IAAAA,EArBf,CAsBJ4zE,kBAAmB5zE,IAAAA,EAtBf,CAuBJ6zE,oBAAqB7zE,IAAAA,EAvBjB,CAwBJ8zE,uBAAwB9zE,IAAAA,EAxBpB,CA0BJ+zE,qBAAsB/zE,IAAAA,EA1BlB,CA2BJg0E,mBAAoBh0E,IAAAA,EA3BhB,CA4BJi0E,iBAAkBj0E,IAAAA,EA5Bd,CA6BJk0E,kBAAmBl0E,IAAAA,EA7Bf,CA8BJm0E,mBAAoBn0E,IAAAA,EA9BhB,CA+BJo0E,qBAAsBp0E,IAAAA,EA/BlB,CAgCJq0E,oBAAqBr0E,IAAAA,EAhCjB,CAiCJs0E,oBAAqBt0E,IAAAA,EAjCjB,CAkCJu0E,sBAAuBv0E,IAAAA,EAlCnB,CAmCJw0E,yBAA0Bx0E,IAAAA,EAnCtB;AAoCJy0E,aAAcz0E,IAAAA,EApCV,CAqCJ00E,cAAe10E,IAAAA,EArCX,CAsCJ20E,eAAgB30E,IAAAA,EAtCZ,CAuCJu5C,iBAAkBv5C,IAAAA,EAvCd,CAwCJ40E,eAAgB50E,IAAAA,EAxCZ,CAyCJ60E,aAAc70E,IAAAA,EAzCV,CA0CJ80E,WAAY90E,IAAAA,EA1CR,CA2CJ+0E,YAAa/0E,IAAAA,EA3CT,CA4CJM,MAAON,IAAAA,EA5CH,CA6CJk4C,SAAUl4C,IAAAA,EA7CN,CA8CJg1E,gBAAiBh1E,IAAAA,EA9Cb,CA+CJi1E,qBAAsBj1E,IAAAA,EA/ClB,CAgDJk1E,iBAAkBl1E,IAAAA,EAhDd,CAiDJm1E,sBAAuBn1E,IAAAA,EAjDnB,CAkDJ3C,KAAM2C,IAAAA,EAlDF,CAHG,CAN4B,CA+DrCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACAxd,EAAA,CAASA,CAAT,EAAmB,EAEtB,KAAA,CAAK24B,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8CuW,IAA9C,CAAmD,IAAnD,CACE/W,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjBglC,aAAc,CACblB,KAAM,CAAA,CADO,CAEbgB,KAAM,CAAA,CAFO,CAGbg2C,SAAU,IAAA,CAAK9/C,mBAAL,EAHG,CADG,CAAlB,CADF,CAJ6B,CA/DO;AA+ErCmU,cAAeA,QAAQ,EAAG,CACtB,IAAIpgB,EAAK,IAETltB,IAAA,CAAIoE,KAAJ,CAAU8oB,CAAV,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB/3B,MAAO,GAFS,CAGhB80D,MAAO,CAAA,CAHS,CAIhB1yD,QAAS,EAJO,CAKhBkI,MAAO,CACH2wE,YAAa,MADV,CAEHC,YAAa,OAFV,CALS,CAShBC,YAAa,CAAA,CATG,CAUhB/5B,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAVQ,CAchBsJ,YAAa,CAAC,CACb/yD,MAAO,SADM,CAEJizD,gBAAiB,UAFb,CAGJD,KAAM,QAHF,CAIVgoB,YAAa,OAJH,CAMbniD,MAAO,CAAC,CACPla,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,MAAZ,CADC,CAEKU,MAAO,mBAFZ,CAGPD,QAASlM,CAAA,CAAGyL,QAAH,CAAY,gBAAZ,CAHF,CAIPzwB,OAA0BzB,IAAAA,EAA1ByB,EAAQ,IAAA,CAAKqiB,SAAL,EAJD,CAKP+O,QAASA,QAAQ,EAAG,CACnBt5B,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC5BxxB,MAAOmmB,CAAA,CAAGyL,QAAH,CAAY,MAAZ,CADqB;AAE5BqpB,OAAQ,KAFoB,CAG5BpoB,MAAO,CAAA,CAHqB,CAI5BC,MAAO,CACH74B,MAAO,MADJ,CAEHi7E,gBAAiB,CAAA,CAFd,CAGHvxB,OAAQ,SAHL,CAIH7wB,MAAO,CACN74B,MAAO,gBADD,CAJJ,CAcHs5B,QAAS,CACR,CACC3a,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,MAAZ,CADP,CAEUU,MAAO,mBAFjB,CAGCC,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACXA,CAAA,CAAIC,EAAJ,CAAO,MAAP,CAAA,CAAe6H,OAAf,EACX,KAAI5M,EAAS8E,CAAA,CAAIC,EAAJ,CAAO,MAAP,CAAA,CAAe6H,OAAf,EAAA,CAAyBtH,SAAzB,EAATtF,CAA8CA,MACtC,GAAZ,EAAIA,CAAJ,EACCzI,CAAA,CAAGgvD,UAAH,CAAc,CAACvmD,OAAQA,CAAT,CAAd,CACA,CAAA8E,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAFD,EAKI36B,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAOmmB,CAAA,CAAGyL,QAAH,CAAY,gBAAZ,CADE,CAET0G,QAASnS,CAAA,CAAGyL,QAAH,CAAY,sBAAZ,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJL,CAAb,CARkB,CAHxB,CAmBCtF,KAAM,CAnBP,CADQ,CAqBH,CACJ7a,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,QAAZ,CADF,CAEKU,MAAO,mBAFZ;AAGJmB,KAAM,CAHF,CAIJlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CAJnB,CArBG,CAdN,CAJqB,CAAhC,CAAA,CAiDGnZ,IAjDH,EADmB,CALb,CAAD,CAyDL,CACKxgB,MAAO,iBADZ,CAEWq4B,MAAO,mBAFlB,CAGK/Z,KAAM,QAHX,CAIK68D,WAAY,CAAA,CAJjB,CAKKC,UAAW,CAAA,CALhB,CAMK7hD,GAAI,iBANT,CAOK+nB,WAAYp1B,CAAA,CAAGyL,QAAH,CAAY,QAAZ,CAPjB,CAQKx3B,UAAW,CACV6vD,OAAQA,QAAQ,CAACqrB,CAAD,CAAY,CAC3BA,CAAA,CAAUC,WAAV,CAAsB55E,GAAtB,CAA0B4mC,YAA1B,CAAuC,UAAvC,CAAmD,CAAA,CAAnD,CACGtpC,IAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAC1BnnC,OAAQ87D,CAAA,CAAU54C,KAAV,EADkB,CAE1B9jB,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,aAAZ,CAFoB,CAAjC,CAFwB,CADlB,CAQJktC,cAAeA,QAAQ,CAAC/zB,CAAD,CAAM,CAC/B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD+B,CARzB,CAWJmC,OAAQA,QAAQ,CAACy2C,CAAD,CAAYx8E,CAAZ,CAAmB,CAClC,GAAIA,CAAJ,CAAW,CACP,IAAI+6B,EAAOyhD,CAAA,CAAU3hD,EAAV,CAAa,MAAb,CAAA,CAAqB6H,OAArB,EACX,IAAI3H,CAAA,CAAK06B,OAAL,EAAJ,CAAoB,CACfinB,CAAAA;AAAQF,CAARE,CAAkBD,WAAlBC,CAA8B75E,GAA9B65E,CAAkCA,KAKtC,KAJA,IAAIC,EAAa,+HAAjB,CACIC,EAAc,8FADlB,CAEIC,EAAW,EAFf,CAGIC,EAAe,EAHnB,CAISh6E,EAAI,CAJb,CAIgBsnB,EAAMsyD,CAANtyD,CAAYrnB,MAA5B,CAAoCD,CAApC,CAAsCsnB,CAAtC,CAA2CtnB,CAAA,EAA3C,CAAgD,CAC/C,IAAIi6E,EAAWL,CAAA,CAAM55E,CAAN,CAAXi6E,CAAoBt9D,IACpBk9D,EAAA,CAAWzqE,IAAX,CAAgB6qE,CAAhB,CAAJ,CACCF,CAAA,CAAS13E,IAAT,CAAc43E,CAAA,CAASx4D,KAAT,CAAe,GAAf,CAAA,CAAoB+Z,GAApB,EAAd,CADD,CAGUs+C,CAAA,CAAY1qE,IAAZ,CAAiB6qE,CAAjB,CAHV,EAICD,CAAA,CAAa33E,IAAb,CAAkB43E,CAAA,CAASx4D,KAAT,CAAe,GAAf,CAAA,CAAoB+Z,GAApB,EAAlB,CAN8C,CAS5B,CAApB,CAAIu+C,CAAJ,CAAa95E,MAAb,EAA6C,CAA7C,CAAyB+5E,CAAzB,CAAsC/5E,MAAtC,CAEC5C,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAOmmB,CAAA,CAAGyL,QAAH,CAAY,kBAAZ,CADK,CAEZiH,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KAFT,CAGZT,QAASnS,CAAA,CAAGyL,QAAH,CAAY,kBAAZ,CAAT0G;AAAyC,MAAzCA,EACoB,CAAlB,CAAAq9C,CAAA,CAAS95E,MAAT,CAAuB,MAAvB,CAA8BsqB,CAAA,CAAGyL,QAAH,CAAY,UAAZ,CAA9B,CAAwD+jD,CAAA,CAASn3E,KAAT,CAAe,CAAf,CAAkB,CAAlB,CAAA,CAAqBiE,IAArB,CAA0B,IAA1B,CAAxD,EAA2G,CAAhB,CAAAkzE,CAAA,CAAS95E,MAAT,CAAoB,QAApB,CAA0B,EAArH,EAA2H,OAA3H,CAAsI,EADxIy8B,GAEsB,CAApB,CAAAs9C,CAAA,CAAa/5E,MAAb,CAAyB,MAAzB,CAAiCsqB,CAAA,CAAGyL,QAAH,CAAY,cAAZ,CAAjC,CAA+DgkD,CAAA,CAAap3E,KAAb,CAAmB,CAAnB,CAAsB,CAAtB,CAAA,CAAyBiE,IAAzB,CAA8B,IAA9B,CAA/D,EAA0H,CAApB,CAAAmzE,CAAA,CAAa/5E,MAAb,CAAwB,QAAxB,CAA8B,EAApI,EAAyI,OAAzI,CAAoJ,EAFtJy8B,EAGC,OAHDA,CAGSnS,CAAA,CAAGyL,QAAH,CAAY,cAAZ,CANG,CAOZ2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBuiD,KAPL,CAQZx7E,GAAIA,QAAQ,CAACo5B,CAAD,CAAM,CACC,KAAZ,GAAIA,CAAJ,CACCvN,CAAA,CAAG4vD,QAAH,CAAYliD,CAAZ,CADD,EAVGyhD,CAcF,CAAK9mB,KAAL,EACA,CAfE8mB,CAeF,CAAKC,WAAL,CAAiB55E,GAAjB,CAAqB4mC,YAArB,CAAkC,UAAlC,CAA8C,CAAA,CAA9C,CALD,CADW,CARN,CAiBZpnC,MAAO04B,CAjBK,CAAb,CAFD,CAuBC1N,CAAA,CAAG4vD,QAAH,CAAYliD,CAAZ,CAtCkB,CAFb,CADuB,CAX/B,CARhB,CAzDK,CA2HL,IA3HK,CA2HC,CACJ55B,MAAO,QADH,CAEJ00B,MAAO,OAFH,CAGJ2D,MAAO,mBAHH,CAIJ1Z,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAJF,CAKJzwB,OAA0BzB,IAAAA,EAA1ByB;AAAQ,IAAA,CAAKqiB,SAAL,EALJ,CAMJ+O,QAASA,QAAQ,CAACmB,CAAD,CAAM,CAEnB,CADInS,CACJ,CADU,IAAA,CAAKoS,EAAL,CAAQ,QAAR,CACV,GAAWpS,CAAA,CAAIy0D,UAAJ,EAAX,EACCz0D,CAAA,CAAIqS,KAAJ,EAHkB,CANnB,CA3HD,CAuID,CACF35B,MAAO,QADL,CAEF00B,MAAO,OAFL,CAGO2D,MAAO,mBAHd,CAIF1Z,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAJJ,CAKF4B,GAAI,SALF,CAMF35B,MAAO,GANL,CAOF04B,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACnB,IAAI+P,EAAQ/P,CAAA,CAAIC,EAAJ,CAAO,MAAP,CAAA,CAAerM,IAAf,CAAoB,QAApB,CAAA,CAA8B+Y,QAA9B,EACZ,IAAc,EAAd,GAAIoD,CAAJ,CAAkB,CACjB,IAAIvT,EAAM/J,CAAA,CAAGkK,YAAH,EACP,QAAOH,CAAP,CAAWqT,IACX,QAAOrT,CAAP,CAAW8tB,QACV9tB,EAAJ,CAAQwsC,WAAR,EAAmD,CAAnD,GAAuBj5B,CAAA,CAAM+K,IAAN,EAAA,CAAavuC,OAAb,CAAqB,GAArB,CAAvB,CACChH,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB1e,CAAA,CAAGyL,QAAH,CAAY,OAAZ,CAAhB,CAAsCzL,CAAA,CAAGyL,QAAH,CAAY,qBAAZ,CAAtC,CAA0E,QAAQ,CAACqkD,CAAD,CAAW,CAC9E,KAAd,EAAIA,CAAJ,EACC9vD,CAAA,CAAGgvD,UAAH,CAAcl8E,GAAA,CAAIoE,KAAJ,CAAU6yB,CAAV,CAAe,CAACuT,MAAOA,CAAR,CAAf,CAAd,CAF2F,CAA7F,CAIGtd,CAJH,CADD;AAQCA,CAAA,CAAGgvD,UAAH,CAAcl8E,GAAA,CAAIoE,KAAJ,CAAU6yB,CAAV,CAAe,CAACuT,MAAOA,CAAR,CAAf,CAAd,CAZgB,CAAlB,IAgBCxqC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAOmmB,CAAA,CAAGyL,QAAH,CAAY,gBAAZ,CADE,CAET0G,QAASnS,CAAA,CAAGyL,QAAH,CAAY,mBAAZ,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJL,CAAb,CAlBkB,CAPrB,CAvIC,CANM,CAAD,CAdG,CA8LhBjG,MAAO,CAAC,CACP54B,KAAM,IAAA,CAAKwgC,gBAAL,EAANxgC,CAA8Bg8E,YADvB,CAEP/0E,OAA8CzB,IAAAA,EAA9CyB,EAAQ,IAAA,CAAKu5B,gBAAL,EAARv5B,CAAgC+0E,YAFzB,CAAD,CAGL,CAEDv8E,OAAQ,GAFP,CAGEM,MAAO,eAHT,CAIE0kC,OAAQ,OAJV,CAKE0/B,UAAW,IAAA,CAAKzsC,QAAL,CAAc,YAAd,CALb,CAHK,CA9LS,CAAd,CA0MAzL,EAAA,CAAGlX,EAAH,CAAM,UAAN,CAAkB,QAAQ,CAACosB,CAAD,CAAQ,CACjC,IAAIvL,EAAM,IAAA,CAAK7D,cAAL,EACN6D,EAAJ,CAAQqmD,aAAR,EAA8C,OAA9C,EAAyBrmD,CAAA,CAAIqmD,aAAJ,EAAzB,GACKrmD,CAAJ,CAAQsmD,mBAAR,EAAuE,CAAvE,CAA+BtmD,CAAA,CAAIsmD,mBAAJ,EAAA,CAA0B5nC,IAA1B,EAA/B,CAAgE3yC,MAAhE;AACC5C,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACjB,IAAI5gC,EAASwkB,CAAA,CAAM1H,EAAN,CAAS,WAAT,CACb9c,EAAA,CAAOyuB,SAAP,EACAzuB,EAAA,CAAO7c,GAAP,CAAW,CACP20D,MAAO,CAAA,CADA,CAEP1yD,QAAS,EAFF,CAGPkI,MAAO,CACH2wE,YAAa,MADV,CAEHC,YAAa,OAFV,CAHA,CAOV76E,KAAM41B,CAAA,CAAIsmD,mBAAJ,EAPI,CAAX,CAHiB,CAArB,CAYG,GAZH,CADD,EAeI/6C,CAAA,CAAMuB,IAAN,EACA,CAAA3jC,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC5BypB,OAAQ,KADoB,CAE5B1gB,OAAQ,CAAA,CAFoB,CAG5B1H,MAAO,CAAA,CAHqB,CAI5BuB,YAAa,EAJe,CAK5BtB,MAAO,CACH54B,KAAM,yBAANA,CAAgCmhC,CAAA,CAAMzJ,QAAN,CAAe,qBAAf,CAAhC13B,CAAsE,MADnE,CALqB,CAAhC,CAAA,CAQGugB,IARH,EAhBJ,CADD,CAFiC,CAAlC,CAgCA0L,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CA7OsB,CA/EW,CAgUrCmhE,SAAUA,QAAQ,CAACliD,CAAD,CAAO,CACxB,IAAIxJ,EAAS,CAACgS,KAAM,IAAA,CAAK7Y,SAAL,EAAA,CAAmB,uBAAnB,CAA6C,sBAApD,CACT,KAAA,CAAKA,SAAL,EAAJ,EACCvqB,GAAA,CAAIoE,KAAJ,CAAUgtB,CAAV;AAAkB,CACjBuE,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EADS,CAEjB2yD,aAAc,CAAA,CAFG,CAAlB,CAKD,KAAIC,EAAY,IAAA,CAAKjmD,YAAL,EAChB,QAAOimD,CAAP,CAAiB/yC,IACjB,QAAO+yC,CAAP,CAAiBt4B,QACjB/kD,IAAA,CAAIoE,KAAJ,CAAUgtB,CAAV,CAAkBisD,CAAlB,CACA,KAAI/yC,EAAO,IAAA,CAAKtX,cAAL,EAAA,CAAsB6P,WAAtB,EACdyH,EAAA,CAAKnD,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,iBAAd,CAAV,CACAiC,EAAA,CAAK0iD,MAAL,CAAY,CACXn5C,IAAK,IAAA,CAAK6H,cAAL,EADM,CAEX5a,OAAQA,CAFG,CAGXirB,QAASA,QAAQ,CAACzhB,CAAD,CAAO2iD,CAAP,CAAe,CACtBjzC,CAAA,CAAKrZ,MAAL,EACLssD,EAAJ,CAAW1gD,MAAX,GAAsB0gD,CAAtB,CAA6B1gD,MAA7B,CAAoClH,MAApC,EAA8C4nD,CAA9C,CAAqD1gD,MAArD,CAA4D2gD,wBAA5D,GACKC,CAGJ,CAHmB,CAAC9nD,OAAQ4nD,CAAA,CAAO1gD,MAAP,CAAclH,MAAd,CAAuB4nD,CAAvB,CAA8B1gD,MAA9B,CAAqClH,MAArC,CAA4C+oB,QAA5C,CAAqD59C,EAArD,CAA0Dy8E,CAA1D,CAAiE1gD,MAAjE,CAAwE2gD,wBAAxE,CAAiGE,QAA1G,CAGnB,CAFA19E,GAAA,CAAIo/B,OAAJ,CAAYq+C,CAAZ,CAA0BJ,CAA1B,CAEA,CADA,IAAA,CAAK/jC,SAAL,CAAe7yC,IAAAA,EAAf,CACA,CAAA,IAAA,CAAKy1E,UAAL,CAAgBuB,CAAhB,CAJD;AAOC,IAAA,CAAKlhC,iBAAL,CAAuB,wBAAvB,CAAiDghC,CAAjD,CAAwDv9C,QAAxD,CAT8B,CAHrB,CAeX99B,MAAO,IAfI,CAAZ,CAd2B,CAhUY,CAiWrCg6E,WAAYA,QAAQ,CAAC9qD,CAAD,CAAS,CACxB,IAAA,CAAK7G,SAAL,EAAJ,EACCvqB,GAAA,CAAIoE,KAAJ,CAAUgtB,CAAV,CAAkB,CACjBuE,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EADS,CAEjB2yD,aAAc,CAAA,CAFG,CAAlB,CAMD,KAAI90D,EAAM,IAAA,CAAKoS,EAAL,CAAQ,QAAR,CACNpS,EAAJ,EAAWA,CAAA,CAAIy0D,UAAJ,EAAX,EACCz0D,CAAA,CAAIqS,KAAJ,EAGJ,KAAA,CAAK3H,cAAL,EAAA,CAAsB2qD,oBAAtB,CAA2CvsD,CAA3C,CAb+B,CAjWQ,CAiXrC8Q,iBAAkBA,QAAQ,CAACE,CAAD,CAAQ,CAEX37B,IAAAA,EAAtB,GADS27B,CACT,CAAOw7C,UAAP,GADSx7C,CACT,CACIw7C,UADJ,CACiB59E,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC/CxxB,MAHOq7B,CAGA,CAAGzJ,QAAH,CAAY,cAAZ,CADwC,CAE/Co6B,YAAa,MAFkC,CAI/C/Q,OAAQ,KAJuC,CAK/C7mB,YAAa,EALkC,CAM/CqpC,OAAQ,WANuC,CAQ/C3qC,MAAO,CAAC,CACP74B,MAAO,MADA,CAEP68E,YAAa,WAFN;AAGJC,UAbG17C,CAaQ,CAAGpP,cAAH,EAAA,CAAoB6P,WAApB,EAAA,CAAkCliC,SAAlC,EAAXm9E,CAAyD,GAHrD,CAIJ9yB,WAAY,CAAA,CAJR,CAKP+yB,cAAe,CACd9jD,WAAY,OADE,CAEdC,WAAY,GAFE,CAGdt5B,MAAO,GAHO,CALR,CAUPi5B,MAAO,CACT,CACI74B,MAAM,OADV,CAEIg5B,WAvBIoI,CAuBQ,CAAGzJ,QAAH,CAAY,aAAZ,CAFhB,CAGIuB,WAAY,EAHhB,CAII5a,KAAM,aAJV,CAKIwa,UAAU,OALd,CAMIO,MAAM,CAAC,CAAC,EAAD,CA3BH+H,CA2BO,CAAGzJ,QAAH,CAAY,iBAAZ,CAAJ,CAAD,CAAqC,CAAC,MAAD,CAAQ,iCAAR,CAArC,CAAgF,CAAC,KAAD,CAAO,8BAAP,CAAhF,CAAuH,CAAC,KAAD,CAAO,YAAP,CAAvH,CAA4I,CAAC,KAAD,CAAO,gCAAP,CAA5I,CANV,CAOI94B,MAAO,EAPX,CAQIsB,UAAW,CACVC,YAAa,CACZC,GAAIA,QAAQ,CAACqhD,CAAD,CAAQ,CACnB,IAAI+gB,EAAc,IAAA,CAAKn5C,WAAL,CAAiB,aAAjB,CACdm5C;CAAJ,EACC/gB,CAAA,CAAMxc,QAAN,CAAeu9B,CAAf,CAHkB,CADR,CAOZvhE,MArCEkgC,CA8BU,CADH,CARf,CADS,CAoBP,CACDphC,MAAO,WADN,CAEDC,KAAM,QAANA,CAAe,CAAA,IAAIjB,GAAJ,CAAQ2lC,QAAR,CA1CRvD,CA0CyB,CAAGzJ,QAAH,CAAY,qBAAZ,CAAjB,CAAA,EAAqDqlD,aAArD,CAAmE,CA1C3E57C,CA0C4E,CAAGgC,UAAH,EAAD,CAAiB,yCAAjB,CAAnE,CAAfnjC,CAA+I,UAF9I,CAGDL,MAAO,GAHN,CApBO,CAwBP,CACKI,MAAO,UADZ,CAEiB+F,MAAO,WAAPA,CA9CXq7B,CA8C8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,kEAAnCA,CA9CXq7B,CA8CiH,CAAGzJ,QAAH,CAAY,eAAZ,CAAtG5xB,CAAmI,MAFpJ,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CACH,CACjB74B,MAAO,WADU,CAEjBC,KAAM,gBAFW,CAGjBL,MAAO,GAHU,CADG,CAKD,CACtBo5B,WAxDKoI,CAwDO,CAAGzJ,QAAH,CAAY,aAAZ,CADU;AAEtBrZ,KAAM,OAFgB,CALC,CAQtB,CACD0a,WA3DKoI,CA2DO,CAAGzJ,QAAH,CAAY,gBAAZ,CADX,CAEDrZ,KAAM,UAFL,CARsB,CAWrB,CACF0a,WA9DKoI,CA8DO,CAAGzJ,QAAH,CAAY,YAAZ,CADV,CAEFrZ,KAAM,MAFJ,CAGCte,MAAM,OAHP,CAIC84B,UAAU,OAJX,CAKCO,MAAM,CAAC,CAAC,EAAD,CAlEL+H,CAkES,CAAGzJ,QAAH,CAAY,gBAAZ,CAAJ,CAAD,CAAoC,CAAC,UAAD,CAlExCyJ,CAkEoD,CAAGzJ,QAAH,CAAY,iBAAZ,CAAZ,CAApC,CAAgF,CAAC,WAAD,CAlEpFyJ,CAkEiG,CAAGzJ,QAAH,CAAY,kBAAZ,CAAb,CAAhF,CAA8H,CAAC,YAAD,CAlElIyJ,CAkEgJ,CAAGzJ,QAAH,CAAY,mBAAZ,CAAd,CAA9H,CALP,CAMC94B,MAAO,EANR,CAOCsB,UAAW,CACVC,YAAa,CACZC,GAAIA,QAAQ,CAACqhD,CAAD,CAAQ,CACnB,IAAI+gB,EAAc,IAAA,CAAKn5C,WAAL,CAAiB,MAAjB,CACdm5C,EAAJ,EACC/gB,CAAA,CAAMxc,QAAN,CAAeu9B,CAAf,CAHkB,CADR,CAOZvhE,MA5EAkgC,CAqEY,CADH,CAPZ,CAXqB,CANxB,CAxBO,CA8DP,CACKphC,MAAO,UADZ,CAEiB+F,MAAO,WAAPA,CApFXq7B,CAoF8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,gEAAnCA;AApFXq7B,CAoF+G,CAAGzJ,QAAH,CAAY,aAAZ,CAApG5xB,CAA+H,MAFhJ,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CACH,CACjB74B,MAAO,WADU,CAEjBC,KAAM,QAANA,CA3FEmhC,CA2Fa,CAAGzJ,QAAH,CAAY,iBAAZ,CAAf13B,CAA8C,UAF7B,CAGjBL,MAAO,GAHU,CADG,CAKD,CACtBo5B,WA9FKoI,CA8FO,CAAGzJ,QAAH,CAAY,kBAAZ,CADU,CAEtBrZ,KAAM,kBAFgB,CALC,CAQtB,CACD0a,WAjGKoI,CAiGO,CAAGzJ,QAAH,CAAY,uBAAZ,CADX,CAEDrZ,KAAM,uBAFL,CARsB,CAWtB,CACD0a,WApGKoI,CAoGO,CAAGzJ,QAAH,CAAY,iBAAZ,CADX,CAEDrZ,KAAM,iBAFL,CAXsB,CActB,CACD0a,WAvGKoI,CAuGO,CAAGzJ,QAAH,CAAY,sBAAZ,CADX,CAEDrZ,KAAM,sBAFL,CAdsB,CANxB,CA9DO,CAuFP,CACKte,MAAO,UADZ,CAEiB+F,MAAO,WAAPA;AA7GXq7B,CA6G8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,+DAAnCA,CA7GXq7B,CA6G8G,CAAGzJ,QAAH,CAAY,YAAZ,CAAnG5xB,CAA6H,MAF9I,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CACH,CACjB74B,MAAO,WADU,CAEjBC,KAAM,QAANA,CApHEmhC,CAoHa,CAAGzJ,QAAH,CAAY,gBAAZ,CAAf13B,CAA6C,UAF5B,CAGjBL,MAAO,GAHU,CADG,CAKD,CACtBo5B,WAvHKoI,CAuHO,CAAGzJ,QAAH,CAAY,cAAZ,CADU,CAEtBrZ,KAAM,iBAFgB,CALC,CAQtB,CACD0a,WA1HKoI,CA0HO,CAAGzJ,QAAH,CAAY,YAAZ,CADX,CAEDrZ,KAAM,eAFL,CARsB,CAWtB,CACD0a,WA7HKoI,CA6HO,CAAGzJ,QAAH,CAAY,aAAZ,CADX,CAEDrZ,KAAM,gBAFL,CAXsB,CActB,CACD0a,WAhIKoI,CAgIO,CAAGzJ,QAAH,CAAY,gBAAZ,CADX,CAEDrZ,KAAM,mBAFL,CAdsB;AAiBtB,CACD0a,WAnIKoI,CAmIO,CAAGzJ,QAAH,CAAY,cAAZ,CADX,CAEDrZ,KAAM,iBAFL,CAjBsB,CAoBtB,CACDte,MAAO,UADN,CAEiB+F,MAvIbq7B,CAuIoB,CAAGzJ,QAAH,CAAY,sBAAZ,CAFxB,CAGiBmM,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CAAC,CACzBG,WA5IIoI,CA4IQ,CAAGzJ,QAAH,CAAY,cAAZ,CADa,CAEzBrZ,KAAM,iBAFmB,CAAD,CAGvB,CACD0a,WA/IIoI,CA+IQ,CAAGzJ,QAAH,CAAY,gBAAZ,CADX,CAEDrZ,KAAM,mBAFL,CAHuB,CAMvB,CACD0a,WAlJIoI,CAkJQ,CAAGzJ,QAAH,CAAY,eAAZ,CADX,CAEDrZ,KAAM,kBAFL,CANuB,CASvB,CACD0a,WArJIoI,CAqJQ,CAAGzJ,QAAH,CAAY,eAAZ,CADX,CAEDrZ,KAAM,kBAFL,CATuB,CAYvB,CACD0a,WAxJIoI,CAwJQ,CAAGzJ,QAAH,CAAY,iBAAZ,CADX,CAEDrZ,KAAM,oBAFL,CAZuB;AAevB,CACDte,MAAO,eADN,CAEDi9E,KAAM,CAAA,CAFL,CAGDjkD,WA7JIoI,CA6JQ,CAAGzJ,QAAH,CAAY,YAAZ,CAHX,CAIDrZ,KAAM,uBAJL,CAfuB,CANxB,CApBsB,CANxB,CAvFO,CA8IP,CACKte,MAAO,UADZ,CAEiB+F,MAAO,WAAPA,CApKXq7B,CAoK8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,gEAAnCA,CApKXq7B,CAoK+G,CAAGzJ,QAAH,CAAY,aAAZ,CAApG5xB,CAA+H,MAFhJ,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CACH,CACjB74B,MAAO,WADU,CAEjBC,KAAM,QAANA,CAAe,CAAA,IAAIjB,GAAJ,CAAQ2lC,QAAR,CA3KbvD,CA2K8B,CAAGzJ,QAAH,CAAY,iBAAZ,CAAjB,CAAA,EAAiDqlD,aAAjD,CAA+D,CA3K5E57C,CA2K6E,CAAGgC,UAAH,EAAD,CAAiB,0CAAjB,CAA/D,CAAfnjC,CAA4I,UAF3H,CAGjBL,MAAO,GAHU,CADG,CAKD,CACtBo5B,WA9KKoI,CA8KO,CAAGzJ,QAAH,CAAY,cAAZ,CADU;AAEtBrZ,KAAM,kBAFgB,CALC,CAQtB,CACD0a,WAjLKoI,CAiLO,CAAGzJ,QAAH,CAAY,YAAZ,CADX,CAEDrZ,KAAM,gBAFL,CARsB,CAWtB,CACD0a,WApLKoI,CAoLO,CAAGzJ,QAAH,CAAY,aAAZ,CADX,CAEDrZ,KAAM,iBAFL,CAXsB,CActB,CACD0a,WAvLKoI,CAuLO,CAAGzJ,QAAH,CAAY,gBAAZ,CADX,CAEDrZ,KAAM,oBAFL,CAdsB,CAiBtB,CACD0a,WA1LKoI,CA0LO,CAAGzJ,QAAH,CAAY,cAAZ,CADX,CAEDrZ,KAAM,kBAFL,CAjBsB,CAoBtB,CACDte,MAAO,UADN,CAEiB+F,MA9Lbq7B,CA8LoB,CAAGzJ,QAAH,CAAY,sBAAZ,CAFxB,CAGiBmM,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CAAC,CACzBG,WAnMIoI,CAmMQ,CAAGzJ,QAAH,CAAY,cAAZ,CADa,CAEzBrZ,KAAM,kBAFmB,CAAD,CAGvB,CACD0a,WAtMIoI,CAsMQ,CAAGzJ,QAAH,CAAY,gBAAZ,CADX;AAEDrZ,KAAM,oBAFL,CAHuB,CAMvB,CACD0a,WAzMIoI,CAyMQ,CAAGzJ,QAAH,CAAY,eAAZ,CADX,CAEDrZ,KAAM,mBAFL,CANuB,CASvB,CACD0a,WA5MIoI,CA4MQ,CAAGzJ,QAAH,CAAY,eAAZ,CADX,CAEDrZ,KAAM,mBAFL,CATuB,CAYvB,CACD0a,WA/MIoI,CA+MQ,CAAGzJ,QAAH,CAAY,iBAAZ,CADX,CAEDrZ,KAAM,qBAFL,CAZuB,CAevB,CACDte,MAAO,eADN,CAEDi9E,KAAM,CAAA,CAFL,CAGDjkD,WApNIoI,CAoNQ,CAAGzJ,QAAH,CAAY,YAAZ,CAHX,CAIDrZ,KAAM,wBAJL,CAfuB,CANxB,CApBsB,CANxB,CA9IO,CAqMP,CACKte,MAAO,UADZ,CAEiB+F,MAAO,WAAPA,CA3NXq7B,CA2N8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,gEAAnCA,CA3NXq7B,CA2N+G,CAAGzJ,QAAH,CAAY,aAAZ,CAApG5xB,CAA+H,MAFhJ,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B;AAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CACH,CACjB74B,MAAO,WADU,CAEjBC,KAAM,QAANA,CAAe,CAAA,IAAIjB,GAAJ,CAAQ2lC,QAAR,CAlObvD,CAkO8B,CAAGzJ,QAAH,CAAY,iBAAZ,CAAjB,CAAA,EAAiDqlD,aAAjD,CAA+D,CAlO5E57C,CAkO6E,CAAGgC,UAAH,EAAD,CAAiB,0CAAjB,CAA/D,CAAfnjC,CAA4I,UAF3H,CAGjBL,MAAO,GAHU,CADG,CAKD,CACtBo5B,WArOKoI,CAqOO,CAAGzJ,QAAH,CAAY,cAAZ,CADU,CAEtBrZ,KAAM,oBAFgB,CALC,CAQtB,CACD0a,WAxOKoI,CAwOO,CAAGzJ,QAAH,CAAY,YAAZ,CADX,CAEDrZ,KAAM,kBAFL,CARsB,CAWtB,CACD0a,WA3OKoI,CA2OO,CAAGzJ,QAAH,CAAY,aAAZ,CADX,CAEDrZ,KAAM,mBAFL,CAXsB,CActB,CACD0a,WA9OKoI,CA8OO,CAAGzJ,QAAH,CAAY,gBAAZ,CADX,CAEDrZ,KAAM,sBAFL,CAdsB,CAuBpB,CACHte,MAAO,UADJ,CAEe+F,MAxPbq7B,CAwPoB,CAAGzJ,QAAH,CAAY,sBAAZ,CAFtB;AAGemM,YAAa,CAAA,CAH5B,CAIeC,UAAW,CAAA,CAJ1B,CAKe84C,YAAa,WAL5B,CAMehkD,MAAO,CAAC,CACzBG,WA7PIoI,CA6PQ,CAAGzJ,QAAH,CAAY,cAAZ,CADa,CAEzBrZ,KAAM,oBAFmB,CAAD,CAGvB,CACD0a,WAhQIoI,CAgQQ,CAAGzJ,QAAH,CAAY,gBAAZ,CADX,CAEDrZ,KAAM,sBAFL,CAHuB,CAMvB,CACD0a,WAnQIoI,CAmQQ,CAAGzJ,QAAH,CAAY,eAAZ,CADX,CAEDrZ,KAAM,qBAFL,CANuB,CASvB,CACD0a,WAtQIoI,CAsQQ,CAAGzJ,QAAH,CAAY,eAAZ,CADX,CAEDrZ,KAAM,qBAFL,CATuB,CAYvB,CACD0a,WAzQIoI,CAyQQ,CAAGzJ,QAAH,CAAY,iBAAZ,CADX,CAEDrZ,KAAM,uBAFL,CAZuB,CAevB,CACDte,MAAO,eADN,CAEDi9E,KAAM,CAAA,CAFL,CAGDjkD,WA9QIoI,CA8QQ,CAAGzJ,QAAH,CAAY,YAAZ,CAHX,CAIDrZ,KAAM,0BAJL,CAfuB,CANtB,CAvBoB,CANxB,CArMO;AA+PP,CACKte,MAAO,UADZ,CAEiB+F,MAAO,WAAPA,CArRXq7B,CAqR8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,kEAAnCA,CArRXq7B,CAqRiH,CAAGzJ,QAAH,CAAY,cAAZ,CAAtG5xB,CAAkI,MAFnJ,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CAAC,CACrB74B,MAAO,WADc,CAErBC,KAAM,QAANA,CAAe,CAAA,IAAIjB,GAAJ,CAAQ2lC,QAAR,CA3RbvD,CA2R8B,CAAGzJ,QAAH,CAAY,kBAAZ,CAAjB,CAAA,EAAkDqlD,aAAlD,CAAgE,CA3R7E57C,CA2R8E,CAAGgC,UAAH,EAAD,CAAiB,4CAAjB,CAAhE,CAAfnjC,CAA+I,UAF1H,CAGrBL,MAAO,GAHc,CAAD,CAIJ,CAChBI,MAAM,OADU,CAEnBg5B,WA/RKoI,CA+RO,CAAGzJ,QAAH,CAAY,gBAAZ,CAFO,CAGhBrZ,KAAM,gBAHU,CAIhBwa,UAAU,OAJM,CAKhBO,MAAM,CAAC,CAAC,EAAD,CAlSL+H,CAkSS,CAAGzJ,QAAH,CAAY,qBAAZ,CAAJ,CAAD;AAAyC,CAAC,MAAD,CAlS7CyJ,CAkSqD,CAAGzJ,QAAH,CAAY,oBAAZ,CAAR,CAAzC,CAAoF,CAAC,SAAD,CAlSxFyJ,CAkSmG,CAAGzJ,QAAH,CAAY,uBAAZ,CAAX,CAApF,CALU,CAMhB6zC,eAAe,CAAA,CANC,CAOhB3sE,MAAO,EAPS,CAJI,CAYtB,CACEmB,MAAO,WADT,CAEEC,KAAM,QAANA,CAvSEmhC,CAuSa,CAAGzJ,QAAH,CAAY,uBAAZ,CAAf13B,CAAoD,UAFtD,CAGEL,MAAO,GAHT,CAZsB,CAgBD,CACtBo5B,WA1SKoI,CA0SO,CAAGzJ,QAAH,CAAY,mBAAZ,CADU,CAEtB33B,MAAO,eAFe,CAGtBse,KAAM,mBAHgB,CAItBklB,WAAY,MAJU,CAhBC,CAqBtB,CACExjC,MAAO,WADT,CAEEC,KAAM,QAANA,CAhTEmhC,CAgTa,CAAGzJ,QAAH,CAAY,kBAAZ,CAAf13B,CAA+C,UAFjD,CAGEL,MAAO,GAHT,CArBsB,CAyBD,CACtBo5B,WAnTKoI,CAmTO,CAAGzJ,QAAH,CAAY,cAAZ,CADU,CAEtBm8B,UAAWA,QAAQ,CAAClmC,CAAD,CAAM,CAAC,MApTrBwT,EAoT4B,CAAG87C,0BAAH,CAA8BnnE,IAA9B,CApT5BqrB,CAoT4B;AAAuCxT,CAAvC,CAAR,CAFH,CAGtBtP,KAAM,cAHgB,CAzBC,CA6BtB,CACEte,MAAO,WADT,CAEEC,KAAM,QAANA,CAxTEmhC,CAwTa,CAAGzJ,QAAH,CAAY,mBAAZ,CAAf13B,CAAgD,UAFlD,CAGEL,MAAO,GAHT,CA7BsB,CAiCD,CACtBo5B,WA3TKoI,CA2TO,CAAGzJ,QAAH,CAAY,aAAZ,CADU,CAEtBm8B,UAAWA,QAAQ,CAAClmC,CAAD,CAAM,CAAC,MA5TrBwT,EA4T4B,CAAG87C,0BAAH,CAA8BnnE,IAA9B,CA5T5BqrB,CA4T4B,CAAuCxT,CAAvC,CAAR,CAFH,CAGtBtP,KAAM,aAHgB,CAjCC,CAqCtB,CACD0a,WA/TKoI,CA+TO,CAAGzJ,QAAH,CAAY,YAAZ,CADX,CAEDm8B,UAAWA,QAAQ,CAAClmC,CAAD,CAAM,CAAC,MAhUrBwT,EAgU4B,CAAG87C,0BAAH,CAA8BnnE,IAA9B,CAhU5BqrB,CAgU4B,CAAuCxT,CAAvC,CAAR,CAFxB,CAGDtP,KAAM,YAHL,CArCsB,CANxB,CA/PO,CAgTP,CACKte,MAAO,UADZ,CAEiB+F,MAAO,WAAPA,CAtUXq7B,CAsU8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,sEAAnCA,CAtUXq7B,CAsUqH,CAAGzJ,QAAH,CAAY,mBAAZ,CAA1G5xB;AAA2I,MAF5J,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiBlL,MAAO,CACxB,CACI74B,MAAM,OADV,CAEIg5B,WA5UEoI,CA4UU,CAAGzJ,QAAH,CAAY,UAAZ,CAFhB,CAGIrZ,KAAM,UAHV,CAIIwa,UAAU,OAJd,CAKIO,MAAM,CAAC,CAAC,EAAD,CA/UL+H,CA+US,CAAGtJ,cAAH,CAAkBxC,MAAlB,CAAyB0c,MAAzB,CAAgC8R,cAAhC,CAAgD,MAAhD,CAAJ,CAAD,CAA8D,CAAC,IAAD,CA/UlE1iB,CA+UwE,CAAGtJ,cAAH,CAAkBxC,MAAlB,CAAyB0c,MAAzB,CAAgC8R,cAAhC,CAAgD,IAAhD,CAAN,CAA9D,CAA2H,CAAC,IAAD,CA/U/H1iB,CA+UqI,CAAGtJ,cAAH,CAAkBxC,MAAlB,CAAyB0c,MAAzB,CAAgC8R,cAAhC,CAAgD,IAAhD,CAAN,CAA3H,CAAwL,CAAC,KAAD,CA/U5L1iB,CA+UmM,CAAGtJ,cAAH,CAAkBxC,MAAlB,CAAyB0c,MAAzB,CAAgC8R,cAAhC,CAAgD,KAAhD,CAAP,CAAxL,CALV,CAMI0nB,eAAe,CAAA,CANnB,CAOI3sE,MAAO,EAPX,CADwB,CAStB,CACEmB,MAAM,OADR,CAEEg5B,WApVEoI,CAoVU,CAAGzJ,QAAH,CAAY,cAAZ,CAFd,CAGErZ,KAAM,cAHR,CAIEwa,UAAU,OAJZ,CAKEO,MAAM,CAAC,CAAC,EAAD;AAvVL+H,CAuVS,CAAGzJ,QAAH,CAAY,kBAAZ,CAAJ,CAAD,CAAsC,CAAC,gBAAD,CAvV1CyJ,CAuV4D,CAAGzJ,QAAH,CAAY,4BAAZ,CAAlB,CAAtC,CAAmG,CAAC,YAAD,CAvVvGyJ,CAuVqH,CAAGzJ,QAAH,CAAY,wBAAZ,CAAd,CAAnG,CALR,CAME6zC,eAAe,CAAA,CANjB,CAOE3sE,MAAO,EAPT,CATsB,CALxB,CAhTO,CAwUP,CACKmB,MAAO,UADZ,CAEiB+F,MAAO,WAAPA,CA9VXq7B,CA8V8B,CAAGgC,UAAH,EAAnBr9B,CAAmC,6EAAnCA,CA9VXq7B,CA8V4H,CAAGzJ,QAAH,CAAY,eAAZ,CAAjH5xB,CAA8I,MAF/J,CAGiB+9B,YAAa,CAAA,CAH9B,CAIiBC,UAAW,CAAA,CAJ5B,CAKiB84C,YAAa,WAL9B,CAMiBhkD,MAAO,CACH,CACjB74B,MAAO,WADU,CAEjBC,KAAM,QAANA,CArWEmhC,CAqWa,CAAGzJ,QAAH,CAAY,mBAAZ,CAAf13B,CAAgD,UAF/B,CAGjBL,MAAO,GAHU,CADG,CAKD,CACtBo5B,WAxWKoI,CAwWO,CAAGzJ,QAAH,CAAY,eAAZ,CADU;AAEtBrZ,KAAM,eAFgB,CALC,CAQtB,CACD0a,WA3WKoI,CA2WO,CAAGzJ,QAAH,CAAY,gBAAZ,CADX,CAEDrZ,KAAM,gBAFL,CARsB,CAWtB,CACEte,MAAO,WADT,CAEEC,KAAM,QAANA,CA/WEmhC,CA+Wa,CAAGzJ,QAAH,CAAY,+BAAZ,CAAf13B,CAA4D,UAF9D,CAGEL,MAAO,GAHT,CAXsB,CAeD,CACnBI,MAAM,OADa,CAEtBg5B,WAnXKoI,CAmXO,CAAGzJ,QAAH,CAAY,2BAAZ,CAFU,CAGnBrZ,KAAM,kBAHa,CAInBwa,UAAU,OAJS,CAKnBO,MAAM,CAAC,CAAC,EAAD,CAtXL+H,CAsXS,CAAGzJ,QAAH,CAAY,0BAAZ,CAAJ,CAAD,CAA8C,CAAC,MAAD,CAtXlDyJ,CAsX0D,CAAGzJ,QAAH,CAAY,gBAAZ,CAAR,CAA9C,CALa,CAMnB6zC,eAAe,CAAA,CANI,CAOnB3sE,MAAO,EAPY,CAfC,CANxB,CAxUO,CAVA,CAAD,CARwC,CA6X/Cy6B,QAAS,CAAC,CACT3a,KAhYMyiB,CAgYA,CAAGzJ,QAAH,CAAY,IAAZ,CADG,CAETW,QAASA,QAAQ,CAACkvB,CAAD,CAAS79C,CAAT,CAAgB,CAC5B2d,CAAAA,CAAMkgC,CAAA,CAAOoN,gBAAP,CAAwB,QAAxB,CACNh7B;CAAAA,CAAOtS,CAAA,CAAI+F,IAAJ,CAAS,MAAT,CACPuM,EAAA,CAAK06B,OAAL,EAAJ,EACQlkC,CAEJ,CAFawJ,CAAA,CAAKK,SAAL,EAEb,CAvYCmH,CAsYD,CAAGvV,YAAH,CAAgBuE,CAAhB,CACA,CAAA9I,CAAA,CAAIqb,IAAJ,EAHJ,EApYKvB,CA0YJ,CAAG1L,SAAH,CAAa,CACZ2I,QA3YG+C,CA2YM,CAAGzJ,QAAH,CAAY,aAAZ,CADG,CAAb,CAT+B,CAFxB,CAAD,CAgBP,CACDhZ,KAhZMyiB,CAgZA,CAAGzJ,QAAH,CAAY,QAAZ,CADL,CAEDW,QAASA,QAAQ,CAACkvB,CAAD,CAAS79C,CAAT,CAAgB,CAChC69C,CAAA,CAAOoN,gBAAP,CAAwB,QAAxB,CAAA,CAAkCjyB,IAAlC,EADgC,CAFhC,CAhBO,CA7XsC,CAAhC,CADjB,CADSvB,EAuZT,CAAGw7C,UAAH,CAAc3wC,MAAd,CAvZS7K,CAuZa,CAAGpP,cAAH,EAAA,CAAoB6P,WAApB,EAAA,CAAkChiC,QAAlC,EAAtB,CAAmE,CAAnE,CAAsE,GAAtE,CAA0E,EAA1E,CAxZiC,CAjXG,CA4wBrCq9E,2BAA4BA,QAAQ,CAACtvD,CAAD,CAAM,CACzCA,CAAA,CAAMA,CAAA,CAAI2mB,IAAJ,EACN,IAAe,CAAf,CAAI3mB,CAAJ,CAAQhsB,MAAR,CAAkB,CACd,GAAI,UAAA,CAAWmP,IAAX,CAAgB6c,CAAhB,CAAJ,CACC,MAAO,KAAA,CAAK+J,QAAL,CAAc,mBAAd,CAER,IAAI,SAAA,CAAU5mB,IAAV,CAAe6c,CAAf,CAAJ,CACC,MAAO,KAAA,CAAK+J,QAAL,CAAc,mBAAd,CAEJwlD,EAAAA,CAAUvvD,CAAA,CAAIxK,KAAJ,CAAU,YAAV,CACd;IADA,IAAuC08B,CAAvC,CACSn+C,EAAE,CADX,CACcsnB,EAAIk0D,CAAJl0D,CAAYrnB,MAA1B,CAAkCD,CAAlC,CAAoCsnB,CAApC,CAAyCtnB,CAAA,EAAzC,CAA8C,CAC7Cm+C,CAAA,CAASq9B,CAAA,CAAQx7E,CAAR,CACT,IAAmB,CAAnB,EAAIm+C,CAAJ,CAAWl+C,MAAX,CACC,MAAO,KAAA,CAAK+1B,QAAL,CAAc,aAAd,CAER,IAAsB,CAAtB,EAAI3N,QAAA,CAAS81B,CAAT,CAAJ,CACC,MAAO,KAAA,CAAKnoB,QAAL,CAAc,YAAd,CANqC,CARhC,CAkBlB,MAAO,CAAA,CApBkC,CA5wBL,CAAzC,C,CCAA34B,GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CAClCyI,OAAQ,WAD0B,CAElC39B,MAAO,YAF2B,CAGlC81B,OAAQ,CAAC,oBAAD,CAH0B,CAIlCoB,QAAS,CACLG,KAAM,EADD,CAGLpB,IAAK,CACD8tB,SAAU,MADT,CAEDphB,KAAM,EAFL,CAGDyR,OAAQ3uC,IAAAA,EAHP,CAIDM,MAAON,IAAAA,EAJN,CAKD23E,QAAS33E,IAAAA,EALR,CAMD43E,QAAS53E,IAAAA,EANR,CAOD63E,eAAgB,GAPf,CAQDC,cAAe,GARd,CASDC,cAAe,CATd,CAUDC,oBAAqB,IAVpB,CAWDC,mBAAoB,CAXnB,CAYDC,mBAAoB,GAZnB,CAaDC,cAAen4E,IAAAA,EAbd,CAcDqY,OAAQrY,IAAAA,EAdP,CAeDo4E,YAAap4E,IAAAA,EAfZ,CAgBDq4E,uBAAwB,CAAA,CAhBvB,CAiBDC,mBAAoB,CAAA,CAjBnB,CAkBDC,qBAAsBv4E,IAAAA,EAlBrB,CAHA,CAuBL4yB,MAAO,mBAvBF,CAJyB,CA6BlCl7B,OAAQ,CACJ8V,IAAKxN,IAAAA,EADD;AAEJw4E,QAASx4E,IAAAA,EAFL,CAGJy4E,UAAWz4E,IAAAA,EAHP,CAIJ04E,mBAAoB,CAAA,CAJhB,CAKJC,YAAa,CAAA,CALT,CAMJC,eAAgB,EANZ,CAOJC,cAAe,CAAA,CAPX,CAQJC,WAAY94E,IAAAA,EARR,CASJ+4E,cAAe,IAAIx/E,GAAJ,CAAQC,IAAR,CAAaC,eATxB,CAUJu/E,gBAAiBh5E,IAAAA,EAVb,CAWJi5E,SAAU,CAAA,CAXN,CAaJC,WAAY,EAbR,CAcJC,YAAan5E,IAAAA,EAdT,CAeJo5E,6BAA8B,CAAA,CAf1B,CAgBJC,UAAW,EAhBP,CA7B0B,CAgDlC7+E,KAAM,mDAhD4B,CAkDlColD,IAAK,YAlD6B,CAoDlC7lD,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CACA3b,IAAA,CAAIymE,MAAJ,CAAWC,UAAX,CAAsB,CAClBviC,IAAK,IAAA,CAAKC,UAAL,EAALD;AAAuB,4BADL,CAElB47C,OAAQA,QAAQ,EAAG,CAEmBt5E,IAAAA,EAAlC,GAAIu5E,EAAJ,CAAOC,GAAP,CAAW1/E,SAAX,CAAqB2/E,QAArB,GACIF,EADJ,CACOC,GADP,CACW1/E,SADX,CACqB2/E,QADrB,CACgCC,QAAS,CAACr/E,CAAD,CAAK,CACtC,IAAIs/E,EAAQ35E,IAAAA,EACZ,KAAA,CAAK45E,SAAL,EAAA,CAAiB7nE,OAAjB,CAAyB,QAAQ,CAAC8nE,CAAD,CAAM,CAC/Bx/E,CAAJ,GAAWw/E,CAAA,CAAIn8E,GAAJ,CAAQ,IAAR,CAAX,GACIi8E,CADJ,CACYE,CADZ,CADmC,CAAvC,CAKA,OAAOF,EAP+B,CAD9C,CAWA,KAAA,CAAKG,qBAAL,CAA2B,CAAA,CAA3B,CAbe,CAFD,CAiBlBr+E,MAAO,IAjBW,CAAtB,CAmBAlC,IAAA,CAAIymE,MAAJ,CAAWC,UAAX,CAAsB,CAClBviC,IAAK,IAAA,CAAKC,UAAL,EAALD,CAAuB,6BADL,CAElB47C,OAAQA,QAAQ,EAAG,CACf,IAAA,CAAKS,cAAL,CAAoB,CAAA,CAApB,CADe,CAFD,CAKlBt+E,MAAO,IALW,CAAtB,CAOAlC,IAAA,CAAIymE,MAAJ,CAAWC,UAAX,CAAsB,CAClBviC,IAAK,+DADa,CAElB47C,OAAQA,QAAQ,EAAG,CACf,IAAA,CAAKU,gBAAL,CAAsB,CAAA,CAAtB,CADe,CAFD;AAKlBv+E,MAAO,IALW,CAAtB,CAOA,KAAI08E,EAAgB,IAAA,CAAKt0D,WAAL,CAAiB,eAAjB,CACpB,IAAIs0D,CAAJ,CAAmB,CACf,IAAI1xD,EAAK,IACTltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACJgS,KAAM,yBADF,CAEJ2M,mBAAoB6uC,CAFhB,CAFK,CAMb18E,MAAO,IANM,CAAjB,CAAA,CAOGm0B,IAPH,CAOQ,QAAQ,CAAC2J,CAAD,CAAW,CACnBjjB,CAAAA,CAAO/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACPpjB,EAAJ,CAAS0yB,cAAT,CAAwBQ,QAAxB,GACQ2vC,CACJ,CADkB5/E,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBzyB,CAAhB,CAAqB0yB,cAArB,CAAoCQ,QAApC,CAClB,CAAIjwC,GAAA,CAAIy2B,QAAJ,CAAampD,CAAb,CAAJ,GACIA,CACA,CADc5/E,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBowC,CAAhB,CACd,CAAA1yD,CAAA,CAAGwzD,cAAH,CAAkBd,CAAlB,CAFJ,CAFJ,CAOK1yD,EAAA,CAAGyzD,cAAH,EAAL,EACIzzD,CAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAAb,CAEJzL,EAAA,CAAG0zD,+BAAH,CAAmC,CAAA,CAAnC,CAZuB,CAP3B,CAoBG,QAAQ,CAAC5gD,CAAD,CAAW,CAClB9S,CAAA,CAAGqvB,iBAAH,CAAqBrvB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAArB;AAA2DqH,CAA3D,CACA9S,EAAA,CAAG0zD,+BAAH,CAAmC,CAAA,CAAnC,CAFkB,CApBtB,CAFe,CAAnB,IA2BI,KAAA,CAAKA,+BAAL,CAAqC,CAAA,CAArC,CAhEsB,CApDI,CAuHlCtzC,cAAeA,QAAQ,EAAG,CAEtB,IAAA,CAAKxW,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACA,KAAIgoB,EAAO,IAAA,CAAKrZ,WAAL,CAAiB,MAAjB,CACPtqB,IAAA,CAAIy2B,QAAJ,CAAakN,CAAb,CAAJ,GACIA,CACA,CADOA,CAAA,CAAKvf,KAAL,CAAW,GAAX,CACP,CAAA,IAAA,CAAKsT,WAAL,CAAiB,MAAjB,CAFJ,CAIe,KAAA,CAAK1E,cAAL,EAAA,CAAsBoR,UAAtB,EACfpkC,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACZ2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADK,CAEZkoD,WAAY,CAAA,CAFA,CAGZ9sB,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGV0kC,OAAQ,eAHE,CAIVuuB,gBAAiB,UAJP,CAKVp6B,MAAO,CACH,CACIla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADV,CAEIS,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAFb;AAGIU,MAAO,mBAHX,CAIIwI,KAAM,CACF8nB,SAAU,CACN3oD,MAAO,eADD,CAENgoD,aAAcA,QAAQ,CAAC/kC,CAAD,CAAO2gB,CAAP,CAAgB,CAAA,IAC9B3wB,EAAM,IAAA,CAAK6sE,MAAL,EADwB,CACThgF,EAAKmjB,CAAA,CAAK88D,SAAL,EAC9B,KAAA,CAAKC,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC1CI,CAAA,CAAIisE,QAAJ,CAAarsE,CAAA,CAAO4W,KAAP,EAAb,CAA4B,GAA5B,CAAgC3pB,CAAhC,CAAA,CAAoCmgF,UAApC,CAA+Cr8C,CAA/C,CAD0C,CAA9C,CAGA,KAAIjB,EAAO3jC,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAA,CAAKpvB,WAAL,CAAiB,MAAjB,CAAf,CACPsa,EAAJ,CACIjB,CADJ,CACW3jC,GAAA,CAAIu9B,KAAJ,CAAUvkB,MAAV,CAAiB2qB,CAAjB,CAAuB7iC,CAAvB,CADX,EAGI6iC,CAAA,CAAK3+B,IAAL,CAAUlE,CAAV,CACA,CAAA6iC,CAAA,CAAO3jC,GAAA,CAAIu9B,KAAJ,CAAU2jD,MAAV,CAAiBv9C,CAAjB,CAJX,CAMA,KAAA,CAAKjM,WAAL,CAAiB,MAAjB,CAAyBiM,CAAzB,CACA1f,EAAA,CAAKqkC,OAAL,EAAA,CAAe2iB,WAAf,CAAoC,CAApC,EAA2BrmC,CAA3B,CAbkC,CAFhC,CAiBN1iC,MAAO,IAjBD,CAkBN0iC,QAAS,CAAA,CAlBH,CADR,CAqBF/K,MAAO,CAAC,CACJ74B,MAAO,UADH,CAEJ2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CAFF,CAGJS,QAAS,IAAA,CAAKT,QAAL,CAAc,cAAd,CAHL,CAIJU,MAAO,mBAJH;AAKJwI,KAAM,CACFhI,MAAO,CAAC,CACJ74B,MAAO,YADH,CAEJ2tD,QAAS,CAFL,CAGJwyB,SAAU,CAAA,CAHN,CAIJx3B,SAAU,CACNtD,IAAK,eADC,CAEN/sB,QAASA,QAAQ,CAACrV,CAAD,CAAO2gB,CAAP,CAAgB,CAC7B,GAAGA,CAAH,CAAW,CAEP9jC,EAAA,CAAKmjB,CAAA,CAAK88D,SAAL,EAEL,IADIX,CACJ,CADY,IAAA,CAAKgB,aAAL,EAAA,CAAqBtgF,EAArB,CACZ,CACIs/E,CAAA,CAAMiB,UAAN,CAAiB,CAAjB,CACA,CAAA,IAAA,CAAKP,MAAL,EAAA,CAAcT,SAAd,EAAA,CAA0BiB,KAA1B,CAAgC,CAAhC,CAAmClB,CAAnC,CAEK,MAAT,EAAGt/E,EAAH,EAAwB,QAAxB,EAAkBA,EAAlB,CACI,IAAA,CAAKggF,MAAL,EAAA,CAAcZ,QAAd,CAAuB,cAAvB,CAAA,CAAuCe,UAAvC,CAAkD,CAAA,CAAlD,CADJ,CAGI,IAAA,CAAKH,MAAL,EAAA,CAAcZ,QAAd,CAAuB,cAAvB,CAAA,CAAuCe,UAAvC,CAAkD,CAAA,CAAlD,CAXG,CADkB,CAF3B,CAkBN9/E,UAAW,CACPC,YAAaA,QAAQ,CAAC6iB,CAAD,CAAO,CACxBjkB,GAAA,CAAIu4B,MAAJ,CAAW,iBAAX,CAA8B,CAC1BhY,OAAQ0D,CADkB,CAE1BhjB,KAAM,oCAANA,CAA2CgjB,CAAA,CAAK88D,SAAL,EAA3C9/E,CAA4D,UAFlC,CAG1BujE,OAAQ,OAHkB,CAA9B,CADwB,CADrB,CAlBL;AA2BNtiE,MAAO,IA3BD,CAJN,CAiCJ23B,MAAO,CACH,CACI4K,SAAU,IAAA,CAAK9L,QAAL,CAAc,YAAd,CADd,CAEI+M,OAAQ,YAFZ,CAGI2gB,IAAK,CAAC,eAAD,CAAiB,YAAjB,CAHT,CAIIzhB,QAAS,CAAA,CAJb,CADG,CAMD,CACEH,SAAU,IAAA,CAAK9L,QAAL,CAAc,SAAd,CADZ,CAEE0tB,IAAK,CAAC,eAAD,CAAiB,SAAjB,CAFP,CAGE3gB,OAAQ,SAHV,CANC,CAUD,CACEjB,SAAU,IAAA,CAAK9L,QAAL,CAAc,KAAd,CADZ,CAEE0tB,IAAK,CAAC,eAAD,CAAiB,KAAjB,CAFP,CAGE3gB,OAAQ,KAHV,CAVC,CAcD,CACEjB,SAAU,IAAA,CAAK9L,QAAL,CAAc,QAAd,CADZ,CAEE0tB,IAAK,CAAC,eAAD,CAAiB,QAAjB,CAFP,CAGE3gB,OAAQ,QAHV,CAdC,CAjCH,CAAD,CADL,CALF,CAAD,CA6DL,CACE1kC,MAAO,UADT,CAEE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,eAAd,CAHX,CAIEU,MAAO,mBAJT,CAKEwI,KAAM,CACFhI,MAAO,CAAC,CACJ74B,MAAO,YADH;AAEJ2tD,QAAS,CAFL,CAGJwyB,SAAU,CAAA,CAHN,CAIJx3B,SAAU,CACNrwB,QAASA,QAAQ,CAACrV,CAAD,CAAO2gB,CAAP,CAAgB,CAC7B,GAAGA,CAAH,CAAW,CACP,IAAIxC,EAAQ,IACZthC,GAAA,CAAKmjB,CAAA,CAAK88D,SAAL,EAEM,wBAAX,GAAIjgF,EAAJ,CACI,IAAA,CAAKygF,aAAL,CAAmBvB,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAAnB,CADJ,CAEkB,oBAAX,GAAIrD,EAAJ,CACH,IAAA,CAAKygF,aAAL,CAAmBvB,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAAnB,CADG,CAEW,sBAAX,GAAIrD,EAAJ,EACH2gF,KAAA,CAAMC,IAAN,CAAW,KAAX,CAAiB,4EAAjB,CAEA,CADIC,CACJ,CAD2B3B,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,KAAZ,CAC3B,CAAA,IAAA,CAAKo9E,aAAL,CAAmBI,CAAnB,CAHG,EAIW,2BAJX,GAII7gF,EAJJ,GAKH2gF,KAAA,CAAMC,IAAN,CAAW,YAAX,CAAyB,kEAAzB,CAGA;AAFIE,CAEJ,CAFgC5B,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,YAAZ,CAEhC,CADAy9E,CAAA,CAA0BC,SAA1B,CAAoC,CAAC,KAAD,CAAQ,IAAR,CAAc,IAAd,CAAoB,GAApB,CAApC,CACA,CAAA,IAAA,CAAKN,aAAL,CAAmBK,CAAnB,CARG,CAUHE,EAAAA,CAAgB,IAAA,CAAKC,aAAL,EAAA,CAAqBC,SAArB,EAEhBC,EAAAA,CAAa,IAAA,CAAKF,aAAL,EAAA,EAAwB/B,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAAxB,CAAmD,GAAnD,CAAyD,mBACtE+9E,EAAAA,CAAU,IAAIlC,EAAJ,CAAOmC,IAAP,CAAY,CACtB5C,WAAY,IAAA,CAAKwC,aAAL,EADU,CAEtBK,OAAQpC,EAAA,CAAG5iB,MAAH,CAAUilB,SAAV,CAAoBP,CAApB,EAAqC,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAArC,CAFc,CAGtBQ,cAAeL,CAAfK,CAA4BlgD,CAA5BkgD,CAAkCr3E,IAAlCq3E,CAAuC5/E,GAAvC4/E,CAA2Cn5C,WAHrB,CAItBtwB,KAAM,CAJgB,CAAZ,CAMd,KAAI5E,EAAM,IAAA,CAAK6sE,MAAL,EACG7sE,EAAAsuE,CAAIlC,SAAJkC,EACb,CAAO/pE,OAAP,CAAe,QAAQ,CAAC4nE,CAAD,CAAQ,CACxBA,CAAA,CAAMlpC,SAAN,EAAH,CAAqBogB,WAArB,EACmB8oB,CAAA,CAAMlpC,SAAN,EAAAub,CAAkB6E,WAAlB7E,EACf,CAASj6C,OAAT,CAAiB,QAAQ,CAACg/C,CAAD,CAAS,CAC9B,IAAIgrB,EAAchrB,CAAA,CAAQirB,WAAR,EAAA,CAAsB1pE,SAAtB,CAAgC9E,CAAA,CAAImiE,OAAJ,EAAA,CAAc2L,aAAd,EAAhC;AAA+D3/C,CAAA,CAAM2/C,aAAN,EAA/D,CAClBvqB,EAAA,CAAQkrB,WAAR,CAAoBF,CAApB,CAF8B,CAAlC,CAHuB,CAA/B,CAUAvuE,EAAA,CAAI0uE,OAAJ,CAAYT,CAAZ,CAvCO,CADkB,CAD3B,CA4CN/gF,UAAW,CACPC,YAAaA,QAAQ,CAAC6iB,CAAD,CAAO,CACxBjkB,GAAA,CAAIu4B,MAAJ,CAAW,iBAAX,CAA8B,CAC1BhY,OAAQ0D,CADkB,CAE1BhjB,KAAM,oCAANA,CAA2CgjB,CAAA,CAAK88D,SAAL,EAA3C9/E,CAA4D,UAFlC,CAG1BujE,OAAQ,OAHkB,CAA9B,CADwB,CADrB,CA5CL,CAqDNtiE,MAAO,IArDD,CAJN,CA2DJ23B,MAAO,CACH,CACI4K,SAAU,IAAA,CAAK9L,QAAL,CAAc,uBAAd,CADd,CAEI+M,OAAQ,uBAFZ,CAGI2gB,IAAK,CAAC,eAAD,CAAiB,uBAAjB,CAHT,CAIIzhB,QAAS,CAAA,CAJb,CADG,CAMD,CACEH,SAAU,IAAA,CAAK9L,QAAL,CAAc,oBAAd,CADZ,CAEE0tB,IAAK,CAAC,eAAD,CAAiB,oBAAjB,CAFP,CAGE3gB,OAAQ,oBAHV,CANC,CAUD,CACEjB,SAAU,IAAA,CAAK9L,QAAL,CAAc,sBAAd,CADZ;AAEE0tB,IAAK,CAAC,eAAD,CAAiB,sBAAjB,CAFP,CAGE3gB,OAAQ,sBAHV,CAVC,CAcD,CACEjB,SAAU,IAAA,CAAK9L,QAAL,CAAc,2BAAd,CADZ,CAEE0tB,IAAK,CAAC,eAAD,CAAiB,2BAAjB,CAFP,CAGE3gB,OAAQ,2BAHV,CAdC,CA3DH,CAAD,CADL,CALR,CA7DK,CAqJL,GArJK,CAqJD,CACF/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADJ,CAEFiM,QAA6C,CAA7CA,EAAS5kC,GAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB9lB,CAAnB,CAAyB,QAAzB,CAFP,CAGF+B,OAAQ,QAHN,CAIF7D,KAAM,CACF8nB,SAAU,CACN1vB,WAAY,OADN,CAENC,WAAY,GAFN,CADR,CAKFL,MAAO,CAAC,CACJ74B,MAAO,aADH,CAEJg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,gBAAd,CAFR,CAGJ2M,SAAU,CAHN,CAIJzlC,MAAOmrB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,gBAAjB,CAAT,CAJH,CAKJnpB,UAAW,CACPykC,OAAQA,QAAQ,CAACkM,CAAD;AAAMhM,CAAN,CAAc88C,CAAd,CAAsB,CAClC,IAAA,CAAK5B,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC1C,IAAA,CAAK6jB,WAAL,CAAiB,gBAAjB,CAAmCoO,CAAnC,CACA,KAAI+8C,EAAqBhvE,CAAA,CAAOivE,WAAP,EAAA,CAAqBtmC,cAArB,EACrB1W,EAAJ,CAAW88C,CAAX,EAAqB98C,CAArB,EAA6B+8C,CAA7B,CACI,IAAA,CAAKE,YAAL,CAAkBlvE,CAAlB,CADJ,CAEWA,CAAA,CAAOivE,WAAP,EAAA,CAAqBjmC,aAArB,EAAJ,CACHhpC,CAAA,CAAOmvE,YAAP,EADG,EAGHlxC,CAAA,CAAI5L,QAAJ,CAAa28C,CAAb,CACA,CAAA,IAAA,CAAKxe,SAAL,CAAe,CAAA,IAAIrkE,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,iBAAd,CAAlB,CAAA,EAAoDv0B,KAApD,CAA0D,CAACy+E,CAAD,CAA1D,CAAf,CAJG,CALmC,CAA9C,CAWG,IAXH,CADkC,CAD/B,CAeP3gF,MAAO,IAfA,CALP,CAAD,CAsBL,CACElB,MAAO,aADT,CAEEg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,qBAAd,CAFd,CAGE2M,SAAU,CAHZ,CAIEzlC,MAAOmrB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,eAAjB,CAAT,CAJT,CAKEnpB,UAAW,CACPykC,OAAQA,QAAQ,CAACkM,CAAD,CAAMhM,CAAN,CAAc88C,CAAd,CAAsB,CAClC,IAAA,CAAKlrD,WAAL,CAAiB,eAAjB;AAAkCoO,CAAlC,CACA,KAAA,CAAKk7C,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CACtCiyB,CAAJ,CAAW88C,CAAX,CACI,IAAA,CAAKG,YAAL,CAAkBlvE,CAAlB,CADJ,CAGIA,CAAA,CAAOmvE,YAAP,EAJsC,CAA9C,CAMG,IANH,CAFkC,CAD/B,CAWP9gF,MAAO,IAXA,CALb,CAtBK,CAwCL,CACElB,MAAO,aADT,CAEEg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,eAAd,CAFd,CAGE2M,SAAU,CAHZ,CAIEzlC,MAAOmrB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,eAAjB,CAAT,CAJT,CAKEnpB,UAAW,CACPykC,OAAQA,QAAQ,CAACkM,CAAD,CAAMhM,CAAN,CAAc88C,CAAd,CAAsB,CAClC,IAAA,CAAK5B,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC1C,IAAA,CAAK6jB,WAAL,CAAiB,eAAjB,CAAkCoO,CAAlC,CACIA,EAAJ,CAAW88C,CAAX,CACI,IAAA,CAAKG,YAAL,CAAkBlvE,CAAlB,CADJ,CAGIA,CAAA,CAAOmvE,YAAP,EALsC,CAA9C,CAOG,IAPH,CADkC,CAD/B,CAWP9gF,MAAO,IAXA,CALb,CAxCK,CALL,CAJJ,CArJC,CA0NL,CACEyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADR,CAEEiM,QAAkD,CAAlDA,EAAS5kC,GAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB9lB,CAAnB,CAAyB,aAAzB,CAFX,CAGE+B,OAAQ,aAHV;AAIE7D,KAAM,CACF8nB,SAAU,CACNzvB,WAAY,GADN,CAEND,WAAY,OAFN,CADR,CAKFJ,MAAO,CAAC,CACJ74B,MAAO,aADH,CAEJg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,qBAAd,CAFR,CAGJ2M,SAAU,CAHN,CAIJzlC,MAAOmrB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,qBAAjB,CAAT,CAJH,CAKJnpB,UAAW,CACPykC,OAAQA,QAAQ,CAACkM,CAAD,CAAMhM,CAAN,CAAc88C,CAAd,CAAsB,CAClC,IAAA,CAAK5B,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC1C,IAAA,CAAK6jB,WAAL,CAAiB,qBAAjB,CAAwCoO,CAAxC,CACIA,EAAJ,CAAW88C,CAAX,CACI,IAAA,CAAKG,YAAL,CAAkBlvE,CAAlB,CADJ,CAGIA,CAAA,CAAOmvE,YAAP,EALsC,CAA9C,CAOG,IAPH,CADkC,CAD/B,CAWP9gF,MAAO,IAXA,CALP,CAAD,CAkBL,CACElB,MAAO,aADT,CAEEg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,oBAAd,CAFd,CAGE2M,SAAU,CAHZ,CAIEzlC,MAAOmrB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,oBAAjB,CAAT,CAJT;AAKEnpB,UAAW,CACPykC,OAAQA,QAAQ,CAACkM,CAAD,CAAMhM,CAAN,CAAc88C,CAAd,CAAsB,CAClC,IAAA,CAAK5B,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC1C,IAAA,CAAK6jB,WAAL,CAAiB,oBAAjB,CAAuCoO,CAAvC,CACIA,EAAJ,CAAW88C,CAAX,CACI,IAAA,CAAKG,YAAL,CAAkBlvE,CAAlB,CADJ,CAGIA,CAAA,CAAOmvE,YAAP,EALsC,CAA9C,CAOG,IAPH,CADkC,CAD/B,CAWP9gF,MAAO,IAXA,CALb,CAlBK,CALL,CAJR,CA1NK,CA0QL,CACElB,MAAO,eADT,CAEE4jC,QAAgD,CAAhDA,EAAS5kC,GAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB9lB,CAAnB,CAAyB,WAAzB,CAFX,CAGEhkB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CAHR,CAIE+M,OAAQ,WAJV,CAKE7D,KAAM,CACF8nB,SAAU,CACNzvB,WAAY,GADN,CAEND,WAAY,OAFN,CAGNr5B,MAAO,GAHD,CADR,CAMFi5B,MAAO,CAAC,CACJ74B,MAAO,aADH,CAEJg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,oBAAd,CAFR,CAGJ94B,MAAOmrB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,oBAAjB,CAAT,CAHH,CAIJgb,SAAU,IAAA,CAAK29C,iBAAL,EAJN;AAKJ19C,SAAU,GALN,CAMJpkC,UAAW,CACPykC,OAAQA,QAAQ,CAACkM,CAAD,CAAMhM,CAAN,CAAc88C,CAAd,CAAsB,CAClC,IAAA,CAAK5B,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC1CA,CAAA,CAAOqvE,qBAAP,CAA6Bp9C,CAA7B,CACAjyB,EAAA,CAAOsvE,OAAP,EAF0C,CAA9C,CAGG,IAHH,CADkC,CAD/B,CAOPjhF,MAAO,IAPA,CANP,CAAD,CANL,CALR,CA1QK,CArBL,CAJV,CADG,CAkUA,GAlUA,CAkUK,CACJyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,KAAd,CADF,CAEJ+M,OAAQ,WAFJ,CAGJrM,MAAO,mBAHH,CAIJC,QAASA,QAAQ,CAACwY,CAAD,CAAM,CAKnB,IALmB,IACf7lC,EAAS,IAAA,CAAK+mB,cAAL,EAAA,CAAsBgK,eAAtB,CAAsC,IAAA,CAAK1S,WAAL,CAAiB,SAAjB,CAAtC,CAAmE,CAAA,CAAnE,CADM,CAEf/gB,EAAQ0C,CAAA,CAAO,CAAP,CAFO,CAKVtJ,EAAE,CALQ,CAKLsnB,EAAIhe,CAAJge,CAAWrnB,MAAzB,CAAiCD,CAAjC,CAAmCsnB,CAAnC,CAAwCtnB,CAAA,EAAxC,CAA6C,CACzC,IAAIygF,EAAW,CAAA,CACf,KAAA,CAAKpC,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC1C,GAAIA,CAAA,CAAOupB,QAAP,EAAJ,EAAuBnxB,CAAA,CAAOtJ,CAAP,CAAvB,CAEI,MADAygF,EACO,CADI,CAAA,CACJ,CAAA,CAAA,CAH+B,CAA9C,CAMA,IAAc,CAAd,EAAIA,CAAJ,CAAqB,CACjB75E,CAAA,CAAQ0C,CAAA,CAAOtJ,CAAP,CACR,MAFiB,CARoB,CAazCkR,CAAAA,CAASi+B,CAAA,CAAIuxC,OAAJ,CAAYtiF,GAAZ,CAAgB,CACzBC,MAAO,gBADkB;AAEzB20B,OAAQ,IAAA,CAAKpL,SAAL,EAFiB,CAGzBhhB,MAAOA,CAHkB,CAIzBpI,UAAW,CACPmiF,mBAAoBA,QAAQ,CAACzvE,CAAD,CAAS,CAAA,IAC7BI,EAAM,IAAA,CAAK6sE,MAAL,EADuB,CACRhgF,EAAK+S,CAAA,CAAOktE,SAAP,EADG,CACiB/rE,EAAU,IAAA,CAAKgsE,gBAAL,EAC5D,EAAC,aAAD,CAAe,QAAf,CAAwB,WAAxB,CAAA,CAAqCxoE,OAArC,CAA6C,QAAQ,CAAC4nE,CAAD,CAAQ,CACzDnsE,CAAA,CAAIsvE,WAAJ,CAAgBtvE,CAAA,CAAIisE,QAAJ,CAAap/E,CAAb,CAAgB,GAAhB,CAAoBs/E,CAApB,CAAhB,CADyD,CAA7D,CAGAprE,EAAA,CAAQgE,MAAR,CAAenF,CAAf,CACwB,EAAxB,EAAImB,CAAA,CAAQjK,QAAR,EAAJ,EAEI,IAAA,CAAKy4E,kBAAL,CAAwB,eAAxB,CAAA,CAAyCnL,YAAzC,CAAsD,WAAtD,CAAA,CAAmE9+D,KAAnE,EAR6B,CAD9B,CAYPwpE,aAAc,IAAdA,CAAmBA,YAZZ,CAaP7gF,MAAO,IAbA,CAJc,CAAhB,CAoBb,KAAA,CAAK8+E,gBAAL,EAAA,CAAwBjgF,GAAxB,CAA4B8S,CAAA,CAAO4W,KAAP,EAA5B,CAA4C5W,CAA5C,CAEII,EAAAA,CAAM,IAAA,CAAK6sE,MAAL,EAEN2C,EAAAA,CAAmB,IAAIzD,EAAJ,CAAOI,KAAP,CAAasD,MAAb,CAAoB,CACvC5kE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAc4kE,MAAd,CAAqB,CACzBC,MAAO,CAAA,CADkB,CAEzBC,gBAAiB,CAAA,CAFQ,CAArB,CAD+B;AAKvC9iF,GAAI+S,CAAA,CAAO4W,KAAP,EAAJ3pB,CAAmB,cALoB,CAMvC4rE,QAAS,CAAA,CAN8B,CAOvCmX,QAAS,EAP8B,CAQvC34E,MAAO,IAAA,CAAK44E,mBAAL,CAAyBniF,IAAzB,CAA8B,IAA9B,CARgC,CASvCoiF,qBAAsB,CAAA,CATiB,CAUvCC,uBAAwB,CAAA,CAVe,CAApB,CAYvB/vE,EAAA,CAAIgwE,QAAJ,CAAaR,CAAb,CAEIS,EAAAA,CAAc,IAAIlE,EAAJ,CAAOI,KAAP,CAAasD,MAAb,CAAoB,CAClC5kE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAc4kE,MAAd,CAAqB,CACzBC,MAAO,CAAA,CADkB,CAEzBC,gBAAiB,CAAA,CAFQ,CAArB,CAD0B,CAKlC9iF,GAAI+S,CAAA,CAAO4W,KAAP,EAAJ3pB,CAAmB,SALe,CAMlC+iF,QAAS,EANyB,CAOlC34E,MAAO,IAAA,CAAKi5E,iBAAL,CAAuBxiF,IAAvB,CAA4B,IAA5B,CAP2B,CAApB,CASlBsS,EAAA,CAAIgwE,QAAJ,CAAaC,CAAb,CAEIE,EAAAA,CAAiB,IAAIpE,EAAJ,CAAOI,KAAP,CAAasD,MAAb,CAAoB,CACrC5kE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAc4kE,MAAd,CAAqB,CACzBC,MAAO,CAAA,CADkB,CAEzBC,gBAAiB,CAAA,CAFQ,CAArB,CAD6B,CAKrC9iF,GAAI+S,CAAA,CAAO4W,KAAP,EAAJ3pB,CAAmB,YALkB,CAMrCoK,MAAQ,IAAA,CAAKm5E,sBAAL,CAA4B1iF,IAA5B,CAAiC,IAAjC,CAN6B,CAApB,CAQrBsS,EAAA,CAAIgwE,QAAJ,CAAaG,CAAb,CA3EmB,CAJnB,CAiFJliF,MAAO,IAjFH,CAlUL,CALG,CAAD,CAHD,CAAhB,CAgaA;IAAA,CAAK8T,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC1C,IAAA,CAAK2uD,OAAL,EAD0C,CAA9C,CAEG,IAFH,CAIA,KAAA,CAAKplD,UAAL,EA7asB,CAvHQ,CAuiBlColD,QAASA,QAAQ,EAAG,CAChB,GAAI,IAAA,CAAKC,qBAAL,EAAJ,EAAoC,IAAA,CAAKC,cAAL,EAApC,EAA6D,IAAA,CAAKC,gBAAL,EAA7D,EAAwF,IAAA,CAAKC,+BAAL,EAAxF,CAAgI,CAC5H,IAAIjiF,EAAK,IAAA,CAAKwI,IAAL,CAAUojB,IAAV,CAAe,MAAf,CAAA,CAAuBs2D,KAAvB,CAA6B3kF,GAAA,CAAIc,EAAJ,EAA7B,CAAT,CAYIshC,EAAQ,IAZZ,CA4BIu9C,EAAa,IAAA,CAAKyB,aAAL,EACjBzB,EAAA,CAAW,OAAX,CAAwB,IAAIK,EAAJ,CAAOI,KAAP,CAAawE,IAAb,CAAkB,CACtCC,QAASC,QAD6B,CAEtChmE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAcimE,OAAd,CAAsB,CAC1B5gD,IAAK,oCADqB,CAE1B6gD,YAAa,EAFa,CAG1B5zD,OAAQ,CACJ,OAAU,sBADN,CAEJ,MAAS,CAAA,CAFL,CAHkB,CAO1BmuD,WAAY,WAPc,CAAtB,CAF8B,CAAlB,CAaxBI,EAAA,CAAW,UAAX;AAA4B,IAAIK,EAAJ,CAAOI,KAAP,CAAawE,IAAb,CAAkB,CAC1CC,QAASC,QADiC,CAE1ChmE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAcmmE,MAAd,CAAqB,CAEzB7E,MAAO,YAFkB,CAGzBb,WAAY,WAHa,CAArB,CAFkC,CAAlB,CAS5BI,EAAA,CAAW,GAAX,CAAoB,IAAIK,EAAJ,CAAOI,KAAP,CAAawE,IAAb,CAAkB,CAClCC,QAASC,QADyB,CAElChmE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAcomE,GAAd,CAAkB,CACtB3F,WAAY,WADU,CAAlB,CAF0B,CAAlB,CAOpBI,EAAA,CAAW,MAAX,CAAuB,IAAIK,EAAJ,CAAOI,KAAP,CAAawE,IAAb,CAAkB,CACrCC,QAASC,QAD4B,CAErChmE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAcqmE,cAAd,CAA6B,CACjChhD,IAAK,mFAD4B,CAEjCo7C,WAAY,WAFqB,CAA7B,CAF6B,CAAlB,CASvB,KAAItrE,EAAM,IAAI+rE,EAAJ,CAAOC,GAAP,CAAW,CACjBsC,OAAQ,CACJ5C,CADI,CACO,UADP,CAGJ,IAAIK,EAAJ,CAAOI,KAAP,CAAawE,IAAb,CAAkB,CACdC,QAASC,QADK,CAEdhmE,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAcmmE,MAAd,CAAqB,CACzBG,SAAU,IADe;AAEzBhF,MAAO,cAFkB,CAGzBb,WAAY,WAHa,CAArB,CAFM,CAOdz+E,GAAI,cAPU,CAAlB,CAHI,CADS,CAejByf,OAAQ9d,CAAA,CAAGgoB,KAAH,EAfS,CAgBjB46D,0BAA2B,CAAA,CAhBV,CAiBjB/6C,KAAM,IAAI01C,EAAJ,CAAOmC,IAAP,CAAY,CACdC,OAAQ,CAAC,CAAD,CAAI,CAAJ,CADM,CAEdE,cAAe,mBAAfA,CAAmClgD,CAAnCkgD,CAAyCr3E,IAAzCq3E,CAA8C5/E,GAA9C4/E,CAAkDn5C,WAFpC,CAGdtwB,KAAM,CAHQ,CAAZ,CAjBW,CAAX,CAwBV5E,EAAA,CAAI+B,EAAJ,CAAO,aAAP,CAAsB,IAAtB,CAA2BsvE,iBAA3B,CAA8C,IAA9C,CAEArxE,EAAA,CAAI+B,EAAJ,CAAO,gBAAP,CAAyB,QAAQ,CAACrL,CAAD,CAAQ,CAErC,IAAI8nD,EAAWx+C,CAAA,CAAIsxE,kBAAJ,CADH56E,CACG,CADG66E,KACH,CACf,IAAI/yB,CAAJ,CAAc,CACZ,IAAK,IAAI9vD,EAAE,CAAX,CAAcA,CAAd,CAAgB8vD,CAAhB,CAAyB7vD,MAAzB,CAAiCD,CAAA,EAAjC,CAAsC,CACrC,IAAI60D,EAAU/E,CAAA,CAAS9vD,CAAT,CACW,OAAzB,EAAI60D,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAJ,EACC,IAAA,CAAKshF,mBAAL,CAAyBjuB,CAAzB,CAHoC,CAMlCA,CAAJ,CAAc/E,CAAA,CAAS,CAAT,CACd,SARY,CAWd,GAAGA,CAAH,CAAa,CACT,IAAIizB,EAAe,CAAA,CACnBjzB,EAAA,CAASj6C,OAAT,CAAkB,QAAQ,CAACg/C,CAAD,CAAU,CACJ,MAA5B,GAAIA,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAJ;AAAsCqzD,CAAA,CAAQrzD,GAAR,CAAY,UAAZ,CAAtC,EACIi+B,CAAA,CAAMY,aAAN,CAAoB,cAApB,CAAoCZ,CAApC,CAA2C,CAACo1B,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAAA,CAAqBqF,IAArB,CAA0B,GAA1B,CAAD,CAA3C,CACA,CAAAk8E,CAAA,CAAe,CAAA,CAFnB,EAGmC,YAHnC,GAGWluB,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAHX,EAGmDqzD,CAAA,CAAQrzD,GAAR,CAAY,UAAZ,CAHnD,EAG8E,CAACuhF,CAH/E,GAIItjD,CAAA,CAAM4+C,gBAAN,EAAA,CAAyB76E,IAAzB,CAA8B,QAAS,CAAC0N,CAAD,CAAS,CACxC8xE,CAAAA,CAAW9xE,CAAA,CAAOivE,WAAP,EACf,IAAgB,IAAhB,EAAI6C,CAAJ,CAAsB,CAElB,IAAIC,EAAQ,MAAZ,CACIv7E,EAAW,EAFGs7E,EAAAE,CAAS5nC,2BAAT4nC,CAAqCruB,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CAArC0hF,CAA4DruB,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CAA5D0hF,CAGlB,CAAYrtE,OAAZ,CAAoB,QAAQ,CAACstE,CAAD,CAAM,CAC3BA,CAAH,CAAOz7E,QAAP,EAAmBA,CAAnB,GACIA,CACA,CADWy7E,CACX,CADez7E,QACf,CAAAu7E,CAAA,EAAS,MAAT,CAAkBxjD,CAAA,CAAM7X,SAAN,EAAA,CAAkBC,WAAlB,CAA8BngB,CAA9B,CAAA,CAAwC8qC,YAAxC,EAAlB,CAA2E,QAF/E,CAIAywC,EAAA,EAAS,MAAT,CAAiBE,CAAjB,CAAqBhnE,MAArB,CAA4BrH,IAA5B,CAAiC,mCAAjC,CAAuEquE,CAAvE,CAA2EhnE,MAA3E,CAAkFhe,EAAlF,CAAuF,6BAAvF;AAAqHglF,CAArH,CAAyHz7E,QAAzH,CAAmI,UAAnI,CAA8Iy7E,CAA9I,CAAkJhnE,MAAlJ,CAAyJgO,QAAzJ,CACI,YADJ,CACiBg5D,CADjB,CACqBhnE,MADrB,CAC4B8b,IAD5B,CACmC,UADnC,CACgDkrD,CADhD,CACoDhnE,MADpD,CAC2Dhe,EAD3D,CACgE,eADhE,CACkF6kB,IAAA,CAAKE,SAAL,CAAekgE,iBAAf,CADlF,CACsH,4BADtH,CACqJD,CADrJ,CACyJhnE,MADzJ,CACgK8b,IADhK,CACuK,OADvK,CAC+KkrD,CAD/K,CACmLhnE,MADnL,CAC0LnH,KAD1L,CACkM,SADlM,CAEImuE,CAFJ,CAEQvlE,MAFR,CAEe9I,IAFf,CAEoB,mCAFpB,CAE0DquE,CAF1D,CAE8DvlE,MAF9D,CAEqEzf,EAFrE,CAE0E,6BAF1E,CAEwGglF,CAFxG,CAE4Gz7E,QAF5G,CAEqH,UAFrH,CAEgIy7E,CAFhI,CAEoIvlE,MAFpI,CAE2IuM,QAF3I,CAGI,YAHJ,CAGiBg5D,CAHjB,CAGqBvlE,MAHrB,CAG4Bqa,IAH5B,CAGkC,UAHlC,CAG+CkrD,CAH/C,CAGmDvlE,MAHnD,CAG0Dzf,EAH1D,CAG+D,eAH/D,CAGiF6kB,IAAA,CAAKE,SAAL,CAAemgE,iBAAf,CAHjF,CAGqH,4BAHrH,CAGoJF,CAHpJ,CAGwJvlE,MAHxJ,CAG+Jqa,IAH/J,CAGsK,OAHtK,CAG8KkrD,CAH9K,CAGkLvlE,MAHlL,CAGyL5I,KAHzL;AAGiM,OARnK,CAAlC,CAUI2pB,EAAAA,CAASk2B,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CACbyhF,EAAA,EAAS,OACTxjD,EAAA,CAAM6jD,YAAN,EAAA,CAAqB9+B,OAArB,CAA6B,MAA7B,CAAsC7lB,CAAtC,CAA+C,OAA/C,CAAyDskD,CAAzD,CACAxjD,EAAA,CAAM8jD,UAAN,EAAA,CAAmB52B,WAAnB,CAA+B3kD,CAA/B,CAAqCw7E,UAArC,CACYnmF,IAAAsgB,CAAIzJ,MAAJyJ,CAAW,mBAAXA,CAUZ,CAAM8lE,QAAN,CAAe5tE,OAAf,CAAuB,QAAQ,CAAC6H,CAAD,CAAO,CAElCA,CAAA,CAAKgmE,WAAL,CAAmBC,QAAQ,EAAE,CAAClkD,CAAA,CAAMmkD,gBAAN,CAAuBlmE,CAAA,CAAKgQ,YAAL,CAAkB,UAAlB,CAAvB,CAAsDhQ,CAAA,CAAKgQ,YAAL,CAAkB,QAAlB,CAAtD,CAAmFhQ,CAAA,CAAKgQ,YAAL,CAAkB,UAAlB,CAAnF,CAAD,CAFK,CAAtC,CA5BkB,CAFsB,CAAhD,CAoCA,CAAAq1D,CAAA,CAAe,CAAA,CAxCnB,CADgC,CAApC,CAmDG,IAnDH,CAFS,CAdwB,CAAzC,CAwEA,KAAIc,EAAgB,IAAIxG,EAAJ,CAAOI,KAAP,CAAasD,MAAb,CAAoB,CACpCzvE,IAAKA,CAD+B,CAEpC6K,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAc4kE,MAAd,CAAqB,CACzBC,MAAO,CAAA,CADkB,CAEzBC,gBAAiB,CAAA,CAFQ,CAArB,CAF4B,CAMpC97C,OAAQ,EAN4B,CAOpCyjB,SAAU,CAAA,CAP0B,CAQpCrgD,MAAOA,QAAQ,CAACssD,CAAD,CAAU,CACrB,GAA2B,MAA3B,GAAGA,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAH,CAEI,MAAOi+B,EAAA,CAAM+hD,iBAAN,CAAwB3sB,CAAxB;AAAiCvjD,CAAA,CAAImiE,OAAJ,EAAA,CAAcqQ,aAAd,EAAjC,CACJ,IAA2B,YAA3B,GAAGjvB,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAH,CACH,MAAOi+B,EAAA,CAAM0hD,mBAAN,CAA0BtsB,CAA1B,CAAmCvjD,CAAA,CAAImiE,OAAJ,EAAA,CAAcqQ,aAAd,EAAnC,CALU,CARW,CAgBpC1C,qBAAsB,CAAA,CAhBc,CAiBpCC,uBAAwB,CAAA,CAjBY,CAApB,CAqBhB0C,EAAAA,CAAe,IAAI1G,EAAJ,CAAOI,KAAP,CAAasD,MAAb,CAAoB,CACnCzvE,IAAKA,CAD8B,CAEnC6K,OAAQ,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAc4kE,MAAd,CAAqB,CACzBC,MAAO,CAAA,CADkB,CAEzBC,gBAAiB,CAAA,CAFQ,CAArB,CAF2B,CAMnC+C,QAAS,CAAA,CAN0B,CAOnC7+C,OAAQ,EAP2B,CAQnChnC,GAAI,SAR+B,CASnCoK,MAAOA,QAAQ,CAACssD,CAAD,CAAU,CACrB,GAA2B,MAA3B,GAAGA,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAH,CAEI,MAAOi+B,EAAA,CAAM+hD,iBAAN,CAAwB3sB,CAAxB,CAAiCvjD,CAAA,CAAImiE,OAAJ,EAAA,CAAcqQ,aAAd,EAAjC,CACJ,IAA2B,YAA3B,GAAGjvB,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAH,CACH,MAAOi+B,EAAA,CAAM0hD,mBAAN,CAA0BtsB,CAA1B,CAAmCvjD,CAAA,CAAImiE,OAAJ,EAAA,CAAcqQ,aAAd,EAAnC,CALU,CATU,CAiBnC1C,qBAAsB,CAAA,CAjBa;AAkBnCC,uBAAwB,CAAA,CAlBW,CAApB,CAoBnB/vE,EAAA,CAAIgwE,QAAJ,CAAayC,CAAb,CAGAzyE,EAAA,CAAI+B,EAAJ,CAAO,aAAP,CAAsB,QAAQ,CAACrL,CAAD,CAAQ,CAGnC,IAAI66E,EAAQvxE,CAAA,CAAI2yE,aAAJ,CAAkBj8E,CAAlB,CAAwBk8E,aAAxB,CACR/0E,EAAAA,CAAMmC,CAAA,CAAI6yE,iBAAJ,CAAsBtB,CAAtB,CACVvxE,EAAA,CAAI4uB,WAAJ,EAAA,CAAkB33B,KAAlB,CAAwBC,MAAxB,CAAiC2G,CAAA,CAAM,SAAN,CAAkB,EAElD,IAAG,CAACswB,CAAA,CAAM2kD,WAAN,EAAJ,GACIP,CAAA,CAActvC,SAAd,EAAA,CAA0B8vC,KAA1B,EAGIv0B,CADA+yB,CACA/yB,CADQ9nD,CACR8nD,CADc+yB,KACd/yB,CAAAA,CAAAA,CAAWx+C,CAAA,CAAIsxE,kBAAJ,CAAuBC,CAAvB,CAJnB,EAKiB,CAET,IADA,IAAI7iF,EAAI,CACR,CAAM8vD,CAAA,CAAS9vD,CAAT,CAAA,CAAYwB,GAAZ,CAAgB,UAAhB,CAAN,GACIxB,CAAA,EACI,CAAAA,CAAA,GAAM8vD,CAAN,CAAe7vD,MAFvB,EAAA,EAIA,GAAID,CAAJ,CAAQ8vD,CAAR,CAAiB7vD,MAAjB,CAAyB,CACrB,IAAI40D,EAAU/E,CAAA,CAAS9vD,CAAT,CAEVskF,EAAAA,CAAgB,CAChB//E,KAAM,yBADU,CAEhB48B,UAAW,QAFK,CAGhBojD,QAAS,GAHO,CAIhBn9E,KAAM,IAAIi2E,EAAJ,CAAO90E,KAAP,CAAai8E,IAAb,CAAkB,CACpB59E,MAAO,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CADa,CAAlB,CAJU,CAOhBT,OAAQ,IAAIk3E,EAAJ,CAAO90E,KAAP,CAAak8E,MAAb,CAAoB,CACxB79E,MAAO,CAAC,GAAD,CAAK,GAAL,CAAS,GAAT,CAAa,EAAb,CADiB;AAExB3I,MAAO,CAFiB,CAApB,CAPQ,CAapBqmF,EAAA,CAActnE,IAAd,CAAqB63C,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAEjBkjF,EAAAA,CAAmB,IAAIrH,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CACtC3nE,KAAM,IAAIqgE,EAAJ,CAAO90E,KAAP,CAAaq8E,IAAb,CAAkBN,CAAlB,CADgC,CAEtCn/C,OAAQ,CAF8B,CAAnB,CAKO,aAA9B,GAAM0vB,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAN,GACQqjF,CAeJ,CAfsB,IAAIxH,EAAJ,CAAOyH,OAAP,CAAe,CACjC9nE,KAAM63C,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAD2B,CAEjCujF,SAAUlwB,CAAA,CAAQirB,WAAR,EAFuB,CAGjCkF,MAAOnwB,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAH0B,CAIjConD,SAAU,CAAA,CAJuB,CAKjCq8B,YAAapwB,CAAA,CAAQrzD,GAAR,CAAY,aAAZ,CALoB,CAMjCvD,MAAO42D,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAN0B,CAOjCuoE,QAASlV,CAAA,CAAQrzD,GAAR,CAAY,SAAZ,CAPwB,CAQjCoF,MAAOiuD,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAR0B,CASjC+F,KAAMstD,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAT2B,CAUjC0jF,WAAYrwB,CAAA,CAAQrzD,GAAR,CAAY,YAAZ,CAVqB,CAWjC2a,OAAQ04C,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CAXyB,CAYjCoc,OAAQi3C,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CAZyB,CAajC2jF,OAAQtwB,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CAbyB,CAAf,CAetB,CAAAqiF,CAAA,CAActvC,SAAd,EAAA,CAA0BmgB,UAA1B,CAAqCmwB,CAArC,CAhBJ,CAkBehwB,EAAA,CAAQirB,WAAR,EAEXsF,EAAAA,CAAc,IAAI/H,EAAJ,CAAOyH,OAAP,CAAe,CAC7BC,SAAU,IAAI1H,EAAJ,CAAOgI,IAAP,CAAYC,KAAZ,CAFFt9E,CAEE,CAFIw7E,UAEJ,CADmB;AAE7B56B,SAAU,CAAA,CAFmB,CAAf,CAIlBw8B,EAAA,CAAYG,QAAZ,CAAqBb,CAArB,CACAb,EAAA,CAActvC,SAAd,EAAA,CAA0BmgB,UAA1B,CAAqC0wB,CAArC,CAI2B,OAA3B,GAAGvwB,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAAH,EACiBi+B,CAAA,CAAM0+C,MAAN,EAAAyB,CAAelC,SAAfkC,EACb,CAAO/pE,OAAP,CAAe,QAAS,CAAC4nE,CAAD,CAAQ,CAC5B,IAAI+H,EAAU/H,CAAA,CAAMj8E,GAAN,CAAU,IAAV,CACVgkF,EAAJ,EAAkD,EAAlD,GAAeA,CAAA,CAAQnhF,OAAR,CAAgB,aAAhB,CAAf,GACIm2C,WACA,CADcijC,CAAA,CAAMlpC,SAAN,EAAA,CAAkBogB,WAAlB,EACd,CAAAna,WAAA,CAAY3kC,OAAZ,CAAoB,QAAS,CAAC4vE,CAAD,CAAa,CACnCA,CAAA,CAAWjkF,GAAX,CAAe,QAAf,CAAH,GAAgCqzD,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CAAhC,EAAyDikF,CAAA,CAAWjkF,GAAX,CAAe,QAAf,CAAzD,GAAsFqzD,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CAAtF,EACIqiF,CAAA,CAActvC,SAAd,EAAA,CAA0BmgB,UAA1B,CAAqC,IAAI2oB,EAAJ,CAAOyH,OAAP,CAAe,CAChDC,SAAUU,CAAA,CAAW3F,WAAX,EADsC,CAEhDl3B,SAAU,CAAA,CAFsC,CAGhDq8B,YAAaQ,CAAA,CAAWjkF,GAAX,CAAe,aAAf,CAHmC,CAIhDvD,MAAOwnF,CAAA,CAAWjkF,GAAX,CAAe,OAAf,CAJyC,CAKhDuoE,QAAS0b,CAAA,CAAWjkF,GAAX,CAAe,SAAf,CALuC,CAMhDoF,MAAO6+E,CAAA,CAAWjkF,GAAX,CAAe,OAAf,CANyC,CAOhD+F,KAAMk+E,CAAA,CAAWjkF,GAAX,CAAe,MAAf,CAP0C,CAAf,CAArC,CAFkC,CAA1C,CAFJ,CAF4B,CAAhC,CAtDiB,CANhB,CAZiB,CAAtC,CAgGI2a;CAAAA,CAAS,IAAIkhE,EAAJ,CAAOlhE,MAAP,CAAc4kE,MAAd,CAAqB,CAACC,MAAO,CAAA,CAAR,CAArB,CAET/D,EAAAA,CAAc,IAAII,EAAJ,CAAOI,KAAP,CAAasD,MAAb,CAAoB,CAClC5kE,OAAQA,CAD0B,CAElChe,GAAI,aAF8B,CAApB,CAKlB,KAAIunF,EAAiB,IAAA,CAAK1H,cAAL,EACjB0H,EAAJ,GAEQ51B,CACJ,CADe,CADD61B,IAAItI,EAAJsI,CAAOr5D,MAAPq5D,CAAcC,OACb,EAAQC,YAAR,CAAqBH,CAArB,CACf,CAAAvpE,CAAA,CAAO2pE,WAAP,CAAmBh2B,CAAnB,CAHJ,CAMAx+C,EAAA,CAAIgwE,QAAJ,CAAarE,CAAb,CAEA,KAAA,CAAK8I,kBAAL,CACI,IAAI1I,EAAJ,CAAO2I,WAAP,CAAmBC,IAAnB,CAAwB,CACpB9pE,OAAQA,CADY,CAEpB5U,KAAM,SAFc,CAGpB2+E,SAAU,CAAA,CAHU,CAIpBn8C,MAAO,MAJa,CAAxB,CADJ,CAQA,KAAA,CAAKo8C,kBAAL,EAAA,CAA0B9yE,EAA1B,CAA6B,SAA7B,CAAwC,QAAS,CAACk/C,CAAD,CAAM,CACnDA,CAAA,CAAIsC,OAAJ,CAAYlkC,GAAZ,CAAgB,MAAhB,CAAwB,YAAxB,CAEA8O,EAAA,CAAM2mD,cAAN,CAAqB7zB,CAArB,CAAyBsC,OAAzB,CAHmD,CAAvD,CAoBA,KAAA,CAAKwxB,MAAL,CAAY/0E,CAAZ,CAEW,KAAA,CAAKkxB,WAAL,EAAA,CAAmB9W,IAAnB,CAAwB,UAAxB,CACXruB,IAAA,CAAIu4B,MAAJ,CAAW,YAAX,CAAyB,CACrBc,MAAM,mBADe;AAErBgtB,IAAK,UAFgB,CAGrB4sB,SAAU,IAAA,CAAK9tC,WAAL,EAAA,CAAmB9W,IAAnB,CAAwB,SAAxB,CAAA,CAAmCzQ,MAAnC,EAHW,CAIrBwb,QAAS,IAAA,CAAKT,QAAL,CAAc,aAAd,CAJY,CAKrBswD,aAAc,CAAA,CALO,CAMrBC,cAAeA,QAAQ,CAACp3C,CAAD,CAAMytB,CAAN,CAAa,CAC5BA,CAAJ,CACI,IAAA,CAAKuhB,MAAL,EAAA,CAAcqI,cAAd,CAA6B,IAAA,CAAKL,kBAAL,EAA7B,CADJ,CAGI,IAAA,CAAKhI,MAAL,EAAA,CAAcsI,iBAAd,CAAgC,IAAA,CAAKN,kBAAL,EAAhC,CAJ4B,CANf,CAarB5mF,MAAO,IAbc,CAAzB,CAiBA,KAAA,CAAKshF,kBAAL,CAAwB,eAAxB,CAAA,CAAyCnL,YAAzC,CAAsD,WAAtD,CAAA,CAAmE9+D,KAAnE,EAlX4H,CAAhI,IAoXIvZ,IAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAe8lC,OAAf,CAAwB,GAAxB,CAA6B,IAA7B,CArXY,CAviBc,CAg6BlCyE,eAAgBA,QAAQ,CAACvxB,CAAD,CAAU,CAAA,IAC5B73C,EAAO63C,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CACXnE,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,gBAAd,CADK,CAEZ0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,uBAAd,CAFG;AAGZ2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiB+nB,QAHL,CAIPrb,UAAW,CAAA,CAJJ,CAKPnnC,MAAO8f,CALA,CAMPzd,MAAO,IANA,CAOPmhC,SAAUA,QAAQ,CAAC5I,CAAD,CAAM7L,CAAN,CAAW,CAC3B,GAAS,IAAT,EAAI6L,CAAJ,CAAe,CACL,EAAT,EAAI7L,CAAJ,CACC,IAAA,CAAKkyD,MAAL,EAAA,CAAcZ,QAAd,CAAuB,aAAvB,CAAA,CAAsChpC,SAAtC,EAAA,CAAkDmyC,aAAlD,CAAgE7xB,CAAhE,CADD,CAGCA,CAAA,CAAQlkC,GAAR,CAAY,MAAZ,CAAoB1E,CAApB,CAES05D,EAAAA,CAAW,IAAItI,EAAJ,CAAO/wD,MAAP,CAAcs5D,OACzB91B,EAAAA,CAAW,IAAA,CAAKquB,MAAL,EAAA,CAAcZ,QAAd,CAAuB,aAAvB,CAAA,CAAsChpC,SAAtC,EAAA,CAAkDogB,WAAlD,EACf,KAAIgyB,EAAsB,EAA1B,CACI/J,EAAa,IAAA,CAAKwC,aAAL,EACjBtvB,EAAA,CAASj6C,OAAT,CAAiB,QAAS,CAACg/C,CAAD,CAAU,CAChC+xB,kBAAA,CAAqB/xB,CAAA,CAAQ3zB,KAAR,EACrB0lD,mBAAA,CAAmB9G,WAAnB,EAAA,CAAiC1pE,SAAjC,CAA2CwmE,CAAA,CAAWA,CAAX,CAAsB,WAAjE,CAA8E,WAA9E,CACA+J,EAAA,CAAoBtkF,IAApB,CAAyBukF,kBAAzB,CAHgC,CAApC,CAKI9qE,EAAAA,CAAO6pE,CAAA,CAAQkB,aAAR,CAAsBF,CAAtB,CACX,KAAA,CAAKG,gBAAL,CAAsBhrE,CAAtB,CAhBQ,CADY,CAPtB,CAAb,CAFgC,CAh6BA;AAo9BlCgrE,iBAAkBA,QAAQ,CAAChrE,CAAD,CAAO,CAC7B,IAAA,CAAK0oB,IAAL,CAAU,oBAAV,CACA,KAAIja,EAAK,IACTltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACJgS,KAAM,yBADF,CAEJqL,cAAe9oB,IAAA,CAAKE,SAAL,CAAepH,CAAf,CAFX,CAFK,CAMbvc,MAAO,IANM,CAAjB,CAAA,CAOGm0B,IAPH,CAOQ,QAAQ,CAAC2J,CAAD,CAAW,CACvB9S,CAAA,CAAG+D,MAAH,EACIlU,EAAAA,CAAO/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACXjT,EAAA,CAAGwK,WAAH,CAAe,eAAf,CAAgC3a,CAAhC,CAAqC0yB,cAArC,CAAoD3uC,EAApD,CACAosB,EAAA,CAAGm3C,SAAH,CAAan3C,CAAA,CAAGyL,QAAH,CAAY,oBAAZ,CAAb,CAJuB,CAP3B,CAYG,QAAQ,CAACqH,CAAD,CAAW,CAClB9S,CAAA,CAAG+D,MAAH,EACA/D,EAAA,CAAGqvB,iBAAH,CAAqBrvB,CAAA,CAAGyL,QAAH,CAAY,yBAAZ,CAArB,CAA6DqH,CAA7D,CAFkB,CAZtB,CAH6B,CAp9BC,CAggClC8jD,oBAAqBA,QAAQ,CAACtsB,CAAD,CAAUkyB,CAAV,CAAsB,CAE/C,IAAI5gF,EAAS,IAAIk3E,EAAJ,CAAO90E,KAAP,CAAak8E,MAAb,CAAoB,CAC7B79E,MAAOiuD,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CADsB;AAE7BvD,MAAO42D,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAFsB,CAApB,CAAb,CAKIwlF,EAAS,CACT,IAAI3J,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CACfx+E,OAAQA,CADO,CAAnB,CADS,CALb,CAWI4+E,EAAWlwB,CAAA,CAAQirB,WAAR,EACXmH,EAAAA,CAAMlC,CAAA,CAASmC,iBAAT,EACNC,EAAAA,CAAYpC,CAAA,CAASqC,eAAT,CAAyB,EAAzB,CAGZx8B,EAAAA,CAAW3nD,IAAA,CAAKokF,KAAL,CADNJ,CAAA,CAAI,CAAJ,CACM,CADGE,CAAA,CAAU,CAAV,CACH,CAFNF,CAAA,CAAI,CAAJ,CAEM,CAFGE,CAAA,CAAU,CAAV,CAEH,CAEf,KAAIG,EAAW,IAAIjK,EAAJ,CAAOgI,IAAP,CAAYkC,UAAZ,CAAuB,CAACN,CAAD,CAAM,CAACA,CAAA,CAAI,CAAJ,CAAD,CAAU,EAAV,CAAeF,CAAf,CAA2BE,CAAA,CAAI,CAAJ,CAA3B,CAAoC,EAApC,CAAyCF,CAAzC,CAAN,CAAvB,CACfO,EAAA,CAASza,MAAT,CAAgBjiB,CAAhB,CAA0Bq8B,CAA1B,CACIO,EAAAA,CAAW,IAAInK,EAAJ,CAAOgI,IAAP,CAAYkC,UAAZ,CAAuB,CAACN,CAAD,CAAM,CAACA,CAAA,CAAI,CAAJ,CAAD,CAAU,EAAV,CAAeF,CAAf,CAA2BE,CAAA,CAAI,CAAJ,CAA3B,CAAoC,EAApC,CAAyCF,CAAzC,CAAN,CAAvB,CACfS,EAAA,CAAS3a,MAAT,CAAgBjiB,CAAhB,CAA0Bq8B,CAA1B,CAEAD,EAAA,CAAO3kF,IAAP,CAAY,IAAIg7E,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CAC3BI,SAAUuC,CADiB,CAE3BnhF,OAAQA,CAFmB,CAAnB,CAAZ,CAIA6gF,EAAA,CAAO3kF,IAAP,CAAY,IAAIg7E,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CAC3BI,SAAUyC,CADiB,CAE3BrhF,OAAQA,CAFmB,CAAnB,CAAZ,CAKA,OAAO6gF,EAlCwC,CAhgCjB,CAsiClCxF,kBAAmBA,QAAQ,CAAC3sB,CAAD,CAAUkyB,CAAV,CAAsB,CAC7C,GAAGlyB,CAAA,CAAQrzD,GAAR,CAAY,SAAZ,CAAH,CAA2B,CACnBimF,CAAAA,CAAqB,CAArBA,CAAWxkF,IAAXwkF,CAAgBphF,EAAhBohF,CAAyB5yB,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAC7B,KAAIkmF,EAAU7yB,CAAA,CAAQrzD,GAAR,CAAY,YAAZ,CAAA;AAA4BimF,CAA5B,CAAuC5yB,CAAA,CAAQrzD,GAAR,CAAY,YAAZ,CAAvC,CAAmEimF,CACjF,OAAQ,KAAIpK,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CACvBx+C,MAAO,IAAIk3C,EAAJ,CAAO90E,KAAP,CAAao/E,MAAb,CAAoB,CACvBnlF,OAAQqyD,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CADe,CAEvB4F,KAAM,IAAIi2E,EAAJ,CAAO90E,KAAP,CAAai8E,IAAb,CAAkB,CACpB59E,MAAOiuD,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CADa,CAAlB,CAFiB,CAKvB2E,OAAQ,IAAIk3E,EAAJ,CAAO90E,KAAP,CAAak8E,MAAb,CAAoB,CACxBmD,SAAU,CAACF,CAAD,CAAUD,CAAV,CAAqBC,CAArB,CADc,CAExB9gF,MAAO,oBAFiB,CAGxB3I,MAAO,CAHiB,CAApB,CALe,CAApB,CADgB,CAAnB,CAHe,CAiBvB,MAAO,CAAA,CAlBkC,CAtiCf,CA6jClCyjF,uBAAwBA,QAAS,CAAC7sB,CAAD,CAAU,CACvC,MAAO,CAAC,IAAIwoB,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CACvBx+E,OAAQ,IAAIk3E,EAAJ,CAAO90E,KAAP,CAAak8E,MAAb,CAAoB,CACxB79E,MAAOiuD,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CADiB,CAExBvD,MAAO,CAFiB,CAApB,CADe,CAAnB,CAAD,CAKH,IAAIo/E,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CACnBI,SAAU,IAAI1H,EAAJ,CAAOgI,IAAP,CAAYsC,MAAZ,CAAmB9yB,CAAA,CAAQirB,WAAR,EAAA,CAAsB+H,kBAAtB,EAAnB,CADS,CAEnB1hF,OAAQ,IAAIk3E,EAAJ,CAAO90E,KAAP,CAAak8E,MAAb,CAAoB,CACxB79E,MAAO,OADiB,CAExB3I,MAAO,EAFiB,CAApB,CAFW,CAAnB,CALG;AAWH,IAAIo/E,EAAJ,CAAO90E,KAAP,CAAao8E,KAAb,CAAmB,CACnBI,SAAU,IAAI1H,EAAJ,CAAOgI,IAAP,CAAYsC,MAAZ,CAAmB9yB,CAAA,CAAQirB,WAAR,EAAA,CAAsBoH,iBAAtB,EAAnB,CADS,CAEnB/gF,OAAQ,IAAIk3E,EAAJ,CAAO90E,KAAP,CAAak8E,MAAb,CAAoB,CACxB79E,MAAO,OADiB,CAExB3I,MAAO,EAFiB,CAApB,CAFW,CAAnB,CAXG,CADgC,CA7jCT,CAklClC2lF,iBAAkBA,QAAQ,CAACl8E,CAAD,CAAWyiB,CAAX,CAAqB0K,CAArB,CAA+B,CACjD53B,CAAAA,CAAOI,GAAA,CAAIu4B,MAAJ,CAAW,2BAAX,CAAwC,CAC/CluB,SAAUA,CADqC,CAE/CyiB,SAAUA,CAFqC,CAG/CltB,KAAM43B,CAHyC,CAAxC,CAKX,KAAA,CAAKxE,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,qBAApC,CAA2D,IAA3D,CAAiE,CAACpjC,CAAD,CAAjE,CANqD,CAllCvB,CA8lClC6qF,cAAeA,QAAQ,EAAG,CACtB,IAAA,CAAKzJ,gBAAL,EAAA,CAAwB76E,IAAxB,CAA6B,QAAQ,CAAC0N,CAAD,CAAS,CAC5CA,CAAA,CAAOmvE,YAAP,EAD4C,CAA9C,CAEG,IAFH,CADsB,CA9lCQ,CAomClCD,aAAcA,QAAQ,CAAClvE,CAAD,CAAS,CAC3B,IAAIuuB,EAAQ,IACZvuB,EAAA,CAAO62E,cAAP,EAF2B,KAIvBz2E,EAAM,IAAA,CAAK6sE,MAAL,EAJiB,CAIFv3E,EAAQsK,CAAA,CAAOupB,QAAP,EAJN,CAMvBkhD,EAAiBtzD,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,gBAAjB,CAAT,CANM;AASvBpkB,EAAM,CACV2N,EAAA,CAAOivE,WAAP,EAAA,CAAqBhmC,QAArB,CAA8B,QAAQ,CAAC6tC,CAAD,CAAO,CAAKA,CAAJ,CAASlhF,OAAT,CAAiBvD,CAAjB,GAAuBA,CAAvB,CAA2BykF,CAA3B,CAAgClhF,OAAhC,CAAD,CAA7C,CAA0F,IAA1F,CAAgG60E,CAAhG,CAGA,KAAIsM,EAAc32E,CAAA,CAAIisE,QAAJ,CAAarsE,CAAA,CAAO4W,KAAP,EAAb,CAA4B,SAA5B,CAAA,CAAuCysB,SAAvC,EAAlB,CAEIvT,EAAO3jC,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAA,CAAKpvB,WAAL,CAAiB,MAAjB,CAAf,CAEXsgE,EAAA,CAAY5D,KAAZ,EACA,KAAIzI,EAAgBvzD,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,eAAjB,CAAT,CAApB,CACIk0D,EAAgBxzD,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,eAAjB,CAAT,CADpB,CAEIugE,EAAkB,EAEtBh3E,EAAA,CAAOivE,WAAP,EAAA,CAAqBhmC,QAArB,CAA8B,QAAQ,CAAC6tC,CAAD,CAAO,CAEzC,IAAK,CAACpM,CAAN,EAAuBoM,CAAvB,CAA4BG,UAA5B,EAAwCvM,CAAxC,IAA2D,CAACC,CAA5D,EAA6EmM,CAA7E,CAAkFlhF,OAAlF,EAA2F+0E,CAA3F,EAA2G,CACvGqM,CAAA,CAAgBF,CAAhB,CAAqB7pF,EAArB,CAAA,CAAyB,CAAA,CACzB,KAAI8mF,EAAc,CAACmD,UAAA,CAAWJ,CAAX,CAAgBK,GAAhB,CAAD,CAAuBD,UAAA,CAAWJ,CAAX,CAAgBM,GAAhB,CAAvB,CACdzzB,EAAAA,CAAU,IAAIwoB,EAAJ,CAAOyH,OAAP,CAAe,CAEzBC,SAAU,CAAA,IAAI1H,EAAJ,CAAOgI,IAAP,CAAYC,KAAZ,CAAkBL,CAAlB,CAAA,EAA+B7uE,SAA/B,CAAyCinE,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAAzC;AAAmEi+B,CAAA,CAAM2/C,aAAN,EAAA,CAAsB3/C,CAAA,CAAM2/C,aAAN,EAAtB,CAA4C/B,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAA/G,CAFe,CAGzBwb,KAAMgrE,CAANhrE,CAAWvV,KAAXuV,CAAmB,IAAnBA,CAAwBgrE,CAAxBhrE,CAA6BlW,OAA7BkW,CAAqC,GAHZ,CAIzBurE,YAAaP,CAAbO,CAAkB9gF,KAJO,CAKzBb,MAAOA,CALkB,CAMzBgiD,SAAU,CAAA,CANe,CAOzB3qD,MAAO,CAAPA,CAAuC,EAAvCA,CAAWgF,IAAA,CAAK8H,IAAL,CAAUi9E,CAAV,CAAelhF,OAAf,CAAuBvD,CAAvB,CAPc,CAQzBwmE,QAAS,CAAA,CARgB,CASzBkb,YAAaA,CATY,CAUzBD,MAAOgD,CAAPhD,CAAYA,KAVa,CAWzBG,OAAQ6C,CAAR7C,CAAahnF,EAXY,CAYzBoJ,KAAM,MAZmB,CAazB29E,WAAY8C,CAAA,CAAK9C,UAAL,CAAkC,GAAlC,CAAkB8C,CAAlB,CAAuB9C,UAAvB,CAAwCphF,IAAAA,EAb3B,CAAf,CAedmkF,EAAA,CAAYvzB,UAAZ,CAAuBG,CAAvB,CAlBuG,CAFlE,CAA7C,CAsBG,IAtBH,CAsBS8mB,CAtBT,CAwBqC,EAArC,CAAIsM,CAAA,CAAYtzB,WAAZ,EAAJ,CAA8B10D,MAA9B,EACIqR,CAAA,CAAImiE,OAAJ,EAAA,CAAc+U,GAAd,CAAkBP,CAAA,CAAY5I,SAAZ,EAAlB,CAGJ/tE,EAAA,CAAIisE,QAAJ,CAAarsE,CAAA,CAAO4W,KAAP,EAAb,CAA4B,SAA5B,CAAA,CAAuCw2D,UAAvC,CAAsF,CAAtF,EAAkDjhF,GAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB9lB,CAAnB,CAAyB,QAAzB,CAAlD,CAEAinD,EAAA,CAAc32E,CAAA,CAAIisE,QAAJ,CAAarsE,CAAA,CAAO4W,KAAP,EAAb,CAA4B,cAA5B,CAAA,CAA4CysB,SAA5C,EACd0zC,EAAA,CAAY5D,KAAZ,EAEyC;CAAzC,EAAI1zE,MAAA,CAAOC,IAAP,CAAYs3E,CAAZ,CAAJ,CAAiCjoF,MAAjC,EACI,IAAA,CAAKyhE,SAAL,CAAe,2CAAf,CAGJn+D,EAAA,CAAM,CACN2N,EAAA,CAAOivE,WAAP,EAAA,CAAqBzlC,cAArB,CAAoC,QAAQ,CAAC+qC,CAAD,CAAa,CACjDA,CAAJ,CAAe3+E,OAAf,CAAuBvD,CAAvB,GAA6BA,CAA7B,CAAiCkiF,CAAjC,CAA4C3+E,OAA5C,CADqD,CAAzD,CAEG,IAFH,CA5D2B,KAiEvB6hB,EAAU,CAjEa,CAkEvB8/D,EAAsBpgE,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,qBAAjB,CAAT,CAlEC,CAmEvBo0D,EAAqB1zD,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,oBAAjB,CAAT,CACzBzW,EAAA,CAAOivE,WAAP,EAAA,CAAqBzlC,cAArB,CAAoC,QAAQ,CAAC+qC,CAAD,CAAa,CACrD,IAAK,CAAC1J,CAAN,EAA4B0J,CAA5B,CAAuC3+E,OAAvC,EAAgDi1E,CAAhD,IAAwE,CAAC0M,CAAzE,EAAgG9/D,CAAhG,CAAwG8/D,CAAxG,GAAgIhD,CAAhI,CAA2ItpE,MAA3I,CAAkJhe,EAAlJ,GAAwJ+pF,EAAxJ,EAA2KzC,CAA3K,CAAsL7nE,MAAtL,CAA6Lzf,EAA7L,GAAmM+pF,EAAnM,GAAuN,CAACtM,CAAxN,EAA0O6J,CAA1O,CAAqPtpE,MAArP,CAA4PgsE,UAA5P,EAAwQvM,CAAxQ,EAAyR6J,CAAzR,CAAoS7nE,MAApS,CAA2SuqE,UAA3S,EAAuTvM,CAAvT,EAAwU,CAIpU,IAAI8M,EAAU,CAHKC,IAAIzhF,GAAJyhF,CAAQC,WAARD,CACf,CAACrmF,EAAGmjF,CAAHnjF,CAAc6Z,MAAd7Z,CAAqB+lF,GAAtB,CAA2B7gF,EAAGi+E,CAAHj+E,CAAc2U,MAAd3U,CAAqB8gF,GAAhD,CADeK;AAEf,CAACrmF,EAAGmjF,CAAHnjF,CAAcsb,MAAdtb,CAAqB+lF,GAAtB,CAA2B7gF,EAAGi+E,CAAHj+E,CAAcoW,MAAdpW,CAAqB8gF,GAAhD,CAFeK,CAGL,EAAaE,GAAb,CAAiB,GAAjB,CAAsB,CAACj+E,OAAQ,GAAT,CAAtB,CAAd,CACInD,EAAQg+E,CAARh+E,CAAmB0U,MAAnB1U,CAA0BA,KAA1BA,CAAgC,MAAhCA,CAAuCg+E,CAAvCh+E,CAAkDmW,MAAlDnW,CAAyDA,KAAzDA,CAAiE,IAAjEA,CAAsEg+E,CAAtEh+E,CAAiFX,OAAjFW,CAAyF,GAC7FihF,EAAA,CAAQI,UAAR,CAAmBjzE,OAAnB,CAA2B,QAAQ,CAACkvE,CAAD,CAAW,CACtCtzD,CAAAA,CAAO,IAAI4rD,EAAJ,CAAOgI,IAAP,CAAYkC,UAAZ,CAAuBxC,CAAvB,CAAgCrX,MAAhC,CACXj8C,EAAA,CAAKrb,SAAL,CAAeinE,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAAf,CAAyCi+B,CAAA,CAAM2/C,aAAN,EAAA,CAAsB3/C,CAAA,CAAM2/C,aAAN,EAAtB,CAA4C/B,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAArF,CACIqzD,EAAAA,CAAU,IAAIwoB,EAAJ,CAAOyH,OAAP,CAAe,CACzBC,SAAUtzD,CADe,CAEzBzU,KAAMvV,CAFmB,CAGzBb,MAAOA,CAHkB,CAIzB3I,MAAO,CAAPA,CAA6C,EAA7CA,CAAWgF,IAAA,CAAK8H,IAAL,CAAU06E,CAAV,CAAqB3+E,OAArB,CAA6BvD,CAA7B,CAJc,CAKzB4Y,OAAQspE,CAARtpE,CAAmBA,MAAnBA,CAA0Bhe,EALD,CAMzByf,OAAQ6nE,CAAR7nE,CAAmBA,MAAnBA,CAA0Bzf,EAND,CAOzBoJ,KAAM,YAPmB,CAAf,CASd0gF,EAAA,CAAYvzB,UAAZ,CAAuBG,CAAvB,CAZ0C,CAA9C,CAaG,IAbH,CAcAlsC,EAAA,EApBoU,CADnR,CAAzD,CAuBG,IAvBH,CAyBArX,EAAA,CAAIisE,QAAJ,CAAarsE,CAAA,CAAO4W,KAAP,EAAb,CAA4B,cAA5B,CAAA,CAA4Cw2D,UAA5C,CAAgG,CAAhG;AAAuDjhF,GAAA,CAAIu9B,KAAJ,CAAUksB,QAAV,CAAmB9lB,CAAnB,CAAyB,aAAzB,CAAvD,CAEA9vB,EAAA,CAAOsvE,OAAP,EA/F2B,CApmCG,CAusClCmC,kBAAmBA,QAAQ,CAAC36E,CAAD,CAAQ,CAC/B,IAAI8nD,EAAW,IAAA,CAAKquB,MAAL,EAAA,CAAcyE,kBAAd,CAAiC56E,CAAjC,CAAuC66E,KAAvC,CACf,IAAI/yB,CAAJ,CACE,IAAK,IAAI9vD,EAAE,CAAX,CAAcA,CAAd,CAAgB8vD,CAAhB,CAAyB7vD,MAAzB,CAAiCD,CAAA,EAAjC,CAAsC,CACrC,IAAI60D,EAAU/E,CAAA,CAAS9vD,CAAT,CAAd,CACI+oF,EAAcl0B,CAAA,CAAQrzD,GAAR,CAAY,MAAZ,CAClB,IAAiB,MAAjB,EAAIunF,CAAJ,CAAyB,CACxB,IAAA,CAAKjG,mBAAL,CAAyB96E,CAAzB,CAAgC6sD,CAAhC,CACA,MAFwB,CAAzB,IAGO,IAAiB,YAAjB,EAAIk0B,CAAJ,CAA+B,CACrC,IAAA,CAAKC,qBAAL,CAA2Bn0B,CAA3B,CAAoC7sD,CAAA,CAAM66E,KAAN,CAAY,CAAZ,CAApC,CAAoD76E,CAAA,CAAM66E,KAAN,CAAY,CAAZ,CAApD,CACA,MAFqC,CAA/B,IAGD,IAAiB,YAAjB,EAAIkG,CAAJ,CAA+B,CACpC,IAAA,CAAK3C,cAAL,CAAoBvxB,CAApB,CACA,MAFoC,CATA,CAHT,CAvsCD,CA4tClCm0B,sBAAuBA,QAAQ,CAACn0B,CAAD,CAAUvyD,CAAV,CAAakF,CAAb,CAAgB,CACjDnK,GAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CAC3BsB,MAAO,CAAC,CACHla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CADH,CAEHS,QAAS,IAAA,CAAKT,QAAL,CAAc,oBAAd,CAFN;AAGHU,MAAO,mBAHJ,CAIHC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK6N,IAAL,CAAU,oBAAV,CACA,KAAIja,EAAK,IACAltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACJgS,KAAM,mBADF,CAEJzN,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EAFJ,CAGJozB,kBAAmB,CAAA,CAHf,CAIJC,oBAAqB,CAAA,CAJjB,CAKJI,SAAUsZ,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CALN,CAMJg6C,SAAUqZ,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CANN,CAOJ0lC,QAAS,CAPL,CAQJgC,MAAO,EARH,CAFK,CAYb3pC,MAAO,IAZM,CAAjB,CAAA,CAaGm0B,IAbH,CAaQ,QAAQ,CAAC2J,CAAD,CAAW,CAC1B9S,CAAA,CAAG+D,MAAH,EAEG,KADIlU,CACJ,CADW/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACX,GAAYpjB,CAAZ,CAAiBk/B,UAAjB,EAA+Bl/B,CAA/B,CAAoCk/B,UAApC,CAA+CwB,qBAA/C,CAAsE,CACpE,IAAImuC,EAAM,mCACV7uE,EAAA,CAAKk/B,UAAL,CAAgBwB,qBAAhB,CAAsCA,qBAAtC,CAA4DjlC,OAA5D,CAAoE,QAAQ,CAACwlC,CAAD,CAAa,CACxF4tC,CAAA;AAAK,oCAAL,CAA0C5tC,CAA1C,CAAqDl/B,MAArD,CAA4DrH,IAA5D,CAAiE,sDAAjE,CACCumC,CADD,CACYl/B,MADZ,CACmBlf,IADnB,CACwB,WADxB,CACoCo+C,CADpC,CAC+Cl/B,MAD/C,CACsDnH,KADtD,CAC4D,oDAD5D,CAC4GqmC,CAD5G,CACuHz9B,MADvH,CAC8H9I,IAD9H,CACmI,sDADnI,CAECumC,CAFD,CAEYz9B,MAFZ,CAEmB3gB,IAFnB,CAEwB,WAFxB,CAEoCo+C,CAFpC,CAE+Cz9B,MAF/C,CAEsD5I,KAFtD,CAE4D,YAH4B,CAAzF,CAKAi0E,EAAA,EAAO,UACP5rF,IAAA,CAAI0/B,GAAJ,CAAQyM,KAAR,CAAcjf,CAAA,CAAGyL,QAAH,CAAY,aAAZ,CAAd,CAA0CizD,CAA1C,CARoE,CAH/C,CAb3B,CA0BG,QAAQ,CAAC5rD,CAAD,CAAW,CACrB9S,CAAA,CAAG+D,MAAH,EACA,OAAO/D,EAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,sBAAZ,CAAb,CAFc,CA1BtB,CAHU,CAJjB,CAsCHz2B,MAAO,IAtCJ,CAAD,CADoB,CAA5B,CAAA,CAyCG+qC,MAzCH,CAyCUhoC,CAzCV,CAyCakF,CAzCb,CADiD,CA5tCb,CA0wClCs7E,oBAAqBA,QAAQ,CAAC96E,CAAD;AAAQ6sD,CAAR,CAAiB,CAChD,IAAIq0B,EAAmBr0B,CAAA,CAAQrzD,GAAR,CAAY,QAAZ,CACfnE,IAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CACnCsB,MAAO,CAAC,CACHla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CADH,CAEHS,QAAS,IAAA,CAAKT,QAAL,CAAc,oBAAd,CAFN,CAGHU,MAAO,mBAHJ,CAIHC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK6N,IAAL,CAAU,oBAAV,CACA,KAAIja,EAAK,IACAltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACJgS,KAAM,mBADF,CAEJzN,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EAFJ,CAGJozB,kBAAmB,CAAA,CAHf,CAIJC,oBAAqB,CAAA,CAJjB,CAKJguC,8BAA+B,CAAA,CAL3B,CAMJC,WAAYF,CANR,CAOJhgD,MAAO,EAPH,CAFK,CAWb3pC,MAAO,IAXM,CAAjB,CAAA,CAYGm0B,IAZH,CAYQ,QAAQ,CAAC2J,CAAD,CAAW,CAC1B9S,CAAA,CAAG+D,MAAH,EAEG,KADIlU,CACJ,CADW/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACX;AAAYpjB,CAAZ,CAAiBk/B,UAAjB,EAA+Bl/B,CAA/B,CAAoCk/B,UAApC,CAA+C4pC,WAA/C,CAA4D,CAC1D,IAAI+F,EAAM,mCACV7uE,EAAA,CAAKk/B,UAAL,CAAgB4pC,WAAhB,CAA4BA,WAA5B,CAAwCrtE,OAAxC,CAAgD,QAAQ,CAACwlC,CAAD,CAAa,CACpE4tC,CAAA,EAAK,oCAAL,CAA0C5tC,CAA1C,CAAqDvmC,IAArD,CAA0D,sDAA1D,CAAiHumC,CAAjH,CAA4Hp+C,IAA5H,CAAiI,WAAjI,CAA6Io+C,CAA7I,CAAwJrmC,KAAxJ,CAA8J,YAD1F,CAArE,CAGAi0E,EAAA,EAAO,UACP5rF,IAAA,CAAI0/B,GAAJ,CAAQyM,KAAR,CAAcjf,CAAA,CAAGyL,QAAH,CAAY,aAAZ,CAAd,CAA0CizD,CAA1C,CAN0D,CAHrC,CAZ3B,CAuBG,QAAQ,CAAC5rD,CAAD,CAAW,CACrB9S,CAAA,CAAG+D,MAAH,EACA,OAAO/D,EAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,sBAAZ,CAAb,CAFc,CAvBtB,CAHU,CAJjB,CAmCHz2B,MAAO,IAnCJ,CAAD,CAoCJ,CACEyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADR,CAEES,QAAS,IAAA,CAAKT,QAAL,CAAc,iBAAd,CAFX;AAGEU,MAAO,mBAHT,CAIEC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK0J,aAAL,CAAmB,cAAnB,CAAmC,IAAnC,CAAyCw0B,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAAzC,CADmB,CAJtB,CAOEjC,MAAO,IAPT,CApCI,CA4CJ,CACEyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADR,CAEES,QAAS,IAAA,CAAKT,QAAL,CAAc,iBAAd,CAFX,CAGEU,MAAO,mBAHT,CAIEC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK6N,IAAL,CAAU,qBAAV,CACA,KAAIja,EAAK,IACAltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACJgS,KAAM,eADF,CAEJhZ,MAAOotC,CAAA,CAAQrzD,GAAR,CAAY,OAAZ,CAFH,CAFK,CAMbjC,MAAO,IANM,CAAjB,CAAA,CAOGm0B,IAPH,CAOQ,QAAQ,CAAC2J,CAAD,CAAW,CAC1B9S,CAAA,CAAG+D,MAAH,EAEG,KADIlU,CACJ,CADW/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACX,GAAYpjB,CAAZ,CAAiB4oE,QAAjB,EAA6B5oE,CAA7B,CAAkC4oE,QAAlC,CAA2CjpC,SAA3C,CAAsD,CACpD,IAAI7iB,EAAQ,EACZvmB,OAAA,CAAO0nB,MAAP,CAAcje,CAAd,CAAmB4oE,QAAnB,CAA4BjpC,SAA5B,CAAsCA,SAAtC,CAAA,CAAiDlkC,OAAjD,CAAyD,QAAQ,CAACgf,CAAD,CAAW,CAC3EqC,CAAA,CAAM70B,IAAN,CAAW,CACVy/B,SAAUjN,CAAViN,CAAmBr6B,KAAnBq6B;AAAyB,IAAzBA,CAA8BjN,CAA9BiN,CAAuCqmD,UAAvCrmD,CAAkD,GADxC,CAEVnlB,KAAM,IAFI,CAGVklB,WAAYhN,CAAZgN,CAAqB1jC,EAHX,CAIV8jC,QAASpN,CAAToN,CAAkB9jC,EAAlB8jC,EAAsBinD,CAJZ,CAAX,CAD2E,CAA5E,CAQA,IAAkB,CAAlB,EAAIhyD,CAAJ,CAAUj3B,MAAV,CACC,MAAOsqB,EAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,8BAAZ,CAAb,CACD,IAAkB,CAAlB,EAAIkB,CAAJ,CAAUj3B,MAAV,EAAuBi3B,CAAA,CAAM,CAAN,CAAvB,CAAgC2K,UAAhC,EAA4CqnD,CAA5C,CACN,MAAO3+D,EAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,iCAAZ,CAAb,CAER34B,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAChDxxB,MAAOmmB,CAAA,CAAGyL,QAAH,CAAY,cAAZ,CADyC,CAEhDiB,MAAO,CAAA,CAFyC,CAGhDC,MAAO,CACN74B,MAAO,MADD,CAEN64B,MAAO,CAAC,CACD74B,MAAO,YADN,CAED2tD,QAAS,CAFR,CAGDwyB,SAAU,CAAA,CAHT,CAIDtnD,MAAOA,CAJN,CAAD,CAFD,CAQN14B,UAAW,CACVC,YAAaA,QAAQ,CAACw5B,CAAD,CAAO,EADlB,CAGV14B,MAAO,IAHG,CARL,CAaNo4B,QAAS,CAAC,CACT3a,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,QAAZ,CADG,CAEA4B,GAAI,iBAFJ;AAGGlB,MAAO,mBAHV,CAIFmB,KAAM,CAJJ,CAKFlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiB+1B,OAAjB,EADsB,CALrB,CAAD,CAQP,CACD9wC,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,cAAZ,CADL,CAEDU,MAAO,mBAFN,CAGSmB,KAAM,CAHf,CAISlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIuxD,EAAQvxD,CAAA,CAAIC,EAAJ,CAAO,MAAP,CAAA,CAAeO,SAAf,EAAR+wD,CAAmClrF,EACvC,IAAIkrF,CAAJ,EAAaA,CAAb,EAAoBH,CAApB,CAAsC,CAC3C,IAAI1tF,EAAS,EACbA,EAAA,CAAO0tF,CAAP,CAAA,CAA2BG,CAC3B9+D,EAAA,CAAG++D,eAAH,CAAmB9tF,CAAnB,CAH2C,CAKzCs8B,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiB+1B,OAAjB,EAPyB,CAJhC,CARO,CAbH,CAHyC,CAAhC,CAAA,CAuCdjvC,IAvCc,EAfoD,CAH/B,CAP3B,CAkEG,QAAQ,CAACwe,CAAD,CAAW,CACrB9S,CAAA,CAAG+D,MAAH,EACG/D,EAAA,CAAGqvB,iBAAH,CAAqBrvB,CAAA,CAAGyL,QAAH,CAAY,yBAAZ,CAArB,CAA6DqH,CAA7D,CAFkB,CAlEtB,CAHU,CAJtB,CA+EE99B,MAAO,IA/ET,CA5CI,CA4HL,CACGyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADT,CAEGS,QAAS,IAAA,CAAKT,QAAL,CAAc,mBAAd,CAFZ,CAGGU,MAAO,mBAHV,CAIGC,QAASA,QAAQ,EAAG,CACnBt5B,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CACC,IAAA,CAAKjT,QAAL,CAAc,4BAAd,CADD;AAEC,IAAA,CAAKA,QAAL,CAAc,uBAAd,CAFD,CAGC,QAAQ,CAAC8B,CAAD,CAAM,CACJ,KAAT,EAAIA,CAAJ,GACKt8B,CAEJ,CAFa,EAEb,CADAA,CAAA,CAAO0tF,CAAP,CACA,CAD2B,EAC3B,CAAA,IAAA,CAAKI,eAAL,CAAqB9tF,CAArB,CAHD,CADa,CAHf,CAUC,IAVD,CADmB,CAJvB,CAkBG+D,MAAO,IAlBV,CA5HK,CAD4B,CAmJnCf,UAAW,CACV+qF,WAAaA,QAAQ,CAACrqD,CAAD,CAAO,CAC3BA,CAAA,CAAK4uB,OAAL,EAD2B,CADlB,CAnJwB,CAA5B,CAAA,CAwJLxjB,MAxJK,CAwJEtiC,CAAA,CAAM66E,KAAN,CAAY,CAAZ,CAxJF,CAwJkB76E,CAAA,CAAM66E,KAAN,CAAY,CAAZ,CAxJlB,CAFwC,CA1wCZ,CAu6ClCyG,gBAAiBA,QAAQ,CAAC9tF,CAAD,CAASguF,CAAT,CAAgB,CAEvC,GAAI,IAAA,CAAK7hE,WAAL,CAAiB,aAAjB,CAAJ,EAAuC,CAAC6hE,CAAxC,CAA+C,CAC9C,IAAIj/D,EAAK,IACTltB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACRjL,IAAK,IAAA,CAAK6H,cAAL,EADG,CAER5a,OAAQ,CACJgS,KAAM,yBADF,CAEJ2M,mBAAoB,IAAA,CAAKzlB,WAAL,CAAiB,aAAjB,CAFhB,CAFA,CAMRpoB,MAAO,IANC,CAAjB,CAAA,CAOQm0B,IAPR,CAOa,QAAQ,CAAC2J,CAAD,CAAW,CACvB,IAAIjjB,EAAO/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACPpjB,EAAJ,EAAYA,CAAZ,CAAiB0yB,cAAjB;AAAmC1yB,CAAnC,CAAwC0yB,cAAxC,CAAuDQ,QAAvD,EACMm8C,CAGJ,CAHgBpsF,GAAA,CAAIwvC,MAAJ,CAAWzyB,CAAX,CAAgB0yB,cAAhB,CAA+BQ,QAA/B,CAGhB,CAFAjwC,GAAA,CAAIoE,KAAJ,CAAUgoF,CAAV,CAAqBjuF,CAArB,CAEA,CAAA+uB,CAAA,CAAG++D,eAAH,CAAmBG,CAAnB,CAA8B,CAAA,CAA9B,CAJF,EAMIl/D,CAAA,CAAGqvB,iBAAH,CAAqBrvB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAArB,CAA2DqH,CAA3D,CARmB,CAPhC,CAkBQ,QAAQ,CAACA,CAAD,CAAW,CAClB9S,CAAA,CAAGqvB,iBAAH,CAAqBrvB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAArB,CAA2DqH,CAA3D,CADkB,CAlB3B,CAF8C,CAA/C,IAwBK9S,EACJ,CADS,IACT,CAAAltB,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACRjL,IAAK,IAAA,CAAK6H,cAAL,EADG,CAER5a,OAAQ,CACJgS,KAAM,yBADF,CAEJqL,cAAezuC,GAAA,CAAI0qC,MAAJ,CAAWvsC,CAAX,CAFX,CAFA,CAMR+D,MAAO,IANC,CAAjB,CAAA,CAOQm0B,IAPR,CAOa,QAAQ,CAAC2J,CAAD,CAAW,CACvB,IAAIjjB,EAAO/c,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CACPpjB,EAAJ,EAAYA,CAAZ,CAAiB0yB,cAAjB,EAAmC1yB,CAAnC,CAAwC0yB,cAAxC,CAAuD3uC,EAAvD,EACIosB,CAAA,CAAGwK,WAAH,CAAe,aAAf;AAA8B3a,CAA9B,CAAmC0yB,cAAnC,CAAkD3uC,EAAlD,CACA,CAAAosB,CAAA,CAAGu9D,aAAH,EAFJ,EAIIv9D,CAAA,CAAGqvB,iBAAH,CAAqBrvB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAArB,CAA2DqH,CAA3D,CANmB,CAPhC,CAeQ,QAAQ,CAACA,CAAD,CAAW,CAClB9S,CAAA,CAAGqvB,iBAAH,CAAqBrvB,CAAA,CAAGyL,QAAH,CAAY,sBAAZ,CAArB,CAA0DqH,CAA1D,CADkB,CAf3B,CA3BsC,CAv6CP,CAAtC,CAy9CAhgC;GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CACvCyI,OAAQ,YAD+B,CAEvC39B,MAAO,gBAFgC,CAGvC81B,OAAQ,CAAC,0BAAD,CAH+B,CAIvCoB,QAAS,CACLG,KAAM,CACFxkB,OAAQ,QADN,CAEFw4E,YAAa,SAFX,CAGFC,WAAY,QAHV,CAIFC,aAAc,WAJZ,CAKFC,aAAc,OALZ,CAMFC,QAAS,wCANP,CAUFC,WAAY,uHAVV,CAWFC,eAAgB,sEAXd;AAYFhyD,MAAO,OAZL,CADD,CAJ8B,CAoBvCx8B,OAAQ,CACJw3B,OAAQlvB,IAAAA,EADJ,CAEJk/E,SAAUl/E,IAAAA,EAFN,CAGJ8C,MAAO,MAHH,CAIJovC,QAASlyC,IAAAA,EAJL,CAKJmmF,4BAA6BnmF,IAAAA,EALzB,CAMJ29E,eAAgB39E,IAAAA,EANZ,CAOJk4E,mBAAoB,GAPhB,CAQJkO,eAAgB,CAAA,CARZ,CASJC,qBAAsB,CAAA,CATlB,CApB+B,CA+BvCtsF,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1BA,CAAA,CAASA,CAAT,EAAmB,EACnB,KAAIwnF,EAAW,IAAIrvD,MAAJ,CAAWvZ,IAAX,CAAgB9c,IAAhB,CAAqB8sF,QAArB,CAA8B,CACzCp3D,OAAQx3B,CAARw3B,CAAeA,MAD0B,CAA9B,CAGf,KAAA,CAAKq3D,WAAL,CAAiBrH,CAAjB,CACA,KAAIz4D,EAAK,IACTltB,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CACI,CACIi7B,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CADb,CAEIztB,MAAO,kCAAPA,CAA0C/M,CAA1C+M,CAAiD3B,KAFrD,CAGI8vB,MAAO,mBAHX,CAIIwI,KAAM,CACF8nB,SAAU,CACN3oD,MAAO,kBADD,CAENk5B,WAAY,EAFN;AAGND,WAAY,OAHN,CAINr5B,MAAO,GAJD,CAKN8kD,SAAU,GALJ,CAMN1iD,QAAS,CANH,CAON7B,UAAW,CACPykC,OAAQA,QAAQ,CAACkM,CAAD,CAAM3Q,CAAN,CAAY,CACxBjU,CAAA,CAAG81D,YAAH,EADwB,CADrB,CAIPtuC,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiB6sB,CAAjB,CAA0BD,CAA1B,CAAqC,CAC3B,CAApB,EAAI5sB,CAAJ,CAAYnlB,MAAZ,EAAsD,EAAtD,EAAyB+xC,CAAA,CAAUs4C,SAAV,EAAzB,CAA+C7iE,KAA/C,GACIpqB,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACT8gC,WAAY,CAACC,GAAIr1B,CAAA,CAAGyL,QAAH,CAAY,OAAZ,CAAL,CADH,CAETiH,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBkH,IAFZ,CAGTzH,QAASnS,CAAA,CAAGyL,QAAH,CAAY,gBAAZ,CAHA,CAIT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAJR,CAAb,CAMA,CAAA,IAAA,CAAKutD,OAAL,EAPJ,CAD+C,CAJ5C,CAPL,CADR,CA0BFrzD,MAAO,CAAC,CACJG,WAAY,IAAA,CAAKrB,QAAL,CAAc,aAAd,CADR,CAEJssB,UAAW,QAFP,CAGJvf,OAAQ,QAHJ,CAAD,CAIL,CACE1L,WAAY,IAAA,CAAKrB,QAAL,CAAc,YAAd,CADd,CAEE+M,OAAQ,OAFV,CAGEuf,UAAW,OAHb,CAJK,CAQL,CACEjrB,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CADd,CARK;AAUL,CACE33B,MAAO,aADT,CAEEg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CAFd,CAGE+M,OAAQ,SAHV,CAIEuf,UAAW,SAJb,CAKEjqB,OAAQ,CAAC,CAAD,CAAG,CAAH,CALV,CAME9yB,OAAQ,CAAA,CANV,CAOE/G,UAAW,CACPC,YAAaA,QAAQ,CAAC0wC,CAAD,CAAM,CACvB,IAAA,CAAKvnB,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACnCtjB,OAAQ,CACJ6zB,UAAW,SADP,CAEJpZ,MAAO,CAFH,CAGJ/nC,KAAM,SAHF,CAD2B,CAMnCu/B,SAAUA,QAAQ,CAACtb,CAAD,CAAU,CACxB,GAAoB,CAApB,EAAIA,CAAJ,CAAYnlB,MAAZ,CAAuB,CAEnB,IAAIu+B,EAAO,EACX,KAAA,CAAK5W,SAAL,EAAA,CAAiBpkB,IAAjB,CAAsB,QAAQ,CAAC5C,CAAD,CAAM,CAChC,IAAIqrB,EAAM5D,QAAA,CAASznB,CAAA,CAAI+xC,QAAJ,EAAT,CACM,EAAhB,EAAIx9B,KAAA,CAAM8W,CAAN,CAAJ,EACIuS,CAAA,CAAKn8B,IAAL,CAAUgmB,QAAA,CAASznB,CAAA,CAAI+xC,QAAJ,EAAT,CAAV,CAH4B,CAApC,CAKG,IALH,CAMgB,EAAhB,CAAInU,CAAJ,CAASv+B,MAAT,GACIkvC,CAAA,CAAIq7C,WAAJ,CAAgBhsD,CAAA,CAAK,CAAL,CAAhB,CAMA,CALA2Q,CAAA,CAAIs7C,WAAJ,CAAgBjsD,CAAA,CAAKA,CAAL,CAAUv+B,MAAV,CAAiB,CAAjB,CAAhB,CAKA,CAJAkvC,CAIA,CAJImT,SAIJ,CAJgB,OAIhB,CAHAnT,CAAA,CAAIu7C,YAAJ,CAAiB,gBAAjB,CAGA;AAFAv7C,CAAA,CAAI5L,QAAJ,CAAa,CAAC/E,CAAA,CAAK,CAAL,CAAD,CAAUA,CAAA,CAAKA,CAAL,CAAUv+B,MAAV,CAAiB,CAAjB,CAAV,CAAb,CAEA,CADAkvC,CAAA,CAAIw7C,WAAJ,CAAgB,gBAAhB,CACA,CAAAx7C,CAAA,CAAImvC,UAAJ,CAAe,CAAA,CAAf,CAPJ,CATmB,CAAvB,IAmBInvC,EAAA,CAAIq7C,WAAJ,CAAgBniE,QAAA,CAASjD,CAAA,CAAQ,CAAR,CAAA,CAAW6rB,OAAX,EAAT,CAAhB,CACA,CAAA,IAAA,CAAKrpB,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACnCtjB,OAAQ,CACJ6zB,UAAW,SADP,CAEJpZ,MAAO,CAFH,CAGJ/nC,KAAM,UAHF,CAD2B,CAMnCu/B,SAAUA,QAAQ,CAACtb,CAAD,CAAU,CACxB+pB,CAAA,CAAIs7C,WAAJ,CAAgBpiE,QAAA,CAASjD,CAAA,CAAQ,CAAR,CAAA,CAAW6rB,OAAX,EAAT,CAAhB,CACI9B,EAAA,CAAImvC,UAAJ,CAAe,CAAA,CAAf,CAFoB,CANO,CAUnC/+E,MAAO,IAV4B,CAAvC,CArBoB,CANO,CAyCnCA,MAAO,IAzC4B,CAAvC,CADuB,CADpB,CA8CP8jC,eAAgBA,QAAQ,CAAC8L,CAAD,CAAMhM,CAAN,CAAc,CAClC,IAAA,CAAKk9C,YAAL,EADkC,CA9C/B,CAiDP9gF,MAAO,IAjDA,CAPb,CAVK,CAoEJ,CACClB,MAAO,UADR,CAEC+F,MAAO,WAFR,CAGC8yB,MAAO,CAAC,CACJ74B,MAAO,WADH,CAEJghD,OAAQ,MAFJ,CAGJ2H,SAAU,CACN3oD,MAAO,QADD,CAEN2e,KAAM,EAFA,CAGN4a,GAAI,iBAHE,CAHN;AAQJV,MAAO,CAAC,CACJR,MAAO,mBADH,CAEJC,QAASA,QAAQ,EAAG,CAChB,IAAA,CAAKi0D,iBAAL,EAAA,CAAyBr2C,SAAzB,EAAA,CAAqC8vC,KAArC,EACA,KAAA,CAAK0D,cAAL,EACA,KAAIkC,EAA8B,IAAA,CAAKY,8BAAL,EAClCZ,EAAA,CAA8B,IAAA,CAAK9J,WAAL,EAAA,CAAmBvlC,uBAAnB,CAA2CqvC,CAAA,CAA8BA,CAA9B,CAA0DrmF,KAA1D,CAAgE,CAAhE,CAAoE,CAA/G,CAC9B,KAAA,CAAKknF,8BAAL,CAAoCb,CAApC,CACA,KAAA,CAAKzJ,OAAL,EANgB,CAFhB,CAUJjhF,MAAO,IAVH,CAAD,CAWL,CACEm3B,MAAO,mBADT,CAEEC,QAASA,QAAQ,CAACwY,CAAD,CAAM,CACa,mBAAhC,EAAIA,CAAA,CAAI47C,QAAJ,EAAJ,CAAmBjgD,WAAnB,EACI,IAAA,CAAKi9C,cAAL,EAGA,CAFA54C,CAAA,CAAI67C,QAAJ,CAAa,IAAI3tF,GAAJ,CAAQ4tF,KAAR,CAAc,mBAAd,CAAb,CAEA,CADA,IAAA,CAAKC,iBAAL,CAAuB,CAAA,CAAvB,CACA,CAAA,IAAA,CAAK1K,OAAL,EAJJ,GAMIrxC,CAAA,CAAI67C,QAAJ,CAAa,IAAI3tF,GAAJ,CAAQ4tF,KAAR,CAAc,mBAAd,CAAb,CAGA;AAAA,IAAA,CAAKC,iBAAL,CAAuB,CAAA,CAAvB,CATJ,CADmB,CAFzB,CAgBE3rF,MAAO,IAhBT,CAXK,CA6BL,CACEm3B,MAAO,mBADT,CAEEC,QAASA,QAAQ,EAAG,CAChB,IAAA,CAAKi0D,iBAAL,EAAA,CAAyBr2C,SAAzB,EAAA,CAAqC8vC,KAArC,EACA,KAAA,CAAK0D,cAAL,EACA,KAAIkC,EAA8B,IAAA,CAAKY,8BAAL,EAClCZ,EAAA,CAA8B,IAAA,CAAK9J,WAAL,EAAA,CAAmBvlC,uBAAnB,CAA2CqvC,CAAA,CAA8BA,CAA9B,CAA0DrmF,KAA1D,CAAgE,CAAhE,CAAoE,CAA/G,CAC9B,KAAA,CAAKknF,8BAAL,CAAoCb,CAApC,CACA,KAAA,CAAKzJ,OAAL,EANgB,CAFtB,CAUEjhF,MAAO,IAVT,CA7BK,CAwCJ,CACClB,MAAO,QADR,CAEC2e,KAAM,cAFP,CAxCI,CA2CJ,CACC0Z,MAAO,mBADR,CAECC,QAASA,QAAQ,EAAG,CAChB,IAAA,CAAKi0D,iBAAL,EAAA,CAAyBr2C,SAAzB,EAAA,CAAqC8vC,KAArC,EACA,KAAA,CAAK0D,cAAL,EACA,KAAA,CAAK+C,8BAAL,CAAoC,IAAA,CAAK3K,WAAL,EAAA,CAAmBvlC,uBAAnB,CAA2C,CAA3C,CAApC,CACA;IAAA,CAAK4lC,OAAL,EAJgB,CAFrB,CAQCjhF,MAAO,IARR,CA3CI,CARH,CAAD,CA6DJ,CACClB,MAAO,UADR,CAEC4jC,QAAS,CAAA,CAFV,CAGCtL,QAASA,QAAQ,CAACrV,CAAD,CAAO2gB,CAAP,CAAgB,CAC7B1X,CAAA,CAAG4gE,uBAAH,CAA2BlpD,CAA3B,CAD6B,CAHlC,CAMCH,SAAU,yBANX,CA7DI,CAHR,CApEI,CA6IL,CACEzjC,MAAO,WADT,CAEE2e,KAAM,QAFR,CA7IK,CAgJL,CACE3e,MAAO,QADT,CAEE2e,KAAM,QAFR,CAGEzd,MAAM,IAHR,CAKEo3B,QAASA,QAAQ,CAACwY,CAAD,CAAM,CAEnB,IAAA,CAAKnP,SAAL,CAAe,oBAAf,CAAqC,IAArC,CACAmP,EAAA,CAAIuxC,OAAJ,CAAY0K,QAAZ,CAAqBt9B,OAArB,EAHmB,CALzB,CAhJK,CA1BL,CAJV,CADJ,CA4LA,KAAA,CAAKvxB,UAAL,CAAgB,CAAC/gC,CAAD,CAAhB,CACA,KAAA,CAAK6X,EAAL,CAAQ,aAAR,CAAuB,QAAQ,CAAC87B,CAAD,CAAM,CACjCA,CAAA,CAAI3M,WAAJ,EAAA,CAAkB9W,IAAlB,CAAuB,cAAvB,CAAA,CAAuC65D,QAAvC,CAAgD,OAAhD,CAAyD,IAAA,CAAK9qD,QAAL,EAAzD,CACA,KAAIgF,EAAQ0P,CAAA,CAAIpX,EAAJ,CAAO,OAAP,CACZ0H,EAAA,CAAM+E,IAAN,CAAW2K,CAAA,CAAInZ,QAAJ,CAAa,SAAb,CAAX,CACAmZ,EAAA,CAAIkxC,YAAJ,EAAA,CAAmB3sD,IAAnB,CAAwB,QAAQ,CAACsvD,CAAD,CAAW,CACvCvjD,CAAA,CAAMnR,MAAN,EACA;GAAyC,CAAzC,EAAImR,CAAA,CAAM4+C,gBAAN,EAAA,CAAyBj2E,QAAzB,EAAJ,CAA4C,CAAA,IACpC83E,EAAqB8C,CAAA,CAASnpC,cAAT,EADe,CAEpCwxC,EAAmBrI,CAAA,CAAShpC,mBAAT,EAFiB,CAGpCsxC,EAA0BtI,CAAA,CAASzoC,mBAAT,EAC1BgxC,EAAAA,CAAwBvI,CAAA,CAASvoC,wBAAT,EAC5B/d,QAAA,CAAUyS,CAAA,CAAInZ,QAAJ,CAAakqD,CAAA,EAAoBmL,CAApB,EAAwCC,CAAxC,EAAiEC,CAAjE,CAAyF,WAAzF,CAAuG,YAApH,CAAV,CACI,UADJ,CACep8C,CAAA,CAAInZ,QAAJ,CAAa,YAAb,CACfyJ,EAAA,CAAMiiC,SAAN,CAAgB,CACZ8pB,eAAgB,GADJ,CAGZC,SAAU,CAAA,CAHE,CAIZ1oC,SAAU,KAJE,CAKZzkD,KAAM,CAAA,IAAIjB,GAAJ,CAAQ2lC,QAAR,CAAiBmM,CAAA,CAAInZ,QAAJ,CAAa,YAAb,CAAjB,CAAA,EAA6Cv0B,KAA7C,CAAmD,CACrDy+E,mBAAoBA,CADiC,CAErDmL,iBAAkBA,CAFmC,CAGrDC,wBAAyBA,CAH4B,CAIrDC,sBAAuBA,CAJ8B,CAKrD/pD,IAAK/B,CAAA,CAAMgC,UAAN,EAALD,CAAwB,0BAL6B,CAAnD,CALM,CAAhB,CAPwC,CAFL,CAA3C,CAJiC,CAArC,CA6BG,IA7BH,CApM0B,CA/BS;AAkQvC6+C,aAAcA,QAAQ,CAAC5xD,CAAD,CAAS,CAC3B,IAAIlE,EAAK,IACTkE,EAAA,CAASA,CAAT,EAAmB,EAGnB,KAAIqqB,EAAW,EACf,KAAA,CAAKrxB,KAAL,CAAW,kBAAX,CAAA,CAA+B5R,OAA/B,CAAuC,QAAQ,CAAC61E,CAAD,CAAmB,CAC9D,IAAIvtF,EAAKutF,CAAA,CAAiBtN,SAAjB,EACTsN,EAAA,CAAiBjnD,QAAjB,EAAA,CAA4B5uB,OAA5B,CAAoC,QAAQ,CAAC4R,CAAD,CAAQ,CAChDqxB,CAAA,CAAQz2C,IAAR,CAAalE,CAAb,CAAgB,GAAhB,CAAoBspB,CAApB,CADgD,CAApD,CAF8D,CAAlE,CAMA,KAAIkkE,EAAgB,IAAA,CAAKjgE,IAAL,CAAU,aAAV,CACpB,IAAIigE,CAAJ,EAAqBA,CAAA,CAAc3lD,SAAd,EAArB,CAAgD,CAC5C,IAAIxH,EAAOmtD,CAAA,CAAclnD,QAAd,EACXqU,EAAA,CAAQz2C,IAAR,CAAaspF,CAAb,CAA2BrpC,SAA3B,CAAqC,IAArC,CAA0C9jB,CAAA,CAAK,CAAL,CAA1C,CAAkD,GAAlD,CAAsDA,CAAA,CAAK,CAAL,CAAtD,CAA8D,GAA9D,CAF4C,CAI7B,CAAnB,CAAIsa,CAAJ,CAAY74C,MAAZ,EAAwB,EAAE,OAAF,EAAawuB,EAAb,CAAxB,GAA+CA,CAA/C,CAAsDhH,KAAtD,CAA4DqxB,CAA5D,CAIA,EADIrZ,CACJ,CADa,IAAA,CAAK1H,EAAL,CAAQ,OAAR,CACb,GAAa0H,CAAb,CAAmBhL,YAAnB,EACIp3B,GAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoBgR,CAAA,CAAMhL,YAAN,CAAmB,wIAAA,CAAA,KAAA,CAAA,GAAA,CAAnB,CAApB,CAGJ;IAAA,CAAK+P,IAAL,CAAU,QAAV,CACA,KAAIw+C,EAAW,IAAA,CAAK7C,WAAL,EACf,OAAO6C,EAAA,CAASjxC,IAAT,CAActjB,CAAd,CAAA,CAAsBiF,IAAtB,CAA2B,QAAQ,EAAG,CACzCnJ,CAAA,CAAG+D,MAAH,EACA/D,EAAA,CAAGyV,SAAH,CAAa,cAAb,CAA6BzV,CAA7B,CAAiCy4D,CAAjC,CACA,OAAOA,EAHkC,CAAtC,CA3BoB,CAlQQ,CAoSvC+E,eAAgBA,QAAQ,EAAG,CACnB,IAAA,CAAK6D,UAAL,EAAJ,EAAwB7jF,YAAA,CAAa,IAAA,CAAK6jF,UAAL,EAAb,CADD,CApSY,CAwSvCpL,QAASA,QAAQ,EAAG,CAChB,IAAI/gD,EAAQ,IAAA,CAAK1H,EAAL,CAAQ,OAAR,CACZ,IAAK0H,CAAL,CAAA,CACA,IAAA,CAAKsoD,cAAL,EACA,KAAIkC,EAA8B,IAAA,CAAKY,8BAAL,EAClC,IAAIZ,CAAJ,CAAiC,CAC7B,IAAIxI,EAAiB,IAAA,CAAKmJ,iBAAL,EAChBnJ,EAAL,GACIA,CACA,CADiB,IAAA,CAAK1pD,EAAL,CAAQ,OAAR,CAAA,CAAiBomD,MAAjB,EAAA,CAA0BZ,QAA1B,CAAmC,IAAA,CAAKz1D,KAAL,EAAnC,CAAgD,YAAhD,CACjB,CAAA,IAAA,CAAK+jE,iBAAL,CAAuBpK,CAAvB,CAFJ,CAIA,IAAIA,CAAJ,CAAoB,CAChB,IAAI3xB,EAAW2xB,CAAA,CAAeltC,SAAf,EAAA,CAA2BogB,WAA3B,EACf,IAAqB,CAArB;AAAI7E,CAAJ,CAAa7vD,MAAb,CAAwB,CACpB,GAAI,CAACw/B,CAAL,CAAa,MAEb,KAAIqsD,EADyBrsD,CAAA,CAAM0+C,MAAN,EAAA,CAAeZ,QAAf,CAAwB,IAAA,CAAKz1D,KAAL,EAAxB,CAAqC,cAArC,CAAAikE,CAAqDx3C,SAArDw3C,EACH,CAAuBp3B,WAAvB,EACtB8rB,EAAAA,CAAW,CAAA,CACf,KALoB,IAKXzgF,EAAE,CALS,CAKNsnB,EAAIwkE,CAAJxkE,CAAwBrnB,MAAtC,CAA8CD,CAA9C,CAAgDsnB,CAAhD,CAAqDtnB,CAAA,EAArD,CACI,GAAIiqF,CAAJ,CAAgC9tE,MAAhC,CAAuChe,EAAvC,EAA2C2tF,CAAA,CAAoB9rF,CAApB,CAAA,CAAuBwB,GAAvB,CAA2B,QAA3B,CAA3C,EAAmFyoF,CAAnF,CAA+GrsE,MAA/G,CAAsHzf,EAAtH,EAA0H2tF,CAAA,CAAoB9rF,CAApB,CAAA,CAAuBwB,GAAvB,CAA2B,QAA3B,CAA1H,CAAgK,CAC5Ji/E,CAAA,CAAWqL,CAAA,CAAoB9rF,CAApB,CACX,MAF4J,CAKpK,GAAIygF,CAAJ,CAAc,CAEP,IAAA,CAAKuL,uBAAL,EAAH,GACQ16E,CAGJ,CAHUmuB,CAAA,CAAM0+C,MAAN,EAGV,CAFI1jB,CAEJ,CAFah7B,CAAA,CAAM0+C,MAAN,EAAA,CAAe1K,OAAf,EAAA,CAAyBwY,eAAzB,CAAyC36E,CAAA,CAAIwzB,OAAJ,EAAzC,CAEb,CADgBu4C,EAAAr3C,CAAGy0B,MAAHz0B,CAAUkmD,cAAVlmD,CAAyBy0B,CAAzBz0B,CAAiCy6C,CAAA,CAASX,WAAT,EAAA,CAAuBT,SAAvB,EAAjCr5C,CAChB,GACImmD,SACA,CADY9O,EAAA,CAAG5iB,MAAH,CAAUz+B,MAAV,CAAiBy+B,CAAjB,CAAyBgmB,CAAA,CAASX,WAAT,EAAA,CAAuBT,SAAvB,EAAzB,CACZ,CAAA/tE,CAAA,CAAImiE,OAAJ,EAAA,CAAc+U,GAAd,CAAkB2D,SAAlB,CAFJ,CAJJ,CAaIzD,EAAAA,CAAU,CAHKC,IAAIzhF,GAAJyhF,CAAQC,WAARD,CACf,CAACrmF,EAAG2nF,CAAH3nF,CAA+B6Z,MAA/B7Z,CAAsC+lF,GAAvC;AAA4C7gF,EAAGyiF,CAAHziF,CAA+B2U,MAA/B3U,CAAsC8gF,GAAlF,CADeK,CAEf,CAACrmF,EAAG2nF,CAAH3nF,CAA+Bsb,MAA/Btb,CAAsC+lF,GAAvC,CAA4C7gF,EAAGyiF,CAAHziF,CAA+BoW,MAA/BpW,CAAsC8gF,GAAlF,CAFeK,CAGL,EAAaE,GAAb,CAAiB,GAAjB,CAAsB,CAACj+E,OAAQ,GAAT,CAAtB,CACd,KAAInD,EAAQwiF,CAARxiF,CAAoC0U,MAApC1U,CAA2CA,KAA3CA,CAAiD,MAAjDA,CAAwDwiF,CAAxDxiF,CAAoFmW,MAApFnW,CAA2FA,KAC/FihF,EAAA,CAAQI,UAAR,CAAmBjzE,OAAnB,CAA2B,QAAQ,CAACkvE,CAAD,CAAW,CAC1C,IAAItzD,EAAO,IAAI4rD,EAAJ,CAAOgI,IAAP,CAAYkC,UAAZ,CAAuB,EAAvB,CACX91D,EAAA,CAAKrb,SAAL,CAAeinE,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAAf,CAAyCi+B,CAAA,CAAM2/C,aAAN,EAAA,CAAsB3/C,CAAA,CAAM2/C,aAAN,EAAtB,CAA4C/B,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAArF,CACIqzD,EAAAA,CAAU,IAAIwoB,EAAJ,CAAOyH,OAAP,CAAe,CACzBC,SAAUtzD,CADe,CAEzB26D,UAAWrH,CAAXqH,CAAoB1e,MAFK,CAGzB1wD,KAAMvV,CAHmB,CAIzBb,MAAO,IAAA,CAAK6zB,QAAL,EAJkB,CAKzBx8B,MAAO,CALkB,CAMzBsP,MAAO,CAAA,IAAIhD,IAAJ,EAAWC,OAAX,EANkB,CAAf,CAQdi3E,EAAA,CAAeltC,SAAf,EAAA,CAA2BmgB,UAA3B,CAAsCG,CAAtC,CAX0C,CAA9C,CAYG,IAZH,CAcap1B,EAAA,CAAMn3B,IAAN,CAAWojB,IAAX,CAAgB,SAAhB,CAEb+T,EAAA,CAAMn3B,IAAN,CAAWojB,IAAX,CAAgB,SAAhB,CAAA,CAA2B84B,OAA3B,CACIylC,CADJ,CACgC9tE,MADhC,CACuCrH,IADvC,CAC4C,yBAD5C;AACsEm1E,CADtE,CACkG9tE,MADlG,CACyGlf,IADzG,CAC8G,UAD9G,CACyHgtF,CADzH,CACqJ9tE,MADrJ,CAC4JnH,KAD5J,CACkK,UADlK,CAEIi1E,CAFJ,CAEgCrsE,MAFhC,CAEuC9I,IAFvC,CAE4C,yBAF5C,CAEsEm1E,CAFtE,CAEkGrsE,MAFlG,CAEyG3gB,IAFzG,CAE8G,UAF9G,CAEyHgtF,CAFzH,CAEqJrsE,MAFrJ,CAE4J5I,KAF5J,CAjCU,CAAd,IAuCO,CACH,GAAI,CAAC,IAAA,CAAKmrE,WAAL,EAAL,CAA0B,MAC1B8J,EAAA,CAA8B,IAAA,CAAK9J,WAAL,EAAA,CAAmBvlC,uBAAnB,CAA2CqvC,CAA3C,CAAuErmF,KAAvE,CAA6E,CAA7E,CAC9B,KAAA,CAAKknF,8BAAL,CAAoCb,CAApC,CACAxI,EAAA,CAAeltC,SAAf,EAAA,CAA2B8vC,KAA3B,EAJG,CAFH,MAAO,KAAA,CAAKr/E,UAAL,CAAgBA,UAAA,CAAW,IAAA,CAAKw7E,OAAL,CAAaxhF,IAAb,CAAkB,IAAlB,CAAX,CAAoC,CAApC,CAAhB,CAhDS,CA0DjB,GAAoB,CAApB,CAAI8wD,CAAJ,CAAa7vD,MAAb,CAAuB,CAEtBytE,CAAAA,CAAS5d,CAAA,CAAS,CAAT,CAAA,CAAYgwB,WAAZ,EAAA,CAA0BuM,cAA1B,EACTD,EAAAA,CAAYt8B,CAAA,CAAS,CAAT,CAAA,CAAYtuD,GAAZ,CAAgB,WAAhB,CAChB,IAAIksE,CAAJ,CAAWztE,MAAX,CAAkBmsF,CAAlB,CAA4BnsF,MAA5B,CAMI,MAJIqnB,EAIG,EALO,CAAA,IAAI/c,IAAJ,EAAWC,OAAX,EAKP,CAL4BslD,CAAA,CAAS,CAAT,CAAA,CAAYtuD,GAAZ,CAAgB,OAAhB,CAK5B,EAJW4qF,CAIX,CAJqBnsF,MAIrB;AAJ4B,IAAA,CAAKqsF,qBAAL,EAI5B,CAHP76D,IAGO,CAHA,IAAI4rD,EAAJ,CAAOgI,IAAP,CAAYkC,UAAZ,CAAuB6E,CAAA,CAAUxpF,KAAV,CAAgB,CAAhB,CAAkB0kB,CAAlB,CAAvB,CAGA,CAFPmK,IAAA,CAAKrb,SAAL,CAAeinE,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAAf,CAAyCi+B,CAAA,CAAM2/C,aAAN,EAAA,CAAsB3/C,CAAA,CAAM2/C,aAAN,EAAtB,CAA4C/B,EAAA,CAAGwB,IAAH,CAAQr9E,GAAR,CAAY,WAAZ,CAArF,CAEO,CADPsuD,CAAA,CAAS,CAAT,CAAA,CAAYn/B,GAAZ,CAAgB,UAAhB,CAA4Bc,IAA5B,CACO,CAAA,IAAA,CAAKzsB,UAAL,CAAgBA,UAAA,CAAW,IAAA,CAAKw7E,OAAL,CAAaxhF,IAAb,CAAkB,IAAlB,CAAX,CAAoC,EAApC,CAAhB,CAIXirF,EAAA,CAA8B,IAAA,CAAK9J,WAAL,EAAA,CAAmBvlC,uBAAnB,CAA2CqvC,CAA3C,CAAuErmF,KAAvE,CAA6E,CAA7E,CAC9B,IAAG,CAAC,IAAA,CAAK2oF,iBAAL,EAAJ,CAGI,MAFA,KAAA,CAAKzB,8BAAL,CAAoCb,CAApC,CAEO,CADPxI,CAAA,CAAeltC,SAAf,EAAA,CAA2B8vC,KAA3B,EACO,CAAA,IAAA,CAAKr/E,UAAL,CAAgBA,UAAA,CAAW,IAAA,CAAKw7E,OAAL,CAAaxhF,IAAb,CAAkB,IAAlB,CAAX,CAAoC,CAApC,CAAhB,CAlBe,CA5Dd,CANS,CAAjC,IAyFI,IAAK,IAAA,CAAKmhF,WAAL,EAAL,GACA8J,CADA,CAC8B,IAAA,CAAK9J,WAAL,EAAA,CAAmBvlC,uBAAnB,CAA2C,CAA3C,CAD9B,EAII,MADA,KAAA,CAAKkwC,8BAAL,CAAoCb,CAApC,CACO;AAAA,IAAA,CAAKjlF,UAAL,CAAgBA,UAAA,CAAW,IAAA,CAAKw7E,OAAL,CAAaxhF,IAAb,CAAkB,IAAlB,CAAX,CAAoC,CAApC,CAAhB,CAhGf,CAFgB,CAxSmB,CAA3C,C,CCx9CA3B,GAAA,CAAIk2B,MAAJ,CAAW,oBAAX,CAAiC,CAChCyI,OAAQ,iBADwB,CAEhC7H,OAAQ,CAAC,oBAAD,CAFwB,CAGhC4V,MAAO,cAHyB,CAI7BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAMJ7M,MAAO,IANH,CAaJ26B,SAAU,MAbN,CAmBJ9gD,MAAOwC,IAAAA,EAnBH,CAqBJ+G,MAAO,CAAA,CArBH,CAHG,CA0BR6rB,MAAO,mBA1BC,CAJoB,CAgChCl7B,OAAQ,CACPgxF,MAAO1oF,IAAAA,EADA,CAEPwI,UAAWxI,IAAAA,EAFJ,CAGPogE,aAAcpgE,IAAAA,EAHP,CAIP2oF,YAAa3oF,IAAAA,EAJN,CAKJi/D,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CAAuD,CAACA,MAAO,oBAAR,CAAvD,CALL,CAMJ+L,gBAAiB,GANb,CAOJK,WAAY,GAPR,CAQJC,eAAgB,EARZ,CASJgiF,YAAa5oF,IAAAA,EATT,CAhCwB,CA4ChCsgE,QAAS,IAAI/mE,GAAJ,CAAQ4gD,SAAR,CACR,eADQ,CAEP,kGAFO;AAGR,QAHQ,CA5CuB,CAkD7BpgD,YAAaA,QAAQ,EAAG,CACpB,IAAA,CAAK0+B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACzC25D,CAAAA,CAAW35D,CAAA,CAAOnL,WAAP,CAAmB,CAAnB,CACf,KAAI+kE,EAAO,IAAA,CAAKC,eAAL,CAAqBF,CAArB,CACX,KAAA,CAAKG,QAAL,EAAA,CAAgBvgF,aAAhB,CAA8BqgF,CAA9B,CAEA,KAAA,CAAK1iE,YAAL,CAAkB,CAAC5oB,MAAOqrF,CAAA,CAAS7kE,KAAT,EAAR,CAAlB,CACA,KAAA,CAAK8+C,eAAL,EAAA,CAAuBz9B,QAAvB,EAAA,CAAkC8N,aAAlC,CAAgD,QAAhD,CAA0DjkB,CAAA,CAAOlL,KAAP,EAA1D,CACA,KAAA,CAAKilE,cAAL,EAAA,CAAsBp2C,SAAtB,CAAgC3jB,CAAhC,CACA,KAAA,CAAK4zC,eAAL,EAAA,CAAuB70B,IAAvB,CAA4B,CAACtjB,OAAQ,CACpCya,MAAO,CAD6B,CAEpCkZ,SAAU,IAAA,CAAK3tB,YAAL,CAAkB,UAAlB,CAF0B,CAAT,CAA5B,CAR6C,CAA9C,CAYG,IAZH,CAcG,KAAA,CAAKphB,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CAChC,IAAA,CAAKuU,SAAL,EAAJ;AACCvqB,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,QAAQ,EAAG,CAC7B,IAAA,CAAK+qB,eAAL,EAAA,CAAuB70B,IAAvB,CAA4B,CAACtjB,OAAQ,CACjCya,MAAO,CAD0B,CAEjCkZ,SAAU,IAAA,CAAK3tB,YAAL,CAAkB,UAAlB,CAFuB,CAAT,CAA5B,CAD6B,CAA9B,CAKG,GALH,CAKQ,IALR,CAFmC,CAA/B,CASA,IATA,CAWA,KAAA,CAAKphB,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CAC1B3jB,IAAAA,EAAd,GAAI2jB,CAAJ,EAAoC,EAApC,EAA2BA,CAA3B,EACC,IAAA,CAAKk9C,oBAAL,CAA0Bl9C,CAA1B,CAFuC,CAAtC,CAIA,IAJA,CAMA,KAAA,CAAKpU,EAAL,CAAQ,kBAAR,CAA4B,QAAQ,CAACgzB,CAAD,CAAMzlC,CAAN,CAAW,CAE1ChC,CAAAA,CAAW,IAAA,CAAKgpB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BjnB,CAA7B,CACf,KAAA,CAAKm0B,WAAL,CAAiB,OAAjB,CAA0Bn2B,CAAA,CAASkpB,KAAT,EAA1B,CAEA,KAAIpmB,EAAQ,IAAA,CAAKorF,QAAL,EAARprF,CAAwBiJ,UAAxBjJ,CAAmCA,KACnCsrF,EAAAA,CAAc,EAClB,KAAK5pF,IAAIA,CAAT,GAAc1B,EAAd,CACCsrF,CAAA,CAAY3qF,IAAZ,CAAiBe,CAAjB,CAIJ,KAAA,CAAK8mB,YAAL,CAAkB,CAACzC,MAAOulE,CAAR,CAAlB,CAEI9jD,EAAAA,CAAQ8jD,CAAR9jD,CAAoBjpC,MACV,EAAd,GAAIipC,CAAJ,GACCA,CADD,CACS,CADT,CAIG,KAAA,CAAK4jD,QAAL,EAAA,CAAgBvgF,aAAhB,CAA8B,IAAA,CAAKsgF,eAAL,CAAqBjuF,CAArB,CAA9B,CAEA;IAAA,CAAKgoE,eAAL,EAAA,CAAuB70B,IAAvB,CAA4B,CAACtjB,OAAQ,CACvChH,MAAOulE,CADgC,CAEvC9jD,MAAOA,CAFgC,CAGvCkZ,SAAU,IAAA,CAAK3tB,YAAL,CAAkB,UAAlB,CAH6B,CAAT,CAA5B,CArB8C,CAA/C,CA0BG,IA1BH,CA4BA,KAAA,CAAKphB,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAC/C,IAAI+8D,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ,CAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHI,CAA7B,CAKwB,EAAxB,CAAIwtB,CAAJ,CAAex+D,MAAf,EACC,IAAA,CAAK0kE,oBAAL,CAA0BlG,CAA1B,CAR8C,CAA7C,CAUH,IAVG,CAYN,KAAA,CAAKprD,EAAL,CAAQ,oBAAR,CAA8B,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAClD,IAAI+8D,EAAa,EACd/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBA,CAAA,CAAKg0C,OAAL,EAAJ,EAAqBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CADO,CAA7B,CAGA,KAAA,CAAK0zB,oBAAL,CAA0BlG,CAA1B,CAL+C,CAAnD,CAMG,IANH,CAQA,KAAA,CAAKprD,EAAL,CAAQ,sBAAR,CAAgC,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CACpD,IAAI+8D,EAAa,EACd/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBA,CAAA,CAAKg0C,OAAL,EAAJ;AAAqBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CADO,CAA7B,CAGA,KAAA,CAAK0zB,oBAAL,CAA0BlG,CAA1B,CALiD,CAArD,CAMG,IANH,CAnF0B,CAlDK,CA8I7B9zB,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKk6B,YAAL,CAAkBxnE,GAAA,CAAIu4B,MAAJ,CAAW,qBAAX,CAAkC,CAChDC,OAAQ,CAAC,MAAD,CAAS,OAAT,CADwC,CAAlC,CAAlB,CAIA,KAAA,CAAKwuC,eAAL,CAAqBhnE,GAAA,CAAIu4B,MAAJ,CAAW,gBAAX,CAA6B,CACpD0hB,MAAO,gCAD6C,CAEjD1B,SAAU,CAAA,CAFuC,CAGjDD,WAAY,CAAA,CAHqC,CAIjDtD,MAAO,CACT9qC,KAAM,MADG,CAETi6B,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EAFI,CAGTiJ,YAAa,CACZ7R,KAAM,sBADM,CAEZ8W,kBAAmB,KAFP,CAGZkmB,cAAe,CAAA,CAHH,CAHJ,CAQTtnB,OAAQ,CACP5uC,KAAM,MADC,CAEE6uC,aAAc,qBAFhB,CAGEC,cAAe,qBAHjB,CARC;AAaTE,eAAgB,CAAA,CAbP,CAJ0C,CAmB7C/3C,UAAW,CACVo4C,WAAYA,QAAQ,CAAClf,CAAD,CAAQ,CAC3BA,CAAA,CAAMyR,QAAN,EAAA,CAAiB8N,aAAjB,CAA+B,OAA/B,CAAwC,IAAA,CAAKtvB,WAAL,CAAiB,OAAjB,CAAxC,CAD2B,CADlB,CAIVoqB,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiByyB,CAAjB,CAA6BkrB,CAA7B,CAAsC,CACpD,IAAIwB,EAAU,EACVn/C,EAAJ,EAA8B,CAA9B,CAAeA,CAAf,CAAuBnlB,MAAvB,EACImlB,CAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CAChC,IAAI2B,EAAW,IAAA,CAAKq7D,YAAL,CAAkBh9D,CAAlB,CACHA,EAAA,CAAO9F,GAAP,CAAW,OAAX,CACRvE,EAAAA,CAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CACX+iE,EAAA,CAAQtnE,CAAR,CAAA,CAAgBgM,CAJgB,CAAjC,CAKG,IALH,CAOA,CADA,IAAA,CAAK6jF,QAAL,EAAA,CAAgBrgF,QAAhB,CAAyB83D,CAAzB,CACA,CAAA,IAAA,CAAKuoB,QAAL,EAAA,CAAgB7hF,UAAhB,EARJ,EAWC,IAAA,CAAKy2D,SAAL,CAAe,CACdpjE,KAAM,IAAA,CAAK03B,QAAL,CAAc,cAAd,CADQ,CAEd8xB,MAAO,IAFO,CAAf,CAbmD,CAJ1C,CAuBdvoD,MAAO,IAvBO,CAnBkC,CAA7B,CAArB,CA8CA,KAAA,CAAK0tF,cAAL,CAAoB5vF,GAAA,CAAIu4B,MAAJ,CAAW,0BAAX,CAAuC,CACvDyzC,UAAW,KAD4C,CAEvD7qE,UAAW,CACVo4C,WAAYA,QAAQ,CAAClf,CAAD,CAAQ,CAC3BA,CAAA,CAAMyR,QAAN,EAAA,CAAiB8N,aAAjB,CAA+B,OAA/B;AAAwC,IAAA,CAAKtvB,WAAL,CAAiB,OAAjB,CAAxC,CAD2B,CADlB,CAIVoqB,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiByyB,CAAjB,CAA6BkrB,CAA7B,CAAsC,CACnD,IAAI77B,EAAU,EAAd,CACIgmD,EAAW,IAAA,CAAKC,cAAL,EACf/nE,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CAE/B4/B,CAAA,CADG5/B,CAAA,CAAOspC,WAAP,EAAJ,EAA4Bs8C,CAA5B,CAAqC9+E,OAArC,CACC84B,CADD,EACY,UADZ,CACuB5/B,CAAA,CAAO2pC,OAAP,EADvB,CACwC,WADxC,EAGC/J,CAHD,CAGY5/B,CAAA,CAAO2pC,OAAP,EAJoB,CAAjC,CAQA5zC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,SAAd,CADK,CAEZ0G,QAASwK,CAFG,CAGZvP,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHL,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAckH,IAJL,CAAb,CAXmD,CAJ1C,CAsBb5kC,MAAO,IAtBM,CAF4C,CAAvC,CAApB,CA4BAlC,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfo7B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAAD,CAEL,CACJ2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CADF,CAEJU,MAAO,mBAFH;AAGJC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKjL,IAAL,CAAU,YAAV,CAAA,CAAwBy8B,iBAAxB,EAAA,CAA4CqE,WAA5C,CAAwD,CAAA,CAAxD,CACA,KAAA,CAAKuY,YAAL,EAAA,CAAoBr7B,SAApB,EACA,KAAA,CAAKxf,YAAL,CAAkB,CAACzC,MAAO,IAAR,CAAlB,CACA,KAAA,CAAKqlE,QAAL,EAAA,CAAgBrjF,cAAhB,EACA,KAAA,CAAKqjF,QAAL,EAAA,CAAgBpsF,SAAhB,EALmB,CAHhB,CAUJnB,MAAO,IAVH,CAFK,CAaR,CACDlB,MAAO,wBADN,CAEDknD,aAAc,CAAA,CAFb,CAbQ,CAgBR,CACVlnD,MAAO,QADG,CAEV0kC,OAAQ,OAFE,CAGV1L,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CAHF,CAIVsB,WAAY,OAJF,CAKVC,WAAY,EALF,CAMVt5B,MAAO,GANG,CAOV4kC,UAAW,EAPD,CAQVF,SAAU,CARA,CASVC,SAAU,GATA,CAUV1lC,MAAO,GAAPA,CAAW,IAAA,CAAKkwF,kBAAL,EAVD,CAWV5uF,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKm5B,kBAAL,CAAwB,GAAxB;AAA4Bn5B,CAA5B,CACI,KAAA,CAAK44B,QAAL,EAAJ,EAAsB,IAAA,CAAKA,QAAL,EAAA,CAAgB7hF,UAAhB,EAFoB,CADjC,CAKV1L,MAAO,IALG,CAXD,CAhBQ,CAkCjB,CACDlB,MAAO,QADN,CAED0kC,OAAQ,YAFP,CAGD1L,WAAY,IAAA,CAAKrB,QAAL,CAAc,YAAd,CAHX,CAIDsB,WAAY,OAJX,CAKDC,WAAY,EALX,CAMDt5B,MAAO,EANN,CAOD4kC,UAAW,EAPV,CAQDF,SAAU,CART,CASDC,SAAU,GATT,CAUD1lC,MAAO,IAAA,CAAKowF,aAAL,EAVN,CAWD9uF,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKq5B,aAAL,CAAmBr5B,CAAnB,CACI,KAAA,CAAK44B,QAAL,EAAJ,EAAsB,IAAA,CAAKA,QAAL,EAAA,CAAgB7hF,UAAhB,EAFoB,CADjC,CAKV1L,MAAO,IALG,CAXV,CAlCiB,CAoDjB,CACDlB,MAAO,QADN,CAED0kC,OAAQ,SAFP,CAGD1L,WAAY,IAAA,CAAKrB,QAAL,CAAc,SAAd,CAHX,CAIDsB,WAAY,OAJX,CAKDC,WAAY,EALX,CAMDt5B,MAAO,EANN,CAOD4kC,UAAW,CAPV,CAQDF,SAAU,CART,CASDC,SAAU,EATT;AAUD1lC,MAAO,IAAA,CAAKswF,iBAAL,EAVN,CAWDhvF,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKu5B,iBAAL,CAAuBv5B,CAAvB,CACI,KAAA,CAAK44B,QAAL,EAAJ,EAAsB,IAAA,CAAKA,QAAL,EAAA,CAAgB7hF,UAAhB,EAFoB,CADjC,CAKV1L,MAAO,IALG,CAXV,CApDiB,CAsEjB,CACWlB,MAAO,UADlB,CAEWyjC,SAAU,IAAA,CAAK9L,QAAL,CAAc,OAAd,CAFrB,CAGWx3B,UAAW,CACV6vD,OAAQA,QAAQ,CAAClf,CAAD,CAAM,CACrBA,CAAA,CAAI5L,QAAJ,CAAyC,CAAA,CAAzC,GAAa,IAAA,CAAK5b,WAAL,CAAiB,OAAjB,CAAb,EAA6E,MAA7E,EAAkD,IAAA,CAAKA,WAAL,CAAiB,OAAjB,CAAlD,CACHtqB,IAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQuxB,CAAA,CAAIrO,KAAJ,EADwB,CAEzB9jB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAFmB,CAAjC,CAFwB,CADZ,CASVktC,cAAeA,QAAQ,CAAC/zB,CAAD,CAAM,CAC5B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD4B,CATnB,CAYPmC,OAAQA,QAAQ,CAACkM,CAAD,CAAMljB,CAAN,CAAW,CACtB,IAAA,CAAK6gE,QAAL,EAAJ;AACC,IAAA,CAAKA,QAAL,EAAA,CAAgBlhF,QAAhB,CAAyBqgB,CAAzB,CAFyB,CAZpB,CAiBP1sB,MAAO,IAjBA,CAHtB,CAtEiB,CAJH,CAAD,CAFE,CAoGThB,OAAQ,CAAA,CApGC,CAqGT8gD,OAAQ,KArGC,CAsGTnoB,MAAO,CACNmoB,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CADF,CAKNd,SAAU,CAACzoD,OAAQ,CAAA,CAAT,CALJ,CAMN24B,MAAO,CAAC,CACPn5B,OAAQ,EADD,CAEPglC,OAAQ,WAFD,CAGP1kC,MAAO,UAHA,CAIPq5B,MAAO,IAAA,CAAKqtC,YAAL,EAJA,CAKPzhB,IAAK,IAALA,CAAU8gB,OALH,CAMP9b,aAAc,UANP,CAOPC,YAAa,MAPN,CAQPC,gBAAiB,UARV,CASPC,eAAgB,CACf/Z,KAAM,QADS,CATT,CAaPy2B,SAAU,EAbH,CAcP3mE,UAAW,CACV4mE,gBAAiBA,QAAQ,CAACnd,CAAD,CAAK3gD,CAAL,CAAaga,CAAb,CAAmB1d,CAAnB,CAA0BoE,CAA1B,CAAiC8vC,CAAjC,CAAuC,CAC/D9vC,CAAA,CAAMkzD,cAAN,EACAlzD,EAAA,CAAMq9D,eAAN,EACApd,EAAA,CAAGjoB,SAAH,CAAa,iBAAb,CAAgCioB,CAAhC,CAAoC3gD,CAApC,CAA4Cga,CAA5C,CAAkD1d,CAAlD,CAAyDoE,CAAzD,CAAgE8vC,CAAhE,CACA,OAAO,CAAA,CAJwD,CADtD,CAOVwtB,qBAAsBA,QAAQ,EAAG,CAEhCt9D,KAAA,CAAMkzD,cAAN,EACAlzD;KAAA,CAAMq9D,eAAN,EACA,OAAO,CAAA,CAJyB,CAPvB,CAaV3c,gBAAiBA,QAAQ,CAACyI,CAAD,CAAWoU,CAAX,CAAuB,CAC/C,IAAItd,EAAK,IAAA,CAAKv8B,IAAL,CAAU,YAAV,CAAT,CACIhqB,EAAQ,EAEZumD,EAAA,CAAGz3B,QAAH,EAAA,CAAchtB,IAAd,CAAmB,QAAQ,CAACw2B,CAAD,CAAI,CACA,EAA9B,GAAIurC,CAAA,CAAWlhE,OAAX,CAAmB21B,CAAnB,CAAJ,EACCt4B,CAAA,CAAMW,IAAN,CAAW23B,CAAA,CAAEx4B,GAAF,CAAM,MAAN,CAAX,CACA,CAAAnE,GAAA,CAAI8C,GAAJ,CAAQ8nD,CAAA,CAAGud,eAAH,CAAmBxrC,CAAnB,CAAR,CAAA,CAA+ByrC,SAA/B,CAAyC,YAAzC,CAAA,CAAuDC,MAAvD,CAA8D,UAA9D,CAFD,EAICroE,GAAA,CAAI8C,GAAJ,CAAQ8nD,CAAA,CAAGud,eAAH,CAAmBxrC,CAAnB,CAAR,CAAA,CAA+ByrC,SAA/B,CAAyC,UAAzC,CAAA,CAAqDC,MAArD,CAA4D,YAA5D,CAL6B,CAA/B,CASA,KAAA,CAAKonB,QAAL,EAAA,CAAgBrvF,WAAhB,CAA8BiE,CAC9B,KAAA,CAAKorF,QAAL,EAAA,CAAgBpsF,SAAhB,EAd+C,CAbtC,CA6BVklE,gBAAiBA,QAAQ,CAAC3d,CAAD,CAAK3gD,CAAL,CAAaxH,CAAb,CAAiB8D,CAAjB,CAAwBoE,CAAxB,CAA+B,CACvDA,CAAA,CAAMkzD,cAAN,EACAlzD,EAAA,CAAMq9D,eAAN,EACA,KAAIQ,EAAa5d,CAAA,CAAG4d,UAAH,CAAc/lE,CAAd,CA2BjB,EA1BWo/B,IAAI7hC,GAAJ6hC,CAAQA,IAARA,CAAamL,IAAbnL,CAAkB,CAC5B4mC,SAAU,CAAA,CADkB;AAE5B5uC,MAAO,CAAC,CACPla,KAAM6oD,CAAA,CAAa,IAAA,CAAK7vC,QAAL,CAAc,UAAd,CAAb,CAAyC,IAAA,CAAKA,QAAL,CAAc,UAAd,CADxC,CAEPW,QAASA,QAAQ,EAAG,CACfkvC,CAAJ,CACC5d,CAAA,CAAG8d,QAAH,CAAYniE,CAAZ,CADD,CAGCqkD,CAAA,CAAG/zC,MAAH,CAAUtQ,CAAV,CAAiB,CAAA,CAAjB,CAJkB,CAFb,CASPrE,MAAO,IATA,CAAD,CAUL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnBsxB,CAAA,CAAG8d,QAAH,CAAYniE,CAAZ,CACA,KAAI3G,EAAO,IAAA,CAAK8nE,YAAL,EAAA,CAAoB7tB,KAApB,CAA0BtzC,CAA1B,CAAA,CAAiCpC,GAAjC,CAAqC,MAArC,CACX,KAAA,CAAKujE,YAAL,EAAA,CAAoBj0C,QAApB,CAA6BltB,CAA7B,CACAqkD,EAAA,CAAGr3B,OAAH,EAEA,KAAA,CAAKk8D,QAAL,EAAA,CAAgBpjF,UAAhB,CAA2BzM,CAA3B,CACA,KAAA,CAAK6vF,QAAL,EAAA,CAAgBpsF,SAAhB,EAPmB,CAFnB,CAWDnB,MAAO,IAXN,CAVK,CAFqB,CAAlB2/B,CA0BX,EAAKoL,MAAL,CAAYtiC,CAAA,CAAMg+D,KAAN,EAAZ,CA9BuD,CA7B9C,CA6DVzmE,MAAO,IA7DG,CAdJ,CAAD,CA6EL,CACDs4B,KAAM,CADL,CAEDx5B,MAAO,WAFN,CAGD4nE,OAAQ,KAHP,CAIDljC,OAAQ,cAJP,CAKDsc,OAAQ,KALP,CAMD6mB,UAAW,MANV,CAODC,UAAW,QAPV,CA7EK,CAND;AA4FN3nE,UAAW,CACV6vD,OAAQA,QAAQ,CAAC+X,CAAD,CAAY,CACvBC,CAAAA,CAAe,IAAA,CAAK36C,IAAL,CAAU,eAAV,CAChB,KAAA,CAAKgiE,QAAL,CAAc,IAAI5jF,KAAJ,CAAU,CACvBrO,UAAW4qE,CADY,CAEvB1qE,aAAc,IAAA,CAAKgyF,gBAAL,CAAsB3uF,IAAtB,CAA2B,IAA3B,CAFS,CAGvB6L,MAAmC,CAAA,CAAnCA,GAAO,IAAA,CAAK8c,WAAL,CAAiB,OAAjB,CAAP9c,EAAuE,MAAvEA,EAA4C,IAAA,CAAK8c,WAAL,CAAiB,OAAjB,CAHrB,CAAV,CAAd,CAFwB,CADlB,CASV6+C,YAAaA,QAAQ,CAAC/qE,CAAD,CAAY,CACI,CAAA,CAApC,GAAI,IAAA,CAAKqxF,QAAL,EAAJ,CAAoBnvF,WAApB,EACC,IAAA,CAAKmvF,QAAL,EAAA,CAAgBhvF,gBAAhB,EAF+B,CATvB,CAcb2oE,OAAQA,QAAQ,CAAC9nE,CAAD,CAAMV,CAAN,CAAaF,CAAb,CAAqB,CACpC,IAAA,CAAK+uF,QAAL,EAAA,CAAgB9hF,QAAhB,EADoC,CAdxB,CAiBVzL,MAAO,IAjBG,CA5FL,CAtGE,CAAhB,CAwNA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CAvSyB,CA9IG,CAwb7B40E,sBAAuBA,QAAQ,CAAC1wF,CAAD,CAAQ,CAClC,IAAA,CAAK4vF,QAAL,EAAJ,GACa,EAAZ,CAAI5vF,CAAJ,EACCA,CACA,CADQ,EACR,CAAA,IAAA,CAAK4vF,QAAL,EAAA,CAAgB7iF,eAAhB;AAAkC,CAAA,CAFnC,EAIC,IAAA,CAAK6iF,QAAL,EAJD,CAIiB7iF,eAJjB,CAImC,CAAA,CAGtC,CADG,IAAA,CAAK6iF,QAAL,EACH,CADmB1iF,eACnB,CADqClN,CACrC,CAAA,IAAA,CAAK4vF,QAAL,EAAA,CAAgB7hF,UAAhB,CAA2B,IAAA,CAAK6hF,QAAL,EAA3B,CAA2C3iF,QAA3C,CARE,CADsC,CAxbV,CAqc7B0jF,iBAAkBA,QAAQ,CAAC3wF,CAAD,CAAQ,CAC7B,IAAA,CAAK4vF,QAAL,EAAJ,GACF,IAAA,CAAKA,QAAL,EAEA,CAFgBriF,UAEhB,CAF6BvN,CAE7B,CADA,IAAA,CAAK4vF,QAAL,EAAA,CAAgBtsF,OAAhB,EACA,CAAA,IAAA,CAAKssF,QAAL,EAAA,CAAgB7hF,UAAhB,EAHE,CADiC,CArcL,CA6c7B6iF,qBAAsBA,QAAQ,CAAC5wF,CAAD,CAAQ,CACjC,IAAA,CAAK4vF,QAAL,EAAJ,GACC,IAAA,CAAKA,QAAL,EAEH,CAFmBpiF,cAEnB,CAFoCxN,CAEpC,CADA,IAAA,CAAK4vF,QAAL,EAAA,CAAgBtsF,OAAhB,EACA,CAAA,IAAA,CAAKssF,QAAL,EAAA,CAAgB7hF,UAAhB,EAHE,CADqC,CA7cT,CAqd7BygE,oBAAqBA,QAAQ,CAACrvB,CAAD,CAAc,CACtC,IAAA,CAAKywC,QAAL,EAAJ,GACC,IAAA,CAAKA,QAAL,EAAA,CAAgBrjF,cAAhB,EACA,CAAA,IAAA,CAAKs7D,YAAL,EAAA,CAAoBr7B,SAApB,CAA8B,CAAA,CAA9B,CAFD,CAIH2S;CAAA,CAAYtK,IAAZ,CAAiB,CACbrR,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAIxqB,EAAQ,EACK,SAApB,EAAI,MAAOA,EAAX,GAA8BA,CAA9B,CAAsC,CAACA,CAAD,CAAtC,CACGrC,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS1D,CAAT,CAAgB,CAC1C6jB,CAAA,CAAMplB,IAAN,CAAWiF,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAX,CAD0C,CAAxC,CAEA,IAFA,CAGA,KAAA,CAAKmjE,oBAAL,CAA0Bl9C,CAA1B,CAN+C,CADnC,CASbloB,MAAO,IATM,CAUbkvB,OAAQ,CACPya,MAAO,CADA,CAEPkZ,SAAU,IAAA,CAAK3tB,YAAL,CAAkB,UAAlB,CAFH,CAVK,CAAjB,CAL6C,CArdd,CAgf7BkwC,qBAAsBA,QAAQ,CAACl9C,CAAD,CAAQ,CACjCA,CAAJ,EAAY,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACC,KAAAuL,CAAKpL,SAALoL,EACb,EAAc,IAAA,CAAKgT,SAAL,EAAd,GACC,IAAA,CAAK9b,YAAL,CAAkB,CAACzC,MAAOA,CAAR,CAAlB,CACH,CAAA,IAAA,CAAKm/C,eAAL,EAAA,CAAuB70B,IAAvB,CAA4B,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAA5B,CAFE,CAHqC,CAhfT,CAyfhCuwC,gBAAiBA,QAAQ,EAAG,CAC3B,IAAItjE,EAAQ,EAAZ,CACSzE,CAAT,KAASA,CAAT,GAAiB,KAAjB,CAAsBgnE,WAAtB,CAAkCzmE,YAAlC,CACCkE,CAAA,CAAMW,IAAN,CAAWpF,CAAX,CAED,KAAA,CAAK0nE,oBAAL,CAA0BjjE,CAA1B,CAL2B,CAzfI;AAigB7BmlE,gBAAiBA,QAAQ,EAAG,CAC9B,IAAIjC,EAAS,IAAA,CAAKj9C,WAAL,CAAiB,OAAjB,CACC,GAAd,EAAIi9C,CAAJ,GACCA,CAIA,CAJS,EAIT,CAHA,IAAA,CAAKh9C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC14C,IAAhC,CAAqC,QAAQ,CAAC8d,CAAD,CAAO1d,CAAP,CAAc,CAC1DghE,CAAA,CAAOviE,IAAP,CAAYif,CAAA,CAAKwG,KAAL,EAAZ,CAD0D,CAA3D,CAGA,CAAA,IAAA,CAAKoC,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAlB,CALD,CAOqB,SAArB,EAAI,MAAOA,EAAX,GAA+BA,CAA/B,CAAwC,CAACA,CAAD,CAAxC,CAEA,IAAc,IAAd,EAAIA,CAAJ,CAAoB,CACnB,IAAA,CAAKT,YAAL,CAAoB,IAAA,CAAKv8C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgChb,KAAhC,EACpB,KAAIv5B,EAAQ,IAAA,CAAKw8D,YAAL,CAAkB/7D,QAAlB,EACZ,IAAY,EAAZ,CAAIT,CAAJ,CACC,IAAK,IAAI3H,EAAI,EAAb,CAAiBA,CAAjB,CAAqB2H,CAArB,CAA4B3H,CAAA,EAA5B,CACC,IAAA,CAAKmkE,YAAL,CAAkBrzC,QAAlB,CAA2B,EAA3B,CAGF8zC,EAAA,CAAS,EACT,KAAA,CAAKT,YAAL,CAAkB3d,OAAlB,CAA0B,QAAQ,CAACllD,CAAD,CAAQV,CAAR,CAAa,CAC9CgkE,CAAA,CAAOviE,IAAP,CAAYf,CAAZ,CAD8C,CAA/C,CAEG,IAFH,CAGA,KAAA,CAAK4oB,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAlB,CAZmB,CAApB,IAcC,KAAA,CAAKT,YAAL,CAAoB,IAAA,CAAKv8C,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC8qB,QAAhC,CAAyC,QAAQ,CAACpmE,CAAD;AAAMU,CAAN,CAAa,CACjF,MAAgC,EAAhC,EAAOsjE,CAAA,CAAOvgE,OAAP,CAAe/C,CAAf,CAD0E,CAA9D,CAEjB,IAFiB,CAzBS,CAjgBC,CAiiBhCurF,gBAAiBA,QAAQ,CAACjsF,CAAD,CAAM,CAC9B,IAAIwD,EAAQxD,CAAA,CAAIuyB,aAAJ,EACZ/uB,EAAA,CAAQA,CAAA,CAAMlD,OAAN,CAAc,UAAd,CAA0B,KAA1B,CAER,OAAO,CACN/C,GAAIyC,CAAA,CAAIknB,KAAJ,EADE,CAENlkB,MAAOhD,CAAA,CAAIY,GAAJ,CAAQ,OAAR,CAFD,CAGN4C,MAAOA,CAHD,CAINsqB,YAAa9tB,CAAA,CAAIY,GAAJ,CAAQ,qBAAR,CAJP,CAKNE,MAAO,EALD,CAMNX,WAAY+C,IAAAA,EANN,CAJuB,CAjiBC,CA+iBhCwgE,aAAcA,QAAQ,CAAC2C,CAAD,CAAa,CAE9BhqE,IAAAA,EAAOgqE,CAAA,CAAWzlE,GAAX,CAAe,MAAf,CACX,KAAIsF,EAAUmgE,CAAA,CAAWzlE,GAAX,CAAe,SAAf,CAAd,CACImB,EAAYskE,CAAA,CAAWzlE,GAAX,CAAe,WAAf,CAChB,IAAc,CAAd,CAAIsF,CAAJ,CAAiB,CAChB,IAAIF,EAAQ,IAAA,CAAKypB,cAAL,EAAA,CAAsBC,eAAtB,CAAsCrzB,CAAtC,CACZ,IAA+C,EAA/C,GAAI,IAAA,CAAK8nE,YAAL,EAAA,CAAoBmC,IAApB,CAAyB,MAAzB,CAAiCjqE,CAAjC,CAAJ,CAAmD,CAClD,IAAA,CAAK8nE,YAAL,EAAA,CAAoBpb,QAApB,CAA6B,CAAC,CAAC1sD,CAAD,CAAO2J,CAAP,CAAD,CAA7B,CAA8C,CAAA,CAA9C,CACA,KAAIhD,EAAQ,IAAA,CAAKmhE,YAAL,EAAA,CAAoBmC,IAApB,CAAyB,MAAzB;AAAiCjqE,CAAjC,CACZ,KAAA,CAAKyuB,IAAL,CAAU,YAAV,CAAA,CAAwBxX,MAAxB,CAA+BtQ,CAA/B,CAAsC,CAAA,CAAtC,CAHkD,CAK/C9B,CAAAA,CAAgBmlE,CAAA,CAAWzlE,GAAX,CAAe,eAAf,CACpB+iE,EAAA,CAAU,CAACtnE,KAAMA,CAAP,CAAa0F,UAAWA,CAAxB,CAAmCb,cAAeA,CAAlD,CAAiEgF,QAASA,CAA1E,CAAmFF,MAAOA,CAA1F,CARM,CAAjB,IAUC29D,EAAA,CAAU,CAAA,CAGX,OAAOA,EAlB2B,CA/iBH,CAokBhCopB,iBAAkBA,QAAQ,CAACvzE,CAAD,CAAO,CAChC,IAAA,CAAK2zE,cAAL,CAAoB3zE,CAApB,CACA,KAAI7M,EAAQ6M,CAAR7M,CAAaa,OAAbb,CAAuB,EACf,EAAZ,CAAIA,CAAJ,GAAeA,CAAf,CAAuB,CAAvB,CACA,KAAA,CAAKw/E,cAAL,EAAA,CAAsBh7C,IAAtB,CAA2B,CAC1BxkC,MAAOA,CADmB,CAE1B27B,MAAO,EAFmB,CAA3B,CAKA9uB,EAAA,CAAO,CAACA,CAAD,CAAA,CAAO9I,GAAP,CAAW,QAAQ,CAACgQ,CAAD,CAAO,CAAC,MAAOA,EAAP,CAAYrkB,IAAb,CAA1B,CACP,KAAA,CAAKozB,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,cAApC,CAAoD,IAApD,CAA0DjmB,CAA1D,CAVgC,CApkBD,CAAjC,C,CCDA/c,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCyI,OAAQ,gBAD0B,CAElC7H,OAAQ,CAAC,oBAAD,CAF0B,CAGlC4V,MAAO,gBAH2B,CAIlCqpC,cAAe,CAAA,CAJmB,CAK/B79C,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJ36B,MAAO3jB,IAAAA,EAFH,CAGJxC,MAAOwC,IAAAA,EAHH,CAIJ4D,SAAU5D,IAAAA,EAJN,CAKJ3C,KAAM,QALF,CAMJ6sF,IAAK,MAND,CAOJ9X,UAAW,CAPP,CAQJ+X,UAAW,EARP,CASJC,cAAe,QATX,CAHG,CAcXx3D,MAAO,mBAdI,CALsB,CAqB/Bl7B,OAAQ,CAIPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CAJF,CArBuB,CA2B/BR,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAGA,KAAA,CAAK3F,EAAL,CAAQ,cAAR;AAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACzC,IAAA,CAAKgT,SAAL,EAAJ,GACyC,CAAlC,EAAI,IAAA,CAAK87B,eAAL,CAAqB9uC,CAArB,CAAJ,CACC,IAAA,CAAKwR,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,eAAd,CAAV,CAA0C,iBAA1C,CADD,CAGF,IAAA,CAAK0+C,YAAL,EAJL,CAD6C,CAA9C,CAWIl5E,EAAJ,CAAW4zC,QAAX,EAMS5zC,CANT,CAMgBw3B,MANhB,EAOC,IAAA,CAAKgN,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqCxkC,CAArC,CAA4Cw3B,MAA5C,CAGD,KAAA,CAAK3f,EAAL,CAAQ,oBAAR,CAA8B,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAClD,GAAI,IAAA,CAAK8uB,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,CAAiC,CAC7B,IAAIH,EAAQ,EACZ/lB,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CAC5BwqB,CAAA,CAAMplB,IAAN,CAAWpF,CAAA,CAAKuE,GAAL,CAAS,MAAT,CAAX,CAD4B,CAA7B,CAGA,KAAA,CAAK0oB,YAAL,CAAkB,CACjBzC,MAAOA,CADU,CAEjBnmB,MAAOwC,IAAAA,EAFU,CAGjB4D,SAAU5D,IAAAA,EAHO,CAAlB,CAKI,KAAA,CAAKkiC,SAAL,EAAJ,EACI,IAAA,CAAKxV,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAXyB,CADiB,CAAnD,CAiBA,KAAA,CAAKphB,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CAC1B,IAAA,CAAKmd,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ;AAAkC,IAAA,CAAK8sD,YAAL,EADJ,CAA/B,CAEG,IAFH,CAIA,KAAA,CAAKrhE,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACrC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAK+I,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2B8N,aAA3B,CAAyC,OAAzC,CAAkDxvB,CAAlD,CACA,KAAA,CAAKitD,YAAL,EAHqC,CAAtC,CAIG,IAJH,CAhD6B,CA3BC,CAkF/BA,aAAcA,QAAQ,EAAG,CACpB,IAAA,CAAKlkD,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,EACE,IAAA,CAAK4I,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAFsB,CAlFM,CAwF/BkW,cAAeA,QAAQ,EAAG,CACtB,IAAIpgB,EAAK,IAAT,CAEImN,EAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,wCAAX,CAAqD,CAChE6f,YAAalrB,CADmD,CAArD,CAIZmN,EAAA,CAAMrkB,EAAN,CAAS,YAAT,CAAuB,QAAQ,CAACqkB,CAAD,CAAQ,CACzC,MAAOnN,EAAA,CAAGu3C,eAAH,CAAmBpqC,CAAA,CAAM9P,SAAN,EAAnB,CADkC,CAAvC,CAGA2C,EAAA,CAAGlX,EAAH,CAAM,YAAN,CAAoB,QAAQ,CAAE86E,CAAF,CAAM9lD,CAAN,CAAcuP,CAAd,CAAyB4qB,CAAzB,CAAiC,CAC5D,IAAA,CAAKztC,WAAL,CAAiB,MAAjB;AAAyBsT,CAAzB,CAAgCC,SAAhC,CACA,KAAA,CAAKvT,WAAL,CAAiB,KAAjB,CAAwB6iB,CAAxB,CACItjB,EAAAA,CAAM,IAAA,CAAKG,YAAL,CAAkB,0EAAA,CAAA,KAAA,CAAA,GAAA,CAAlB,CACN4d,EAAAA,CAAQ,IAAA,CAAK7hB,QAAL,EAAA,CAAgB2Y,QAAhB,EACZ,KAAK5nC,IAAIA,CAAT,GAAgB+yB,EAAhB,CAAsB+d,CAAA,CAAM4E,aAAN,CAAoB11C,CAApB,CAAyB+yB,CAAA,CAAI/yB,CAAJ,CAAzB,CALsC,CAA7D,CAMGgpB,CANH,CAQAltB,IAAA,CAAIoE,KAAJ,CAAU8oB,CAAV,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhBysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFK,CAGV0B,MAAQA,CAHE,CAIhBy5B,SAAU9zD,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CAC1Cp3B,UAAW,CACPkqD,gBAAiB,CAChBhqD,GAAIA,QAAQ,CAAC40E,CAAD,CAAK/N,CAAL,CAAiB,CAC5B,IAAI7jE,EAAQ,EACE,KAAA,CAAKimB,WAAL,CAAiB,SAAjB,CACd49C,EAAA,CAAW1vD,OAAX,CAAmB,QAAQ,CAAC9D,CAAD,CAAY,CACtCrQ,CAAA,CAAMW,IAAN,CAAW,GAAX,CAAe0P,CAAA,CAAUk/B,OAAV,EAAf,CAAmC,GAAnC,CADsC,CAAvC,CAGA,KAAA,CAAK5gB,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,cAApC;AAAoD,IAApD,CAA0D3+B,CAA1D,CAN4B,CADb,CAShBnC,MAAO,IATS,CADV,CAD+B,CAA1C,CAJM,CAmBV6xD,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD,CAEJ,CACCA,MAAO,qBADR,CAFI,CAIJ,GAJI,CAIC,CACP2e,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,QAAZ,CADC,CAEPS,QAAS,MAFF,CAGPp4B,MAAO,OAHA,CAJD,CAQJ,CACFA,MAAO,QADL,CAEFskC,SAAU,CAFR,CAGFtK,OAAQ,CAAC,CAAD,CAAI,EAAJ,CAHN,CAIFuK,SAAU,EAJR,CAKFC,UAAW,CALT,CAMF5kC,MAAO,EANL,CAOFw4B,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAPP,CAQFx3B,UAAW,CACV6vD,OAAQ,CACP3vD,GAAIA,QAAQ,CAACwkC,CAAD,CAAS,CACpB,IAAI7K,EAAS6K,CAAA,CAAO5K,SAAP,EACb4K,EAAA,CAAOK,QAAP,CAAgB,CAAhB,CAAmBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAA8B0Q,CAAA,CAAO,CAAP,CAA9B,CAAT,CAAnB,CACA6K,EAAA,CAAOK,QAAP,CAAgB,CAAhB,CAAmBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAA8B0Q,CAAA,CAAO,CAAP,CAA9B,CAAT,CAAnB,CAHoB,CADd;AAMP94B,MAAOgrB,CANA,CADE,CASV8Y,eAAgB,CACf3kC,GAAIA,QAAQ,CAACwkC,CAAD,CAASgtC,CAAT,CAAmB,CAC1B73C,CAAAA,CAAS6K,CAAA,CAAO5K,SAAP,EACb,KAAA,CAAKvD,WAAL,CAAiB,WAAjB,CAA8B1M,QAAA,CAASgQ,CAAA,CAAO,CAAP,CAAT,CAA9B,CACA,KAAA,CAAKtD,WAAL,CAAiB,WAAjB,CAA8B1M,QAAA,CAASgQ,CAAA,CAAO,CAAP,CAAT,CAA9B,CACM,KAAA,CAAK7H,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAJwB,CADhB,CAOZl1B,MAAOgrB,CAPK,CATN,CART,CARI,CAmCJ,CACRlsB,MAAO,wBADC,CAnCI,CAqCV,GArCU,CAqCL,CACEA,MAAO,QADT,CAEE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAHX,CAIEkJ,KAAM,CACLhI,MAAO,CACD,CACC74B,MAAO,eADR,CAEI2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CAFV,CAGIowB,MAAO,SAHX,CAIIvkB,WAAY,MAJhB,CAKIwkB,aAAcA,QAAQ,EAAG,CACxB,IAAA,CAAKtxB,WAAL,CAAiB,eAAjB,CAAkC,MAAlC,CACA,KAAA,CAAKvE,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAFwB,CAL7B;AASIl1B,MAAO,IATX,CADC,CAWE,CACFlB,MAAO,eADL,CAEC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,eAAd,CAFP,CAGCowB,MAAO,SAHR,CAICvkB,WAAY,QAJb,CAKCwkB,aAAcA,QAAQ,EAAG,CACxB,IAAA,CAAKtxB,WAAL,CAAiB,eAAjB,CAAkC,QAAlC,CACA,KAAA,CAAKvE,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAFwB,CAL1B,CASCl1B,MAAO,IATR,CAXF,CAqBE,CACFlB,MAAO,eADL,CAEC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CAFP,CAGCowB,MAAO,SAHR,CAICvkB,WAAY,SAJb,CAKCwkB,aAAcA,QAAQ,EAAG,CACxB,IAAA,CAAKtxB,WAAL,CAAiB,eAAjB,CAAkC,SAAlC,CACA,KAAA,CAAKvE,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAFwB,CAL1B,CASCl1B,MAAO,IATR,CArBF,CADF,CAkCNf,UAAW,CACVC,YAAa,CACZC,GAAIA,QAAQ,CAACwgC,CAAD,CAAO,CAClB,IAAIgvD;AAAgB,IAAA,CAAKvmE,WAAL,CAAiB,eAAjB,CACpBuX,EAAA,CAAKhI,KAAL,CAAW1zB,IAAX,CAAgB,QAAQ,CAAC8d,CAAD,CAAO,CAC1BA,CAAJ,CAAS8kC,KAAT,EACC9kC,CAAA,CAAKskC,UAAL,CAAgBtkC,CAAhB,CAAqBugB,UAArB,EAAiCqsD,CAAjC,CAF6B,CAA/B,CAIG,IAJH,CAFkB,CADP,CASZ3uF,MAAO,IATK,CADH,CAlCL,CAJR,CArCK,CAJG,CAAD,CAnBH,CAmHhBysD,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADG,CAENsS,UAAW,MAFL,CAGH7R,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAHN,CAIA84B,SAAU,CAAA,CAJV,CAKAj3B,KAAM,CALN,CAAD,CAMD,CACP7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADC,CAEJsS,UAAW,SAFP,CAGD7R,QAAS,IAAA,CAAKT,QAAL,CAAc,gBAAd,CAHR,CAIE84B,SAAU,CAAA,CAJZ,CAKE7wD,MAAO,UALT,CANC,CAYD,CACD+e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADL,CAEDsS,UAAW,QAFV,CAGD7R,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAHR,CAID84B,SAAU,CAAA,CAJT,CAKE7wD,MAAO,UALT,CAZC,CAkBD,CACEI,MAAO,cADT,CAEE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAFR;AAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAHX,CAIE/3B,MAAO,GAJT,CAKEqqC,UAAW,eALb,CAME+H,OAAQ,CACJhyC,MAAO,eADH,CANV,CAlBC,CAnHO,CAgJVG,UAAW,CACnB6sE,eAAgBA,QAAQ,EAAG,CAC1B,IAAA,CAAKnhD,YAAL,CAAkB,CAACxiB,SAAU5D,IAAAA,EAAX,CAAsBxC,MAAOwC,IAAAA,EAA7B,CAAlB,CACA,KAAA,CAAK4wE,YAAL,EAF0B,CADR,CAKnBV,kBAAmBA,QAAQ,CAAC3tC,CAAD,CAAMif,CAAN,CAAY,CACtC,IAAIsf,EAAS,EAAb,CACI5xC,EAAS,IAAA,CAAKxC,QAAL,EAAA,CAAgB5I,SAAhB,EACb09B,EAAA,CAAKzvC,OAAL,CAAa,QAAQ,CAACjV,CAAD,CAAM,CAC1BgkE,CAAA,CAAOviE,IAAP,CAAY2wB,CAAA,CAAOnL,WAAP,CAAmBjnB,CAAnB,CAAA,CAAwBknB,KAAxB,EAAZ,CAD0B,CAA3B,CAEG,IAFH,CAGA,KAAA,CAAKoC,YAAL,CAAkB,CAAC5oB,MAAOsjE,CAAR,CAAgBl9D,SAAU5D,IAAAA,EAA1B,CAAlB,CACA,KAAA,CAAK4wE,YAAL,EAPsC,CALpB,CAcVG,aAAc,CACbn2E,GAAIA,QAAQ,CAAC2nC,CAAD,CAAM3kC,CAAN,CAAa,CACrB,GAAI,IAAA,CAAK8uB,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,CAAiC,CAC7B,IAAI62C,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ;AAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHI,CAA7B,CAKwB,EAAxB,CAAIwtB,CAAJ,CAAex+D,MAAf,GACC,IAAA,CAAKiqB,YAAL,CAAkB,CACjBxiB,SAAU5D,IAAAA,EADO,CAEjBxC,MAAOwC,IAAAA,EAFU,CAGjB2jB,MAAOg3C,CAHU,CAAlB,CAMO,CADA,IAAA,CAAKz4B,SAAL,EACA,EAAI,IAAA,CAAKA,SAAL,EAAJ,EACI,IAAA,CAAKxV,QAAL,EAAA,CAAgBgjD,YAAhB,CAA6B,CAAC/kD,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAA7B,CARZ,CAP6B,CADZ,CADZ,CAuBVl1B,MAAO,IAvBG,CAdJ,CAhJD,CAAd,CA0LAgrB,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CAEAuR,EAAA,CAAGiG,QAAH,EAAA,CAAc2Y,QAAd,EAAA,CAAyB8N,aAAzB,CAAuC,mBAAvC,CAA4D,CAAA,CAA5D,CA9MsB,CAxFK,CAAnC,C,CCcA55C,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCyI,OAAQ,gBAD8B,CAEtC7H,OAAQ,CAAC,oBAAD,CAF8B,CAGtC4V,MAAO,oBAH+B,CAInCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CASJ8tB,SAAU,MATN,CAgBJ36B,MAAO3jB,IAAAA,EAhBH,CAyBJsqF,QAAS,GAzBL,CAiCJC,iBAAkBvqF,IAAAA,EAjCd,CAHG,CAsCX4yB,MAAO,mBAtCI,CAJ0B,CA4CnCl7B,OAAQ,CAIPunE,QAAS,CAAC,CACT1kE,MAAO,gBADE,CAAD,CAEP,CAACA,MAAO,kBAAR,CAFO,CAEqB,CAC7BA,MAAO,gBADsB,CAE7Bse,KAAM,kBAFuB,CAG7B0a,WAAY,mBAHiB,CAFrB,CAJF,CA5C2B,CA2DnCx5B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAChC,IAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACM,KAAA,CAAKujB,UAAL,CAAgBvjB,SAAhB,CACH;IAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAH6B,CA3DK,CAkEnC2xB,cAAeA,QAAQ,EAAG,CACtB,IAAIpgB,EAAK,IAAT,CAEImN,EAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,uCAAX,CAAoD,CAC/D6f,YAAa,IADkD,CAE/DpD,MAAO,CACNC,YAAa,CACZiF,kBAAmB,UADP,CAEZd,QAAS,aAFG,CADP,CAFwD,CAApD,CAUZp5C,IAAA,CAAIoE,KAAJ,CAAU8oB,CAAV,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhBysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFK,CAGV0B,MAAQA,CAHE,CAIhBy5B,SAAU9zD,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CAC1C04D,aAAc,CAAA,CAD4B,CAE1C9vF,UAAW,CACPkqD,gBAAiB,CAChBhqD,GAAIA,QAAQ,CAAC40E,CAAD,CAAK/N,CAAL,CAAiB,CACxBA,CAAJ,EAAoC,CAApC,CAAkBA,CAAlB,CAA6BtlE,MAA7B,EACI,IAAA,CAAKowB,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,oBAApC;AAA0D,IAA1D,CAAgEklC,CAAhE,CAFwB,CADb,CAMhBhmE,MAAO,IANS,CADV,CAF+B,CAY1CmvC,KAAM,QAZoC,CAA1C,CAJM,CAkBV0iB,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD,CAEJ,CACCA,MAAO,qBADR,CAFI,CAJG,CAAD,CAlBH,CA6BVuyD,QAAS,CAAC,CACNC,MAAO,aADD,CAEN0iB,WAAY,IAAIl2E,GAAJ,CAAQ4gD,SAAR,CAAkB,EAAlB,CAFN,CAAD,CA7BC,CAiCV0S,WAAY,CACRnyD,UAAW,CAEP+vF,WAAYA,QAAQ,CAACha,CAAD,CAAUjtE,CAAV,CAAkBusE,CAAlB,CAA6BrR,CAA7B,CAAoC,CACpD,CAA4B,EAA5B,GAAIqR,CAAJ,CAAcW,WAAd,EAAmChS,CAAnC,EAA4CA,CAA5C,CAAkD/K,KAAlD,GACIp6D,GAAA,CAAIu4B,MAAJ,CAAW,iCAAX,CAA8C,CAC1CtuB,OAAQA,CADkC,CAE1Cq3B,OAAQ,CAAA,CAFkC,CAG1C2xC,SAAUuD,CAAA,CAAUpxC,aAAV,CAAwB,KAAxB,CAHgC,CAA9C,CAFgD,CAFjD,CAWPljC,MAAO,IAXA,CADH,CAjCF,CAiDhBysD,QAAS,CAAC,CACA3tD,MAAO,aADP,CAEAJ,MAAO,UAFP,CAGA6wD,SAAU,CAAA,CAHV,CAAD,CAID,CACP9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADC;AAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAFR,CAGJsS,UAAW,MAHP,CAIJzQ,KAAM,CAJF,CAKEi3B,SAAU,CAAA,CALZ,CAJC,CAUD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAFR,CAGDsS,UAAW,SAHV,CAIErqC,MAAO,UAJT,CAKD6wD,SAAU,CAAA,CALT,CAVC,CAgBD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,iBAAd,CAFR,CAGDsS,UAAW,cAHV,CAID+iB,SAAUA,QAAQ,CAACp/B,CAAD,CAAM,CAEvB,MAAO5uB,IAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAA2B,GAA3B,CAAuBlyB,CAAvB,CAAoC,OAApC,CAFgB,CAJvB,CASEhuB,MAAO,UATT,CAUEsH,OAAQ,CAAA,CAVV,CAWDupD,SAAU,CAAA,CAXT,CAhBC,CA4BD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,oBAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,uBAAd,CAFR,CAGDsS,UAAW,oBAHV;AAID+iB,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,SAA/B,CAJT,CAKEvwF,MAAO,UALT,CAMEsH,OAAQ,CAAA,CANV,CAODupD,SAAU,CAAA,CAPT,CA5BC,CAoCD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,kBAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,qBAAd,CAFR,CAGDsS,UAAW,kBAHV,CAID+iB,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,SAA/B,CAJT,CAKEvwF,MAAO,UALT,CAMEsH,OAAQ,CAAA,CANV,CAODupD,SAAU,CAAA,CAPT,CApCC,CA4CD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,4BAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,+BAAd,CAFR,CAGDsS,UAAW,kCAHV,CAID+iB,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,aAA/B,CAJT;AAKEvwF,MAAO,UALT,CAMEsH,OAAQ,CAAC,IAAA,CAAKoiB,WAAL,CAAiB,kBAAjB,CANX,CAODmnC,SAAU,CAAA,CAPT,CAQDtwD,UAAW,CACVqgB,KAAMA,QAAQ,CAACsvE,CAAD,CAAK9lD,CAAL,CAAaomD,CAAb,CAAoB,CAC5BlkE,CAAA,CAAG5C,WAAH,CAAe,kBAAf,CAAL,EACC4C,CAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,oBAAZ,CAAb,CAFgC,CADxB,CARV,CA5CC,CA2DD,CACE33B,MAAO,cADT,CAEE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAHX,CAIE6B,KAAM,CAJR,CAKEyQ,UAAW,eALb,CAME+H,OAAQ,CACJhyC,MAAO,eADH,CAEJqwF,OAAQ,IAAIrxF,GAAJ,CAAQ4gD,SAAR,CAAkB,8CAAlB,CAAkE,CACzE0wC,iBAAkBA,QAAQ,CAACjnF,CAAD,CAAW6nD,CAAX,CAAyB,CAClD,MAAO,KAAA,CAAK9vB,KAAL,CAAW/H,KAAX,CAAiB9P,SAAjB,EAAA,CAA6BC,WAA7B,CAAyCngB,CAAzC,CAAA,CAAmDirC,QAAnD,EAAP;AAAqE,MAArE,CAA4E,IAAA,CAAKlT,KAAL,CAAWzJ,QAAX,CAAoB,mBAApB,CAA5E,CAAqH,GAArH,CAAyH34B,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAoC,GAApC,CAAuBoR,CAAvB,CAA6C,OAA7C,CADvE,CADsB,CAIzE9vB,MAAOlV,CAJkE,CAAlE,CAFJ,CANV,CA3DC,CAjDO,CAAd,CA8HHA,EAAA,CAAGlX,EAAH,CAAM,cAAN,CAAsB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAEZ,GAA/B,CAAIA,CAAA,CAAOC,iBAAP,EAAJ,EACC,IAAA,CAAKzC,QAAL,EAAA,CAAgB2Y,QAAhB,EAAA,CAA2B8N,aAA3B,CAAyC,MAAzC,CAAiD,IAAA,CAAKtvB,WAAL,CAAiB,SAAjB,CAAjD,CAEG,KAAA,CAAKqe,SAAL,EAAJ,EACI,IAAA,CAAKxV,QAAL,EAAA,CAAgBuhB,IAAhB,EANuC,CAA5C,CAQGxnB,CARH,CAUAA,EAAA,CAAGlX,EAAH,CAAM,UAAN,CAAkB,QAAQ,EAAG,CACxBkX,CAAA,CAAGiG,QAAH,EAAA,CAAc5I,SAAd,EAAJ,EACC2C,CAAA,CAAGiG,QAAH,EAAA,CAAcuhB,IAAd,CAAmB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAAnB,CAF2B,CAA7B,CAIGlK,CAJH,CAOAA,EAAA,CAAGlX,EAAH,CAAM,OAAN,CAAe,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACnC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAK+I,QAAL,EAAA,CAAgBkZ,SAAhB,EACA,KAAA,CAAKlZ,QAAL,EAAA,CAAgBuhB,IAAhB,EAHmC,CAApC;AAIGxnB,CAJH,CAOGA,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CAnKsB,CAlES,CAAvC,C,CCdA3b,GAAA,CAAIk2B,MAAJ,CAAW,4BAAX,CAAyC,CACxCyI,OAAQ,gBADgC,CAExC7H,OAAQ,CAAC,oBAAD,CAFgC,CAGxCsK,SAAU,CAAC,iCAAD,CAH8B,CAIxCsL,MAAO,sBAJiC,CAKxCvuC,OAAQ,CACPunE,QAAS,CAAC,CACN1kE,MAAO,gBADD,CAAD,CAEJ,CAACA,MAAO,kBAAR,CAFI,CADF,CALgC,CAUrCk3B,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJ36B,MAAO3jB,IAAAA,EAFH,CAGJxC,MAAOwC,IAAAA,EAHH,CAIJ4D,SAAU5D,IAAAA,EAJN,CAKJjC,KAAM,EALF,CAHG,CAUX60B,MAAO,mBAVI,CAV4B,CAsBrC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAGA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD;AAAMrT,CAAN,CAAc,CACzC0E,CAAAA,CAAQ,IAAA,CAAKlH,QAAL,EACZkH,EAAA,CAAMif,SAAN,CAAgB3jB,CAAhB,CACI,KAAA,CAAKgT,SAAL,EAAJ,EACItO,CAAA,CAAMqa,IAAN,EAJyC,CAA9C,CAQA,IAAIv2C,CAAJ,CAAW4zC,QAAX,CAAqB,CAChBviC,MAAJ,CAAW+hC,OAAX,EACCA,OAAA,CAAQ0hB,IAAR,CAAa90D,CAAb,CAAoB4zC,QAApB,CAA6B1b,IAA7B,CAED,KAAIgwB,EAAMrmD,GAAA,CAAIm3B,QAAJ,CAAah5B,CAAb,CAAoB4zC,QAApB,CAAA,CAA8B7N,OAA9B,EACD,kCAAT,EAAImiB,CAAJ,EAAmD,4BAAnD,EAA8CA,CAA9C,EACC,IAAA,CAAK1jB,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqCxkC,CAAA,CAAO4zC,QAAP,CAAgBxnB,SAAhB,EAArC,CANmB,CAArB,IASSpsB,EAAJ,CAAWw3B,MAAX,EACJ,IAAA,CAAKgN,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqCxkC,CAArC,CAA4Cw3B,MAA5C,CAGD,KAAA,CAAK3f,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACrC,IAAA,CAAKuY,SAAL,CAAe,oBAAf,CAAqCqG,CAArC,CAA0C5e,CAA1C,CADqC,CAAtC,CAEG,IAFH,CAIA,KAAA,CAAKpU,EAAL,CAAQ,oBAAR,CAA8B,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAClD,GAAI,IAAA,CAAK8uB,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,CAAiC,CAC7B,IAAIH;AAAQ,EACZ/lB,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CAC5BwqB,CAAA,CAAMplB,IAAN,CAAWhF,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAA,CAAqBA,CAArB,CAA4BA,CAAA,CAAKuE,GAAL,CAAS,MAAT,CAAvC,CAD4B,CAA7B,CAGA,KAAA,CAAK0oB,YAAL,CAAkB,CACjBzC,MAAOA,CADU,CAEjBnmB,MAAOwC,IAAAA,EAFU,CAGjB4D,SAAU5D,IAAAA,EAHO,CAAlB,CAKI,KAAA,CAAKkiC,SAAL,EAAJ,EACI,IAAA,CAAKxV,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAXyB,CADiB,CAAnD,CAiBA,KAAA,CAAKphB,EAAL,CAAQ,kBAAR,CAA4B,QAAQ,CAACgzB,CAAD,CAAMsuC,CAAN,CAAiB,CACpD,IAAI/P,EAAS,EACb+P,EAAA,CAAU9+D,OAAV,CAAkB,QAAQ,CAACjV,CAAD,CAAM,CAACgkE,CAAA,CAAOviE,IAAP,CAAYzB,CAAA,CAAIY,GAAJ,CAAQ,IAAR,CAAZ,CAAD,CAAhC,CACA,KAAA,CAAK0oB,YAAL,CAAkB,CACjB5oB,MAAOsjE,CADU,CAEjBn9C,MAAO3jB,IAAAA,EAFU,CAAlB,CAII,KAAA,CAAKkiC,SAAL,EAAJ,EACI,IAAA,CAAKxV,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CARgD,CAArD,CAYA,KAAA,CAAKphB,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CAC1B,IAAA,CAAKmd,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,EACC,IAAA,CAAK4I,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAF6B,CAA/B;AAIG,IAJH,CA5D6B,CAtBO,CAyFrCkW,cAAeA,QAAQ,EAAG,CAGtB,IAAIjT,EAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,yCAAX,CAAsD,CAAC6f,YAAa,IAAd,CAAtD,CAEZp4C,IAAA,CAAIoE,KAAJ,CAJS8oB,IAIT,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhBysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFK,CAGV0B,MAAQA,CAHE,CAIhBy5B,SAAU9zD,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CAC1Cp3B,UAAW,CACPkqD,gBAAiB,CAChBhqD,GAAIA,QAAQ,CAAC40E,CAAD,CAAK/N,CAAL,CAAiB,CAC5B,IAAA,CAAKl1C,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,sBAApC,CAA4D,IAA5D,CAAkEklC,CAAlE,CAD4B,CADb,CAIhBhmE,MAAO,IAJS,CADV,CAD+B,CAS1C+uF,aAAc,CAAA,CAT4B,CAUnD5/C,KAAM,QAV6C,CAA1C,CAJM,CAgBV0iB,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD;AAEJ,CACCA,MAAO,qBADR,CAFI,CAIL,CACPA,MAAO,wBADA,CAJK,CAJG,CAAD,CAhBH,CA4BhB2tD,QAAS,CAAC,CACThvC,KAAM,GADG,CAET/e,MAAO,EAFE,CAGNqqC,UAAW,UAHL,CAIAwmB,SAAU,CAAA,CAJV,CAKAzD,SAAUA,QAAQ,CAAC/f,CAAD,CAAI,CAAC,MAAOA,EAAP,CAAS,CAAV,CALtB,CAAD,CAMD,CACPtuB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADC,CAEJsS,UAAW,MAFP,CAGD7R,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAHR,CAIE84B,SAAU,CAAA,CAJZ,CAKEj3B,KAAM,CALR,CANC,CAYD,CACD7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADL,CAEDsS,UAAW,SAFV,CAGD7R,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAHR,CAID/3B,MAAO,UAJN,CAKD6wD,SAAU,CAAA,CALT,CAZC,CAkBD,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,iBAAd,CAFR,CAGDsS,UAAW,cAHV,CAIDrqC,MAAO,UAJN,CAKD6wD,SAAU,CAAA,CALT;AAMDzD,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,OAA/B,CANT,CAlBC,CAyBD,CACDxxE,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAFR,CAGDsS,UAAW,OAHV,CAIDrqC,MAAO,UAJN,CAKD6wD,SAAU,CAAA,CALT,CAMDvpD,OAAQ,CAAA,CANP,CAOD8lD,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,WAA/B,CAPT,CAzBC,CAiCD,CACDxxE,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAFR,CAGDsS,UAAW,QAHV,CAIDrqC,MAAO,UAJN,CAKD6wD,SAAU,CAAA,CALT,CAMDvpD,OAAQ,CAAA,CANP,CAOD8lD,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,WAA/B,CAPT,CAjCC,CAyCD,CACEnwF,MAAO,cADT,CAEE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAHX,CAIE6B,KAAM,CAJR,CAKEyQ,UAAW,eALb;AAME+H,OAAQ,CACJhyC,MAAO,eADH,CANV,CAzCC,CA5BO,CAgFVG,UAAW,CACVq2E,aAAc,CACbn2E,GAAIA,QAAQ,CAAC2nC,CAAD,CAAM3kC,CAAN,CAAa,CACrB,GAAI,IAAA,CAAK8uB,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,CAAiC,CAC7B,IAAI62C,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ,CAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHI,CAA7B,CAKwB,EAAxB,CAAIwtB,CAAJ,CAAex+D,MAAf,GACC,IAAA,CAAKiqB,YAAL,CAAkB,CACjBxiB,SAAU5D,IAAAA,EADO,CAEjBxC,MAAOwC,IAAAA,EAFU,CAGjB2jB,MAAOg3C,CAHU,CAAlB,CAMO,CADA,IAAA,CAAKz4B,SAAL,EACA,EAAI,IAAA,CAAKA,SAAL,EAAJ,EACI,IAAA,CAAKxV,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CARZ,CAP6B,CADZ,CADZ,CAuBVl1B,MAAO,IAvBG,CADJ,CAhFD,CAAd,CAJSgrB,KAiHT,CAAGgS,UAAH,CAAcvjB,SAAd,CAjHSuR,KAmHT,CAAGiG,QAAH,EAAA,CAAc2Y,QAAd,EAAA,CAAyB8N,aAAzB,CAAuC,mBAAvC,CAA4D,CAAA,CAA5D,CApHsB,CAzFW,CAAzC,C,CCAA55C,GAAA,CAAIk2B,MAAJ,CAAW,wBAAX,CAAqC,CACpCyI,OAAQ,gBAD4B,CAEpC7H,OAAQ,CAAC,oBAAD,CAAsB,0BAAtB,CAF4B,CAGpC4V,MAAO,kBAH6B,CAIpCqpC,cAAe,CAAA,CAJqB,CAKjC79C,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ7M,MAAO3jB,IAAAA,EADH,CAEJ4D,SAAU5D,IAAAA,EAFN,CAGJxC,MAAOwC,IAAAA,EAHH,CAHG,CAQX4yB,MAAO,mBARI,CALwB,CAgBjCk4D,aAAc,SAhBmB,CAiBjCC,YAAa,QAjBoB,CAkBjCrzF,OAAQ,CACPunE,QAAS,CAAC,CACT1kE,MAAO,gBADE,CAAD,CAGL,CAACA,MAAO,kBAAR,CAHK,CADF,CAMPqwC,KAAM,IAANA,CAAWmgD,WANJ,CAlByB,CA2BjChxF,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE7B,IAAIk8B,EAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CAClDu7B,SAAU,CAACm9B,aAAc,CAAA,CAAf,CADwC,CAElDj8C,MAAO,CACNC,YAAa,CACZmE,QAAS,WADG,CADP,CAF2C,CAA1C,CAAZ;AASIq4C,EAAmB,CAAC,CACjBzwF,MAAO,kBADU,CAAD,CAEjB,CACCA,MAAO,qBADR,CAFiB,CATvB,CAeIksB,EAAK,IAEJ/uB,EAAL,EAAeA,CAAf,CAAsBkzC,IAAtB,EAA4B,IAA5B,CAAiCkgD,YAAjC,EACCE,CAAA,CAAiBzsF,IAAjB,CAAsB,CACf2a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADS,CAEfS,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAFM,CAGrBU,MAAO,mBAHc,CAIrBn3B,MAAO,IAJc,CAKrBwjC,OAAQ,cALa,CAMfpM,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACZz6B,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACtCxxB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAD+B,CAEtCiB,MAAO,CAAA,CAF+B,CAGtCh5B,MAAO,KAH+B,CAItC6kD,SAAU,GAJ4B,CAKtCmyB,UAAW,GAL2B,CAMtCl3E,OAAQ,KAN8B,CAOtCshD,OAAQ,KAP8B,CAQtC0T,MAAO,CAAA,CAR+B,CAStCx0D,OAAQ,CAAA,CAT8B,CAUtC24B,MAAO,CACN74B,MAAO,WADD,CAENqwC,KAAM,IAANA,CAAWkgD,YAFL,CAGN57D,OAAQ,IAAA,CAAKxC,QAAL,EAAA,CAAgB5I,SAAhB,EAHF,CAIN+W,OAAQ,CAAA,CAJF,CAKNgyB,WAAY,CACLC,QAAQ,CACJC,MAAM,kBADF,CADH;AAILryD,UAAW,CACVi1D,WAAYA,QAAQ,CAACxhD,CAAD,CAAOmI,CAAP,CAAa20E,CAAb,CAAwBC,CAAxB,CAAsCC,CAAtC,CAAoD,CACvE,MAAI,KAAA,CAAKz+D,QAAL,EAAA,CAAgBpoB,QAAhB,EAAJ,CAA+B,IAAA,CAAKooB,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BqL,iBAA5B,EAA/B,EACKwM,CAOG,CAPK,IAAA,CAAK1H,EAAL,CAAQ,OAAR,CAOL,CANV16B,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAOq7B,CAAA,CAAMzJ,QAAN,CAAe,OAAf,CADE,CAET0G,QAAS+C,CAAA,CAAMzJ,QAAN,CAAe,sBAAf,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJL,CAAb,CAMU,CAAA,CAAA,CARR,EAUO,CAAA,CAXgE,CAD9D,CAJN,CALN,CAV+B,CAoCtCxF,QAAS,CAAC,CACT3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,KAAd,CADG,CAETS,QAAS,IAAA,CAAKT,QAAL,CAAc,QAAd,CAFA,CAGTU,MAAO,mBAHE,CAITC,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EACA36B,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC/B+I,OAAQ,CAAA,CADuB,CAEtB1H,MAAO,CAAA,CAFe,CAGtBooB,OAAQ,KAHc,CAItBnoB,MAAO,CACN74B,MAAO,eADD;AAEN20B,OAAQ,IAAA,CAAKxC,QAAL,EAAA,CAAgB5I,SAAhB,EAFF,CAJe,CAAhC,CAAA,CAQS/I,IART,EAFsB,CAJd,CAgBTtf,MAAO,IAhBE,CAAD,CAiBN,CACFyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADJ,CAEFS,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAFP,CAGFU,MAAO,mBAHL,CAIFnxB,OAAyD,CAAzDA,EAAQ,IAAA,CAAKirB,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BqL,iBAA5B,EAJN,CAKF0D,QAAS,IAATA,CAAcu4D,wBALZ,CAMFnsD,OAAQ,QANN,CAOFxjC,MAAO,IAPL,CAjBM,CAyBN,CACFyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADJ,CAEFS,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAFP,CAGFU,MAAO,mBAHL,CAIFnxB,OAAyD,CAAzDA,EAAQ,IAAA,CAAKirB,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BqL,iBAA5B,EAJN,CAKF0D,QAAS,IAATA,CAAcu4D,wBALZ,CAMFnsD,OAAQ,MANN,CAOFxjC,MAAO,IAPL,CAzBM,CAiCN,CACFyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADJ;AAEFS,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAFP,CAGFU,MAAO,mBAHL,CAIFnxB,OAAyD,CAAzDA,EAAQ,IAAA,CAAKirB,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BqL,iBAA5B,EAJN,CAKF0D,QAAS,IAATA,CAAcu4D,wBALZ,CAMFnsD,OAAQ,SANN,CAOFxjC,MAAO,IAPL,CAjCM,CAyCP,CACEyd,KAAM,QADR,CAED0Z,MAAO,mBAFN,CAGEC,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CAHzB,CAzCO,CApC6B,CAAhC,CAAA,CAoFPnZ,IApFO,EADY,CANR,CAAtB,CA8FG,CACF7B,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADJ,CAEFU,MAAO,mBAFL,CAGFqM,OAAQ,gBAHN,CAIFpM,QAASA,QAAQ,EAAG,CACnBpM,CAAA,CAAGmhB,oBAAH,CAAwBnhB,CAAA,CAAGiG,QAAH,EAAA,CAAc5I,SAAd,EAAA,CAA0BE,KAA1B,EAAxB,CADmB,CAJlB,CA9FH,CAwGDzqB,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFI;AAGfg2B,QAAQ,CACL,CACC3tD,MAAO,aADR,CAEKgtD,SAAUA,QAAQ,CAACnuD,CAAD,CAAQ0lE,CAAR,CAAkBt7D,CAAlB,CAA0B,CAAC,MAAOA,EAAA,CAAOirC,QAAP,EAAP,CAAyB,CAA1B,CAFjD,CAGKuc,SAAU,CAAA,CAHf,CADK,CAKF,CACE9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,eAAd,CADR,CAEEsS,UAAW,OAFb,CAGEwmB,SAAU,CAAA,CAHZ,CAIEzD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM8vB,CAAN,CAAgBz0C,CAAhB,CAAwB,CAAC,MAAOA,EAAA,CAAOqrC,QAAP,EAAR,CAJ5C,CAKE9a,KAAM,CALR,CALE,CAWF,CACE7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADR,CAEEsS,UAAW,QAFb,CAGEwmB,SAAU,CAAA,CAHZ,CAIEvpD,OAAQ,CAAA,CAJV,CAKE8lD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM8vB,CAAN,CAAgBz0C,CAAhB,CAAwB,CAAC,MAAOA,EAAA,CAAOorC,SAAP,EAAR,CAL5C,CAME7a,KAAM,CANR,CAXE,CAkBF,CACE7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CADR,CAEEsS,UAAW,SAFb,CAGEwmB,SAAU,CAAA,CAHZ,CAIEvpD,OAAQ,CAAA,CAJV,CAKE8lD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM8vB,CAAN,CAAgBz0C,CAAhB,CAAwB,CAAC,MAAOA,EAAA,CAAO6rC,UAAP,EAAR,CAL5C,CAMEtb,KAAM,CANR,CAlBE,CAyBF,CACE7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,mBAAd,CADR;AAEEsS,UAAW,WAFb,CAGEwmB,SAAU,CAAA,CAHZ,CAIEvpD,OAAQ,CAAA,CAJV,CAKE8lD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM8vB,CAAN,CAAgBz0C,CAAhB,CAAwB,CAAC,MAAOA,EAAA,CAAO8rC,YAAP,EAAR,CAL5C,CAMEvb,KAAM,CANR,CAzBE,CAgCF,CACE7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,kBAAd,CADR,CAEEsS,UAAW,UAFb,CAGEwmB,SAAU,CAAA,CAHZ,CAIEvpD,OAAQ,CAAA,CAJV,CAKE8lD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM8vB,CAAN,CAAgBz0C,CAAhB,CAAwB,CAAC,MAAOA,EAAA,CAAO+rC,WAAP,EAAR,CAL5C,CAMExb,KAAM,CANR,CAhCE,CAuCF,CACE7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CADR,CAEEsS,UAAW,SAFb,CAGEwmB,SAAU,CAAA,CAHZ,CAIEvpD,OAAQ,CAAA,CAJV,CAKE8lD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM8vB,CAAN,CAAgBz0C,CAAhB,CAAwB,CAAC,MAAOA,EAAA,CAAO4pC,UAAP,EAAR,CAL5C,CAMErZ,KAAM,CANR,CAvCE,CA8CF,CACE7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,oBAAd,CADR,CAEEsS,UAAW,YAFb,CAGEwmB,SAAU,CAAA,CAHZ,CAIEvpD,OAAQ,CAAA,CAJV,CAKE8lD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM8vB,CAAN,CAAgBz0C,CAAhB,CAAwB,CAAC,MAAOA,EAAA,CAAOisC,aAAP,EAAR,CAL5C;AAME1b,KAAM,CANR,CA9CE,CAqDF,CACE7a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,oBAAd,CADR,CAEEsS,UAAW,qBAFb,CAGE+iB,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,OAA/B,CAHZ,CAIE1/B,SAAU,CAAA,CAJZ,CAKE7wD,MAAO,UALT,CArDE,CA2DF,CACE+e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,mBAAd,CADR,CAEEsS,UAAW,oBAFb,CAGE+iB,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,OAA/B,CAHZ,CAIEvwF,MAAO,UAJT,CA3DE,CAgEF,CACE+e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,uBAAd,CADR,CAEEsS,UAAW,wBAFb,CAGE+iB,SAAUA,QAAQ,CAACp/B,CAAD,CAAM,CAAC,MAAO5uB,IAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBixC,OAAhB,CAAwBljE,CAAxB,CAAR,CAH1B,CAIEhuB,MAAO,UAJT,CAhEE,CAqEF,CACE+e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,yBAAd,CADR;AAEEsS,UAAW,yBAFb,CAGE+iB,SAAUhuD,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBswC,cAAhB,CAA+B,SAA/B,CAHZ,CAIE/3D,QAAS,IAAA,CAAKT,QAAL,CAAc,4BAAd,CAJX,CAKE/3B,MAAO,UALT,CArEE,CA2EF,CACE+e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADR,CAEEsS,UAAW,UAFb,CAGE/iC,OAAQ,CAAA,CAHV,CAIE8lD,SAAUA,QAAQ,CAACp/B,CAAD,CAAM22C,CAAN,CAAgBt7D,CAAhB,CAAwB0tD,CAAxB,CAAkC+e,CAAlC,CAA4Cr8C,CAA5C,CAAmDiQ,CAAnD,CAAyD,CAAC,MAAOA,EAAA,CAAK+4C,OAAL,CAAa5qD,WAAb,CAAyB7J,CAAzB,CAAR,CAJ7E,CAKEhuB,MAAO,UALT,CA3EE,CAHO,CAuFZy5B,MAAOA,CAvFK,CAyFfy5B,SAAU,CACT5pD,KAAM,UADG,CAETmnC,KAAM,OAFG,CAGAlwC,UAAW,CACPkqD,gBAAiB,CAChBhqD,GAAIA,QAAQ,CAAC40E,CAAD,CAAK/N,CAAL,CAAiB,CAC5B,IAAA,CAAKl1C,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,kBAApC,CAAwD,IAAxD,CAA8DklC,CAA9D,CAA0E,IAAA,CAAK/0C,QAAL,EAAA,CAAgB5I,SAAhB,EAA1E,CAD4B,CADb,CAIhBroB,MAAO,IAJS,CADV,CAHX,CAzFK;AAsGT6xD,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO43D,CAJG,CAAD,CAtGJ,CAAhB,CA8GG,KAAA,CAAKvyD,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAGA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAE7C,IAAA,CAAK0E,KAAL,CAAWif,SAAX,CAAqB3jB,CAArB,CAEA,IAAI,IAAA,CAAKgT,SAAL,EAAJ,CACI,IAAA,CAAKtO,KAAL,CAAWqa,IAAX,CAAgB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAAhB,CADJ,KAGC,KAAA,CAAKphB,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CAC3B,IAAA,CAAKqkB,KAAL,CAAWqa,IAAX,CAAgB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAAhB,CAD2B,CAAlC,CAEG,IAFH,CAIiC,EAAlC,EAAI,IAAA,CAAKqtC,eAAL,CAAqB9uC,CAArB,CAAJ,GACC,IAAA,CAAKnJ,SAAL,CAAe,cAAf,CAAA,CAA+BmX,IAA/B,EACA,CAAA,IAAA,CAAKnX,SAAL,CAAe,gBAAf,CAAA,CAAiCmX,IAAjC,EAFD,CAX6C,CAA9C,CAsCA;IAAA,CAAK3tB,EAAL,CAAQ,UAAR,CAAoB,QAAQ,EAAG,CAC1B,IAAA,CAAKmd,QAAL,EAAA,CAAgB5I,SAAhB,EAAJ,EACC,IAAA,CAAK4I,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAArB,CAF6B,CAA/B,CAIG,IAJH,CAOA,KAAA,CAAKphB,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACrC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAKiQ,KAAL,CAAWqa,IAAX,CAAgB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAAhB,CAFqC,CAAtC,CAKIj5B,EAAJ,CAAW4zC,QAAX,GACmD,0BAA/C,EAAI/xC,GAAA,CAAIm3B,QAAJ,CAAah5B,CAAb,CAAoB4zC,QAApB,CAAA,CAA8B7N,OAA9B,EAAJ,CACC/lC,CADD,CACQw3B,MADR,CACiBx3B,CADjB,CACwB4zC,QADxB,CAGoD,6BAHpD,EAGS/xC,GAAA,CAAIm3B,QAAJ,CAAah5B,CAAb,CAAoB4zC,QAApB,CAAA,CAA8B7N,OAA9B,EAHT,GAIC,IAAA,CAAK7J,KAAL,CAAWk0C,UAAX,CAAsBpwE,CAAA,CAAO4zC,QAAP,CAAgB0K,OAAhB,EAAtB,CACA,CAAAt+C,CAAA,CAAOw3B,MAAP,CAAgBx3B,CAAA,CAAO4zC,QAAP,CAAgBxnB,SAAhB,EALjB,CADJ,CAYIpsB,EAAJ,CAAWw3B,MAAX,EACC,IAAA,CAAKgN,SAAL,CAAe,cAAf;AAA+B,IAA/B,CAAqCxkC,CAArC,CAA4Cw3B,MAA5C,CA7S4B,CA3BG,CA4UjCk8D,yBAA0BA,QAAQ,CAACp3D,CAAD,CAAM,CAE1C,IAAI2H,EAAQ3H,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBrM,IAAjB,CAAsB,WAAtB,CAAZ,CACI3Z,EAAY0tB,CAAA,CAAM2oB,YAAN,EADhB,CAEI9C,EAAO7lB,CAAA,CAAMjP,QAAN,EAAA,CAAiB5I,SAAjB,EAAA,CAA6BqL,iBAA7B,EAFX,CAGIm8D,EAAUt3D,CAAA,CAAIsmD,SAAJ,EAEd,IAAa,SAAb,EAAIgR,CAAJ,CAAwB,CACvB,GAAI3vD,CAAA,CAAMjP,QAAN,EAAA,CAAiBpoB,QAAjB,EAAJ,CAAgCk9C,CAAhC,CACC,MAAOjoD,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CAChBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,sBAAd,CAFO,CAGhB2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHD,CAIhBC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJE,CAAb,CAQPz1B,SAAA,CAAW,EACX+3B,EAAA,CAAMjP,QAAN,EAAA,CAAiBhtB,IAAjB,CAAsB,QAAQ,CAAC5C,CAAD,CAAM,CACnC8G,QAAA,CAASrF,IAAT,CAAczB,CAAA,CAAI2xC,QAAJ,EAAd,CADmC,CAApC,CAEM,IAFN,CAGA,KAASvyC,CAAT,CAAW,CAAX,CAAcA,CAAd,CAAgB0H,QAAhB,CAAyBzH,MAAzB,CAAiCD,CAAA,EAAjC,CACC,GAAI0H,QAAA,CAAS1H,CAAT,CAAW,CAAX,CAAJ,CAAkB0H,QAAA,CAAS1H,CAAT,CAAlB,CACC,MAAO3C,IAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgBxJ,CAAA,CAAMzJ,QAAN,CAAe,WAAf,CAAhB;AAA6C,CAAA,IAAI34B,GAAJ,CAAQ2lC,QAAR,CAAiBvD,CAAA,CAAMzJ,QAAN,CAAeo5D,CAAf,CAAuB,WAAvB,CAAjB,CAAA,EAAsD/T,aAAtD,CAAoE,CAACtpE,CAAD,CAAW9R,MAAX,CAApE,CAA7C,CAAsI,QAAQ,CAACovF,CAAD,CAAY,CAC/I,KAAjB,GAAIA,CAAJ,GACC3nF,QAMA,CANW,EAMX,CALA,IAAA,CAAK8oB,QAAL,EAAA,CAAgBhtB,IAAhB,CAAqB,QAAQ,CAAC5C,CAAD,CAAM,CAClC8G,QAAA,CAASrF,IAAT,CAAczB,CAAA,CAAI2xC,QAAJ,EAAd,CADkC,CAAnC,CAEM,IAFN,CAKA,CAFI9jB,CAEJ,CAFa,CAAC/mB,SAAUA,QAAX,CAEb,CADA+mB,CAAA,CAAO2gE,CAAP,CAAe,WAAf,CACA,CAD8B,CAAA,CAC9B,CAAA,IAAA,CAAKE,UAAL,CAAgB7gE,CAAhB,CAPD,CADgK,CAA1J,CAUJgR,CAVI,CAcT,OAAOpiC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CAChBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,sBAAd,CAFO,CAGhB2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHD,CAIhBC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJE,CAAb,CA9Be,CAwCxB,MAAqB,EAArB,CAAIprB,CAAJ,CAAc9R,MAAd,CACK8R,CAAJ,CAAc9R,MAAd,EAAsBqlD,CAAtB,CACW,CAAV,EAAIA,CAAJ,CACQjoD,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CAChBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,cAAd,CAFO,CAGhB2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHD;AAIhBC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJE,CAAb,CADR,CASQ9/B,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CAChBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,kBAAd,CAFO,CAGhB2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHD,CAIhBC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJE,CAAb,CAVT,CAmBQ9/B,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB,IAAA,CAAKjT,QAAL,CAAc,WAAd,CAAhB,CAA4C,CAAA,IAAI34B,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAco5D,CAAd,CAAsB,mBAAtB,CAAjB,CAAA,EAA6D/T,aAA7D,CAA2E,CAACtpE,CAAD,CAAW9R,MAAX,CAA3E,CAA5C,CAA4I,QAAQ,CAACovF,CAAD,CAAY,CACrJ,KAAjB,GAAIA,CAAJ,GACC3nF,QAMA,CANW,EAMX,CALAqK,CAAA,CAAU8D,OAAV,CAAkB,QAAQ,CAACjV,CAAD,CAAK,CAC9B8G,QAAA,CAASrF,IAAT,CAAczB,CAAA,CAAI2xC,QAAJ,EAAd,CAD8B,CAA/B,CAKA,CAFI9jB,CAEJ,CAFa,CAAC/mB,SAAUA,QAAX,CAEb,CADA+mB,CAAA,CAAO2gE,CAAP,CAAe,WAAf,CACA,CAD8B,CAAA,CAC9B,CAAA,IAAA,CAAKE,UAAL,CAAgB7gE,CAAhB,CAPD,CADsK,CAAhK,CAUJgR,CAVI,CApBT,CAiCSA,CAAA,CAAM9X,WAAN,CAAkB,OAAlB,CAAJ,EAAkC8X,CAAA,CAAMjP,QAAN,EAAA,CAAiBpoB,QAAjB,EAAlC,CAA8Dk9C,CAA9D,CACGjoD,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB,IAAA,CAAKjT,QAAL,CAAc,WAAd,CAAhB;AAA4C,CAAA,IAAI34B,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAco5D,CAAd,CAAsB,mBAAtB,CAAjB,CAAA,EAA6D/T,aAA7D,CAA2E,CAACtpE,CAAD,CAAW9R,MAAX,CAA3E,CAA5C,CAA4I,QAAQ,CAACovF,CAAD,CAAY,CACrJ,KAAjB,GAAIA,CAAJ,GACC3nF,QAMA,CANW,EAMX,CALA,IAAA,CAAK8oB,QAAL,EAAA,CAAgBhtB,IAAhB,CAAqB,QAAQ,CAAC5C,CAAD,CAAM,CAClC8G,QAAA,CAASrF,IAAT,CAAczB,CAAA,CAAI2xC,QAAJ,EAAd,CADkC,CAAnC,CAEM,IAFN,CAKA,CAFI9jB,CAEJ,CAFa,CAAC/mB,SAAUA,QAAX,CAEb,CADA+mB,CAAA,CAAO2gE,CAAP,CAAe,WAAf,CACA,CAD8B,CAAA,CAC9B,CAAA,IAAA,CAAKE,UAAL,CAAgB7gE,CAAhB,CAPD,CADsK,CAAhK,CAUJgR,CAVI,CADH,CAcGpiC,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CAChBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,qBAAd,CAFO,CAGhB2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHD,CAIhBC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJE,CAAb,CA9FkC,CA5UP,CAmbjCmyD,WAAYA,QAAQ,CAAC7gE,CAAD,CAAS,CAE5BpxB,GAAA,CAAIoE,KAAJ,CAAUgtB,CAAV,CAAkB,CACjBgS,KAAM,sBADW,CAEjBzN,OAAQ,IAAA,CAAKxC,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BE,KAA5B,EAFS,CAAlB,CAMA,KAAIoM,EAAM,IAAA,CAAK7D,cAAL,EAAV;AACIsX,EAAOzT,CAAA,CAAIgM,WAAJ,EACdyH,EAAA,CAAKnD,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,2BAAd,CAAV,CACG34B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK,IAAA,CAAKnR,cAAL,EAAA,CAAsBgZ,cAAtB,EADW,CAEhB+/B,OAAQ,MAFQ,CAGhB36C,OAAQA,CAHQ,CAIhBwjB,QAASA,QAAQ,CAAC5U,CAAD,CAAW,CAC3BsK,CAAA,CAAKrZ,MAAL,EACI7K,EAAAA,CAAMpmB,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACbtJ,EAAA,CAAIwN,OAAJ,CAAYxN,CAAA,CAAIuN,UAAJ,EAAZ,CAA6B,UAA7B,CAAwChe,CAAxC,CAA4CuP,MAA5C,CAAmD70B,EAAnD,CAH8B,CAJZ,CAAjB,CAsBA,EADIwnB,CACJ,CADU,IAAA,CAAKoS,EAAL,CAAQ,QAAR,CACV,GAAWpS,CAAA,CAAIy0D,UAAJ,EAAX,EAA8Bz0D,CAAA,CAAIqS,KAAJ,EAjCF,CAnbI,CAArC,C,CCAA36B,GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CAC1CyI,OAAQ,gBADkC,CAE1CuzD,QAAS,CAAC,wCAAD,CAA0C,6BAA1C,CAFiC,CAG1Cp7D,OAAQ,CAAC,oBAAD,CAHkC,CAI1C4V,MAAO,wBAJmC,CAKvCxU,QAAS,CACRG,KAAM,EADE,CAL8B,CASvCl6B,OAAQ,CACPg0F,cAAe,CAAA,CADR,CAT+B,CAavC3xF,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE1B,IAAA,CAAKi0F,WAAL,CAAmBpyF,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CACzD85D,aAAc,CAD2C,CAA1C,CAInB,KAAA,CAAKD,WAAL,CAAiBp8E,EAAjB,CAAoB,MAApB,CAA4B,IAA5B,CAAiCs8E,cAAjC,CAAiD,IAAjD,CAEH,KAAIplE,EAAK,IAETltB,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfysC,UAAW,IAAA,CAAKzsC,QAAL,CAAc,WAAd,CAFI,CAGf46B,QAAS,CAAC,IAAD,CAAM6+B,WAAN,CAHM;AAIfz8B,KAAM,CACC,CACUh2C,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADhB,CAEUU,MAAO,mBAFjB,CAGUC,QAAS,IAATA,CAAci5D,MAHxB,CAIUrwF,MAAO,IAJjB,CADD,CAMG,CACQyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CADd,CAEQ0xC,SAAU,CAAA,CAFlB,CAGQhxC,MAAO,mBAHf,CAIQD,QAAS,IAAA,CAAKT,QAAL,CAAc,oBAAd,CAJjB,CAKQW,QAASA,QAAQ,EAAG,CACnB,IAAIlP,EAAQ,IAAA,CAAKooE,iBAAL,EACRpoE,EAAJ,EACC,IAAA,CAAKqoE,UAAL,CAAgB,CAAA,CAAhB,CAER,CADiC,IAAA,CAAKloE,SAAL,EAAA2gD,CAAiB9rB,uBAAjB8rB,EACjC,CAAqBx2B,IAArB,CAA0B,CACzBtjB,OAAQ,CAAChH,MAAOA,CAAR,CAAesoE,gBAAiB,CAAA,CAAhC,CADiB,CAEzBrvD,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CACtC,IAAA,CAAK69C,UAAL,CAAgB,CAAA,CAAhB,CACL79C,EAAJ,EACKjf,CAEQ,CAFCgf,CAAA,CAAU7I,QAAV,EAAA,CAAqB6mD,SAArB,EAED,CAFkCC,OAElC,CAF0CC,eAE1C,CAF0Dl9D,MAE1D,CADRwO,CACQ,CADF,IAAA,CAAKC,UAAL,EACE,CADgB,UAChB;AAD2BzO,CAC3B,CAAA31B,GAAA,CAAI0/B,GAAJ,CAAQyM,KAAR,CAAc,CACdplC,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADO,CAEd0G,QAAS,WAATA,CAAqB8E,CAArB9E,CAAyB,kCAFX,CAAd,CAHb,EASCr/B,GAAA,CAAIu4B,MAAJ,CAAW,2BAAX,CAAwC,CACvCqG,IAAK,IAAA,CAAKjG,QAAL,CAAc,mBAAd,CADkC,CAEvCqH,SAAU2U,CAAA,CAAUpV,QAAV,EAAVS,CAA+BA,QAFQ,CAAxC,CAAA,CAGGxe,IAHH,EAX8C,CAFvB,CAmBzBtf,MAAO,IAnBkB,CAA1B,CAHO,EA2BClC,GAAA,CAAI0/B,GAAJ,CAAQyM,KAAR,CAAc,CACbplC,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADM,CAEb0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,WAAd,CAFI,CAAd,CA7BkB,CAL5B,CAwCQz2B,MAAO,IAxCf,CAyCQmkD,IAAK,WAzCb,CANH,CAgDG,CACDrlD,MAAO,QADN,CAEDse,KAAM,QAFL,CAGD+mC,IAAK,QAHJ,CAhDH,CAJS,CA0DfsI,QAAQ,CACH,CACGhvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADT,CAEGsS,UAAW,OAFd,CAGG+iB,SAAUA,QAAQ,CAACnuD,CAAD,CAAQ,CACzB,MAAOG,IAAA,CAAIg4B,OAAJ,CAAYn4B,CAAZ,CAAA,CAAqB,4BAArB;AAAkDqtB,CAAA,CAAGyL,QAAH,CAAY,YAAZ,CAAlD,CAA8E,SAA9E,CAA0F94B,CADxE,CAH7B,CAMGgsD,OAAQ,CAAA,CANX,CAOGpG,SAAU,GAPb,CAQGC,SAAU,GARb,CADG,CAUF,CACE/lC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADR,CAEEsS,UAAW,OAFb,CAGE4gB,OAAQ,CACP7qD,MAAO,OADA,CAED8xF,UAAW,CAAA,CAFV,CAGD7wC,cAAe,KAHd,CAIDuqB,eAAgB,CAAA,CAJf,CAKD3sE,MAAO,EALN,CAMDu6B,WAAY,OANX,CAODj5B,UAAW,CACVykC,OAAOA,QAAQ,EAAG,CACZ5lC,GAAA,CAAIg4B,OAAJ,CAAY,IAAA,CAAKoP,QAAL,EAAZ,CAAJ,EACG,IAAA,CAAKmuB,KAAL,EAFa,CADR,CAPV,CAcDl7B,MAAO,IAAIr6B,GAAJ,CAAQ+c,IAAR,CAAag2E,KAAb,CAAmB,CACtBv6D,OAAQ,CAAC,MAAD,CAAQ,OAAR,CADc,CAE5Bzb,KAAM,CAAC,CAAC,IAAA,CAAK4b,QAAL,CAAc,WAAd,CAAD,CAA4B,MAA5B,CAAD,CAAqC,CAAC,IAAA,CAAKA,QAAL,CAAc,eAAd,CAAD,CAAgC,UAAhC,CAArC,CAFsB,CAAnB,CAdN,CAHV,CAsBE/3B,MAAO,GAtBT,CAuBQotD,SAAUA,QAAQ,CAAC/f,CAAD,CAAI,CAAC,MAAOjuC,IAAA,CAAIg4B,OAAJ,CAAYiW,CAAZ,CAAA,CAAiB,EAAjB,CAAsB/gB,CAAA,CAAGyL,QAAH,CAAYsV,CAAZ;AAAc,OAAd,CAA9B,CAvB9B,CAVE,CAkCF,CACEtuB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADR,CAEEsS,UAAW,UAFb,CAGE4gB,OAAQ,CACP7qD,MAAO,OADA,CAEDwrE,eAAgB,CAAA,CAFf,CAGDnyC,MAAO,IAAIr6B,GAAJ,CAAQ+c,IAAR,CAAag2E,KAAb,CAAmB,CACtBC,YAAa,CAAA,CADS,CAEtBx6D,OAAQ,CAAC,MAAD,CAAQ,OAAR,CAFc,CAGtB2B,aAAe,MAHO,CAItBC,WAAY,OAJU,CAK5Brd,KAAM,CAAC,CAAC4C,KAAK,KAAN,CAAY9f,MAAM,GAAlB,CAAD,CAAwB,CAAC8f,KAAK,IAAN,CAAW9f,MAAM,EAAjB,CAAxB,CALsB,CAAnB,CAHN,CAHV,CAcE4lD,SAAU,EAdZ,CAeEC,SAAU,EAfZ,CAlCE,CAkDF,CACE/lC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADR,CAEEsS,UAAW,OAFb,CAGE+iB,SAAUA,QAAQ,CAACnuD,CAAD,CAAQ6+C,CAAR,CAAkBz0C,CAAlB,CAA0B,CAC3C,MAAOjK,IAAA,CAAIg4B,OAAJ,CAAY/tB,CAAA,CAAO9F,GAAP,CAAW,OAAX,CAAZ,CAAA,CAAmC,EAAnC,CAAwCnE,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBjhD,CAAvB,CAA8B,OAA9B,CADJ,CAH9C,CAME4lD,SAAU,GANZ,CAOEC,SAAU,GAPZ,CAlDE,CA0DF,CACD1kD,MAAO,cADN,CAEKJ,MAAO,EAFZ,CAGK8sF,SAAU,mBAHf;AAIKt0D,QAAS,IAAA,CAAKT,QAAL,CAAc,gBAAd,CAJd,CAKKs6D,aAAc,CAAA,CALnB,CAMKxhC,SAAU,CAAA,CANf,CAOKn4B,QAAS,IAATA,CAAc45D,SAPnB,CAQKhxF,MAAO,IARZ,CA1DE,CA1DO,CAgIfm4B,MAAO,IAAIr6B,GAAJ,CAAQ+c,IAAR,CAAag2E,KAAb,CAAmB,CAEhBC,YAAa,CAAA,CAFG,CAGhBx6D,OAAQ,CAAC,IAAD,CAAM,UAAN,CAAiB,OAAjB,CAAyB,OAAzB,CAAiC,OAAjC,CAHQ,CAIzBzb,KAAM,CAAC,CAAC,EAAD,CAAI,EAAJ,CAAO,EAAP,CAAU,EAAV,CAAa,CAAb,CAAD,CAJmB,CAAnB,CAhIQ,CAAhB,CAwIG,KAAA,CAAKmiB,UAAL,CAAgBvjB,SAAhB,CAEH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAIA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAE7C,IADIsyB,CACJ,CADWtyB,CAAA,CAAOkpB,YAAP,EACX,GAA4B,CAA5B,CAAYoJ,CAAA,CAAKl9C,QAAL,EAAZ,CAA+B,CAC9B,IAAIxH,EAAM0kD,CAAA,CAAKz9B,WAAL,CAAiB,CAAjB,CAAV,CACIzC,EAAU,EACd,EAAC,OAAD,CAAS,QAAT,CAAkB,SAAlB,CAA4B,WAA5B,CAAwC,UAAxC,CAAA,CAAoDvP,OAApD,CAA4D,QAAQ,CAAC29B,CAAD,CAAQ,CACtEn2C,GAAA,CAAIg4B,OAAJ,CAAYz0B,CAAA,CAAIY,GAAJ,CAAQgyC,CAAR,CAAZ,CAAL;AACCpuB,CAAA,CAAQ/iB,IAAR,CAAa,CAAC,IAAA,CAAK2zB,QAAL,CAAcwd,CAAd,CAAoB,OAApB,CAAD,CAA8BA,CAA9B,CAAb,CAF0E,CAA5E,CAIG,IAJH,CAKIpuB,EAAJ,GACK8jC,CAKJ,CALa,IAAA,CAAK3gB,gBAAL,EAAA,CAAwBioD,oBAAxB,CAA6C,OAA7C,CAAA,CAAsDC,SAAtD,EAKb,CAJYvnC,CAAAxxB,CAAOlH,QAAPkH,EACZ,CAAMl0B,IAAN,CAAW,QAAQ,CAAC8D,CAAD,CAAS,CAC3B8d,CAAA,CAAQ/iB,IAAR,CAAa,CAACiF,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAD,CAAqB8F,CAAA,CAAO9F,GAAP,CAAW,OAAX,CAArB,CAAb,CAD2B,CAA5B,CAEG,IAFH,CAGA,CAAA0nD,CAAA,CAAO/D,QAAP,CAAgB9nD,GAAA,CAAIu4B,MAAJ,CAAW,gBAAX,CAA4B,CAC3CC,OAAQ,CAAC,MAAD,CAAQ,OAAR,CADmC,CAE3Czb,KAAMgL,CAFqC,CAA5B,CAAhB,CAND,CAWA,KAAA,CAAKggC,YAAL,CAAkB,CAAlB,CACA,KAAA,CAAK0qC,UAAL,CAAgB,CAAA,CAAhB,CApB8B,CAFc,CAA9C,CAxJ6B,CAbS,CAiMvCS,UAAUA,QAAQ,CAACtoD,CAAD,CAAO+sB,CAAP,CAAiB,CAClC,IAAA,CAAKxkC,QAAL,EAAA,CAAgBM,QAAhB,CAAyBkkC,CAAzB,CACgC,EAAhC,EAAI,IAAA,CAAKxkC,QAAL,EAAA,CAAgBpoB,QAAhB,EAAJ,EAAoC,IAAA,CAAKwnF,MAAL,EACpC,KAAA,CAAKc,eAAL,EAHkC,CAjMI,CAuMvCd,OAAQA,QAAQ,EAAG,CAClB,IAAA,CAAKl4D,KAAL,CAAWiyB,QAAX,CAAoB,CAAC,CAAC,EAAD,CAAI,EAAJ,CAAO,EAAP,CAAU,EAAV,CAAa,CAAb,CAAD,CAApB,CAAuC,CAAA,CAAvC,CADkB,CAvMoB,CA2MvCgmC,eAAgBA,QAAQ,CAACzmC,CAAD;AAAShiB,CAAT,CAAkB,CAGrCzf,CAAAA,CAAQ,IAAA,CAAKkpE,kBAAL,CAAwBzpD,CAAxB,CAAgC5/B,MAAhC,CACf,IAAIjK,GAAA,CAAIg4B,OAAJ,CAAY5N,CAAZ,CAAJ,CACCyf,CAAA,CAAQ5/B,MAAR,CAAeqpB,GAAf,CAAmB,OAAnB,CAA2B,EAA3B,CACA,CAAA,IAAA,CAAK+/D,eAAL,EAFD,KAIK,CACJ,IAAIlmC,EAAOtjB,CAAA,CAAQS,IAAR,CAAaipD,OAAb,CAAqB1pD,CAArB,CAA6B5/B,MAA7B,CAAqC,IAAA,CAAKihC,gBAAL,EAAA,CAAwBioD,oBAAxB,CAA6C,OAA7C,CAArC,CACXhmC,EAAA,CAAKhmB,IAAL,CAAU,SAAV,CAC2B,KAAA,CAAK5c,SAAL,EAAA2gD,CAAiB9rB,uBAAjB8rB,EAC3B,CAAqBx2B,IAArB,CAA0B,CACzBtjB,OAAQ,CACPhH,MAAOA,CADA,CADiB,CAIzBiZ,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/CuY,CAAA,CAAKl8B,MAAL,EACI2jB,EAAJ,CACC/K,CAAA,CAAQ5/B,MAAR,CAAeqpB,GAAf,CAAmB,OAAnB,CAA4C,CAAhB,EAAAvL,CAAA,CAAQnlB,MAAR,CAAoB,CAApB,CAAwBmlB,CAAA,CAAQ,CAAR,CAAA,CAAW5jB,GAAX,CAAe,OAAf,CAApD,CADD,EAICnE,GAAA,CAAIu4B,MAAJ,CAAW,2BAAX,CAAwC,CACvCqG,IAAK,IAAA,CAAKjG,QAAL,CAAc,mBAAd,CADkC,CAEvCqH,SAAU2U,CAAA,CAAUpV,QAAV,EAAVS,CAA+BA,QAFQ,CAAxC,CAAA,CAGGxe,IAHH,EAIA,CAAAqoB,CAAA,CAAQ5/B,MAAR,CAAeqpB,GAAf,CAAmB,OAAnB;AAA2B,CAA3B,CARD,CAUA,KAAA,CAAK+/D,eAAL,EAZ+C,CAJvB,CAkBzBnxF,MAAO,IAlBkB,CAA1B,CAJI,CARuC,CA3MH,CA+OvCoxF,mBAAoBA,QAAQ,CAACrpF,CAAD,CAAS,CACvC,GAAIjK,GAAA,CAAIg4B,OAAJ,CAAY/tB,CAAZ,CAAJ,EAA2BjK,GAAA,CAAIg4B,OAAJ,CAAY/tB,CAAA,CAAO9F,GAAP,CAAW,OAAX,CAAZ,CAA3B,CAA8D,MAAO,EACrE,KAAIimB,EAAQngB,CAAA,CAAO9F,GAAP,CAAW,OAAX,CAAA,CAAoBoxC,IAApB,EACZ,IAAIv1C,GAAA,CAAIg4B,OAAJ,CAAY5N,CAAZ,CAAJ,CAAyB,MAAO,EAC5B+rB,EAAAA,CAAQlsC,CAAA,CAAO9F,GAAP,CAAW,OAAX,CACZ,OAAOnE,IAAA,CAAIg4B,OAAJ,CAAYme,CAAA,CAAQA,CAAA,CAAMZ,IAAN,EAAR,CAAuBY,CAAnC,CAAA,CAA4C/rB,CAA5C,CAAoD+rB,CAApD,CAA0D,GAA1D,CAA8D/rB,CAL9B,CA/OE,CAuPvCooE,kBAAmBA,QAAQ,EAAG,CAC7B,IAAIpoE,EAAQ,EACd,KAAA,CAAK+I,QAAL,EAAA,CAAgBhtB,IAAhB,CAAqB,QAAQ,CAAC8D,CAAD,CAAS,CACrC,IAAIm9C,EAAI,IAAA,CAAKksC,kBAAL,CAAwBrpF,CAAxB,CACHjK,IAAA,CAAIg4B,OAAJ,CAAYovB,CAAZ,CAAL,GACMpnD,GAAA,CAAIg4B,OAAJ,CAAY5N,CAAZ,CAIL,GAHK+/B,CACJ,CADSlgD,CAAA,CAAO9F,GAAP,CAAW,UAAX,CACT,CAAAimB,CAAA,EAAc,KAAL,EAAA+/B,CAAA,CAAa,KAAb,CAAqB,KAE/B,EAAA//B,CAAA,EAAOg9B,CALR,CAFqC,CAAtC,CASG,IATH,CAUA7V,QAAA,CAAQ0hB,IAAR,CAAa7oC,CAAb,CACA,OAAOA,EAbwB,CAvPS,CAuQvCipE,gBAAiBA,QAAQ,EAAG,CAC3B,IAAI/oF;AAAQ,IAAA,CAAK6oB,QAAL,EAAA,CAAgBkqC,GAAhB,CAAoB,OAApB,CACP/yD,EAAL,EAA8B,QAA9B,EAAc,MAAOA,EAArB,CAGgB,CAAX,EAAIA,CAAJ,EACAA,CACJ,CADY,IAAA,CAAK6oB,QAAL,EAAA,CAAgB0mB,KAAhB,CAAsB,CAAtB,CAAA,CAAyB11C,GAAzB,CAA6B,OAA7B,CACZ,CAAA,IAAA,CAAK4jD,YAAL,CAAkB,IAAA,CAAK50B,QAAL,EAAA,CAAgB0mB,KAAhB,CAAsB,CAAtB,CAAA,CAAyB11C,GAAzB,CAA6B,OAA7B,CAAlB,CAFI,GAMAimB,CACJ,CADY,IAAA,CAAKooE,iBAAL,EACZ,CAAKxyF,GAAA,CAAIg4B,OAAJ,CAAY5N,CAAZ,CAAL,GACY,IAGX,CAHgBylC,MAGhB,GAHyB,IAGzB,CAH8BA,MAG9B,CAHqC,IAAA,CAAKxhC,IAAL,CAAU,eAAV,CAGrC,EAFA,IAAA,CAAKwhC,MAAL,CAAY1oB,IAAZ,CAAiB,IAAA,CAAKxO,QAAL,CAAc,SAAd,CAAjB,CAEA,CAD2B,IAAA,CAAKpO,SAAL,EAAA2gD,CAAiB9rB,uBAAjB8rB,EAC3B,CAAqBx2B,IAArB,CAA0B,CACzBtjB,OAAQ,CAAChH,MAAOA,CAAR,CADiB,CAEzBiZ,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAE/C,IAAA,CAAKib,MAAL,CAAY5+B,MAAZ,EACI2jB,EAAJ,CACC,IAAA,CAAKmT,YAAL,CAAkBhgC,CAAA,CAAQ,CAAR,CAAA,CAAW5jB,GAAX,CAAe,OAAf,CAAlB,CADD,EAICnE,GAAA,CAAIu4B,MAAJ,CAAW,2BAAX,CAAwC,CACvCqG,IAAK,IAAA,CAAKjG,QAAL,CAAc,mBAAd,CADkC;AAEvCqH,SAAU2U,CAAA,CAAUpV,QAAV,EAAVS,CAA+BA,QAFQ,CAAxC,CAAA,CAGGxe,IAHH,EAIA,CAAA,IAAA,CAAKumC,YAAL,CAAkB,CAAlB,CARD,CAH+C,CAFvB,CAgBzB7lD,MAAO,IAhBkB,CAA1B,CAJD,CAPI,CAHL,CACC,IAAA,CAAK6lD,YAAL,CAAkB,CAAlB,CAH0B,CAvQW,CA6SvCA,aAAcA,QAAQ,CAACz9C,CAAD,CAAQ,CACxB,IAAL,CAAUulD,MAAV,GAAmB,IAAnB,CAAwBA,MAAxB,CAA+B,IAAA,CAAKxhC,IAAL,CAAU,eAAV,CAA/B,CACK,KAAL,CAAUmlE,SAAV,GAAsB,IAAtB,CAA2BA,SAA3B,CAAqC,IAAA,CAAKnlE,IAAL,CAAU,kBAAV,CAArC,CACW,EAAX,EAAI/jB,CAAJ,CACI,IAAA,CAAKulD,MAAL,CAAY5xC,MAAZ,CAAmB,CAAA,IAAIje,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,WAAd,CAAlB,CAAA,EAA8Cv0B,KAA9C,CAAoD,CAAC,IAAA,CAAKmmB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAD,CAApD,CAAnB,CADJ,CAIC,IAAA,CAAKi6B,MAAL,CAAY5xC,MAAZ,CAAmB,CAAA,IAAIje,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,cAAd,CAAlB,CAAA,EAAiDv0B,KAAjD,CAAuD,CAACkG,CAAD,CAAO,IAAA,CAAKigB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAP,CAAvD,CAAnB,CAED,KAAA,CAAK49D,SAAL,CAAevoB,WAAf,CAAkC,CAAlC;AAA2B3gE,CAA3B,CAT6B,CA7SS,CAA3C,C,CCAAtK,GAAA,CAAIk2B,MAAJ,CAAW,uBAAX,CAAoC,CACnCyI,OAAQ,WAD2B,CAEnC7H,OAAQ,CAAC,oBAAD,CAF2B,CAGnC4V,MAAO,iBAH4B,CAInCxU,QAAS,CACRG,KAAM,CACLtxB,MAAO,UADF,CAELo9B,IAAK,KAFA,CAGLsvD,GAAI,IAHC,CADE,CAMRx8D,IAAK,CACJkN,IAAK19B,IAAAA,EADD,CANG,CASR4yB,MAAO,mBATC,CAJ0B,CAenC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACA,KAAA,CAAK+b,WAAL,CAAiB,KAAjB,CAAwBv5B,CAAxB,CAA+BgmC,GAA/B,CAEM,KAAA,CAAKjF,UAAL,CAAgBvjB,SAAhB,CAEN,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAN6B,CAfK,CAuBnC2xB,cAAeA,QAAQ,EAAG,CACzBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfqpB,OAAQ,CACP93C,KAAM,KADC,CAFO;AAKf2vB,MAAO,CACN74B,MAAO,UADD,CAENgoC,IAAK,IAAA,CAAK1e,WAAL,CAAiB,KAAjB,CAFC,CALQ,CASfopE,KAAM,CAAC,CACN1yF,MAAO,WADD,CAENnB,MAAO,IAAA,CAAKyqB,WAAL,CAAiB,KAAjB,CAFD,CAGN86C,UAAW,IAAA,CAAKzsC,QAAL,CAAc,KAAd,CAHL,CAINx3B,UAAW,CACVwyF,WAAYA,QAAQ,CAACx9C,CAAD,CAAQxmC,CAAR,CAAU,CACzBA,CAAA,CAAEwlD,MAAF,EAAJ,EAAkBxlD,CAAlB,CAAoB0lD,KAApB,EACClf,CAAA,CAAMzb,EAAN,CAAS,OAAT,CAAA,CAAkBrM,IAAlB,CAAuB,UAAvB,CAAA,CAAmCqmB,IAAnC,CAAwCyB,CAAA,CAAM/O,QAAN,EAAxC,CAF4B,CADpB,CAJL,CAAD,CAWJ,CACDpmC,MAAO,QADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,IAAd,CAFL,CAGDW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAI0J,EAAM1J,CAAA,CAAIo7B,IAAJ,CAAS,WAAT,CAAA,CAAsBzuB,QAAtB,EACV3M,EAAA,CAAIC,EAAJ,CAAO,OAAP,CAAA,CAAgBrM,IAAhB,CAAqB,UAArB,CAAA,CAAiCqmB,IAAjC,CAAsCvQ,CAAtC,CAFsB,CAHtB,CAXI,CATS,CAAhB,CA8BA,KAAA,CAAKjF,UAAL,EA/ByB,CAvBS,CAwDnC00D,QAASA,QAAQ,CAACzvD,CAAD,CAAM,CACtB,IAAA,CAAK9V,IAAL,CAAU,UAAV,CAAA,CAAsBqmB,IAAtB,CAA2BvQ,CAA3B,CADsB,CAxDY,CAApC,C,CCCAnkC,GAAA,CAAIk2B,MAAJ,CAAW,uBAAX,CAAoC,CACnCyI,OAAQ,iBAD2B,CAEnC7H,OAAQ,CAAC,oBAAD,CAF2B,CAGnC4V,MAAO,iBAH4B,CAIhCxU,QAAS,CACRG,KAAM,CACLtxB,MAAO,eADF,CADE,CAIRkwB,IAAK,CAOJ8tB,SAAU,MAPN,CASJ16C,SAAU,CATN,CAWJo7D,MAAO,EAXH,CAaJouB,OAAQptF,IAAAA,EAbJ,CAJG,CAoBR4yB,MAAO,mBApBC,CAJuB,CA0BnCl7B,OAAQ,CACJunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADL,CAEJwM,MAAO,CAAA,CAFH,CAGJuzC,MAAO,EAHH,CAIJ8yC,OAAQ,EAJJ,CAKJC,iBAAkBrtF,IAAAA,EALd,CA1B2B,CAmChCjG,YAAaA,QAAQ,EAAG,CAEvB,IAAA,CAAKs2B,MAAL,CAAY,0BAAZ,CAAA,CAAwCt2B,WAAxC,CAAoD4D,KAApD,CAA0D,IAA1D,CAAgEuX,SAAhE,CACA3b,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ;AAEfqpB,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAFO,CAMf5wB,MAAO,CAAC,CACJ54B,KAAM,aADF,CAEJykC,OAAQ,UAFJ,CAGJlL,KAAM,CAHF,CAAD,CAIL,CACDA,KAAM,CADL,CAEDwnB,OAAS,MAFR,CAGDnoB,MAAO,CAAC,CACJ74B,MAAO,OADH,CAEJ0kC,OAAQ,OAFJ,CAGJ9kC,MAAO,GAHH,CAIJ45B,KAAM,CAJF,CAKJH,MAAO,CACH7B,OAAQ,CAAC,KAAD,CAAQ,MAAR,CAAgB,MAAhB,CAAwB,KAAxB,CADL,CAEHzb,KAAM,CAAC,CAAC6R,IAAK,EAAN,CAAD,CAFH,CALH,CASJi+B,OAAQ,CACJ3iD,KAAM,OADF,CAEJ+B,OAAQ,IAAA,CAAK+mB,cAAL,EAAA,CAAsBgK,eAAtB,CAAsC,IAAA,CAAKhK,cAAL,EAAA,CAAsB1I,WAAtB,CAAkC,SAAlC,CAAtC,CAAoF,CAAA,CAApF,CAFJ,CAGJypE,WAAY,KAHR,CAIJC,MAAO,EAJH,CATJ,CAAD,CAeJ,CACDpzF,MAAO,GADN,CAEDF,OAAQ,EAFP,CAGDm5B,MAAO,CACH74B,MAAO,eADJ,CAEA0kC,OAAQ,eAFR,CAGH1K,OAAQ,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,EAAP,CAHL,CAIHt6B,OAAQ,EAJL,CAKHE,MAAO,GALJ,CAHN,CAUDO,UAAW,CACVC,YAAaA,QAAQ,CAAC0wC,CAAD,CAAM,CAC1BA,CAAA,CAAI3M,WAAJ,EAAA,CAAkB+iD,QAAlB,CAA2B,QAA3B;AAAqC,SAArC,CACAp2C,EAAA,CAAI3M,WAAJ,EAAA,CAAkBnvB,EAAlB,CAAqB,OAArB,CAA8B,QAAQ,CAACrG,CAAD,CAAI5J,CAAJ,CAAOo/D,CAAP,CAAc,CAChDz6D,YAAA,CAAa,IAAA,CAAKupF,mBAAL,EAAb,CACH,KAAA,CAAKzzC,QAAL,EAAA,CAAgBhoC,OAAhB,CAAwB,QAAQ,CAACuZ,CAAD,CAAO,CAElCA,CAAJ,CAASyU,GAAT,GACCzU,CAAA,CAAKyU,GAAL,CAASxtB,MAAT,EACA,CAAA,OAAO+Y,CAAP,CAAYyU,GAFb,CAIAzU,EAAA,CAAKwoB,SAAL,CAAiB,EANqB,CAAvC,CAQI/0C,EAAAA,CAAMI,IAAA,CAAKupB,KAAL,CAAWxf,CAAX,CAAahF,KAAb,CAAmBupF,OAAnB,CAA6B,IAAA,CAAK1zC,QAAL,EAA7B,CAA6C59C,MAA7C,CAAsDmD,CAAtD,CAAwDojC,WAAxD,CACV,KAAA,CAAKgrD,SAAL,CAAe3uF,CAAf,CAXmD,CAApD,CAYG,IAZH,CAF0B,CADjB,CAiBVtD,MAAO,IAjBG,CAVV,CAfI,CAHN,CAJK,CANQ,CA2Df6xD,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACV74B,MAAO,wBADG,CAEVknD,aAAc,CAAA,CAFJ,CAAD,CAGR,CACVlnD,MAAO,QADG,CAEVg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CAFF,CAGVsB,WAAY,OAHF,CAIVC,WAAY,EAJF;AAKVt5B,MAAO,GALG,CAMV4kC,UAAW,CAND,CAOVF,SAAU,CAPA,CAQVC,SAAU,EARA,CASV1lC,MAAO,EATG,CAUVsB,UAAW,CACE6vD,OAAQA,QAAQ,CAAClf,CAAD,CAAM,CACrBA,CAAA,CAAI5L,QAAJ,CAAalb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAb,CACI,KAAJ,CAASq7C,OAAT,EAAmB,IAAA,CAAKA,OAAL,CAAaC,SAAb,CAAuB9zB,CAAA,CAAI1K,QAAJ,EAAvB,CACnB,KAAA,CAAK74B,QAAL,CAAcujC,CAAA,CAAI1K,QAAJ,EAAd,CACHpnC,IAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQuxB,CAAA,CAAIrO,KAAJ,EADwB,CAEzB9jB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAFmB,CAAjC,CAJwB,CADxB,CAWEktC,cAAeA,QAAQ,CAAC/zB,CAAD,CAAM,CAC5B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD4B,CAX/B,CAcKuC,eAAgBA,QAAQ,CAAC8L,CAAD,CAAMljB,CAAN,CAAW,CAClC,IAAA,CAAK8I,WAAL,CAAiB,OAAjB,CAA0B9I,CAA1B,CACC,KAAJ,CAAS+2C,OAAT,EAAmB,IAAA,CAAKA,OAAL,CAAaC,SAAb,CAAuBh3C,CAAvB,CAFkB,CAdxC,CAkBK1sB,MAAO,IAlBZ,CAVD,CAHQ,CAJH,CAAD,CA3DE,CAAhB,CAmGG,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CACH;IAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,IAAA,CAAKswC,YAAL,EAD6C,CAA9C,CAEG,IAFH,CAzGuB,CAnCQ,CAkJhCA,aAAcA,QAAQ,EAAG,CACxB,IAAI/4C,EAAK,IAAT,CACI7iB,EAAW2gB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,UAAjB,CAAT,CAAXjgB,EAAqD,CACzD,KAAA,CAAKkgB,SAAL,EAAA,CAAiBk2B,aAAjB,CAA+B,CAACp2C,SAAUA,CAAX,CAAqB06C,SAAU,MAA/B,CAA/B,CAAA,CAAuE1uB,IAAvE,CAA4E,QAAQ,CAAC0qB,CAAD,CAAQ,CAG3F,IAAIqzC,EAAUrzC,CAAA,CAAM9sC,GAAN,CAAU,QAAQ,CAACia,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAE7L,WAAF,EAAR,CAAtB,CAGd,IAA8B5b,IAAAA,EAA9B,EAAIymB,CAAA,CAAG5C,WAAH,CAAe,QAAf,CAAJ,CAAyC,CACxC,IAAIy+B,EAAQ,EACZqrC,EAAA,CAAQ57E,OAAR,CAAgB,QAAQ,CAAC0V,CAAD,CAAI,CACd,CAAb,CAAIA,CAAJ,CAAMtrB,MAAN,EAAkB,EAAEsrB,CAAF,GAAO66B,EAAP,CAAlB,GACCA,CAAA,CAAM76B,CAAN,CADD,CACYA,CADZ,CACctrB,MADd,CAD2B,CAA5B,CAKI8iB,EAAAA,CAAS9f,IAAA,CAAKM,GAAL,CAAS9B,KAAT,CAAe,IAAf,CAAqBkP,MAAA,CAAO0nB,MAAP,CAAc+tB,CAAd,CAArB,CACTsrC,EAAAA,CAASrgF,EAAA,CAAGoV,WAAH,EAAA,CAAiBjR,MAAjB,CAAwB,CAAC,CAAD;AAAGuN,CAAH,CAAxB,CAAA,CAAoC1N,KAApC,CAA0C,CAAC,EAAD,CAAI,CAAJ,CAA1C,CACb,KAAKkW,IAAIA,CAAT,GAAc66B,EAAd,CACCA,CAAA,CAAM76B,CAAN,CAAA,CAAWmmE,CAAA,CAAOtrC,CAAA,CAAM76B,CAAN,CAAP,CAEZhB,EAAA,CAAGonE,SAAH,CAAa,CAAC1xF,OAAQ,CACrB2G,MAAO2jB,CAAA,CAAG8F,cAAH,EAAA,CAAoBC,eAApB,CAAoC,QAApC,CADc,CAErB5uB,MAAO0kD,CAFc,CAAT,CAAb,CAZwC,CAkBrCtmD,CAAAA,CAAKyqB,CAAA,CAAGmrD,YAAH,CAAgB,UAAhB,CAAA,CAA4BlzC,WAA5B,EACRovD,EAAAA,CAAQ9xF,CAAA,CAAG4rB,IAAH,CAAQ,KAAR,CACTkmE,EAAA,CAAMjhE,GAAN,CAAU,CAAC1yB,MAAO6B,CAAA,CAAG5B,QAAH,EAAR,CAAuBH,OAAQ+B,CAAA,CAAG9B,SAAH,EAA/B,CAAV,CACA,KAAI6zF,EAASD,CAATC,CAAe9xF,GACTsR,GAAAwyB,CAAG3vB,MAAH2vB,CAAUguD,CAAVhuD,CACV,CAAI1vB,SAAJ,CAAc,GAAd,CAAA,CAAmBkC,MAAnB,EAGA,KAAIgoC,EAAQ,EAAZ,CACI6yC,EAAS3mE,CAAA,CAAGunE,SAAH,EAEbvnE,EAAA,CAAGwnE,QAAH,CAAY3zC,CAAA,CAAMx7C,KAAN,CAAY,CAAZ,CAAc,GAAd,CAAA,CAAoB0O,GAApB,CAAwB,QAAQ,CAACia,CAAD,CAAI,CAC3C6D,CAAAA,CAAO,IAAI7E,CAAJ,CAAOynE,YAAP,CAAoBzmE,CAAA,CAAE7L,WAAF,EAApB,CACP0P,EAAJ,CAASA,IAAT,GAAiBivB,EAAjB,CAAyBA,CAAA,CAAMjvB,CAAN,CAAWA,IAAX,CAAA,EAAzB,CACMivB,CAAA,CAAMjvB,CAAN,CAAWA,IAAX,CADN,CACuB,CACvBA,EAAA,CAAKngB,GAAL,CAAWoZ,QAAA,CAASplB,IAAA,CAAKqK,MAAL,EAAT,CAAuBukF,CAAvB,CAA8BI,YAA9B,CAA2C,GAA3C,CACX,KAAIC,EAASjvF,IAAA,CAAK8H,IAAL,CAAwB,EAAxB,CAAU9H,IAAA,CAAKqK,MAAL,EAAV,CACb8hB;CAAA,CAAK8iE,MAAL,CAA8B,CAAhB,CAAc,CAAd,CAAAjvF,IAAA,CAAKqK,MAAL,EAAA,CAAoB,CAAE4kF,CAAtB,CAA+BA,CAC7C9iE,EAAA,CAAK+iE,IAAL,CAAYN,CAAZ,CAAmBI,YAAnB,CAAgC,EAChC7iE,EAAA,CAAKgjE,SAAL,CAAiB,EACjB,KAAKn4D,IAAIA,CAAT,GAAci3D,EAAd,CACK9hE,CAAJ,CAASA,IAAT,GAAiB8hE,EAAA,CAAOj3D,CAAP,CAAjB,CAA2Bv4B,KAA3B,GACC0tB,CAAA,CAAKgjE,SAAL,CAAen4D,CAAf,CADD,CACqBi3D,CAAA,CAAOj3D,CAAP,CAAA,CAAUv4B,KAAV,CAAgB0tB,CAAhB,CAAqBA,IAArB,CADrB,CAID,OAAOA,EAdwC,CAApC,CAAZ,CAgBUnsB,KAAA,CAAKM,GAAL,CAAS9B,KAAT,CAAe,IAAf,CAAqBkP,MAAA,CAAO0nB,MAAP,CAAcgmB,CAAd,CAArB,CACV,KAAI2uB,EAAW37D,EAAA,CAAG+D,QAAH,EAAA,CAAcI,MAAd,CAAqB,CAAC,CAAD,CAAGvS,IAAA,CAAKM,GAAL,CAAS9B,KAAT,CAAe,IAAf,CAAqBkP,MAAA,CAAO0nB,MAAP,CAAcgmB,CAAd,CAArB,CAAH,CAArB,CAAA,CAAqEhpC,KAArE,CAA2E,CAAC,CAAD,CAAG,EAAH,CAA3E,CACfkV,EAAA,CAAGszB,QAAH,EAAA,CAAchoC,OAAd,CAAsB,QAAQ,CAACuZ,CAAD,CAAO,CACpCA,CAAA,CAAK49C,QAAL,CAAgBA,CAAA,CAAS3uB,CAAA,CAAMjvB,CAAN,CAAWA,IAAX,CAAT,CADoB,CAArC,CAGA7E,EAAA,CAAGinE,SAAH,EAxD2F,CAA5F,CAHwB,CAlJO,CAiNhCQ,aAAcA,QAAQ,CAAC5iE,CAAD,CAAO,CAC5B,IAAA,CAAKA,IAAL,CAAYA,CACZ,KAAA,CAAKwoB,SAAL,CAAiB,EAFW,CAjNG,CAsNhC45C,UAAWA,QAAQ,CAACa,CAAD,CAAQ,CAAA,IAEtBj0C,EAAQ,IAAA,CAAKP,QAAL,EAFc,CAGzBha,EAAM,IAAA,CAAK6xC,YAAL,CAAkB,UAAlB,CAAA,CAA8BlzC,WAA9B,EAAA,CAA4C9W,IAA5C,CAAiD,KAAjD,CAANmY,CAA8D9jC,GAHrC;AAI5BhC,EAAS8lC,CAAT9lC,CAAak0F,YAJe,CAK5Bh0F,EAAQ4lC,CAAR5lC,CAAYq0F,WACH,KAAA,CAAKR,SAAL,EAKP,KAJH,IAAI5Q,EAAU7vE,EAAA,CAAGoV,WAAH,EAAA,CAAiBjR,MAAjB,CAAwB,CAAC,CAAD,CAAGzX,CAAH,CAAxB,CAAA,CAAoCsX,KAApC,CAA0C,CAAC,CAAD,CAAG,CAAH,CAA1C,CAAd,CAEIk9E,EAAY,EAFhB,CAGIlmC,EAAO,CAHX,CAIYrsD,EAAE,CAAX,CAAcA,CAAd,CAAgBo+C,CAAhB,CAAsBn+C,MAAtB,CAA8BD,CAAA,EAA9B,CAYC,GAXAqsD,CAAA,EAWI,CARqC,CAA5C,EAAI17C,MAAA,CAAOC,IAAP,CAAYwtC,CAAA,CAAMp+C,CAAN,CAAZ,CAAqBoyF,SAArB,CAAJ,CAAoCnyF,MAApC,CACCsyF,CAAA,CAAUlwF,IAAV,CAAe,CAAf,CADD,CAGCsO,MAAA,CAAO0nB,MAAP,CAAc+lB,CAAA,CAAMp+C,CAAN,CAAd,CAAuBoyF,SAAvB,CAAA,CAAkCv8E,OAAlC,CAA0C,QAAQ,CAACoW,CAAD,CAAM,CACvDsmE,CAAA,CAAUlwF,IAAV,CAAe4pB,CAAf,CADuD,CAAxD,CAKM,CAAmB,CAAnB,CAAAmyB,CAAA,CAAMp+C,CAAN,CAAA,CAAS43C,SAAb,CAGC,GAAKwG,CAAA,CAAMp+C,CAAN,CAAL,CAAc6jC,GAAd,CAcO,CACN,IAAIr8B,EAAI6gB,QAAA,CAAS+1B,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAT,CAGLmoC,EAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAuBzO,CAAvB,EAFYA,CAEZ,CAFc42C,CAAA,CAAMp+C,CAAN,CAEd,CAFuBiP,GAEvB,EADmB,CACnB,CACAmvC,EAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAuBoS,QAAA,CAAS+1B,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAT,CAAvB,CAAwDmoC,CAAA,CAAMp+C,CAAN,CAAxD,CAAiEkyF,MAAjE,CACA1qF,EAAA,CAAI6gB,QAAA,CAAS+1B,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAT,CACJmoC,EAAA,CAAMp+C,CAAN,CAAA,CAASwyF,EAAT,CAAYnwF,IAAZ,CAAiBmF,CAAjB,CACIA,EAAJ,EAAO42C,CAAA,CAAMp+C,CAAN,CAAP,CAAgBiP,GAAhB,GACCmvC,CAAA,CAAMp+C,CAAN,CADD,CACU43C,SADV,CACsB,CADtB,CARG,CAdP,IAWI,IAVIxoB,CAUA,CAVO/d,EAAA,CAAG6C,MAAH,CAAU2vB,CAAV,CAAA,CACT7tB,MADS,CACF,MADE,CAAA,CAETgH,IAFS,CAEJohC,CAAA,CAAMp+C,CAAN,CAFI,CAEKovB,IAFL,CAAA,CAGTnZ,IAHS,CAGJ,WAHI;AAGSmoC,CAAA,CAAMp+C,CAAN,CAHT,CAGkBgtE,QAHlB,CAAA,CAIT/2D,IAJS,CAIJ,aAJI,CAIW,QAJX,CAAA,CAKTA,IALS,CAKJ,GALI,CAKChY,CALD,CAKO,CALP,CAAA,CAMTgY,IANS,CAMJ,GANI,CAMClY,CAND,CAMSkF,IAAA,CAAKqK,MAAL,EANT,CAMuBvP,CANvB,CAM+B,CAN/B,CAAA,CAOTkY,IAPS,CAOJ,MAPI,CAO4C,CAAxC,EAAAtF,MAAA,CAAOC,IAAP,CAAYwtC,CAAA,CAAMp+C,CAAN,CAAZ,CAAqBoyF,SAArB,CAAA,CAAgCnyF,MAAhC,CAA4C,OAA5C,CAAsD,IAAA,CAAKowB,cAAL,EAAA,CAAsBC,eAAtB,CAAsC3f,MAAA,CAAOC,IAAP,CAAYwtC,CAAA,CAAMp+C,CAAN,CAAZ,CAAqBoyF,SAArB,CAAA,CAAgC17E,KAAhC,EAAtC,CAA+E,CAAA,CAA/E,CAP1D,CAUP,CAFJ0nC,CAAA,CAAMp+C,CAAN,CAEI,CAFKwyF,EAEL,CAFU,CAACz0F,CAAD,CAEV,CADJqgD,CAAA,CAAMp+C,CAAN,CACI,CADK6jC,GACL,CADWzU,CACX,CAAA,CAACijE,CAAD,EAAUryF,CAAV,CAAYqyF,CAAhB,CACC,KADD,CAdL,IA8B8B,EAAvB,CAAIj0C,CAAA,CAAMp+C,CAAN,CAAJ,CAAa43C,SAAb,CACFwG,CAAA,CAAMp+C,CAAN,CAAJ,CAAa6jC,GAAb,EAAuC,CAAvC,CAAoBua,CAAA,CAAMp+C,CAAN,CAApB,CAA6BwyF,EAA7B,CAAgCvyF,MAAhC,EACIm+C,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAuBmoC,CAAA,CAAMp+C,CAAN,CAAA,CAASwyF,EAAT,CAAYh3D,GAAZ,EAAvB,CAEA,CADA4iB,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAuBoS,QAAA,CAAS+1B,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAT,CAAvB,CAAwDmoC,CAAA,CAAMp+C,CAAN,CAAxD,CAAiEkyF,MAAjE,CACA,CAAA9zC,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,SAAlB,CAA6BirE,CAAA,CAAQ74D,QAAA,CAAS+1B,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAa5tB,IAAb,CAAkB,GAAlB,CAAT,CAAR,CAA7B,CAHJ,EAMCmoC,CAAA,CAAMp+C,CAAN,CAND,CAMU43C,SANV,CAMsB,CAPhB,CAUF,KAVE,EAUOwG,EAAA,CAAMp+C,CAAN,CAVP,GAWLo+C,CAAA,CAAMp+C,CAAN,CAAA,CAAS6jC,GAAT,CAAaxtB,MAAb,EACA;AAAA,OAAO+nC,CAAA,CAAMp+C,CAAN,CAAP,CAAgB6jC,GAZX,CAkBJ4uD,EAAAA,CAAwB,CAAlB,EAAAF,CAAA,CAAUtyF,MAAV,CAAsB,CAAtB,CAA8C,GAA9C,CAA0B5C,GAAA,CAAIq1F,IAAJ,CAASH,CAAT,CAChCI,EAAAA,CAAQ,IAAA,CAAKjnE,IAAL,CAAU,OAAV,CACZinE,EAAA,CAAMniE,QAAN,EAAA,CAAiB0mB,KAAjB,CAAuB,CAAvB,CAAA,CAA0BvmB,GAA1B,CAA8B,KAA9B,CAAqC8hE,CAArC,CACAE,EAAA,CAAMC,UAAN,CAAiB,CACVrrF,KAAM,MADI,CAEVyV,KAAM3f,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBs0C,CAAvB,CAA4B,MAA5B,CAFI,CAGVnwF,EAAG,GAHO,CAIVkF,EAAG,GAJO,CAAjB,CAMIqrF,EAAAA,CAAY,IAAA,CAAKnnE,IAAL,CAAU,eAAV,CAChBmnE,EAAA,CAAU9yD,SAAV,CAAqC,GAAjB,CAAAwyD,CAAA,CAAUtyF,MAAV,CAAuB,IAAA,CAAK6yF,QAAL,CAAcP,CAAd,CAAyB,GAAzB,CAA8B,CAAA,CAA9B,CAAA,CAAoCjhF,GAApC,CAAwC,QAAQ,CAACktB,CAAD,CAAO,CAAC,MAAOnhC,IAAA,CAAIq1F,IAAJ,CAASl0D,CAAT,CAAR,CAAvD,CAAvB,CAAyG+zD,CAA7H,CACAM,EAAA,CAAUzyF,QAAV,CAAmBisD,CAAnB,CAAwBwmC,CAAA,CAAUnS,OAAV,CAAkBxiF,QAAlB,EAAxB,CAAqDkgD,CAArD,CAA2Dn+C,MAA3D,CAEA,KAAA,CAAK8yF,mBAAL,CAAyB11F,GAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAe21C,SAAf,CAA0B,GAA1B,CAA+B,IAA/B,CAAzB,CApF0B,CAtNK,CA8ShCsB,SAAUA,QAAQ,CAACxzE,CAAD,CAAIvO,CAAJ,CAAOiiF,CAAP,CAAiB,CAC/B,GAAQ,CAAR,CAAIjiF,CAAJ,CACI,MAAO,CAACuO,CAAD,CAFoB,KAI3BgI,EAAMhI,CAANgI,CAAQrnB,MAJmB,CAKvBgpF,EAAM,EALiB,CAMvBjpF,EAAI,CAGZ,IAAgB,CAAhB,GAAIsnB,CAAJ,CAAUvW,CAAV,CAEI,IADApB,CACA,CADO1M,IAAA,CAAKupB,KAAL,CAAWlF,CAAX;AAAiBvW,CAAjB,CACP,CAAO/Q,CAAP,CAAWsnB,CAAX,CAAA,CACI2hE,CAAA,CAAI5mF,IAAJ,CAASid,CAAA,CAAE1c,KAAF,CAAQ5C,CAAR,CAAWA,CAAX,EAAgB2P,CAAhB,CAAT,CAHR,KAOK,IAAIqjF,CAAJ,CACD,IAAA,CAAOhzF,CAAP,CAAWsnB,CAAX,CAAA,CACI3X,CACA,CADO1M,IAAA,CAAK8qB,IAAL,EAAWzG,CAAX,CAAiBtnB,CAAjB,EAAsB+Q,CAAA,EAAtB,CACP,CAAAk4E,CAAA,CAAI5mF,IAAJ,CAASid,CAAA,CAAE1c,KAAF,CAAQ5C,CAAR,CAAWA,CAAX,EAAgB2P,CAAhB,CAAT,CAHH,KAOA,CAEDoB,CAAA,EACApB,EAAA,CAAO1M,IAAA,CAAKupB,KAAL,CAAWlF,CAAX,CAAiBvW,CAAjB,CAGP,KAFmB,CAEnB,GAFIuW,CAEJ,CAFU3X,CAEV,EADIA,CAAA,EACJ,CAAO3P,CAAP,CAAW2P,CAAX,CAAkBoB,CAAlB,CAAA,CACIk4E,CAAA,CAAI5mF,IAAJ,CAASid,CAAA,CAAE1c,KAAF,CAAQ5C,CAAR,CAAWA,CAAX,EAAgB2P,CAAhB,CAAT,CAEJs5E,EAAA,CAAI5mF,IAAJ,CAASid,CAAA,CAAE1c,KAAF,CAAQ+M,CAAR,CAAeoB,CAAf,CAAT,CATC,CAaL,MAAOk4E,EApCwB,CA9SH,CAqVhCt+C,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKpO,UAAL,CAAgBvjB,SAAhB,CADyB,CArVM,CAApC,C,CCDA3b,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCyI,OAAQ,iBAD0B,CAElC7H,OAAQ,CAAC,oBAAD,CAF0B,CAGlC4V,MAAO,gBAH2B,CAI/BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ7M,MAAO3jB,IAAAA,EADH,CAEJolC,MAAO,EAFH,CAGJkZ,SAAU,MAHN,CAIJ76C,KAAM,CAAC,cAAD,CAAgB,UAAhB,CAA2B,QAA3B,CAJF,CAKJ0rF,aAAc,CALV,CAHG,CAUXv8D,MAAO,mBAVI,CAJsB,CAiB/Bl7B,OAAQ,CACP03F,QAASpvF,IAAAA,EADF,CAEPqvF,WAAYrvF,IAAAA,EAFL,CAGPsvF,aAActvF,IAAAA,EAHP,CAIPuvF,aAAcvvF,IAAAA,EAJP,CAKPwvF,iBAAkB,CAAA,CALX,CAMPvwB,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CANF,CAjBuB,CA0B/Bk1F,uBAAwB,CACvB1+D,SAAU,CACTtwB,KAAM,CACLqC,MAAO,OADF,CADG,CADa,CAMvB4sF,OAAQ,CACPjvF,KAAM,CACLqC,MAAO,QADF,CADC,CANe;AAWvB6sF,aAAc,CACblvF,KAAM,CACLqC,MAAO,QADF,CADO,CAXS,CA1BO,CA2C/B8sF,YAAa,CACfC,MAAO,KADQ,CAEf/sF,MAAO,CACNrI,OAAQ,iBADF,CAEN0gE,WAAY,qBAFN,CAFQ,CAMf9T,QAAQ,CACE1jD,MAAO,CACLwH,IAAK,CADA,CAEL1L,IAAK,EAFA,CADT,CANO,CA3CkB,CAwDlCqwF,YAAa,CACZhtF,MAAO,CACNA,MAAO,iBADD,CAEN6vD,UAAW,OAFL,CAGNo9B,MAAO,KAHD,CADK,CAMZC,mBAAoB,CAAA,CANR,CAxDqB,CAgElCC,iBAAkB,CACjBxvF,KAAM,CACLqC,MAAO,OADF,CADW,CAIjBA,MAAO,CACNq4D,WAAY,OADN,CAJU,CAhEgB,CA6E/BphE,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF6B,CA7EC,CAkF/B2xB,cAAeA,QAAQ,EAAG,CAGtB,IAAA,CAAKqpD,aAAL,CAAmB32F,GAAA,CAAIu4B,MAAJ,CAAW,gBAAX;AAA6B,CAC/CC,OAAQ,CAAC,IAAD,CAAO,MAAP,CAAe,MAAf,CAAuB,SAAvB,CADuC,CAE/Co+D,WAAY,CAAA,CAFmC,CAG/Cv8C,QAAS,MAHsC,CAA7B,CAAnB,CAMAr6C,IAAA,CAAIoE,KAAJ,CARS8oB,IAQT,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEVo7B,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,CACJ74B,MAAO,OADH,CAEJ84B,UAAW,OAFP,CAGJM,WAAY,MAHR,CAIJD,aAAc,MAJV,CAKJE,MAAO,IAAA,CAAKw8D,aAAL,EALH,CAMJ11F,UAAW,CACzB0V,OAAQA,QAAQ,CAAC6rC,CAAD,CAAQz4C,CAAR,CAAgB,CAC/B,IAAA,CAAK6sF,UAAL,EAAA,CAAkBC,WAAlB,CAA8B,CAAC9sF,CAAA,CAAO9F,GAAP,CAAW,IAAX,CAAD,CAA9B,CAD+B,CADP,CAIzBjC,MAAO,IAJkB,CANP,CAAD,CAYL,CACDlB,MAAO,QADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CAFL,CAGDkJ,KAAM,CACLhI,MAAO,CAAC,CACP74B,MAAO,eADA,CAEP2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFC,CAGP+M,OAAQ,QAHD;AAIPd,QAAS,CAAA,CAJF,CAAD,CAKL,CACD5jC,MAAO,eADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CAFL,CAGD+M,OAAQ,UAHP,CAIDd,QAAS,CAAA,CAJR,CALK,CAUL,CACD5jC,MAAO,eADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,eAAd,CAFL,CAGD+M,OAAQ,cAHP,CAIDd,QAAS,CAAA,CAJR,CAVK,CAeL,CACD5jC,MAAO,QADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFL,CAGDztB,MAAO,cAHN,CAIDouB,QAAS,IAATA,CAAc09D,iBAJb,CAKD90F,MAAO,IALN,CAfK,CADF,CAHL,CAZK,CAuCL,CACblB,MAAO,aADM,CAEb0kC,OAAQ,cAFK,CAGb1L,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CAHC,CAIbsB,WAAY,OAJC,CAKbC,WAAY,GALC,CAMbt5B,MAAO,GANM,CAOb2kC,SAAU,EAPG,CAQbD,SAAU,CARG,CASb2xD,cAAe,CAAA,CATF,CAUbC,iBAAkB,CAAA,CAVL,CAWbC,oBAAqB,CAAA,CAXR;AAYbh2F,UAAW,CACV6vD,OAAQA,QAAQ,CAAC7a,CAAD,CAAQ,CACvBA,CAAA,CAAMihD,WAAN,CAAkB,IAAA,CAAK9sE,WAAL,CAAiB,cAAjB,CAAlB,CADuB,CADd,CAIVsb,OAAQA,QAAQ,CAACuQ,CAAD,CAAQrQ,CAAR,CAAgB,CAC3BqQ,CAAA,CAAMmf,OAAN,EAAJ,GACC,IAAA,CAAK59B,WAAL,CAAiB,cAAjB,CAAiCoO,CAAjC,CACA,CAAA,IAAA,CAAK8Q,WAAL,EAFD,CAD+B,CAJtB,CAUV10C,MAAO,IAVG,CAZE,CAvCK,CA+DL,CAAElB,MAAO,aAAT,CA/DK,CA+DoB,CAC1BA,MAAO,QADmB,CAE1Bg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,WAAd,CAFc,CAG1BsB,WAAY,OAHc,CAI1BC,WAAY,EAJc,CAK1Bt5B,MAAO,GALmB,CAM1Bf,MAAO,GANmB,CAO1B2lC,UAAW,EAPe,CAQ1BF,SAAU,CARgB,CAS1BC,SAAU,GATgB,CAU1BpkC,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASjX,CAAT,CAAc,CACrC,IAAA,CAAKkoE,UAAL,EAAA,CAAkB/6B,OAAlB,CAA0B2J,OAA1B,CAAkC2xB,SAAlC,CAA4CC,YAA5C,CAA2D1oE,CAC3D,KAAA,CAAKkoE,UAAL,EAAA,CAAkBS,eAAlB,EAFqC,CAD5B,CAKVr1F,MAAO,IALG,CAVe,CA/DpB,CAgFL,CACDlB,MAAO,QADN;AAEDg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,WAAd,CAFX,CAGDsB,WAAY,OAHX,CAIDC,WAAY,EAJX,CAKDt5B,MAAO,GALN,CAMDf,MAAO,CANN,CAOD2lC,UAAW,CAPV,CAQDF,SAAU,CART,CASDC,SAAU,EATT,CAUDpkC,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASjX,CAAT,CAAc,CACrCA,CAAA,EAAO,GACP,KAAA,CAAKkoE,UAAL,EAAA,CAAkB/6B,OAAlB,CAA0B2J,OAA1B,CAAkC2xB,SAAlC,CAA4CG,cAA5C,CAA6D5oE,CAC7D,KAAA,CAAKkoE,UAAL,EAAA,CAAkBS,eAAlB,EAHqC,CAD5B,CAMVr1F,MAAO,IANG,CAVV,CAhFK,CAkGL,CACDlB,MAAO,QADN,CAEDg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,UAAd,CAFX,CAGDsB,WAAY,OAHX,CAIDC,WAAY,EAJX,CAKDt5B,MAAO,GALN,CAMDf,MAAO,CANN,CAOD2lC,UAAW,EAPV,CAQDF,SAAU,CART,CASDC,SAAU,GATT,CAUDpkC,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASjX,CAAT,CAAc,CACrCA,CAAA,EAAO,GACP,KAAA,CAAKkoE,UAAL,EAAA,CAAkB/6B,OAAlB,CAA0B2J,OAA1B,CAAkC2xB,SAAlC,CAA4C/9B,OAA5C;AAAsD1qC,CACtD,KAAA,CAAKkoE,UAAL,EAAA,CAAkBS,eAAlB,EAHqC,CAD5B,CAMVr1F,MAAO,IANG,CAVV,CAlGK,CAJG,CAAD,CAFH,CAAd,CA8HA,KAAA,CAAK8T,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACb,CAAhC,EAAIA,CAAA,CAAOC,iBAAP,EAAJ,EACC,IAAA,CAAK8B,WAAL,CAAiB,cAAjB,CAAiC,CAAjC,CAED,KAAA,CAAKkf,WAAL,EAJ6C,CAA9C,CAKG,IALH,CAOA,KAAA,CAAK5gC,EAAL,CAAQ,QAAR,CAAkB,QAAQ,CAACosB,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,EAAjD,CAEH,IAFG,CA7ISwsB,KAiJT,CAAGgS,UAAH,CAAcvjB,SAAd,CAlJsB,CAlFK,CAuO/Bi7B,YAAaA,QAAQ,EAAG,CACvB,IAAItI,EAAW,IAAA,CAAK/jB,SAAL,EAAA,CAAiBE,KAAjB,EAAf,CACIhoB,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACTr5D,EAAA,CAAG0kC,IAAH,CAAQ,IAAA,CAAKxO,QAAL,CAAc,iBAAd,CAAR,CACA34B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK,IAAA,CAAKnR,cAAL,EAAA,CAAsBgZ,cAAtB,EADW,CAEhB+/B,OAAQ,MAFQ,CAGhB36C,OAAQ,CACPgS,KAAM,gCADC;AAEPl5B,KAAM,IAAA,CAAKogB,WAAL,CAAiB,MAAjB,CAFC,CAGPuhB,MAAO,IAAA,CAAKvhB,WAAL,CAAiB,OAAjB,CAHA,CAIPsrE,aAAc,IAAA,CAAKtrE,WAAL,CAAiB,cAAjB,CAJP,CAKPqL,OAAQ2Y,CALD,CAHQ,CAUnBqK,QAAS,GAVU,CAWhB/D,QAASA,QAAQ,CAAC5U,CAAD,CAAW,CAC3Bv9B,CAAA,CAAGwuB,MAAH,EACI7K,EAAAA,CAAMpmB,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACoC,EAA9C,EAAI/Z,CAAJ,CAAQqxE,uBAAR,CAAgC58C,KAAhC,CAAsCj4C,MAAtC,EACC,IAAA,CAAK8zB,SAAL,CAAe,CAACkI,IAAK,IAAA,CAAKjG,QAAL,CAAc,YAAd,CAAN,CAAf,CACA,CAAA34B,GAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB,IAAA,CAAKjT,QAAL,CAAc,OAAd,CAAhB,CAAwC,IAAA,CAAKA,QAAL,CAAc,wBAAd,CAAxC,CAAiF,QAAQ,CAAC6vB,CAAD,CAAS,CAClF,KAAf,GAAIA,CAAJ,GACKkvC,CAGJ,CAHmB9xF,IAAA,CAAKM,GAAL,CAAS,CAAT,CAAY,IAAA,CAAKokB,WAAL,CAAiB,cAAjB,CAAZ,CAA6C,CAA7C,CAGnB,CAFA,IAAA,CAAKkC,SAAL,CAAe,cAAf,CAAA,CAA+B4qE,WAA/B,CAA2CM,CAA3C,CAEA,CADA,IAAA,CAAKhgE,WAAL,CAAiB,cAAjB;AAAiCggE,CAAjC,CACA,CAAA,IAAA,CAAK9gD,WAAL,EAJD,CADiG,CAAlG,CAOG,IAPH,CAFD,GAYI,IAAA,CAAK+gD,eAAL,CAAqBvxE,CAArB,CAAyBqxE,uBAAzB,CACA,CAAA,IAAA,CAAK19B,SAAL,EAbJ,CAH2B,CAXZ,CA8BhB73D,MAAO,IA9BS,CAAjB,CAJuB,CAvOO,CA6Q/By1F,gBAAiBA,QAAQ,CAACC,CAAD,CAAe,CACvC,IAAI74E,EAAQ64E,CAAR74E,CAAqBA,KACrB87B,EAAAA,CAAQ+8C,CAAR/8C,CAAqBA,KAGzB,KAAIuiB,EAASppD,EAAA,CAAGopD,MAAH,CAAUr+C,CAAV,CAAiB,QAAQ,CAACnK,CAAD,CAAO,CAAC,MAAOA,EAAP,CAAYnL,OAAb,CAAhC,CAAb,CACImI,EAAMwrD,CAAA,CAAO,CAAP,CACNl3D,EAAAA,CAAMk3D,CAAA,CAAO,CAAP,CACV,KAAIy6B,EAAY7jF,EAAA,CAAGoV,WAAH,EAAA,CACAjR,MADA,CACO,CAACvG,CAAD,CAAM1L,CAAN,CADP,CAAA,CAEA8R,KAFA,CAEM,CAAC,EAAD,CAAK,EAAL,CAFN,CAIZ8/E,EAAAA,CAAW,EACf,KAASn1F,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBoc,CAApB,CAA0Bnc,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CACtC,IAAI+Q,EAAIqL,CAAA,CAAMpc,CAAN,CACR+Q,EAAA,CAAE5S,EAAF,CAAO6B,CACPm1F,EAAA,CAAS9yF,IAAT,CAAc,CAAClE,GAAI6B,CAAL,CAAQyH,MAAOsJ,CAAPtJ,CAASxK,IAAjB,CAAuBC,MAAOkf,CAAA,CAAMpc,CAAN,CAAP9C,CAAgB4J,OAAvC,CAAgDvC,KAAM,CAACoL,KAAMulF,CAAA,CAAUnkF,CAAV,CAAYjK,OAAZ,CAAP,CAA6BF,MAAO,IAAA,CAAK2sF,sBAAL,CAA4BxiF,CAA5B,CAA8BxJ,IAA9B,CAAPX,CAA2CrC,IAA3CqC,CAAgDA,KAA7E,CAAtD,CAA2IW,KAAMwJ,CAANxJ,CAAQA,IAAnJ,CAAyJT,QAASiK,CAATjK,CAAWA,OAApK,CAA6K1C,MAAO2M,CAAP3M,CAASnH,IAATmH,EAAiB2M,CAAA,CAAEjK,OAAF;AAAY,IAAZ,CAAiBiK,CAAjB,CAAmBjK,OAAnB,CAA2B,GAA3B,CAA+B,EAAhD1C,CAA7K,CAAd,CAHsC,CAMvC,IAAA,CAAK8vF,aAAL,EAAA,CAAqBvqC,QAArB,CAA8BvtC,CAA9B,CAEIg5E,EAAAA,CAAW,EACf,KAASp1F,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBk4C,CAApB,CAA0Bj4C,MAA1B,CAAkCD,CAAA,EAAlC,CACK0d,CACJ,CADWw6B,CAAA,CAAMl4C,CAAN,CACX,CADoBoc,KACpB,CAAAg5E,CAAA,CAAS/yF,IAAT,CAAc,CAAC00C,KAAMr5B,CAAA,CAAK,CAAL,CAAP,CAAgB23E,GAAI33E,CAAA,CAAK,CAAL,CAApB,CAA6BtZ,MAAO8zC,CAAA,CAAMl4C,CAAN,CAAPoE,CAAgBuD,KAA7C,CAAoDzK,MAAO,GAAPA,CAAWg7C,CAAA,CAAMl4C,CAAN,CAAX9C,CAAoByK,KAAxE,CAAd,CAGD,KAAA,CAAK2tF,eAAL,CAAqB,IAAIn7E,GAAJ,CAAQo7E,OAAR,CAAgBJ,CAAhB,CAArB,CACA,KAAA,CAAKK,eAAL,CAAqB,IAAIr7E,GAAJ,CAAQo7E,OAAR,CAAgBH,CAAhB,CAArB,CA5BuC,CA7QT,CA4S/Bh+B,UAAWA,QAAQ,EAAG,CACrB,IAAIt3D,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACTr5D,EAAA,CAAGwb,MAAH,CAAU,EAAV,CAGAxb,EAAA,CAAGM,QAAH,CAAYN,CAAA,CAAG5B,QAAH,EAAZ,CACA4B,EAAA,CAAGiE,SAAH,CAAajE,CAAA,CAAG9B,SAAH,EAAb,CAEA,KAAI+kE,EAAU,CAChBijB,YAAa,CACT6N,MAAO,CAAA,CADE,CAET4B,oBAAqB,CAAA,CAFZ,CAGTC,YAAa,CAAA,CAHJ,CADG,CAMbt8B,QAAS,CACRu8B,OAAQ,WADA,CAERjB,UAAW,CACV99B,eAAgB,EADN,CAFH,CANI;AAYbx6C,MAAO,IAAPA,CAAYs3E,WAZC,CAabx7C,MAAO,IAAPA,CAAY07C,WAbC,CAAd,CAiBIV,EAAU,IAAI/4E,GAAJ,CAAQy7E,OAAR,CAAgB91F,CAAhB,CAAmBC,GAAnB,CAAwB,CACrCqc,MAAO,IAAA,CAAKy5E,eAAL,EAD8B,CAErC39C,MAAO,IAAA,CAAK49C,eAAL,EAF8B,CAAxB,CAGX/yB,CAHW,CAKd,IAAI,IAAA,CAAKgzB,mBAAL,EAAJ,CACC7C,CAAA,CAAQ7/E,EAAR,CAAW,eAAX,CAA4B,QAAS,CAACzW,CAAD,CAAM,CAC1C,IAAIkD,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACLl7D,EAAAA,CAAQ6B,CAAA,CAAG5B,QAAH,EACRH,EAAAA,CAAS+B,CAAA,CAAG9B,SAAH,EAEV,KAAIg4F,EAAgB9C,CAAA,CAAQ9+C,YAAR,EAApB,CACSj2C,CAAT,KAASA,CAAT,GAAe63F,EAAf,CAA8B,CAE7B,IAAIhqF,EAAKknF,CAAA,CAAQ+C,WAAR,CADED,CAAA/jF,CAAc9T,CAAd8T,CACF,CAGLikF,EAAAA,CAAMhD,CAAA,CAAQiD,WAAR,CAAoB,CAAC7zF,EAFhBW,IAAAmzF,CAAK7yF,GAAL6yF,CAAS,CAATA,CAAYnzF,IAAA,CAAKgM,GAAL,CAAShR,CAAT,CAAgB+N,CAAhB,CAAmB1J,CAAnB,CAAZ8zF,CAEe,CAAc5uF,EAD7BvE,IAAAozF,CAAK9yF,GAAL8yF,CAAS,CAATA,CAAYpzF,IAAA,CAAKgM,GAAL,CAASlR,CAAT,CAAiBiO,CAAjB,CAAoBxE,CAApB,CAAZ6uF,CACe,CAApB,CACVnD,EAAA,CAAQ5qF,IAAR,CAAa8T,KAAb,CAAmBje,CAAnB,CAAA,CAAuBmE,CAAvB,CAA2B4zF,CAA3B,CAA+B5zF,CAC/B4wF,EAAA,CAAQ5qF,IAAR,CAAa8T,KAAb,CAAmBje,CAAnB,CAAA,CAAuBqJ,CAAvB,CAA2B0uF,CAA3B,CAA+B1uF,CAPF,CANS,CAAf,CAe1BxI,IAf0B,CAerB,IAfqB,CAA5B,CAkBDk0F,EAAA,CAAQ7/E,EAAR,CAAW,YAAX,CAAyB,QAAQ,CAACob,CAAD,CAAS,CAEzC,IAAA,CAAK6nE,YAAL,CADW7nE,CAAAxc,CAAOmK,KAAPnK,CAAa,CAAbA,CACX,CAFyC,CAAjB,CAGvBjT,IAHuB,CAGlB,IAHkB,CAAzB,CAIAk0F;CAAA,CAAQ7/E,EAAR,CAAW,cAAX,CAA2B,QAAQ,CAACob,CAAD,CAAS,CAC3CykE,CAAA,CAAQqD,WAAR,EAEItkF,EAAAA,CAAOwc,CAAA,CAAOrS,KAAP,CAAa,CAAb,CACEtY,KAAAA,EAAb,GAAImO,CAAJ,EAECjN,UAAA,CAAW,IAAA,CAAKsxF,YAAL,CAAkBt3F,IAAlB,CAAuB,IAAvB,CAAX,CAAyC,CAAzC,CAA4CiT,CAA5C,CAN0C,CAAjB,CAQzBjT,IARyB,CAQpB,IARoB,CAA3B,CASAk0F,EAAA,CAAQ7/E,EAAR,CAAW,YAAX,CAAyB,QAAQ,CAACob,CAAD,CAAS,CAEzCykE,CAAA,CAAQqD,WAAR,EAFyC,CAA1C,CAKA,KAAA,CAAKC,UAAL,CAAgBtD,CAAhB,CAnEqB,CA5SS,CAkX/BoD,aAAcA,QAAQ,CAACrkF,CAAD,CAAO,CAC/B,IAAIhV,EAAO,IAAA,CAAK44F,eAAL,EAAA,CAAuBr0F,GAAvB,CAA2ByQ,CAA3B,CAAPhV,CAAwCwK,KAC5C,KAAA,CAAK44B,aAAL,CAAmB,cAAnB,CAAmC,IAAnC,CAAyC,CAACpjC,CAAD,CAAzC,CACOi2F,EAAAA,CAAU,IAAA,CAAKiB,UAAL,EACjB,KAAI/3E,EAAQ82E,CAAA,CAAQuD,iBAAR,CAA0BxkF,CAA1B,CACZmK,EAAA,CAAM/Z,IAAN,CAAW4P,CAAX,CACIimC,EAAAA,CAAQg7C,CAAA,CAAQwD,iBAAR,CAA0BzkF,CAA1B,CAGZihF,EAAA,CAAQqD,WAAR,EACA,KAAK,IAAIv2F,EAAI,CAAb,CAAgBA,CAAhB,CAAoBoc,CAApB,CAA0Bnc,MAA1B,CAAkCD,CAAA,EAAlC,CAGCkzF,CAAA,CAAQyD,gBAAR,CAAyBC,YAAzB,CADc1D,CAAA2D,CAAQvuF,IAARuuF,CAAaz6E,KAAby6E,CADNz6E,CAAArL,CAAM/Q,CAAN+Q,CACM8lF,CACd,CAA+C,CAAA,CAA/C,CAED,KAAS72F,CAAT,CAAa,CAAb,CAAgBA,CAAhB;AAAoBk4C,CAApB,CAA0Bj4C,MAA1B,CAAkCD,CAAA,EAAlC,CAGCkzF,CAAA,CAAQyD,gBAAR,CAAyBC,YAAzB,CADc1D,CAAA4D,CAAQxuF,IAARwuF,CAAa5+C,KAAb4+C,CADN5+C,CAAAlrC,CAAMhN,CAANgN,CACM8pF,CACd,CAA+C,CAAA,CAA/C,CAGD5D,EAAA,CAAQ7+E,MAAR,EArB+B,CAlXE,CA0Y/BggF,kBAAmBA,QAAQ,CAAC/yE,CAAD,CAAO,CACjC,IAAI2d,EAAa,EACjB3d,EAAA,CAAKyW,EAAL,CAAQ,MAAR,CAAA,CAAgBb,KAAhB,CAAsB1zB,IAAtB,CAA2B,QAAQ,CAACuzF,CAAD,CAAY,CAC1CA,CAAJ,CAAc90D,OAAd,EACChD,CAAA,CAAW58B,IAAX,CAAgB00F,CAAhB,CAA0Bh0D,MAA1B,CAF6C,CAA/C,CAMA,KAAA,CAAKhO,WAAL,CAAiB,MAAjB,CAAyBkK,CAAzB,CACA,KAAA,CAAKgV,WAAL,EATiC,CA1YH,CAsZ/B3iC,IAAKA,QAAQ,CAACpU,CAAD,CAAQ2wE,CAAR,CAAgBC,CAAhB,CAAuB7N,CAAvB,CAA+B8N,CAA/B,CAAsC,CACrD,MAAO9N,EAAP,EAAqC/iE,CAArC,CAA6C2wE,CAA7C,GAAwDC,CAAxD,CAAgED,CAAhE,GAAiBE,CAAjB,CAAyB9N,CAAzB,CADqD,CAtZpB,CAAnC,C,CCAA5iE,GAAA,CAAIk2B,MAAJ,CAAW,mBAAX,CAAgC,CAC5ByI,OAAQ,iBADoB,CAE5B7H,OAAQ,CAAC,oBAAD,CAFoB,CAG5B4V,MAAO,aAHqB,CAI5BxU,QAAS,CACLG,KAAM,CACLtxB,MAAO,MADF,CAEL4yF,SAAU,UAFL,CAGLC,iBAAkB,aAHb,CAILC,cAAe,UAJV,CAKLC,mBAAoB,cALf,CAMLC,WAAY,OANP,CAOLC,iBAAkB,cAPb,CAQLC,oBAAqB,4EARhB,CASLC,cAAe,gBATV,CAULC,iBAAkB,0EAVb;AAWLC,aAAc,eAXT,CAYLC,gBAAiB,kEAZZ,CAaLC,cAAe,gBAbV,CAcLC,iBAAkB,uEAdb,CAeLC,aAAc,eAfT,CAgBLC,gBAAiB,8EAhBZ,CAiBLC,uBAAwB,0BAjBnB,CAkBLC,0BAA2B,2OAlBtB;AAmBLC,yBAA0B,qCAnBrB,CAoBLC,4BAA6B,6MApBxB,CAqBLC,mCAAoC,oDArB/B,CAsBLC,sCAAuC,iNAtBlC;AAuBLC,iBAAkB,aAvBb,CAwBLC,oBAAqB,sDAxBhB,CAyBLC,2BAA4B,wBAzBvB,CA0BLC,8BAA+B,wEA1B1B,CA2BLC,2BAA4B,kCA3BvB,CA4BLC,8BAA+B,oGA5B1B,CA6BLC,sCAAuC,8CA7BlC;AA8BLC,yCAA0C,gHA9BrC,CA+BLC,2BAA4B,kCA/BvB,CAgCLC,8BAA+B,oGAhC1B,CAiCLC,sCAAuC,8CAjClC,CAkCLC,yCAA0C,gHAlCrC;AAmCLC,qBAAsB,sBAnCjB,CAoCLC,wBAAyB,wFApCpB,CAqCLC,qBAAsB,sBArCjB,CAsCLC,wBAAyB,wFAtCpB,CAuCLC,aAAc,UAvCT,CAwCLC,eAAgB,+BAxCX,CAyCLC,qBAAsB,0CAzCjB,CA0CLC,gBAAiB,6CA1CZ;AA2CLC,4BAA6B,4CA3CxB,CA4CLC,4BAA6B,6CA5CxB,CA6CLC,6BAA8B,uDA7CzB,CA8CLC,2BAA4B,iDA9CvB,CA+CLC,4BAA6B,yCA/CxB,CAgDLC,aAAc,WAhDT,CAiDL3uC,QAAS,SAjDJ,CAkDL1kC,YAAa,QAlDR,CAmDLrR,SAAU,aAnDL,CAoDL2kF,UAAW,aApDN,CADD,CAwDLzlE,IAAK,CACD4U,MAAO,GADN;AAEDkZ,SAAU,MAFT,CAGD43C,YAAal2F,IAAAA,EAHZ,CAIDm2F,SAAUn2F,IAAAA,EAJT,CAKDo2F,QAASp2F,IAAAA,EALR,CAMDq2F,SAAUr2F,IAAAA,EANT,CAODs2F,WAAYt2F,IAAAA,EAPX,CAQDu2F,sBAAuBv2F,IAAAA,EARtB,CASDgD,QAAShD,IAAAA,EATR,CAUDw2F,kBAAmBx2F,IAAAA,EAVlB,CAWDy2F,oBAAqBz2F,IAAAA,EAXpB,CAYD02F,8BAA+B12F,IAAAA,EAZ9B,CAaD22F,sBAAuB32F,IAAAA,EAbtB,CAcD42F,sBAAuB52F,IAAAA,EAdtB,CAeD62F,iCAAkC72F,IAAAA,EAfjC,CAgBD82F,iCAAkC92F,IAAAA,EAhBjC,CAiBD+2F,gBAAiB/2F,IAAAA,EAjBhB,CAkBDg3F,gBAAiBh3F,IAAAA,EAlBhB,CAmBDqnD,QAAS,QAnBR,CAxDA,CA6ELz0B,MAAO,mBA7EF,CAJmB,CAoF5Bl7B,OAAQ,CACPk8B,MAAO5zB,IAAAA,EADA,CAEPpC,MAAOoC,IAAAA,EAFA,CAGPi/D,QAAS,CACR,CAAC1kE,MAAO,gBAAR,CADQ;AACkB,CAACA,MAAO,kBAAR,CADlB,CAHF,CAMP24F,SAAUlzF,IAAAA,EANH,CApFoB,CA8F5BjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF0B,CA9FF,CAmG5B2xB,cAAeA,QAAQ,EAAG,CAEtB,IAAA,CAAKxW,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CAEH,KAAIg+E,EAAW,IAAI35F,GAAJ,CAAQC,IAAR,CAAaC,eAAb,CAA6B,CAC3Cw9F,eAAgB,CAAA,CAD2B,CAA7B,CAGf/D,EAAA,CAAS51B,MAAT,CAAgB,CACf44B,YAAa,IAAIrmE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CACxC50C,MAAO,UADiC,CAExCzpC,KAAM,aAFkC,CAGxCs+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKwjE,MAAL,CAAY,CAAZ,CACA,KAAA,CAAKC,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAF4B,CAHW,CAOrCm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAC5BK,CAAAA;AAAQL,CAAA,CAAOkqC,gBAAP,EAAA,CAA0BtgC,MAA1B,CAAiC,QAAQ,CAAC+a,CAAD,CAAM,CAAC,MAAW,EAAX,CAAOA,CAAR,CAA/C,CAARtkB,CAAuE1H,MAC3E,OAAO0H,EAAP,EAAgB,IAAA,CAAK0zF,MAAL,EAAhB,EAAiC1zF,CAAjC,EAA0C,IAAA,CAAK2zF,OAAL,EAFV,CAPI,CAA5B,CADE,CAafrB,SAAU,IAAItmE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CACrC50C,MAAO,UAD8B,CAErCzpC,KAAM,UAF+B,CAGrC4+E,cAAe,CAAA,CAHsB,CAIrCN,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAAqD,CAArD,CAD4B,CAJQ,CAOlCm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAChC,KADgD98D,CAChD,CADuDl3B,CAAA,CAAOkqC,gBAAP,EACvD,CAAgBxxC,CAAhB,CAAkBy7F,CAAlB,CAAuB,CAAvB,CAA0Bz7F,CAAA,EAA1B,CACC,GAAY,CAAZ,CAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,CAAgB,MAAO,CAAA,CAExB,OAAO,CAAA,CALyB,CAPC,CAA5B,CAbK,CA4Bfk6F,QAAS,IAAIvmE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CACpC50C,MAAO,UAD6B,CAEpCzpC,KAAM,SAF8B,CAGpC4+E,cAAe,CAAA,CAHqB,CAIpCN,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C;AAAqD,CAArD,CAD4B,CAJO,CAOjCm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAChC,KADgD98D,CAChD,CADuDl3B,CAAA,CAAOkqC,gBAAP,EACvD,CAAgBxxC,CAAhB,CAAkBy7F,CAAlB,CAAuB,CAAvB,CAA0Bz7F,CAAA,EAA1B,CACC,GAAa,CAAb,EAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,CAAiB,MAAO,CAAA,CAEzB,OAAO,CAAA,CALyB,CAPA,CAA5B,CA5BM,CA2Cfm6F,SAAU,IAAIxmE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CACrC50C,MAAO,UAD8B,CAErCzpC,KAAM,UAF+B,CAGrC4+E,cAAe,CAAA,CAHsB,CAIrCN,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAAqD,CAArD,CAD4B,CAJQ,CAOlCm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgB98D,EAAAA,CAAOl3B,CAAA,CAAOkqC,gBAAP,EACvD,KAAK,IAAIxxC,EAAE,CAAX,CAAcA,CAAd,CAAgBw+B,CAAhB,CAAqBv+B,MAArB,CAA6BD,CAAA,EAA7B,CACC,GAAIA,CAAJ,CAAMw7F,CAAN,EAAax7F,CAAb,CAAey7F,CAAf,CACC,IAAY,CAAZ,CAAIj9D,CAAA,CAAKx+B,CAAL,CAAJ,CAAgB,MAAO,CAAA,CAAvB,CADD,IAGC,IAAa,CAAb,EAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,CAAiB,MAAO,CAAA,CAG1B,OAAO,CAAA,CATyB,CAPC,CAA5B,CA3CK,CA8Df8G,QAAS,IAAI6sB,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CACpC50C,MAAO,aAD6B;AAEpCzpC,KAAM,SAF8B,CAGpC4+E,cAAe,CAAA,CAHqB,CAIpCN,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CACxB8G,CAAAA,CAAO9G,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEx4B,GAAF,CAAM,SAAN,CAAR,CAAjC,CACX,KAAA,CAAK05F,MAAL,CAAY79F,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcuvB,CAAd,CAAZ,CACA,KAAA,CAAK28D,MAAL,CAAY99F,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAci7B,CAAd,CAAZ,CAH4B,CAJO,CASjC48D,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgBrvE,EAAAA,CAAM3kB,CAAA,CAAO9F,GAAP,CAAW,SAAX,CACtD,OAAOyqB,EAAP,EAAYuvE,CAAZ,EAAmBvvE,CAAnB,EAA0BwvE,CAFM,CATA,CAA5B,CA9DM,CA4EfnB,kBAAmB,IAAI3mE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAC9C50C,MAAO,aADuC,CAE9CzpC,KAAM,mBAFwC,CAG9C1N,IAAK,CAHyC,CAI9C1L,IAAK,GAJyC,CAK9C03F,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAK8G,IAAL,CAAY9G,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEx4B,GAAF,CAAM,SAAN,CAAR,CAAjC,CACZ,KAAA,CAAKg9B,IAAL,CAAUr9B,IAAV,CAAe,QAAS,CAACme,CAAD,CAAItY,CAAJ,CAAO,CAAG,MAAOsY,EAAP;AAAWtY,CAAd,CAA/B,CAF4B,CALiB,CAS3Co0F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAC/BI,EAAAA,CAAMr+F,GAAA,CAAIu9B,KAAJ,CAAUv2B,OAAV,CAAkB,IAAlB,CAAuBm6B,IAAvB,CAA6Bl3B,CAAA,CAAO9F,GAAP,CAAW,SAAX,CAA7B,CACNyqB,EAAAA,CAAMhpB,IAAA,CAAKyF,KAAL,CAAe,GAAf,CAAWgzF,CAAX,CAAmB,IAAnB,CAAwBl9D,IAAxB,CAA6Bv+B,MAA7B,CACP,OAAOgsB,EAAP,EAAYuvE,CAAZ,EAAmBvvE,CAAnB,EAA0BwvE,CAJM,CATU,CAA5B,CA5EJ,CA4FflB,oBAAqB,IAAI5mE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAChD50C,MAAO,aADyC,CAEhDzpC,KAAM,qBAF0C,CAGhDs+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAIikE,EAAUt+F,GAAA,CAAIu9B,KAAJ,CAAU1xB,OAAV,CAAkBwuB,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEwX,gBAAF,EAAR,CAAjC,CAAlB,CAAd,CAEIze,EAAQ1hB,EAAA,CAAGoV,WAAH,EAAA,CAAiBjR,MAAjB,CAAwB,CAACnE,EAAA,CAAGpC,GAAH,CAAO0sF,CAAP,CAAD,CAAiBtqF,EAAA,CAAG9N,GAAH,CAAOo4F,CAAP,CAAjB,CAAxB,CAAA,CAA2DtmF,KAA3D,CAAiE,CAAC,CAAD,CAAG,GAAH,CAAjE,CACZqiB,EAAA,CAAMl0B,IAAN,CAAW,QAAQ,CAAC8D,CAAD,CAAS,CAC3B,GAAwCxD,IAAAA,EAAxC,GAAIwD,CAAA,CAAO9F,GAAP,CAAW,qBAAX,CAAJ,CAAmD,CAGlD,IAAIg9B;AAAOl3B,CAAA,CAAOkqC,gBAAP,EAAX,CACIoqD,EAAap9D,CAAA,CAAKltB,GAAL,CAAS,QAAQ,CAACg6B,CAAD,CAAI,CAAC,MAAOvY,EAAA,CAAMuY,CAAN,CAAR,CAArB,CADjB,CAEImnD,EAAMp1F,GAAA,CAAIu9B,KAAJ,CAAU83D,IAAV,CAAekJ,CAAf,CACTC,EAAAA,CAAcr9D,CAAA,CAAKltB,GAAL,CAAS,QAAQ,CAACpU,CAAD,CAAO,CAC1BA,CAAP4hD,EAAe2zC,CAEnB,OADc3zC,EACd,CADqBA,CAFgB,CAAxB,CAKdg9C,EAAAA,CAAgBz+F,GAAA,CAAIu9B,KAAJ,CAAU83D,IAAV,CAAemJ,CAAf,CAEpBv0F,EAAA,CAAOqpB,GAAP,CAAW,qBAAX,CADa1tB,IAAA84F,CAAKhxF,IAALgxF,CAAUD,CAAVC,CACb,CAbqD,CADxB,CAA5B,CAiBIv9D,EAAAA,CAAO9G,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEx4B,GAAF,CAAM,qBAAN,CAAR,CAAjC,CACX,KAAA,CAAK05F,MAAL,CAAY79F,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcuvB,CAAd,CAAZ,CACA,KAAA,CAAK28D,MAAL,CAAY99F,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAci7B,CAAd,CAAZ,CAvB4B,CAHmB,CA4B7C48D,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAC/BrvE,EAAAA,CAAM3kB,CAAA,CAAO9F,GAAP,CAAW,qBAAX,CACP,OAAOyqB,EAAP,EAAYuvE,CAAZ,EAAmBvvE,CAAnB,EAA0BwvE,CAHM,CA5BY,CAA5B,CA5FN,CA8HfjB,8BAA+B,IAAI7mE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAC1D50C,MAAO,aADmD;AAE1DzpC,KAAM,+BAFoD,CAG1D1N,IAAK,CAHqD,CAI1D1L,IAAK,GAJqD,CAK1D03F,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAK8G,IAAL,CAAY9G,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEx4B,GAAF,CAAM,qBAAN,CAAR,CAAjC,CACZ,KAAA,CAAKg9B,IAAL,CAAUr9B,IAAV,CAAe,QAAS,CAACme,CAAD,CAAItY,CAAJ,CAAO,CAAG,MAAOsY,EAAP,CAAWtY,CAAd,CAA/B,CAF4B,CAL6B,CASvDo0F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAC/BI,EAAAA,CAAMr+F,GAAA,CAAIu9B,KAAJ,CAAUv2B,OAAV,CAAkB,IAAlB,CAAuBm6B,IAAvB,CAA6Bl3B,CAAA,CAAO9F,GAAP,CAAW,qBAAX,CAA7B,CACNyqB,EAAAA,CAAMhpB,IAAA,CAAKyF,KAAL,CAAe,GAAf,CAAWgzF,CAAX,CAAmB,IAAnB,CAAwBl9D,IAAxB,CAA6Bv+B,MAA7B,CACP,OAAOgsB,EAAP,EAAYuvE,CAAZ,EAAmBvvE,CAAnB,EAA0BwvE,CAJM,CATsB,CAA5B,CA9HhB,CA8IfO,YAAa,IAAIroE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CACxC50C,MAAO,OADiC,CAExCzpC,KAAM,aAFkC,CAGxC4+E,cAAe,CAAA,CAHyB,CAIxCN,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CACxB8G,CAAAA,CAAO9G,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEx4B,GAAF,CAAM,MAAN,CAAP,CAAqBvB,MAAtB,CAAjC,CACX;IAAA,CAAKi7F,MAAL,CAAY79F,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcuvB,CAAd,CAAZ,CACA,KAAA,CAAK28D,MAAL,CAAY99F,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAci7B,CAAd,CAAZ,CAH4B,CAJW,CASrC48D,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgBrvE,EAAAA,CAAM3kB,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAANyqB,CAAyBhsB,MACzE,OAAOgsB,EAAP,EAAYuvE,CAAZ,EAAmBvvE,CAAnB,EAA0BwvE,CAFM,CATI,CAA5B,CA9IE,CA4JfpB,sBAAuB,IAAI1mE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAClD50C,MAAO,OAD2C,CAElDzpC,KAAM,uBAF4C,CAGlD1N,IAAK,CAH6C,CAIlD1L,IAAK,GAJ6C,CAKlD03F,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAK8G,IAAL,CAAY9G,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEx4B,GAAF,CAAM,MAAN,CAAP,CAAqBvB,MAAtB,CAAjC,CACZ,KAAA,CAAKu+B,IAAL,CAAUr9B,IAAV,CAAe,QAAS,CAACme,CAAD,CAAItY,CAAJ,CAAO,CAAG,MAAOsY,EAAP,CAAWtY,CAAd,CAA/B,CAF4B,CALqB,CAS/Co0F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAC/BI,EAAAA,CAAMr+F,GAAA,CAAIu9B,KAAJ,CAAUv2B,OAAV,CAAkB,IAAlB,CAAuBm6B,IAAvB;AAA6Bl3B,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAA7B,CAAgDvB,MAAhD,CACNgsB,EAAAA,CAAMhpB,IAAA,CAAKyF,KAAL,CAAe,GAAf,CAAWgzF,CAAX,CAAmB,IAAnB,CAAwBl9D,IAAxB,CAA6Bv+B,MAA7B,CACP,OAAOgsB,EAAP,EAAYuvE,CAAZ,EAAmBvvE,CAAnB,EAA0BwvE,CAJM,CATc,CAA5B,CA5JR,CA4KfhB,sBAAuB,IAAI9mE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAClD50C,MAAO,eAD2C,CAElDzpC,KAAM,uBAF4C,CAGlDs+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAD4B,CAHqB,CAM/Cm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgB98D,EAAAA,CAAOl3B,CAAA,CAAOkqC,gBAAP,EAEvD,KADA,IAAIyqD,EAAY,CAAhB,CACSj8F,EAAE,CAAX,CAAaA,CAAb,CAAew+B,CAAf,CAAoBv+B,MAApB,CAA2BD,CAAA,EAA3B,CACC,GAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,CAAYw+B,CAAA,CAAKx+B,CAAL,CAAO,CAAP,CAAZ,GACCi8F,CAAA,EACI,CAAAA,CAAA,CAAUR,CAFf,EAEsB,MAAO,CAAA,CAG9B,OAAOQ,EAAP,EAAkBT,CATc,CANc,CAA5B,CA5KR,CA8Lfb,iCAAkC,IAAIhnE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAC7D50C,MAAO,eADsD;AAE7DzpC,KAAM,kCAFuD,CAG7Ds+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAD4B,CAHgC,CAM1Dm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgB98D,EAAAA,CAAOl3B,CAAA,CAAOkqC,gBAAP,EAEvD,KADA,IAAIyqD,EAAY,CAAhB,CACSj8F,EAAE,CAAX,CAAaA,CAAb,CAAew+B,CAAf,CAAoBv+B,MAApB,CAA2BD,CAAA,EAA3B,CACC,GAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,CAAYw+B,CAAA,CAAKx+B,CAAL,CAAO,CAAP,CAAZ,CAEC,IADAi8F,CAAA,EACI,CAAAA,CAAA,CAAUR,CAAd,CAAqB,MAAO,CAAA,CAA5B,CAFD,IAICQ,EAAA,CAAU,CAGZ,OAAOA,EAAP,EAAkBT,CAXc,CANyB,CAA5B,CA9LnB,CAkNfd,sBAAuB,IAAI/mE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAClD50C,MAAO,eAD2C,CAElDzpC,KAAM,uBAF4C,CAGlDs+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAD4B,CAHqB,CAM/Cm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F;AAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgB98D,EAAAA,CAAOl3B,CAAA,CAAOkqC,gBAAP,EAEvD,KADA,IAAI0qD,EAAY,CAAhB,CACSl8F,EAAE,CAAX,CAAaA,CAAb,CAAew+B,CAAf,CAAoBv+B,MAApB,CAA2BD,CAAA,EAA3B,CACC,GAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,CAAYw+B,CAAA,CAAKx+B,CAAL,CAAO,CAAP,CAAZ,GACCk8F,CAAA,EACI,CAAAA,CAAA,CAAUT,CAFf,EAEsB,MAAO,CAAA,CAG9B,OAAOS,EAAP,EAAkBV,CATc,CANc,CAA5B,CAlNR,CAoOfZ,iCAAkC,IAAIjnE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAC7D50C,MAAO,eADsD,CAE7DzpC,KAAM,kCAFuD,CAG7Ds+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAD4B,CAHgC,CAM1Dm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgB98D,EAAAA,CAAOl3B,CAAA,CAAOkqC,gBAAP,EAEvD,KADA,IAAI0qD,EAAY,CAAhB,CACSl8F,EAAE,CAAX,CAAaA,CAAb,CAAew+B,CAAf,CAAoBv+B,MAApB,CAA2BD,CAAA,EAA3B,CACC,GAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,CAAYw+B,CAAA,CAAKx+B,CAAL,CAAO,CAAP,CAAZ,CAEC,IADAk8F,CAAA,EACI,CAAAA,CAAA,CAAUT,CAAd,CAAqB,MAAO,CAAA,CAA5B,CAFD,IAICS,EAAA,CAAY,CAGd,OAAOA,EAAP;AAAkBV,CAXc,CANyB,CAA5B,CApOnB,CAwPfX,gBAAiB,IAAIlnE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAC5C50C,MAAO,eADqC,CAE5CzpC,KAAM,iBAFsC,CAG5Cs+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAD4B,CAHe,CAMzCm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F,EAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgB98D,EAAAA,CAAOl3B,CAAA,CAAOkqC,gBAAP,EACvD,KADA,IAAkFvlB,EAAM5uB,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAci7B,CAAd,CACxF,CAAex+B,CAAf,CAAiBy7F,CAAjB,CAAsBz7F,CAAA,EAAtB,CACC,GAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,EAAaisB,CAAb,CAAmB,MAAO,CAAA,CAE3B,OAAO,CAAA,CALyB,CANQ,CAA5B,CAxPF,CAsQf6uE,gBAAiB,IAAInnE,MAAJ,CAAWr2B,IAAX,CAAgB09F,WAAhB,CAA4B,CAC5C50C,MAAO,eADqC,CAE5CzpC,KAAM,iBAFsC,CAG5Cs+E,YAAaA,QAAQ,CAACvjE,CAAD,CAAQ,CAC5B,IAAA,CAAKyjE,MAAL,CAAYzjE,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CAAA,CAAe1F,gBAAf,EAAZ,CAA8CvxC,MAA9C,CAD4B,CAHe,CAMzCm7F,eAAgBA,QAAQ,CAAC9zF,CAAD,CAAS,CAAA,IAC5Bk0F;AAAM,IAAA,CAAKH,MAAL,EADsB,CACPI,EAAO,IAAA,CAAKH,OAAL,EAAgB98D,EAAAA,CAAOl3B,CAAA,CAAOkqC,gBAAP,EACvD,KADA,IAAkFvlB,EAAM5uB,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcuvB,CAAd,CACxF,CAAex+B,CAAf,CAAiBy7F,CAAjB,CAAsBz7F,CAAA,EAAtB,CACC,GAAIw+B,CAAA,CAAKx+B,CAAL,CAAJ,EAAaisB,CAAb,CAAmB,MAAO,CAAA,CAE3B,OAAO,CAAA,CALyB,CANQ,CAA5B,CAtQF,CAAhB,CAsRA+qE,EAAA,CAASxzF,IAAT,CAAc,QAAQ,CAAC24F,CAAD,CAAU,CAAA,IAC3BlwE,EAAM,IAAA,CAAKtE,WAAL,CAAiBw0E,CAAA,CAAQ56D,OAAR,EAAjB,CADqB,CACgB/C,EAAO,CAACvS,CAAD,EAAQ,EAAR,EAAYxK,KAAZ,CAAkB,GAAlB,CACtD06E,EAAA,CAAQC,UAAR,CAAyBt4F,IAAAA,EAAzB,GAAmBmoB,CAAnB,CACiB,EAAjB,EAAIuS,CAAJ,CAASv+B,MAAT,GACCk8F,CAAA,CAAQE,MAAR,CAAeh0E,QAAA,CAASmW,CAAA,CAAK,CAAL,CAAT,CAAf,CACA,CAAA29D,CAAA,CAAQG,OAAR,CAAgBj0E,QAAA,CAASmW,CAAA,CAAK,CAAL,CAAT,CAAhB,CAFD,CAIA29D,EAAA,CAAQ9oF,EAAR,CAAW,QAAX,CAAqB,QAAQ,CAAC8oF,CAAD,CAAU,CAClCA,CAAA,CAAQI,UAAR,EAAJ,CACC,IAAA,CAAKxnE,WAAL,CAAiBonE,CAAA,CAAQ56D,OAAR,EAAjB,CAAoC46D,CAAA,CAAQd,MAAR,EAApC,CAAqD,GAArD,CAAyDc,CAAA,CAAQb,OAAR,EAAzD,CADD,CAGC,IAAA,CAAKvmE,WAAL,CAAiBonE,CAAA,CAAQ56D,OAAR,EAAjB,CAAoCz9B,IAAAA,EAApC,CAED,KAAA,CAAK04F,aAAL,EANsC,CAAvC,CAOG,IAPH,CAP+B,CAAhC,CAeG,IAfH,CAiBA,KAAA,CAAKC,WAAL,CAAiBzF,CAAjB,CAGA,KAAIzsE,EAAK,IAAT,CACImyE,EAA4BA,QAAQ,EAAG,CAC1C,IAAIC;AAAgBpyE,CAAA,CAAGkK,YAAH,EAEpBlK,EAAA,CAAGysE,QAAH,CAAYxzF,IAAZ,CAAiB,QAAQ,CAAC24F,CAAD,CAAU,CAClCA,CAAA,CAAQC,UAAR,CAAmB,CAAA,CAAnB,CAA0B,CAAA,CAA1B,CACIz/E,EAAAA,CAAOw/E,CAAA,CAAQ56D,OAAR,EACP5kB,EAAJ,GAAYggF,EAAZ,EACCpyE,CAAA,CAAGwK,WAAH,CAAepY,CAAf,CAAqB7Y,IAAAA,EAArB,CAJiC,CAAnC,CAH0C,CAD3C,CAcI84F,EAAU,CAAC,CACd5/E,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADQ,CAEdkJ,KAAM,CACLhI,MAAO,CAAC,CACPla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADC,CAEPW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACG,KAAA,CAAKF,aAAL,EAFgB,CAFb,CAMPj9F,MAAO,IANA,CAAD,CAOL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,sBAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACA,KAAA,CAAK1F,QAAL,CAAc6F,QAAd,CAAuB,uBAAvB,CAAA,CAAgDT,UAAhD,CAA2D,CAAA,CAA3D,CAAiE,CAAA,CAAjE,CAAA,CAAuEr8D,SAAvE,CAAiF,EAAjF,CAAoF,GAApF,CAAyF,CAAA,CAAzF,CACA,KAAA,CAAKi3D,QAAL,CAAc6F,QAAd,CAAuB,mBAAvB,CAAA,CAA4CT,UAA5C,CAAuD,CAAA,CAAvD,CAA6D,CAAA,CAA7D,CAAA,CAAmEr8D,SAAnE,CAA6E,EAA7E,CAAgF,GAAhF,CAHmB,CAFnB,CAODxgC,MAAO,IAPN,CAPK;AAeL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACA,KAAA,CAAK1F,QAAL,CAAc6F,QAAd,CAAuB,aAAvB,CAAA,CAAsCT,UAAtC,CAAiD,CAAA,CAAjD,CAAuD,CAAA,CAAvD,CAAA,CAA6Dr8D,SAA7D,CAAuE,CAAvE,CAAyE,CAAzE,CAFmB,CAFnB,CAMDxgC,MAAO,IANN,CAfK,CAsBL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,6BAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACA,KAAIP,EAAU,IAAA,CAAKnF,QAAL,CAAc6F,QAAd,CAAuB,uBAAvB,CAAd,CACIt5F,EAAM44F,CAAA,CAAQW,MAAR,EACVX,EAAA,CAAQC,UAAR,CAAmB,CAAA,CAAnB,CAAyB,CAAA,CAAzB,CAAA,CAA+Br8D,SAA/B,CAAyC98B,IAAA,CAAKyF,KAAL,CAAe,GAAf,CAAWnF,CAAX,CAAzC,CAA6DA,CAA7D,CAJmB,CAFnB,CAQDhE,MAAO,IARN,CAtBK,CA+BL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,6BAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACA,KAAIP,EAAU,IAAA,CAAKnF,QAAL,CAAc6F,QAAd,CAAuB,uBAAvB,CAAd,CACIt5F,EAAM44F,CAAA,CAAQW,MAAR,EACVX,EAAA,CAAQC,UAAR,CAAmB,CAAA,CAAnB;AAAyB,CAAA,CAAzB,CAAA,CAA+Br8D,SAA/B,CAAyC98B,IAAA,CAAKyF,KAAL,CAAe,GAAf,CAAWnF,CAAX,CAAzC,CAA6DA,CAA7D,CAJmB,CAFnB,CAQDhE,MAAO,IARN,CA/BK,CAwCL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,8BAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACA,KAAIP,EAAU,IAAA,CAAKnF,QAAL,CAAc6F,QAAd,CAAuB,iBAAvB,CAAd,CACIt5F,EAAM44F,CAAA,CAAQW,MAAR,EACVX,EAAA,CAAQC,UAAR,CAAmB,CAAA,CAAnB,CAAyB,CAAA,CAAzB,CAAA,CAA+Br8D,SAA/B,CAAyC,CAAzC,CAA4C98B,IAAA,CAAKyF,KAAL,CAAe,EAAf,CAAWnF,CAAX,CAA5C,CAJmB,CAFnB,CAQDhE,MAAO,IARN,CAxCK,CAiDL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,4BAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACA,KAAIP,EAAU,IAAA,CAAKnF,QAAL,CAAc6F,QAAd,CAAuB,iBAAvB,CAAd,CACIt5F,EAAM44F,CAAA,CAAQW,MAAR,EACVX,EAAA,CAAQC,UAAR,CAAmB,CAAA,CAAnB,CAAyB,CAAA,CAAzB,CAAA,CAA+Br8D,SAA/B,CAAyC98B,IAAA,CAAKyF,KAAL,CAAe,EAAf,CAAWnF,CAAX,CAAzC,CAA6DA,CAA7D,CAJmB,CAFnB,CAQDhE,MAAO,IARN,CAjDK,CA0DL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,6BAAd,CADL,CAEDW,QAASA,QAAQ,EAAG,CACnB+lE,CAAA,EACA;IAAA,CAAK1F,QAAL,CAAc6F,QAAd,CAAuB,+BAAvB,CAAA,CAAwDT,UAAxD,CAAmE,CAAA,CAAnE,CAAyE,CAAA,CAAzE,CAAA,CAA+Er8D,SAA/E,CAAyF,EAAzF,CAA6F,GAA7F,CAFmB,CAFnB,CAMDxgC,MAAO,IANN,CA1DK,CADF,CAFQ,CAAD,CAsEX,CACFlB,MAAO,UADL,CAtEW,CAyEd,EAAC,aAAD,CAAe,UAAf,CAA0B,eAA1B,CAA0C,OAA1C,CAAA,CAAmDiT,GAAnD,CAAuD,QAAQ,CAAC80C,CAAD,CAAQ,CACtEw2C,CAAA,CAAQv6F,IAAR,CAAa,CACZ2a,KAAM,IAAA,CAAKgZ,QAAL,CAAcowB,CAAd,CAAoB,OAApB,CADM,CAEZlnB,KAAM,CACLhI,MAAO8/D,CAAA,CAAShwB,QAAT,CAAkB,QAAQ,CAACm1B,CAAD,CAAU,CAAC,MAAOA,EAAA,CAAQY,QAAR,EAAP,EAA2B32C,CAA5B,CAApC,CAAA,CAAwE7J,QAAxE,EAAA,CAAmFjrC,GAAnF,CAAuF,QAAQ,CAAC6qF,CAAD,CAAU,CAC/G,MAAO,CACN99F,MAAO,eADD,CAEN4jC,QAASk6D,CAAA,CAAQI,UAAR,EAFH,CAGTv/E,KAAM,IAAA,CAAKgZ,QAAL,CAAcmmE,CAAA,CAAQ56D,OAAR,EAAd,CAAgC,OAAhC,CAHG,CAIT9K,QAAS,IAAA,CAAKT,QAAL,CAAcmmE,CAAA,CAAQ56D,OAAR,EAAd,CAAgC,UAAhC,CAJA,CAKT/iC,UAAW,CACVw+F,aAAcA,QAAQ,CAAC7tD,CAAD,CAAM,CAC3BA,CAAA,CAAIyW,UAAJ,CAAeu2C,CAAA,CAAQI,UAAR,EAAf,CACAJ;CAAA,CAAQ9oF,EAAR,CAAW,QAAX,CAAqB,QAAQ,EAAG,CAC/B87B,CAAA,CAAIyW,UAAJ,CAAeu2C,CAAA,CAAQI,UAAR,EAAf,CAD+B,CAAhC,CAF2B,CADlB,CAOV3lF,MAAOA,QAAQ,CAACu4B,CAAD,CAAM,CACpBgtD,CAAA,CAAQC,UAAR,CAAmBjtD,CAAnB,CAAuBlN,OAAvB,CACAkN,EAAA,CAAIwW,OAAJ,EAAA,CAAc2iB,WAAd,CAA0B,CAACn5B,CAAD,CAAKlN,OAA/B,CACIkN,EAAJ,CAAQlN,OAAR,CAAkBkN,CAAA,CAAIwW,OAAJ,EAAA,CAAc9mC,IAAd,EAAlB,CACMswB,CAAA,CAAIwW,OAAJ,EAAA,CAAc3kB,IAAd,EAJc,CAPX,CALF,CAmBT9B,KAAM,CACLwoC,SAAU,CAACy0B,CAAA,CAAQI,UAAR,EADN,CAELrlE,MAAO,CACN74B,MAAO,aADD,CAENJ,MAAO,GAFD,CAGN0kC,SAAUw5D,CAAA,CAAQc,MAAR,EAAVt6D,EAA8B,CAHxB,CAINC,SAAUu5D,CAAA,CAAQW,MAAR,EAAVl6D,EAA8B,CAJxB,CAKNvK,OAAQ,CAAE8jE,CAAA,CAAQd,MAAR,EAAF,EAAsB,CAAtB,CAA2Bc,CAAA,CAAQb,OAAR,EAA3B,EAAgD,CAAhD,CALF,CAMN4B,QAASA,QAAQ,CAAC95F,CAAD,CAAI,CACpB,MAAO+4F,EAAA,CAAQgB,gBAAR,EAAA,CAA6B/5F,CAA7B,CAA+BlG,KAA/B,CAAqC,CAArC,CAAyCkG,CAAzC,CAA2ClG,KAD9B,CANf,CASNsB,UAAW,CACPw+F,aAAcA,QAAQ,CAAC95D,CAAD,CAAS,CAC9BA,CAAA,CAAOk6D,iBAAP,CAAyBjB,CAAzB,CACAA,EAAA,CAAQ9oF,EAAR,CAAW,QAAX,CAAqB,QAAQ,EAAG,CAC/B6vB,CAAA,CAAOk6D,iBAAP,CAAyBjB,CAAzB,CAD+B,CAAhC,CAF8B,CADxB;AAOP94D,eAAgBA,QAAQ,CAACH,CAAD,CAAS,CAChCi5D,CAAA,CAAQp8D,SAAR,CAAkBmD,CAAA,CAAO5K,SAAP,EAAlB,CADgC,CAP1B,CATL,CAoBN8kE,kBAAmBA,QAAQ,CAACjB,CAAD,CAAU,CACpC,IAAA,CAAK3R,WAAL,CAAiB2R,CAAA,CAAQc,MAAR,EAAjB,EAAqC,CAArC,CACA,KAAA,CAAKxS,WAAL,CAAiB0R,CAAA,CAAQW,MAAR,EAAjB,CACA,KAAA,CAAKv5D,QAAL,CAAc,CAAd,CAAiB44D,CAAA,CAAQd,MAAR,EAAjB,EAAqC,CAArC,CACA,KAAA,CAAK93D,QAAL,CAAc,CAAd,CAAqCz/B,IAAAA,EAApB,GAAAq4F,CAAA,CAAQb,OAAR,EAAA,CAAiCa,CAAA,CAAQW,MAAR,EAAjC,EAAqD,CAArD,CAA0DX,CAAA,CAAQb,OAAR,EAA3E,CAJoC,CApB/B,CAFF,CAnBG,CADwG,CAAzG,CAmDJ,IAnDI,CADF,CAFM,CAAb,CADsE,CAAvE,CA0DG,IA1DH,CA4DGj+F,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACZ2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADK,CAEZqpB,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAFI,CAMZtpD,UAAW,CACVC,YAAaA,QAAQ,EAAG,CAAA,IACnBiD,EAAQ,IAAA,CAAKg0E,YAAL,CAAkB,OAAlB,CADW,CACiB2nB,EAAU,IAAA,CAAK3nB,YAAL,CAAkB,SAAlB,CAIlDh0E,EAAA,CAAM2R,EAAN,CAAS,aAAT,CAAwB,QAAQ,CAACgzB,CAAD,CAAMppC,CAAN,CAAY,CAE3C,GADIqgG,CACJ,CADYD,CAAA,CAAQ76D,WAAR,EAAA,CAAsBziC,GAAtB,CAA0B0iC,aAA1B,CAAwC,YAAxC;AAAqDxlC,CAArD,CAA0D,GAA1D,CACZ,CAAW,CACP,IAAIsgG,EAASA,QAAQ,CAACtrF,CAAD,CAAO7G,CAAP,CAAa,CACjC81E,OAAA,CAAUjvE,CAAA,CAAKyb,YAAL,CAAkB,SAAlB,CACE,EAAZ,CAAIwzD,OAAJ,GACCA,OAGA,EAHS,GAGT,CAFAjvE,CAAA,CAAK00B,YAAL,CAAkB,SAAlB,CAA6Bu6C,OAA7B,CAEA,CADK91E,CACL,EADU,CACV,CAAA/N,GAAA,CAAIw+C,KAAJ,CAAU0hD,CAAV,CAAkBnyF,CAAlB,CAAwB,IAAxB,CAA8B,CAAC6G,CAAD,CAAO7G,CAAP,CAA9B,CAJD,CAFiC,CASlCkyF,EAAA,CAAM32D,YAAN,CAAmB,SAAnB,CAA8B,CAA9B,CACA42D,EAAA,CAAOD,CAAP,CAAc,GAAd,CAXO,CAFgC,CAA5C,CALuB,CADd,CANC,CA8BZpmE,MAAO,CAAC,CACP6L,OAAQ,OADD,CAEP9kC,MAAO,GAFA,CAGPohD,OAAQ,KAHD,CAIP7gD,UAAW,CACVg/F,aAAcA,QAAQ,CAAC9lE,CAAD,CAAQ,CAAA,IACzB53B,EAAK,IAAA,CAAK0iC,WAAL,EADoB,CACAvkC,EAAQ6B,CAAA,CAAG5B,QAAH,EADR,CACuBH,EAAS+B,CAAA,CAAG9B,SAAH,EADhC,CACgDspB,EAAMoQ,CAAA,CAAMtvB,QAAN,EACnFtI,EAAA,CAAG0kD,OAAH,CAAW,GAAX,CACA9iD,MAAA,CAAQg2B,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAGh6B,CAAH,CAAM,CAC1C,MAAO,CACN/C,KAAM+8B,CAAA,CAAEiX,OAAF,EADA,CAEN2d,IAAKj7B,MAAA,CAAOC,WAAP,CAAmBtD,eAAnB,CAAmC0J,CAAA,CAAEiX,OAAF,EAAnC,CAAgD,CAAA,CAAhD,CAFC,CAGN3uC,EAAGrE,CAAHqE,CAAS,CAHH,CAINkF,EAAGxH,CAAHwH,CAAKzJ,CAALyJ,CAAY8f,CAJN,CADmC,CAAnC,CAQR5lB,MAAA,CAAMP,IAAN,CAAW,QAAQ,CAACme,CAAD;AAAItY,CAAJ,CAAO,CAAC,MAAOsY,EAAA,CAAEriB,IAAF,CAAO85B,aAAP,CAAqB/vB,CAArB,CAAuB/J,IAAvB,CAAR,CAA1B,CAMI4mC,EAAAA,CAAMxyB,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CACXC,IADW,CACN,OADM,CACGhY,CADH,CAAA,CAEXgY,IAFW,CAEN,QAFM,CAEIlY,CAFJ,CAAA,CAGbiY,MAHa,CAGN,GAHM,CAAA,CAIXC,IAJW,CAIN,WAJM,CAIO,oBAJP,CAMZ,KAAIwnF,EAAax6F,IAAA,CAAK8qB,IAAL,CAAUhwB,CAAV,CAAiB2D,KAAjB,CAAuBzB,MAAvB,CAAjB,CACI+c,EAAO6mB,CAAA,CAAI1vB,SAAJ,CAAc,OAAd,CAAA,CACViG,IADU,CACL1Y,KADK,CAAA,CAEZqb,KAFY,EAAA,CAEJ/G,MAFI,CAEG,MAFH,CAAA,CAGVgH,IAHU,CAGL,QAAQ,CAAC5a,CAAD,CAAGpC,CAAH,CAAK,CAAC,MAAOoC,EAAP,CAASnF,IAAV,CAHR,CAAA,CAIVgZ,IAJU,CAIL,OAJK,CAII,OAJJ,CAAA,CAKVA,IALU,CAKL,aALK,CAKU,QALV,CAAA,CAMbA,IANa,CAMR,GANQ,CAMHhY,CANG,CAMG,CANH,CAAA,CAObgY,IAPa,CAOR,GAPQ,CAOH,QAAQ,CAAC7S,CAAD,CAAIpD,CAAJ,CAAO,CAAC,MAAOy9F,EAAP,CAAkBz9F,CAAnB,CAPZ,CAAA,CAQViW,IARU,CAQL,MARK,CAQG,QAAQ,CAAC7T,CAAD,CAAI,CAAC,MAAOuxB,OAAA,CAAOC,WAAP,CAAmBtD,eAAnB,CAAmCluB,CAAnC,CAAqCnF,IAArC,CAA2C,CAAA,CAA3C,CAAR,CARf,CAULwgG,EAAJ,CAAiBx6F,IAAA,CAAK8qB,IAAL,CAAUhwB,CAAV,CAAiB2D,KAAjB,CAAuBzB,MAAvB,CAGjB,KAAIy9F,EAAUrsF,EAAA,CAAGqsF,OAAH,CAAWC,QAAX,EAAA,CACTn7F,MADS,CACF,EADE,CAAA,CAETo7F,UAFS,CAEE,CAFF,CAIdC;QAAA,CAAWxsF,EAAA,CAAGqsF,OAAH,CAAW3qE,KAAX,CAAiB1hB,EAAjB,CAAoBysF,aAApB,CAAA,CAAmCtoF,MAAnC,CAA0C,CAAC,CAAD,CAAIzX,CAAJ,CAA1C,CAEX,KAAIwsB,EAAK,IACTsZ,EAAA,CAAIxwB,EAAJ,CAAO,WAAP,CAAoB,QAAQ,EAAG,CAC9B,IAAIs6D,EAAQt8D,EAAA,CAAGs8D,KAAH,CAAS,IAAT,CACXowB,YAAA,CAAc96F,IAAA,CAAKyF,KAAL,CAAWilE,CAAA,CAAM,CAAN,CAAX,CAAoBjsE,KAApB,CAA0BzB,MAA1B,CAAiClC,CAAjC,CACdggG,YADA,CACc96F,IAAA,CAAKgM,GAAL,CAAS8uF,WAAT,CAAsBr8F,KAAtB,CAA4BzB,MAA5B,CAAmC,CAAnC,CACfy9F,EAAA,CAAQjxC,KAAR,CAAckhB,CAAA,CAAM,CAAN,CAAd,CACAkwB,SAAA,CAASpxC,KAAT,CAAekhB,CAAA,CAAM,CAAN,CAAf,CAED,KAAIvxD,EAAQY,CAAA,CAAKZ,KAAL,EACRA,EAAA,CAAM2hF,WAAN,CAAJ,EACIxzE,CAAA,CAAGyV,SAAH,CAAa,aAAb,CAA4BzV,CAA5B,CAAgCnO,CAAA,CAAM2hF,WAAN,CAAhC,CAAmDvpB,WAAnD,CAT2B,KAY3BwpB,EAAK,EAZsB,CAYlBx2F,EAAEvE,IAAA,CAAKM,GAAL,CAASoqE,CAAA,CAAM,CAAN,CAAT,CAAkBqwB,CAAlB,CAZgB,CAYOC,EAAG,CACzC5sF,GAAA,CAAG6C,MAAH,CAAUkI,CAAA,CAAM2hF,WAAN,CAAV,CAAA,CACE9nF,IADF,CACO,GADP,CACY,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOoF,EAAT,CADxB,CAAA,CAEEyO,IAFF,CAEO,WAFP,CAEoB+nF,CAFpB,CAAA,CAGE/nF,IAHF,CAGO,cAHP,CAGuBgoF,CAHvB,CAMA,KADA,IAAIC,EAAMp6F,IAAAA,EAAV,CACS9D,EAAE+9F,WAAF/9F,CAAc,CAAvB,CAA2B,EAA3B;AAAyBA,CAAzB,CAA8BA,CAAA,EAA9B,CACS,CAAR,EAAIg+F,CAAJ,EACCx2F,CACA,EADGw2F,CACH,CAAAA,CAAA,EAAI,EAFL,GAIUl6F,IAAAA,EAGT,EAHIo6F,CAGJ,GAFCA,CAED,CAFO12F,CAEP,CAFSxH,CAET,EAAAwH,CAAA,EAAG02F,CAPJ,CAUG,CADI,EACJ,CADCD,CACD,GADSA,CACT,EADa,GACb,EAAA5sF,EAAA,CAAG6C,MAAH,CAAUkI,CAAA,CAAMpc,CAAN,CAAV,CAAA,CACFiW,IADE,CACG,GADH,CACQ,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOoF,EAAT,CADpB,CAAA,CAEFyO,IAFE,CAEG,WAFH,CAEgB+nF,CAFhB,CAAA,CAGF/nF,IAHE,CAGG,cAHH,CAGmBgoF,CAHnB,CAMJD,EAAA,CAAK,EAAIx2F,EAAT,CAAWvE,IAAA,CAAKM,GAAL,CAASoqE,CAAA,CAAM,CAAN,CAAT,CAAkBqwB,CAAlB,CAAuBC,EAAlC,CAAqC,CAAGC,EAAxC,CAA4Cp6F,IAAAA,EAGnC9D,EAvCsB,CAuCpB+9F,WAvCoB,CAuCR,CAAvB,KAAyBz2E,CAAzB,CAA6B5lB,KAA7B,CAAmCzB,MAAnC,CAA0CD,CAA1C,CAA4CsnB,CAA5C,CAAgDtnB,CAAA,EAAhD,CACS,CAAR,EAAIg+F,CAAJ,EACCx2F,CACA,EADGw2F,CACH,CAAAA,CAAA,EAAI,EAFL,GAIUl6F,IAAAA,EAGT,EAHIo6F,CAGJ,GAFCA,CAED,EAFQngG,CAER,CAFeyJ,CAEf,GAFmB8f,CAEnB,CAFuBtnB,CAEvB,GAAAwH,CAAA,EAAG02F,CAPJ,CAUG,CADI,EACJ,CADCD,CACD,GADSA,CACT,EADa,GACb,EAAA5sF,EAAA,CAAG6C,MAAH,CAAUkI,CAAA,CAAMpc,CAAN,CAAV,CAAA,CACFiW,IADE,CACG,GADH,CACQ,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOoF,EAAT,CADpB,CAAA,CAEFyO,IAFE,CAEG,WAFH,CAEgB+nF,CAFhB,CAAA,CAGF/nF,IAHE,CAGG,cAHH,CAGmBgoF,CAHnB,CAlD2B,CAA/B,CA5C6B,CADpB,CAJJ,CAAD,CA6GL,CACDl7D,OAAQ,SADP,CAGEsc,OAAQ,KAHV,CAIExnB,KAAM,CAJR,CAKEr5B,UAAW,CAKbg/F,aAAcA,QAAQ,CAAC9lE,CAAD,CAAQ,CAAA,IACzB53B,EAAK,IAAA,CAAK0iC,WAAL,EADoB,CACAvkC,EAAQ6B,CAAA,CAAG5B,QAAH,EADR;AACuBH,EAAS+B,CAAA,CAAG9B,SAAH,EAC7D8B,EAAA,CAAG0kD,OAAH,CAAW,GAAX,CACA9iD,MAAA,CAAQg2B,CAAA,CAAM6kB,QAAN,EAAA,CAAiBjrC,GAAjB,CAAqB,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAO,CAChD/8B,KAAM+8B,CAAA,CAAEiX,OAAF,EAD0C,CAEhDzS,KAAMxE,CAAA,CAAEwX,gBAAF,EAF0C,CAAR,CAAjC,CAIR,KAAI3N,EAAMxyB,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CACJC,IADI,CACC,OADD,CACUnW,CAAA,CAAG5B,QAAH,EADV,CAAA,CAEJ+X,IAFI,CAEC,QAFD,CAEWnW,CAAA,CAAG9B,SAAH,EAFX,CAIV,IAAkB,CAAlB,EAAI0D,KAAJ,CAAUzB,MAAV,CACC,MAAO,KAAA,CAAK83B,EAAL,CAAQ,OAAR,CAAA,CAAiB2pC,SAAjB,CAA2B,SAA3B,CAGR,KAAIy8B,EAAalgG,CAAbkgG,CAAmBz8F,KAAA,CAAM,CAAN,CAAnBy8F,CAA4B3/D,IAA5B2/D,CAAiCl+F,MAE1Bm+F,EAAAA,CAAW,IAAA,CAAKrmE,EAAL,CAAQ,MAAR,CAAA,CAAgBpQ,WAAhB,CAA4B,SAA5B,CAKtB,KAAI02E,EAAS,CAJC,MAAdtrE,EAAIqrE,CAAJrrE,CAA+B1hB,EAAA,CAAG0oF,SAAH,EAA/BhnE,CACmB,KAAd,EAAIqrE,CAAJ,CAA8B/sF,EAAA,CAAG+D,QAAH,EAA9B,CACS/D,EAAA,CAAGoV,WAAH,EAED,EACXjR,MADW,CACJ,CACPvS,IAAA,CAAKM,GAAL,CAAS,IAAT,CAAelG,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcvN,KAAA,CAAM4P,GAAN,CAAU,QAAQ,CAAClO,CAAD,CAAI,CAAC,MAAO/F,IAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAc7L,CAAd,CAAgBo7B,IAAhB,CAAR,CAAtB,CAAd,CAAf,CADO;AAEPv7B,IAAA,CAAKM,GAAL,CAAS,IAAT,CAAelG,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAc7B,KAAA,CAAM4P,GAAN,CAAU,QAAQ,CAAClO,CAAD,CAAI,CAAC,MAAO/F,IAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAcH,CAAd,CAAgBo7B,IAAhB,CAAR,CAAtB,CAAd,CAAf,CAFO,CADI,CAAA,CAIRnpB,KAJQ,CAIF,CAAC,IAAD,CAAOtX,CAAP,CAAc,CAAd,CAJE,CAAb,CAWIugG,EAAYjtF,EAAA,CAAGogB,IAAH,EAAA,CACdC,KADc,CACRrgB,EADQ,CACLktF,aADK,CAAA,CAEXj8F,CAFW,CAET,QAAQ,CAACF,CAAD,CAAIpC,CAAJ,CAAO,CAAE,MAAQm+F,EAAR,CAAmB,CAAnB,CAAuBA,CAAvB,CAAkCn+F,CAApC,CAFN,CAAA,CAGXwH,CAHW,CAGT,QAAQ,CAACpF,CAAD,CAAI,CAAE,MAAOrE,EAAP,CAAc,CAAd,CAAgBsgG,CAAA,CAAOj8F,CAAP,CAAlB,CAHH,CAXhB,CAgBIq0B,EAAUoN,CAAA,CAAI7tB,MAAJ,CAAW,GAAX,CAAA,CACZC,IADY,CACP,SADO,CACI,CADJ,CAhBd,CAmBIuoF,EAAa/nE,CAAA,CAAQzgB,MAAR,CAAe,MAAf,CAAA,CACfC,IADe,CACV,MADU,CACF,OADE,CAAA,CAEfA,IAFe,CAEV,aAFU,CAEK,QAFL,CAAA,CAGfA,IAHe,CAGV,oBAHU,CAGY,QAHZ,CAAA,CAIfA,IAJe,CAIV,QAJU,CAIA,iBAJA,CAAA,CAKfA,IALe,CAKV,OALU,CAKD,MALC,CAAA,CAMfA,IANe,CAMV,GANU,CAML,GANK,CAAA,CAOfA,IAPe,CAOV,GAPU,CAOL,GAPK,CAAA,CAQfA,IARe,CAQV,OARU,CAQD,EARC,CAAA,CASfA,IATe,CASV,QATU,CASA,EATA,CAAA,CAUfA,IAVe,CAUV,SAVU,CAUC,CAVD,CAnBjB,CA+BIwoF,EAAchoE,CAAA,CAChBzgB,MADgB,CACT,MADS,CAAA,CAEhBC,IAFgB,CAEX,aAFW;AAEI,QAFJ,CAAA,CAGhBA,IAHgB,CAGX,oBAHW,CAGW,QAHX,CAAA,CAIhBA,IAJgB,CAIX,GAJW,CAIN,GAJM,CAAA,CAKhBA,IALgB,CAKX,GALW,CAKN,GALM,CAAA,CAQhB+G,IARgB,CAQX,SARW,CAUlBtb,MAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CAC5B,IAAI2J,EAAQ+sB,MAAA,CAAOC,WAAP,CAAmBtD,eAAnB,CAAmCrzB,CAAnC,CAAwCA,IAAxC,CAA8C,CAAA,CAA9C,CAGZ4mC,EAAA,CAAI7tB,MAAJ,CAAW,MAAX,CAAA,CACM0oF,KADN,CACYzhG,CADZ,CACiBuhC,IADjB,CAAA,CAEHvoB,IAFG,CAEE,MAFF,CAEU,MAFV,CAAA,CAGHA,IAHG,CAGE,QAHF,CAGYrP,CAHZ,CAAA,CAIHqP,IAJG,CAIE,SAJF,CAIa,EAJb,CAAA,CAKHA,IALG,CAKE,iBALF,CAKqB,OALrB,CAAA,CAMHA,IANG,CAME,gBANF,CAMoB,OANpB,CAAA,CAOHA,IAPG,CAOE,cAPF,CAOkB,CAPlB,CAAA,CAQHA,IARG,CAQE,OARF,CAQW,MARX,CAAA,CASMA,IATN,CASW,GATX,CASgBqoF,CAThB,CAaAz6D,EAAA,CAAI7tB,MAAJ,CAAW,MAAX,CAAA,CACM0oF,KADN,CACYzhG,CADZ,CACiBuhC,IADjB,CAAA,CAEHvoB,IAFG,CAEE,MAFF,CAEU,MAFV,CAAA,CAGHA,IAHG,CAGE,QAHF,CAGYrP,CAHZ,CAAA,CAIHqP,IAJG,CAIE,SAJF,CAIa,CAJb,CAAA,CAKHA,IALG,CAKE,cALF,CAKkB,CALlB,CAAA,CAMHA,IANG,CAME,OANF,CAMW,MANX,CAAA,CAOMA,IAPN,CAOW,MAPX;AAOmBhZ,CAPnB,CAOwBA,IAPxB,CAAA,CAQMgZ,IARN,CAQW,GARX,CAQgBqoF,CARhB,CAAA,CASHjrF,EATG,CASA,WATA,CASa,QAAQ,EAAG,CAC3BhC,EAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CACE+B,IADF,CACO,SADP,CACkB,CADlB,CAGA,KAAIy3D,EAASr8D,EAAA,CAAGs8D,KAAH,CAAS,IAAT,CAEbl3C,EAAA,CACExgB,IADF,CACO,SADP,CACkB,CADlB,CAGAuoF,EAAA,CACEvoF,IADF,CACO,GADP,CACYy3D,CAAA,CAAO,CAAP,CADZ,CACsB,EADtB,CAAA,CAEEz3D,IAFF,CAEO,GAFP,CAEYy3D,CAAA,CAAO,CAAP,CAFZ,CAEuB,CAFvB,EAE2BA,CAAA,CAAO,CAAP,CAAA,CAAU3vE,CAAV,CAAiB,CAAjB,CAAqB,GAArB,CAA2B,EAFtD,EAIA0gG,EAAA,CACGzhF,IADH,CACQ/f,CADR,CACaA,IADb,CAAA,CAEGgZ,IAFH,CAEQ,MAFR,CAEgBrP,CAFhB,CAAA,CAGGqP,IAHH,CAGQ,GAHR,CAGay3D,CAAA,CAAO,CAAP,CAHb,CAAA,CAIGz3D,IAJH,CAIQ,GAJR,CAIay3D,CAAA,CAAO,CAAP,CAJb,EAI0BA,CAAA,CAAO,CAAP,CAAA,CAAU3vE,CAAV,CAAiB,CAAjB,CAAqB,GAArB,CAA2B,EAJrD,EAb2B,CATxB,CAAA,CA6BHsV,EA7BG,CA6BA,UA7BA,CA6BY,QAAQ,EAAG,CAC1BhC,EAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CACE+B,IADF,CACO,SADP,CACkB,CADlB,CAEAwgB,EAAA,CAAQxgB,IAAR,CAAa,SAAb,CAAwB,CAAxB,CAH0B,CA7BvB,CAmCJwgB,EAAA,CAAQkoE,KAAR,EApDgC,CAA7B,CAsDG,IAtDH,CA/D6B,CALjB,CALb,CA7GK,CA9BK,CA+QZvtC,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC0lE,CAAA,CAAQ,CAAR,CAAD,CAAaA,CAAA,CAAQ,CAAR,CAAb,CAAyBA,CAAA,CAAQ,CAAR,CAAzB,CAAqCA,CAAA,CAAQ,CAAR,CAArC,CAAiDA,CAAA,CAAQ,CAAR,CAAjD,CAMH,CACTvlE,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CADH;AAETuB,WAAY,EAFH,CAGTt5B,MAAO,GAHE,CAITI,MAAO,QAJE,CAKNwkC,UAAW,EALL,CAMNF,SAAU,EANJ,CAONC,SAAU,GAPJ,CAQNpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACgf,MAAOgrB,CAAR,CAAlB,CAEA,KAAA,CAAKl0B,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqC,IAAA,CAAKpY,SAAL,EAArC,CAH0C,CAJjC,CASVroB,MAAO,IATG,CARL,CANG,CAyBL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADL,CAEDkJ,KAAM,CACL8nB,SAAU,CACT3oD,MAAO,eADE,CAETs4B,QAASA,QAAQ,CAACwY,CAAD,CAAM,CACtB,IAAA,CAAKpa,WAAL,CAAiB,SAAjB,CAA4Boa,CAAA,CAAIivC,SAAJ,EAA5B,CACM,KAAA,CAAK1I,YAAL,CAAkB,SAAlB,CAAA,CAA6BkpB,aAA7B,CAA2C,cAA3C,CAA2D,CAAC,IAAA,CAAKpuE,QAAL,EAAD,CAA3D,CAFgB,CAFd,CAMTjxB,MAAO,IANE;AAOTf,UAAW,CACVC,YAAaA,QAAQ,CAAC0wC,CAAD,CAAM,CAC1BA,CAAA,CAAIyW,UAAJ,CAAezW,CAAA,CAAIivC,SAAJ,EAAf,EAAgC,IAAA,CAAKz2D,WAAL,CAAiB,SAAjB,CAAhC,CAD0B,CADjB,CAIVpoB,MAAO,IAJG,CAPF,CAaT6mD,MAAO,SAbE,CADL,CAgBLlvB,MAAO,CAAC,CACPla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADC,CAEP+M,OAAQ,QAFD,CAAD,CAGL,CACD/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADL,CAED+M,OAAQ,KAFP,CAHK,CAML,CACD/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CADL,CAED+M,OAAQ,MAFP,CANK,CAhBF,CAFL,CAzBK,CAJG,CAAD,CA/QD,CAAhB,CA8UA,KAAA,CAAK1vB,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACzC0E,CAAAA,CAAoC,CAA5B,EAAA1E,CAAA,CAAOC,iBAAP,EAAA,CAAgCD,CAAA,CAAO8e,gBAAP,EAAhC,CAA4D9e,CAAA,CAAOspB,cAAP,EACxE5kB,EAAA,CAAMrkB,EAAN,CAAS,MAAT,CAAiB,QAAQ,EAAG,CACxB,IAAA,CAAKwrF,uBAAL,EACN,KAAA,CAAKrC,aAAL,EAF8B,CAA5B,CAGG,IAHH,CAIA9kE,EAAA,CAAMrkB,EAAN,CAAS,cAAT,CAAyB,QAAQ,EAAG,CACnC,IAAA,CAAKqiE,YAAL,CAAkB,OAAlB,CAAA,CAA2BkpB,aAA3B,CAAyC,cAAzC;AAAyD5lF,SAAzD,CACA,KAAA,CAAK08D,YAAL,CAAkB,SAAlB,CAAA,CAA6BkpB,aAA7B,CAA2C,cAA3C,CAA2D5lF,SAA3D,CAFmC,CAApC,CAIG,IAJH,CAKA,KAAA,CAAKmsC,QAAL,CAAcztB,CAAd,CACAjJ,OAAA,CAAS,IAAA,CAAKgG,YAAL,EACTp3B,IAAA,CAAIoE,KAAJ,CAAUgtB,MAAV,CAAkB,CACjB8oB,kBAAmB,CAAA,CADF,CAAlB,CAGA7f,EAAA,CAAMqa,IAAN,CAAW,CACVrR,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAA,CAAKuqD,aAAL,EAD+C,CADtC,CAIVj9F,MAAO,IAJG,CAKVkvB,OAAQA,MALE,CAAX,CAhB6C,CAA9C,CAwBG,IAxBH,CA0BA,KAAA,CAAK8N,UAAL,CAAgBvjB,SAAhB,CA5yBsB,CAnGE,CAk5B5BwjF,cAAeA,QAAQ,EAAG,CACzB,IAAI9kE,EAAQ,IAAA,CAAKlH,QAAL,EACZkH,EAAA,CAAMonE,WAAN,EAFyB,KAGrB51D,EAAQ7gB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAHa,CAGwBxY,EAAM,CACvDuoB,EAAA,CAAMsvC,QAAN,CAAe,QAAQ,CAAC1/D,CAAD,CAAS,CAI/B,MAHWjK,IAAA0hG,CAAInkE,KAAJmkE,CAAUC,KAAVD,CAAgB,IAAA,CAAKE,WAAL,EAAA,CAAmB1iD,QAAnB,EAAhBwiD,CAA+C,QAAQ,CAAC5C,CAAD,CAAU,CAC3E,MAA6B,EAA7B,EAAOA,CAAA,CAAQI,UAAR,EAAP;AAAsCJ,CAAA,CAAQ+C,iBAAR,EAAA,CAA4B9qF,IAA5B,CAAiC+nF,CAAjC,CAA0C70F,CAA1C,CADqC,CAAjEy3F,CAER,IAFQA,CAGX,EAAe5vF,CAAA,EAAf,CAAqB+5B,CAJU,CAAhC,CAKG,IALH,CAJyB,CAl5BE,CA85B5B21D,wBAAyBA,QAAQ,EAAG,CACnC,IAAInnE,EAAQ,IAAA,CAAKlH,QAAL,EACZ,KAAA,CAAKyuE,WAAL,EAAA,CAAmBz7F,IAAnB,CAAwB,QAAQ,CAAC24F,CAAD,CAAU,CACzCA,CAAA,CAAQzR,YAAR,CAAqB,QAArB,CACAyR,EAAA,CAAQlB,WAAR,CAAoB7mF,IAApB,CAAyB,IAAzB,CAA+BsjB,CAA/B,CACuB5zB,KAAAA,EAAvB,GAAIq4F,CAAA,CAAQc,MAAR,EAAJ,EAAmCd,CAAA,CAAQjB,MAAR,CAAe,CAAf,CACbp3F,KAAAA,EAAtB,EAAIq4F,CAAA,CAAQd,MAAR,EAAJ,EAAkCc,CAAA,CAAQE,MAAR,CAAeF,CAAA,CAAQc,MAAR,EAAf,CACXn5F,KAAAA,EAAvB,GAAIq4F,CAAA,CAAQW,MAAR,EAAJ,EAAmCX,CAAA,CAAQhB,MAAR,CAAe,CAAf,CACZr3F,KAAAA,EAAvB,EAAIq4F,CAAA,CAAQb,OAAR,EAAJ,EAAmCa,CAAA,CAAQG,OAAR,CAAgBH,CAAA,CAAQW,MAAR,EAAhB,CACnCX,EAAA,CAAQxR,WAAR,CAAoB,QAApB,CAPyC,CAA1C,CAFmC,CA95BR,CA26B5BwU,WAAYA,QAAQ,EAAG,CAAA,IAClBtiG,EAAS,IAAA,CAAKyL,IAAL,CAAUojB,IAAV,CAAe,QAAf,CAAT7uB,CAAkCkD,GADhB,CACqBnD,EAAMC,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CACjDlC,EAAA,CAAIwiG,SAAJ,CAAc,CAAd,CAAgB,CAAhB,CAAkBviG,CAAlB,CAAyBoB,KAAzB,CAA+BpB,CAA/B,CAAsCkB,MAAtC,CAEA,KAAIi5F,EAAW,IAAA,CAAKvvE,KAAL,CAAW,aAAX,CAAf;AAEI43E,EAAkB,IAAI1rE,MAAJ,CAAW8L,KAAX,CAAiB6/D,eACvC,KAAA,CAAK9uE,QAAL,EAAA,CAAgBhtB,IAAhB,CAAqB,QAAQ,CAAC8D,CAAD,CAAS,CACrC,IAAIk3B,EAAOl3B,CAAA,CAAOkqC,gBAAP,EAAA,CAA0BlgC,GAA1B,CAA8B,QAAQ,CAACg6B,CAAD,CAAI,CAAC,MAAO,CAAA,CAAR,CAA1C,CACXjuC,IAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAewzF,CAAf,CAAyB,QAAQ,CAACmF,CAAD,CAAU,CAC1C,GAAIA,CAAA,CAAQoD,UAAR,EAAJ,EACKpD,CADL,CACaf,cADb,CAC6B,CACvBoE,CAAAA,CAAUrD,CAAA,CAAQf,cAAR,CAAuBhnF,IAAvB,CAA4B,IAA5B,CAAkC+nF,CAAA,CAAQsD,QAAR,EAAlC,CAAsDn4F,CAAtD,CAA8DA,CAAA,CAAOkqC,gBAAP,EAA9D,CAEd,IAAIn0C,GAAA,CAAIqiG,SAAJ,CAAcF,CAAd,CAAJ,EAA8B,CAACA,CAA/B,CAEC,MADAhhE,EACA,CADO,CAAA,CAED,IAAInhC,GAAA,CAAIw9B,OAAJ,CAAY2kE,CAAZ,CAAJ,CAA0B,CAC7B,IAAK,IAAIx/F,EAAE,CAAX,CAAcA,CAAd,CAAgBw+B,CAAhB,CAAqBv+B,MAArB,CAA6BD,CAAA,EAA7B,CACCw+B,CAAA,CAAKx+B,CAAL,CAAA,CAAUw+B,CAAA,CAAKx+B,CAAL,CAAV,EAAqBw/F,CAAA,CAAQx/F,CAAR,CAEtB,OAAO3C,IAAA,CAAIu9B,KAAJ,CAAU+kE,IAAV,CAAenhE,CAAf,CAAqB,QAAQ,CAAC8M,CAAD,CAAI,CAAC,MAAOA,EAAR,CAAjC,CAJsB,CANN,CAFa,CAA3C,CAiBIjuC,IAAA,CAAIw9B,OAAJ,CAAY2D,CAAZ,CAAJ,EAAyBnhC,GAAA,CAAIu9B,KAAJ,CAAU+kE,IAAV,CAAenhE,CAAf,CAAqB,QAAQ,CAAC8M,CAAD,CAAI,CAAC,MAAOA,EAAR,CAAjC,CAAzB,EACC+zD,CAAA,CAAgBjhG,GAAhB,CAAoBkJ,CAApB,CApBoC,CAAtC,CAwBA+3F,EAAA,CAAgB/jF,MAAhB,CAAuBze,CAAvB,CAA+BD,CAA/B,CA/BsB,CA36BK,CAAhC,CA+8BAS;GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CAC1C/3B,OAAQ,CACPokG,YAAa,EADN,CADkC,CAI1C/hG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAKqkG,cAAL,CAAoB,EAApB,CACG,KAAA,CAAKtjE,UAAL,CAAgBvjB,SAAhB,CAF0B,CAJY,CAQ1C5a,IAAKA,QAAQ,CAACkJ,CAAD,CAAS,CACrB,IAAA,CAAKw4F,cAAL,EAAA,CAAsBz9F,IAAtB,CAA2B,IAAIsxB,MAAJ,CAAW8L,KAAX,CAAiBsgE,cAAjB,CAAgCz4F,CAAhC,CAA3B,CADqB,CARoB,CAW1CgU,OAAQA,QAAQ,CAACze,CAAD,CAASD,CAAT,CAAc,CAC7B,IAAIqS,EAAM5R,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAc,IAAA,CAAK6wF,cAAL,EAAA,CAAsBxuF,GAAtB,CAA0B,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAO38B,IAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAc+qB,CAAA,CAAE1B,SAAF,EAAd,CAAR,CAAtC,CAAd,CAAV,CACI/0B,EAAMlG,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAc,IAAA,CAAKu8F,cAAL,EAAA,CAAsBxuF,GAAtB,CAA0B,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAO38B,IAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAcy2B,CAAA,CAAE1B,SAAF,EAAd,CAAR,CAAtC,CAAd,CACV,KAAA,CAAKwnE,cAAL,EAAA,CAAsBjqF,OAAtB,CAA8B,QAAQ,CAACmkB,CAAD,CAAI,CACzCA,CAAA,CAAE1e,MAAF,CAASze,CAAT,CAAiBD,CAAjB,CAAsBqS,CAAtB,CAA2B1L,CAA3B,CADyC,CAA1C,CAH6B,CAXY,CAA3C,CAoBAlG;GAAA,CAAIk2B,MAAJ,CAAW,6BAAX,CAA0C,CACzC/3B,OAAQ,CACP8L,OAAQxD,IAAAA,EADD,CAEPu0B,OAAQv0B,IAAAA,EAFD,CAGP7G,KAAM6G,IAAAA,EAHC,CAIPk8F,MAAOl8F,IAAAA,EAJA,CADiC,CAOzCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAKykG,SAAL,CAAezkG,CAAf,CACA,KAAA,CAAKukC,SAAL,CAAevkC,CAAA,CAAOg2C,gBAAP,EAAf,CACA,KAAIv0C,EAAOzB,CAAA,CAAOy1C,OAAP,EACX,KAAA,CAAKivD,OAAL,CAAajjG,CAAb,CACA,KAAA,CAAKkjG,QAAL,CAAc3kG,CAAA,CAAOg2C,gBAAP,EAAA,CAA0BlgC,GAA1B,CAA8B,QAAQ,CAACg6B,CAAD,CAAI,CACvD,MAAO,KAAIjuC,GAAJ,CAAQof,IAAR,CAAa2jD,MAAb,CAAoBwkB,IAApB,CAAyB,CAC/Br9E,KAAM,MADyB,CAE/ByV,KAAM/f,CAFyB,CAAzB,CADgD,CAA1C,CAAd,CAMG,KAAA,CAAKs/B,UAAL,CAAgBvjB,SAAhB,CAX0B,CAPW,CAoBzCsC,OAAQA,QAAQ,CAACze,CAAD,CAASD,CAAT,CAAcqS,CAAd,CAAmB1L,CAAnB,CAAwB,CAAA,IACnC80B,EAAS,IAAA,CAAKC,SAAL,EAD0B,CACR8nE,EAAcvjG,CAAdujG,CAAqB55D,WAArB45D,CAAkC/nE,CAAlC+nE,CAAyCngG,MADjC,CAEtClC,EAASlB,CAATkB,CAAgB0oC,YAFsB,CAERxpC,EAAO,IAAA,CAAKg0C,OAAL,EACtC,KAAA,CAAKovD,QAAL,EAAA,CAAgBxqF,OAAhB,CAAwB,QAAQ,CAACmH,CAAD,CAAOhd,CAAP,CAAU,CAEtCpD,CAAA,CAAI+I,QAAJ,CAAa1I,CAAb;AAAoBmjG,CAApB,CAAgC,CAAhC,CAAoCpgG,CAApC,CAAsCogG,CAAtC,CAAoDriG,CAApD,CADKs6B,CAAA,CAAOr4B,CAAP,CACL,CADejC,CACf,CADsBwF,CACtB,CAFsC,CAA1C,CAHuC,CApBC,CAA1C,CA8BAlG;GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CAClCyI,OAAQ,UAD0B,CAElC7H,OAAQ,CAAC,sBAAD,CAF0B,CAGlCt2B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK24B,MAAL,CAAYmsE,UAAZ,CAAuBziG,WAAvB,CAAmCuW,IAAnC,CAAwC,IAAxC,CAA8C5Y,CAA9C,CACG,KAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CAF0B,CAHI,CAOlCxd,OAAQ,CACP4qD,MAAOtiD,IAAAA,EADA,CAEP6Y,KAAM7Y,IAAAA,EAFC,CAGPojD,QAAS,CAAA,CAHF,CAIPj4C,IAAKnL,IAAAA,EAJE,CAKPP,IAAKO,IAAAA,EALE,CAMP03F,IAAK13F,IAAAA,EANE,CAOP23F,KAAM33F,IAAAA,EAPC,CAQPy8F,aAAcljG,GAAdkjG,CAAkB/vC,OARX,CASP4qC,eAAgB/9F,GAAhB+9F,CAAoB5qC,OATb,CAUV+qC,cAAe,CAAA,CAVL,CAP0B,CAmBlCL,OAAQA,QAAQ,EAAG,CAClB,IAAA,CAAK3+D,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKgnB,SAAL,CAAe,QAAf,CAAyB,IAAzB,CACA,OAAO,KAHW,CAnBe,CAwBlCm7D,OAAQA,QAAQ,EAAG,CAClB,IAAA,CAAK5+D,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKgnB,SAAL,CAAe,QAAf;AAAyB,IAAzB,CACA,OAAO,KAHW,CAxBe,CA6BlCq8D,OAAQA,QAAQ,EAAG,CAClB,IAAA,CAAK9/D,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKgnB,SAAL,CAAe,QAAf,CAAyB,IAAzB,CACA,OAAO,KAHW,CA7Be,CAkClCs8D,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK//D,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKgnB,SAAL,CAAe,QAAf,CAAyB,IAAzB,CACA,OAAO,KAHY,CAlCc,CAuClCD,UAAWA,QAAQ,CAACy7D,CAAD,CAAMC,CAAN,CAAY,CAC9B,IAAA,CAAK/Q,YAAL,CAAkB,QAAlB,CACIrtF,IAAA,CAAIw9B,OAAJ,CAAY2gE,CAAZ,CAAJ,EACI,IAAA,CAAKa,MAAL,CAAYb,CAAA,CAAI,CAAJ,CAAZ,CACA,CAAA,IAAA,CAAKc,OAAL,CAAad,CAAA,CAAI,CAAJ,CAAb,CAFJ,GAII,IAAA,CAAKa,MAAL,CAAYb,CAAZ,CACA,CAAA,IAAA,CAAKc,OAAL,CAAab,CAAb,CALJ,CAOA,KAAA,CAAK9Q,WAAL,CAAiB,QAAjB,CACA,EAAuB,CAAvB,CAAI3xE,SAAJ,CAAc/Y,MAAd,EAA4B,CAAC+Y,SAAA,CAAU,CAAV,CAA7B,GAA4C,IAAA,CAAKgnB,SAAL,CAAe,QAAf,CAAyB,IAAzB,CAC5C,OAAO,KAXuB,CAvCG,CAoDlCo8D,WAAYA,QAAQ,EAAG,CACtB,IAAA,CAAK7/D,UAAL,CAAgBvjB,SAAhB,CACA,EAAuB,CAAvB,CAAIA,SAAJ,CAAc/Y,MAAd;AAA4B,CAAC+Y,SAAA,CAAU,CAAV,CAA7B,GAA4C,IAAA,CAAKgnB,SAAL,CAAe,QAAf,CAAyB,IAAzB,CAC5C,OAAO,KAHe,CApDW,CAAtC,C,CCjgCA3iC,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCyI,OAAQ,iBAD8B,CAEtC7H,OAAQ,CAAC,oBAAD,CAF8B,CAGtC4V,MAAO,oBAH+B,CAInCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJ36B,MAAO3jB,IAAAA,EAFH,CAHG,CAOX4yB,MAAO,mBAPI,CAJ0B,CAanCl7B,OAAQ,CAIPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CAJF,CASPmiG,UAAW,CATJ,CAcPC,iBAAkB,CAdX,CAmBPC,iBAAkB,CAnBX,CAwBPC,YAAa,CAxBN,CAb2B,CAuCnC9iG,YAAaA,QAAQ,CAACrC,CAAD,CAAU,CAE9B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfo7B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAAD,CAJH,CAAD,CAFE,CAAhB,CAYG;IAAA,CAAKk+B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAGA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,GAAI,IAAJ,CAASi0B,QAAT,CACC,IAAA,CAAK25C,UAAL,EADD,KAIC,KAAA,CAAKvtF,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CACjC,IAAA,CAAKutF,UAAL,EADiC,CAAlC,CAEG,IAFH,CAL4C,CAA9C,CAYA,KAAA,CAAKvtF,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACrC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAKo5E,mBAAL,EAFqC,CAAtC,CA9B8B,CAvCI,CA4EnCD,WAAYA,QAAQ,EAAG,CAAA,IAElB9gG,EAAK,IAAA,CAAK0iC,WAAL,EAFa,CAEOxP,EAAS,IAAA,CAAKpL,SAAL,EAGzC,KAAA,CAAKk5E,mBAAL,CAAyB79F,IAAA,CAAKupB,KAAL,EAAY1sB,CAAA,CAAG9B,SAAH,EAAZ,CAA6B,EAA7B,EADV+iG,CACU,CAAzB,CAIA,KAAIC,EAAahuE,CAAA,CAAOC,iBAAP,EAAjB,CACIguE,EAFaC,EAEbD,CAASD,CADb,CAEIG,EAAal+F,IAAA,CAAKupB,KAAL,EAAY1sB,CAAA,CAAG5B,QAAH,EAAZ;AAA4B+iG,CAA5B,CAAqC,EAArC,EAA+DD,CAA/D,CACF,IAAf,CAAIG,CAAJ,GAAqBA,CAArB,CAAgC,GAAhC,CAEIC,EAAAA,CAAqBn+F,IAAA,CAAKupB,KAAL,CAAW20E,CAAX,CADNE,CACM,CACF,EAAvB,CAAID,CAAJ,GAA2BA,CAA3B,CAA8C,CAA9C,CAGA,KAAA,CAAKE,cAAL,CAAoBF,CAApB,CAAyC,IAAA,CAAKG,mBAAL,EAAzC,CAEI5lD,EAAAA,CAAiB3oB,CAAA,CAAOkpB,YAAP,EACrB,KAAA,CAAKslD,YAAL,CAAkB7lD,CAAA,CAAep4C,GAAf,CAAmB,qBAAnB,CAAlB,CAEA,KAAA,CAAKk+F,mBAAL,CAAyB,IAAA,CAAKC,YAAL,EAAA,CAAsB,IAAA,CAAKC,cAAL,EAAtB,CAA8C,CAA9C,CAAkD1+F,IAAA,CAAK8qB,IAAL,CAAU,IAAA,CAAK2zE,YAAL,EAAV,CAA8B,IAAA,CAAKC,cAAL,EAA9B,CAA3E,CAGA,KAAI9kG,EAAS,kEACb,KAAA,CAAK+kG,QAAL,CAAgB,EAChBjmD,EAAA,CAAen4C,IAAf,CAAoB,QAAQ,CAAC5E,CAAD,CAAW,CACtC8I,QAAA,CAAW9I,CAAA,CAAS2zC,QAAT,EACX11C,EAAA,EAAQ,2DAAR,CAAoEskG,CAApE,CAA+E,gEAA/E;AAC6DA,CAD7D,CACwE,kBADxE,CAC2FviG,CAAA,CAAS4zC,YAAT,EAD3F,CACmH,IADnH,CACwH5zC,CAAA,CAAS4zC,YAAT,EADxH,CACgJ,+CADhJ,CAE2C2uD,CAF3C,CAEsD,YAFtD,CAEmErhG,CAAA,CAAG9B,SAAH,EAFnE,CAEkF,QAFlF,CAE2F,IAF3F,CAEgGsK,IAFhG,CAEqGnK,EAFrG,CAEwG,GAFxG,CAE4GuJ,QAF5G,CAEqH,SAEjHA,SAAJ,CAAa,CAAb,CAAes5F,CAAf,GAA4BnkG,CAA5B,EAAoC,sCAApC,CANsC,CAAvC,CAOG,IAPH,CAQAA,EAAA,EAAQ,eACRiD,EAAA,CAAGwb,MAAH,CAAUze,CAAV,CAEA,KAAA,CAAKgkG,mBAAL,EAEG,IAAI,CAAC,IAAA,CAAKl5E,WAAL,CAAiB,OAAjB,CAAL,CAAgC,CAC/B,IAAI4C,EAAK,IACT,OAAO,KAAA,CAAK3C,SAAL,EAAA,CAAiBw0B,eAAjB,CAAiC,CAAClT,MAAO,CAAR,CAAWkZ,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAArB,CAAmDsX,WAAY,IAAA,CAAKtX,WAAL,CAAiB,YAAjB,CAA/D,CAAjC,CAAA,CAAiI+L,IAAjI,CAAsI,QAAQ,CAAC2oB,CAAD,CAAc,CAC9Jp/C,CAAAA,CAAOo/C,CAAA,CAAYnF,KAAZ,CAAkB,CAAlB,CAAA,CAAqBjG,OAArB,EACH1mB;CAAAk6B,CAAG/4B,IAAH+4B,CAAQ,kBAARA,CACR,CAAEo9C,QAAF,CAAW,IAAIluE,MAAJ,CAAWvZ,IAAX,CAAgBk9B,KAAhB,CAAsBG,UAAtB,CAAiC,CAACx6C,KAAMA,CAAP,CAAjC,CAAX,CACAstB,EAAA,CAAGyV,SAAH,CAAa,OAAb,CAAsBzV,CAAtB,CAA0B,CAACttB,CAAD,CAA1B,CAJkK,CAA5J,CAFwB,CAzCV,CA5EY,CAiInC4jG,oBAAqBA,QAAQ,EAAG,CAC/Bp5E,KAAA,CAAQ,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CAC0B,EAAlC,EAAItqB,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAetvB,KAAf,CAAJ,CAA0BxnB,MAA1B,CACI,IAAA,CAAK2nB,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC14C,IAAhC,CAAqC,QAAQ,CAAC5E,CAAD,CAAW,CACvD,IAAIkD,EAAgB,IAAA,CAAKggG,yBAAL,CAA+BljG,CAA/B,CAA6Cg8B,KAAJ,CAAU,IAAA,CAAK+mE,cAAL,EAAV,CAAzC,CACpB,KAAA,CAAKI,yBAAL,CAA+BnjG,CAA/B,CAAyCkD,CAAzC,CAFuD,CAAxD,CAGG,IAHH,CADJ,EAMC,IAAA,CAAK0iC,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,SAAd,CAAV,CACA,CAAA,IAAA,CAAKpO,SAAL,EAAA,CAAiBkqB,gBAAjB,EAAA,CAAoCC,IAApC,CAAyC,CACxCtjB,OAAQ,CACPhH,MAAOpqB,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAetvB,KAAf,CAAA,CAAsB5gB,IAAtB,CAA2B,GAA3B,CADA,CAEJ0wC,kBAAmB,UAFf;AAGJ11C,KAAM,IAAA,CAAK8/F,cAAL,EAHF,CAIJ1iE,WAAY,IAAA,CAAKtX,WAAL,CAAiB,YAAjB,CAJR,CADgC,CAOxC+Y,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAA,CAAK3jB,MAAL,EAD+C,KAE3C/qB,EAAM,CAFqC,CAElC0L,EAAM0uB,MAAN1uB,CAAa2uB,SAFqB,CAEV0nB,EAAO,EAFG,CAECvrB,CAChD3U,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CAChC,IAAI1G,EAAM,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BvgB,CAAA,CAAOipC,WAAP,EAA7B,CAAV,CACIzuC,EAAgB,IAAA,CAAKggG,yBAAL,CAA+BlhG,CAA/B,CAAoC0G,CAAA,CAAOkqC,gBAAP,EAApC,CACpBzX,EAAA,CAAI18B,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAczB,CAAd,CACAi4B,EAAJ,CAAMx2B,CAAN,GAAYA,CAAZ,CAAgBw2B,CAAhB,CACAj4B,EAAA,CAAc+T,OAAd,CAAsB,QAAQ,CAACzT,CAAD,CAAI,CAC7BA,CAAJ,EAASA,CAAT,CAAW6M,CAAX,GACCA,CADD,CACO7M,CADP,CADiC,CAAlC,CAKAkjD,EAAA,CAAKh+C,CAAA,CAAOipC,WAAP,EAAL,CAAA,CAA6B,IAAA,CAAKuxD,yBAAL,CAA+BlhG,CAA/B,CAAoC0G,CAAA,CAAOkqC,gBAAP,EAApC,CAVG,CAAjC,CAWG,IAXH,CAYA8T,EAAA,CAAKzvC,OAAL,CAAa,QAAQ,CAAC/T,CAAD,CAAgB9B,CAAhB,CAAmB,CAC3B,IAAA,CAAK+hG,yBAAL,CAA+B,IAAA,CAAKn6E,SAAL,EAAA,CAAiBC,WAAjB,CAA6B7nB,CAA7B,CAA/B;AAAgE8B,CAAhE,CAA+EmN,CAA/E,EAAsF5R,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcnN,CAAd,CAAtF,CAAoHyB,CAApH,EAA2HlG,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAczB,CAAd,CAA3H,CAD2B,CAAxC,CAEG,IAFH,CAf+C,CAPR,CA0BxCvC,MAAO,IA1BiC,CAAzC,CAPD,CAF+B,CAjIG,CAyKnCuiG,0BAA2BA,QAAQ,CAAClhG,CAAD,CAAMkB,CAAN,CAAqB,CACtD8/F,CAAAA,CAAW3+F,IAAA,CAAK8qB,IAAL,CAAUntB,CAAA,CAAI8wC,qBAAJ,EAAV,CAAwC,IAAA,CAAKswD,mBAAL,EAAxC,CAGZ,IAAIlgG,CAAJ,CAAkB7B,MAAlB,CAAyB2hG,CAAzB,CAAmC,CAElC,IADA,IAAIK,EAAmB,EAAvB,CACSjiG,EAAE,CAAX,CAAcA,CAAd,CAAgB8B,CAAhB,CAA8B7B,MAA9B,CAAsCD,CAAA,EAAtC,CAA2C,CAC1C,IAAIsf,EAAI+I,QAAA,CAASroB,CAAT,CAAW4hG,CAAX,CAAoB9/F,CAApB,CAAkC7B,MAAlC,CACJgiG,EAAA,CAAiB3iF,CAAjB,CAAJ,CAA0B2iF,CAAA,CAAiB3iF,CAAjB,CAAA,CAAoBjd,IAApB,CAAyBP,CAAA,CAAc9B,CAAd,CAAzB,CAA1B,CACMiiG,CAAA,CAAiB3iF,CAAjB,CADN,CAC0B,CAACxd,CAAA,CAAc9B,CAAd,CAAD,CAHgB,CAK9C8B,CAAA,CAAgBmgG,CACb,KAASjiG,CAAT,CAAW,CAAX,CAAcA,CAAd,CAAgB8B,CAAhB,CAA8B7B,MAA9B,CAAsCD,CAAA,EAAtC,CACC8B,CAAA,CAAc9B,CAAd,CAAA,CAAmB3C,GAAA,CAAIu9B,KAAJ,CAAU83D,IAAV,CAAe5wF,CAAA,CAAc9B,CAAd,CAAf,CATc,CAYnC,MAAO8B,EAhBgD,CAzKrB,CA4LnCigG,0BAA2BA,QAAQ,CAACnhG,CAAD,CAAMkB,CAAN,CAAqBmN,CAArB,CAA0B1L,CAA1B,CAA+B,CACjE,IAAI1G,EAAS,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,GAArC,CAAyC,IAAzC,CAA8Cn6B,IAA9C,CAAmDnK,EAAnD,CAAsD,GAAtD,CAA0DyC,CAAA,CAAI2xC,QAAJ,EAA1D,CACT5rC,EAAAA,CAAI9J,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CAFyD,KAG7DwD,EAAI,CAAGipB,EAAAA,CAAI1uB,CAAJ0uB,CAAW+mE,WACtB;IADA,IAAmC9qF,EAAI,CAAvC,CACS0I,EAAE,CAAX,CAAcA,CAAd,CAAgBpO,CAAhB,CAA8B7B,MAA9B,CAAqCiQ,CAAA,EAArC,CACCvJ,CAGA,CAHEjB,SAGF,CAHc5D,CAAA,CAAcoO,CAAd,CAAA,CAAmB,eAAnB,EAA4D,EAA5D,EAAsCpO,CAAA,CAAcoO,CAAd,CAAtC,CAAuDjB,CAAvD,GAAgE1L,CAAhE,CAAoE0L,CAApE,EAA0E,EAA1E,EAA8E,GAA9E,CAAoF,kBAGlG,CAFAtI,CAAA,CAAEiB,QAAF,CAAWtF,CAAX,CAAakF,CAAb,CAAe,CAAf,CAAiB,CAAjB,CAEA,CADAlF,CACA,EADG,CACH,CAAIA,CAAJ,EAAOipB,CAAP,GAAWjpB,CAAK,CAAH,CAAG,CAAAkF,CAAA,EAAG,CAAnB,CARgE,CA5L/B,CAAvC,C,CCAAnK,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCyI,OAAQ,iBAD0B,CAElC7H,OAAQ,CAAC,oBAAD,CAF0B,CAGlC4V,MAAO,gBAH2B,CAI/BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAOJ8tB,SAAU,MAPN,CASJ36B,MAAO3jB,IAAAA,EATH,CAWJqkE,OAAQ,CAAA,CAXJ,CAHG,CAiBRzxC,MAAO,mBAjBC,CAJsB,CAwBlCuqE,OAAQ,CAxB0B,CA0BlCiB,SAAU,iBA1BwB,CA4BlC1mG,OAAQ,CACJunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADL,CA5B0B,CAgC/BR,YAAaA,QAAQ,EAAG,CAEvB,IAAA,CAAKs2B,MAAL,CAAY,0BAAZ,CAAA,CAAwCt2B,WAAxC,CAAoD4D,KAApD,CAA0D,IAA1D,CAAgEuX,SAAhE,CACA3b,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAElB13B,KAAM,kFAFY;AAGlB8yD,YAAa,CAAC,CACDC,KAAM,QADL,CAEDhzD,MAAO,SAFN,CAGDizD,gBAAiB,UAHhB,CAIDp6B,MAAO,CAAC,CACPla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,KAAd,CADC,CAEbU,MAAO,mBAFM,CAGPC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKwrE,UAAL,EADmB,CAHb,CAMP5iG,MAAO,IANA,CAAD,CAOL,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADL,CAEbU,MAAO,mBAFM,CAGDC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK5B,WAAL,CAAiB,OAAjB,CAA0BjxB,IAAAA,EAA1B,CACA,KAAA,CAAKs+F,iBAAL,CAAuB,CAAA,CAAvB,CACA,KAAA,CAAKD,UAAL,EAHmB,CAHnB,CAQD5iG,MAAO,IARN,CAPK,CAgBR,CACElB,MAAO,UADT,CAEEyjC,SAAU,IAAA,CAAK9L,QAAL,CAAc,QAAd,CAFZ,CAGEx3B,UAAW,CACV6vD,OAAQA,QAAQ,CAAClf,CAAD,CAAM,CACrBA,CAAA,CAAI5L,QAAJ,CAA0C,CAAA,CAA1C,GAAa,IAAA,CAAK5b,WAAL,CAAiB,QAAjB,CAAb,CACHtqB,IAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQuxB,CAAA,CAAIrO,KAAJ,EADwB;AAEzB9jB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CAFmB,CAAjC,CAFwB,CADZ,CASVktC,cAAeA,QAAQ,CAAC/zB,CAAD,CAAM,CAC5B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD4B,CATnB,CAYPmC,OAAQA,QAAQ,CAACkM,CAAD,CAAMljB,CAAN,CAAW,CAC1B,IAAA,CAAK8I,WAAL,CAAiB,QAAjB,CAA2B9I,CAA3B,CACA,KAAA,CAAKxP,IAAL,EAF0B,CAZpB,CAgBPld,MAAO,IAhBA,CAHb,CAhBQ,CAJN,CAAD,CAHK,CAAhB,CA+CG,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,UAAR,CAAoB,QAAQ,CAAC87B,CAAD,CAAM,CACpC,IAAItyC,EAAS,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CAAb,CACIlY,EAAK,IACN1tB,EAAA,CAAOkC,gBAAP,CAAwB,WAAxB,CAAqC,QAAQ,CAACwzD,CAAD,CAAM,CAAA,IAC9C9sB,EAAO5oC,CAAA,CAAOy/D,qBAAP,EADuC,CACPh6D,EAAKiwD,CAALjwD,CAAS+/F,OAAT//F,CAAmBmjC,CAAnBnjC,CAAwBwS,IADjB,CACuBtN,EAAI+qD,CAAJ/qD,CAAQ86F,OAAR96F,CAAkBi+B,CAAlBj+B,CAAuBmO,GAD9C,CAErDstB,EAAS,CAAA,CAF4C,CAErCs/D,EAAYl6E,QAAA,CAASkC,CAAT,CAAY23E,QAAZ,CAAZK;AAAkC,CAC3Ch4E,EAAJ,CAAOoqD,SAAP,EACCpqD,CAAA,CAAGoqD,SAAH,CAAa9+D,OAAb,CAAqB,QAAQ,CAACjV,CAAD,CAAM,CAClC,IAAI4hG,EAAalgG,CAAbkgG,CAAiB5hG,CAAjB4hG,CAAqBlgG,CAArBkgG,CAAuBD,CAAvBC,EAAoClgG,CAApCkgG,CAAwC5hG,CAAxC4hG,CAA4ClgG,CAA5CkgG,CAA8CD,CAA9CC,EAA2Dh7F,CAA3Dg7F,CAA+D5hG,CAA/D4hG,CAAmEh7F,CAAnEg7F,CAAqED,CAArEC,EAAkFh7F,CAAlFg7F,CAAsF5hG,CAAtF4hG,CAA0Fh7F,CAA1Fg7F,CAA4FD,CAC5FC,EAAJ,EAAgB5hG,CAAhB,CAAoB4hG,UAApB,GAAiCv/D,CAAjC,CAA0C,CAAA,CAA1C,CACAriC,EAAA,CAAI4hG,UAAJ,CAAiBA,CAHiB,CAAnC,CAMJhgG,OAAA,CAAS6lB,QAAA,CAASkC,CAAT,CAAY23E,QAAZ,CAAT,CAA+B,CAC/B,KAAKjlG,IAAL,GAAastB,EAAb,CAAgBk4E,OAAhB,CACKD,CAEJ,CAFiBlgG,CAEjB,CAFqBioB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAErB,CAFsCqF,CAEtC,CAFwCE,MAExC,EAFkDF,CAElD,CAFsDioB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAEtD,CAFuEqF,CAEvE,CAFyEE,MAEzE,EAFmFgF,CAEnF,CAFuF+iB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAEvF,CAFwGuK,CAExG,CAF0GhF,MAE1G,EAFoHgF,CAEpH,CAFwH+iB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAExH,CAFyIuK,CAEzI,CAF2IhF,MAE3I,CADIggG,CACJ,EADgBj4E,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAChB,CADiCulG,UACjC,GAD8Cv/D,CAC9C,CADuD,CAAA,CACvD,EAAA1Y,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAAA,CAAiBulG,UAAjB,CAA8BA,CAE3Bv/D,EAAJ,EACC1Y,CAAA,CAAG9N,IAAH,EAjBoD,CAAnD,CAmBM,CAAA,CAnBN,CAoBA5f,EAAA,CAAOkC,gBAAP,CAAwB,OAAxB,CAAiC,QAAQ,CAACwzD,CAAD,CAAM,CAAA,IAC1C9sB,EAAO5oC,CAAA,CAAOy/D,qBAAP,EADmC,CACHh6D,EAAKiwD,CAALjwD,CAAS+/F,OAAT//F,CAAmBmjC,CAAnBnjC,CAAwBwS,IAAMtN,EAAAA,CAAI+qD,CAAJ/qD,CAAQ86F,OAAR96F,CAAkBi+B,CAAlBj+B,CAAuBmO,GACtF0S,SAAA,CAASkC,CAAT,CAAY23E,QAAZ,CACb;IAAKjlG,IAAL,GAAastB,EAAb,CAAgBk4E,OAAhB,CACKngG,CAAJ,CAAQioB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAAR,CAAyBqF,CAAzB,CAA2BE,MAA3B,EAAqCF,CAArC,CAAyCioB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAAzC,CAA0DqF,CAA1D,CAA4DE,MAA5D,EAAsEgF,CAAtE,CAA0E+iB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAA1E,CAA2FuK,CAA3F,CAA6FhF,MAA7F,EAAuGgF,CAAvG,CAA2G+iB,CAAA,CAAGk4E,OAAH,CAAWxlG,IAAX,CAA3G,CAA4HuK,CAA5H,CAA8HhF,MAA9H,EACC+nB,CAAA,CAAG43E,UAAH,CAAcllG,IAAd,CAL+C,CAA/C,CAQM,CAAA,CARN,CAvBiC,CAAlC,CAkCA,KAAA,CAAKoW,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,IAAA,CAAK2hD,SAAL,CAAiB,EACb93E,EAAAA,CAAS,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CAFgC,KAEgB7lC,EAAMC,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CAFtB,CAE+C0D,EAAS3F,CAAT2F,CAAgBvE,KAAhBuE,CAAsB,CAClH5F,EAAA,CAAI2H,IAAJ,CAAW,IAAX,CAAgB29F,QAChBlvE,EAAA,CAAOkpB,YAAP,EAAA,CAAsB14C,IAAtB,CAA2B,QAAQ,CAAC5E,CAAD,CAAW,CAC7C,IAAI6I,EAAQ7I,CAAA,CAASo0C,YAAT,EACZ,KAAA,CAAK2hC,SAAL,CAAetyE,IAAf,CAAoB,CACnBzB,IAAKhC,CADc,CAEnB6I,MAAOA,CAFY,CAGnBxJ,MAAOrB,CAAA,CAAI4H,WAAJ,CAAgBiD,CAAhB,CAAPxJ,CAA8BA,KAHX,CAInBqE,EAAGE,CAJgB,CAKnBgF,EAAGhF,CALgB,CAMnBgpD,QAAS,EANU,CAOnBg3C,WAAY,CAAA,CAPO,CAApB,CAF6C,CAA9C,CAWG,IAXH,CAYA,KAAA,CAAKE,UAAL,CAAgB7lG,CAAhB,CACA;IAAA,CAAK4f,IAAL,EACA,KAAA,CAAK2lF,iBAAL,EAlB6C,CAA9C,CAmBG,IAnBH,CAqBA,KAAA,CAAK/uF,EAAL,CAAQ,QAAR,CAAkB,QAAQ,EAAG,CAAA,IACxBxW,EAAS,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CADe,CAE3BkgE,EAAO1/F,IAAA,CAAKgM,GAAL,CAAS,IAAA,CAAKuzB,WAAL,EAAA,CAAmBtkC,QAAnB,EAAT,CAAwC,IAAA,CAAKskC,WAAL,EAAA,CAAmBxkC,SAAnB,EAAxC,CACRnB,EAAA,CAAOoB,KAAP,CAAe0kG,CACf9lG,EAAA,CAAOkB,MAAP,CAAgB4kG,CAChB,KAAA,CAAKC,aAAL,EACA,KAAA,CAAKF,UAAL,EACA,KAAA,CAAKjmF,IAAL,CAAU5f,CAAV,CAP4B,CAA7B,CA5GuB,CAhCO,CAuJ/BslG,WAAYA,QAAQ,CAACllG,CAAD,CAAO,CAAA,IACtBstB,EAAK,IADiB,CACX/sB,EAAeH,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAexsB,CAAA,CAAG5C,WAAH,CAAe,OAAf,CAAf,CACjCtqB,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC/BxxB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,YAAd,CADwB,CAE/BiB,MAAO,CAAA,CAFwB,CAG/BC,MAAO,CACN74B,MAAO,MADD,CAENJ,MAAO,GAFD,CAGNi5B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAEP20B,OAAQ,IAAA,CAAKpL,SAAL,EAFD;AAGP8P,MAAO,IAAA,CAAK9P,SAAL,EAAA,CAAiB00B,cAAjB,CAAgC,CACtCjK,MAAO,CACNC,YAAa,CACZ8P,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CADE,CADP,CAD+B,CAAhC,CAHA,CAUPy6B,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAVH,CAWPnpB,UAAW,CACVC,YAAaA,QAAQ,CAAC+0C,CAAD,CAAQ,CAC5B,GAAIv2C,CAAJ,CAAU,CACT,IAAIsnE,EAAU,IAAIlnE,GAAJ,CAAQu4B,MAAR,CAAe,8BAAf,CAA+C,CAC5D34B,KAAMA,CADsD,CAA/C,CAGdu2C,EAAA,CAAMhjB,QAAN,EAAA,CAAiBm5B,QAAjB,CAA0B4a,CAA1B,CAAmC,CAAA,CAAnC,CACA/wB,EAAA,CAAMjQ,QAAN,CAAeghC,CAAf,CALS,CADkB,CADnB,CAXJ,CAAD,CAsBL,CACDlmE,MAAO,aADN,CAEEg5B,WAAY9M,CAAA,CAAGyL,QAAH,CAAY,iBAAZ,CAFd,CAGE2M,SAAU,CAHZ,CAIEC,SAAUplC,CAAVolC,CAAuB3iC,MAAvB2iC,CAA8B,CAJhC,CAKE1lC,MAAO,CALT,CAME2lG,UAAW,CANb,CAOE5kG,MAAO,GAPT,CAQE0e,KAAM,QARR,CAtBK,CAHD,CAmCNgb,QAAS,CAAC,CACA3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADN,CAETU,MAAO,mBAFE,CAGAmB,KAAM,CAHN,CAIAD,GAAI,iBAJJ;AAKHjB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIghB,EAAUz7C,GAAA,CAAIu9B,KAAJ,CAAU1pB,MAAV,CAAiB7T,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAexsB,CAAA,CAAG5C,WAAH,CAAe,OAAf,CAAf,CAAjB,CAA0D,QAAQ,CAACF,CAAD,CAAQ,CACvF,MAAOA,EAAP,EAAcxqB,CADyE,CAA1E,CAGdstB,EAAA,CAAGwK,WAAH,CAAe,OAAf,CAAwB+jB,CAAxB,CACAvuB,EAAA,CAAG63E,iBAAH,CAAqC,CAArC,EAAqBtpD,CAArB,CAA6B74C,MAA7B,CACA63B,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EANsB,CALpB,CAaHz4B,MAAO,IAbJ,CAAD,CAcP,CAAClB,MAAO,QAAR,CAdO,CAcY,CACX2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADK,CAEX4B,GAAI,iBAFO,CAGRlB,MAAO,mBAHC,CAIdmB,KAAM,CAJQ,CAKdlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CALT,CAdZ,CAsBP,CACQhb,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADd,CAEDU,MAAO,mBAFN,CAGQmB,KAAM,CAHd,CAIKlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAI7L,EAAM6L,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBrM,IAAjB,CAAsB,kBAAtB,CAAA,CAA0C+Y,QAA1C,EAAA,CAAqD59B,IAArD,CAA0D,GAA1D,CACV,IAAIolB,CAAJ,CAAS,CAIR,IADA,IAAI9B;AAAW,EAAf,CACSnqB,EAAE,CAAX,CAAcA,CAAd,CAAgBxC,CAAhB,CAA6ByC,MAA7B,CAAqCD,CAAA,EAArC,CACC,GAAI/C,CAAJ,EAAUO,CAAA,CAAawC,CAAb,CAAV,CAA2B,CAC1BmqB,CAAA,CAASnqB,CACTxC,EAAA,CAAawC,CAAb,CAAA,CAAgBisB,CAGhB,KAAI4gD,EAAS/0C,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBrM,IAAjB,CAAsB,aAAtB,CAAA,CAAqC+Y,QAArC,EACTooC,EAAJ,GACCrvE,CAAA,CAAawzB,MAAb,CAAoBhxB,CAApB,CAAuB,CAAvB,CAGA,CAFaA,CAEb,EAFe6sE,CAEf,CADIi2B,CACJ,CADWtlG,CACX,CADwByC,MACxB,GADiC6iG,CACjC,EADyCtlG,CACzC,CADsDyC,MACtD,CAD6D,CAC7D,EAAAzC,CAAA,CAAawzB,MAAb,CAAoB8xE,CAApB,CAA4B,CAA5B,CAA+B72E,CAA/B,CAJD,CAMA,MAZ0B,CAgBd,EAAd,EAAI9B,CAAJ,EACC3sB,CAAA,CAAa6E,IAAb,CAAkB4pB,CAAlB,CAtBO,CA0BT1B,CAAA,CAAGwK,WAAH,CAAe,OAAf,CAAwBv3B,CAAxB,CACA+sB,EAAA,CAAG63E,iBAAH,CAA0C,CAA1C,EAAqB5kG,CAArB,CAAkCyC,MAAlC,CACA63B,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EA9BsB,CAJ5B,CAoCKz4B,MAAO,IApCZ,CAtBO,CAnCH,CAHwB,CAmG/Bi5B,YAAa,CAnGkB,CAAhC,CAAA,CAoGG3Z,IApGH,EAF6B,CAvJI,CAgQ/BujF,kBAAmBA,QAAQ,CAACW,CAAD,CAAa,CAC1C,IAAA,CAAKN,OAAL,CAAe3+F,IAAAA,EACf,KAAA,CAAK6wE,SAAL,CAAe9+D,OAAf,CAAuB,QAAQ,CAACjV,CAAD,CAAM,CAACA,CAAA,CAAI4qD,OAAJ,CAAY,EAAb,CAArC,CACA,KAAA,CAAKk3C,UAAL,EACA,KAAA,CAAKjmF,IAAL,EACG,IAAI,IAAJ,CAASk4D,SAAT,CAAoB,CACnB,IAAIlmD,EAAS,IAAA,CAAKgG,YAAL,EACRhG,EAAL,CAAYhH,KAAZ,GAAoBgH,CAApB,CAA2Bya,KAA3B;AAAiC,EAAjC,CACG,KAAI4P,EAAUz7C,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAA,CAAKpvB,WAAL,CAAiB,OAAjB,CAAf,CACd,EAAI,CAACo7E,CAAL,EAAkC,CAAlC,CAAmBjqD,CAAnB,CAA2B74C,MAA3B,GACC,IAAA,CAAK2nB,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACtCtjB,OAAQpxB,GAAA,CAAIoE,KAAJ,CAAUgtB,CAAV,CAAkB,CAAC8oB,kBAAmB,CAAA,CAApB,CAAlB,CAD8B,CAEtC7W,SAAUA,QAAQ,CAACtb,CAAD,CAAU,CAAA,IACpBvoB,EAAS,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CADW,CACqC7lC,EAAMC,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CAClE6jG,KAAA,CAAO9lG,CAAP,CAAcoB,KAAO+kG,IAArB,CAA2BL,IAA3B,CAAiC,CAClC/lG,EAAA,CAAI2H,IAAJ,CAAW,IAAX,CAAgB29F,QAChB,KAAIO,EAAU,EACLziG,EAAAA,CAAE,CAAX,KAAK,IAASsnB,EAAIlC,CAAJkC,CAAYrnB,MAA1B,CAAkCD,CAAlC,CAAoCsnB,CAApC,CAAyCtnB,CAAA,EAAzC,CAA8C,CAC7C,IAAI/C,EAAOmoB,CAAA,CAAQplB,CAAR,CAAA,CAAWixC,OAAX,EACX7rB,EAAA,CAAQplB,CAAR,CAAA,CAAWwxC,gBAAX,EAAA,CAA8B37B,OAA9B,CAAsC,QAAQ,CAACoW,CAAD,CAAMjsB,CAAN,CAAS,CAC9C,CAAR,CAAIisB,CAAJ,EACC,IAAA,CAAK0oD,SAAL,CAAe30E,CAAf,CAAA,CAAkBwrD,OAAlB,CAA0BnpD,IAA1B,CAA+BpF,CAA/B,CAFqD,CAAvD,CAIG,IAJH,CAKAwlG,EAAA,CAAQxlG,CAAR,CAAA,CAAgB,CACfqK,OAAQ8d,CAAA,CAAQplB,CAAR,CADO,CAEfyvB,OAAQ,IAAA,CAAKY,cAAL,EAAA,CAAsBoK,QAAtB,CAA+Bz6B,CAA/B,CAFO;AAGf/B,MAAOrB,CAAA,CAAI4H,WAAJ,CAAgBvH,CAAhB,CAAPgB,CAA6BA,KAHd,CAIfukG,WAAY,CAAA,CAJG,CAP6B,CAe9C,IAAA,CAAKC,OAAL,CAAe,EAGf3pD,EAAA,CAAQjjC,OAAR,CAAgB,QAAQ,CAAC4R,CAAD,CAAQ,CAC3Bg7E,CAAA,CAAQh7E,CAAR,CAAJ,GACI,IAAA,CAAKg7E,OAAL,CAAah7E,CAAb,CACA,CADsBg7E,CAAA,CAAQh7E,CAAR,CACtB,CAAA,OAAOg7E,CAAA,CAAQh7E,CAAR,CAFX,CAD+B,CAAhC,CAKG,IALH,CAQA,KAAKxqB,CAAL,GAAawlG,EAAb,CACC,IAAA,CAAKA,OAAL,CAAaxlG,CAAb,CAAA,CAAqBwlG,CAAA,CAAQxlG,CAAR,CAGtB,KAAA,CAAK83B,WAAL,CAAiB,OAAjB,CAA0BpkB,MAAA,CAAOC,IAAP,CAAY,IAAZ,CAAiB6xF,OAAjB,CAA1B,CACA,KAAA,CAAKG,aAAL,EACA,KAAA,CAAKF,UAAL,EACA,KAAA,CAAKjmF,IAAL,EAtCwB,CAFU,CA0CtCld,MAAO,IA1C+B,CAAvC,CALe,CALmB,CAhQT,CA0T/BqjG,cAAeA,QAAQ,CAAC/lG,CAAD,CAAS,CAC3BA,CAD2B,CAClB,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CAAqEugE,EAAAA,CAAdnmG,CAAcmmG,CAAP/kG,KAAO+kG,CAAY,CAC9F,KAAI17E,EAAM3W,MAAA,CAAOC,IAAP,CAAY,IAAZ,CAAiB6xF,OAAjB,EAA4B,EAA5B,CAANn7E,CAAsCrnB,MAA1C,CACID,EAAI,CADR,CAES/C,CAAT,KAASA,CAAT,GAAiB,KAAjB,CAAsBwlG,OAAtB,CACCplG,GAAA,CAAIoE,KAAJ,CAAU,IAAA,CAAKghG,OAAL,CAAaxlG,CAAb,CAAV,CAA8B,CAChCqF,EAAI0gG,CAAJ1gG,EAAU0gG,CAAV1gG,CAAc,IAAdA,CAAmB2+F,MAAnB3+F,CAA0B,EAA1BA,EAAgCW,IAAA,CAAKuL,GAAL,CAAS,CAAT,CAAavL,IAAb,CAAkBoD,EAAlB;AAAuBrG,CAAvB,CAA2BsnB,CAA3B,CADA,CAEhC9f,EAAIw7F,CAAJx7F,EAAUw7F,CAAVx7F,CAAc,IAAdA,CAAmBy5F,MAAnBz5F,CAA0B,EAA1BA,EAAgCvE,IAAA,CAAKwL,GAAL,CAAS,CAAT,CAAaxL,IAAb,CAAkBoD,EAAlB,CAAuBrG,CAAvB,CAA2BsnB,CAA3B,CAFA,CAA9B,CAIA,CAAAtnB,CAAA,EAT8B,CA1TD,CAuU/B0iG,WAAYA,QAAQ,CAAC7lG,CAAD,CAAS,CAC5BA,CAAA,CAASA,CAAT,EAAoB,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CAAgDkgE,KAApE,CAA2E9lG,CAA3E,CAAkFoB,KAAO+kG,IAAzF,CAA+FL,IAA/F,CAAqG,CACrG,KAAIM,EAAc,EAClB,IAAI,IAAJ,CAAStuB,SAAT,CAAoB,CAChB,IAAA,CAAKA,SAAL,CAAe9+D,OAAf,CAAuB,QAAQ,CAACjV,CAAD,CAAMZ,CAAN,CAAS,CACvC,GAAwC,CAAxC,EAAI3C,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAen2C,CAAf,CAAmB4qD,OAAnB,CAAJ,CAAgCvrD,MAAhC,CAA4CgjG,CAAA,CAAY5gG,IAAZ,CAAiBrC,CAAjB,CAA5C,KACK,IAAwC,CAAxC,EAAI3C,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAen2C,CAAf,CAAmB4qD,OAAnB,CAAJ,CAAgCvrD,MAAhC,CAA2C,CAAA,IAC3CqC,EAAmB,EAAnBA,CAAKW,IAAA,CAAKqK,MAAL,EAALhL,CAAuB,EADoB,CAChBkF,EAAmB,EAAnBA,CAAKvE,IAAA,CAAKqK,MAAL,EAAL9F,CAAuB,EACtD5G,EAAA,CAAIsiG,OAAJ,CAAc,IAAA,CAAKT,OAAL,CAAa7hG,CAAA,CAAI4qD,OAAJ,CAAY,CAAZ,CAAb,CAAd,CAA2ClpD,CAA3C,EAA2E,CAA3B,EAAAW,IAAA,CAAKyF,KAAL,CAAWzF,IAAA,CAAKqK,MAAL,EAAX,CAAA,CAA+BhL,CAA/B,CAAmC,CAACA,CAApF,CACA1B,EAAA,CAAIuiG,OAAJ,CAAc,IAAA,CAAKV,OAAL,CAAa7hG,CAAA,CAAI4qD,OAAJ,CAAY,CAAZ,CAAb,CAAd,CAA2ChkD,CAA3C,EAA2E,CAA3B,EAAAvE,IAAA,CAAKyF,KAAL,CAAWzF,IAAA,CAAKqK,MAAL,EAAX,CAAA;AAA+B9F,CAA/B,CAAmC,CAACA,CAApF,CAH+C,CAA3C,IAIE,CAEKA,CAFL,CAEFlF,CAFE,CAEE,CAFF,KAGLk8B,EAAO59B,CAAA,CAAI4qD,OAAJ,CAAYl6C,GAAZ,CAAgB,QAAQ,CAACrU,CAAD,CAAO,CAAC,MAAO,KAAA,CAAKwlG,OAAL,CAAaxlG,CAAb,CAAA,CAAmBqK,MAAnB,CAA0BkqC,gBAA1B,EAAA,CAA6CxxC,CAA7C,CAAR,CAA/B,CAAyF,IAAzF,CAHF,CAILiP,EAAM5R,GAAA,CAAIu9B,KAAJ,CAAU3rB,GAAV,CAAcuvB,CAAd,CAJD,CAIsBj7B,EAAMlG,GAAA,CAAIu9B,KAAJ,CAAUr3B,GAAV,CAAci7B,CAAd,CAJ5B,CAKF4kE,EAAU,CACdxiG,EAAA,CAAI4qD,OAAJ,CAAY31C,OAAZ,CAAoB,QAAQ,CAAC5Y,CAAD,CAAOiT,CAAP,CAAU,CACrCuzC,MAAA,CAASlgD,CAAA,EAAK0L,CAAL,CAAW,CAAX,EAAiBuvB,CAAA,CAAKtuB,CAAL,CAAjB,CAAyBjB,CAAzB,CAA8BA,CAA9B,GAAqC1L,CAArC,CAAyC0L,CAAzC,CAA8CA,CAA9C,CACTm0F,EAAA,EAAW3/C,MACXnhD,EAAA,EAAK,IAAA,CAAKmgG,OAAL,CAAaxlG,CAAb,CAAL,CAAwBqF,CAAxB,CAA0BmhD,MAC1Bj8C,EAAA,EAAK,IAAA,CAAKi7F,OAAL,CAAaxlG,CAAb,CAAL,CAAwBuK,CAAxB,CAA0Bi8C,MAJW,CAAtC,CAMG,IANH,CAOA7iD,EAAA,CAAIsiG,OAAJ,CAAc5gG,CAAd,CAAgB8gG,CAChBxiG,EAAA,CAAIuiG,OAAJ,CAAc37F,CAAd,CAAgB47F,CAdV,CANgC,CAAxC,CAsBG,IAtBH,CAyBSpjG,EAAAA,CAAE,CAAX,KAAK,IAASsnB,EAAI27E,CAAJ37E,CAAgBrnB,MAA9B,CAAsCD,CAAtC,CAAwCsnB,CAAxC,CAA6CtnB,CAAA,EAA7C,CACC3C,GAAA,CAAIoE,KAAJ,CAAU,IAAA,CAAKkzE,SAAL,CAAe30E,CAAf,CAAV,CAA6B,CAC/BkjG,QAAUF,GAAVE,EAAgBF,GAAhBE,CAAoB,IAApBA,CAAyBjC,MAAzBiC,EAAmCjgG,IAAA,CAAKuL,GAAL,CAAS,CAAT,CAAavL,IAAb,CAAkBoD,EAAlB,CAAuBrG,CAAvB,CAA2BsnB,CAA3B,CADJ,CAE/B67E,QAAUH,GAAVG,EAAgBH,GAAhBG,CAAoB,IAApBA,CAAyBlC,MAAzBkC,EAAmClgG,IAAA,CAAKwL,GAAL,CAAS,CAAT,CAAaxL,IAAb,CAAkBoD,EAAlB,CAAuBrG,CAAvB,CAA2BsnB,CAA3B,CAFJ,CAA7B,CA3Be,CAHQ,CAvUE,CA6W/B7K,KAAMA,QAAQ,CAAC5f,CAAD;AAASD,CAAT,CAAc,CAC3BC,CAAA,CAASA,CAAT,EAAoB,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CACpB7lC,EAAA,CAAMA,CAAN,EAAaC,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CACblC,EAAA,CAAI2H,IAAJ,CAAW,IAAX,CAAgB29F,QAChB,KAAI1/F,EAAS3F,CAAT2F,CAAgBvE,KAAhBuE,CAAsB,CAC1B5F,EAAA,CAAIwiG,SAAJ,CAAc,CAAd,CAAgB,CAAhB,CAAkBviG,CAAlB,CAAyBoB,KAAzB,CAA+BpB,CAA/B,CAAsCkB,MAAtC,CACA,KAAIoqE,EAAS,IAAA,CAAKxgD,WAAL,CAAiB,QAAjB,CAGb/qB,EAAA,CAAIoJ,SAAJ,EACApJ,EAAA,CAAIkJ,WAAJ,CAAkB,gBACflJ,EAAA,CAAI8I,SAAJ,CAAgB,iBACnB9I,EAAA,CAAIsK,GAAJ,CAAQ1E,CAAR,CAAgBA,CAAhB,CAAwBA,CAAxB,CAA+B,IAA/B,CAAoCy+F,MAApC,CAA4C,CAA5C,CAA+C,CAA/C,CAAmDh+F,IAAnD,CAAwDoD,EAAxD,CAA4D,CAAA,CAA5D,CACAzJ,EAAA,CAAIwK,IAAJ,EACAxK,EAAA,CAAImJ,SAAJ,CAAgB,CAChBnJ,EAAA,CAAIuJ,MAAJ,EAGA,KAAIk9F,EAAa,CAAA,CAIjB,IAAI,IAAJ,CAAS1uB,SAAT,EAA4C,CAA5C,CAAsB,IAAtB,CAA2BA,SAA3B,CAAqC10E,MAArC,CAA+C,CAG9C,IAAIqjG,EAAajmG,GAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe,IAAf,CAAoBmxE,SAApB,CAA+B,QAAQ,CAAC/zE,CAAD,CAAM,CAC7D,MAAO,CAACA,CAAD,CAAK4hG,UADiD,CAA7C,CAEd,IAFc,CAIA,EAAA,CAAjB,GAAIc,CAAJ,GACCA,CADD,CACcjmG,GAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAemN,MAAA,CAAOC,IAAP,CAAY,IAAZ,CAAiB6xF,OAAjB;AAA4B,EAA5B,CAAf,CAAgD,QAAQ,CAACxlG,CAAD,CAAO,CACxE,MAAO,CAAC,IAAA,CAAKwlG,OAAL,CAAaxlG,CAAb,CAAD,CAAoBulG,UAD6C,CAA/D,CAEP,IAFO,CADd,CAMA,KAAIe,EAAgB,EAAIC,aAAA,CAAe,EACvC,KAAA,CAAK7uB,SAAL,CAAe9+D,OAAf,CAAuB,QAAQ,CAACjX,CAAD,CAAWsR,CAAX,CAAc,CACzCtR,CAAA,CAAS4sD,OAAT,CAAiB31C,OAAjB,CAAyB,QAAQ,CAAC5Y,CAAD,CAAO+C,CAAP,CAAU,CAC1CpD,CAAA,CAAIoJ,SAAJ,EACApJ,EAAA,CAAIqJ,MAAJ,CAAWrH,CAAX,CAAoB0D,CAApB,CAAuB1D,CAAvB,CAAgC4I,CAAhC,CACA5K,EAAA,CAAIsJ,MAAJ,CAAW,IAAA,CAAKu8F,OAAL,CAAaxlG,CAAb,CAAX,CAA8BqF,CAA9B,CAAiC,IAAA,CAAKmgG,OAAL,CAAaxlG,CAAb,CAAjC,CAAoDuK,CAApD,CACiB,EAAA,CAAjB,GAAI87F,CAAJ,CACC1mG,CADD,CACKkJ,WADL,CACmB,OADnB,CAC2B,IAAA,CAAK28F,OAAL,CAAaxlG,CAAb,CAAA,CAAmBwyB,MAAnB,CAA0B5oB,IAA1B,CAA+B,GAA/B,CAD3B,CAC+D,MAD/D,CAGKjI,CAAJ,CAAa4jG,UAAb,EAA2B,IAAA,CAAKC,OAAL,CAAaxlG,CAAb,CAA3B,CAA8CulG,UAA9C,EACCgB,YAAA,CAAatzF,CAAb,CAEA,CAFgB,CAAA,CAEhB,CADAqzF,CAAA,CAActmG,CAAd,CACA,CADoB,CAAA,CACpB,CAAAL,CAAA,CAAIkJ,WAAJ,CAAkB,OAAlB,CAA0B,IAAA,CAAK28F,OAAL,CAAaxlG,CAAb,CAAA,CAAmBwyB,MAAnB,CAA0B5oB,IAA1B,CAA+B,GAA/B,CAA1B,CAA8D,MAH/D,EAKCjK,CALD,CAKKkJ,WALL,CAKmB,iBAGpBlJ,EAAA,CAAIuJ,MAAJ,EAf0C,CAA3C,CAgBG,IAhBH,CADyC,CAA7C,CAkBG,IAlBH,CAd8C,KAmC1Cs9F,EAAWp7E,QAAA,CAAS,IAAT,CAAc65E,QAAd,CAAXuB;AAAmC,CAnCO,CAmCJ1lG,EAASsqB,QAAA,CAAS,IAAT,CAAc65E,QAAd,CAATnkG,CAAiC,CAC3E,KAAA,CAAK42E,SAAL,CAAe9+D,OAAf,CAAuB,QAAQ,CAACjX,CAAD,CAAWoB,CAAX,CAAc,CAG5C,GAAImoE,CAAJ,EAAcvpE,CAAd,CAAuB4jG,UAAvB,EAAsD,CAAtD,EAAqCgB,YAAA,CAAaxjG,CAAb,CAArC,CAA4D,CACxD,IAAI/B,EAAQW,CAARX,CAAiBA,KAAjBA,CAAuB,CAC3BrB,EAAA,CAAI8I,SAAJ,CAAgB9G,CAAA,CAAS4jG,UAAT,EAAwC,CAAxC,EAAuBgB,YAAA,CAAaxjG,CAAb,CAAvB,EAA6D,CAAA,CAA7D,GAAgDsjG,CAAhD,CAAoE,OAApE,CAA8E,uBAC9F1mG,EAAA,CAAIgL,QAAJ,CAAahJ,CAAb,CAAsB0D,CAAtB,CAAyBrE,CAAzB,CAA+B,CAA/B,CAAmCW,CAAnC,CAA4C4I,CAA5C,CAA+CzJ,CAA/C,CAAsD,CAAtD,CAA0DE,CAA1D,CAAiEF,CAAjE,CACAnB,EAAA,CAAIkJ,WAAJ,CAAkBlH,CAAA,CAAS4jG,UAAT,EAAwC,CAAxC,EAAuBgB,YAAA,CAAaxjG,CAAb,CAAvB,EAA6D,CAAA,CAA7D,GAAgDsjG,CAAhD,CAAoE,gBAApE,CAAuF,iBACzG1mG,EAAA,CAAIiL,UAAJ,CAAejJ,CAAf,CAAwB0D,CAAxB,CAA2BrE,CAA3B,CAAiC,CAAjC,CAAqCW,CAArC,CAA8C4I,CAA9C,CAAiDzJ,CAAjD,CAAwD,CAAxD,CAA4DE,CAA5D,CAAmEF,CAAnE,CACAnB,EAAA,CAAIukC,SAAJ,CAAgB,QAChBvkC,EAAA,CAAI8I,SAAJ,CAAgB9G,CAAA,CAAS4jG,UAAT,EAAwC,CAAxC,EAAuBgB,YAAA,CAAaxjG,CAAb,CAAvB,EAA6D,CAAA,CAA7D,GAAgDsjG,CAAhD,CAAoE,gBAApE,CAAuF,iBACvG1mG,EAAA,CAAI+I,QAAJ,CAAa/G,CAAb,CAAsB6I,KAAtB,CAA6B7I,CAA7B,CAAsC0D,CAAtC,CAAyC1D,CAAzC,CAAkD4I,CAAlD,CARwD,CAA5D,IAUI5K,EAAA,CAAIoJ,SAAJ,EAIA;AAHGpJ,CAGH,CAHO8I,SAGP,CAHmB,gBAGnB,CAFA9I,CAAA,CAAIsK,GAAJ,CAAQtI,CAAR,CAAiB0D,CAAjB,CAAoB1D,CAApB,CAA6B4I,CAA7B,CAAgCi8F,CAAhC,CAA0C,CAA1C,CAA6C,CAA7C,CAAiDxgG,IAAjD,CAAsDoD,EAAtD,CAEA,CADGzJ,CAAA,CAAIwK,IAAJ,EACH,CAAAxK,CAAA,CAAIuJ,MAAJ,EAIAonB,EAAAA,CAAKtqB,IAAA,CAAKwI,GAAL,CAAS7M,CAAT,CAAkB0D,CAAlB,CAAsB1D,CAAtB,CAA+BskG,OAA/B,CAAyCQ,EAAAA,CAAKzgG,IAAA,CAAKwI,GAAL,CAAS7M,CAAT,CAAkB4I,CAAlB,CAAqB5I,CAArB,CAA8BukG,OAA9B,CACvD,IAAQ,CAAR,EAAI51E,CAAJ,EAAiB,CAAjB,EAAam2E,CAAb,CACQ,CAAP,CAAIn2E,CAAJ,CAAW3uB,CAAX,CAAoB0D,CAApB,CAAwB1D,CAAxB,CAAiCskG,OAAjC,EAEC31E,CACA,EADI,CACJ,CAAA3uB,CAAA,CAAS0D,CAAT,CAAa1D,CAAA,CAAS0D,CAAT,CAAa1D,CAAb,CAAsBskG,OAAtB,CAAgCtkG,CAAhC,CAAyC0D,CAAzC,CAA2CirB,CAA3C,CAAgD3uB,CAAhD,CAAyD0D,CAAzD,CAA2DirB,CAHzE,CAUA,CALO,CAAP,CAAIm2E,CAAJ,CAAW9kG,CAAX,CAAoB4I,CAApB,CAAwB5I,CAAxB,CAAiCukG,OAAjC,EAECO,CACA,EADI,CACJ,CAAA9kG,CAAA,CAAS4I,CAAT,CAAa5I,CAAA,CAAS4I,CAAT,CAAa5I,CAAb,CAAsBukG,OAAtB,CAAgCvkG,CAAhC,CAAyC4I,CAAzC,CAA2Ck8F,CAA3C,CAAgD9kG,CAAhD,CAAyD4I,CAAzD,CAA2Dk8F,CAHzE,CAKA,CAAAL,CAAA,CAAa,CAAA,CAjC8B,CAA7C,CAmCG,IAnCH,CAsCIrjG,EAAAA,CAAI,CAAGjC,EAAX,CAAoBsqB,QAAA,CAAS,IAAT,CAAc65E,QAAd,CAApB,CAA4C,CACzCtlG,EAAA,CAAIukC,SAAJ,CAAgB,QAChBvkC,EAAA,CAAI0H,YAAJ,CAAiB,QACjB,KAAKrH,IAAIA,CAAT,GAAiB,KAAjB,CAAsBwlG,OAAtB,CACKt6B,CAAJ,EAAclrE,CAAd,GAAsBsmG,EAAtB,EAAuC,IAAA,CAAKd,OAAL,CAAaxlG,CAAb,CAAvC,CAA0DulG,UAA1D,EACKvkG,CAOJ,CAPY,IAAA,CAAKwkG,OAAL,CAAaxlG,CAAb,CAOZ,CAP+BgB,KAO/B,CAPqC,CAOrC,CANArB,CAMA,CANI8I,SAMJ,CANgBzI,CAAA,GAAQsmG,EAAR,EAAyB,IAAA,CAAKd,OAAL,CAAaxlG,CAAb,CAAzB,CAA4CulG,UAA5C,EAAuE,CAAA,CAAvE,GAA0Dc,CAA1D,CAA8E,OAA9E,CAAwF,uBAMxG;AALA1mG,CAAA,CAAIgL,QAAJ,CAAa,IAAA,CAAK66F,OAAL,CAAaxlG,CAAb,CAAb,CAAgCqF,CAAhC,CAAmCrE,CAAnC,CAAyC,CAAzC,CAA6C,IAAA,CAAKwkG,OAAL,CAAaxlG,CAAb,CAA7C,CAAgEuK,CAAhE,CAAmEzJ,CAAnE,CAA0E,CAA1E,CAA8EE,CAA9E,CAAqFF,CAArF,CAKA,CAJAnB,CAIA,CAJIkJ,WAIJ,CAJkB7I,CAAA,GAAQsmG,EAAR,EAAyB,IAAA,CAAKd,OAAL,CAAaxlG,CAAb,CAAzB,CAA4CulG,UAA5C,EAAuE,CAAA,CAAvE,GAA0Dc,CAA1D,CAA8E,MAA9E,CAAqF,IAAA,CAAKb,OAAL,CAAaxlG,CAAb,CAAA,CAAmBwyB,MAAnB,CAA0B5oB,IAA1B,CAA+B,GAA/B,CAArF,CAAyH,GAAzH,CAA+H,iBAIjJ,CAHAjK,CAAA,CAAIiL,UAAJ,CAAe,IAAA,CAAK46F,OAAL,CAAaxlG,CAAb,CAAf,CAAkCqF,CAAlC,CAAqCrE,CAArC,CAA2C,CAA3C,CAA+C,IAAA,CAAKwkG,OAAL,CAAaxlG,CAAb,CAA/C,CAAkEuK,CAAlE,CAAqEzJ,CAArE,CAA4E,CAA5E,CAAgFE,CAAhF,CAAuFF,CAAvF,CAGA,CAFAnB,CAEA,CAFIukC,SAEJ,CAFgB,QAEhB,CADAvkC,CACA,CADI8I,SACJ,CADgBzI,CAAA,GAAQsmG,EAAR,EAAyB,IAAA,CAAKd,OAAL,CAAaxlG,CAAb,CAAzB,CAA4CulG,UAA5C,EAAuE,CAAA,CAAvE,GAA0Dc,CAA1D,CAA6E,gBAA7E,CAAgG,iBAChH,CAAA1mG,CAAA,CAAI+I,QAAJ,CAAa1I,CAAb,CAAmB,IAAA,CAAKwlG,OAAL,CAAaxlG,CAAb,CAAnB,CAAsCqF,CAAtC,CAAyC,IAAA,CAAKmgG,OAAL,CAAaxlG,CAAb,CAAzC,CAA4DuK,CAA5D,CARD,GAUF5K,CAAA,CAAIoJ,SAAJ,EAKA,CAJGpJ,CAIH,CAJO8I,SAIP,CAJmB,MAInB,CAJ0B,IAAA,CAAK+8F,OAAL,CAAaxlG,CAAb,CAAA,CAAmBwyB,MAAnB,CAA0B5oB,IAA1B,CAA+B,GAA/B,CAI1B,CAJ8D,GAI9D,CAHGjK,CAGH,CAHOkJ,WAGP,CAHqB,MAGrB,CAH4B,IAAA,CAAK28F,OAAL,CAAaxlG,CAAb,CAAA,CAAmBwyB,MAAnB,CAA0B5oB,IAA1B,CAA+B,GAA/B,CAG5B;AAHgE,GAGhE,CAFAjK,CAAA,CAAIsK,GAAJ,CAAQ,IAAA,CAAKu7F,OAAL,CAAaxlG,CAAb,CAAR,CAA2BqF,CAA3B,CAA8B,IAAA,CAAKmgG,OAAL,CAAaxlG,CAAb,CAA9B,CAAiDuK,CAAjD,CAAoD,EAApD,CAAwD,CAAxD,CAA2D,CAA3D,CAA+DvE,IAA/D,CAAoEoD,EAApE,CAEA,CADGzJ,CAAA,CAAIwK,IAAJ,EACH,CAAAxK,CAAA,CAAIuJ,MAAJ,EAfE,CA9E0C,CAkGlD,GAAIk9F,CAAJ,CAAgB,CACf,IAAI94E,EAAK,IACTvlB,WAAA,CAAW,QAAQ,EAAG,CACrBulB,CAAA,CAAG9N,IAAH,EADqB,CAAtB,CAEG,GAFH,CAFe,CAAhB,IAKO,IAAI,IAAJ,CAASk4D,SAAT,CAAoB,CACtBgvB,CAAAA,CAAU1gG,IAAA,CAAKM,GAAL,CAASf,CAAT,CAAgB,IAAhB,CAAqBmyE,SAArB,CAA+B10E,MAA/B,CAAuC,EAAvC,CACLD,EAFiB,CAEf,CAAX,KAAcsnB,CAAd,CAAkB,IAAlB,CAAuBqtD,SAAvB,CAAiC10E,MAAjC,CAAyCD,CAAzC,CAA2CsnB,CAA3C,CAAgDtnB,CAAA,EAAhD,CACC,IAAK,IAAIkQ,EAAE,CAAX,CAAcA,CAAd,CAAgBoX,CAAhB,CAAqBpX,CAAA,EAArB,CACC,GAAIlQ,CAAJ,CAAMkQ,CAAN,CAAS,CAAA,IAEJqd,EAAK,IAAA,CAAKonD,SAAL,CAAe30E,CAAf,CAALutB,CAAuBjrB,CAAvBirB,CAA4B,IAAA,CAAKonD,SAAL,CAAezkE,CAAf,CAA5Bqd,CAA8CjrB,CAF1C,CAGPohG,EAAK,IAAA,CAAK/uB,SAAL,CAAe30E,CAAf,CAAL0jG,CAAuBl8F,CAAvBk8F,CAA2B,IAAA,CAAK/uB,SAAL,CAAezkE,CAAf,CAA3BwzF,CAA6Cl8F,CACtCvE,KAAA26D,CAAK7yD,IAAL6yD,CAAUrwC,CAAVqwC,CAAerwC,CAAfqwC,CAAoB8lC,CAApB9lC,CAAyB8lC,CAAzB9lC,CACR,CAAW+lC,CAAX,GACUp2E,CAKT,EAd+Dq2E,EAc/D,CAL2BF,CAK3B,EAd+DE,EAc/D,CAJA,IAAA,CAAKjvB,SAAL,CAAe30E,CAAf,CAIA,CAJkBkjG,OAIlB,EAJ6BW,CAI7B,CAHA,IAAA,CAAKlvB,SAAL,CAAezkE,CAAf,CAGA,CAHkBgzF,OAGlB,EAH6BW,CAG7B,CAFA,IAAA,CAAKlvB,SAAL,CAAe30E,CAAf,CAEA,CAFkBmjG,OAElB,EAF6BW,CAE7B,CADA,IAAA,CAAKnvB,SAAL,CAAezkE,CAAf,CACA,CADkBizF,OAClB;AAD6BW,CAC7B,CAAAT,CAAA,CAAa,CAAA,CANd,CALQ,CAgBPA,CAAJ,GACK94E,CACJ,CADS,IACT,CAAAvlB,UAAA,CAAW,QAAQ,EAAG,CACrBulB,CAAA,CAAG9N,IAAH,EADqB,CAAtB,CAEG,GAFH,CAFD,CApB0B,CA7HG,CA7WG,CAAnC,C,CCAApf,GAAA,CAAIk2B,MAAJ,CAAW,uBAAX,CAAoC,CACnCyI,OAAQ,iBAD2B,CAEnC7H,OAAQ,CAAC,oBAAD,CAF2B,CAGnC4V,MAAO,iBAH4B,CAIhCxU,QAAS,CACRG,KAAM,CACLtxB,MAAO,UADF,CADE,CAIRkwB,IAAK,CACJ94B,OAAQsI,IAAAA,EADJ,CAEJs+C,SAAU,MAFN,CAGJ2hD,IAAKjgG,IAAAA,EAHD,CAJG,CASX4yB,MAAO,mBATI,CAJuB,CAehCl7B,OAAQ,CACP0tD,OAAQplD,IAAAA,EADD,CAfwB,CAmBhCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACtB,KAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CAGG,KAAI0e,EAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,gBAAX,CAA6B,CACrCC,OAAQ,CAAC,CACLlZ,KAAM,OADD,CAELpV,KAAM,QAFD,CAAD,CAD6B,CAA7B,CAAZ,CAMIy8F,EAAW,IACf3mG,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfqpB,OAAQ,QAFO,CAGT+R,YAAa,CAAC,CACVC,KAAM,QADI;AAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVnL,QAAS,MAJC,CAKVjvB,MAAO,CAAC,CACPla,KAAM,0BADC,CAEP2Z,QAASA,QAAQ,EAAG,CACnB,IAAIO,EAAQ,IAAA,CAAKxL,IAAL,CAAU,MAAV,CAAA,CAAkBy8B,iBAAlB,EAAA,CAAsCC,YAAtC,EAAA,CAAqD92C,GAArD,CAAyD,QAAQ,CAACgQ,CAAD,CAAO,CAAC,MAAOA,EAAA,CAAK9f,GAAL,CAAS,OAAT,CAAR,CAAxE,CAEZ,IAAkB,CAAlB,EAAI01B,CAAJ,CAAUj3B,MAAV,CACC,MAAO,KAAA,CAAK8zB,SAAL,CAAe,CAAC3vB,MAAO,OAAR,CAAiB63B,IAAK,mDAAtB,CAAf,CAGRgoE,SAAA,CAAW,EACX/sE,EAAA,CAAMrhB,OAAN,CAAc,QAAQ,CAACyL,CAAD,CAAO,CAAC2iF,QAAA,CAAS3iF,CAAT,CAAA,CAAe,CAAA,CAAhB,CAA7B,CAGZ,KAAIwmB,EAAM,IAAA,CAAK2oD,SAAL,EAAA,CAAiBhsD,QAAjB,EAEN2f,EAAAA,CAAO,yBAGX,KAFA,IAAIoH,CAAJ,CACI04C,EAAU,EACd,CAAqC,IAArC,GAAQ14C,CAAR,CAAkBpH,CAAA,CAAKjqB,IAAL,CAAU2N,CAAV,CAAlB,EAAA,CAA2C,CAAA,IACtCq8D,EAAsB,GAAtBA,EAAU34C,CAAA,CAAQ,CAAR,CAD4B,CACXvkB,EAAMukB,CAAA,CAAQ,CAAR,CADK,CACOv1C;AAAOu1C,CAAA,CAAQ,CAAR,CADd,CAEzClqC,EAAQkqC,CAAA,CAAQ,CAAR,CAAA,CAAaA,CAAA,CAAQ,CAAR,CAAb,CAAwB,GAAxB,CAA4BA,CAAA,CAAQ,CAAR,CAA5B,CAAyCA,CAAA,CAAQ,CAAR,CAC9C24C,EAAJ,EAAe7iF,CAAf,GAAuB2iF,SAAvB,EACKh9D,CAGJ,GAHWi9D,EAGX,GAFCA,CAAA,CAAQj9D,CAAR,CAAA,CAAai9D,CAAA,CAAQj9D,CAAR,CAAb,CAA0BhnC,MAA1B,CAAiC,CAAjC,CAED,CAFqCgnF,GAErC,CAF2Cz7B,CAE3C,CAFmD5nD,KAEnD,EAAKugG,CAAL,GACOl9D,CACN,GADai9D,EACb,GADwBA,CAAA,CAAQj9D,CAAR,CACxB,CADuC,EACvC,EAAAi9D,CAAA,CAAQj9D,CAAR,CAAA,CAAa5kC,IAAb,CAAkB,CACjBkL,MAAOi+C,CAAPj+C,CAAe3J,KAAf2J,CAAqBi+C,CAAA,CAAQ,CAAR,CAArBj+C,CAAgCtN,MADf,CAEjBgnC,IAAKA,CAFY,CAGjBhxB,KAAMA,CAHW,CAAlB,CAFD,CAJD,EAaSqL,CAbT,GAaiB2iF,SAbjB,EAcKh9D,CAdL,GAcYi9D,EAdZ,GAeEA,CAAA,CAAQj9D,CAAR,CAAA,CAAai9D,CAAA,CAAQj9D,CAAR,CAAb,CAA0BhnC,MAA1B,CAAiC,CAAjC,CAfF,CAesCgnF,GAftC,CAe4Cz7B,CAf5C,CAeoD5nD,KAfpD,CAH0C,CAwB/BwgG,YAAA,CAAe,IAAA,CAAKvjB,kBAAL,CAAwB,CAAxB,CAAA,CAA2Bn1D,IAA3B,CAAgC,UAAhC,CAAf,CAA2DuW,OAE3D,KAAI0yC,EAAY,EAChB,IAAIyvB,YAAJ,CAAkB,CACjB,IAAI9+C,EAAO,EACpB,KAASre,CAAT,GAAgBi9D,EAAhB,CACCA,CAAA,CAAQj9D,CAAR,CAAA,CAAapxB,OAAb,CAAqB,QAAQ,CAACwuF,CAAD,CAAOrkG,CAAP,CAAU,CAEtC,GADIgd,CACJ,CADW8qB,CAAA,CAAIzU,SAAJ,CAAcgxE,CAAd,CAAoB92F,KAApB,CAA2B82F,CAA3B,CAAiCpd,GAAjC,CAAA,CAAsC/lF,OAAtC,CAA8C,mBAA9C,CAAmE,EAAnE,CAAA,CAAuE0xC,IAAvE,EACX,CACKtxB,CAEH,CAFU+iF,CAEV,CAFgBp9D,GAEhB,EAFqBo9D,CAAA,CAAMpuF,IAAN,CAAa,GAAb,CAAiBouF,CAAjB,CAAuBpuF,IAAvB,CAA8B,EAEnD,EAAAqvC,CAAA,CAAKhkC,CAAL,CAAA,CADGA,CAAJ,GAAYgkC,EAAZ,CACCA,CAAA,CAAKhkC,CAAL,CADD,CACctE,CADd,CAGcA,CAPuB,CAAvC,CAYD,KAASsE,CAAT,GAAiBgkC,EAAjB,CACCqvB,CAAA,CAAUtyE,IAAV,CAAe,CACd+B,MAAOkd,CADO;AAEdtE,KAAMsoC,CAAA,CAAKhkC,CAAL,CAFQ,CAAf,CAhByB,CAAlB,IAsBR,KAAS2lB,CAAT,GAAgBi9D,EAAhB,CACCA,CAAA,CAAQj9D,CAAR,CAAA,CAAapxB,OAAb,CAAqB,QAAQ,CAACwuF,CAAD,CAAOrkG,CAAP,CAAU,CACtC,IAAIgd,EAAO8qB,CAAA,CAAIzU,SAAJ,CAAcgxE,CAAd,CAAoB92F,KAApB,CAA2B82F,CAA3B,CAAiCpd,GAAjC,CAAA,CAAsC/lF,OAAtC,CAA8C,mBAA9C,CAAmE,EAAnE,CAAA,CAAuE0xC,IAAvE,EACP51B,EAAJ,EACC23D,CAAA,CAAUtyE,IAAV,CAAe,CACd+B,MAAOigG,CAAPjgG,CAAa6iC,GAAb7iC,EAAkBigG,CAAA,CAAMpuF,IAAN,CAAa,GAAb,CAAiBouF,CAAjB,CAAuBpuF,IAAvB,CAA8B,EAAhD7R,EAAoD,GAApDA,EAAyDpE,CAAzDoE,CAA2D,CAA3DA,CADc,CAEd4Y,KAAMA,CAFQ,CAAf,CAHqC,CAAvC,CAYO,IAAsB,CAAtB,EAAI23D,CAAJ,CAAc10E,MAAd,CACC,MAAO,KAAA,CAAK8zB,SAAL,CAAe,CAAC3vB,MAAO,OAAR,CAAiB63B,IAAK,qBAAtB,CAAf,CAGpB,KAAA,CAAKuI,IAAL,EACA,KAAI+U,EAAWl8C,GAAA,CAAI0/B,GAAJ,CAAQwc,QAAR,CAAiB,UAAjB,CAA6B,sBAA7B,CAAf,CAEIhvB,EAAK,IACT,EAAA,IAAI+5E,MAAJ,CAAW,CACVxjC,YAAa,MADH,CAEVj5B,MAAOxqC,GAAA,CAAI2lB,IAAJ,CAAS+kB,MAAT,CAAgB,CAAC4sC,UAAWA,CAAZ,CAAhB,CAFG,CAGVkD,qBAAsB,YAHZ,CAIVE,iBAAkB,QAJR,CAKVD,mBAAoB,OALV,CAAX,CAAA,EAMGpkD,IANH,CAMQ,QAAS,CAACV,CAAD,CAAS,CACzBumB,CAAA,CAASvhB,KAAT,EACAzN;CAAA,CAAG+D,MAAH,EACA,KAAI4F,EAAM3J,CAAA,CAAG8F,cAAH,EACV9F,EAAA,CAAGmX,OAAH,CAAWxN,CAAA,CAAIuN,UAAJ,EAAX,CAA4B,UAA5B,CAAuCzO,CAAA,CAAOmF,YAAP,EAAvC,CAJyB,CAN1B,CAtF+B,CAFb,CAuGP54B,MAAO,IAvGA,CAAD,CAwGL,CACDlB,MAAO,UADN,CAEDyjC,SAAU,gDAFT,CAGDG,QAAS,CAAA,CAHR,CAxGK,CALG,CAAD,CAHJ,CAsHf/K,MAAO,CAAC,CACH74B,MAAO,OADJ,CAEH++B,WAAY,CAAA,CAFT,CAGHvF,KAAM,CAHH,CAIH95B,OAAQ,MAJL,CAKH+pD,MAAO,SALJ,CAMHnpB,OAAQ,CAAA,CANL,CAOH+xB,OAAQ,QAPL,CAQHlyD,UAAW,CACVssE,SAAUA,QAAQ,EAAG,CACpB,IAAIvgD,EAAK,IAAT,CACI2+B,EAASq7C,GAAA,CAAIC,IAAJ,CAASnnG,GAAA,CAAIonG,MAAJ,CAAW,IAAA,CAAK3jE,KAAL,EAAX,CAAT,CACbkjE,EAAA,CAASU,SAAT,CAAmBx7C,CAAnB,CAGAA,EAAA,CAAOy7C,UAAP,EAAA,CAAoBh5B,OAApB,CAA4B,cAA5B,CAOAziB,EAAA,CAAOmC,QAAP,CAAgBu5C,kBAAhB,CAAmC,CAAA,CAAnC,CACA17C,EAAA,CAAOmC,QAAP,CAAgBw5C,aAAhB,CAA8B,CAAA,CAA9B,CAMA37C,EAAA,CAAO47C,eAAP;AAAyB3iB,QACzBj5B,EAAA,CAAO67C,UAAP,CAAkB,CAACC,yBAA0B,CAAA,CAA3B,CAAlB,CACA97C,EAAA,CAAO+7C,oBAAP,CAA4B,CAAA,CAA5B,CACA/7C,EAAA,CAAO71C,EAAP,CAAU,QAAV,CAAoB,QAAQ,CAAC6xF,CAAD,CAAQ,CACnCC,OAAA,CAAU,CAAA,CACV,IAAkB,QAAlB,EAAID,CAAJ,CAAUtqB,MAAV,CACkC,CAAjC,EAAIsqB,CAAA,CAAME,KAAN,CAAY,CAAZ,CAAA,CAAe/gG,OAAf,CAAuB,GAAvB,CAAJ,GACC8gG,OADD,CACW,CAAA,CADX,CADD,KAIO,IAAkB,QAAlB,EAAID,CAAJ,CAAUtqB,MAAV,CACN,IAAK,IAAI56E,EAAE,CAAX,CAAcA,CAAd,CAAgBklG,CAAhB,CAAsBE,KAAtB,CAA4BnlG,MAA5B,CAAoCD,CAAA,EAApC,CACC,GAAgC,EAAhC,CAAIklG,CAAA,CAAME,KAAN,CAAYplG,CAAZ,CAAA,CAAeqE,OAAf,CAAuB,GAAvB,CAAJ,CAAoC,CACnC8gG,OAAA,CAAU,CAAA,CACV,MAFmC,CAMlCA,OAAJ,EACC9nG,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CAKpB,IAJA,IAAI/T,EAAMohB,CAAA,CAAOzkB,QAAP,EAAV,CACI2f,EAAO,oBADX,CAEIoH,CAFJ,CAGI65C,EAAc,EAClB,CAAqC,IAArC,GAAQ75C,CAAR,CAAkBpH,CAAA,CAAKjqB,IAAL,CAAU2N,CAAV,CAAlB,EAAA,CACK0jB,CAAA,CAAQ,CAAR,CAAJ,CAAiB65C,CAAA,CAAY75C,CAAA,CAAQ,CAAR,CAAZ,CAAuB,GAAvB,CAA2BA,CAAA,CAAQ,CAAR,CAA3B,CAAjB,CAAwD,CAAA,CAAxD,CACM65C,CAAA,CAAY75C,CAAA,CAAQ,CAAR,CAAZ,CADN,CAC8B,CAAA,CAG3B9zB,EAAAA,CAAQ,IAAA,CAAKK,EAAL,CAAQ,OAAR,CAAA,CAAiBrM,IAAjB,CAAsB,MAAtB,CAAA,CAA8B8E,QAA9B,EACZ,KAAI80E,EAAe,EACnB5tE,EAAA,CAAM6kB,QAAN,EAAA,CAAiB1mC,OAAjB,CAAyB,QAAQ,CAACyL,CAAD,CAAO,CAACgkF,CAAA,CAAahkF,CAAA,CAAK9f,GAAL,CAAS,OAAT,CAAb,CAAA;AAAgC,CAAA,CAAjC,CAAxC,CAEA,KAAK8f,IAAL,GAAa+jF,EAAb,CACO/jF,IAAN,GAAcgkF,EAAd,EACC5tE,CAAA,CAAMt5B,GAAN,CAAU,CAACmnG,MAAOjkF,IAAR,CAAV,CAGF,KAAKkkF,WAAL,GAAoBF,EAApB,CACOE,WAAN,GAAqBH,EAArB,GACK58E,CACJ,CADUiP,CAAA,CAAMhH,UAAN,CAAiB,OAAjB,CAA0B80E,WAA1B,CACV,CAAA9tE,CAAA,CAAMrhB,MAAN,CAAaoS,CAAb,CAFD,CApBmB,CAArB,CA2BG,GA3BH,CA2BQ8B,CA3BR,CAfkC,CAApC,CA6COy5E,EAAA,CAASr8E,WAAT,CAAqB,KAArB,CAAJ,EACC89E,QAAA,CAASC,eAAT,CAAyB1B,CAAA,CAASr8E,WAAT,CAAqB,KAArB,CAAzB,CAAA,CAAsD+L,IAAtD,CAA2D,QAAQ,CAACtZ,CAAD,CAAO,CACzE4pF,CAAA,CAASvT,SAAT,EAAA,CAAqBltD,QAArB,CAA8BnpB,CAA9B,CADyE,CAA1E,CArEgB,CADX,CARR,CAAD,CAsFA,CACF/b,MAAO,MADL,CAEFqyD,OAAQ,MAFN,CAGF3yD,OAAQ,MAHN,CAIF+pD,MAAO,SAJL,CAMFO,WAAY,CAAA,CANV,CAOF1pB,OAAQ,CAAA,CAPN,CASF1gC,MAAO,GATL,CAULkzD,SAAU9zD,GAAA,CAAIu4B,MAAJ,CAAW,6BAAX,CAA0C,CACnD8Y,KAAM,QAD6C,CAA1C,CAVL,CAaChX,MAAOA,CAbR,CAcCs0B,QAAS,CAAE,CACPhvC,KAAM,OADC,CAEP6a,KAAM,CAFC,CAGPyQ,UAAW,OAHJ,CAAF,CAdV,CAtFA,CAtHQ,CAAhB,CAkOG,KAAA,CAAK/L,UAAL,CAAgBvjB,SAAhB,CACH;IAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAGA,KAAA,CAAK3F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,GAAI,CAAA,IAAA,CAAKrL,WAAL,CAAiB,KAAjB,CAAJ,CAAA,CACA,IAAI4C,EAAK,IACTyI,EAAA,CAAO6gB,YAAP,EAAA,CAAsBngB,IAAtB,CAA2B,QAAQ,CAAC1W,CAAD,CAAO,CACzCA,CAAA,CAAOA,CAAA,CAAK9b,OAAL,CAAa,wCAAb,CAAsD,MAAtD,CACP,KAAIgoD,EAAS3+B,CAAA,CAAGkmE,SAAH,EACbvnC,EAAA,CAAO3lB,QAAP,CAAgBvmB,CAAhB,CAAA,CAAsB41B,IAAtB,EACAsW,EAAA,CAAOy8C,YAAP,CAAoB,CAApB,CAAuB,CAAA,CAAvB,CAA6B,CAAA,CAA7B,CAAmC,QAAS,EAAG,EAA/C,CAJyC,CAA1C,CAFA,CAD6C,CAA9C,CASG,IATH,CAWA,KAAA,CAAKtyF,EAAL,CAAQ,aAAR,CAAuB,QAAQ,CAACosB,CAAD,CAAQ,CACtCpiC,GAAA,CAAI0/B,GAAJ,CAAQyM,KAAR,CAAc,UAAd,CAA0B,gdAA1B,CADsC,CAAvC,CA7P6B,CAnBE,CAApC,C,CCAAnsC,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCyI,OAAQ,iBADyB,CAEjCyC,SAAU,CAAC,0BAAD,CAFuB,CAGjCtK,OAAQ,CAAC,oBAAD,CAHyB,CAIjC4V,MAAO,eAJ0B,CAKjCqpC,cAAe,CAAA,CALkB,CAM9B79C,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ/mB,MAAO,CADH,CAEJ27B,MAAO,GAFH,CAGJ08D,YAAa9hG,IAAAA,EAHT,CAIJ2jB,MAAO3jB,IAAAA,EAJH,CAHG,CASR4yB,MAAO,mBATC,CANqB,CAiB9Bl7B,OAAQ,CACPqqG,eAAgB/hG,IAAAA,EADT,CAEP2oF,YAAa3oF,IAAAA,EAFN,CAGP63C,eAAgB73C,IAAAA,EAHT,CAIPi5D,mBAAoBj5D,IAAAA,EAJb,CAKPgiG,oBAAqB,CAAA,CALd,CAMPC,cAAe,CANR,CAOVC,eAAgB,CAAA,CAPN,CAQVC,YAAa,WARH,CASPC,mBAAoB,IAAI37F,IATjB,CAUPw4D,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD;AAA2B,CAACA,MAAO,kBAAR,CAA3B,CAVF,CAjBsB,CA8B9Bg/D,UAAW,EA9BmB,CA+B9BC,UAAW,CA/BmB,CAgC9BC,YAAa,CAhCiB,CAkCjCH,qBAAsB,GAlCW,CAoCjC+oC,cAAe,GApCkB,CAsC9BtoG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF6B,CAtCA,CA2C9B2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/B,IAAIixF,EAAcpvF,GAAA,CAAIu4B,MAAJ,CAAW,0BAAX,CAAuC,CACxDwwE,WAAY,IAD4C,CAExD/zD,MAAO,CACNC,YAAa,CACZmE,QAAS,QADG,CADP,CAFiD,CAAvC,CAAlB,CAQIlsB,EAAK,IACTkiE,EAAA,CAAYp5E,EAAZ,CAAe,YAAf,CAA6B,QAAQ,CAACqkB,CAAD,CAAQ,CAC5C,MAAOnN,EAAA,CAAGu3C,eAAH,CAAmBpqC,CAAA,CAAM9P,SAAN,EAAnB,CADqC,CAA7C,CAGA6kE,EAAA,CAAYp5E,EAAZ,CAAe,MAAf,CAAuB,QAAQ,CAACgzF,CAAD,CAAIjhF,CAAJ,CAAa6sB,CAAb,CAAsB,CACpD,GAAIA,CAAJ,CAAa,CACZ,IAAInE,EAAW,EAAf,CACIw4D,EAAoB,IAAA,CAAKtwE,QAAL,CAAc,mBAAd,CADxB;AAEI0d,EAAc,CAAA,CAFlB,CAGIhsC,EAAW,EAHf,CAII6+F,EAAgB,CAAA,CACpBnhF,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS,CACN,CAA1B,EAAIA,CAAA,CAAOspC,WAAP,EAAJ,GACC9C,CADD,EACW,MADX,CACkB,IAAA,CAAKgP,iBAAL,EAAA,CAAyB/E,OAAzB,CAAiCzwC,CAAA,CAAOguC,QAAP,EAAjC,CAAA,CAAoD9C,YAApD,EADlB,CACqF,OADrF,CAGIlrC,EAAA,CAAOipC,WAAP,EAAJ,EAA0B7oC,CAA1B,GACCgsC,CACA,CADc,IAAA,CAAKoJ,iBAAL,EAAA,CAAyB/E,OAAzB,CAAiCzwC,CAAA,CAAOguC,QAAP,EAAjC,CAAA,CAAoD5B,WAApD,EACd,CAAAhsC,CAAA,CAAWJ,CAAA,CAAOipC,WAAP,EAFZ,CAIA,IAAIjpC,CAAA,CAAO6tC,MAAP,EAAJ,CACCoxD,CACA,CADgB,CAAA,CAChB,CAAAz4D,CAAA,EAAY,yBAAZ,CAAuCxmC,CAAA,CAAOwgB,KAAP,EAAvC,CAAwD,eAAxD,CAAwEw+E,CAAxE,CAA0F,GAA1F,CAA8Fh/F,CAAA,CAAOkuC,kBAAP,EAA9F,CAA0H,IAA1H,CAAgIluC,CAAA,CAAO2pC,OAAP,EAAhI,CAAmJ,SAFpJ,KAIK,CACAu1D,CAAAA,CAAcl/F,CAAA,CAAOiuC,sBAAP,CAA8B7B,CAA9B,CAClB,KAAI+yD,EAA2C,CAA3CA,EAAYD,CAAA,CAAYniG,OAAZ,CAAoB,QAApB,CAChB,IAAIkiG,CAAAA,CAAJ,EAAsBE,CAAAA,CAAtB,EAA8D,CAA9D,EAAmCD,CAAA,CAAY5zD,IAAZ,EAAnC,CAAsD3yC,MAAtD,CAEC6tC,CACA,EADY04D,CACZ,CAAAD,CAAA,CAAgBE,CANb,CAZ2B,CAAjC,CAqBG,IArBH,CAsBA,KAAA,CAAKC,UAAL,CAAgB54D,CAAhB,CAEc;IAAA,CAAKpiB,IAAL,CAAU,kBAAV,CAAA+vD,CAA8Bh3C,QAA9Bg3C,EA9BF,CADuC,CAArD,CAoCG,IApCH,CAqCA,KAAA,CAAKwR,cAAL,CAAoBR,CAApB,CAEA,KAAA,CAAKp5E,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAMyS,CAAN,CAAe,CACvC,IAAA,CAAK0lB,cAAL,CAAoB1lB,CAApB,CADuC,CAAxC,CAEG,IAFH,CAIA,KAAA,CAAK0kB,qBAAL,CAA2BngE,GAAA,CAAIu4B,MAAJ,CAAW,gBAAX,CAA6B,CAC1D0hB,MAAO,gCADmD,CAEvD1B,SAAU,CAAA,CAF6C,CAGvDD,WAAY,CAAA,CAH2C,CAIvDtD,MAAO,CACT9qC,KAAM,MADG,CAETi6B,IAAK7N,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EAFI,CAGTiJ,YAAa,CACZ7R,KAAM,sBADM,CAEZ8W,kBAAmB,CAAA,CAFP,CAIZkmB,cAAe,CAAA,CAJH,CAKZ57D,KAAM,EALM,CAMZ40C,QAAS,QANG,CAHJ,CAWTN,OAAQ,CACP5uC,KAAM,MADC,CAEE6uC,aAAc,qBAFhB,CAGEC,cAAe,qBAHjB,CAXC;AAgBTE,eAAgB,CAAA,CAhBP,CAJgD,CAsBpD/3C,UAAW,CACXuzC,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiByyB,CAAjB,CAA6BC,CAA7B,CAAmC,CAC/CpgB,CAAA,CAAMv2B,IAAN,CAAW,UAAX,CAAuB,KAAvB,CACA,KAAIlE,CACJy6B,EAAA,CAAMl0B,IAAN,CAAW,QAAQ,CAACw2B,CAAD,CAAI,CACtB/8B,CAAA,CAAO+8B,CAAA,CAAEx4B,GAAF,CAAM,MAAN,CADe,CAAvB,CAEG,IAFH,CAIA,KAAA,CAAKmlG,iBAAL,CAAuB1pG,CAAvB,CAP+C,CADtC,CAWVsC,MAAO,IAXG,CAtByC,CAA7B,CAA3B,CAqCA,KAAA,CAAK8T,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CACjC,IAAIuzF,EAAc,IAAA,CAAKl7E,IAAL,CAAU,wBAAV,CAClB,KAAA,CAAKm7E,iBAAL,CAAuBD,CAAA,CAAY1tC,SAAZ,EAAA,CAAwBC,eAAxB,EAAvB,CAGAytC,EAAA,CAAYt+F,IAAZ,CAAiB+K,EAAjB,CAAoB,QAApB,CAA8B,QAAQ,CAACrL,CAAD,CAAQ4V,CAAR,CAAgB,CACjD4iD,CAAAA,CAAY,IAAA,CAAKsmC,gBAAL,EAAA,CAA0BlpF,CAA1B,CAAiCmpF,SAAjC,CAA6C,IAA7C,CAAkDxpC,WAAlD,CACT,IAAA,CAAKupC,gBAAL,EAAA,CAA0BlpF,CAA1B,CAAiCmpF,SAAjC,CAA6C,IAA7C,CAAkD1pC,SAAlD,CACH,IADG,CACEC,SAGT,IAAIkD,CAAJ,EAAiB,IAAjB,CAAsBnD,SAAtB,EAAsD,CAAtD,CAAmCz/C,CAAnC,CAA0CmpF,SAA1C,CACC,IAAA,CAAKC,aAAL,CAAmB,CAAA,CAAnB,CADD;IAGO,IAAIxmC,CAAJ,EAAiB,IAAjB,CAAsBjD,WAAtB,EAAqC3/C,CAArC,CAA4CqpF,YAA5C,CAA2DrpF,CAA3D,CAAkEmpF,SAAlE,CAAkG,GAAlG,CAA8EnpF,CAA9E,CAAqF6oB,YAArF,CACN,IAAA,CAAKygE,SAAL,CAAe,CAAA,CAAf,CADM,KAEA,CAGL,IAAAC,EADuB,CAAxB,EAAIvpF,CAAJ,CAAWmpF,SAAX,CACU,CADV,CAEWnpF,CAAJ,CAAWqpF,YAAX,CAA0BrpF,CAA1B,CAAiCmpF,SAAjC,EAA8CnpF,CAA9C,CAAqDq0E,YAArD,CACG,CADH,EAGIr0E,CAHJ,CAGWmpF,SAHX,CAG6C,EAH7C,CAGuBnpF,CAHvB,CAG8Bq0E,YAH9B,EAGoDr0E,CAHpD,CAG2DqpF,YAI/D,EADI1oD,IAAIh0C,IACR,CAAU,IAAA,CAAK68F,qBAAL,EAAV,CAAyC,IAAzC,CAA8ChqC,oBAA9C,EAAgF,CAAhF,EAAsE+pC,CAAtE,EAA+F,CAA/F,EAAqFA,CAArF,GACC,IAAA,CAAKE,oBAAL,CAA0BF,CAA1B,CAAkC3mC,CAAlC,CAZE,CAeP,IAAA,CAAK8mC,gBAAL,CAAsB1pF,CAAtB,CAA6BmpF,SAA7B,CA1BqD,CAAtD,CA2BG,IA3BH,CA8BAH,EAAA,CAAYt+F,IAAZ,CAAiB+K,EAAjB,CAAoB,OAApB,CAA6B,QAAQ,CAACrL,CAAD,CAAQ4V,CAAR,CAAgB,CACpDA,CAAA,CAASvgB,GAAA,CAAImE,GAAJ,CAAQoc,CAAR,CACLA,EAAA,CAAOupC,MAAP,CAAc,MAAd,CAAJ,GACK1gD,CAOJ,CAPWktB,MAAA,CAAOvZ,IAAP,CAAYk9B,KAAZ,CAAkBiwD,KAAlB,CAAwBryD,kBAAxB,CAA2Ct3B,CAA3C,CAOX,CANI3gB,CAMJ,CANW2gB,CAAA,CAAOw3D,OAAP,EAMX,CALIh7D,CAKJ,CALW,CAAC,CACXnd,KAAMA,CADK;AAEXyK,SAAUjB,CAAViB,CAAeA,QAFJ,CAAD,CAKX,CADA,IAAA,CAAK82D,cAAL,CAAoB,CAACvhE,CAAD,CAApB,CACA,CAAA,IAAA,CAAKozB,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,cAApC,CAAoD,IAApD,CAA0DjmB,CAA1D,CARD,CAFoD,CAArD,CAYG,IAZH,CAcI,KAAA,CAAKwN,SAAL,EAAJ,GACC,IAAA,CAAKmqB,IAAL,EAEA,EADItqB,CACJ,CADY,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CACZ,GACC,IAAA,CAAK62C,cAAL,CAAoBnhE,GAAA,CAAIy2B,QAAJ,CAAarM,CAAb,CAAA,CAAsB,CAACA,CAAD,CAAtB,CAAgCA,CAApD,CAJF,CAOH,KAAA,CAAKpU,EAAL,CAAQ,cAAR,CAAwB,QAAQ,EAAG,CAC/B,IAAA,CAAK0+B,IAAL,CAAU,CAAA,CAAV,CACA,KAAItqB,EAAQ,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CACRF,EAAJ,EACC,IAAA,CAAK+2C,cAAL,CAAoBnhE,GAAA,CAAIy2B,QAAJ,CAAarM,CAAb,CAAA,CAAsB,CAACA,CAAD,CAAtB,CAAgCA,CAApD,CAJ8B,CAAnC,CAMG,IANH,CAxDoC,CAAlC,CA+DG,IA/DH,CAiEApqB,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEf0tB,IAAK,eAFU,CAGZrE,OAAQ,KAHI,CAIZnoB,MAAO,CACNmoB,OAAQ,QADF,CAENnoB,MAAO,CAAC,CACPsB,YAAa,EADN,CAEPk4B,OAAQ,QAFD,CAGPnyD,OAAQ,CAAA,CAHD;AAIP6+B,WAAY,CAAA,CAJL,CAKP9+B,KAAM,qCALC,CAAD,CAML,CACPD,MAAO,aADA,CAEDqyD,OAAQ,OAFP,CAGD3yD,OAAQ,EAHP,CAID0jB,MAAO,CACN9R,KAAM,CADA,CAJN,CAOD63F,eAAgB,CAAA,CAPf,CAQPjpG,OAAQ,CAAA,CARD,CASPC,UAAW,CACVipG,iCAAkCA,QAAQ,CAACphE,CAAD,CAAMjsB,CAAN,CAAY,CACjDxZ,CAAAA,CAAM,IAAA,CAAKk8C,iBAAL,EAAA,CAAyB5F,KAAzB,CAA+B98B,CAA/B,CAAoC1S,QAApC,CACV,KAAIgnB,EAAc9tB,CAAA,CAAIY,GAAJ,CAAQ,qBAAR,CAEdkmG,EAAAA,CADWzkG,IAAAknB,CAAKqC,KAALrC,CAAWuE,CAAXvE,CAAyB/P,CAAzB+P,CAA8By0C,QAA9Bz0C,CACXu9E,CAA6B,IAAA,CAAK//E,WAAL,CAAiB,OAAjB,CAA7B+/E,CAAuD,CAC3D,KAAA,CAAKx9E,YAAL,CAAkB,CAAC,YAAetpB,CAAA,CAAIknB,KAAJ,EAAhB,CAA6Bva,MAAwB,CAAjB,CAAAm6F,CAAA,CAAqB,CAArB,CAAyBA,CAA7D,CAAlB,CACA,KAAA,CAAK31D,IAAL,CAAU,CAAA,CAAV,CANqD,CAD5C,CASVxyC,MAAO,IATG,CATJ,CANK,CAFD,CAJK,CAmCf6xD,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACPR,MAAO,mBADA;AAEVC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKqwE,aAAL,CAAmB,CAAA,CAAnB,CADmB,CAFV,CAKVznG,MAAO,IALG,CAAD,CAMR,CACDm3B,MAAO,mBADN,CAEDC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKuwE,SAAL,CAAe,CAAA,CAAf,CADmB,CAFnB,CAKD3nG,MAAO,IALN,CANQ,CAYR,CAAClB,MAAO,aAAR,CAZQ,CAYe,CAClBA,MAAO,kBADW,CAZf,CAJH,CAAD,CAnCE,CAuDfG,UAAW,CACV8iE,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CAChC,IAAA,CAAK+5D,cAAL,EAAA,CAAsBp2C,SAAtB,CAAgC3jB,CAAhC,CACA,KAAA,CAAKqrC,qBAAL,EAAA,CAA6Bl1B,QAA7B,EAAA,CAAwC8N,aAAxC,CAAsD,QAAtD,CAAgEjkB,CAAA,CAAOlL,KAAP,EAAhE,CAEIw9B,EAAAA,CAAOtyB,CAAA,CAAOkpB,YAAP,EACX,KAAA,CAAKC,iBAAL,CAAuBmJ,CAAvB,CAEI,KAAJ,CAAS2B,QAAT,GACC,IAAA,CAAKlV,IAAL,EAKG,CAJkC,CAIlC,EAJI,IAAA,CAAK+vB,eAAL,CAAqB9uC,CAArB,CAIJ,EAHC,IAAA,CAAKwR,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,eAAd,CAAV,CAA0C,iBAA1C,CAGD,EADIvO,CACJ,CADY,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CACZ;AACC,IAAA,CAAK62C,cAAL,CAAoBnhE,GAAA,CAAIy2B,QAAJ,CAAarM,CAAb,CAAA,CAAsB,CAACA,CAAD,CAAtB,CAAgCA,CAApD,CAPL,CAPgC,CAD1B,CAoBJotD,aAAcA,QAAQ,CAACxuC,CAAD,CAAM3kC,CAAN,CAAa,CAClC,IAAI+8D,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ,CAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHI,CAA7B,CAKwB,EAAxB,CAAIwtB,CAAJ,CAAex+D,MAAf,EACC,IAAA,CAAKu+D,cAAL,CAAoBC,CAApB,CARiC,CApB/B,CA+BPkpC,mBAAoBA,QAAQ,CAACthE,CAAD,CAAM3kC,CAAN,CAAa,CACxC,IAAI+8D,EAAa,EACd/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBA,CAAA,CAAKg0C,OAAL,EAAJ,EAAqBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CADO,CAA7B,CAGA,KAAA,CAAKutB,cAAL,CAAoBC,CAApB,CALqC,CA/BlC,CAsCPmpC,qBAAsBA,QAAQ,CAACvhE,CAAD,CAAM3kC,CAAN,CAAa,CAC1C,IAAI+8D,EAAa,EACd/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBA,CAAA,CAAKg0C,OAAL,EAAJ,EAAqBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CADO,CAA7B,CAGA,KAAA,CAAKutB,cAAL,CAAoBC,CAApB,CALuC,CAtCpC,CA6CP6M,iBAAkBA,QAAQ,CAACjlC,CAAD,CAAMznC,CAAN,CAAgB,CAErCgC,CAAAA;AADS,IAAA,CAAKmsF,cAAL,EAAA/5D,CAAsBpL,SAAtBoL,EACH,CAAOnL,WAAP,CAAmBjpB,CAAnB,CACV,KAAA,CAAKsrB,YAAL,CAAkB,CAAC,YAAetpB,CAAA,CAAIknB,KAAJ,EAAhB,CAA6Bva,MAAO,CAApC,CAAlB,CACN,KAAA,CAAKwkC,IAAL,CAAU,CAAA,CAAV,CAJ+C,CA7CnC,CAmDP81D,iBAAkBA,QAAQ,CAACxhE,CAAD,CAAMsuC,CAAN,CAAiB3hD,CAAjB,CAAyB,CAC3B,CAAvB,CAAI2hD,CAAJ,CAAc10E,MAAd,GAEI,IAAA,CAAKiqB,YAAL,CAAkB,CAAC,YADTyqD,CAAA/zE,CAAU,CAAVA,CACwB,CAAIknB,KAAJ,EAAhB,CAA6Bva,MAAO,CAApC,CAAlB,CACT,CAAA,IAAA,CAAKwkC,IAAL,CAAU,CAAA,CAAV,CAHK,CADkD,CAnD5C,CA0DP+1D,oBAAqBA,QAAQ,CAACzhE,CAAD,CAAM3kC,CAAN,CAAa,CAC5C,GAAiBoC,IAAAA,EAAjB,GAAIpC,CAAA,CAAM,CAAN,CAAJ,CAA4B,CAC3B,IAAIzE,EAAOyE,CAAA,CAAM,CAAN,CAAX,CACIgG,EAAWzK,CAAA,CAAKuE,GAAL,CAAS,UAAT,CADf,CAEI2oB,EAAWltB,CAAA,CAAKuE,GAAL,CAAS,UAAT,CACXkmG,EAAAA,CAAiBv9E,CAAjBu9E,CAA6B,IAAA,CAAK//E,WAAL,CAAiB,OAAjB,CAA7B+/E,CAAuD,CACvD9mG,EAAAA,CAAM,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BngB,CAA7B,CACV,KAAA,CAAKwiB,YAAL,CAAkB,CAAC,YAAetpB,CAAA,CAAIknB,KAAJ,EAAhB,CAA6Bva,MAAwB,CAAjB,CAAAm6F,CAAA,CAAqB,CAArB,CAAyBA,CAA7D,CAAlB,CACA,KAAA,CAAK31D,IAAL,CAAU,CAAA,CAAV,CAAgB,CACfrR,SAAUA,QAAQ,EAAG,CACpB,IAAI5gC,EAAK,IAAA,CAAKwI,IAAL,CAAUvI,GAAV,CAAc0iC,aAAd,CAA4B,IAA5B;AAAmC/6B,CAAnC,CAA8C,GAA9C,CAAoDyiB,CAApD,CACLrqB,EAAJ,EACCA,CAAA,CAAGkmG,cAAH,EAED,KAAA,CAAKW,iBAAL,CAAuB1pG,CAAA,CAAKuE,GAAL,CAAS,MAAT,CAAvB,CAAyC,CAAA,CAAzC,CALoB,CADN,CAQfjC,MAAO,IARQ,CAAhB,CAP2B,CADgB,CA1DnC,CA8EP40E,0BAA2BA,QAAQ,CAAC9tC,CAAD,CAAM3kC,CAAN,CAAa,CAC9BoC,IAAAA,EAAjB,GAAIpC,CAAA,CAAM,CAAN,CAAJ,GAEEqmG,CACJ,CADc1qG,GAAA,CAAIu4B,MAAJ,CAAW,yBAAX,CADHl0B,CAAAzE,CAAM,CAANA,CACG,CACd,CAAA,IAAA,CAAK+iC,SAAL,CAAe,qBAAf,CAAsC,IAAtC,CAA4C,CAAC+nE,CAAD,CAA5C,CAHE,CAD+C,CA9EzC,CAqFPxoG,MAAO,IArFA,CAvDI,CAAhB,CAgJG,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CA9S4B,CA3CF,CA4V9BwlD,eAAgBA,QAAQ,CAACC,CAAD,CAAa,CAChCA,CAAJ,EAAsC,CAAtC,CAAkBA,CAAlB,CAA6Bx+D,MAA7B,GACF,IAAA,CAAKo+D,qBAAL,EAAA,CAA6BtsB,IAA7B,CAAkC,CACjCtjB,OAAQ,CACPhH,MAAOg3C,CADA,CADyB,CAAlC,CAUA,CAAA,IAAA,CAAK/yC,IAAL,CAAU,aAAV,CAAA,CAAyB8yC,cAAzB,CAAwCC,CAAxC,CAXE,CADoC,CA5VP,CA4W9BkoC,kBAAmBA,QAAQ,CAACl/E,CAAD,CAAQugF,CAAR,CAAkB,CAC1C3qG,GAAA,CAAIw9B,OAAJ,CAAYpT,CAAZ,CAAL,GAAyBA,CAAzB,CAAiC,CAACA,CAAD,CAAjC,CAEA,KAAA,CAAKwgF,iBAAL,EAAA,CAAyB/+B,KAAzB,EAAA,CAAiCh1D,MAAjC,CAAwC,sBAAxC,CAAA,CAAgEuxD,SAAhE,CAA0E,SAA1E,CAEA;IAAIyiC,EAAQ,EAAZ,CACIC,EAAuB,IAAI3nF,MAAJ,CAAW,GAAX,CAAeiH,CAAA,CAAM,CAAN,CAAf,CAAwB,GAAxB,CAA6B,GAA7B,CACf,KAAA,CAAKwgF,iBAAL,EAAA,CAAyB/+B,KAAzB,EAAA9sD,CAAiClI,MAAjCkI,CAAwC,WAAxCA,CACZ,CAAM5Y,IAAN,CAAW,QAAQ,CAAC1D,CAAD,CAAKsoG,CAAL,CAAaxkG,CAAb,CAAoB,CAClC9D,CAAJ,CAAOC,GAAP,CAAWsoG,UAAX,EAAyBvoG,CAAA,CAAGC,GAAH,CAAOsoG,UAAP,CAAkBC,SAAlB,CAA4B/+F,KAA5B,CAAkC4+F,CAAlC,CAAzB,GACCroG,CAAA,CAAG4lE,MAAH,CAAU,SAAV,CACA,CAAAwiC,CAAA,CAAM7lG,IAAN,CAAWvC,CAAX,CAAcC,GAAd,CAFD,CADsC,CAAvC,CAR+C,CA5Wf,CAgYjCinG,cAAeA,QAAQ,CAACuB,CAAD,CAAS,CAC/B,IAAIC,EAAkB,IAAA,CAAKP,iBAAL,EAAA,CAAyB/+B,KAAzB,EAAtB,CACIA,EAAQs/B,CAAA,CAAgBt/B,KAAhB,CAAsB,OAAtB,CACZ,IAAa,IAAb,EAAIA,CAAJ,EAA+C,CAAA,CAA/C,GAAqBA,CAAA,CAAM/hB,MAAN,CAAa,SAAb,CAArB,CACC,IAAA,CAAM+hB,CAAN,CAAA,CAAa,CACZ,GAAIA,CAAA,CAAM/hB,MAAN,CAAa,MAAb,CAAJ,CAA0B,CACrB1gD,CAAAA,CAAOktB,MAAA,CAAOvZ,IAAP,CAAYk9B,KAAZ,CAAkBiwD,KAAlB,CAAwBryD,kBAAxB,CAA2Cg0B,CAA3C,CACX,KAAIxhE,EAAWjB,CAAXiB,CAAgBA,QAChB6F,EAAAA,CAAQ9G,CAAR8G,CAAa4c,QACjB,KAAIvpB,EAAM,IAAA,CAAKk8C,iBAAL,EAAA,CAAyB5F,KAAzB,CAA+BxvC,CAA/B,CAAV,CACIwhC,EAAQ,IAAA,CAAKvhB,WAAL,CAAiB,OAAjB,CADZ;AAEI8gF,EAAa,CAAA,CACjB,IAAiB,CAAjB,GAAI/gG,CAAJ,EAAgC,CAAhC,GAAsB6F,CAAtB,CAAmC,CAC9Bm7F,CAAAA,CAAkB,IAAA,CAAKh9E,IAAL,CAAU,wBAAV,CAAlBg9E,CAAsDpgG,IAEpC,EAAtB,EADmB4gE,CAAAy/B,CAAMC,mBAAND,CAA0BD,CAA1BC,CAA2CD,CAA3CC,CAA2D5oG,GAA3D4oG,CAA+D5B,SAA/D4B,CAA0ED,CAA1EC,CAA0F5oG,GAA1F4oG,CAA8FE,UAA9FF,CACnB,CAAiBnhG,CAAjB,EACC0hE,CAAA,CAAMnpE,GAAN,CAAUimG,cAAV,EAED98B,EAAA,CAAMnW,KAAN,CAAY,KAAZ,CACA,MAPkC,CASpB,CAAf,CAAIrrD,CAAJ,EAA8B,CAA9B,GAAoB6F,CAApB,EACCk7F,CAKA,CALa,CAAA,CAKb,CAJA/gG,CAAA,EAIA,CAHA9G,CAGA,CAHM,IAAA,CAAKk8C,iBAAL,EAAA,CAAyB5F,KAAzB,CAA+BxvC,CAA/B,CAGN,CAFIgnB,CAEJ,CAFkB9tB,CAAA,CAAIY,GAAJ,CAAQ,qBAAR,CAElB,CADA+L,CACA,CADQmhB,CACR,CADoBwa,CACpB,CAAY,CAAZ,CAAI37B,CAAJ,GACCA,CACA,CADQ,CACR,CAAA,IAAA,CAAKwnB,WAAL,CAAiB,OAAjB,CAA0BrG,CAA1B,CAFD,CAND,GAWCwa,CAAA,EACA,CAAA37B,CAAA,EAAS27B,CAZV,CAcY,EAAZ,CAAI37B,CAAJ,GAAeA,CAAf,CAAuB,CAAvB,CAEW27D,EAAA,CAAM4/B,aAAN,CAAoB,uBAApB,CAA4C,IAAA,CAAK9yE,QAAL,CAAc,SAAd,CAA5C,CAAqE,QAArE,CAA+E,QAA/E,CAAyF,CAAA,CAAzF,CAAA,CAAgGwO,IAAhG,EACNikE,EAAL,EACCv/B,CAAA,CAAMpb,OAAN,EAGG3vD,EAAAA,CAAKyC,CAAA,CAAIknB,KAAJ,EACT,KAAA,CAAKoC,YAAL,CAAkB,CAAC,YAAe/rB,CAAhB,CAAoBoP,MAAOA,CAA3B,CAAlB,CACA,KAAA,CAAKw7F,cAAL,CAAoB,YAApB,CACA;IAAA,CAAKC,iBAAL,CAAuBT,CAAvB,CACA,KAAA,CAAKx2D,IAAL,EACA,KAAA,CAAKhd,WAAL,CAAiB,OAAjB,CAA0B,IAA1B,CAA+BoxE,aAA/B,CACA,MA3CyB,CA6C1Bj9B,CAAA,CAAMpb,OAAN,EACAob,EAAA,CAAQs/B,CAAA,CAAgBt/B,KAAhB,EA/CI,CAJiB,CAhYC,CAwbjCg+B,UAAWA,QAAQ,CAACqB,CAAD,CAAS,CAC3B,IAAIC,EAAkB,IAAA,CAAKP,iBAAL,EAAA,CAAyB/+B,KAAzB,EAAtB,CACI+/B,EAAOT,CAAA,CAAgBS,IAAhB,EACX,IAA6B,CAAA,CAA7B,GAAIA,CAAA,CAAK9hD,MAAL,CAAY,SAAZ,CAAJ,CACC,IAAA,CAAM8hD,CAAN,CAAA,CAAY,CACX,GAAIA,CAAA,CAAK9hD,MAAL,CAAY,MAAZ,CAAJ,CAAyB,CACpB1gD,CAAAA,CAAOktB,MAAA,CAAOvZ,IAAP,CAAYk9B,KAAZ,CAAkBiwD,KAAlB,CAAwBryD,kBAAxB,CAA2C+zD,CAA3C,CACX,KAAIvhG,EAAWjB,CAAXiB,CAAgBA,QAApB,CACI6F,EAAQ9G,CAAR8G,CAAa4c,QADjB,CAEIvpB,EAAM,IAAA,CAAKk8C,iBAAL,EAAA,CAAyB5F,KAAzB,CAA+BzwC,CAA/B,CAAoCiB,QAApC,CAFV,CAGIvJ,EAAKyC,CAAA,CAAIknB,KAAJ,EAEL4G,EAAAA,CAAc9tB,CAAA,CAAIY,GAAJ,CAAQ,qBAAR,CAClB,IAAI+L,CAAJ,CAAY,IAAA,CAAKoa,WAAL,CAAiB,OAAjB,CAAZ,EAAyC+G,CAAzC,EAAwDhnB,CAAxD,EAAoE,IAAA,CAAKkgB,SAAL,EAAA,CAAiBqL,iBAAjB,EAApE,CAAyG,CAAzG,CAEC,GADIiW,CACA,CADQxa,CACR,CADsBnhB,CACtB,CAAS,CAAT,EAAA27B,CAAJ,CAAgB,CACf+/D,CAAA,CAAKlpG,GAAL,CAASimG,cAAT,EACAiD;CAAA,CAAKl2C,KAAL,CAAW,KAAX,CACA,MAHe,CAAhB,IAKC,KAAA,CAAKh+B,WAAL,CAAiB,OAAjB,CAA0BmU,CAA1B,CAMF,KADIggE,CACJ,CADcD,CACd,CADmBlpG,GACnB,CADuBumD,WACvB,CAAM4iD,CAAN,CAAA,CACKC,CAEJ,CAFcD,CAEd,CADAA,CACA,CADUA,CACV,CADkB5iD,WAClB,CAAA6iD,CAAA,CAAQrlE,UAAR,CAAmB+C,WAAnB,CAA+BsiE,CAA/B,CAGUF,EAAA,CAAKH,aAAL,CAAmB,uBAAnB,CAA2C,IAAA,CAAK9yE,QAAL,CAAc,SAAd,CAA3C,CAAoE,QAApE,CAA8E,OAA9E,CAAuF,CAAA,CAAvF,CAAA,CAA8FwO,IAA9F,EACXykE,EAAA,CAAKn7C,OAAL,EACA,KAAA,CAAK5jC,YAAL,CAAkB,CAAC,YAAe/rB,CAAhB,CAAoBoP,MAAO9G,CAAP8G,CAAY4c,QAAhC,CAAlB,CACA,KAAA,CAAK4+E,cAAL,CAAoB,WAApB,CACA,KAAA,CAAKC,iBAAL,CAAuBT,CAAvB,CACA,KAAA,CAAKx2D,IAAL,EACA,KAAA,CAAKhd,WAAL,CAAiB,OAAjB,CAA0B,IAA1B,CAA+BoxE,aAA/B,CACA,MAlCwB,CAoCzB8C,CAAA,CAAKn7C,OAAL,EACAm7C,EAAA,CAAOT,CAAA,CAAgBS,IAAhB,EAtCI,CAJc,CAxbK,CAue9Bl3D,KAAMA,QAAQ,CAACq3D,CAAD,CAAU5tG,CAAV,CAAkB,CAC3B4tG,CAAJ,GACC,IAAA,CAAKnB,iBAAL,EAAA,CAAyB/+B,KAAzB,EAAA,CAAiCpb,OAAjC,EAEH,CADG,IAAA,CAAKm6C,iBAAL,EAAA,CAAyBzjD,OAAzB,CAAiC,oDAAjC;AAAsF,IAAA,CAAKxuB,QAAL,CAAc,SAAd,CAAtF,CAA+G,cAA/G,CACH,CAAA,IAAA,CAAKiyE,iBAAL,EAAA,CAAyB/+B,KAAzB,EAAA,CAAiCA,KAAjC,EAAA,CAAyC1kC,IAAzC,EAHE,CAKA,KAAA,CAAKuoD,cAAL,EAAA,CAAsBh7C,IAAtB,CAA2B10C,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV,EAAoB,EAApB,CAAwB,CAClDizB,OAAQpxB,GAAA,CAAIoE,KAAJ,CAAU,IAAA,CAAKgzB,YAAL,EAAV,CAA+B,CACtC40C,UAAW,YAD2B,CAEtCjnB,SAAU,EAF4B,CAA/B,CAD0C,CAAxB,CAA3B,CAN+B,CAveF,CAqf9BskD,WAAYA,QAAQ,CAAC54D,CAAD,CAAW,CAC9B,IAAIu7D,EAAc,IAAA,CAAKpB,iBAAL,EAAA,CAAyBv8E,IAAzB,CAA8B,UAA9B,CACd29E,EAAJ,EAAiBA,CAAA,CAAYv7C,OAAZ,EAEjB,KAAIw7C,EAAW,IAAA,CAAKrB,iBAAL,EAAA,CAAyB/+B,KAAzB,EAAA,CAAiC16B,UAAjC,CAA4C,IAAA,CAAK+6D,cAAL,EAA5C,CAA+Fz7D,CAA/F,CAAyG,CAAA,CAAzG,CACXw7D,EAAJ,EAAgB,IAAA,CAAKE,iBAAL,EAAhB,GACCF,CAAA,CAASvpG,GAAT,CAAaimG,cAAb,EAEA,CAAA3oG,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,QAAQ,EAAG,CAC7B,IAAI/7C,EAAKzC,GAAA,CAAImE,GAAJ,CAAQ8nG,CAAR,CAAiBnrG,EAAjB,CACL2B,EAAJ,EAASA,CAAA,CAAGizD,KAAH,CAAS,KAAT,CAFoB,CAA9B,CAGG,GAHH,CAHD,CAQIn1C;CAAAA,CAAS,IAAA,CAAK8N,IAAL,CAAU,wBAAV,CAAT9N,CAA6CtV,IAA7CsV,CAAkD7d,GAStD,KAAA,CAAKsnG,oBAAL,CAPqB,CAAxBF,EAAIvpF,CAAJupF,CAAWJ,SAAXI,CACU,CADVA,CAEWvpF,CAAJ,CAAWqpF,YAAX,CAA0BrpF,CAA1B,CAAiCmpF,SAAjC,EAA8CnpF,CAA9C,CAAqDq0E,YAArD,CACG,CADH,EAGIr0E,CAHJ,CAGWmpF,SAHX,CAG6C,EAH7C,CAGuBnpF,CAHvB,CAG8Bq0E,YAH9B,EAGoDr0E,CAHpD,CAG2DqpF,YAE/D,CAtB8B,CArfD,CA8gBjCI,qBAAsBA,QAAQ,CAACF,CAAD,CAAS3mC,CAAT,CAAoB,CACjD,IAAIipC,EAAcpsG,GAAA,CAAIuC,QAAJ,CAAasU,MAAb,CAAoB,OAApB,CAA6B,IAAA,CAAK+zF,iBAAL,EAAA,CAAyBv8E,IAAzB,CAA8B,kBAA9B,CAAkD,CAAA,CAAlD,CAA7B,CAAlB,CACIg+E,EAAYD,CAAA,CAAY,CAAZ,CADhB,CAEIE,EAAWF,CAAA,CAAYA,CAAZ,CAAwBxpG,MAAxB,CAA+B,CAA/B,CACf,IAAkB6D,IAAAA,EAAlB,GAAI4lG,CAAJ,EAA4C5lG,IAAAA,EAA5C,GAA+B6lG,CAA/B,CAAuD,CAClD32E,CAAAA,CAAS,IAAA,CAAKpL,SAAL,EACb,KAAIgiF,EAAkB,CAAA,CAElBC,EAAAA,CAAQl2E,MAAA,CAAOvZ,IAAP,CAAYk9B,KAAZ,CAAkBiwD,KAAlB,CAAwBryD,kBAAxB,CAA2C73C,GAAA,CAAImE,GAAJ,CAAQkoG,CAAR,CAA3C,CACRI,EAAAA,CAAQn2E,MAAA,CAAOvZ,IAAP,CAAYk9B,KAAZ,CAAkBiwD,KAAlB,CAAwBryD,kBAAxB,CAA2C73C,GAAA,CAAImE,GAAJ,CAAQmoG,CAAR,CAA3C,CACW,EAAvB;AAAIE,CAAJ,CAAU1/E,QAAV,GACCy/E,CADD,CACmB,CAAA,CADnB,CAOA,KAHA,IAAIG,EAAY,EAAhB,CACIr7E,EAAc,CADlB,CAEI0d,EAAYy9D,CAAZz9D,CAAkB1kC,QACtB,CAAO0kC,CAAP,EAAoB09D,CAApB,CAA0BpiG,QAA1B,CAAA,CAAoC,CACnC,IAAIyqC,EAASnf,CAAA,CAAOnL,WAAP,CAAmBukB,CAAnB,CAAA,CAA8B5qC,GAA9B,CAAkC,qBAAlC,CACT4qC,EAAJ,GAAkB09D,CAAlB,CAAwBpiG,QAAxB,GACCyqC,CADD,CACU23D,CADV,CACgB3/E,QADhB,CAGIiiB,EAAJ,GAAkBy9D,CAAlB,CAAwBniG,QAAxB,GACCyqC,CADD,EACW03D,CADX,CACiB1/E,QADjB,CAGAuE,EAAA,EAAeyjB,CACf43D,EAAA,CAAU39D,CAAV,CAAA,CAAuB+F,CACvB/F,EAAA,EAVmC,CAahCnqC,CAAAA,CAAWgB,IAAA,CAAKyF,KAAL,CAAWgmB,CAAX,CAAyBy4E,CAAzB,CAEX6C,EAAAA,CADAtiG,CACAsiG,CADW,CAEf,KAAShqG,CAAT,CAAa6pG,CAAb,CAAmBniG,QAAnB,CAA6B1H,CAA7B,EAAkC8pG,CAAlC,CAAwCpiG,QAAxC,EAGK,EAFJA,CAEI,CAFO1H,CAEP,CADJgqG,CACI,EADSD,CAAA,CAAU/pG,CAAV,CACT,CAAAgqG,CAAA,EAAa/nG,CAAb,CAHL,CAAkDjC,CAAA,EAAlD,EAQIiqG,CAAAA,CAAgBF,CAAA,CAAUriG,CAAV,CAAhBuiG,EADWD,CACXC,CADuBhoG,CACvBgoG,CAEAL,EAAJ,EAAuBliG,CAAvB,GAAoCmiG,CAApC,CAA0CniG,QAA1C,GACCuiG,CADD,EACkBJ,CADlB,CACwB1/E,QADxB,CAIIy0C,EAAAA,CAAWqrC,CAAXrrC,CAA2B5rC,CAAA,CAAOnL,WAAP,CAAmBngB,CAAnB,CAAA,CAA6BlG,GAA7B,CAAiC,qBAAjC,CAE/B,KAAA,CAAKkqB,IAAL,CAAU,aAAV,CAAA,CAAyB60C,kBAAzB,CAA4C74D,CAA5C,CAAsDk3D,CAAtD,CAAgE4B,CAAhE,CA7CsD,CAJN,CA9gBjB,CAmkB9B0pC,YAAaA,QAAQ,EAAG,EAnkBM,CAAlC,C,CCAA7sG,GAAA,CAAIk2B,MAAJ,CAAW,8BAAX,CAA2C,CAC1CyI,OAAQ,iBADkC,CAE1C7H,OAAQ,CAAC,oBAAD,CAFkC,CAG1C4V,MAAO,wBAHmC,CAI1CqpC,cAAe,CAAA,CAJ2B,CAKvC79C,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ5sB,SAAU5D,IAAAA,EADN,CAEJxC,MAAOwC,IAAAA,EAFH,CAHG,CAOR4yB,MAAO,mBAPC,CAL8B,CAcvCl7B,OAAQ,EAd+B,CAiBvCqC,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF6B,CAjBS,CAsBvC2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAE/B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfnD,KAAM,oEADS,CAEf8yD,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH;AAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACPR,MAAO,mBADA,CAEVC,QAAS,IAATA,CAAcqwE,aAFJ,CAGVznG,MAAO,IAHG,CAAD,CAIR,CACDm3B,MAAO,mBADN,CAEDC,QAAS,IAATA,CAAcuwE,SAFb,CAGD3nG,MAAO,IAHN,CAJQ,CAJH,CAAD,CAFE,CAgBff,UAAW,CACV8iE,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CAGuB,MAA1D,GAAI,IAAA,CAAKrL,WAAL,CAAiB,wBAAjB,CAA2C,OAA3C,CAAJ,EAEA,IAAA,CAAKqY,SAAL,CAAe,kBAAf,CAAmC,IAAnC,CAAyC,CAAzC,CALmC,CAD1B,CASPsrC,iBAAkBA,QAAQ,CAACjlC,CAAD,CAAMznC,CAAN,CAAgB,CACzC,IAAA,CAAKsrB,YAAL,CAAkB,CACjBxiB,SAAU,IAAA,CAAKkgB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BjpB,CAA7B,CAAA,CAAuC2zC,QAAvC,EADO,CAEjBjxC,MAAOwC,IAAAA,EAFU,CAAlB,CAIA,KAAA,CAAKqmG,KAAL,EALyC,CATnC,CAgBP5qG,MAAO,IAhBA,CAhBI,CAAhB,CAoCG,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CAtC4B,CAtBO,CA+D1CguF,cAAeA,QAAQ,EAAG,CAEsB,IAAApmG;AAAZkD,IAAAA,EAAnC,GAAI,IAAA,CAAK6jB,WAAL,CAAiB,UAAjB,CAAJ,CAAqD,IAAA,CAAKC,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,IAAA,CAAKF,WAAL,CAAiB,UAAjB,CAA7B,CAArD,CACqC7jB,IAAAA,EAAhC,GAAI,IAAA,CAAK6jB,WAAL,CAAiB,OAAjB,CAAJ,CAAkD,IAAA,CAAKC,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,IAAA,CAAKF,WAAL,CAAiB,OAAjB,CAA7B,CAAlD,CACO,IAAA,CAAKC,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,CAA7B,CACO,EAAnB,CAAIjnB,CAAA,CAAI2xC,QAAJ,EAAJ,EACC,IAAA,CAAKroB,YAAL,CAAkB,CAACxiB,SAAU9G,CAAA,CAAI2xC,QAAJ,EAAV7qC,CAAyB,CAA1B,CAA6BpG,MAAOwC,IAAAA,EAApC,CAAlB,CACA,CAAA,IAAA,CAAKqmG,KAAL,EAFD,EAIC,IAAA,CAAKzoC,SAAL,CAAe,IAAA,CAAK1rC,QAAL,CAAc,YAAd,CAAf,CATwB,CA/DgB,CA4E1CkxE,UAAWA,QAAQ,EAAG,CAErB,GAAmCpjG,IAAAA,EAAnC,GAAI,IAAA,CAAK6jB,WAAL,CAAiB,UAAjB,CAAJ,CAA+C,IAAA/mB,EAAM,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,IAAA,CAAKF,WAAL,CAAiB,UAAjB,CAA7B,CAArD,KACK,IAAgC7jB,IAAAA,EAAhC,GAAI,IAAA,CAAK6jB,WAAL,CAAiB,OAAjB,CAAJ,CAA4C/mB,CAAA;AAAM,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,IAAA,CAAKF,WAAL,CAAiB,OAAjB,CAA7B,CAAlD,KAGJ,OADA,KAAA,CAAKuC,YAAL,CAAkB,CAACxiB,SAAU,CAAX,CAAcpG,MAAOwC,IAAAA,EAArB,CAAlB,CACO,CAAA,IAAA,CAAKqmG,KAAL,EAEJvpG,EAAA,CAAI2xC,QAAJ,EAAJ,CAAmB,IAAA,CAAK3qB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAnB,CAAwD,CAAxD,EACC,IAAA,CAAK/I,YAAL,CAAkB,CAACxiB,SAAU9G,CAAA,CAAI2xC,QAAJ,EAAV7qC,CAAyB,CAA1B,CAA6BpG,MAAOwC,IAAAA,EAApC,CAAlB,CACA,CAAA,IAAA,CAAKqmG,KAAL,EAFD,EAIC,IAAA,CAAKzoC,SAAL,CAAe,IAAA,CAAK1rC,QAAL,CAAc,QAAd,CAAf,CAZoB,CA5EoB,CA4F1Cm0E,MAAOA,QAAQ,EAAG,CAE8B,IAAAvpG,EAAZkD,IAAAA,EAAnC,GAAI,IAAA,CAAK6jB,WAAL,CAAiB,UAAjB,CAAJ,CAAqD,IAAA,CAAKC,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,IAAA,CAAKF,WAAL,CAAiB,UAAjB,CAA7B,CAArD,CACqC7jB,IAAAA,EAAhC,GAAI,IAAA,CAAK6jB,WAAL,CAAiB,OAAjB,CAAJ,CAAkD,IAAA,CAAKC,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,IAAA,CAAKF,WAAL,CAAiB,OAAjB,CAA7B,CAAlD;AACO,IAAA,CAAKC,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,CAA7B,CACZ,KAAIuiF,EAAS,IAAA,CAAK5nE,WAAL,EAAA,CAAmB9W,IAAnB,CAAwB,QAAxB,CAAkC,CAAA,CAAlC,CACb0+E,EAAA,CAAOzjE,YAAP,CAAoB,KAApB,CAA2B,aAA3B,CACA,IAAI,IAAA,CAAKhf,WAAL,CAAiB,wBAAjB,CAAJ,CAAgD,CAC/C,IAAI6Z,EAAM5gC,CAAA,CAAIY,GAAJ,CAAQ,IAAA,CAAKmmB,WAAL,CAAiB,wBAAjB,CAAR,CACV,IAAI6Z,CAAJ,CAAS,CACR4oE,CAAA,CAAOzjE,YAAP,CAAoB,KAApB,CAA2BnF,CAA3B,CACA,OAFQ,CAFsC,CAQ5C/S,CAAAA,CAAS,CACZuE,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAiBE,KAAjB,EADI,CAEZpgB,SAAU9G,CAAA,CAAI2xC,QAAJ,EAFE,CAGZ9R,KAAM,uBAHM,CAIZ8I,SAAU,6BAJE,CAKZuK,aAAc,MALF,CAMZ5K,MAAO,CANK,CAQT1H,EAAJ,CAAU,IAAA,CAAK6H,cAAL,EAAV,CAAkC,GAAlC,CAAwChsC,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9J,CAAzB,CACxC27E,EAAA,CAAOzjE,YAAP,CAAoB,KAApB,CAA2BnF,CAA3B,CAxBiB,CA5FwB,CAA3C,C,CCAAnkC,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCyI,OAAQ,iBAD8B,CAEtC7H,OAAQ,CAAC,oBAAD,CAF8B,CAGtCsK,SAAU,CAAC,0BAAD,CAH4B,CAItCsL,MAAO,oBAJ+B,CAKnCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJhzB,MAAOwC,IAAAA,EADH,CAEJumG,SAAU,IAFN,CAGJnhE,MAAO,EAHH,CAIJ4L,WAAY,CAJR,CAKJjzC,KAAM,EALF,CAMJyoG,SAAU,CANN,CAOJC,WAAY,EAPR,CAQJC,WAAY,IARR,CASJC,eAAgB,UATZ,CAUJroD,SAAU,MAVN,CAWJxkC,OAAQ9Z,IAAAA,EAXJ,CAYJ7G,KAAM6G,IAAAA,EAZF,CAaJ2jB,MAAO3jB,IAAAA,EAbH,CAcJ4/D,UAAW5/D,IAAAA,EAdP,CAeJ2D,MAAO,CAAC,SAAD,CAAY,MAAZ,CAAoB,OAApB,CAfH,CAgBJ0vC,UAAWrzC,IAAAA,EAhBP,CAHG,CAqBX4yB,MAAO,mBArBI,CAL0B,CA4BtCl7B,OAAQ,CACJunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADL;AAEJqsG,QAAS,IAFL,CAGJC,SAAU,IAHN,CAIJC,UAAW,IAJP,CAKJC,YAAa,IALT,CAMJv+F,UAAW,IANP,CAOJw+F,UAAW,IAPP,CAQJ/nG,QAAS,IARL,CASJgoG,aAAc,IATV,CAUJC,cAAe,CAAC1oG,EAAG,CAAJ,CAAOkF,EAAG,CAAV,CAAawyB,EAAG,CAAhB,CAVX,CAWDixE,cAAe,IAXd,CA5B8B,CA0CnCC,qBAAsB,IA1Ca,CA2CnCC,mBAAoB,IA3Ce,CA6CnCttG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAChC,IAAA,CAAK24B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACA,IAAI,WAAJ,EAAmBxd,EAAnB,CAA2B,CACvB,IAAIsgB,EAAOkH,IAAA,CAAKC,KAAL,CAAWznB,CAAX,CAAkB27C,SAAlB,CACX95C,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkBsgB,CAAlB,CAFuB,CAI3B,IAAA,CAAKygB,UAAL,CAAgBvjB,SAAhB,CACG,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAP6B,CA7CK,CAuDnC2xB,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKygE,UAAL,CAAgB/tG,GAAA,CAAIu4B,MAAJ,CAAW,8BAAX;AAA2C,CAC1Dp3B,UAAW,CAACuzC,KAAM,IAANA,CAAWs5D,iBAAZ,CAA+B9rG,MAAO,IAAtC,CAD+C,CAA3C,CAAhB,CAGA,KAAA,CAAK+rG,WAAL,CAAiBjuG,GAAA,CAAIu4B,MAAJ,CAAW,+BAAX,CAA4C,CAC5Dp3B,UAAW,CAACuzC,KAAM,IAANA,CAAWs5D,iBAAZ,CAA+B9rG,MAAO,IAAtC,CADiD,CAA5C,CAAjB,CAGA,KAAA,CAAKgsG,YAAL,CAAkBluG,GAAA,CAAIu4B,MAAJ,CAAW,gCAAX,CAA6C,CAC9Dp3B,UAAW,CAACuzC,KAAM,IAANA,CAAWs5D,iBAAZ,CAA+B9rG,MAAO,IAAtC,CADmD,CAA7C,CAAlB,CAGA,KAAA,CAAKisG,cAAL,CAAoBnuG,GAAA,CAAIu4B,MAAJ,CAAW,kCAAX,CAA+C,CAClEp3B,UAAW,CAACuzC,KAAM,IAANA,CAAWs5D,iBAAZ,CAA+B9rG,MAAO,IAAtC,CADuD,CAA/C,CAApB,CAIA,KAAA,CAAKslE,YAAL,CAAkBxnE,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CACrDC,OAAQ,CACP,CAAClZ,KAAM,MAAP,CADO,CAEP,CAACA,KAAM,SAAP,CAAkBpV,KAAM,KAAxB,CAFO;AAGP,CAACoV,KAAM,cAAP,CAAuBpV,KAAM,QAA7B,CAHO,CAIP,CAACoV,KAAM,aAAP,CAAsBkyC,QAAU,QAAhC,CAJO,CAKP,CAAClyC,KAAM,UAAP,CALO,CAD6C,CAQrD+6B,QAAS,CAAC,CAACC,SAAU,SAAX,CAAsBC,UAAW,MAAjC,CAAD,CAR4C,CASrD6zD,WAAY,UATyC,CAAjC,CAAlB,CAYA,KAAA,CAAKC,YAAL,CAAkBruG,GAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CAC7CsB,MAAO,CACN,CAACla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAAP,CAAgC+M,OAAQ,QAAxC,CAAkDrM,MAAO,mBAAzD,CADM,CAEN,CAAC1Z,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAAP,CAAgC+M,OAAQ,QAAxC,CAAkDrM,MAAO,mBAAzD,CAFM,CADsC,CAK7Cl4B,UAAW,CACVwiC,KAAMA,QAAQ,EAAG,CAChB,IAAIkpB,EAAS,IAAA,CAAKx+B,IAAL,CAAU,QAAV,CAAA,CAAoBigF,SAApB,EACbzhD,EAAA,CAAO,CAAP,CAAA,CAAU0hD,cAAV,EACA1hD,EAAA,CAAO,CAAP,CAAA,CAAU0hD,cAAV,EAHgB,CADP,CAMVrsG,MAAO,IANG,CALkC,CAA5B,CAAlB,CAeA,KAAA,CAAK2rG,oBAAL;AAA4B,IAAI7tG,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,cAAd,CAAjB,CAC5B,KAAA,CAAKm1E,kBAAL,CAA0B,IAAI9tG,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,YAAd,CAAjB,CAEvB34B,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfqpB,OAAQ,QAFO,CAGfgxC,YAAa,CAAA,CAHE,CAIfn5D,MAAO,CAAC,CACV6L,OAAQ,aADE,CAEV2tB,OAAQ,QAFE,CAGVrR,OAAQ,KAHE,CAIP0xC,KAAM,CACLz/B,gBAAiB,UADZ,CAELp6B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAEP0kC,OAAQ,aAFD,CAGP9kC,MAAO,GAHA,CAAD,CAIL,CACK+e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CADX,CAEK+M,OAAQ,QAFb,CAGKrM,MAAO,mBAHZ,CAIKwI,KAAM,CACLhI,MAAO,CACH,CAACla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CAAP,CAAsC+M,OAAQ,SAA9C,CAAyD1kC,MAAO,eAAhE,CADG;AAEH,CAAC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CAAP,CAAmC+M,OAAQ,MAA3C,CAAmD1kC,MAAO,eAA1D,CAFG,CAGH,CAAC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CAAP,CAAoC+M,OAAQ,OAA5C,CAAqD1kC,MAAO,eAA5D,CAHG,CADF,CAMXG,UAAW,CACVC,YAAaA,QAAQ,CAACygC,CAAD,CAAO,CAC3B,IAAIipC,EAAS,IAAA,CAAKxgD,WAAL,CAAiB,OAAjB,CACbuX,EAAA,CAAKhI,KAAL,CAAW1zB,IAAX,CAAgB,QAAQ,CAAC8d,CAAD,CAAO,CAC9BA,CAAA,CAAKskC,UAAL,CAAiD,EAAjD,CAAgBuiB,CAAA,CAAO9jE,OAAP,CAAeid,CAAA,CAAK88D,SAAL,EAAf,CAAhB,CAD8B,CAA/B,CAF2B,CADlB,CAOVxnE,MAAOA,QAAQ,CAACsoB,CAAD,CAAO5d,CAAP,CAAa,CACvB6mD,CAAAA,CAAS,IAAA,CAAKxgD,WAAL,CAAiB,OAAjB,CACb,KAAIlgB,EAAQ6Z,CAAA,CAAK88D,SAAL,EACR/gF,IAAA,CAAIy2B,QAAJ,CAAaq0C,CAAb,CAAJ,GAA2BA,CAA3B,CAAoC,CAACA,CAAD,CAApC,CACI7mD,EAAJ,CAAS2gB,OAAT,EAA2C,EAA3C,EAAoBkmC,CAAA,CAAO9jE,OAAP,CAAeoD,CAAf,CAApB,CACC0gE,CAAA,CAAO9lE,IAAP,CAAYoF,CAAZ,CADD,CAEW,CAAC6Z,CAAD,CAAM2gB,OAFjB,EAEkD,EAFlD,CAE4BkmC,CAAA,CAAO9jE,OAAP,CAAeoD,CAAf,CAF5B,GAGC0gE,CAHD,CAGUA,CAAA,CAAOj3D,MAAP,CAAc,QAAQ,CAACoQ,CAAD,CAAO,CAAC,MAAOA,EAAP,EAAa7Z,CAAd,CAA7B,CAHV,CAKA,KAAA,CAAKstB,WAAL,CAAiB,OAAjB;AAA0BozC,CAA1B,CACA,KAAA,CAAK0jC,QAAL,EACA,KAAA,CAAKhiF,SAAL,CAAe,OAAf,CAAA,CAAwBxV,MAAxB,EAX2B,CAPlB,CAoBV9U,MAAO,IApBG,CANA,CAJX,CAJK,CAFF,CAJC,CA8CPf,UAAW,CACVipB,MAAOA,QAAQ,CAAC2+C,CAAD,CAAYlpE,CAAZ,CAAmB,CACjC,IAAA,CAAK6nE,YAAL,EAAA,CAAoB7zD,MAApB,CAA2B,CAAC,CAACymC,SAAU,MAAX,CAAmBz6C,MAAOA,CAA1B,CAAiC4uG,SAAU,CAAA,CAA3C,CAAD,CAA3B,CACA,KAAA,CAAKC,WAAL,CAAiB7uG,CAAjB,CAFiC,CADxB,CAKVqC,MAAO,IALG,CA9CJ,CAAD,CAqDR,CACDwjC,OAAQ,cADP,CAEE3+B,MAAO,IAAA,CAAK4xB,QAAL,CAAc,SAAd,CAFT,CAGE06B,OAAQ,MAHV,CAIEjvC,MAAO,CAAA,CAJT,CAKE0gB,YAAa,CAAA,CALf,CAME6pE,aAAc,QANhB,CAOE/tG,MAAO,GAPT,CAQEoqD,WAAY,GARd,CASEhJ,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CATV,CAaEd,SAAU,CACT3oD,MAAO,QADE,CAET0pD,OAAQ,GAFC,CAGTzwB,WAAY,KAHH,CAbZ,CAkBEJ,MAAO,CAAC,CACP74B,MAAO,OADA,CAEP2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAFC,CAAD,CAGL,CACJ33B,MAAO,wBADH,CAHK;AAKR,CACK2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CADX,CAEK+M,OAAQ,gBAFb,CAGJrM,MAAO,mBAHH,CAIDD,QAAS,IAAA,CAAKT,QAAL,CAAc,cAAd,CAJR,CAKDkJ,KAAM,CACLhI,MAAO,CACE,CAACla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CAAP,CAAwC+M,OAAQ,oBAAhD,CAAsEqjB,MAAO,WAA7E,CAA0F/nD,MAAO,eAAjG,CADF,CAEE,CAAC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,qBAAd,CAAP,CAA6C+M,OAAQ,yBAArD,CAAgFqjB,MAAO,WAAvF,CAAoG/nD,MAAO,eAA3G,CAFF,CAGE,CAAC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAAP,CAA+B+M,OAAQ,sBAAvC,CAA+DqjB,MAAO,WAAtE,CAAmF/nD,MAAO,eAA1F,CAHF,CADF,CAMFG,UAAW,CACboY,MAAOA,QAAQ,CAACsoB,CAAD,CAAO5d,CAAP,CAAa,CACdxd,IAAAA,EAAb,GAAIwd,CAAJ;CACK/Z,CACJ,CADW+Z,CAAA,CAAK88D,SAAL,EAAA,CAAiB38D,KAAjB,CAAuB,GAAvB,CAAA,CAA4B,CAA5B,CACX,CAAIla,CAAJ,GAAa,IAAA,CAAKogB,WAAL,CAAiB,gBAAjB,CAAb,GACC,IAAA,CAAKoN,WAAL,CAAiB,gBAAjB,CAAmCxtB,CAAnC,CACA,CAAA,IAAA,CAAKmtE,YAAL,CAAkB,CAAA,CAAlB,CAFD,CAFD,CAD2B,CADf,CAUbn1E,MAAO,IAVM,CANT,CALL,CALQ,CA6BL,CACD83B,WAAY,IAAA,CAAKrB,QAAL,CAAc,UAAd,CADX,CAED+M,OAAQ,OAFP,CAGD1kC,MAAO,aAHN,CAIDskC,SAAU,CAJT,CAKDnkC,UAAW,CACVykC,OAAQA,QAAQ,CAACgpE,CAAD,CAAO/7B,CAAP,CAAiBg8B,CAAjB,CAA2B,CAC1CC,QAASA,EAAM,EAAG,CACjB,IAAA,CAAKp3E,WAAL,CAAiB,OAAjB,CAA0Bm7C,CAA1B,CACG,KAAA,CAAKwE,YAAL,EAFc,CAIP,IAAjB,GAAIw3B,CAAJ,GACgC,IAG/B,GAHI,IAAA,CAAKE,eAAL,EAGJ,EAFCrkG,YAAA,CAAa,IAAA,CAAKqkG,eAAL,EAAb,CAED,CAAIH,CAAA,CAAKt5C,OAAL,EAAJ,EACC,IAAA,CAAK05C,eAAL,CAAqBrnG,UAAA,CAAWmnG,CAAA,CAAOntG,IAAP,CAAY,IAAZ,CAAX,CAA8B,GAA9B,CAArB,CALF,CALgD,CADjC,CAeVO,MAAO,IAfG,CALV,CA7BK,CAmDL,CACDlB,MAAO,WADN;AAEDC,KAAM,4DAFL,CAnDK,CAsDL,CACDD,MAAO,OADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFL,CAtDK,CAyDL,CACEhZ,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADR,CAEE+M,OAAQ,UAFV,CAGErM,MAAO,mBAHT,CAIQ46B,gBAAiB,UAJzB,CAKDpyB,KAAM,CACRhI,MAAO,CACH,CAACla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,KAAd,CAAP,CAA6B+M,OAAQ,cAArC,CAAqDqjB,MAAM,UAA3D,CAAuE/nD,MAAO,eAA9E,CADG,CAEH,CAAC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,IAAd,CAAP,CAA4B+M,OAAQ,aAApC,CAAmDqjB,MAAM,UAAzD,CAAqE/nD,MAAO,eAA5E,CAFG,CAGH,CAAC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CAAP,CAA8B+M,OAAQ,eAAtC,CAAuDqjB,MAAM,UAA7D,CAAyE/nD,MAAO,eAAhF,CAHG,CAIH,CAAC2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAAP;AAAgC+M,OAAQ,iBAAxC,CAA2DqjB,MAAM,UAAjE,CAA6E/nD,MAAO,eAApF,CAJG,CADC,CAORG,UAAW,CACVoY,MAAOA,QAAQ,CAACsoB,CAAD,CAAO5d,CAAP,CAAa,CACdxd,IAAAA,EAAb,GAAIwd,CAAJ,GACK+oF,CACJ,CADe/oF,CAAA,CAAK88D,SAAL,EAAA,CAAiB38D,KAAjB,CAAuB,GAAvB,CAAA,CAA4B,CAA5B,CACf,CAAI4oF,CAAJ,GAAiB,IAAA,CAAK1iF,WAAL,CAAiB,UAAjB,CAAjB,GACC,IAAA,CAAK2kF,gBAAL,CAAsBjC,CAAtB,CACA,CAAA,IAAA,CAAK31B,YAAL,CAAkB,CAAA,CAAlB,CAFD,CAFD,CAD2B,CADlB,CAUVn1E,MAAO,IAVG,CAPH,CALL,CAzDK,CAkFF,CACD83B,WAAY,IAAA,CAAKrB,QAAL,CAAc,YAAd,CADX,CAED+M,OAAQ,YAFP,CAGD1kC,MAAO,QAHN,CAIDskC,SAAU,CAJT,CAKDC,SAAU,GALT,CAMDC,UAAW,CANV,CAODrkC,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C,IAAA,CAAKn7C,WAAL,CAAiB,YAAjB,CAA+Bm7C,CAA/B,CACA,KAAA,CAAKwE,YAAL,CAAkB,CAAA,CAAlB,CAF0C,CADjC,CAKVn1E,MAAO,IALG,CAPV,CAlFE,CAgGF,CACD83B,WAAY,IAAA,CAAKrB,QAAL,CAAc,YAAd,CADX,CAED+M,OAAQ,YAFP;AAGD1kC,MAAO,QAHN,CAIDskC,SAAU,GAJT,CAKDC,SAAU,GALT,CAMDC,UAAW,GANV,CAODrkC,UAAW,CACV6kC,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C,IAAA,CAAKn7C,WAAL,CAAiB,YAAjB,CAA+Bm7C,CAA/B,CACA,KAAA,CAAKwE,YAAL,CAAkB,CAAA,CAAlB,CAF0C,CADjC,CAKVn1E,MAAO,IALG,CAPV,CAhGE,CA8GF,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADL,CAED+M,OAAQ,UAFP,CAGDrM,MAAO,mBAHN,CAIDwI,KAAM,CACLhI,MAAO,CACH,CAACla,KAAM,GAAP,CAAY+lB,OAAQ,YAApB,CAAkCqjB,MAAO,UAAzC,CAAqD/nD,MAAO,eAA5D,CADG,CAEH,CAAC2e,KAAM,GAAP,CAAY+lB,OAAQ,YAApB,CAAkCqjB,MAAO,UAAzC,CAAqD/nD,MAAO,eAA5D,CAFG,CAGH,CAAC2e,KAAM,GAAP,CAAY+lB,OAAQ,YAApB,CAAkCqjB,MAAO,UAAzC,CAAqD/nD,MAAO,eAA5D,CAHG,CAIH,CAAC2e,KAAM,GAAP,CAAY+lB,OAAQ,YAApB,CAAkCqjB,MAAO,UAAzC;AAAqD/nD,MAAO,eAA5D,CAJG,CAKH,CAAC2e,KAAM,GAAP,CAAY+lB,OAAQ,YAApB,CAAkCqjB,MAAO,UAAzC,CAAqD/nD,MAAO,eAA5D,CALG,CADF,CAQXG,UAAW,CACVoY,MAAOA,QAAQ,CAACsoB,CAAD,CAAO5d,CAAP,CAAa,CACdxd,IAAAA,EAAb,GAAIwd,CAAJ,GACKgpF,CACJ,CADejiF,QAAA,CAAS/G,CAAA,CAAK88D,SAAL,EAAA,CAAiB38D,KAAjB,CAAuB,GAAvB,CAAA,CAA4B,CAA5B,CAAT,CACf,CAAI6oF,CAAJ,GAAiB,IAAA,CAAK3iF,WAAL,CAAiB,UAAjB,CAAjB,GACI,IAAA,CAAKoN,WAAL,CAAiB,UAAjB,CAA6Bu1E,CAA7B,CACA,CAAA,IAAA,CAAK51B,YAAL,CAAkB,CAAA,CAAlB,CAFJ,CAFD,CAD2B,CADlB,CAUVn1E,MAAO,IAVG,CARA,CAJL,CA9GE,CAuIF,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CADL,CAED+M,OAAQ,YAFP,CAGDrM,MAAO,mBAHN,CAIDwI,KAAM,CACLhI,MAAO,CACH,CAACla,KAAM,GAAP,CAAY+lB,OAAQ,cAApB,CAAoCqjB,MAAO,YAA3C,CAAyD/nD,MAAO,eAAhE,CADG,CAEH,CAAC2e,KAAM,GAAP,CAAY+lB,OAAQ,cAApB,CAAoCqjB,MAAO,YAA3C;AAAyD/nD,MAAO,eAAhE,CAFG,CADF,CAKXG,UAAW,CACVoY,MAAOA,QAAQ,CAACsoB,CAAD,CAAO5d,CAAP,CAAa,CAC3B,GAAaxd,IAAAA,EAAb,GAAIwd,CAAJ,GACKirF,CACA,CADOlkF,QAAA,CAAS/G,CAAA,CAAK88D,SAAL,EAAA,CAAiB38D,KAAjB,CAAuB,GAAvB,CAAA,CAA4B,CAA5B,CAAT,CACP,CAAA8qF,CAAA,GAAS,IAAA,CAAK5kF,WAAL,CAAiB,YAAjB,CAFd,EAE8C,CACzC,GAAY,CAAZ,EAAI4kF,CAAJ,EAAiD,IAAjD,EAAiB,IAAA,CAAK5kF,WAAL,CAAiB,UAAjB,CAAjB,EAAiG,CAAjG,EAAyD,IAAA,CAAKC,SAAL,EAAA,CAAiBqL,iBAAjB,EAAzD,CAGC,MAAO,CAAA,CAGR,KAAA,CAAK8B,WAAL,CAAiB,YAAjB,CAA+Bw3E,CAA/B,CACA,KAAA,CAAK73B,YAAL,CAAkB,CAAA,CAAlB,CARyC,CAHnB,CADlB,CAgBVn1E,MAAO,IAhBG,CALA,CAJL,CAvIE,CAmKL,CACDwjC,OAAQ,cADP,CAED/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFL,CAGDU,MAAO,mBAHN,CAIDC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAK+9C,YAAL,EADmB,CAJnB,CAODn1E,MAAO,IAPN,CAnKK,CAlBT,CArDQ,CAmPL,CACDwjC,OAAQ,WADP,CAED1kC,MAAO,MAFN,CAGD+F,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CAHN;AAID06B,OAAQ,MAJP,CAKDzyD,MAAO,GALN,CAMDwjB,MAAO,CAAA,CANN,CAOD0gB,YAAa,CAAA,CAPZ,CAQD6pE,aAAc,QARb,CASDQ,SAAU,CAAA,CATT,CAUD18C,SAAU,CAAC,CACV28C,MAAO,UADG,CAEVC,kBAAmB,CAAA,CAFT,CAGDC,mBAAoB,CAAA,CAHnB,CAAD,CAVT,CAeD35C,KAAM,CACI1B,gBAAiB,UADrB,CAELp6B,MAAO,CAAC,CACP6L,OAAQ,cADD,CAEK1kC,MAAO,QAFZ,CAGK2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAHX,CAIKU,MAAO,mBAJZ,CAKKmB,KAAM,CALX,CAMKlB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIowB,EAAMpwB,CAAA,CAAIC,EAAJ,CAAO,OAAP,CAAA,CAAgBqwB,YAAhB,EAAA,CAA+B,CAA/B,CACEtkD,KAAAA,EAAZ,GAAIokD,CAAJ,CACC,IAAA,CAAKsZ,UAAL,CAAgB,CACfljE,KAAM,IAAA,CAAK03B,QAAL,CAAc,gBAAd,CADS,CAEX6rC,OAAQ/pC,CAAA,CAAIC,EAAJ,CAAO,OAAP,CAAA,CAAgByK,WAAhB,EAFG,CAAhB,CADD,EAOKvlC,CACJ,CADWirD,CAAA,CAAI1mD,GAAJ,CAAQ,MAAR,CACX,CAAA,IAAA,CAAKorG,gBAAL,CAAsB3vG,CAAtB,CARD,CAFsB,CAN5B,CAmBKsC,MAAO,IAnBZ,CAAD;AAoBI,CACDwjC,OAAQ,cADP,CAEE1kC,MAAO,QAFT,CAGE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAHR,CAIEU,MAAO,mBAJT,CAKEmB,KAAM,CALR,CAMElB,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAIowB,EAAMpwB,CAAA,CAAIC,EAAJ,CAAO,OAAP,CAAA,CAAgBqwB,YAAhB,EAAA,CAA+B,CAA/B,CACEtkD,KAAAA,EAAZ,GAAIokD,CAAJ,CACC,IAAA,CAAKsZ,UAAL,CAAgB,CACfljE,KAAM,IAAA,CAAK03B,QAAL,CAAc,gBAAd,CADS,CAEX6rC,OAAQ/pC,CAAA,CAAIC,EAAJ,CAAO,OAAP,CAAA,CAAgByK,WAAhB,EAFG,CAAhB,CADD,EAOKvlC,CACJ,CADWirD,CAAA,CAAI1mD,GAAJ,CAAQ,MAAR,CACX,CAAA,IAAA,CAAKkI,UAAL,CAAgBzM,CAAhB,CARD,CAFsB,CANzB,CAmBEsC,MAAO,IAnBT,CApBJ,CAFF,CAfL,CA4DDwxF,KAAM,CACIz/B,gBAAiB,UADrB,CAEIp6B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAEP0kC,OAAQ,UAFD,CAIPlL,KAAM,CAJC,CAAD,CAFX,CA5DL,CAqEDm0B,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CADG,CAEZsS,UAAW,MAFC,CAGZzQ,KAAM,CAHM,CAIAi3B,SAAU,CAAA,CAJV,CAAD,CAKV,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADL;AAEDsS,UAAW,SAFV,CAGDzQ,KAAM,GAHL,CAIDirB,SAAU,EAJT,CAKWgM,SAAU,CAAA,CALrB,CALU,CAWV,CACD9xC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADL,CAEDsS,UAAW,cAFV,CAGDzQ,KAAM,GAHL,CAIDirB,SAAU,EAJT,CAKWgM,SAAU,CAAA,CALrB,CAMWvpD,OAAQ,CAAA,CANnB,CAXU,CArER,CAwFJ4rD,SAAU,CACT5pD,KAAM,UADG,CAETmnC,KAAM,QAFG,CAGTm+D,cAAe,CAAA,CAHN,CAITC,cAAe,CAAA,CAJN,CAKGtuG,UAAW,CACPkqD,gBAAiB,CAChBhqD,GAAIA,QAAQ,CAAC40E,CAAD,CAAK/N,CAAL,CAAiB,CAExBrd,CAAAA,CAAMqd,CAAA,CAAW,CAAX,CACEzhE,KAAAA,EAAZ,GAAIokD,CAAJ,EACKjrD,CAIJ,CAJWirD,CAAA,CAAI1mD,GAAJ,CAAQ,MAAR,CAIX,CAHIurG,CAGJ,CAHoC,UAGpC,GAHY7kD,CAAA,CAAI1mD,GAAJ,CAAQ,UAAR,CAGZ,CAFA,IAAA,CAAKwrG,UAAL,CAAgB/vG,CAAhB,CAAsB8vG,CAAtB,CAEA,CAAIA,CAAJ,EACC,IAAA,CAAKljF,SAAL,CAAe,cAAf,CAAA,CAA+B0gE,OAA/B,EACA,CAAA,IAAA,CAAK1gE,SAAL,CAAe,cAAf,CAAA,CAA+B0gE,OAA/B,EAFD,GAIC,IAAA,CAAK1gE,SAAL,CAAe,cAAf,CAAA,CAA+BojF,MAA/B,EACA,CAAA,IAAA,CAAKpjF,SAAL,CAAe,cAAf,CAAA,CAA+BojF,MAA/B,EALD,CALD;AAaC,IAAA,CAAKD,UAAL,EAhB2B,CADb,CAoBhBztG,MAAO,IApBS,CADV,CALd,CAxFN,CAsHDm4B,MAAO,IAAA,CAAKqtC,YAAL,EAtHN,CAuHDvmE,UAAW,CACV60E,OAAQA,QAAQ,CAAC5zC,CAAD,CAAQ,CACvBA,CAAA,CAAMg0C,OAAN,EAAA,CAAgB7iD,OAAhB,EADuB,CADd,CAIVnJ,MAAOA,QAAQ,CAAC2+C,CAAD,CAAYlpE,CAAZ,CAAmB,CACd,CAAnB,CAAIA,CAAJ,CAAU+C,MAAV,EAA4E,EAA5E,GAAwB,IAAA,CAAK8kE,YAAL,EAAA,CAAoBv7D,SAApB,CAA8B,MAA9B,CAAsCtM,CAAA,CAAM,CAAN,CAAtC,CAAxB,EACO,IAAA,CAAKgwG,UAAL,CAAgBhwG,CAAhB,CACA,CAAA,IAAA,CAAKw3E,YAAL,EAFP,EAIF,IAAA,CAAKw4B,UAAL,CAAgB,IAAhB,CALmC,CAJxB,CAYV3tG,MAAO,IAZG,CAvHV,CAnPK,CAJQ,CAAhB,CA+XA,KAAA,CAAK8T,EAAL,CAAQ,UAAR,CAAoB,QAAQ,CAAC+yD,CAAD,CAAYnoE,CAAZ,CAAmBF,CAAnB,CAA2B,CAChD,GAAZ,CAAIE,CAAJ,GACC,IAAA,CAAK4rB,SAAL,CAAe,cAAf,CAAA,CAA+BhP,QAA/B,EACA,CAAA,IAAA,CAAKgP,SAAL,CAAe,WAAf,CAAA,CAA4BhP,QAA5B,EAFD,CAII,KAAJ,CAASrf,MAAT,CAAgB47C,UAAhB,EAA8B,IAA9B,CAAmC57C,MAAnC,CAA0C67C,SAA1C,EACC,IAAA,CAAK81D,iBAAL,CAAuB,IAAvB,CAA4B3xG,MAA5B,CAAmC47C,UAAnC,CAA+C,IAA/C,CAAoD57C,MAApD,CAA2D67C,SAA3D,CAN2D,CAAvD;AAQH,IARG,CAUA,KAAA,CAAKhkC,EAAL,CAAQ,eAAR,CAAyB,QAAQ,CAAC+yD,CAAD,CAAY,CACxCgnC,CAAAA,CAAW,IAAA,CAAKvjF,SAAL,CAAe,OAAf,CACE,KAAjB,GAAIujF,CAAJ,EACC,IAAA,CAAKvjF,SAAL,CAAe,aAAf,CAAA,CAA8BxT,MAA9B,CAAqC+2F,CAArC,CAH2C,CAA7C,CAKG,IALH,CAQH,KAAA,CAAK/5F,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAOzCq6E,CAAAA,CANJC,QAA4B,CAACC,CAAD,CAAe,CAC1C,IAAIrwG,EAAQ,IAAA,CAAKyqB,WAAL,CAAiB4lF,CAAjB,CACD,KAAAruE,CAAKrV,SAALqV,CAAequE,CAAfruE,CACA5d,CAAKoK,IAALpK,CAAU,GAAVA,CAAcisF,CAAdjsF,CAA2B,GAA3BA,CAA+BpkB,CAA/BokB,CACX,CAAKskC,UAAL,CAAgB,CAAA,CAAhB,CAJ0C,CAMvB,CAAoB5mD,IAApB,CAAyB,IAAzB,CAEpBquG,EAAA,CAAc,UAAd,CACA,KAAA,CAAKf,gBAAL,CAAsB,IAAA,CAAK3kF,WAAL,CAAiB,UAAjB,CAAtB,CAEA0lF,EAAA,CAAc,gBAAd,CACAA,EAAA,CAAc,UAAd,CAEA,KAAA,CAAKxjF,SAAL,CAAe,YAAf,CAAA,CAA6B0Z,QAA7B,CAAsC,IAAA,CAAK5b,WAAL,CAAiB,YAAjB,CAAtC,CACA,KAAA,CAAKkC,SAAL,CAAe,YAAf,CAAA,CAA6B0Z,QAA7B,CAAsC,IAAA,CAAK5b,WAAL,CAAiB,YAAjB,CAAtC,CAEkC;CAAlC,EAAIqL,CAAA,CAAOC,iBAAP,EAAJ,EACC,IAAA,CAAK8B,WAAL,CAAiB,YAAjB,CAA+B,CAA/B,CAEDs4E,EAAA,CAAc,YAAd,CAEA,KAAA,CAAKG,UAAL,EAAA,CAAkB72D,SAAlB,CAA4B3jB,CAA5B,CACA,KAAA,CAAKy6E,WAAL,EAAA,CAAmB92D,SAAnB,CAA6B3jB,CAA7B,CACA,KAAA,CAAK06E,cAAL,EAAA,CAAsB/2D,SAAtB,CAAgC3jB,CAAhC,CACA,KAAA,CAAK0hD,YAAL,EA1B6C,CAA9C,CA2BG,IA3BH,CA6BA,KAAA,CAAKrhE,EAAL,CAAQ,mBAAR,CAA6B,QAAQ,CAACgzB,CAAD,CAAMu+B,CAAN,CAAc,CAClD,IAAA,CAAK7vC,WAAL,CAAiB,OAAjB,CAA0B6vC,CAA1B,CACA,KAAA,CAAK8P,YAAL,EAFkD,CAAnD,CAGG,IAHH,CAKA,KAAA,CAAKn4C,UAAL,CAAgBvjB,SAAhB,CA/dyB,CAvDS,CAyhBnCszF,iBAAkBA,QAAQ,CAACjC,CAAD,CAAW,CACpC,IAAA,CAAKt1E,WAAL,CAAiB,UAAjB,CAA6Bs1E,CAA7B,CACH,KAAA,CAAKxgF,SAAL,CAAe,cAAf,CAAA,CAA+By+C,WAA/B,CAAwD,MAAxD,GAA2C+hC,CAA3C,CACA,KAAA,CAAKxgF,SAAL,CAAe,cAAf,CAAA,CAA+By0D,UAA/B,CAAuD,MAAvD,GAA0C+rB,CAA1C,CACA,KAAA,CAAKxgF,SAAL,CAAe,YAAf,CAAA,CAA6By0D,UAA7B,CAAqD,MAArD;AAAwC+rB,CAAxC,CACA,KAAA,CAAKxgF,SAAL,CAAe,YAAf,CAAA,CAA6By0D,UAA7B,CAAqD,MAArD,GAAwC+rB,CAAxC,CACiB,KAAjB,GAAIA,CAAJ,EAE6C,CAF7C,EAEK,IAAA,CAAKziF,SAAL,EAAA,CAAiBqL,iBAAjB,EAFL,GAGE,IAAA,CAAK8B,WAAL,CAAiB,YAAjB,CAA+B,CAA/B,CACA,CAAA,IAAA,CAAKlL,SAAL,CAAe,YAAf,CAAA,CAA6BqV,IAA7B,CAAkChI,KAAlC,CAAwC11B,GAAxC,CAA4C,CAA5C,CAAA,CAA+CokD,UAA/C,CAA0D,CAAA,CAA1D,CAJF,CANuC,CAzhBF,CAwiBnCunD,kBAAmBA,QAAQ,CAAC/1D,CAAD,CAAaC,CAAb,CAAwB,CACnC,8BAAlB,EAAID,CAAJ,EACC,IAAA,CAAKo2D,UAAL,EAAA,CAAkBG,WAAlB,CAA8Bt2D,CAA9B,CAEA,CADA,IAAA,CAAKi1D,gBAAL,CAAsB,IAAtB,CACA,CAAA,IAAA,CAAKjB,iBAAL,CAAuBj3F,IAAvB,CAA4B,IAA5B,CAAkC,IAAA,CAAKo5F,UAAL,EAAlC,CAHD,EAIyB,+BAAlB,EAAIp2D,CAAJ,EACN,IAAA,CAAKq2D,WAAL,EAAA,CAAmBE,WAAnB,CAA+Bt2D,CAA/B,CAEA,CADA,IAAA,CAAKi1D,gBAAL,CAAsB,KAAtB,CACA,CAAA,IAAA,CAAKjB,iBAAL,CAAuBj3F,IAAvB,CAA4B,IAA5B;AAAkC,IAAA,CAAKq5F,WAAL,EAAlC,CAHM,EAIkB,gCAAlB,EAAIr2D,CAAJ,EACN,IAAA,CAAKw2D,YAAL,EAAA,CAAoBD,WAApB,CAAgCt2D,CAAhC,CAEA,CADA,IAAA,CAAKi1D,gBAAL,CAAsB,MAAtB,CACA,CAAA,IAAA,CAAKjB,iBAAL,CAAuBj3F,IAAvB,CAA4B,IAA5B,CAAkC,IAAA,CAAKw5F,YAAL,EAAlC,CAHM,EAIkB,kCAJlB,EAIIx2D,CAJJ,GAKN,IAAA,CAAKs2D,cAAL,EAAA,CAAsBC,WAAtB,CAAkCt2D,CAAlC,CAEA,CADA,IAAA,CAAKi1D,gBAAL,CAAsB,QAAtB,CACA,CAAA,IAAA,CAAKjB,iBAAL,CAAuBj3F,IAAvB,CAA4B,IAA5B,CAAkC,IAAA,CAAKs5F,cAAL,EAAlC,CAPM,CAT8C,CAxiBhB,CA4jBnCrC,kBAAmBA,QAAQ,CAAC3zE,CAAD,CAAQ,CAClC,IAAA,CAAK7N,SAAL,CAAe,aAAf,CAAA,CAA8B2a,IAA9B,CAAmC,IAAA,CAAKxO,QAAL,CAAc,UAAd,CAAnC,CACA34B,IAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAegyD,UAAf,CAA2B,EAA3B,CAA+B,IAA/B,CAAqC,CAACn2E,CAAD,CAArC,CAFkC,CA5jBA,CAikBnCm2E,WAAYA,QAAQ,CAACn2E,CAAD,CAAQ,CAC3B,IAAI7xB;AAAO,IAAX,CAEIunG,EAAW,IAAA,CAAKvjF,SAAL,CAAe,OAAf,CACE,KAAjB,GAAIujF,CAAJ,EACC,IAAA,CAAKvjF,SAAL,CAAe,aAAf,CAAA,CAA8BxT,MAA9B,CAAqC+2F,CAArC,CAGD,KAAA,CAAKvjF,SAAL,CAAe,WAAf,CAAA,CAA4Bs+B,iBAA5B,EAAA,CAAgDqE,WAAhD,EAEI/jC,EAAAA,CAAMiP,CAAA,CAAMwf,KAAN,CAAY,CAAZ,CACP,KAAI42D,EAAU,IAAA,CAAKnmF,WAAL,CAAiB,YAAjB,CAEbomF,EAAAA,CAAU,EACd,IAAqC,KAArC,GAAI,IAAA,CAAKpmF,WAAL,CAAiB,UAAjB,CAAJ,CAA4C,CAI9C,IAFA,IAAI+sB,EAAMjsB,CAAA,CAAIgsB,sBAAJ,EAAV,CACIu5D,EAAa,CADjB,CAEShuG,EAAI,CAAb,CAAgBA,CAAhB,CAAoB00C,CAApB,CAAwBz0C,MAAxB,CAAgCD,CAAA,EAAhC,CAECguG,CAAA,EAAc5lB,UAAA,CADL1zC,CAAAE,CAAI50C,CAAJ40C,CACgB,CAAGpzC,GAAH,CAAO,YAAP,CAAX,CAEf,IAAkB,CAAlB,EAAIwsG,CAAJ,CAEO,CACND,CAAA,CAAU,IAAA,CAAK/3E,QAAL,CAAc,SAAd,CAAV,CAAmC,IACnC,KAAIi4E,EAAY,CAAC,OAAD,CAAU,OAAV,CAAmB,MAAnB,CAChB,KAASjuG,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB00C,CAApB,CAAwBz0C,MAAxB,EACK,EAAAD,CAAA,EAAK8tG,CAAL,CADL,CAAgC9tG,CAAA,EAAhC,CAAqC,CAIpC,IAAIg1C,EADaN,CAAA,CAAI10C,CAAJ,CAAAkuG,CAAO1sG,GAAP0sG,CAAW,YAAXA,CACbl5D,CAA0Bg5D,CAA1Bh5D,CAAuC,GAC3C+4D,EAAA,EAAW,IAAA,CAAK/3E,QAAL,CAAc,IAAd,CAAX,CAA+B,GAA/B;CAAoCh2B,CAApC,CAAsC,CAAtC,EAAyC,IAAzC,CAA8C,IAAA,CAAKg2B,QAAL,CAAci4E,CAAA,CAAUjuG,CAAV,CAAd,CAA9C,CAA0E,KAA1E,CAAgFiD,IAAA,CAAKyF,KAAL,CAAsB,GAAtB,CAAWssC,CAAX,CAAhF,CAA2G,GAA3G,CAA+G,KAL3E,CAH/B,CAVuC,CAA5C,IAqBO,IAAqC,MAArC,GAAI,IAAA,CAAKrtB,WAAL,CAAiB,UAAjB,CAAJ,CAON,IAJAomF,CAIK,CAJK,IAAA,CAAK/3E,QAAL,CAAc,SAAd,CAIL,CAJ8B,IAI9B,CAHDi4E,CAGC,CAHW,CAAC,OAAD,CAAU,OAAV,CAAmB,MAAnB,CAGX,CADDn5D,CACC,CADYrsB,CAAA,CAAIosB,aAAJ,EACZ,CAAI70C,CAAJ,CAAQ,CAAb,CAAgBA,CAAhB,CAAoB80C,CAApB,CAA+B70C,MAA/B,EACK,EAAAD,CAAA,EAAK8tG,CAAL,CADL,CAAuC9tG,CAAA,EAAvC,CAGKg1C,CACJ,CADiBF,CAAA,CAAW90C,CAAX,CAAA,CAAcwB,GAAd,CAAkB,YAAlB,CACjB,CAAAusG,CAAA,EAAW,IAAA,CAAK/3E,QAAL,CAAc,WAAd,CAAX,CAAsC,GAAtC,EAA2Ch2B,CAA3C,CAA6C,CAA7C,EAAgD,IAAhD,CAAqD,IAAA,CAAKg2B,QAAL,CAAci4E,CAAA,CAAUjuG,CAAV,CAAd,CAArD,CAAiF,KAAjF,CAAuFiD,IAAA,CAAKyF,KAAL,CAAsB,GAAtB,CAAWssC,CAAX,CAAvF,CAAkH,GAAlH,CAAsH,KAIrH,KAAIh4C,EAAU,CAAd,CACImG,EAAUw6B,MAAVx6B,CAAiBy6B,SADrB,CAEIuwE,EAAU,CAFd,CAGIC,EAAUzwE,MAAVywE,CAAiBxwE,SAGgB,SAArC,GAAI,IAAA,CAAKjW,WAAL,CAAiB,UAAjB,CAAJ,EACC,IAAA,CAAKo9C,YAAL,EAAA,CAAoBr7B,SAApB,EAID,KAAIzgC,EAAW,EAAf,CACIolG,EAAU,EAFD5lF,EAAA0pB,CAAIC,SAAJD,EAGb,CAAOt8B,OAAP,CAAe,QAAQ,CAACgL,CAAD,CAAQ,CAC9B,IAAIte;AAAOse,CAAA,CAAMrf,GAAN,CAAU,SAAV,CAAX,CACIotB,EAAW/N,CAAA,CAAMrf,GAAN,CAAU,UAAV,CACEsC,KAAAA,EAAjB,GAAI8qB,CAAJ,GACCA,CACA,CADW,MACX,CAAA/N,CAAA,CAAM8P,GAAN,CAAU,UAAV,CAAsB,MAAtB,CAFD,CAIA,KAAI29E,EAAsB,MAAtBA,GAAS1/E,CACT0/E,EAAJ,GACK/rG,CACJ,CADWvF,CACX,GADoBA,CACpB,CAD8BuF,CAC9B,EAAIA,CAAJ,CAAWY,CAAX,GAAoBA,CAApB,CAA8BZ,CAA9B,CAFD,CAII,KAAA,CAAKwiE,YAAL,EAAA,CAAoBv7D,SAApB,CAA8B,MAA9B,CAA4D,EAA5D,GAAsCqX,CAAA,CAAMrf,GAAN,CAAU,MAAV,CAAtC,CAAJ,EACC,IAAA,CAAKujE,YAAL,EAAA,CAAoBwpC,SAApB,CAA8B1tF,CAA9B,CAED,IAAgB,CAAhB,GAAIitF,CAAJ,CAAmB,CACxB,IAAIU,EAAI3tF,CAAA,CAAMrf,GAAN,CAAU,QAAV,CAAA,CAAoB,CAApB,CACEsC,KAAAA,EAAV,GAAI0qG,CAAJ,GACKA,CACJ,CADQJ,CACR,GADiBA,CACjB,CAD2BI,CAC3B,EAAIA,CAAJ,CAAQL,CAAR,GAAiBA,CAAjB,CAA2BK,CAA3B,CAFD,CAFwB,CAOfC,CAAAA,CAAY,CACfnsG,EAAGue,CAAA,CAAMrf,GAAN,CAAU,QAAV,CAAA,CAAoB,CAApB,CADY,CACYgG,EAAGqZ,CAAA,CAAMrf,GAAN,CAAU,QAAV,CAAA,CAAoB,CAApB,CAAHgG,EAA6B,CADzC,CAC4CgnG,EAAG3tF,CAAA,CAAMrf,GAAN,CAAU,QAAV,CAAA,CAAoB,CAApB,CAAHgtG,EAA6B,CADzE,CAElBvxG,KAAM4jB,CAAA,CAAMrf,GAAN,CAAU,MAAV,CAFY,CAEOsF,QAASvE,CAFhB,CAEsBgtD,aAAc1uC,CAAA,CAAMrf,GAAN,CAAU,cAAV,CAFpC,CAE+DktG,QAAS7tF,CAAA,CAAMrf,GAAN,CAAU,SAAV,CAFxE,CAE8FotB,SAAUA,CAFxG,CAGlB84C,SAAU,CAAA,CAHQ,CAKX4mC,EAAL,CAaCrlG,CAAA,CAAS5G,IAAT,CAAcosG,CAAd,CAbD,EAC+B,KAA9B,GAAI5tF,CAAA,CAAMrf,GAAN,CAAU,UAAV,CAAJ;AACCitG,CADD,CACWxxG,IADX,CACkBwxG,CADlB,CAC4BrqG,KAD5B,CACoC,MADpC,CAC2Cyc,CAAA,CAAMrf,GAAN,CAAU,UAAV,CAD3C,EAGCitG,CAEA,CAFU/mG,QAEV,CAFqBmZ,CAAA,CAAMrf,GAAN,CAAU,UAAV,CAErB,CADIZ,CACJ,CADU,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6B4mF,CAA7B,CAAuC/mG,QAAvC,CACV,CAAY,IAAZ,GAAI9G,CAAJ,GACC6tG,CACA,CADUxxG,IACV,CADiB2D,CAAA,CAAIuyB,aAAJ,EACjB,CAAAs7E,CAAA,CAAUrqG,KAAV,CAAkBxD,CAAA,CAAI+xC,QAAJ,EAFnB,CALD,CAUA,CAAA07D,CAAA,CAAQhsG,IAAR,CAAaosG,CAAb,CAXD,CA3B8B,CAA/B,CA0CG,IA1CH,CA4CIE,EAAAA,CAAW,IAAA,CAAK5pC,YAAL,EAAA,CAAoB38D,QAApB,EACf,KAAA,CAAKyhB,SAAL,CAAe,OAAf,CAAA,CAAwB4qE,WAAxB,CAAoCka,CAApC,CACA,KAAA,CAAK55E,WAAL,CAAiB,OAAjB,CAA0B45E,CAA1B,CAGCC,EAAAA,CAAkBvxG,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CACtDC,OAAQ,oEAAA,CAAA,KAAA,CAAA,GAAA,CAD8C,CAEtDzb,KAAMnR,CAFgD,CAAjC,CAIlB4lG,EAAAA,CAAiBxxG,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CACrDC,OAAQ,oEAAA,CAAA,KAAA,CAAA,GAAA,CAD6C;AAErDzb,KAAMi0F,CAF+C,CAAjC,CAKjB7yG,EAAAA,CAAS,CACTunC,OAAQ,OADC,CAET1kC,MAAO,WAFE,CAGTywG,aAAc,CAAC,WAAD,CAAa,SAAb,CAAuB,eAAvB,CAHL,CAITl+C,QAAS,CACFC,MAAO,iBADL,CAJA,CAOT7G,KAAM,CAAC,CACNziD,KAAM,SADA,CAEN4iB,SAAU,QAFJ,CAGN0L,OAAQ,CAAC,GAAD,CAHF,CAINpuB,MAAO,CACGolE,OAAO,CAAChiB,QAAQ,GAAT,CADV,CAJD,CAAD,CAOJ,CACDtjD,KAAM,SADL,CAED4iB,SAAU,MAFT,CAGD0L,OAAQ,CAAC,GAAD,CAHP,CAPI,CAPG,CAmBTk5E,QAAS,CAAC,CACTxnG,KAAM,MADG,CAETyV,KAAM+wF,CAFG,CAGTzrG,EAAG,EAHM,CAITkF,EAAG,EAJM,CAAD,CAnBA,CAyBTwnG,aAAc,CAACr5F,IAAK,EAAN,CAAUX,MAAO,EAAjB,CAAqBY,OAAQ,EAA7B,CAAiCd,KAAM,EAAvC,CAzBL,CA0BTo1C,OAAQ,CAAC,CACR3iD,KAAM,eADE,CAERwjD,OAAQ,GAFA,CAGRC,OAAQ,GAHA,CAIRtzB,MAAOk3E,CAJC,CAKRnnG,MAAO,CACNlD,KAAM,gBADA,CAENivC,MAAO,MAFD,CAGNy7D,QAAS,MAHH,CALC,CAURx4E,QAAS,CACR20B,WAAY,CAAA,CADJ,CAER7iD,MAAO,kBAFC;AAGR8iD,SAAUA,QAAS,CAACiU,CAAD,CAAUh4D,CAAV,CAAkB1K,CAAlB,CAAuB,CACzC0iE,CAAA,CAAQ9a,OAAR,CAAgB3+C,CAAA,CAAKqlG,oBAAL,CAA0BzpG,KAA1B,CAAgC,CAAC6F,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAD,CAAoB8F,CAAA,CAAO9F,GAAP,CAAW,SAAX,CAApB,CAA0C8F,CAAA,CAAO9F,GAAP,CAAW,cAAX,CAA1C,CAAhC,CAAhB,CADyC,CAHlC,CAVD,CAiBRypD,OAAQ,CACJ1jD,KAAM,QADF,CAjBA,CAoBRkvD,UAAW,CACV/wD,UAAW,QADD,CAEDI,YAAa,OAFZ,CApBH,CAwBRulD,SAAUA,QAAS,CAAC+U,CAAD,CAAS5kE,CAAT,CAAiB6kE,CAAjB,CAA+Bz8D,CAA/B,CAAsC,CAEvD0d,CAAAA,CADQ++C,CACD,CADc3oC,KACd,CAAMwf,KAAN,CAAYtzC,CAAZ,CACX,IAAa,IAAb,GAAI0d,CAAJ,CAAmB,CAClB,IAAI4tF,EAAe5tF,CAAA,CAAK9f,GAAL,CAAS,SAAT,CAGE,GAArB,GAAI0tG,CAAJ,GAECA,CAFD,CAEgB,CAFhB,CAKIC,EAAAA,CAAY,GACZC,EAAAA,CAAc,CACW,EAAA,CAA7B,GAAI9tF,CAAA,CAAK9f,GAAL,CAAS,UAAT,CAAJ,CAEC4tG,CAFD,CACCD,CADD,CACa,EADb,CAGuB,CAHvB,GAGWrB,CAHX,EAG4BxsF,CAAA,CAAK9f,GAAL,CAAS,GAAT,CAH5B,GAIC2tG,CAJD,CATkBtpG,CAaL,CAAYwpG,WAAZ,CAAwB/tF,CAAA,CAAK9f,GAAL,CAAS,GAAT,CAAxB,CAAuC4sG,CAAvC,CAAgDD,CAAhD,CAAyD,CAAzD,CAA4D,CAA5D,CAJb,CAMIvnG,EAAAA,CAfcf,CAeN,CAAYwqB,cAAZ,EAAA,CAA6BoK,QAA7B,CAAsCy0E,CAAtC,CACZ1zG,EAAA,CAAOkK,SAAP,CAAmB,OAAnB,CAA2BkB,CAAA,CAAMC,IAAN,CAAW,GAAX,CAA3B,CAA2C,GAA3C,CAA+CsoG,CAA/C,CAAyD,GACzD3zG,EAAA,CAAOsK,WAAP,CAAqB,OAArB,CAA6Bc,CAAA,CAAMC,IAAN,CAAW,GAAX,CAA7B,CAA6C,GAA7C;AAAiDuoG,CAAjD,CAA6D,GAEzD7sG,EAAAA,CAAO+e,CAAA,CAAK9f,GAAL,CAAS,SAAT,CACPgB,EAAAA,CApBcqD,CAoBL,CAAYwpG,WAAZ,CAAwB9sG,CAAxB,CAA8BY,CAA9B,CAAuCnG,CAAvC,CAAgD,CAAhD,CAAmD,EAAnD,CACbxB,EAAA,CAAOgH,MAAP,CAAgBA,CAvBE,CAHwC,CAxBjD,CAqDXjD,MAAO,IArDI,CAAD,CAsDN,CACDgI,KAAM,eADL,CAEDwjD,OAAQ,GAFP,CAGDC,OAAQ,GAHP,CAIDtzB,MAAOm3E,CAJN,CAKDpnG,MAAO,CACNlD,KAAM,gBADA,CAENivC,MAAO,MAFD,CAGNy7D,QAAS,MAHH,CAINroG,MAAO,IAAA,CAAK0oG,kBAAL,CAAwB,CAAA,CAAxB,CAJD,CALN,CAWD74E,QAAS,CACR20B,WAAY,CAAA,CADJ,CAER7iD,MAAO,kBAFC,CAGR8iD,SAAUA,QAAS,CAACiU,CAAD,CAAUh4D,CAAV,CAAkB1K,CAAlB,CAAuB,CACzC0iE,CAAA,CAAQ9a,OAAR,CAAgB3+C,CAAA,CAAKslG,kBAAL,CAAwB1pG,KAAxB,CAA8B,CAAC6F,CAAA,CAAO9F,GAAP,CAAW,OAAX,CAAD,CAAqB8F,CAAA,CAAO9F,GAAP,CAAW,SAAX,CAArB,CAA9B,CAAhB,CADyC,CAHlC,CAXR,CAkBDypD,OAAQ,CACJ1jD,KAAM,SADF,CAlBP,CAqBDkvD,UAAW,CACV/wD,UAAW,QADD,CAEDI,YAAa,OAFZ,CArBV,CAyBDulD,SAAUA,QAAS,CAAC+U,CAAD,CAAS5kE,CAAT,CAAiB6kE,CAAjB,CAA+Bz8D,CAA/B,CAAsC,CAEvD0d,CAAAA,CADQ++C,CACD,CADc3oC,KACd,CAAMwf,KAAN,CAAYtzC,CAAZ,CACE,KAAb,GAAI0d,CAAJ;CACK4tF,CAiBJ,CAjBmB5tF,CAAA,CAAK9f,GAAL,CAAS,SAAT,CAiBnB,CAZCoF,CAYD,CAbqB,EAArB,GAAIsoG,CAAJ,EAAmE,QAAnE,GAHkBrpG,CAGS,CAAY8hB,WAAZ,CAAwB,UAAxB,CAA3B,CAHkB9hB,CAIT,CAAYypG,kBAAZ,EADT,CAHkBzpG,CAMT,CAAYwqB,cAAZ,EAAA,CAA6BoK,QAA7B,CAAsCy0E,CAAtC,CAUT,CAPI5vF,CAOJ,CAPQ,GAOR,CANgB,CAMhB,GANIwuF,CAMJ,EANqBxsF,CAAA,CAAK9f,GAAL,CAAS,GAAT,CAMrB,GALC8d,CAKD,CAhBkBzZ,CAWb,CAAYwpG,WAAZ,CAAwB/tF,CAAA,CAAK9f,GAAL,CAAS,GAAT,CAAxB,CAAuC4sG,CAAvC,CAAgDD,CAAhD,CAAyD,CAAzD,CAA4D,CAA5D,CAKL,EAFA3yG,CAEA,CAFOkK,SAEP,CAFmB,OAEnB,CAF2BkB,CAAA,CAAMC,IAAN,CAAW,GAAX,CAE3B,CAF2C,GAE3C,CAF+CyY,CAE/C,CAFiD,GAEjD,CADA9jB,CACA,CADOsK,WACP,CADqB,OACrB,CAD6Bc,CAAA,CAAMC,IAAN,CAAW,GAAX,CAC7B,CAD6C,KAC7C,CAAArL,CAAA,CAAOgH,MAAP,CAAgB,CAlBjB,CAH2D,CAzBxD,CAiDJjD,MAAO,IAjDH,CAtDM,CA1BC,CAqITf,UAAW,CACV+gE,UAAWA,QAAQ,CAACn7C,CAAD,CAAQ9C,CAAR,CAActZ,CAAd,CAAqB,CACnCoS,CAAAA,CAAOkH,CAAPlH,CAAY9S,MAAZ8S,CAAmBA,IACD,MAAtB,GAAIA,CAAJ,CAASwU,QAAT,EACKtnB,CACD,CADU,IAAA,CAAKsgB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BzN,CAA7B,CAAkC1S,QAAlC,CACV,CAAA,IAAA,CAAK2oB,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,kBAApC,CAAwD,IAAxD,CAA8D,CAAC/4B,CAAD,CAA9D,CAFJ,EAG6B,MAH7B,GAGW8S,CAHX,CAGgBwU,QAHhB,GAIKtnB,CACD,CADUjK,GAAA,CAAIu4B,MAAJ,CAAW,8BAAX;AAA2Cxb,CAA3C,CACV,CAAA,IAAA,CAAKiW,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,oBAApC,CAA0D,IAA1D,CAAgE,CAAC/4B,CAAD,CAAhE,CALJ,CAFuC,CAD9B,CAWV+mD,OAAQA,QAAQ,CAACjqC,CAAD,CAAQ,CACvBA,CAAA,CAAM9b,IAAN,CAAW+K,EAAX,CAAc,aAAd,CAA6B,QAAQ,CAACrL,CAAD,CAAQ4V,CAAR,CAAgB,CACpD5V,CAAA,CAAMkzD,cAAN,EAEOlvD,EAAAA,CAAKhE,CAAA,CAAMg+D,KAAN,EACT,KAAIupC,EAAWlyG,GAAA,CAAI8C,GAAJ,CAAQyd,CAAR,CAAA,CAAgBooD,KAAhB,EACX1jE,EAAAA,CAAI0J,CAAA,CAAG,CAAH,CAAJ1J,CAAYitG,CAAA,CAAS,CAAT,CACZ/nG,EAAAA,CAAIwE,CAAA,CAAG,CAAH,CAAJxE,CAAY+nG,CAAA,CAAS,CAAT,CAChB,KAAIC,EAAY,IAAA,CAAK9jF,IAAL,CAAU,QAAV,CAAA,CAAoB+jF,eAApB,CAAoCntG,CAApC,CAAsCkF,CAAtC,CACC,KAAjB,EAAIgoG,CAAJ,EAA8D,MAA9D,GAAyBA,CAAA,CAAUloG,MAAV,CAAiB9F,GAAjB,CAAqB,UAArB,CAAzB,GACK0oD,CAuBJ,CAvBa,IAAA,CAAKx+B,IAAL,CAAU,QAAV,CAAA,CAAoBigF,SAApB,EAuBb,CAtBAzhD,CAAA,CAAO,CAAP,CAAA,CAAUwlD,eAAV,EAsBA,CArBAxlD,CAAA,CAAO,CAAP,CAAA,CAAUwlD,eAAV,EAqBA,CAnBIzyG,CAmBJ,CAnBWuyG,CAAA,CAAUloG,MAAV,CAAiB9F,GAAjB,CAAqB,MAArB,CAmBX,CAjBIwb,CAiBJ,CAjBW,CAAC,IAAI3f,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,YAAd,CAAjB,CAAD,EAAgDv0B,KAAhD,CAAsD,CAACxE,CAAD,CAAtD,CAiBX,CAhBA,IAAA,CAAK0yG,YAAL,EAAA,CAAoB9lF,SAApB,CAA8B,QAA9B,CAAA,CAAwCwsD,OAAxC,CAAgDr5D,CAAhD,CAgBA;AAfAA,CAeA,CAfO,CAAC,IAAI3f,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,YAAd,CAAjB,CAAD,EAAgDv0B,KAAhD,CAAsD,CAACxE,CAAD,CAAtD,CAeP,CAdI2yG,CAcJ,CAda,IAAA,CAAKD,YAAL,EAAA,CAAoB9lF,SAApB,CAA8B,QAA9B,CAcb,CAbA+lF,CAAA,CAAOv5B,OAAP,CAAer5D,CAAf,CAaA,CAZA4yF,CAAA,CAAOtnC,WAAP,CAAoD,MAApD,GAAmB,IAAA,CAAK3gD,WAAL,CAAiB,UAAjB,CAAnB,CAYA,CAVA,IAAA,CAAKgoF,YAAL,EAAA,CAAoBt8F,EAApB,CAAuB,OAAvB,CAAgC,QAAQ,CAAC6rB,CAAD,CAAO5d,CAAP,CAAa,CACvCxd,IAAAA,EAAb,GAAIwd,CAAJ,GACKrkB,CACJ,CADWuyG,CAAA,CAAUloG,MAAV,CAAiB9F,GAAjB,CAAqB,MAArB,CACX,CAAyB,QAAzB,GAAI8f,CAAA,CAAK88D,SAAL,EAAJ,CACC,IAAA,CAAKwuB,gBAAL,CAAsB3vG,CAAtB,CADD,CAGC,IAAA,CAAKyM,UAAL,CAAgBzM,CAAhB,CALF,CADoD,CAArD,CASG,IATH,CASS,CAACqC,OAAQ,CAAA,CAAT,CATT,CAUA,CAAA,IAAA,CAAKqwG,YAAL,EAAA,CAAoBrlE,MAApB,CAA2Bt+B,CAA3B,CAxBD,CARiD,CAArD,CAkCM,IAlCN,CADuB,CAXd,CAgDVzM,MAAO,IAhDG,CArIF,CAyLT6kB,EAAAA,CAAQ/mB,GAAA,CAAIu4B,MAAJ,CAAW,0BAAX,CAAuCp6B,CAAvC,CACZ,KAAA,CAAKquB,SAAL,CAAe,aAAf,CAAA,CAA8BhM,MAA9B,CAAqC,CAArC,CAAwCuG,CAAxC,CAEA,KAAA,CAAKyF,SAAL,CAAe,aAAf,CAAA,CAA8ByE,MAA9B,EAEA;IAAA,CAAKu9E,QAAL,EAE0B,KAA1B,GAAI,IAAA,CAAKgE,UAAL,EAAJ,GACI,IAAA,CAAK7C,UAAL,CAAgB,IAAA,CAAK6C,UAAL,EAAA,CAAkB,CAAlB,CAAhB,CACA,CAAA,IAAA,CAAK3C,UAAL,CAAgB,IAAhB,CAFJ,CAzT2B,CAjkBO,CAg4BnCoC,mBAAoBA,QAAQ,CAACh1E,CAAD,CAAY,CAEvC,MADY,KAAA,CAAKjK,cAAL,EAAAzpB,CAAsB6zB,QAAtB7zB,CAA+B,CAA/BA,CAAkC0zB,CAAlC1zB,CAD2B,CAh4BL,CAq4BnCilG,SAAUA,QAAQ,EAAG,CACpB,IAAIznF,EAAQ,IAAA,CAAKyF,SAAL,CAAe,OAAf,CAAZ,CACIqgC,EAAS9lC,CAAA,CAAMunF,SAAN,EACToC,EAAAA,CAAU3pF,CAAA,CAAM0rF,UAAN,CAAiB,OAAjB,CAAA,CAA0BC,QAA1B,EAAA,CAAqC,CAArC,CACd,KAAI5nC,EAAS,IAAA,CAAKxgD,WAAL,CAAiB,OAAjB,CACiB,GAA9B,CAAIwgD,CAAA,CAAO9jE,OAAP,CAAe,SAAf,CAAJ,CAAmC0pG,CAAA,CAAQlvF,IAAR,EAAnC,CACMkvF,CAAA,CAAQ/sE,IAAR,EACsB,GAA5B,CAAImnC,CAAA,CAAO9jE,OAAP,CAAe,OAAf,CAAJ,CAAiC6lD,CAAA,CAAO,CAAP,CAAA,CAAUpZ,QAAV,EAAA,CAAqBjyB,IAArB,EAAjC,CACMqrC,CAAA,CAAO,CAAP,CAAA,CAAUpZ,QAAV,EAAA,CAAqB9P,IAArB,EACqB,GAA3B,CAAImnC,CAAA,CAAO9jE,OAAP,CAAe,MAAf,CAAJ,CAAgC6lD,CAAA,CAAO,CAAP,CAAA,CAAUpZ,QAAV,EAAA,CAAqBjyB,IAArB,EAAhC,CACMqrC,CAAA,CAAO,CAAP,CAAA,CAAUpZ,QAAV,EAAA,CAAqB9P,IAArB,EAVc,CAr4Bc,CAk5BnCgsE,WAAYA,QAAQ,CAAC/vG,CAAD;AAAO8vG,CAAP,CAAc,CACjC,IAAI3oF,EAAQ,IAAA,CAAKsH,IAAL,CAAU,QAAV,CACZ,IAAc,IAAd,GAAItH,CAAJ,CACC,GAAatgB,IAAAA,EAAb,GAAI7G,CAAJ,CACFmnB,CAAA,CAAMunF,SAAN,EAAA,CAAkB,CAAlB,CAAA,CAAqBqE,gBAArB,CAAsC,IAAtC,CACA,CAAA5rF,CAAA,CAAMunF,SAAN,EAAA,CAAkB,CAAlB,CAAA,CAAqBqE,gBAArB,CAAsC,IAAtC,CAFE,KAGO,CAEN,GAAc,CAAA,CAAd,GAAIjD,CAAJ,CAAoB,CACnB,IAAA7iD,EAAS9lC,CAAA,CAAMunF,SAAN,EAAA,CAAkB,CAAlB,CACT/nG,EAAA,CAAQsmD,CAAA,CAAO15B,QAAP,EAAA,CAAkBhnB,SAAlB,CAA4B,OAA5B,CAAqCvM,CAArC,CAFW,CAApB,IAICitD,EACA,CADS9lC,CAAA,CAAMunF,SAAN,EAAA,CAAkB,CAAlB,CACT,CAAA/nG,CAAA,CAAQsmD,CAAA,CAAO15B,QAAP,EAAA,CAAkBhnB,SAAlB,CAA4B,MAA5B,CAAoCvM,CAApC,CAET,IAAc,EAAd,GAAI2G,CAAJ,CAAkB,CACjB,IAAI0D,EAAS4iD,CAAA,CAAO15B,QAAP,EAAA,CAAkB0mB,KAAlB,CAAwBtzC,CAAxB,CAAb,CACIw8D,EAASlW,CAAA,CAAO+lD,UAAP,EAAA,CAAoB,CAApB,CAET3uF,EAAAA,CAAO,CACb4oC,OAAQA,CADK,CAEDt7B,SAAUs7B,CAAA,CAAOgmD,iBAAP,EAAA,CAA6B,OAA7B,CAAuC,SAFhD,CAGDtsG,MAAOA,CAHN,CAID0D,OAAQA,CAJP,CAKDksC,MAAO0W,CAAA,CAAOoB,SAAP,EALN,CAMD8U,OAAQA,CANP,CAQXlW,EAAA,CAAO8lD,gBAAP,CAAwB1uF,CAAxB,CACIyrF,EAAJ,CACC3oF,CAAA,CAAMunF,SAAN,EAAA,CAAkB,CAAlB,CAAA,CAAqBqE,gBAArB,CAAsC,IAAtC,CADD,CAGC5rF,CAAA,CAAMunF,SAAN,EAAA,CAAkB,CAAlB,CAAA,CAAqBqE,gBAArB,CAAsC,IAAtC,CAGG3hG;CAAAA,CAAQ,IAAA,CAAK8hG,iBAAL,CAAuBjmD,CAAvB,CAA+BtmD,CAA/B,CACZ,KAAA,CAAKwsG,gBAAL,CAAsB,CAAC9tG,EAAG+L,CAAA,CAAM,CAAN,CAAJ,CAAc7G,EAAG6G,CAAA,CAAM,CAAN,CAAjB,CAA2B2rB,EAAG,EAA9B,CAAtB,CAE+B,KAA/B,EAAI,IAAA,CAAKq2E,gBAAL,EAAJ,EACC,IAAA,CAAKC,gBAAL,CAAsBjzG,GAAA,CAAIkzG,WAAJ,CAAgBC,OAAhB,CAAwB,CAC1CC,IAAK,IAALA,CAAUC,WADgC,CAE1CnxG,MAAO,IAFmC,CAG1CoxG,SAAU,EAHgC,CAI1CC,OAAQ,IAAA,CAAKC,gBAAL,EAARD,CAAgC52E,CAJU,CAAxB,CAAtB,CAOD,KAAA,CAAKq2E,gBAAL,EAAA,CAAwB50C,OAAxB,EA9BiB,CATZ,CANyB,CAl5BC,CAq8BnC00C,kBAAmBA,QAAQ,CAACjmD,CAAD,CAAStmD,CAAT,CAAgB,CACzCw8D,CAAAA,CAASlW,CAAA,CAAO+lD,UAAP,EAAA,CAAoB,CAApB,CACb,OAA6B,KAA7B,GAAI7vC,CAAJ,CAAW0wC,aAAX,CACc1wC,CAAA,CAAOnqD,IAAP,CAAY86F,MAAZ,CAAmB7vE,KAAnB,EAAA6vE,CAA2BC,aAA3BD,CAAyC3wC,CAAzC2wC,CAAgDD,aAAhDC,CAGN,CAAOE,cAAP,CAAsB,CAFjB7wC,CAAA8wC,CAAOj7F,IAAPi7F,CAAYA,KAAZA,CAAkBttG,CAAlBstG,CAEiB,CADjB9wC,CAAA+wC,CAAOl7F,IAAPk7F,CAAYA,KAAZA,CAAkBvtG,CAAlButG,CACiB,CAAtB,CAJR,CAMQ,CAAC,CAAD,CAAG,CAAH,CARqC,CAr8BR,CAi9BnCT,YAAaA,QAAQ,EAAG,CACvB,IAAItsF,EAAQ,IAAA,CAAKsH,IAAL,CAAU,QAAV,CACZ;GAAgC,CAAhC,CAAI,IAAA,CAAKmlF,gBAAL,EAAJ,CAA4B72E,CAA5B,CAAmC,CAIrC,IAHG,IAAIo3E,EAAOhtF,CAAA,CAAM0rF,UAAN,EAAX,CACCr5C,EAAY,IADb,CAECv/B,EAAQk6E,CAAA,CAAKrB,QAAL,EAFT,CAGM/vG,EAAI,CAAb,CAAgBA,CAAhB,CAAoBk3B,CAApB,CAA0Bj3B,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CACtC,IAAIshB,EAAO4V,CAAA,CAAMl3B,CAAN,CACX,IAAe,iBAAf,EAAIshB,CAAJ,CAASnjB,EAAT,CAAkC,CACjCs4D,CAAA,CAAYn1C,CACZ,MAFiC,CAFI,CAOtB,IAAjB,EAAIm1C,CAAJ,CACC26C,CAAA,CAAKhzG,GAAL,CAAS,CACRD,GAAI,iBADI,CAERoJ,KAAM,QAFE,CAGRzB,YAAa,KAHL,CAIRJ,UAAW,MAJH,CAKRlD,OAAQ,IAAA,CAAKquG,gBAAL,EAARruG,CAAgCw3B,CALxB,CAMR13B,EAAG,IAAA,CAAKuuG,gBAAL,EAAHvuG,CAA2BA,CANnB,CAORkF,EAAG,IAAA,CAAKqpG,gBAAL,EAAHrpG,CAA2BA,CAPnB,CAAT,CADD,EAWCivD,CAAA,CAAU46C,aAAV,CAAwB,CACvB/uG,EAAG,IAAA,CAAKuuG,gBAAL,EAAHvuG,CAA2BA,CADJ,CAEvBkF,EAAG,IAAA,CAAKqpG,gBAAL,EAAHrpG,CAA2BA,CAFJ,CAGvBhF,OAAQ,IAAA,CAAKquG,gBAAL,EAARruG,CAAgCw3B,CAHT,CAAxB,CAMA,CADA,IAAA,CAAK62E,gBAAL,EACA,CADwB72E,CACxB,EAD6B,GAC7B,CAAiC,CAAjC,EAAI,IAAA,CAAK62E,gBAAL,EAAJ,CAA4B72E,CAA5B,GACC,IAAA,CAAK62E,gBAAL,EACA,CADwB72E,CACxB;AAD4B,CAC5B,CAAAo3E,CAAA,CAAK/6F,MAAL,CAAYogD,CAAZ,CAAuB,CAAA,CAAvB,CAFD,CAjBD,CAsBAryC,EAAA,CAAM/P,MAAN,EAjCqC,CAFZ,CAj9BW,CAw/BnC03F,YAAaA,QAAQ,CAACtkF,CAAD,CAAQ,CACxBpqB,GAAA,CAAIy2B,QAAJ,CAAarM,CAAb,CAAJ,GAAyBA,CAAzB,CAAiC,CAACA,CAAD,CAAjC,CAEA,KADA,IAAI6pF,EAAY,EAAhB,CACStxG,EAAI,CAAb,CAAgBA,CAAhB,CAAoBynB,CAApB,CAA0BxnB,MAA1B,CAAkCD,CAAA,EAAlC,CAECsxG,CAAA,CAAUjvG,IAAV,CADSke,IAAIC,MAAJD,CAAWkH,CAAA,CAAMznB,CAAN,CAAXugB,CACT,CAIG6D,EAAAA,CAAQ,IAAA,CAAKyF,SAAL,CAAe,OAAf,CACR0nF,EAAAA,CAAUntF,CAAA,CAAMunF,SAAN,EAAA,CAAkB,CAAlB,CACd,KAAI6F,EAASD,CAAA,CAAQzgE,QAAR,EACbygE,EAAA,CAAQ/gF,QAAR,EAAA,CAAmBhtB,IAAnB,CAAwB,QAAQ,CAAC8d,CAAD,CAAO,CACtC,IAAI/X,EAAQ,CAAA,CACZ,IAAwB,CAAxB,EAAI+nG,CAAJ,CAAcrxG,MAAd,CAA2BsJ,CAAA,CAAQ,CAAA,CAAnC,KAEC,KAAK,IAAIvJ,EAAI,CAAb,CAAgBA,CAAhB,CAAoBsxG,CAApB,CAA8BrxG,MAA9B,EACCsJ,EAAAA,CAAAA,CAAQA,CAARA,EAAiB+nG,CAAA,CAAUtxG,CAAV,CAAA,CAAaoP,IAAb,CAAkBkS,CAAA,CAAK9f,GAAL,CAAS,MAAT,CAAlB,CAAjB+H,CADD,CAAsCvJ,CAAA,EAAtC,EAKDshB,CAAA,CAAKqP,GAAL,CAAS,UAAT,CAAqB,CAACpnB,CAAtB,CACI3F,EAAAA,CAAQ0d,CAAA,CAAKoW,KAAL,CAAWrzB,OAAX,CAAmBid,CAAnB,CACZkwF,EAAA,CAAOC,gBAAP,CAAwB7tG,CAAxB,CAA+B,CAAC2B,OAAQ,CAACgE,CAAV,CAA/B,CAXsC,CAAvC,CAYG,IAZH,CAcH6a,EAAA,CAAM/P,MAAN,EA1B+B,CAx/BM,CAqhCnCq9F,gBAAiBA,QAAQ,EAAG,CAC3B,IAAIhwG,EAAQ,EACZ,KAAA,CAAKqjE,YAAL,EAAA,CAAoBvhE,IAApB,CAAyB,QAAQ,CAACw2B,CAAD,CAAI,CACV,MAA1B;AAAIA,CAAA,CAAEx4B,GAAF,CAAM,UAAN,CAAJ,EACCE,CAAA,CAAMW,IAAN,CAAW23B,CAAA,CAAEx4B,GAAF,CAAM,MAAN,CAAX,CAFmC,CAArC,CAKA,OAAOE,EAPoB,CArhCO,CA+hCnCkrG,iBAAkBA,QAAQ,CAAC3vG,CAAD,CAAO,CAChC,IAAIisC,EAAQjmC,IAAA,CAAKM,GAAL,CAAS,GAAT,CAAeN,IAAA,CAAKyF,KAAL,CAAW,IAAA,CAAKkf,SAAL,EAAA,CAAiBq1B,kBAAjB,EAAX,CAAmD,GAAnD,CAAf,CACf,KAAA,CAAK/yB,YAAL,CAAkB,CAACgf,MAAOA,CAAR,CAAetrB,OAAQ3gB,CAAvB,CAAlB,CACA,KAAA,CAAKy3E,YAAL,EACA,KAAA,CAAK3/C,WAAL,CAAiB,QAAjB,CAA2BjxB,IAAAA,EAA3B,CAJmC,CA/hCE,CAsiCnC4F,WAAYA,QAAQ,CAACzM,CAAD,CAAO,CAC1B,IAAIitD,EAAS,IAAA,CAAKx+B,IAAL,CAAU,QAAV,CAAA,CAAoBigF,SAApB,EAAA,CAAgC,CAAhC,CAAb,CACI/nG,EAAQsmD,CAAA,CAAO15B,QAAP,EAAA,CAAkBhnB,SAAlB,CAA4B,MAA5B,CAAoCvM,CAApC,CACZitD,EAAA,CAAO15B,QAAP,EAAA,CAAkBM,QAAlB,CAA2BltB,CAA3B,CAEAA,EAAA,CAAQ,IAAA,CAAKmhE,YAAL,EAAA,CAAoBv7D,SAApB,CAA8B,MAA9B,CAAsCvM,CAAtC,CACR,KAAA,CAAK8nE,YAAL,EAAA,CAAoBj0C,QAApB,CAA6BltB,CAA7B,CAEI+qG,EAAAA,CAAW,IAAA,CAAK5pC,YAAL,EAAA,CAAoB38D,QAApB,EACZ,KAAA,CAAKyhB,SAAL,CAAe,OAAf,CAAA,CAAwB4qE,WAAxB,CAAoCka,CAApC,CATuB,CAtiCQ;AAkjCnCj6B,aAAcA,QAAQ,CAACi9B,CAAD,CAAmB,CACxC,IAAA,CAAK9nF,SAAL,CAAe,aAAf,CAAA,CAA8B2a,IAA9B,CAAmC,IAAA,CAAKxO,QAAL,CAAc,WAAd,CAAnC,CAEA,KAAIvH,EAAS,EAAb,CACI/sB,EAAQ,IAAA,CAAKgwG,eAAL,EACc,KAA1B,GAAI,IAAA,CAAK7B,UAAL,EAAJ,GACCnuG,CACA,CADQA,CAAA,CAAM05C,MAAN,CAAa,IAAA,CAAKy0D,UAAL,EAAb,CACR,CAAA,IAAA,CAAK96E,WAAL,CAAiB,OAAjB,CAA0BrzB,CAA1B,CAAgCzB,MAAhC,CAFD,CAImB,EAAnB,CAAIyB,CAAJ,CAAUzB,MAAV,GAC2B,IAD3B,GACK,IAAA,CAAK4vG,UAAL,EADL,EACmC8B,CADnC,IAEEljF,CAFF,CAEShH,KAFT,CAEiB/lB,CAAA,CAAMmF,IAAN,CAAW,GAAX,CAFjB,CAMAxJ,IAAA,CAAIoE,KAAJ,CAAUgtB,CAAV,CAAkB,IAAA,CAAKgG,YAAL,EAAlB,CACqB,KAArB,EAAIhG,CAAJ,CAAW7Q,MAAX,GACC6Q,CADD,CACQxxB,IADR,CACeyE,CADf,CAGwB,MAAxB,GAAI+sB,CAAJ,CAAW47E,QAAX,CACC,IAAA,CAAKoD,WAAL,EAAA,CAAmB17D,IAAnB,CAAwB,CACvBtjB,OAAQA,CADe,CAAxB,CADD,CAI+B,MAAxB,GAAIA,CAAJ,CAAW47E,QAAX,CACN,IAAA,CAAKuD,YAAL,EAAA,CAAoB77D,IAApB,CAAyB,CACxBtjB,OAAQA,CADgB,CAAzB,CADM,CAIwB,QAAxB,GAAIA,CAAJ,CAAW47E,QAAX,CACN,IAAA,CAAKqD,cAAL,EAAA,CAAsB37D,IAAtB,CAA2B,CAC1BtjB,OAAQA,CADkB,CAA3B,CADM;AAKN,IAAA,CAAK++E,UAAL,EAAA,CAAkBz7D,IAAlB,CAAuB,CACtBtjB,OAAQA,CADc,CAAvB,CAhCuC,CAljCN,CAwlCnC4gF,YAAaA,QAAQ,CAACuC,CAAD,CAASC,CAAT,CAAiBC,CAAjB,CAAyBC,CAAzB,CAAiCC,CAAjC,CAAyC,CAC1D,MAAOD,EAAP,EAAiBC,CAAjB,CAA0BD,CAA1B,EAAoC9uG,IAAA,CAAKM,GAAL,CAAS,CAAT,CAAYN,IAAA,CAAKgM,GAAL,CAAS,CAAT,EAAa2iG,CAAb,CAAsBC,CAAtB,GAAiCC,CAAjC,CAA0CD,CAA1C,EAAZ,CADsB,CAxlC3B,CAAvC,CAgmCAx0G,IAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CAC5CyI,OAAQ,0BADoC,CAG5C+N,MAAO,sBAHqC,CAIzCxiC,KAAM,eAJmC,CAKzC0qG,WAAY,eAL6B,CAO5CC,aAAc,CAAA,CAP8B,CAS5CtG,eAAgBA,QAAQ,EAAG,CAC1B,IAAA,CAAKsG,YAAL,CAAoB,CAAA,CADM,CATiB,CAa5CxC,gBAAiBA,QAAQ,EAAG,CAC3B,IAAA,CAAKwC,YAAL,CAAoB,CAAA,CADO,CAbgB,CAiBzCC,QAASA,QAAS,CAAC7wF,CAAD,CAAOtV,CAAP,CAAW,CACxB,IAAJ,CAASkmG,YAAT,EAIA,IAAA,CAAK31E,UAAL,CAAgBvjB,SAAhB,CAL4B,CAjBY,CAA7C,C,CChmCA3b,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCyI,OAAQ,iBAD8B,CAEtC7H,OAAQ,CAAC,oBAAD,CAF8B,CAGtC4V,MAAO,oBAH+B,CAInCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ4U,MAAO,CADH,CAEJkZ,SAAU,MAFN,CAGJ36B,MAAO3jB,IAAAA,EAHH,CAIJyzC,kBAAmB,UAJf,CAKJ11C,KAAM,EALF,CAMJ6F,SAAU5D,IAAAA,EANN,CAOJxC,MAAOwC,IAAAA,EAPH,CAHG,CAYX4yB,MAAO,mBAZI,CAJ0B,CAmBnCl7B,OAAQ,CACP85D,UAAWxxD,IAAAA,EADJ,CAEPqW,IAAKrW,IAAAA,EAFE,CAGP4qC,KAAM,QAHC,CAKP0jE,UAAWtuG,IAAAA,EALJ,CAOPuuG,QAASvuG,IAAAA,EAPF,CAQPi/D,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CARF,CAnB2B,CA8BnCi0G,YAAa,CAAC38F,IAAK,EAAN,CAAUX,MAAO,EAAjB,CAAqBY,OAAQ,GAA7B,CAAkCd,KAAM,EAAxC,CA9BsB,CAgCnC41D,YAAa,QAhCsB,CAiCnCC,cAAe,UAjCoB;AAmCnC9sE,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAKu5F,UAAL,CAAgBl1G,GAAA,CAAIc,EAAJ,CAAO,IAAP,CAAa,cAAb,CAAhB,CAJ6B,CAnCK,CA0CnCwsC,cAAeA,QAAQ,EAAG,CAGtBttC,GAAA,CAAIoE,KAAJ,CAFS8oB,IAET,CAAc,CAChBnmB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB+6D,KAAM,IAAI1zF,GAAJ,CAAQm1G,OAAR,CAAgB,CACZlhD,gBAAiB,UADL,CAExBp6B,MAAO,CAAC,IAAD,CAAM,CACZ74B,MAAO,QADK,CAEZq5B,MAAO,IAAIr6B,GAAJ,CAAQ+c,IAAR,CAAaq4F,SAAb,CAAuB,CAC7B58E,OAAQ,CAAC,MAAD,CAAS,MAAT,CAAiB,QAAjB,CADqB,CAAvB,CAFK,CAKZr3B,UAAW,CACV+gE,UAAWA,QAAQ,CAAC53B,CAAD,CAAOrgC,CAAP,CAAexH,CAAf,CAAmB8D,CAAnB,CAA0B,CACxC8uG,CAAAA,CAAWr1G,GAAA,CAAI8C,GAAJ,CAAQL,CAAR,CAAW6yG,iBAAX,CAAA,CAA8BxrD,MAA9B,CAAqC,mBAArC,CACf7/C,EAAA,CAAOqpB,GAAP,CAAW,QAAX,CAAqB+hF,CAArB,CACIhxG,EAAAA,CAAQ,IAAA,CAAKgwG,eAAL,EACZ;IAAA,CAAKxnF,YAAL,CAAkB,CAACzC,MAAO/lB,CAAR,CAAewnC,MAAOxnC,CAAPwnC,CAAajpC,MAA5B,CAAoCmiD,SAAUt+C,IAAAA,EAA9C,CAAyDm7B,WAAY,IAAA,CAAKtX,WAAL,CAAiB,YAAjB,CAArE,CAAlB,CACA,KAAA,CAAKyjD,cAAL,EAL4C,CADnC,CAQV7rE,MAAO,IARG,CALC,CAAN,CAeL,IAfK,CAFiB,CAAhB,CAFU,CAqBnByzD,KAAM,CACO1B,gBAAiB,UADxB,CAELp6B,MAAO,CAAC,CACK74B,MAAO,kBADZ,CAAD,CAEO,CACJA,MAAO,QADH,CAEJ2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CAFF,CAGJW,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKzM,YAAL,CAAkB,CAACzC,MAAO3jB,IAAAA,EAAR,CAAlB,CACA,KAAA,CAAK8uG,eAAL,CAAqB,EAArB,CAFmB,CAHhB,CAOJrzG,MAAO,IAPH,CAFP,CAUI,CACDlB,MAAO,wBADN,CAEDknD,aAAc,CAAA,CAFb,CAVJ,CAaI,CACDvoC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CADL,CAEVU,MAAO,mBAFG,CAGPD,QAAS,IAAA,CAAKT,QAAL,CAAc,cAAd,CAHF,CAIPkJ,KAAM,CACLhI,MAAO,CAAC,CACEla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,qBAAd,CADR;AAEEiM,QAAS,CAAA,CAFX,CAGEc,OAAQ,UAHV,CAIEqjB,MAAO,WAJT,CAKEC,aAAcA,QAAQ,CAAC/kC,CAAD,CAAO2gB,CAAP,CAAgB,CACjCA,CAAJ,GACI,IAAA,CAAKlN,WAAL,CAAiB,mBAAjB,CAAsC,UAAtC,CACA,CAAA,IAAA,CAAKq2C,cAAL,EAFJ,CADqC,CALxC,CAWE7rE,MAAO,IAXT,CAAD,CAYE,CACCyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADP,CAECiM,QAAS,CAAA,CAFV,CAGCc,OAAQ,KAHT,CAICqjB,MAAO,WAJR,CAKCC,aAAcA,QAAQ,CAAC/kC,CAAD,CAAO2gB,CAAP,CAAgB,CACjCA,CAAJ,GACI,IAAA,CAAKlN,WAAL,CAAiB,mBAAjB,CAAsC,KAAtC,CACA,CAAA,IAAA,CAAKq2C,cAAL,EAFJ,CADqC,CALvC,CAWC7rE,MAAO,IAXR,CAZF,CADF,CAJC,CAbJ,CA4CI,CACDlB,MAAO,QADN,CAED0kC,OAAQ,gBAFP,CAGD1L,WAAY,IAAA,CAAKrB,QAAL,CAAc,UAAd,CAHX,CAIDsB,WAAY,OAJX,CAKDC,WAAY,EALX,CAMDt5B,MAAO,GANN,CAOD4kC,UAAW,EAPV,CAQDF,SAAU,EART;AASDC,SAAU,GATT,CAUDpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,MAAjB,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACroB,KAAMqyD,CAAP,CAAlB,CACA,KAAA,CAAKkX,cAAL,EAF0C,CAJjC,CAQV7rE,MAAO,IARG,CAVV,CA5CJ,CAFF,CArBa,CAAd,CA2FA,KAAA,CAAK8T,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACD,CAA5C,EAAI,IAAA,CAAKpL,SAAL,EAAA,CAAiBqL,iBAAjB,EAAJ,EAAiD,IAAA,CAAKw4C,OAAL,EAAjD,EAAmE,IAAnE,CAAwEd,aAAxE,EACL,IAAA,CAAKgB,OAAL,CAAa,IAAb,CAAkBhB,aAAlB,CAEK,OAAN,EAAgB,KAAA,CAAKr1C,oBAAL,EAAhB,EACK,IAAA,CAAKm2C,OAAL,EADL,EACuB,IADvB,CAC4Bf,WAD5B,GAEM/iE,CAEJ,CAFYqrB,CAAA,CAAOC,iBAAP,EAEZ,CAAA,IAAA,CAAK8B,WAAL,CAAiB,MAAjB,CADc89E,GACW,CAAAlrG,CAAA,CADXkrG,GACW,CAA4BlrG,CAArD,CAJF,CAOO,KAAA,CAAKq+B,SAAL,EAAJ,EACC,IAAA,CAAKolC,cAAL,EAZ+C,CAA9C;AAcG,IAdH,CAgBA,KAAA,CAAK/3D,EAAL,CAAQ,gBAAR,CAA0B,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC9CqT,CAAA,CAAI3G,OAAJ,CAAY,wBAAZ,CAAJ,GACC,IAAA,CAAKisC,OAAL,CAAa,IAAb,CAAkBjB,WAAlB,CAGG,CAFH,IAAA,CAAKxgD,YAAL,CAAkB,CAAC5oB,MAAOwC,IAAAA,EAAR,CAAmB4D,SAAU5D,IAAAA,EAA7B,CAAlB,CAEG,CADH,IAAA,CAAK6yC,SAAL,CAAe3jB,CAAf,CACG,CAAA,IAAA,CAAKo4C,cAAL,EAJJ,CADkD,CAAhD,CASA,KAAA,CAAK/3D,EAAL,CAAQ,kBAAR,CAA4B,QAAQ,CAACgzB,CAAD,CAAMzlC,CAAN,CAAW,CAC1CU,CAAAA,CAAQV,CAAA,CAAIknB,KAAJ,EACZ,KAAA,CAAKiN,WAAL,CAAiB,OAAjB,CAA0BzzB,CAA1B,CACA,KAAA,CAAKiqE,qBAAL,EAH8C,CAA/C,CAIG,IAJH,CAMN,KAAA,CAAKl4D,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CAC3B/lB,CAAAA,CAAQ,IAAA,CAAKgwG,eAAL,EACZhwG,EAAA,CAAMW,IAAN,CAAWolB,CAAX,CACA,KAAA,CAAKyC,YAAL,CAAkB,CAACzC,MAAO/lB,CAAR,CAAewnC,MAAOxnC,CAAPwnC,CAAajpC,MAA5B,CAAoCmiD,SAAUt+C,IAAAA,EAA9C,CAAlB,CACI,KAAA,CAAK2nE,OAAL,EAAJ,GAAuB,IAAvB,CAA4Bd,aAA5B,CACC,IAAA,CAAKY,qBAAL,EADD;AAGC,IAAA,CAAKG,mBAAL,CAAyB,IAAA,CAAK9jD,SAAL,EAAA,CAAiB00B,cAAjB,EAAzB,CAP8B,CAAtC,CASS,IATT,CAWM,KAAA,CAAKjpC,EAAL,CAAQ,QAAR,CAAkB,IAAlB,CAAuBy/F,WAAvB,CAAoC,IAApC,CAEA,KAAA,CAAKz/F,EAAL,CAAQ,UAAR,CAAoB,IAApB,CAAyB+jD,SAAzB,CAAoC,IAApC,CAzIS7sC,KA2IT,CAAGgS,UAAH,CAAcvjB,SAAd,CA5IsB,CA1CS,CAyLnCoyD,eAAgBA,QAAQ,EAAG,CAC1B,IAAIp4C,EAAS,IAAA,CAAKpL,SAAL,EACZ,KAAA,CAAKD,WAAL,CAAiB,OAAjB,CAAJ,EAAiC,IAAA,CAAKA,WAAL,CAAiB,UAAjB,CAAjC,CACC,IAAA,CAAK4jD,qBAAL,EADD,CAEyC,CAAlC,EAAIv4C,CAAA,CAAOC,iBAAP,EAAJ,CACN,IAAA,CAAK8/E,gBAAL,CAAsB//E,CAAA,CAAOnL,WAAP,CAAmB,CAAnB,CAAtB,CADM,CAGN,IAAA,CAAK6jD,mBAAL,CAAyB14C,CAAA,CAAOspB,cAAP,EAAzB,CAP4B,CAzLQ,CAoMnCovB,oBAAqBA,QAAQ,CAACrvB,CAAD,CAAc,CAC1C,IAAI5tB,EAAS,IAAA,CAAKgG,YAAL,CAAkB,wDAAA,CAAA,KAAA,CAAA,GAAA,CAAlB,CAEZhG;CAAJ,CAAW5sB,IAAX,EAAmB4sB,CAAnB,CAA0B5sB,IAA1B,CAAiC,IAAA,CAAK+lB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAjC,GACCxE,CADD,CACQ5sB,IADR,CACe,IAAA,CAAK+lB,SAAL,EAAA,CAAiBqL,iBAAjB,EADf,CAGAopB,EAAA,CAAYtK,IAAZ,CAAiB,CACbrR,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EACC,IAAA,CAAK05B,OAAL,CAAa,IAAb,CAAkBjB,WAAlB,CACA,CAAA,IAAA,CAAKkoC,eAAL,CAAqBxtF,CAArB,CAFD,EAIFuO,MAAA,CAAOC,WAAP,CAAmBgmB,iBAAnB,CAAqC,IAAA,CAAK5jB,QAAL,CAAc,sBAAd,CAArC,CAA4Egc,CAA5E,CALiD,CADnC,CASbzyC,MAAO,IATM,CAUbkvB,OAAQA,CAVK,CAAjB,CAN6C,CApMR,CAwNnCskF,iBAAkBA,QAAQ,CAACn0G,CAAD,CAAW,CACpC,GAAIA,CAAJ,CAAa80B,IAAb,CAAmB,CAClB,IAAInJ,EAAK,IACT3rB,EAAA,CAAS80B,IAAT,CAAc,QAAQ,CAAC90B,CAAD,CAAW,CAAC2rB,CAAA,CAAGwoF,gBAAH,CAAoBn0G,CAApB,CAAD,CAAjC,CAFkB,CAAnB,IAKiC,4BAAhC,EAAIvB,GAAA,CAAIkoC,YAAJ,CAAiB3mC,CAAjB,CAAJ,GACI,IAAA,CAAKsrB,YAAL,CAAkB,CACjBxiB,SAAU5D,IAAAA,EADO,CAEjB2jB,MAAO3jB,IAAAA,EAFU,CAGjBxC,MAAO1C,CAAA,CAASkpB,KAAT,EAHU,CAAlB,CAKA;AAAI,IAAA,CAAKke,SAAL,EAAJ,EACO,IAAA,CAAKulC,qBAAL,EAPX,CANmC,CAxNF,CA2OnCA,sBAAuBA,QAAQ,CAAC15B,CAAD,CAAgB,CAC1C,IAAA,CAAKjqB,SAAL,EAAJ,GACIiqB,CACH,CADmBA,CACnB,EADoC,IAAA,CAAKjqB,SAAL,EAAA,CAAiBkqB,gBAAjB,CAAkC,CAAC8D,SAAU,CAAA,CAAX,CAAlC,CACpC,CAAA/D,CAAA,CAAcE,IAAd,CAAmB,CACfrR,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EACC,IAAA,CAAK05B,OAAL,CAAa,IAAb,CAAkBhB,aAAlB,CACA,CAAA,IAAA,CAAKioC,eAAL,CAAqBxtF,CAArB,CAFD,EAKFuO,MAAA,CAAOC,WAAP,CAAmBgmB,iBAAnB,CAAqC,IAAA,CAAK5jB,QAAL,CAAc,wBAAd,CAArC,CAA8Egc,CAA9E,CANiD,CADjC,CAUfzyC,MAAO,IAVQ,CAWfkvB,OAAQ,IAAA,CAAKgG,YAAL,CAAkB,uEAAA,CAAA,KAAA,CAAA,GAAA,CAAlB,CAXO,CAAnB,CAFD,CAD8C,CA3OZ,CA8PnCm+E,gBAAiBA,QAAQ,CAACxtF,CAAD,CAAU,CAClC,IAAI4tF,EAAa,EAAjB,CACIpzB,EAAS,EACbx6D,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD;AAAS1D,CAAT,CAAgB,CACnCrC,CAAAA,CAAM+F,CAAA,CAAO2pC,OAAP,EACN5Y,EAAAA,CAAS/wB,CAAA,CAAO9F,GAAP,CAAW,eAAX,CACb,KAAK,IAAIxB,EAAI,CAAb,CAAgBA,CAAhB,CAAoBq4B,CAApB,CAA2Bp4B,MAA3B,CAAmCD,CAAA,EAAnC,CACmB8D,IAAAA,EAGlB,GAHI87E,CAAA,CAAO5/E,CAAP,CAGJ,GAFC4/E,CAAA,CAAO5/E,CAAP,CAED,CAFa,EAEb,EAAA4/E,CAAA,CAAO5/E,CAAP,CAAA,CAAUuB,CAAV,CAAA,CAAiB82B,CAAA,CAAOr4B,CAAP,CAElBgzG,EAAA,CAAW3wG,IAAX,CAAgB,CAAClE,GAAIoD,CAAL,CAAUob,KAAMpb,CAAhB,CAAqBkvB,KAAM,IAAA,CAAKJ,cAAL,EAAA,CAAsBC,eAAtB,CAAsC/uB,CAAtC,CAA2C,CAAA,CAA3C,CAA3B,CAA6Eg6D,OAAQ,CAAA,CAArF,CAAhB,CATuC,CAAxC,CAUG,IAVH,CAYA,KAAA,CAAK03C,YAAL,CAAkBrzB,CAAlB,CAEA,KAAA,CAAKl0D,IAAL,CAAU,gBAAV,CAAA,CAA4B8E,QAA5B,EAAA,CAAuCm5B,QAAvC,CAAgDqpD,CAAhD,CAEA,KAAA,CAAKhoG,QAAL,EAnBkC,CA9PA,CAoRnCA,SAAUA,QAAQ,CAAC40E,CAAD,CAAS,CACtBA,CAAJ,CAAa,IAAA,CAAKszB,YAAL,EACb,IAAepvG,IAAAA,EAAf,GAAI87E,CAAJ,CAA0B,CACzB,IAAIr1D,EAAK,IAAT,CAEI3Z,EAAO,EACX,KAAA,CAAK8a,IAAL,CAAU,gBAAV,CAAA,CAA4B8E,QAA5B,EAAA,CAAuChtB,IAAvC,CAA4C,QAAQ,CAACw2B,CAAD,CAAI,CAAEppB,CAAA,CAAKvO,IAAL,CAAU23B,CAAA,CAAElS,KAAF,EAAV,CAAF,CAAxD,CAGA,IAAI,IAAA,CAAK2jD,OAAL,EAAJ,GAAuB,IAAvB,CAA4Bd,aAA5B,CACC,IAAAwoC,EAAQ,IAAA,CAAKxrF,WAAL,CAAiB,MAAjB,CADT;IAEO,CACF9lB,CAAAA,CAAO,IAAA,CAAK8lB,WAAL,CAAiB,MAAjB,CACX,KAAIyrF,EAAY,IAAA,CAAKxrF,SAAL,EAAA,CAAiBqL,iBAAjB,EAEhBkgF,EAAA,CAAQtxG,CAAA,CAAOuxG,CAAP,CAAmBvxG,CAAnB,CAA0BuxG,CAJ5B,CAOP,IAAA,CAAK57C,YAAL,EAAA,CAAoB5mD,IAApB,CAAyBA,CAAzB,CACIyiG,EAAAA,CAAkB,IAAA,CAAK77C,YAAL,EAAA,CAAoBooB,CAApB,CAElB3hF,EAAAA,CAAQ,IAAA,CAAKqK,IAAL,CAAUojB,IAAV,CAAe,KAAf,CAAA,CAAsBxtB,QAAtB,EAARD,CAA2C,IAA3CA,CAAgDq0G,WAAhDr0G,CAA4D6W,IAA5D7W,CAAmE,IAAnEA,CAAwEq0G,WAAxEr0G,CAAoF+W,KACxF,KAAI1S,EAAI+O,EAAA,CAAGoV,WAAH,EAAA,CAAiBjR,MAAjB,CAAwB,CAAC,CAAD,CAAI29F,CAAJ,CAAU,CAAV,CAAxB,CAAA,CAAsC99F,KAAtC,CAA4C,CAAC,CAAD,CAAIpX,CAAJ,CAA5C,CAAR,CAEIgR,EAAMoC,EAAA,CAAGpC,GAAH,CAAOokG,CAAP,CAAwB,QAAQ,CAAC51B,CAAD,CAAQ,CACjD,MAAOpsE,GAAA,CAAGpC,GAAH,CAAOwuE,CAAP,CAAc,QAAQ,CAACr7E,CAAD,CAAI,CAAE,MAAOA,EAAA,CAAE,CAAF,CAAT,CAA1B,CAD0C,CAAxC,CAFV,CAKImB,EAAM8N,EAAA,CAAG9N,GAAH,CAAO8vG,CAAP,CAAwB,QAAQ,CAAC51B,CAAD,CAAQ,CACjD,MAAOpsE,GAAA,CAAG9N,GAAH,CAAOk6E,CAAP,CAAc,QAAQ,CAACr7E,CAAD,CAAI,CAAE,MAAOA,EAAA,CAAE,CAAF,CAAT,CAA1B,CAD0C,CAAxC,CAINrE,EAAAA,CAAS,IAAA,CAAKuK,IAAL,CAAUojB,IAAV,CAAe,KAAf,CAAA,CAAsB1tB,SAAtB,EAATD,CAA6C,IAA7CA,CAAkDu0G,WAAlDv0G,CAA8D4X,GAA9D5X,CAAoE,IAApEA,CAAyEu0G,WAAzEv0G,CAAqF6X,MACzF,KAAIpO,EAAI6J,EAAA,CAAGoV,WAAH,EAAA,CAAiBjR,MAAjB,CAAwB,CAACvG,CAAD;AAAM1L,CAAN,CAAxB,CAAA,CAAoC8R,KAApC,CAA0C,CAACtX,CAAD,CAAS,CAAT,CAA1C,CAAR,CAEImxE,EAAO79D,EAAA,CAAG69D,IAAH,EAAA,CACT5sE,CADS,CACP,QAAQ,CAACF,CAAD,CAAIpC,CAAJ,CAAO,CAAE,MAAOsC,EAAA,CAAEtC,CAAF,CAAT,CADR,CAAA,CAETic,EAFS,CAEN,QAAQ,CAAC7Z,CAAD,CAAI,CAAE,MAAOoF,EAAA,CAAEpF,CAAA,CAAE,CAAF,CAAF,CAAT,CAFN,CAAA,CAGTkxG,EAHS,CAGN,QAAQ,CAAClxG,CAAD,CAAI,CAAE,MAAOoF,EAAA,CAAEpF,CAAA,CAAE,CAAF,CAAF,CAAT,CAHN,CAAA,CAITsvB,KAJS,CAIHrgB,EAJG,CAIAkiG,eAJA,CAOX,IAAI,IAAA,CAAK9nC,OAAL,EAAJ,GAAuB,IAAvB,CAA4Bf,WAA5B,CAAyC,CACxC,IAAI8oC,EAAc,EAClB,KAAA,CAAK5rF,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgC14C,IAAhC,CAAqC,QAAQ,CAAC5C,CAAD,CAAM,CAClD4yG,CAAA,CAAYnxG,IAAZ,CAAiBzB,CAAA,CAAIsyC,YAAJ,EAAjB,CADkD,CAAnD,CAGIugE,EAAAA,CAAapiG,EAAA,CAAGqiG,UAAH,EAAA,CAAgBl+F,MAAhB,CAAuBg+F,CAAvB,CAAA,CAAoCn+F,KAApC,CAA0C,CAAC,CAAD,CAAIpX,CAAJ,CAA1C,CACjBqoB,EAAA,CAAQjV,EAAA,CAAGkV,UAAH,CAAcktF,CAAd,CANgC,CAAzC,IAQCntF,EAAA,CAAQjV,EAAA,CAAGkV,UAAH,CAAcjkB,CAAd,CAGLskB,EAAAA,CAAQvV,EAAA,CAAGwV,QAAH,CAAYrf,CAAZ,CAERmsG,EAAAA,CAAQ,IAAA,CAAKz3C,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,MAAxB,CAAA,CAAgCiG,IAAhC,CAAqCi5F,CAArC,CAAsD,QAAQ,CAACjxG,CAAD,CAAI,CAAE,MAAOA,EAAT,CAAlE,CAEZuxG,EAAA,CACE19F,IADF,CACO,GADP,CACY,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO8sE,EAAA,CAAK9sE,CAAL,CAAT,CADxB,CAAA,CAEEmG,KAFF,CAEQ,MAFR,CAEgB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAG8F,cAAH,EAAA,CAAoBC,eAApB,CAAoCluB,CAApC,CAAsCb,GAAtC;AAA2C,CAAA,CAA3C,CAAT,CAF5B,CAAA,CAGD2S,MAHC,CAGM,OAHN,CAAA,CAGe8I,IAHf,CAGoB,QAAS,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASb,GAAX,CAHjC,CAKAoyG,EAAA,CAAM52F,KAAN,EAAA,CAAc/G,MAAd,CAAqB,MAArB,CAAA,CACDC,IADC,CACI,GADJ,CACS,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO8sE,EAAA,CAAK9sE,CAAL,CAAT,CADrB,CAAA,CAEDmG,KAFC,CAEK,MAFL,CAEa,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAG8F,cAAH,EAAA,CAAoBC,eAApB,CAAoCluB,CAApC,CAAsCb,GAAtC,CAA2C,CAAA,CAA3C,CAAT,CAFzB,CAAA,CAGDyU,MAHC,CAGM,OAHN,CAAA,CAGegH,IAHf,CAGoB,QAAS,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASb,GAAX,CAHjC,CAKAoyG,EAAA,CAAMl2F,IAAN,EAAA,CAAapH,MAAb,EAEA,KAAA,CAAK6lD,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,QAAxB,CAAA,CAAkCkC,MAAlC,EAEA,KAAA,CAAK6lD,MAAL,EAAA,CAAclmD,MAAd,CAAqB,GAArB,CAAA,CACEC,IADF,CACO,OADP,CACgB,QADhB,CAAA,CAEEA,IAFF,CAEO,WAFP,CAEoB,cAFpB,CAEmClY,CAFnC,CAE0C,GAF1C,CAAA,CAGEqW,IAHF,CAGOkS,CAHP,CAMI,KAAA,CAAKmlD,OAAL,EAAJ,GAAuB,IAAvB,CAA4Bf,WAA5B,EACC,IAAA,CAAKxO,MAAL,EAAA,CAAchoD,MAAd,CAAqB,UAArB,CAAA,CAAiCC,SAAjC,CAA2C,MAA3C,CAAA,CAAmD3Q,IAAnD,CAAwD,QAAQ,EAAG,CACrE6N,EAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CACE+B,IADF,CACO,aADP;AACsB,KADtB,CAAA,CAEEA,IAFF,CAEO,WAFP,CAEoB,aAFpB,CADqE,CAAnE,CAMA,CAAA29F,CAAA,CAAY,IAAA,CAAK59E,QAAL,CAAc,WAAd,CAPb,EASC49E,CATD,CASa,IAAA,CAAK59E,QAAL,CAAc,kBAAd,CAEb,KAAA,CAAKkmC,MAAL,EAAA,CAAchoD,MAAd,CAAqB,UAArB,CAAA,CAAiC8B,MAAjC,CAAwC,MAAxC,CAAA,CACDC,IADC,CACI,aADJ,CACmB,QADnB,CAAA,CAEDA,IAFC,CAEI,WAFJ,CAEiB,YAFjB,CAE8BhY,CAF9B,CAEoC,CAFpC,CAEsC,IAFtC,EAE4C,IAF5C,CAEiDq0G,WAFjD,CAE6D18F,MAF7D,CAEoE,EAFpE,EAEwE,GAFxE,CAAA,CAGDK,IAHC,CAGI,MAHJ,CAGY,MAHZ,CAAA,CAID+G,IAJC,CAII42F,CAJJ,CAMA,KAAA,CAAK13C,MAAL,EAAA,CAAclmD,MAAd,CAAqB,GAArB,CAAA,CACDC,IADC,CACI,OADJ,CACa,QADb,CAAA,CAEDA,IAFC,CAEI,WAFJ,CAEiB,gBAFjB,CAAA,CAGD7B,IAHC,CAGIwS,CAHJ,CAOCitF,EAAA,CAD6C,KAA9C,GAAI,IAAA,CAAKlsF,WAAL,CAAiB,mBAAjB,CAAJ,CACa,IAAA,CAAKqO,QAAL,CAAc,gBAAd,CADb,CAGa,IAAA,CAAKA,QAAL,CAAc,qBAAd,CAEb,KAAA,CAAKkmC,MAAL,EAAA,CAAchoD,MAAd,CAAqB,UAArB,CAAA,CAAiC8B,MAAjC,CAAwC,MAAxC,CAAA,CACDC,IADC,CACI,aADJ;AACmB,QADnB,CAAA,CAEDA,IAFC,CAEI,WAFJ,CAEiB,aAFjB,EAEgC,IAFhC,CAEqCq8F,WAFrC,CAEiDx9F,IAFjD,CAEsD,EAFtD,EAE0D,IAF1D,CAE+D/W,CAF/D,CAEsE,CAFtE,CAEwE,eAFxE,CAAA,CAGDkY,IAHC,CAGI,MAHJ,CAGY,MAHZ,CAAA,CAID+G,IAJC,CAII62F,CAJJ,CAtGyB,CAFA,CApRQ,CAoYtCnC,gBAAiBA,QAAQ,EAAG,CACxB,IAAIhwG,EAAQ,EACZ,KAAA,CAAKgqB,IAAL,CAAU,gBAAV,CAAA,CAA4B8E,QAA5B,EAAA,CAAuChtB,IAAvC,CAA4C,QAAQ,CAAC8D,CAAD,CAAS,CACxDA,CAAA,CAAO9F,GAAP,CAAW,QAAX,CAAJ,EACCE,CAAA,CAAMW,IAAN,CAAWiF,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAX,CAF2D,CAA7D,CAIG,IAJH,CAKA,OAAOE,EAPiB,CApYU,CA8YnC01D,UAAWA,QAAQ,EAAG,CACrB,GAA4BtzD,IAAAA,EAA5B,GAAI,IAAA,CAAK0zD,YAAL,EAAJ,CAAuC,CACtC,IAAI13D,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAET,KAAA,CAAKG,YAAL,CAAkBjoD,EAAA,CAAGy9B,KAAH,EAAA,CAAWlkC,MAAX,CAAkByG,EAAlB,CAAqByiG,iBAArB,CAAA,CAAwCC,KAAxC,CAA8C1iG,EAA9C,CAAiD2iG,mBAAjD,CAAlB,CACH,KAAA,CAAK15C,MAAL,CAAYjpD,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CAAgCC,IAAhC,CAAqC,IAArC;AAA0C,IAAA,CAAKg+F,UAAL,EAA1C,CAAA,CAA6Dj+F,MAA7D,CAAoE,GAApE,CAAA,CAAyEC,IAAzE,CAA8E,WAA9E,CAA2F,YAA3F,CAAwG,IAAxG,CAA6Gq8F,WAA7G,CAAyHx9F,IAAzH,CAA8H,GAA9H,CAAkI,IAAlI,CAAuIw9F,WAAvI,CAAmJ38F,GAAnJ,CAAuJ,GAAvJ,CAAZ,CAEA,KAAA,CAAKm9F,WAAL,EANyC,CADlB,CA9Ya,CAyZnCA,YAAaA,QAAQ,EAAG,CACvB,IAAIhzG,EAAK,IAALA,CAAUwI,IAAd,CACIrK,EAAQ6B,CAAA,CAAG5B,QAAH,EADZ,CAECH,EAAS+B,CAAA,CAAG9B,SAAH,EAEbqT,GAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBmU,MAAlB,CAAyB,KAAzB,CAAA,CAAgC+B,IAAhC,CAAqC,OAArC,CAA8ChY,CAA9C,CAAA,CAAqDgY,IAArD,CAA0D,QAA1D,CAAoElY,CAApE,CAEA,KAAA,CAAKiN,QAAL,EAP0B,CAzZW,CAAvC,C,CCIA3N,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCyI,OAAQ,iBAD0B,CAElC7H,OAAQ,CAAC,oBAAD,CAF0B,CAGlC4V,MAAO,gBAH2B,CAI/BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAYJ8tB,SAAU,MAZN,CAeJ70C,MAAO,CAfH,CAqBJ27B,MAAO,CArBH,CA0BJgrE,qCAAsC,EA1BlC,CAHG,CA+BXx9E,MAAO,mBA/BI,CAJsB,CAqC/Bl7B,OAAQ,CACPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADF,CArCuB,CAwC/B++B,WAAY,CAAA,CAxCmB,CAyC/BsmB,IAAK,gBAzC0B,CA2C/B7lD,YAAaA,QAAQ,CAACrC,CAAD,CAAU,CAE9B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfkB,MAAO,CACN6L,OAAQ,MADF,CAEN2gB,IAAK,MAFC,CAGNqE,OAAQ,EAHF,CAFQ,CAOfqJ,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb;AAIJp6B,MAAO,CAAC,CACbG,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CADC,CAEbuB,WAAY,EAFC,CAGbt5B,MAAO,GAHM,CAIbI,MAAO,QAJM,CAKVwkC,UAAW,CALD,CAMVF,SAAU,CANA,CAOVC,SAAU,EAPA,CAQVpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,OAAjB,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACgf,MAAOgrB,CAAR,CAAlB,CACA,KAAA,CAAKigD,WAAL,EAF0C,CAJjC,CAQV50G,MAAO,IARG,CARD,CAAD,CAJH,CAAD,CAPE,CAAhB,CAiCG,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CAC9B,IAAA,CAAK/K,IAAL,CAAU8rG,WAAV,CAAsB,OAAtB,CAA+B,QAAQ,CAACpnG,CAAD,CAAI,CAE7C,CADI4Q,CACJ,CADa5Q,CAAA,CAAEwnC,SAAF,CAAY,IAAZ,CAAkB,IAAlB,CAAwB,CAAA,CAAxB,CACb,GAAoC,GAApC,EAAc52B,CAAd,CAAqB7d,GAArB,CAAyBo1E,OAAzB;CACKv3D,CAAA,CAAOupC,MAAP,CAAc,aAAd,CAAJ,EACK7lD,CAEJ,CAFYsc,CAAA,CAAO8P,YAAP,CAAoB,KAApB,CAA2B,QAA3B,CAEZ,CADI9sB,CACJ,CADU,IAAA,CAAKgnB,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgCnE,OAAhC,CAAwCz2C,CAAxC,CACV,CAAA,IAAA,CAAK++B,aAAL,CAAmB,kBAAnB,CAAuC,IAAvC,CAA6C,CAACz/B,CAAD,CAA7C,CAHD,EAIWgd,CAAA,CAAOupC,MAAP,CAAc,aAAd,CAAJ,CACN,IAAA,CAAK9mB,aAAL,CAAmB,cAAnB,CAAmC,IAAnC,CAAyC,CAACziB,CAAA,CAAOw3D,OAAP,EAAD,CAAzC,CADM,CAEIx3D,CAAA,CAAOupC,MAAP,CAAc,eAAd,CAFJ,EAGN,IAAA,CAAK9mB,aAAL,CAAmB,2BAAnB,CAAgD,IAAhD,CAAsD,CAAC,CACtDpjC,KAAM2gB,CAAA,CAAOw3D,OAAP,EADgD,CAEtD1tE,SAAUkW,CAAA,CAAO8P,YAAP,CAAoB,UAApB,CAAgC,QAAhC,CAF4C,CAAD,CAAtD,CARF,CAF6C,CAA3C,CAgBA,IAhBA,CAD8B,CAAlC,CAqBA,KAAA,CAAKra,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,GAAI,IAAJ,CAASi0B,QAAT,CACC,IAAA,CAAKktD,WAAL,EADD,KAIC,KAAA,CAAK9gG,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CACjC,IAAA,CAAK8gG,WAAL,EADiC,CAAlC;AAEG,IAFH,CAL4C,CAA9C,CAaI34G,EAAJ,EAAcA,CAAd,CAAqBw3B,MAArB,EACC,IAAA,CAAKgN,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqCxkC,CAArC,CAA4Cw3B,MAA5C,CAGD,KAAA,CAAK3f,EAAL,CAAQ,QAAR,CAAkB,QAAQ,EAAG,CAC5B,IAAIghG,EAAY,IAAA,CAAKn2G,QAAL,EAAZm2G,CAA4B,GAChC,KAAA,CAAK5sF,KAAL,CAAW,eAAX,CAAA,CAA4B5R,OAA5B,CAAoC,QAAQ,CAACy+F,CAAD,CAAQ,CAC/CA,CAAA,CAAMp2G,QAAN,EAAJ,CAAqBm2G,CAArB,EACCC,CAAA,CAAMl0G,QAAN,CAAei0G,CAAf,CAFkD,CAApD,CAF4B,CAA7B,CAOG,IAPH,CA5E8B,CA3CA,CAiI/BF,YAAaA,QAAQ,EAAG,CAEvB,IAAI5pF,EAAK,IAAT,CAEIgqF,EAAO,IAAA,CAAK1qF,SAAL,CAAe,MAAf,CAEX0qF,EAAA,CAAK7qE,SAAL,EACA6qE,EAAA,CAAKn2G,GAAL,CAAS,CACRE,KAAM,IAAA,CAAKspB,SAAL,EAAA,CAAiBgmB,SAAjB,EADE,CAAT,CAIA,KAAI0X,EAAO,IAAA,CAAK19B,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgCK,QAAhC,EAAX,CACIrT,EAAQ,IAAA,CAAKvhB,WAAL,CAAiB,OAAjB,CAEZ,IAAgB,CAAhB,CAAI29B,CAAJ,CAASrlD,MAAT,CAAmB,CAElBqlD,CAAA,CAAKnkD,IAAL,CAAU,QAAQ,CAACqzG,CAAD,CAAKC,CAAL,CAAS,CAAC,MAAOA,EAAA,CAAG/iE,qBAAH,EAAP,CAAkC8iE,CAAA,CAAG9iE,qBAAH,EAAnC,CAA3B,CACG,KAAIgjE;AAAgB,IAAIr3G,GAAJ,CAAQ4gD,SAAR,CAAkB,sPAAlB,CAIpB,IAAgB,EAAhB,CAAIqH,CAAJ,CAASrlD,MAAT,CAAqB,IAAA00G,EAAuB,CAAvBA,CAAWrvD,CAAXqvD,CAAgB10G,MAArC,KACqB,GAAhB,CAAIqlD,CAAJ,CAASrlD,MAAT,CAAqB00G,CAArB,CAA4C,CAA5C,CAAgCrvD,CAAhC,CAAqCrlD,MAArC,CACgB,GADhB,CACIqlD,CADJ,CACSrlD,MADT,GAEAo0G,CACJ,CADiBE,CAAA,CAAKr2G,QAAL,EACjB,CADiC,GACjC,CAAAy2G,CAAA,CAAaN,CAAA,CAAY/uD,CAAZ,CAAiBrlD,MAAjB,CAA0BqlD,CAA1B,CAA+BrlD,MAA/B,CAAwCo0G,CAHjD,CAML,KAAIO,EAAgB,IAAA,CAAK5+E,QAAL,CAAc,eAAd,CACpBu+E,EAAA,CAAKn2G,GAAL,CAAS,CACXslD,IAAK,SADM,CAERxsB,MAAO,CAAC,CACVmoB,OAAQ,MADE,CAEVyI,MAAO,QAFG,CAGV5wB,MAAO,CAAC,CACP54B,KAAM,IAAA,CAAK03B,QAAL,CAAc,YAAd,CADC;AAEP0tB,IAAK,QAFE,CAAD,CAGJ,CACFrlD,MAAO,eADL,CAEFg6B,OAAQ,IAAA,CAAKzQ,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgCK,QAAhC,EAAA,CAA2CjrC,GAA3C,CAA+C,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAOA,EAAA,CAAI8wC,qBAAJ,EAAR,CAA7D,CAFN,CAGOg9C,OAAQ,IAAIrxF,GAAJ,CAAQ4gD,SAAR,CAAkB,8CAAlB,CAAkE,CACzE0wC,iBAAkBA,QAAQ,CAACjnF,CAAD,CAAW4f,CAAX,CAAgB,CACzC,MAAO,GAAP,CAAWA,CAAX,CAAe,IAAf,CAAoB,IAAA,CAAKmY,KAAL,CAAW7X,SAAX,EAAA,CAAuBC,WAAvB,CAAmCngB,CAAnC,CAAA,CAA6CirC,QAA7C,EADqB,CAD+B,CAIzElT,MAAOlV,CAJkE,CAAlE,CAHf,CASFxsB,OAAQ,EATN,CAUFE,MAAO02G,CAVL,CAHI,CAHG,CAAD,CAkBR,CACDr2G,KAAM,UAANA,CAAiB,IAAA,CAAK03B,QAAL,CAAc,SAAd,CAAjB13B,CAA0C,GAA1CA,CAA8Co2G,CAAA,CAAcjzG,KAAd,CAAoB6jD,CAAA,CAAK1iD,KAAL,CAAW,CAAX,CAAc0iD,CAAA,CAAKrlD,MAAL,CAAYipC,CAAZ,CAAoBA,CAApB,CAA4B7gB,QAAA,CAASi9B,CAAT,CAAcrlD,MAAd,CAAqB,CAArB,CAA1C,CAAA,CAAmEqR,GAAnE,CAAuE,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAO,CACjKzC,GAAIyC,CAAA,CAAIknB,KAAJ,EAD6J,CAEjKoL,WAAYtyB,CAAA,CAAIuyB,aAAJ,EAFqJ;AAGjK/uB,MAAOxD,CAAA,CAAI+xC,QAAJ,EAH0J,CAIjK1mB,IAAKrrB,CAAA,CAAI8wC,qBAAJ,EAJ4J,CAKjKmjE,OAAQD,CALyJ,CAAR,CAArF,CAApB,CAA9Ct2G,CAME,WANFA,CAOQ,IAAA,CAAK03B,QAAL,CAAc,UAAd,CAPR13B,CAOkC,GAPlCA,CAOsCo2G,CAAA,CAAcjzG,KAAd,CAAoB6jD,CAAA,CAAK1iD,KAAL,CAAW,EAAE0iD,CAAA,CAAKrlD,MAAL,CAAYipC,CAAZ,CAAoBA,CAApB,CAA4B7gB,QAAA,CAASi9B,CAAT,CAAcrlD,MAAd,CAAqB,CAArB,CAA9B,CAAX,CAAA,CAAmE2X,OAAnE,EAAA,CAA6EtG,GAA7E,CAAiF,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAO,CAC/JzC,GAAIyC,CAAA,CAAIknB,KAAJ,EAD2J,CAE/JoL,WAAYtyB,CAAA,CAAIuyB,aAAJ,EAFmJ,CAG/J/uB,MAAOxD,CAAA,CAAI+xC,QAAJ,EAHwJ,CAI/J1mB,IAAKrrB,CAAA,CAAI8wC,qBAAJ,EAJ0J,CAK/JmjE,OAAQD,CALuJ,CAAR,CAA/F,CAApB,CAPtCt2G,CAaM,OAdL,CAlBQ,CAFC,CAAT,CAsCHgnD,EAAA,CAAKnkD,IAAL,CAAU,QAAQ,CAACqzG,CAAD,CAAKC,CAAL,CAAS,CAAC,MAAOA,EAAA,CAAG9iE,wBAAH,EAAP,CAAqC6iE,CAAA,CAAG7iE,wBAAH,EAAtC,CAA3B,CACG4iE,EAAA,CAAKn2G,GAAL,CAAS,CACRslD,IAAK,SADG,CAERxsB,MAAO,CAAC,CACVmoB,OAAQ,MADE,CAEVyI,MAAO,QAFG,CAGVpE,IAAK,SAHK,CAIVxsB,MAAO,CAAC,CACP54B,KAAM,IAAA,CAAK03B,QAAL,CAAc,aAAd,CADC;AAEP0tB,IAAK,QAFE,CAAD,CAGJ,CACFrlD,MAAO,eADL,CAEFg6B,OAAQ,IAAA,CAAKzQ,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgCK,QAAhC,EAAA,CAA2CjrC,GAA3C,CAA+C,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAOvD,IAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+wC,wBAAJ,EAAvB,CAAsD,OAAtD,CAAR,CAA7D,CAFN,CAGO+8C,OAAQ,IAAIrxF,GAAJ,CAAQ4gD,SAAR,CAAkB,8CAAlB,CAAkE,CACzE0wC,iBAAkBA,QAAQ,CAACjnF,CAAD,CAAW4f,CAAX,CAAgB,CACzC,MAAO,GAAP,CAAWA,CAAX,CAAe,IAAf,CAAoB,IAAA,CAAKmY,KAAL,CAAW7X,SAAX,EAAA,CAAuBC,WAAvB,CAAmCngB,CAAnC,CAAA,CAA6CirC,QAA7C,EADqB,CAD+B,CAIzElT,MAAOlV,CAJkE,CAAlE,CAHf,CASFxsB,OAAQ,EATN,CAUFE,MAAO02G,CAVL,CAHI,CAJG,CAAD,CAmBR,CACDr2G,KAAM,UAANA,CAAiB,IAAA,CAAK03B,QAAL,CAAc,SAAd,CAAjB13B,CAA0Co2G,CAAA,CAAcjzG,KAAd,CAAoB6jD,CAAA,CAAK1iD,KAAL,CAAW,CAAX,CAAc0iD,CAAA,CAAKrlD,MAAL,CAAYipC,CAAZ,CAAoBA,CAApB,CAA4B7gB,QAAA,CAASi9B,CAAT,CAAcrlD,MAAd,CAAqB,CAArB,CAA1C,CAAA,CAAmEqR,GAAnE,CAAuE,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAO,CAC7JzC,GAAIyC,CAAA,CAAIknB,KAAJ,EADyJ;AAE7JoL,WAAYtyB,CAAA,CAAIuyB,aAAJ,EAFiJ,CAG7J/uB,MAAOxD,CAAA,CAAI+xC,QAAJ,EAHsJ,CAI7J1mB,IAAK5uB,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+wC,wBAAJ,EAAvB,CAAsD,OAAtD,CAJwJ,CAK7JkjE,OAAQD,CALqJ,CAAR,CAArF,CAApB,CAA1Ct2G,CAME,WANFA,CAOQ,IAAA,CAAK03B,QAAL,CAAc,QAAd,CAPR13B,CAOgCo2G,CAAA,CAAcjzG,KAAd,CAAoB6jD,CAAA,CAAK1iD,KAAL,CAAW,EAAE0iD,CAAA,CAAKrlD,MAAL,CAAYipC,CAAZ,CAAoBA,CAApB,CAA4B7gB,QAAA,CAASi9B,CAAT,CAAcrlD,MAAd,CAAqB,CAArB,CAA9B,CAAX,CAAA,CAAmE2X,OAAnE,EAAA,CAA6EtG,GAA7E,CAAiF,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAO,CACzJzC,GAAIyC,CAAA,CAAIknB,KAAJ,EADqJ,CAEzJoL,WAAYtyB,CAAA,CAAIuyB,aAAJ,EAF6I,CAGzJ/uB,MAAOxD,CAAA,CAAI+xC,QAAJ,EAHkJ,CAIzJ1mB,IAAK5uB,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+wC,wBAAJ,EAAvB,CAAsD,OAAtD,CAJoJ,CAKzJkjE,OAAQD,CALiJ,CAAR,CAA/F,CAApB,CAPhCt2G,CAaM,OAdL,CAnBQ,CAFC,CAAT,CAwCHgnD,EAAA,CAAKnkD,IAAL,CAAU,QAAQ,CAACqzG,CAAD,CAAKC,CAAL,CAAS,CAAC,MAAOA,EAAA,CAAG9gE,0BAAH,EAAP,CAAuC6gE,CAAA,CAAG7gE,0BAAH,EAAxC,CAA3B,CACG4gE,EAAA,CAAKn2G,GAAL,CAAS,CACRslD,IAAK,SADG;AAERxsB,MAAO,CAAC,CACVmoB,OAAQ,MADE,CAEVyI,MAAO,QAFG,CAGVpE,IAAK,SAHK,CAIVxsB,MAAO,CAAC,CACP54B,KAAM,IAAA,CAAK03B,QAAL,CAAc,yBAAd,CADC,CAEP0tB,IAAK,QAFE,CAAD,CAGJ,CACFrlD,MAAO,eADL,CAEFg6B,OAAQ,IAAA,CAAKzQ,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgCK,QAAhC,EAAA,CAA2CjrC,GAA3C,CAA+C,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAOvD,IAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+yC,0BAAJ,EAAvB,CAAwD,KAAxD,CAAR,CAA7D,CAFN,CAGO+6C,OAAQ,IAAIrxF,GAAJ,CAAQ4gD,SAAR,CAAkB,8CAAlB,CAAkE,CACzE0wC,iBAAkBA,QAAQ,CAACjnF,CAAD,CAAW4f,CAAX,CAAgB,CACzC,MAAO,GAAP,CAAWA,CAAX,CAAe,IAAf,CAAoB,IAAA,CAAKmY,KAAL,CAAW7X,SAAX,EAAA,CAAuBC,WAAvB,CAAmCngB,CAAnC,CAAA,CAA6CirC,QAA7C,EADqB,CAD+B,CAIzElT,MAAOlV,CAJkE,CAAlE,CAHf,CASFxsB,OAAQ,EATN,CAUFE,MAAO02G,CAVL,CAHI,CAJG,CAAD,CAmBR,CACDr2G,KAAM,UAANA,CAAiB,IAAA,CAAK03B,QAAL,CAAc,SAAd,CAAjB13B;AAA0Co2G,CAAA,CAAcjzG,KAAd,CAAoB6jD,CAAA,CAAK1iD,KAAL,CAAW,CAAX,CAAc0iD,CAAA,CAAKrlD,MAAL,CAAYipC,CAAZ,CAAoBA,CAApB,CAA4B7gB,QAAA,CAASi9B,CAAT,CAAcrlD,MAAd,CAAqB,CAArB,CAA1C,CAAA,CAAmEqR,GAAnE,CAAuE,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAO,CAC7JzC,GAAIyC,CAAA,CAAIknB,KAAJ,EADyJ,CAE7JoL,WAAYtyB,CAAA,CAAIuyB,aAAJ,EAFiJ,CAG7J/uB,MAAOxD,CAAA,CAAI+xC,QAAJ,EAHsJ,CAI7J1mB,IAAK5uB,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+yC,0BAAJ,EAAvB,CAAwD,KAAxD,CAJwJ,CAK7JkhE,OAAQD,CALqJ,CAAR,CAArF,CAApB,CAA1Ct2G,CAME,WANFA,CAOQ,IAAA,CAAK03B,QAAL,CAAc,QAAd,CAPR13B,CAOgCo2G,CAAA,CAAcjzG,KAAd,CAAoB6jD,CAAA,CAAK1iD,KAAL,CAAW,EAAE0iD,CAAA,CAAKrlD,MAAL,CAAYipC,CAAZ,CAAoBA,CAApB,CAA4B7gB,QAAA,CAASi9B,CAAT,CAAcrlD,MAAd,CAAqB,CAArB,CAA9B,CAAX,CAAA,CAAmE2X,OAAnE,EAAA,CAA6EtG,GAA7E,CAAiF,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAO,CACzJzC,GAAIyC,CAAA,CAAIknB,KAAJ,EADqJ,CAEzJoL,WAAYtyB,CAAA,CAAIuyB,aAAJ,EAF6I,CAGzJ/uB,MAAOxD,CAAA,CAAI+xC,QAAJ,EAHkJ,CAIzJ1mB,IAAK5uB,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+yC,0BAAJ,EAAvB,CAAwD,KAAxD,CAJoJ,CAKzJkhE,OAAQD,CALiJ,CAAR,CAA/F,CAApB,CAPhCt2G,CAaM,OAdL,CAnBQ,CAFC,CAAT,CA/Fe,CAAnB,IAuIC,IADIsC,CACJ,CADU0kD,CAAA,CAAK,CAAL,CACV,CACOivD,CAAA,CAAKn2G,GAAL,CAAS,CACRslD,IAAK,SADG;AAERplD,KAAK,KAALA,CAAW,IAAA,CAAK03B,QAAL,CAAc,aAAd,CAAX13B,CAAwC,OAAxCA,CAAgDjB,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+wC,wBAAJ,EAAvB,CAAsD,OAAtD,CAFxC,CAAT,CAIA,CAAA4iE,CAAA,CAAKn2G,GAAL,CAAS,CACRslD,IAAK,SADG,CAERplD,KAAM,KAANA,CAAY,IAAA,CAAK03B,QAAL,CAAc,yBAAd,CAAZ13B,CAAqD,OAArDA,CAA6DjB,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBv9C,CAAA,CAAI+yC,0BAAJ,EAAvB,CAAwD,KAAxD,CAFrD,CAAT,CAOR4gE,EAAA,CAAKn2G,GAAL,CAAS,CACRE,KAAM,IAAA,CAAK03B,QAAL,CAAc,mBAAd,CADE,CAER0tB,IAAK,SAFG,CAGRllD,UAAW,CACVC,YAAaA,QAAQ,CAAChD,CAAD,CAAY,CAChCA,CAAA,CAAU+oC,IAAV,CAAeja,CAAA,CAAGyL,QAAH,CAAY,SAAZ,CAAf,CACAzL,EAAA,CAAG3C,SAAH,EAAA,CAAe00B,cAAf,EAAA,CAAgCvK,IAAhC,CAAqC,CACpCtjB,OAAQ,CACPya,MAAO3e,CAAA,CAAG5C,WAAH,CAAe,OAAf,CADA,CAEPy6B,SAAU73B,CAAA,CAAG5C,WAAH,CAAe,UAAf,CAFH,CAGP8uB,QAAS,SAHF,CAD4B;AAMpC/V,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EAAe7sB,CAAf,EAAyC,CAAzC,CAA0BA,CAA1B,CAAkCnlB,MAAlC,GACCxE,CAAA,CAAU6yB,MAAV,EACA,CAAAjxB,GAAA,CAAI0C,GAAJ,CAAQgnD,MAAR,CAAe/wC,MAAf,CAAsBva,CAAA,CAAU+mC,WAAV,EAAA,CAAwB0mC,KAAxB,EAAA,CAAgCA,KAAhC,EAAtB,CACQ,CAAA,IAAI7rE,GAAJ,CAAQ4gD,SAAR,CAAkB,kLAAlB,CAAA,EACEx8C,KADF,CACQ2jB,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAACrU,CAAD,CAAO,CACjC,MAAO,CACNkB,GAAIlB,CAAA,CAAK6qB,KAAL,EADE,CAEN7qB,KAAMA,CAAA,CAAKg0C,OAAL,EAFA,CAGNhlB,IAAKhvB,CAAA,CAAKk0C,UAAL,EAHC,CAD0B,CAA3B,CADR,CADR,CAFD,CAD+C,CANZ,CAArC,CAFgC,CADvB,CAHH,CA8BR5xC,MAAO,IA9BC,CAAT,CAiCgB,EAAhB,CAAI+lD,CAAJ,CAASrlD,MAAT,EACIs0G,CAAA,CAAKn2G,GAAL,CAAS,CACRE,KAAM,IAAA,CAAK03B,QAAL,CAAc,kBAAd,CAAN13B,CAAwC,WADhC,CAERolD,IAAK,SAFG,CAGR3gB,OAAQ,kBAHA;AAIRvkC,UAAW,CACVC,YAAaA,QAAQ,CAAChD,CAAD,CAAY,CAChC8uB,CAAA,CAAGuqF,wBAAH,EADgC,CADvB,CAJH,CASRv1G,MAAO,IATC,CAAT,CAnMmB,CAjIO,CAmV/Bu1G,yBAA0BA,QAAQ,EAAG,CACpC,IAAIC,EAA4B,IAAA,CAAKlrF,SAAL,CAAe,kBAAf,CAAhC,CACI21B,EAAOu1D,CAAA,CAA0BvyE,WAA1B,EAAA,CAAwCwyE,UAAxC,CAAmD,IAAnD,CADX,CAEIrtG,EAAQtK,GAAA,CAAI0C,GAAJ,CAAQk1G,KAAR,CAAc/gG,MAAd,CAAqB,eAArB,CAAsCsrC,CAAtC,CAAR73C,CAAoD1H,MAFxD,CAGIi0G,EAAuC7rF,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,sCAAjB,CAAT,CAH3C,CAIItS,EAAQ,IAAA,CAAKuS,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgCK,QAAhC,CAAyC50C,CAAzC,CAAgDA,CAAhD,CAAsDusG,CAAtD,CAA2F,CAA3F,CACZ,IAAI7+F,CAAJ,EAAahY,GAAA,CAAIw9B,OAAJ,CAAYxlB,CAAZ,CAAb,CAAiC,CAChC,IAAI3N,EAAW,EACf2N,EAAA,CAAMQ,OAAN,CAAc,QAAQ,CAACjV,CAAD,CAAM,CAC3B8G,CAAA,CAASrF,IAAT,CAAczB,CAAA,CAAI2xC,QAAJ,EAAd,CAD2B,CAA5B,CAGoB,EAApB,CAAI7qC,CAAJ,CAAazH,MAAb,EACC,IAAA,CAAK2nB,SAAL,EAAA,CAAiBkqB,gBAAjB,EAAA,CAAoCC,IAApC,CAAyC,CACxCmjE,WAAY,CAAA,CAD4B;AAExCzmF,OAAQ,CACP/mB,SAAUA,CADH,CAEP4hE,YAAajhD,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAFN,CAGPuhB,MAAOgrE,CAAPhrE,CAA4C7gB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAHrC,CAIVy6B,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAJA,CAKPxmB,KAAM,OALC,CAMP6sF,IAAK,MANE,CAOPv3C,QAAS,SAPF,CAFgC,CAWxCl3C,MAAO,IAXiC,CAYxCmhC,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAIqT,EAAO,EACX,IAAIrT,CAAJ,EAAe7sB,CAAf,EAA0B/nB,GAAA,CAAIw9B,OAAJ,CAAYzV,CAAZ,CAA1B,CAAgD,CAC/CA,CAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACmkB,CAAD,CAAIp2B,CAAJ,CAAWuxG,CAAX,CAAkB,CACrCn1G,CAAAA,CAAIg6B,CAAA,CAAEuW,WAAF,EACFvwC,EAAN,GAAWslD,EAAX,GAAmBA,CAAA,CAAKtlD,CAAL,CAAnB,CAA2B,EAA3B,CACAslD,EAAA,CAAKtlD,CAAL,CAAA,CAAQqC,IAAR,CAAa,CACZlE,GAAI67B,CAAA,CAAElS,KAAF,EADQ,CAEZpgB,SAAUsyB,CAAA,CAAEuW,WAAF,EAFE,CAGZhpC,KAAMyyB,CAAA,CAAEiX,OAAF,EAHM,CAIZhlB,IAAK5uB,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuBnkB,CAAA,CAAEx4B,GAAF,CAAM,SAAN,CAAvB,CAAwC,OAAxC,CAJO,CAKZF,MAAO04B,CAAA,CAAEx4B,GAAF,CAAM,OAAN,CALK,CAAb,CAHyC,CAA1C,CAaAkG,EAAA,CAASmO,OAAT,CAAiB,QAAQ,CAACjS,CAAD,CAAQ,CAChC,GAAI0hD,CAAA,CAAK1hD,CAAL,CAAJ,CAAiB,CACb,IAAIhD;AAAM,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BjkB,CAA7B,CACV0jB,EAAA,CAAMg+B,CAAA,CAAK1hD,CAAL,CAAN,CAAkB3D,MACf5C,IAAA,CAAI0C,GAAJ,CAAQgnD,MAAR,CAAe/wC,MAAf,CAAsBwpC,CAAtB,CAA4B,CAACvY,IAAK,IAAN,CAAY,eAAgBzD,MAAA,CAAO5/B,CAAP,CAA5B,CAA2CtF,KACtE,6FADsEA,CACwBsC,CAAA,CAAIY,GAAJ,CAAQ,IAAR,CADxBlD,CACsC,IADtCA,CAC2CsC,CAAA,CAAIuyB,aAAJ,EAD3C70B,CAC+D,MAD/DA,CAEtE,IAAA,CAAK03B,QAAL,CAAc,OAAd,CAFsE13B,CAE9C,GAF8CA,CAE1C,CAAA,IAAIjB,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,cAAd,CAAlB,CAAA,EAAiDv0B,KAAjD,CAAuD,CAAC48C,MAAOiH,CAAA,CAAK1hD,CAAL,CAAR,CAAvD,CAF0CtF,CAEmC,GAF9E,CAA5B,CAHU,CADe,CAAjC,CASG,IATH,CAUAy2G,EAAA,CAA0Bv1G,YAA1B,EACA,KAAA8nB,EAAM4sF,CACNkB,UAAA,CAAY,IAAA,CAAKxtF,SAAL,EAAA,CAAiBs0B,YAAjB,EAAA,CAAgCmJ,aAAhC,EAAZ,CAA8D19C,CAA9D,CAAsED,CAAtE,CAA+EzH,MAC/E,IAAc,CAAd,CAAIm1G,SAAJ,CAAiB,CACN9xD,CAAAA,CAAM,IAAIjmD,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,sBAAd,CAAjB,CACb;IAAIyY,EAAOpxC,GAAA,CAAI0C,GAAJ,CAAQgnD,MAAR,CAAe/wC,MAAf,CAAsBwpC,CAAtB,CAA4B,CAACvY,IAAK,IAAN,CAAYyc,IAAK,MAAjB,CAAyBplD,KAAMglD,CAAA,CAAI7hD,KAAJ,CAAU,CAAC6lB,CAAA,CAAI8tF,SAAJ,CAAgBA,SAAhB,CAA4B9tF,CAA7B,CAAiC8tF,SAAjC,CAAV,CAA/B,CAA5B,CAAoH,CAAA,CAApH,CACX3mE,EAAA,CAAKp7B,EAAL,CAAQ,OAAR,CAAiB,QAAQ,EAAG,CAC3Bo7B,CAAA,CAAKp4B,MAAL,EACA,KAAA,CAAKy+F,wBAAL,EAF2B,CAA5B,CAGG,IAHH,CAHa,CA3B8B,CAFD,CAZR,CAAzC,CAN+B,CANG,CAnVN,CAAnC,C,CCJAz3G,GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CACrCyI,OAAQ,iBAD6B,CAErC7H,OAAQ,CAAC,oBAAD,CAF6B,CAGrC4V,MAAO,mBAH8B,CAIlCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAOJ8tB,SAAU,MAPN,CASJ16C,SAAU,CATN,CAWJo7D,MAAO,EAXH,CAaJuyC,WAAY,CAbR,CAHG,CAmBR3+E,MAAO,mBAnBC,CAJyB,CAyBrCl7B,OAAQ,CACJunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CACnCA,MAAO,WAD4B,CAEnC64B,MAAO,CACN74B,MAAO,aADD,CAENse,KAAM,YAFA,CAGNgmB,SAAU,CAHJ,CAINC,SAAU,EAJJ,CAKN1lC,MAAO,CALD,CAMNq6B,WAAY,GANN,CAOND,WAAY,OAPN,CAQNqT,cAAeA,QAAQ,EAAG,CACzB,IAAIlL,EAAQ,IAAA,CAAK1H,EAAL,CAAQ,QAAR,CAAR0H,CAA0BA,KAC9B,KAAA,CAAKpI,UAAL,CAAkBoI,CAAA,CAAMzJ,QAAN,CAAe,IAAf,CAAoBqB,UAApB,CAClB,KAAA,CAAKhkB,EAAL,CAAQ,aAAR;AAAuB,QAAQ,CAAC87B,CAAD,CAAM,CACjC9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CACzBnnC,OAAQuxB,CAAA,CAAIrO,KAAJ,EADiB,CAEzB9jB,KAAMyiB,CAAA,CAAMzJ,QAAN,CAAe,eAAf,CAFmB,CAAjC,CADiC,CAArC,CAMA,KAAA,CAAK3iB,EAAL,CAAQ,eAAR,CAAyB,QAAQ,CAAC87B,CAAD,CAAM,CAC7B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD6B,CAAvC,CAGA,KAAA,CAAKvE,UAAL,CAAgBvjB,SAAhB,CAZyB,CARpB,CAsBNqe,WAAY,YAtBN,CAF4B,CAA3B,CADL,CA4BJi+E,MAAO,EA5BH,CA6BJ3S,KAAM7+F,IAAAA,EA7BF,CAzB6B,CAyDrCyxG,YAAa,GAzDwB,CA2DlC13G,YAAaA,QAAQ,EAAG,CAEvB,IAAA,CAAKs2B,MAAL,CAAY,0BAAZ,CAAA,CAAwCt2B,WAAxC,CAAoD4D,KAApD,CAA0D,IAA1D,CAAgEuX,SAAhE,CACA,KAAA,CAAKxd,MAAL,CAAYunE,OAAZ,CAAoB,CAApB,CAAA,CAAuB1rC,UAAvB,CAAoC,IAAA,CAAKrB,QAAL,CAAc,IAAA,CAAKx6B,MAAL,CAAYunE,OAAZ,CAAoB,CAApB,CAAd,CAAqC1rC,UAArC,CACpCh6B,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ;AAElB13B,KAAM,4CAFY,CAGf8yD,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACP74B,MAAO,OADA,CAEP0kC,OAAQ,QAFD,CAGP5L,UAAW,OAHJ,CAIPK,aAAc,MAJP,CAKPC,WAAY,MALL,CAMPx5B,MAAO,EANA,CAOPwkE,UAAW,IAAA,CAAKzsC,QAAL,CAAc,QAAd,CAPJ,CAQP6zC,eAAgB,CAAA,CART,CASPnC,SAAU,CAAA,CATH,CAAD,CAUL,CACJrpE,MAAO,wBADH,CAEJknD,aAAc,CAAA,CAFV,CAVK,CAaR,CACVlnD,MAAO,QADG,CAEVg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,OAAd,CAFF,CAGVsB,WAAY,OAHF,CAIVC,WAAY,EAJF,CAKVt5B,MAAO,GALG,CAMV4kC,UAAW,CAND,CAOVF,SAAU,CAPA,CAQVC,SAAU,GARA,CASV1lC,MAAO,EATG,CAUVsB,UAAW,CACE6vD,OAAQA,QAAQ,CAAClf,CAAD,CAAM,CACrBA,CAAA,CAAI5L,QAAJ,CAAalb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAb,CACHtqB;GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQuxB,CAAA,CAAIrO,KAAJ,EADwB,CAEzB9jB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAFmB,CAAjC,CAFwB,CADxB,CASEktC,cAAeA,QAAQ,CAAC/zB,CAAD,CAAM,CAC5B9xC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmC7V,CAAA,CAAIrO,KAAJ,EAAnC,CAD4B,CAT/B,CAYKuC,eAAgBA,QAAQ,CAAC8L,CAAD,CAAMljB,CAAN,CAAW,CAClC,IAAA,CAAK8I,WAAL,CAAiB,OAAjB,CAA0B9I,CAA1B,CACA,KAAA,CAAKupF,SAAL,CAAuB,CAAvB,GAAiBvpF,CACjB,KAAA,CAAKxP,IAAL,EAHkC,CAZxC,CAiBKld,MAAO,IAjBZ,CAVD,CAbQ,CA0CjB,CAAClB,MAAO,QAAR,CA1CiB,CA0CE,CACjBA,MAAO,QADU,CAEjBC,KAAM,IAAA,CAAK03B,QAAL,CAAc,YAAd,CAFW,CA1CF,CAJH,CAAD,CAHE,CAAhB,CAuDG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,UAAR,CAAoB,QAAQ,CAAC87B,CAAD,CAAM,CACpC,IAAItyC,EAAS,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CACV;IAAA,CAAKhmB,IAAL,CAAU5f,CAAV,CAEAA,EAAA,CAAOkC,gBAAP,CAAwB,WAAxB,CAAqC,QAAQ,CAACwzD,CAAD,CAAM,CAClD,GAAIpjB,CAAJ,CAAQ0C,aAAR,CAAuB,CAAA,IACfpM,EAAO5oC,CAAA,CAAOy/D,qBAAP,EADQ,CACwBh6D,EAAKiwD,CAALjwD,CAAS+/F,OAAT//F,CAAmBmjC,CAAnBnjC,CAAwBwS,IADhD,CACsDtN,EAAI+qD,CAAJ/qD,CAAQ86F,OAAR96F,CAAkBi+B,CAAlBj+B,CAAuBmO,GAD7E,CAGfnY,EAAe,EACnB2xC,EAAA,CAAI0C,aAAJ,CAAkBruC,IAAlB,CAAuB,QAAQ,CAACigE,CAAD,CAAe,CAAA,IACzCl2C,EAAKk2C,CAAA,CAAajiE,GAAb,CAAiB,GAAjB,CADoC,CACbkiG,EAAKjgC,CAAA,CAAajiE,GAAb,CAAiB,GAAjB,CACrC,IAAI+rB,CAAJ,CAAOjrB,CAAP,CAAS,EAAT,EAAeirB,CAAf,CAAkBjrB,CAAlB,CAAoB,EAApB,EAA0BohG,CAA1B,CAA6Bl8F,CAA7B,CAA+B,EAA/B,EAAqCk8F,CAArC,CAAwCl8F,CAAxC,CAA0C,EAA1C,CAEC,MADAhK,EAAA,CAAaimE,CAAA,CAAaxyB,OAAb,EAAb,CACO,CADgC,CAAA,CAChC,CAAA,CAAA,CAJqC,CAA9C,CASA,IAAgD,CAAhD,EAAItgC,MAAA,CAAOC,IAAP,CAAYu+B,CAAZ,CAAgB3xC,YAAhB,EAAgC,EAAhC,CAAJ,CAAwCyC,MAAxC,EAAuF,CAAvF,EAAqD0Q,MAAA,CAAOC,IAAP,CAAYpT,CAAZ,CAArD,CAA+EyC,MAA/E,CAEAkvC,CACA,CADI3xC,YACJ,CADmBA,CACnB,CAAA2xC,CAAA,CAAI1yB,IAAJ,CAAS5f,CAAT,CAhBmB,CAD2B,CAAnD,CAoBQ,CAAA,CApBR,CAJiC,CAAlC,CA2BA,KAAA,CAAKwW,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAChD,IAAA,CAAKswC,YAAL,EADgD,CAA9C,CAEG,IAFH,CAIA,KAAA,CAAKjwD,EAAL,CAAQ,kBAAR,CAA4B,QAAQ,CAACgzB,CAAD,CAAMzlC,CAAN,CAAW,CAC9C,IAAA,CAAKm0B,WAAL,CAAiB,UAAjB;AAA6B,IAAA,CAAKnN,SAAL,EAAA,CAAiBC,WAAjB,CAA6BjnB,CAA7B,CAAA,CAAkC2xC,QAAlC,EAA7B,CACA,KAAA,CAAK+wB,YAAL,EAF8C,CAA/C,CAKA,KAAA,CAAKjwD,EAAL,CAAQ,QAAR,CAAkB,QAAQ,EAAG,CAAA,IAE/BoiG,EAAiB,IAAA,CAAKjzE,WAAL,EAAA,CAAmBtkC,QAAnB,EAAjBu3G,CADgBxU,EAChBwU,CADgBxU,EADe,CAG/ByU,EAAkB,IAAA,CAAKlzE,WAAL,EAAA,CAAmBxkC,SAAnB,EAAlB03G,CAFgBzU,EAEhByU,CAFgBzU,EADe,CAI/B0B,EAAO1/F,IAAA,CAAKM,GAAL,CAASkyG,CAAT,CAAyBC,CAAzB,CAJwB,CAImB1S,EAAML,CAANK,CAAY,CAJ/B,CAK/Bh0F,EAAQ/L,IAAA,CAAKgM,GAAL,CAASwmG,CAAT,CAAyBC,CAAzB,CAAR1mG,CAAoD2zF,CALrB,CAM/B9lG,EAAS,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CAET5lC,EAAA,CAAOoB,KAAP,CAAe,IAAA,CAAKukC,WAAL,EAAA,CAAmBtkC,QAAnB,EACfrB,EAAA,CAAOkB,MAAP,CAAgB,IAAA,CAAKykC,WAAL,EAAA,CAAmBxkC,SAAnB,EAChB,KAAA,CAAK23G,OAAL,CAAahT,CAAb,CACA,KAAA,CAAKiT,QAAL,CAAc,EAAd,CAEA,KADI51G,CACJ,CADQqoB,QAAA,CAAc,GAAd,CAASs6E,CAAT,CACR,CAAO,IAAA,CAAKkT,QAAL,EAAP,CAAuB51G,MAAvB,CAA8B0iG,CAA9B,CAAA,CACI,IAAA,CAAKkT,QAAL,EAAA,CAAgBxzG,IAAhB,CAAqB,CACpBC,EAdW2+F,EAcX3+F,CAAYmzG,CAAZnzG,CAA2B,CAA3BA,CAA+B0gG,CAA/B1gG,EAAsCmzG,CAAA,CAAeC,CAAf,CAAiC,CAAjC,CAAqC1mG,CAA3E1M,EAAoFW,IAAA,CAAKuL,GAAL,CAAS,CAAT,CAAavL,IAAb,CAAkBoD,EAAlB,CAAuBrG,CAAvB,CAA2B2iG,CAA3B,CADhE,CAEpBn7F,EAfWy5F,EAeXz5F,CAAYkuG,CAAZluG,CAA4B,CAA5BA,CAAgCw7F,CAAhCx7F;CAAuCkuG,CAAA,CAAgBD,CAAhB,CAAiC,CAAjC,CAAqCzmG,CAA5ExH,EAAqFvE,IAAA,CAAKwL,GAAL,CAAS,CAAT,CAAaxL,IAAb,CAAkBoD,EAAlB,CAAuBrG,CAAvB,CAA2B2iG,CAA3B,CAFjE,CAArB,CAIA,CAAI3iG,CAAA,EAAJ,EAAS2iG,CAAT,GAAgB3iG,CAAhB,CAAkB,CAAlB,CAlB2B,CAA7B,CAlGuB,CA3DU,CAsLlCyc,KAAMA,QAAQ,CAAC5f,CAAD,CAASD,CAAT,CAAc,CAC3BC,CAAA,CAASA,CAAT,EAAoB,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CACpB7lC,EAAA,CAAMA,CAAN,EAAaC,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CACblC,EAAA,CAAIwiG,SAAJ,CAAc,CAAd,CAAgB,CAAhB,CAAkBviG,CAAlB,CAAyBoB,KAAzB,CAA+BpB,CAA/B,CAAsCkB,MAAtC,CACHnB,EAAA,CAAI8I,SAAJ,CAAgB,gBACb,KAAA,CAAKmwG,QAAL,EAAA,CAAgBhgG,OAAhB,CAAwB,QAAQ,CAAC4K,CAAD,CAAGzgB,CAAH,CAAM,CAC5B,CAAT,EAAIA,CAAJ,CAAM,CAAN,EACIpD,CAAA,CAAIgL,QAAJ,CAAa6Y,CAAb,CAAene,CAAf,CAAiB,CAAjB,CAAmBme,CAAnB,CAAqBjZ,CAArB,CAAuB,EAAvB,CAA0B,CAA1B,CAFiC,CAAtC,CAKA,IAAI,IAAJ,CAASqqC,aAAT,GACI,IAAA,CAAKikE,SAAL,CAAej5G,CAAf,CAAuBD,CAAvB,CAEI44G,CADJ,IAAA,CAAKO,WAAL,CAAiBl5G,CAAjB,CAAwBD,CAAxB,CACI44G,CAAA,IAAAA,CAAKA,SAHb,EAGwB,CACnB,IAAIjrF,EAAK,IACTvlB,WAAA,CAAW,QAAQ,EAAG,CACrBulB,CAAA,CAAG9N,IAAH,EADqB,CAAtB,CAEG,EAFH,CAFmB,CAbG,CAtLM,CA4MlCs5F,YAAaA,QAAQ,CAACl5G,CAAD,CAASD,CAAT,CAAc,CAClCA,CAAA,CAAMA,CAAN,EAAa,IAAA,CAAK4lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CAAA,CAA+C3jC,UAA/C,CAA0D,IAA1D,CACb;IAAI+tD,EAAQ,GAARA,CAAkD,IAAlDA,CAAcxkC,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAdklC,CAAuD,GAC3D,IAAI,IAAJ,CAAS2oD,SAAT,EAAsB,IAAtB,CAA2B3jE,aAA3B,CAA0C,CACzC,IAAImkE,EAAU3tF,QAAA,CAAS,IAAT,CAAc4tF,YAAd,CAA6B,IAAA,CAAKJ,QAAL,EAA7B,CAA6C51G,MAA7C,CAAsD,IAAtD,CAA2Di2G,SAA3D,CACdt5G,EAAA,CAAI8I,SAAJ,CAAgB,QAChB9I,EAAA,CAAIgL,QAAJ,CAAa,IAAA,CAAKiuG,QAAL,EAAA,CAAgBG,CAAhB,CAAb,CAAsC1zG,CAAtC,CAAwC,IAAA,CAAKuzG,QAAL,EAAA,CAAgBG,CAAhB,CAAxC,CAAiExuG,CAAjE,CAAoE,CAApE,CAAuE,CAAvE,CACH,KAAI0hE,EAAiCplE,IAAAA,EAAjColE,EAAQ,IAARA,CAAaitC,gBACjB,KAAA,CAAKA,gBAAL,CAAwB,IAAxB,CAA6BA,gBAA7B,EAAiD,CAAA,IAAI5rG,IAAJ,EAAWC,OAAX,EAC7C06F,EAAAA,CAAQ,IAARA,CAAaiR,gBAAbjR,CAA8Br4C,CAA9Bq4C,CAAoC,CAAA,IAAI36F,IAAJ,EAAWC,OAAX,EACrC,IAAI,IAAJ,CAAS4rG,UAAT,EAAuB,IAAvB,CAA4BC,UAA5B,CAAwC,CAEvC,GAAIntC,CAAJ,EAAoB,CAApB,EAAag8B,CAAb,CAAuB,CACtB,IAAA,CAAKoR,eAAL,CAAuB,IAAvB,CAA4BA,eAA5B,EAA+C,EACxCC,EAAAA,CAAK,IAAA,CAAKH,UAAL,CAAgB50G,GAAhB,CAAoB,GAApB,CAFU;IAEgBg1G,EAAK,IAAA,CAAKJ,UAAL,CAAgB50G,GAAhB,CAAoB,GAApB,CAFrB,CAE+Ci1G,EAAK,IAAA,CAAKJ,UAAL,CAAgB70G,GAAhB,CAAoB,GAApB,CAFpD,CAE8Ek1G,EAAK,IAAA,CAAKL,UAAL,CAAgB70G,GAAhB,CAAoB,GAApB,CACnG,KAAA,CAAKm1G,YAAL,EAAoB,IAAA,CAAKA,YAAL,CAAkBn1G,GAAlB,CAAsB,GAAtB,CAAsC,KAAA,CAAKm1G,YAAL,EAAoB,IAAA,CAAKA,YAAL,CAAkBn1G,GAAlB,CAAsB,GAAtB,CAH9D,KAMPo1G,EAAK3zG,IAAA,CAAKM,GAAL,CAFXmF,GAEW,CAAkC,EAAlC,CAAgBzF,IAAA,CAAKwI,GAAL,CAAS8qG,CAAT,CAAYE,CAAZ,CAAhB,CANE,CAMqCI,EAAK5zG,IAAA,CAAKM,GAAL,CAFvDmF,GAEuD,CAAkC,EAAlC,CAAgBzF,IAAA,CAAKwI,GAAL,CAAS+qG,CAAT,CAAYE,CAAZ,CAAhB,CAGhE,KAAA,CAAKJ,eAAL,CAAqBz+F,OAArB,CAA6B,CAAC0+F,CAAD,CAAIC,CAAJ,CAFrBD,CAAAO,CAAKL,CAALK,CAAUP,CAAVO,CAAeF,CAAfE,CAAoBP,CAApBO,CAAyBF,CAEJ,CADrBF,CAAAK,CAAKP,CAALO,CAAUP,CAAVO,CAAeF,CAAfE,CAAoBP,CAApBO,CAAyBF,CACJ,CAAaJ,CAAb,CAAgBC,CAAhB,CAA7B,CAVaM,GAWb,CAAI,IAAJ,CAASV,eAAT,CAAyBr2G,MAAzB,EAA0C,IAAA,CAAKq2G,eAAL,CAAqB96E,GAArB,EAVpB,CAavB,IAASx7B,CAAT,CAAW,CAAX,CAAcA,CAAd,CAAgB,IAAhB,CAAqBs2G,eAArB,CAAqCr2G,MAArC,CAA6CD,CAAA,EAA7C,CACIpD,CAGG,CAHCkJ,WAGD,CAHa,eAGb,EAH8B,CAG9B,CAHmC,EAGnC,CAHiC9F,CAGjC,EAHwC,GAGxC,CAAA,IAAA,CAAKi3G,eAAL,CAAqBx1G,KAArB,CAA2B,IAA3B,CAAiCpE,GAAA,CAAIu9B,KAAJ,CAAUvd,KAAV,CAAgB,CAACzgB,CAAD,CAAhB;AAAuB,IAAA,CAAK05G,eAAL,CAAqBt2G,CAArB,CAAvB,CAAgD,CAF3EA,CAAAuN,CAAE,CAAFA,EAAO,IAAPA,CAAY+oG,eAAZ/oG,CAA4BtN,MAA5BsN,CAAqC,CAArCA,CAAwC23F,CAAxC33F,CAA8Cs/C,CAA9Ct/C,CAAuD,CAEoB,CAAhD,CAAyD,CADnF,CAAH05E,EAAAjnF,CAAAinF,CAAO,CAAPA,CAAUie,CAAVje,CAAgBp6B,CAAhBo6B,CAAyB,CAC6D,CAAzD,CAAjC,CAEI,EAAX,EAAIie,CAAJ,GACI,IACA,CADKiR,gBACL,CADwBryG,IAAAA,EACxB,CAAA,IAAA,CAAKoyC,IAAL,EAFJ,CArBuC,CA0BpCghE,CAAAA,CAAmB,IAAnBA,CAAwBjB,YAAxBiB,CAAqC,CACzC,KAAS5vF,CAAT,CAAa,IAAA,CAAK6qB,MAAL,CAAY/pC,QAAZ,EAAb,CAAqC8uG,CAArC,CAAsD5vF,CAAtD,EACK,IAAA,CAAK6qB,MAAL,CAAY+E,KAAZ,CAAkBggE,CAAlB,CAAA,CAAoCjmE,OAApC,EAAA,CAA8CvxB,WAA9C,EADL,EACkE,IAAA,CAAK22F,UAAL,CAAgBplE,OAAhB,EADlE,CAA2DimE,CAAA,EAA3D,EAKIC,CAAAA,CAAoBD,CAApBC,CAAqC9uF,QAAA,CAAS68E,CAAT,EAAgBgS,CAAhB,CAAiC,IAAjC,CAAsCjB,YAAtC,EAAoDppD,CAApD,CACzC,KADqGllD,CACrG,CAD6G,IAAA,CAAKwqC,MAAL,CAAY/pC,QAAZ,EAC7G,CAAO+uG,CAAP,CAAyBD,CAAzB,EACK,EAAAC,CAAA,CAAoBxvG,CAApB,EAA6B,IAAA,CAAKwqC,MAAL,CAAY+E,KAAZ,CAAkBigE,CAAlB,CAAA,CAAqChiE,MAArC,EAA7B,CADL,CAA2CgiE,CAAA,EAA3C,EAKIhlE,CAAAA,CAAS,IAAA,CAAKA,MAAL,CAAYoK,QAAZ,CAAqB46D,CAArB,CAAwC7vF,CAAxC,CAA4CrkB,IAAA,CAAKgM,GAAL,CAAS,IAAT,CAAcgnG,YAAd,CAA2B,EAA3B,CAA+B,IAAA,CAAK9jE,MAAL,CAAY/pC,QAAZ,EAA/B,CAA5C,CAAA,CAAoGkJ,GAApG,CAAwG,QAAQ,CAACuP,CAAD,CAAQ,CACpI,MAAOA,EAAA,CAAMowB,OAAN,EAD6H,CAAxH,CAGbr0C;CAAA,CAAI2H,IAAJ,CAAW,iBACX3H,EAAA,CAAI8I,SAAJ,CAAgB,gBACb9I,EAAA,CAAIukC,SAAJ,CAAgB,MACnBvkC,EAAA,CAAI+I,QAAJ,CAAawsC,CAAA,CAAOtrC,IAAP,CAAY,EAAZ,CAAb,CAA8BhK,CAA9B,CAAqCoB,KAArC,CAA2C,CAA3C,CAA8CpB,CAA9C,CAAqDkB,MAArD,CAA4D,CAA5D,CACAnB,EAAA,CAAIwiG,SAAJ,CAA2B,GAA3B,CAAcviG,CAAd,CAAqBoB,KAArB,CAAgCpB,CAAhC,CAAuCkB,MAAvC,CAA8C,EAA9C,CAAkDlB,CAAlD,CAAyDoB,KAAzD,CAAgE,EAAhE,CApDyC,CAA1C,IAqDW,KAAJ,CAAS4zC,aAAT,EAA0B,IAAA,CAAKA,aAAL,CAAmBzpC,QAAnB,EAA1B,CAAwD,IAAA,CAAKypC,aAAL,CAAmBwT,aAAnB,EAAxD,GACF/iD,CAIJ,CAJQzF,CAIR,CAJeoB,KAIf,CAJuB,CAIvB,CAHArB,CAGA,CAHIkJ,WAGJ,CAHgB,gBAGhB,CAFAlJ,CAEA,CAFI8I,SAEJ,CAFgB,gBAEhB,CADA9I,CAAA,CAAIiL,UAAJ,CAAevF,CAAf,CAAiBzF,CAAjB,CAAwBkB,MAAxB,CAA+B,EAA/B,CAAoC,CAApC,CAAkCuE,CAAlC,CAAsC,EAAtC,CACA,CAAA1F,CAAA,CAAIgL,QAAJ,CAAatF,CAAb,CAAezF,CAAf,CAAsBkB,MAAtB,CAA6B,EAA7B,CAAiC,IAAA,CAAK8zC,aAAL,CAAmBzpC,QAAnB,EAAjC,CAA+D9F,CAA/D,CAAiE,CAAjE,CAAoE,IAAA,CAAKuvC,aAAL,CAAmBwT,aAAnB,EAApE,CAAuG,EAAvG,CALM,CAxD2B,CA5MD,CA6QlCywD,UAAWA,QAAQ,CAACj5G,CAAD,CAASD,CAAT,CAAc,CAChCC,CAAA,CAASA,CAAT,EAAmB,IAAA,CAAK2lC,WAAL,EAAA,CAAmBziC,GAAnB,CAAuB0iC,aAAvB,CAAqC,QAArC,CACnB7lC;CAAA,CAAMA,CAAN,EAAaC,CAAA,CAAOiC,UAAP,CAAkB,IAAlB,CACblC,EAAA,CAAIukC,SAAJ,CAAgB,QACZ,KAAJ,CAAS0Q,aAAT,EAAmD,CAAnD,CAA0B,IAAA,CAAKgkE,QAAL,EAA1B,CAA0C51G,MAA1C,EACC,IAAA,CAAK4xC,aAAL,CAAmBruC,IAAnB,CAAwB,QAAQ,CAACigE,CAAD,CAAe,CAAA,IAC/BlhE,EAAOkhE,CAAA,CAAatyB,UAAb,EADwB,CACGl0C,EAAOwmE,CAAA,CAAaxyB,OAAb,EADV,CAE7C3uC,EAAImhE,CAAA,CAAajiE,GAAb,CAAiB,GAAjB,CAFyC,CAElBgG,EAAIi8D,CAAA,CAAajiE,GAAb,CAAiB,GAAjB,CAChC41G,cAAA,CAFS7sF,IAET,CAAmB/sB,YAAnB,EAAoCP,CAApC,GAFSstB,KAET,CAA+C/sB,YAC/C65G,cAAA,CAAgB,IAAhB,CAAqBjB,UAArB,EAAmC,IAAA,CAAKA,UAAL,CAAgBnlE,OAAhB,EAAnC,EAAgEh0C,CAC7DL,EAAA,CAAI2H,IAAJ,CAA0C,EAA1C,CAA6B1H,CAA7B,CAAoCoB,KAApC,CAA6C,GAA7C,CAAagF,IAAA,CAAKC,GAAL,CAASX,CAAT,CAAb,CAAkDU,IAAA,CAAKC,GAAL,CAAS,IAAT,CAAco0G,UAAd,CAAlD,EAA8EF,aAAA,EAAiBC,aAAjB,CAAiC,EAAjC,CAAsC,CAApH,EAA0H,eAEzHz6G,EAAA,CAAI8I,SAAJ,CADG0xG,aAAJ,CACiB,KADjB,CAEWC,aAAJ,CACU,MADV,CAGU,aAHV,EAG+B,EAH/B,CAG0B90G,CAH1B,CAGkC,IAHlC,CAGuC+0G,UAHvC;AAGmD,EAHnD,EAGuD,GAE9D,IAAIF,aAAJ,EAAqBC,aAArB,CACCz6G,CACA,CADIkJ,WACJ,CADkBsxG,aAAA,CAAgB,kBAAhB,CAAqC,kBACvD,CAAA3zC,CAAA,CAAajyB,gBAAb,EAAA,CAAgC37B,OAAhC,CAAwC,QAAQ,CAACzT,CAAD,CAAIpC,CAAJ,CAAO,CAChD,CAAN,CAAIoC,CAAJ,EAAW,IAAA,CAAKyzG,QAAL,EAAA,CAAgB71G,CAAhB,CAAX,GACCpD,CAAA,CAAIoJ,SAAJ,EAGA,CAFApJ,CAAA,CAAIqJ,MAAJ,CAAW3D,CAAX,CAAckF,CAAd,CAEA,CADA5K,CAAA,CAAIsJ,MAAJ,CAAW,IAAA,CAAK2vG,QAAL,EAAA,CAAgB71G,CAAhB,CAAX,CAA8BsC,CAA9B,CAAgC,IAAA,CAAKuzG,QAAL,EAAA,CAAgB71G,CAAhB,CAAhC,CAAmDwH,CAAnD,CACA,CAAA5K,CAAA,CAAIuJ,MAAJ,EAJD,CADsD,CAAvD,CAOG,IAPH,CASJvJ,EAAA,CAAI+I,QAAJ,CAAa1I,CAAb,CAAmBqF,CAAnB,CAAsBkF,CAAtB,CAxB8C,CAA/C,CA0BG,IA1BH,CAL+B,CA7QC,CAgTlC0uC,KAAMA,QAAQ,CAACtyC,CAAD,CAAQ,CACjBvG,GAAA,CAAIwwC,QAAJ,CAAajqC,CAAb,CAAJ,CAA0B,IAA1B,CAA+BqyG,YAA/B,CAA4CryG,CAA5C,CACM,IAAA,CAAKqyG,YAAL,EACF,KAAJ,CAASG,UAAT,GAAsB,IAAtB,CAA2BO,YAA3B,CAAwC,IAAxC,CAA6CP,UAA7C,CACSp2G,EAAAA,CAAE,IAAFA,CAAOi2G,YAAhB,KAAK,IAAyB3uF,EAAM,IAAA,CAAK6qB,MAAL,CAAY/pC,QAAZ,EAApC,CAA4DpI,CAA5D,CAA8DsnB,CAA9D,CAAmEtnB,CAAA,EAAnE,CAAwE,CAAA,IACnE6gB,EAAQ,IAAA,CAAKsxB,MAAL,CAAY+E,KAAZ,CAAkBl3C,CAAlB,CAAsB/C;CAAAA,CAAO4jB,CAAA,CAAMowB,OAAN,EAAA,CAAgBvxB,WAAhB,EACzC,IAAIziB,CAAJ,GAAY,KAAZ,CAAiBs6G,QAAjB,GACC,IACI,CADCnB,UACD,CADc,IAAA,CAAKmB,QAAL,CAAct6G,CAAd,CACd,CAA8B,CAA9B,EAAA,IAAA,CAAKm5G,UAAL,CAAgBjlE,UAAhB,EAFL,EAEsC,CACjC,IAAA,CAAK8kE,YAAL,CAAoBj2G,CACpB,MAFiC,CAJiC,CAU/DA,CAdY,CAcV,IAdU,CAcLi2G,YAdK,CAcQ,CAA7B,KAAgC3uF,CAAhC,CAAsC,IAAA,CAAK6qB,MAAL,CAAY/pC,QAAZ,EAAtC,CAA8DpI,CAA9D,CAAgEsnB,CAAhE,EAEK,EADAzG,CACA,CADQ,IAAA,CAAKsxB,MAAL,CAAY+E,KAAZ,CAAkBl3C,CAAlB,CACR,CAD8B/C,CAC9B,CADqC4jB,CAAA,CAAMowB,OAAN,EAAA,CAAgBvxB,WAAhB,EACrC,CAAAziB,CAAA,GAAQ,KAAR,CAAas6G,QAAb,GACH,IACI,CADClB,UACD,CADc,IAAA,CAAKkB,QAAL,CAAct6G,CAAd,CACd,CAA8B,CAA9B,EAAA,IAAA,CAAKo5G,UAAL,CAAgBllE,UAAhB,EAFD,CAAA,CAFL,CAAqEnxC,CAAA,EAArE,EASI,CAAC,IAAD,CAAMw3G,aAAV,EAA2B,IAAA,CAAKrlE,MAAL,CAAY/pC,QAAZ,EAA3B,CAAkD,IAAlD,CAAuD6tG,YAAvD,CAAoE,IAApE,CAAyEV,WAAzE,EACC,IAAA,CAAKkC,eAAL,EAED,KAAA,CAAKh7F,IAAL,EA1BqB,CAhTY,CA8UlC6mD,aAAcA,QAAQ,EAAG,CACpB,IAAJ,CAASzxB,aAAT;CAAyB,IAAA,CAAKA,aAAL,CAAmBic,OAAnB,EAA6B,CAAA,IAAA,CAAKjc,aAAL,CAAmB/tC,IAAAA,EAAzE,CACA,KAAA,CAAKyzG,QAAL,CAAgB,EAChB,KAAA,CAAK96F,IAAL,EACA,KAAI7b,EAAO,IAAA,CAAKgnB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BQ,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,UAAjB,CAAT,CAA7B,CAEN,KAAA,CAAKoQ,EAAL,CAAQ,UAAR,CAAL,EACI,IAAA,CAAKipC,QAAL,CAAc,IAAA,CAAKhrC,QAAL,CAAc,OAAd,CAAd,CAAuC,0BAAvC,CAAkEp1B,CAAA,CAAI4xC,YAAJ,EAAlE,CAAqF,SAArF,CAEJ,KAAA,CAAK0jE,SAAL,CAAiB7tF,QAAA,CAASznB,CAAA,CAAIY,GAAJ,CAAQ,8BAAR,CAAT,CACjB,KAAA,CAAKqwC,aAAL,CAAqBjxC,CAAA,CAAIkxC,gBAAJ,CAAqB,CACzCO,MAAO,CACNC,YAAa,CACZ8P,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CADE,CAEZ9lB,KAAM,IAAA,CAAK61G,OAAL,EAFM,CAGZngE,kBAAmB,KAHP,CAIZ89D,WAAYhtF,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,YAAjB,CAAT,CAJA,CADP,CADkC,CAArB,CAUjB1P;CAAAA,CAAS,IAAA,CAAK4R,SAAL,CAAe,QAAf,CACb5R,EAAA,CAAOqwD,WAAP,CAAmB,CAAA,CAAnB,CACArwD,EAAA,CAAOktC,QAAP,CAAgB,IAAhB,CAAqBtT,aAArB,CACA,KAAA,CAAK8lE,sBAAL,EAvBwB,CA9US,CAwWlCA,uBAAwBA,QAAQ,EAAG,CAC7B,IAAL,CAAU9lE,aAAV,CACA,IAAA,CAAKA,aAAL,CAAmBE,IAAnB,CAAwB,CACvBtjB,OAAQ,CACPlhB,MAAO,IAAA,CAAKskC,aAAL,CAAmBzpC,QAAnB,EADA,CAEP8gC,MAAwC,CAAjC,EAAA,IAAA,CAAK2I,aAAL,CAAmBzpC,QAAnB,EAAA,CAAqC,EAArC,CAA0C,GAF1C,CADe,CAKvBs4B,SAAUA,QAAQ,CAACtb,CAAD,CAAU,CACR,CAAnB,CAAIA,CAAJ,CAAYnlB,MAAZ,EACO,IAWN,CAXWq3G,UAWX,CAXwB,IAAA,CAAKzlE,aAAL,CAAmBtuC,GAAnB,CAAuB,SAAvB,CAWxB,CAVM6hB,CAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAAC4tD,CAAD,CAAe,CACtC,IAAInhE,EAAIkF,CAAJlF,CAAQ,CACZmhE,EAAA,CAAajiE,GAAb,CAAiB,eAAjB,CAAA,CAAkCqU,OAAlC,CAA0C,QAAQ,CAACzT,CAAD,CAAIpC,CAAJ,CAAO,CACxDsC,CAAA,EAAM,IAAA,CAAKuzG,QAAL,EAAA,CAAgB71G,CAAhB,CAAN,CAAyBsC,CAAzB,CAA2BF,CAC3BoF,EAAA,EAAM,IAAA,CAAKquG,QAAL,EAAA,CAAgB71G,CAAhB,CAAN,CAAyBwH,CAAzB,CAA2BpF,CAF6B,CAAzD,CAGG,IAHH,CAIAqhE,EAAA,CAAa9yC,GAAb,CAAiB,GAAjB;AAAsBruB,CAAtB,CAAwBmhE,CAAA,CAAatyB,UAAb,EAAxB,CACAsyB,EAAA,CAAa9yC,GAAb,CAAiB,GAAjB,CAAsBnpB,CAAtB,CAAwBi8D,CAAA,CAAatyB,UAAb,EAAxB,CAPsC,CAAvC,CAQG,IARH,CAUN,CADA9zC,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,IAAnB,CAAwB87D,sBAAxB,CAAgD,CAAhD,CAAmD,IAAnD,CACA,CAAA,IAAA,CAAKl7F,IAAL,EAZD,GAcC,IAAA,CAAKoN,SAAL,CAAe,QAAf,CAAA,CAAyBy+C,WAAzB,CAAqC,CAAA,CAArC,CAMA,CALA,IAKA,CALKivC,QAKL,CALgB,EAKhB,CAJA,IAAA,CAAK1lE,aAAL,CAAmBruC,IAAnB,CAAwB,QAAQ,CAACigE,CAAD,CAAe,CAC9C,IAAA,CAAK8zC,QAAL,CAAc9zC,CAAA,CAAaxyB,OAAb,EAAd,CAAA,CAAwCwyB,CADM,CAA/C,CAEG,IAFH,CAIA,CADI,IACJ,CADStxB,MACT,EADkB,IAAA,CAAKA,MAAL,CAAYzI,SAAZ,CAAsB,CAAA,CAAtB,CAClB,CAAA,IAAA,CAAK+tE,eAAL,EApBD,CAD2B,CALL,CA6BvBvC,WAAY,CAAA,CA7BW,CA8BvB31G,MAAO,IA9BgB,CAAxB,CADA,CAA0B,IAAA,CAAK+jE,YAAL,EADQ,CAxWD,CA4YlCm0C,gBAAiBA,QAAQ,EAAG,CAC9B,GAAI,CAAC,IAAD,CAAMtlE,MAAV,CACC,IAOA,CAPKA,MAOL,CAPc,IAAA,CAAKvqB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BQ,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,UAAjB,CAAT,CAA7B,CAAA,CAAqEyqB,SAArE,CAA+E,CAC5FC,MAAO,CACNC,YAAa,CACT+2B,UAAW,KADF,CADP,CADqF,CAA/E,CAOd;AAAA,IAAA,CAAKuuC,YAAL,CAAoB,CAAA,CARrB,KASO,IAAI,IAAJ,CAASA,YAAT,CAAwB,MAE/B,KAAI1uC,EAAkC,CAAlCA,EAAQ,IAAA,CAAK/2B,MAAL,CAAY/pC,QAAZ,EACZ,KAAA,CAAKovG,aAAL,CAAqB,CAAA,CACrB,KAAI10C,EAAQz6C,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CACT,KAAA,CAAKwqB,MAAL,CAAYJ,IAAZ,CAAiB,CAChBtjB,OAAQ,CACPlhB,MAAO,IAAA,CAAK4kC,MAAL,CAAY/pC,QAAZ,EADA,CAEP8gC,MAAc,EAAP,EAAA45B,CAAA,EAAaoG,CAAb,CAAqB,GAArB,CAA2BjmE,IAAA,CAAKksE,GAAL,CAAS,GAAT,CAAarM,CAAb,CAAoB,CAApB,CAF3B,CADQ,CAKhBpiC,SAAUA,QAAQ,CAACtb,CAAD,CAAU,CAC3B,IAAA,CAAKoyF,aAAL,CAAqB,CAAA,CACF,EAAnB,CAAIpyF,CAAJ,CAAYnlB,MAAZ,EACCmlB,CAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACgL,CAAD,CAAQ,CACL,OAA1B,EAAIA,CAAA,CAAMu0B,YAAN,EAAJ,EACCv0B,CAAA,CAAM8P,GAAN,CAAU,MAAV,CAAkB9P,CAAA,CAAMowB,OAAN,EAAA,CAAgB/vC,OAAhB,CAAwB,MAAxB,CAAgC,GAAhC,CAAlB,CAF8B,CAAhC,CAKG,CAAIgoE,CAAJ,GACC,IAIC,CAJIotC,eAIJ,CAJsB,EAItB,CADA,IACA,CADKd,SACL,CADiB,CAAA,CACjB,CAAA,IAAA,CAAKt/D,IAAL,CAAU,CAAV,CALF,CANJ,EAeC,IAfD,CAeM0hE,YAfN,CAeqB,CAAA,CAjBM,CALZ,CAyBhB1C,WAAY,CAAA,CAzBI,CA0BhB31G,MAAO,IA1BS,CAAjB,CAf2B,CA5YM;AAyclCs4G,mBAAoBA,QAAQ,CAACj7G,CAAD,CAAMof,CAAN,CAAUC,CAAV,CAAc67F,CAAd,CAAkBxE,CAAlB,CAAsByE,CAAtB,CAA0BC,CAA1B,CAA8Bz6F,CAA9B,CAAwC,CAChE,IAAIhQ,EAAQ,IAAZ,CAEI0qG,EAAOA,QAA+B,CAACC,CAAD,CAAY,CACpC,IAAd,GAAI3qG,CAAJ,GACIA,CADJ,CACY2qG,CADZ,CAII3+D,EAAAA,CAAWt2C,IAAA,CAAKgM,GAAL,EADHipG,CACG,CADS3qG,CACT,EAAiBgQ,CAAjB,CAA2B,CAA3B,CAGf3gB,EAAA,CAAIwiG,SAAJ,CAAc,CAAd,CAAiB,CAAjB,CAAoBxiG,CAApB,CAAwBC,MAAxB,CAA+BoB,KAA/B,CAAsCrB,CAAtC,CAA0CC,MAA1C,CAAiDkB,MAAjD,CAGAk5G,gBAAA,CAAgBr6G,CAAhB,CAAqBof,CAArB,CAAyBC,CAAzB,CAA6B67F,CAA7B,CAAiCxE,CAAjC,CAAqCyE,CAArC,CAAyCC,CAAzC,CAA6C,CAA7C,CAAgDz+D,CAAhD,CAEe,EAAf,CAAIA,CAAJ,EACI1sC,MAAA,CAAOsrG,qBAAP,CAA6BF,CAA7B,CAd8C,CAkBtDprG,OAAA,CAAOsrG,qBAAP,CAA6BF,CAA7B,CArBgE,CAzclC,CA+elChB,gBAAiBA,QAAQ,CAACr6G,CAAD,CAAMof,CAAN,CAAUC,CAAV,CAAc67F,CAAd,CAAkBxE,CAAlB,CAAsByE,CAAtB,CAA0BC,CAA1B,CAA8BI,CAA9B,CAAkCC,CAAlC,CAAsC,CAC3Dz7G,CAAA,CAAIoJ,SAAJ,EAEA,IAAI,CAAJ,EAAWoyG,CAAX,EAAuB,CAAvB,EAAiBC,CAAjB,CACIz7G,CAAA,CAAIqJ,MAAJ,CAAY+V,CAAZ,CAAgBC,CAAhB,CACA,CAAArf,CAAA,CAAI07G,gBAAJ,CAAsBR,CAAtB,CAA0BxE,CAA1B,CAA8ByE,CAA9B,CAAkCC,CAAlC,CAFJ,KAGO,IAAII,CAAJ,EAAUC,CAAV,CAAe,CAAA,IACdE,EAAMH,CAANG,CAAWH,CADG,CAEdI,EAAM,CAANA,CAAYJ,CAFE,CAGdK,EAAMD,CAANC,CAAYD,CAHE,CAIdE,EAAM,CAANA,CAAYN,CAAZM,CAAiBF,CAJH,CAMdG,EAAMF,CAANE,CAAY38F,CAAZ28F,CAAiBD,CAAjBC,CAAuBb,CAAvBa,CAA4BJ,CAA5BI,CAAkCZ,CANpB,CAOda,EAAMH,CAANG,CAAY38F,CAAZ28F,CAAiBF,CAAjBE,CAAuBtF,CAAvBsF,CAA4BL,CAA5BK,CAAkCZ,CAEtCO,EAAA,CAAMF,CAAN,CAAWA,CACXG,EAAA,CAAM,CAAN,CAAYH,CACZI,EAAA,CAAMD,CAAN,CAAYA,CACZE,EAAA,CAAM,CAAN,CAAYL,CAAZ,CAAiBG,CAEbK,EAAAA,CAAMJ,CAANI,CAAY78F,CAAZ68F,CAAiBH,CAAjBG,CAAuBf,CAAvBe,CAA4BN,CAA5BM,CAAkCd,CAClCe,EAAAA,CAAML,CAANK,CAAY78F,CAAZ68F,CAAiBJ,CAAjBI,CAAuBxF,CAAvBwF,CAA4BP,CAA5BO,CAAkCd,CAElCe;CAAAA,CAAM,IAAA,CAAKC,IAAL,CAAY,IAAA,CAAKA,IAAL,CAAYh9F,CAAZ,CAAiB87F,CAAjB,CAAsBM,CAAtB,CAAZ,CAAyC,IAAA,CAAKY,IAAL,CAAYlB,CAAZ,CAAiBC,CAAjB,CAAsBK,CAAtB,CAAzC,CAAsEC,CAAtE,CACNY,EAAAA,CAAM,IAAA,CAAKD,IAAL,CAAY,IAAA,CAAKA,IAAL,CAAY/8F,CAAZ,CAAiBq3F,CAAjB,CAAsB8E,CAAtB,CAAZ,CAAyC,IAAA,CAAKY,IAAL,CAAY1F,CAAZ,CAAiB0E,CAAjB,CAAsBI,CAAtB,CAAzC,CAAsEC,CAAtE,CAEVz7G,EAAA,CAAIqJ,MAAJ,CAAY0yG,CAAZ,CAAiBC,CAAjB,CACAh8G,EAAA,CAAI07G,gBAAJ,CAAsBS,CAAtB,CAA2BE,CAA3B,CAAgCJ,CAAhC,CAAqCC,CAArC,CArBkB,CAwBtBl8G,CAAA,CAAIuJ,MAAJ,EACAvJ,EAAA,CAAIuK,SAAJ,EA/B2D,CA/e7B,CAqhBlC6xG,KAAMA,QAAQ,CAACE,CAAD,CAAKC,CAAL,CAAS/1G,CAAT,CAAY,CACtB,OAAS,CAAT,CAAeA,CAAf,EAAqB81G,CAArB,CAA0B91G,CAA1B,CAA8B+1G,CADR,CArhBQ,CAAtC,C,CCeA97G,GAAA,CAAIk2B,MAAJ,CAAW,4BAAX,CAAyC,CACxCyI,OAAQ,iBADgC,CAExC7H,OAAQ,CAAC,oBAAD,CAFgC,CAGxC4V,MAAO,sBAHiC,CAIrCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,EAHG,CAKXoC,MAAO,mBALI,CAJ4B,CAYrC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE7B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEf0tB,IAAK,WAFU,CAAhB,CAKG,KAAA,CAAKnnB,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAR6B,CAZO,CAwBrCxa,UAAW,CACV8iE,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CACnC,IAAA,CAAKo4C,cAAL,CAAoBp4C,CAApB,CADmC,CAD1B,CAxB0B,CA+BrCo4C,eAAgBA,QAAQ,CAACp4C,CAAD,CAAS,CAC5BwO,CAAAA,CAAMnkC,GAAA,CAAIymE,MAAJ,CAAWs1C,OAAX,CAAmB,WAAnB,CAAN53E,CAAsC,+BACvC;IAAI63E,EAAYC,IAAA,CAAKC,KAAL,CAAW37G,SAAX,CAAqB47G,QAArB,EAChBH,EAAA,CAAUI,QAAV,CAAmBj4E,CAAnB,CAAuB,uBAAvB,CAAgDA,CAAhD,CAAoD,sBAApD,CACA,KAAI/B,EAAQ,IAGZ45E,EAAA,CAAUK,OAAV,CAAkBC,KAAlB,CAAwB,QAAQ,EAAE,CAG9B,IAAIC,EAAa,EAAjB,CACIC,EAAY,EADhB,CAKIC,EAAW,IAAIR,IAAJ,CAASS,QAAT,CAAkB,CAACz3G,EAAE,CAAH,CAAMkF,EAAE,GAAR,CAAlB,CACkB,CAACvJ,MAAM,IAAP,CAAaF,OAAO,GAApB,CADlB,CAHDi8G,WAGC,CAGkBX,CAHlB,CAG6B,EAH7B,CAIfQ,EAAA,CAAUx3G,IAAV,CAAey3G,CAAf,CAGA,KAAIG,EAAS,IAAIX,IAAJ,CAASY,WAAT,CAAqB,CAAC,EAAI,IAAL,CAAW,EAAI,CAAf,CAArB,CACqB,CAAC,MAAQ,GAAT,CAAc,OAAS,GAAvB,CADrB,CAVCF,WAUD,CAGqBX,CAHrB,CAGgC,EAHhC,CAIbQ,EAAA,CAAUx3G,IAAV,CAAe43G,CAAf,CAGIE,EAAAA,CAAoB,IAAIb,IAAJ,CAASc,iBAAT,CAA2B,CAAE,EAAI,CAAN,CAAS,EAAI,CAAb,CAA3B,CAC2B,CAAE,MAAQ,IAAV,CAAgB,OAAS,GAAzB,CAD3B,CAjBVJ,WAiBU,CAG2BX,CAH3B,CAGsC,CAACS,CAAD,CAAWG,CAAX,CAHtC,CAIxBL,EAAA,CAAWv3G,IAAX,CAAgB83G,CAAhB,CAGAL,EAAA,CAASO,aAAT,CAAuBh4G,IAAvB,CAA4B83G,CAA5B,CAEI7xG,EAAAA,CAAOm3B,CAAA,CAAMy5B,SAAN,EAAA,CAAkBC,eAAlB,EAGXkgD,EAAA,CAAUiB,UAAV,CAAqB,CAAC,CAAD,CAAG,CAAH,CAArB,CACqB,CAACr8G,MAAOqK,CAAA,CAAKpK,QAAL,EAAR;AAAyBH,OAAQuK,CAAA,CAAKtK,SAAL,EAAjC,CADrB,CA7Bcg8G,WA6Bd,CAGqBJ,CAHrB,CAGiCC,CAHjC,CAIqB,GAJrB,CAIyBvxG,CAAA,CAAKwf,KAAL,EAJzB,CAQAuxF,EAAA,CAAUkB,KAAV,EA1C8B,CAAV,CA2CtBv7G,IA3CsB,CA2CjBq6G,CA3CiB,CAAxB,CAP6B,CA/BI,CAAzC,C,CCfAh8G,GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CACrCyI,OAAQ,iBAD6B,CAErC7H,OAAQ,CAAC,oBAAD,CAF6B,CAGrC4V,MAAO,mBAH8B,CAIlCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJlb,QAAS,CAFL,CAGDszE,gBAAiB,EAHhB,CAIJ/yF,MAAO3jB,IAAAA,EAJH,CAKJ4D,SAAU5D,IAAAA,EALN,CAMJxC,MAAOwC,IAAAA,EANH,CAOJm7B,WAAYn7B,IAAAA,EAPR,CAHG,CAYX4yB,MAAO,mBAZI,CAJyB,CAkBlCl7B,OAAQ,CACPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADF,CAGPqwC,KAAM5qC,IAAAA,EAHC,CAKP22G,cAAe,CALR,CAOPpF,WAAYvxG,IAAAA,EAPL,CAQPwzG,WAAYxzG,IAAAA,EARL,CASP42G,kBAAmB52G,IAAAA,EATZ,CAUP62G,aAAc72G,IAAAA,EAVP,CAWP82G,aAAc92G,IAAAA,EAXP,CAaP+2G,YAAa,EAbN,CAcPC,UAAW,EAdJ;AAgBPxlD,UAAWxxD,IAAAA,EAhBJ,CAiBPqW,IAAKrW,IAAAA,EAjBE,CAkBPi3G,QAASj3G,IAAAA,EAlBF,CAmBPwrE,MAAOxrE,IAAAA,EAnBA,CAqBP6xD,YAAa7xD,IAAAA,EArBN,CAuBP+gD,IAAK/gD,IAAAA,EAvBE,CAwBP0rE,YAAa1rE,IAAAA,EAxBN,CAlB0B,CA6CrCk3G,SAAU,KA7C2B,CA8ClCC,cAAe,UA9CmB,CAgDlCC,UAAW,CAhDuB,CAiDlCC,UAAW,GAjDuB,CAmDlCC,iBAAkB,GAnDgB,CAqDlCC,YAAa,CArDqB,CAsDlCC,YAAa,CAtDqB,CAwDlCC,mBAAoB,EAxDc,CAyDrCC,mBAAoB,EAzDiB,CA2DlCn8D,OAAQ,KA3D0B,CA6DlCxhD,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAKmwE,OAAL,CAAa,IAAb,CAAkBqvC,QAAlB,CAEA,KAAA,CAAKz+E,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAKi3D,QAAL,CAAc5yE,GAAA,CAAIc,EAAJ,CAAO,IAAP,CAAa,YAAb,CAAd,CAN6B,CA7DI,CAsElCwsC,cAAeA,QAAQ,EAAG,CACzBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV;AAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAEfo7B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACL74B,MAAO,kBADF,CAELqkD,aAAc,CAAA,CAFT,CAAD,CAGL,CACDrkD,MAAO,QADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAFL,CAGDkJ,KAAM,CACLhI,MAAO,CAAC,CACP74B,MAAO,eADA,CAEP+nD,MAAO,UAFA,CAGPnkB,QAAS,IAAA,CAAKwpC,OAAL,EAATxpC,GAA4B,IAA5BA,CAAiC+4E,QAH1B,CAIPh+F,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAJC,CAKPqwB,aAAcA,QAAQ,CAAC/kC,CAAD,CAAO2gB,CAAP,CAAgB,CACjCA,CAAJ,GACC,IAAA,CAAK0pC,OAAL,CAAa,IAAb,CAAkBqvC,QAAlB,CACA,CAAA,IAAA,CAAK7O,MAAL,EAFD,CADqC,CAL/B,CAWP5sG,MAAO,IAXA,CAAD,CAYL,CACDlB,MAAO,eADN,CAED+nD,MAAO,UAFN,CAGDnkB,QAAS,IAAA,CAAKwpC,OAAL,EAATxpC,GAA4B,IAA5BA,CAAiCg5E,aAHhC,CAIDj+F,KAAM,IAAA,CAAKgZ,QAAL,CAAc,eAAd,CAJL;AAKDqwB,aAAcA,QAAQ,CAAC/kC,CAAD,CAAO2gB,CAAP,CAAgB,CACjCA,CAAJ,GACC,IAAA,CAAK0pC,OAAL,CAAa,IAAb,CAAkBsvC,aAAlB,CACA,CAAA,IAAA,CAAK9O,MAAL,EAFD,CADqC,CALrC,CAWD5sG,MAAO,IAXN,CAZK,CADF,CAHL,CAHK,CAiCL,CACD83B,WAAY,IAAA,CAAKrB,QAAL,CAAc,UAAd,CADX,CAEVuB,WAAY,EAFF,CAGVD,WAAY,OAHF,CAIVr5B,MAAO,GAJG,CAKVI,MAAO,QALG,CAMJwkC,UAAW,CANP,CAOJF,SAAU,IAAVA,CAAeu4E,SAPX,CAQJt4E,SAAU,IAAVA,CAAeu4E,SARX,CASJ38G,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,iBAAjB,CAAT,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKn/B,WAAL,CAAiB,iBAAjB,CAAoCm/B,CAApC,CACA,KAAA,CAAKi4C,MAAL,EAF0C,CAJjC,CAQV5sG,MAAO,IARG,CATP,CAjCK,CAoDL,CACD83B,WAAY,IAAA,CAAKrB,QAAL,CAAc,SAAd,CADX,CAEVuB,WAAY,EAFF,CAGVD,WAAY,OAHF;AAIVr5B,MAAO,GAJG,CAKVI,MAAO,QALG,CAMJwkC,UAAW,CANP,CAOJF,SAAU,CAPN,CAQJC,SAAU,EARN,CASJpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,SAAjB,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACgd,QAASgtB,CAAV,CAAlB,CACA,KAAA,CAAKi4C,MAAL,EAF0C,CAJjC,CAQV5sG,MAAO,IARG,CATP,CApDK,CAuEL,CACD83B,WAAY,IAAA,CAAKrB,QAAL,CAAc,SAAd,CADX,CAEVuB,WAAY,EAFF,CAGVD,WAAY,OAHF,CAIVr5B,MAAO,GAJG,CAKVI,MAAO,QALG,CAMJwkC,UAAW,CANP,CAOJF,SAAU,IAAVA,CAAe04E,WAPX,CAQJz4E,SAAU,IAAVA,CAAe04E,WARX,CASJ98G,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAKk4E,gBAAL,EAAhB,CAD6B,CADpB,CAIVp4E,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAG1C,IAAA,CAAKwnD,gBAAL,CADYz4G,IAAA/F,CAAKuO,GAALvO,CAASg3D,CAATh3D;CAAmB,IAAnBA,CAAwBo+G,WAAxBp+G,CAAoC,CAApCA,EACZ,CACA,KAAA,CAAKy+G,MAAL,EAJ0C,CAJjC,CAUVp8G,MAAO,IAVG,CATP,CAvEK,CAJH,CAAD,CAFE,CAAhB,CAuGA,KAAA,CAAK8wE,cAAL,CAAoBhzE,GAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CAClD06C,SAAUjzE,GAAA,CAAIkzE,OAAJ,EADwC,CAElDr5C,MAAO,CAAC,CACP74B,MAAO,KADA,CAEP0kC,OAAQ,OAFD,CAGPglB,OAAQ,iBAHD,CAIPzpD,KAAM,EAJC,CAAD,CAKL,CACKD,MAAO,eADZ,CALK,CAOL,CACDA,MAAO,QADN,CAED2e,KAAM,QAFL,CAGDzU,MAAO,cAHN,CAIDouB,QAASA,QAAQ,CAAC3vB,CAAD,CAAIgG,CAAJ,CAAO,CACnBiF,CAAAA,CAAO,IAAA,CAAKw+D,cAAL,EACE3sE,KAAAA,EAAb,GAAImO,CAAJ,GACC,OAAO,IAAA,CAAK2pG,cAAL,EAAA,CAAsB3pG,CAAtB,CAA2BmI,IAA3B,CAAgCnd,IAAhC,CAEP,CADA,IAAA,CAAK4+G,YAAL,EAAA,CAAoB5pG,CAApB,CAAyBmI,IAAzB,CAA8Bnd,IAA9B,CACA,CADsC,CAAA,CACtC,CAAA,IAAA,CAAKq+D,cAAL,CAAoBx3D,IAAAA,EAApB,CAHD,CAKA,KAAA,CAAKgtE,cAAL,EAAA,CAAsB9vC,IAAtB,EACA,KAAA,CAAK26E,MAAL,EARuB,CAJvB,CAcDp8G,MAAO,IAdN,CAPK,CAF2C,CAA5B,CAApB,CA2BA,KAAA,CAAK8T,EAAL,CAAQ,OAAR;AAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CAClB,CAAnB,CAAIA,CAAJ,CAAUxnB,MAAV,EACC,IAAA,CAAKksG,MAAL,CAAY1kF,CAAZ,CAFoC,CAAtC,CAIA,IAJA,CAMA,KAAA,CAAK8U,UAAL,CAAgBvjB,SAAhB,CAzIyB,CAtEQ,CAkNlCxa,UAAW,CACVssE,SAAUA,QAAQ,EAAG,CACvB,IAAA,CAAKC,aAAL,EADuB,CADX,CAKVtE,OAAQA,QAAQ,CAAChnC,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,CAClC,IAAA,CAAKy5D,YAAL,EAAJ,EAA2B,IAAA,CAAK5vC,SAAL,EAA3B,GACK9nB,CAQJ,CARS,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAQT,CAPGl7D,CAOH,CAPW6B,CAAA,CAAG5B,QAAH,EAOX,CANAH,CAMA,CANS+B,CAAA,CAAG9B,SAAH,EAMT,CAJA8B,CAAA,CAAG4rB,IAAH,CAAQ,KAAR,CAAA,CAAeiF,GAAf,CAAmB,CAAC1yB,MAAOA,CAAR,CAAeF,OAAQA,CAAvB,CAAnB,CAIA,CAFA,IAAA,CAAKy5D,YAAL,EAAA,CAAoB7nD,IAApB,CAAyB,CAAC1R,CAAD,CAAQF,CAAR,CAAzB,CAEA,CAAA,IAAA,CAAK49G,MAAL,EATD,CADsC,CAL7B,CAmBVr6C,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CAC/B,IAAA,CAAKgT,SAAL,EAAJ,EACI,IAAA,CAAKmmE,MAAL,EAF+B,CAnB1B,CAwBV2P,SAAUA,QAAQ,EAAG,CAChB,IAAA,CAAKl0F,SAAL,EAAJ,EACC,IAAA,CAAKukF,MAAL,EAFmB,CAxBX,CAlNuB,CAiPlCA,OAAQA,QAAQ,CAAC1kF,CAAD,CAAQ,CAC1B,IAAA,CAAKs0F,QAAL,EACcj4G,KAAAA,EAAd;AAAI2jB,CAAJ,GACC,IAAA,CAAKu0F,WAAL,EACA,CAAA,IAAA,CAAKC,cAAL,CAAoB,EAApB,CAFD,CAIO,KAAA,CAAKxwC,OAAL,EAAJ,GAAuB,IAAvB,CAA4BwvC,aAA5B,CACC,IAAA,CAAKiB,gBAAL,CAAsBz0F,CAAtB,CADD,CAGC,IAAA,CAAK00F,WAAL,CAAiB10F,CAAjB,CATsB,CAjPU,CA8PlCk0F,OAAQA,QAAQ,EAAG,CAClB,IAAIvhG,EAAO,IAAA,CAAKgiG,iBAAL,CAAuB,EAAvB,CACI,EAAlB,CAAIhiG,CAAJ,CAASna,MAAT,GACC,IAAA,CAAK87G,QAAL,EACA,CAAA,IAAA,CAAKM,gBAAL,CAAsBjiG,CAAtB,CAFD,CAFqB,CA9Pe,CAsQlC4hG,YAAaA,QAAQ,EAAG,CACvB,IAAA,CAAKM,aAAL,CAAmBx4G,IAAAA,EAAnB,CACA,KAAA,CAAKy4G,aAAL,CAAmBz4G,IAAAA,EAAnB,CACA,KAAA,CAAK04G,oBAAL,CAA0B14G,IAAAA,EAA1B,CACA,KAAA,CAAK24G,eAAL,CAAqB34G,IAAAA,EAArB,CACA,KAAA,CAAK44G,eAAL,CAAqB54G,IAAAA,EAArB,CALuB,CAtQU,CA8QlCi4G,SAAUA,QAAQ,EAAG,CACpB,IAAI5hG,EAAM,IAAA,CAAK+hD,MAAL,EACN/hD,EAAJ,EACIA,CAAA,CAAIhG,SAAJ,CAAc,OAAd,CAAA,CAAuBkC,MAAvB,EAHgB,CA9Qa,CAqRlC8lG,YAAaA,QAAQ,CAAC10F,CAAD,CAAQ,CAC5B,IAAIyhB;AAAQ7gB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,iBAAjB,CAAT,CAAZ,CACIy6B,EAAW,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CACD7jB,KAAAA,EAAd,GAAI2jB,CAAJ,GAEC26B,CAFD,CACClZ,CADD,CACSplC,IAAAA,EADT,CAIA,KAAA,CAAK8jB,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACtCtjB,OAAQ,CACPhH,MAAOA,CADA,CAETyhB,MAAOA,CAFE,CAGTkZ,SAAUA,CAHD,CAD8B,CAMtC1hB,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EACC,IAAA,CAAK2gE,eAAL,CAAqBxtF,CAArB,CAF8C,CANV,CAWtC7lB,MAAO,IAX+B,CAAvC,CAP4B,CArRK,CA2SlC28G,iBAAkBA,QAAQ,CAACz0F,CAAD,CAAQ,CACjC,IAAIyhB,EAAQ7gB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,iBAAjB,CAAT,CAAZ,CACIy6B,EAAW,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CACD7jB,KAAAA,EAAd,GAAI2jB,CAAJ,GAEC26B,CAFD,CACClZ,CADD,CACSplC,IAAAA,EADT,CAIA,KAAIwlE,EAAcrmE,IAAA,CAAK8qB,IAAL,CAAU1F,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,iBAAjB,CAAT,CAAV,CAA0D,IAAA,CAAKC,SAAL,EAAA,CAAiBqL,iBAAjB,EAA1D,CAClB,KAAA,CAAKrL,SAAL,EAAA,CAAiBkqB,gBAAjB,EAAA,CAAoCC,IAApC,CAAyC,CAC3CtjB,OAAQ,CACPhH,MAAOA,CADA;AAEPyhB,MAAOA,CAFA,CAGPogC,YAAaA,CAHN,CAIPlnB,SAAUA,CAJH,CAKPjhD,KAAM,OALC,CAMP6sF,IAAK,MANE,CADmC,CAS3CttD,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EACC,IAAA,CAAK2gE,eAAL,CAAqBxtF,CAArB,CAF8C,CATL,CAc3C7lB,MAAO,IAdoC,CAAzC,CARiC,CA3SA,CAqUlC6wE,cAAeA,QAAQ,CAAC3oD,CAAD,CAAQ,CAC9B,IAAA,CAAKG,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACtCtjB,OAAQ,CACThH,MAAOA,CADE,CAD8B,CAItCiZ,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EACC,IAAA,CAAK2gE,eAAL,CAAqBxtF,CAArB,CAF8C,CAJV,CAStC7lB,MAAO,IAT+B,CAAvC,CAD8B,CArUG,CAmVlCqzG,gBAAiBA,QAAQ,CAACxtF,CAAD,CAAU,CAClC,GAAI/nB,GAAA,CAAIw9B,OAAJ,CAAYzV,CAAZ,CAAJ,EAA2C,CAA3C,CAA4BA,CAA5B,CAAoCnlB,MAApC,CAA8C,CAC7C,IAAIjD,EAAU,IAAA,CAAK2/G,aAAL,EAAd,CACIx5G,EAAU,IAAA,CAAKy5G,aAAL,EADd,CAEIC,EAAa,IAAA,CAAKC,eAAL,EAFjB,CAGIC,EAAa,IAAA,CAAKC,eAAL,EAHjB,CAIIt7G,EAAQ,EACZ0jB,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACmkB,CAAD,CAAI,CAC3B,IAAI/8B,EAAO+8B,CAAA,CAAEiX,OAAF,EACX,IAAI,CAAC,IAAA,CAAK4qE,YAAL,EAAA,CAAoB5+G,CAApB,CAAL,CAAgC,CAC/B,IAAI6J;AAAUkzB,CAAA,CAAEmX,UAAF,EAAd,CACI8rE,EAAU,IAAA,CAAKxxC,OAAL,EAAA,GAAmB,IAAnB,CAAwBwvC,aAAxB,CAAwCjhF,CAAA,CAAEx4B,GAAF,CAAM,OAAN,CAAxC,CAAyDw4B,CAAA,CAAEgX,mBAAF,EAEvE,IAAgBltC,IAAAA,EAAhB,GAAI9G,CAAJ,EAA6B8J,CAA7B,CAAuC9J,CAAvC,CAAgDA,CAAA,CAAU8J,CAC1D,IAAgBhD,IAAAA,EAAhB,GAAIX,CAAJ,EAA6B2D,CAA7B,CAAuC3D,CAAvC,CAAgDA,CAAA,CAAU2D,CAE1D,IAAmBhD,IAAAA,EAAnB,GAAIi5G,CAAJ,EAAgCE,CAAhC,CAA0CF,CAA1C,CAAsDA,CAAA,CAAaE,CACnE,IAAmBn5G,IAAAA,EAAnB,GAAI+4G,CAAJ,EAAgCI,CAAhC,CAA0CJ,CAA1C,CAAsDA,CAAA,CAAaI,CAEnE,KAAA,CAAKrB,cAAL,EAAA,CAAsB3+G,CAAtB,CAAA,CAA8B,CAC7BA,KAAMA,CADuB,CAE7B6J,QAASA,CAFoB,CAG7ByoD,aAAcv1B,CAAA,CAAEx4B,GAAF,CAAM,cAAN,CAHe,CAI7B07G,UAAWD,CAJkB,CAK7BE,WAAY,EALiB,CAQ9Bz7G,EAAA,CAAMW,IAAN,CAAWpF,CAAX,CAlB+B,CAFL,CAA5B,CAsBG,IAtBH,CAwBA,KAAA,CAAKs/G,aAAL,CAAmBv/G,CAAnB,CACA,KAAA,CAAKs/G,aAAL,CAAmBn5G,CAAnB,CACA,KAAA,CAAKs5G,eAAL,CAAqBI,CAArB,CACA,KAAA,CAAKH,eAAL,CAAqBK,CAArB,CAEA,KAAA,CAAKK,qBAAL,CAA2B17G,CAA3B,CAnC6C,CADZ,CAnVD,CA2XlC07G,sBAAuBA,QAAQ,CAAC31F,CAAD,CAAQ,CACtC,IAAIi8C,EAAY,EAChB,KAASzmE,CAAT,GAAiB,KAAA,CAAK2+G,cAAL,EAAjB,CACCl4C,CAAA,CAAUrhE,IAAV,CAAepF,CAAf,CAGD;IAAA,CAAKitB,YAAL,CAAkB,CACjBwkB,KAAM,QADW,CAAlB,CAGIjgB,KAAAA,EAAS,IAAA,CAAKgG,YAAL,EACb,KAAA,CAAK7M,SAAL,EAAA,CAAiB40B,mBAAjB,EAAA,CAAuCzK,IAAvC,CAA4C,CAC3CtjB,OAAQpxB,GAAA,CAAIoE,KAAJ,CAAUpE,GAAA,CAAI6jC,KAAJ,CAAUzS,CAAV,CAAV,CAA6B,CAAChH,MAAOA,CAAR,CAAe41F,oBAAqB35C,CAApC,CAA+Cx6B,MAAO,IAAPA,CAAYkyE,gBAA3D,CAA7B,CADmC,CAE3C16E,SAAUA,QAAQ,CAACtb,CAAD,CAAUoiC,CAAV,CAAcvV,CAAd,CAAuB,CACpCA,CAAJ,EACC,IAAA,CAAKoqE,gBAAL,CAAsB,IAAA,CAAKD,iBAAL,CAAuBh3F,CAAvB,CAAtB,CAFuC,CAFE,CAO3C7lB,MAAO,IAPoC,CAA5C,CAVsC,CA3XL,CAgZlC68G,kBAAmBA,QAAQ,CAACh3F,CAAD,CAAU,CAKpC,IAJA,IAAI5nB,EAAe,IAAA,CAAKo+G,cAAL,EAAnB,CAEI0B,EAAS,IAAA,CAAKC,oBAAL,EAFb,CAISv9G,EAAE,CAAX,CAAcA,CAAd,CAAgBolB,CAAhB,CAAwBnlB,MAAxB,CAAgCD,CAAA,EAAhC,CAAqC,CACpC,IAAIg6B,EAAI5U,CAAA,CAAQplB,CAAR,CAAR,CACI/C,EAAO+8B,CAAA,CAAEiX,OAAF,EADX,CAECygC,EAAc13C,CAAA,CAAEqX,cAAF,EACdugC,EAAAA,CAAc53C,CAAA,CAAEsX,qBAAF,EAElB,IAAextC,IAAAA,EAAf,GAAIw5G,CAAJ,EAA4B1rC,CAA5B,CAA0C0rC,CAA1C,CACCA,CAAA,CAAS1rC,CAGiB9tE,KAAAA,EAA3B;AAAItG,CAAA,CAAaP,CAAb,CAAJ,EAGQA,CAHR,EAGgBy0E,CAHhB,EAIKl0E,CAAA,CAAaP,CAAb,CAAA,CAAmBkgH,UAAnB,CAA8B96G,IAA9B,CAAmC,CAClCpF,KAAMy0E,CAD4B,CACfx0E,MAAO00E,CADQ,CAAnC,CAdkC,CAqBrC,IAAA,CAAK4qC,oBAAL,CAA0Bc,CAA1B,CAEIljG,EAAAA,CAAO,EACX,KAASnd,CAAT,GAAiBO,EAAjB,CAEE4c,CAAA,CAAK/X,IAAL,CAAU7E,CAAA,CAAaP,CAAb,CAAV,CAGF,OAAOmd,EAlC6B,CAhZH,CAqblCiiG,iBAAkBA,QAAQ,CAACjiG,CAAD,CAAO,CAChC,IAAImQ,EAAK,IAET,IAAK,IAAA,CAAK2xC,MAAL,EAAL,CAAA,CAGA9hD,CAAA,CAAK/X,IAAL,CAAU,CAACpF,KADEugH,YACH,CAAeL,WAAW,EAA1B,CAA8Br2G,QAAQ,CAAtC,CAAV,CACA,KAAI0U,EAAOnK,EAAA,CAAGosG,QAAH,EAAA,CACTt/G,EADS,CACN,QAAQ,CAACiE,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASnF,IAAX,CADN,CAAA,CAETygH,QAFS,CAEA,QAAQ,CAACt7G,CAAD,CAAI,CACrB,MALWo7G,YAKX,GAAIp7G,CAAJ,CAAMnF,IAAN,CALWugH,YAKX,CACS,EAFY,CAFZ,CAAA,CAKVpjG,CALU,CAAA,CAMZjZ,IANY,CAMP,QAAQ,CAACme,CAAD,CAAItY,CAAJ,CAAO,CAAE,MAAOsY,EAAA,CAAExY,OAAF,CAAYE,CAAZ,CAAcF,OAAd,CAAwB,CAAxB,CAA4BwY,CAAA,CAAExY,OAAF,CAAYE,CAAZ,CAAcF,OAAd,CAAwB,EAAxB,CAA6B,CAAlE,CANR,CAAA,CAOZ4zD,GAPY,CAOR,QAAQ,CAACt4D,CAAD,CAAI,CAAE,MAAOa,KAAA,CAAKksE,GAAL,CAAS/sE,CAAT,CAAW0E,OAAX,CAAoB,CAApB,CAAsByjB,CAAA,CAAGkxF,gBAAH,EAAtB,CAAT,CAPJ,CAQX,KAAA,CAAKjkD,YAAL,EAAA,CAAoBh8C,CAApB,CAGIY;CAAAA,CAAQ,IAAA,CAAK8/C,MAAL,EAAA,CAAc/nD,SAAd,CAAwB,OAAxB,CAAA,CAAiCiG,IAAjC,CAAsCoB,CAAA,CAAKc,WAAL,EAAtC,CAGZF,EAAA,CAAMnG,IAAN,CAAW,WAAX,CAAwB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,YAAP,CAAsBA,CAAtB,CAAwBE,CAAxB,CAA4B,GAA5B,CAAkCF,CAAlC,CAAoCoF,CAApC,CAAwC,GAA1C,CAApC,CACA4U,EAAA,CAAMjI,SAAN,CAAgB,QAAhB,CAAA,CAA0B8B,IAA1B,CAA+B,GAA/B,CAAoC,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS43B,CAAX,CAAhD,CAMA,KAAI2jF,EAAgBtsG,EAAA,CAAGusG,QAAH,EAAA,CAAcC,QAAd,CAAuB,CAAvB,CAAyB,CAAzB,CAAA,CACrBroG,MADqB,CACd,CAAC,CAAD,CAAG,IAAA,CAAK+nG,oBAAL,EAAH,CADc,CAAA,CACmBloG,KADnB,CACyB,CAAC,MAAD,CAAS,SAAT,CADzB,CAKnB,KAAAyoG,EADG,IAAA,CAAKryC,OAAL,EAAJ,GAAuB,IAAvB,CAA4BwvC,aAA5B,CACe5pG,EAAA,CAAGusG,QAAH,EAAA,CAAcC,QAAd,CAAuB,EAAvB,CAAA,CACZroG,MADY,CACL,CAAC,IAAA,CAAKsnG,eAAL,EAAD,CAAyB,IAAA,CAAKE,eAAL,EAAzB,CADK,CAAA,CAC6C3nG,KAD7C,CACmD,CAAC,SAAD,CAAY,MAAZ,CADnD,CADf,CAIehE,EAAA,CAAGoV,WAAH,EAAA,CACfjR,MADe,CACR,CAAC,IAAA,CAAKwnG,eAAL,EAAD,CAAyB,IAAA,CAAKF,eAAL,EAAzB,CADQ,CAAA,CAC0CznG,KAD1C,CACgD,CAAC,SAAD;AAAY,MAAZ,CADhD,CAKf,KAAI1F,EAAO,IAAA,CAAK6nD,YAAL,EAAA,CAAoB7nD,IAApB,EACPouG,EAAAA,CAAe96G,IAAA,CAAKgM,GAAL,CAASU,CAAA,CAAK,CAAL,CAAT,CAAkBA,CAAA,CAAK,CAAL,CAAlB,CAAfouG,CAA4C,CAK5CxzC,EAAAA,CADatnE,IAAA+6G,CAAKjzG,IAALizG,CAHA/6G,IAGA+6G,CAHK33G,EAGL23G,CAHSD,CAGTC,CAHsBD,CAGtBC,CAFA5jG,CAEA4jG,CAFK/9G,MAEL+9G,CAAqB/6G,IAArB+6G,CAA0B33G,EAA1B23G,CACbzzC,CAA2B,CAC3B0zC,EAAAA,CAAiBh7G,IAAA,CAAKwI,GAAL,CAAS,IAAA,CAAKgwG,gBAAL,EAAT,EAAkC,IAAlC,CAAuCH,WAAvC,CAAmD,CAAnD,EACrB2C,EAAA,CAAiBh7G,IAAA,CAAKM,GAAL,CAAS,CAAT,CAAY06G,CAAZ,CAA2B,CAA3B,CACbC,EAAAA,EAAc3zC,CAElB,KAAI4zC,EAAY9sG,EAAA,CAAGoV,WAAH,EAAA,CACdjR,MADc,CACP,CAAC,IAAA,CAAKonG,aAAL,EAAD,CAAsB,IAAA,CAAKD,aAAL,EAAtB,CADO,CAAA,CACsCtnG,KADtC,CAC4C,CAACk1D,CAAD,CAAc2zC,CAAd,CAD5C,CAIZjsG,EAAAA,CAAOmK,CAAA,CAAMW,KAAN,EAAA,CAAc/G,MAAd,CAAqB,GAArB,CAAA,CACTC,IADS,CACJ,OADI,CACK,MADL,CAAA,CAET1N,KAFS,CAEH,YAFG,CAEW,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAiB,EAAV,CAAAA,CAAA,CAAEya,KAAF,CAAc,SAAd,CAA0B,QAAnC,CAFvB,CAAA,CAGT5G,IAHS,CAGJ,WAHI,CAGS,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,YAAP,CAAsBA,CAAtB,CAAwBE,CAAxB,CAA4B,GAA5B,CAAkCF,CAAlC,CAAoCoF,CAApC,CAAwC,GAA1C,CAHrB,CAAA,CAIT6L,EAJS,CAIN,OAJM,CAIG,QAAQ,CAACjR,CAAD,CAAI,CACxBmoB,CAAA,CAAG8V,aAAH,CAAiB,cAAjB;AAAiC9V,CAAjC,CAAqC,CAACnoB,CAAD,CAAGgY,IAAH,CAAQnd,IAAR,CAArC,CADwB,CAJf,CAAA,CAOToW,EAPS,CAON,WAPM,CAOO,QAAQ,CAACjR,CAAD,CAAIpC,CAAJ,CAAO,CAC/BuqB,CAAA,CAAG+wC,cAAH,CAAkBl5D,CAAlB,CAEAmoB,EAAA,CAAG2xC,MAAH,EAAA,CAAY/nD,SAAZ,CAAsB,QAAtB,CAAA,CACE5L,KADF,CACQ,cADR,CACwB,CADxB,CAAA,CAEEA,KAFF,CAEQ,QAFR,CAEkB,MAFlB,CAAA,CAGKA,KAHL,CAGW,MAHX,CAGmB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAO07G,EAAA,CAAY17G,CAAZ,CAAcgY,IAAd,CAAmB8iG,SAAnB,CAAT,CAH/B,CAKA7rG,GAAA,CAAG6C,MAAH,CAAU,IAAV,CAAA,CAAgBA,MAAhB,CAAuB,QAAvB,CAAA,CACE3L,KADF,CACQ,MADR,CACgB,SADhB,CAAA,CAEEA,KAFF,CAEQ,QAFR,CAEkB,SAFlB,CAAA,CAGEA,KAHF,CAGQ,gBAHR,CAG0BgiB,CAH1B,CAG6BixF,kBAH7B,CAOC4C,EAAA,CADG7zF,CAAA,CAAGkhD,OAAH,EAAJ,GAAqBlhD,CAArB,CAAwB0wF,aAAxB,CACa1wF,CAAA,CAAGyL,QAAH,CAAY,OAAZ,CADb,CAGazL,CAAA,CAAGyL,QAAH,CAAY,QAAZ,CAGb,IAAI,CAACzL,CAAA,CAAGumD,cAAH,EAAA,CAAoB9qC,SAApB,EAAL,CAAsC,CACjCv/B,CAAAA,CAAO,KAAPA,CAAarE,CAAbqE,CAAe2T,IAAf3T,CAAoBxJ,IAApBwJ,CAAyB,QAAzBA,CAAkCrE,CAAlCqE,CAAoC2T,IAApC3T,CAAyCK,OAAzCL,CAAiD,QAAjDA,CAA0D23G,CAA1D33G,CAAoE,IAApEA,CAAyErE,CAAzEqE,CAA2E2T,IAA3E3T,CAAgFy2G,SACvF;IAAIr4D,EAAMt6B,CAAA,CAAG0iD,MAAH,EACVpoB,EAAA,CAAIvpC,MAAJ,CAAW7U,CAAX,CACAo+C,EAAA,CAAIhmC,IAAJ,EAJwC,CAOzC,IAAS7e,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBoC,CAApB,CAAsBgY,IAAtB,CAA2B+iG,UAA3B,CAAsCl9G,MAAtC,CAA8CD,CAAA,EAA9C,CAAmD,CAClD,IAAIq+G,EAAYj8G,CAAA,CAAEgY,IAAF,CAAO+iG,UAAP,CAAkBn9G,CAAlB,CACZuJ,EAAAA,CAAQghB,CAAA,CAAG2xC,MAAH,EAAA,CAAY/nD,SAAZ,CAAsB,OAAtB,CAAA,CAA+BjD,MAA/B,CAAsC,QAAQ,CAAC9O,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASgY,IAAT,CAAcnd,IAAd,GAAuBohH,CAAvB,CAAiCphH,IAAnC,CAAlD,CACZsM,EAAA,CAAM2K,MAAN,CAAa,QAAb,CAAA,CACE3L,KADF,CACQ,MADR,CACgB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOu7G,EAAA,CAAcU,CAAd,CAAwBnhH,KAAxB,CAAT,CAD5B,CAAA,CAEEqL,KAFF,CAEQ,QAFR,CAEkB,SAFlB,CAAA,CAGEA,KAHF,CAGQ,gBAHR,CAG0BgiB,CAH1B,CAG6BixF,kBAH7B,CAIAjyG,EAAA,CAAM2K,MAAN,CAAa,aAAb,CAAA,CAA4B8I,IAA5B,CAAiC,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOi8G,EAAP,CAAiBnhH,KAAnB,CAA7C,CAPkD,CA3BjB,CAPtB,CAAA,CA4CZmW,EA5CY,CA4CT,WA5CS,CA4CI,QAAQ,EAAG,CAC3BkX,CAAA,CAAG0iD,MAAH,EAAA,CAAYtgB,WAAZ,CAAwBt7C,EAAxB,CAA2BrJ,KAA3B,CAAiC4qE,KAAjC,CAAuC,CAAvC,CAA0CvhE,EAA1C,CAA6CrJ,KAA7C,CAAmD6qE,KAAnD,CAAyD,EAAzD,CAD2B,CA5Cf,CAAA,CA+CZx/D,EA/CY,CA+CT,UA/CS,CA+CG,QAAQ,EAAG,CACrBkX,CAAA,CAAGumD,cAAH,EAAA,CAAoB9qC,SAApB,EAAL;AACCzb,CAAA,CAAG+wC,cAAH,CAAkBx3D,IAAAA,EAAlB,CAGDymB,EAAA,CAAG2xC,MAAH,EAAA,CAAY/nD,SAAZ,CAAsB,QAAtB,CAAA,CAAgC5L,KAAhC,CAAsC,gBAAtC,CAAwDgiB,CAAxD,CAA2DgxF,kBAA3D,CAAA,CAA+EhzG,KAA/E,CAAqF,QAArF,CAA+F,MAA/F,CAAA,CACKA,KADL,CACW,MADX,CACmB,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAO07G,EAAA,CAAY17G,CAAZ,CAAcgY,IAAd,CAAmB8iG,SAAnB,CAAT,CAD/B,CAEA3yF,EAAA,CAAG2xC,MAAH,EAAA,CAAY/nD,SAAZ,CAAsB,aAAtB,CAAA,CAAqC6I,IAArC,CAA0C,EAA1C,CACAuN,EAAA,CAAG0iD,MAAH,EAAA,CAAYjsC,IAAZ,EAR0B,CA/Cd,CAAA,CA0DZ3tB,EA1DY,CA0DT,aA1DS,CA0DM,QAAQ,CAACjR,CAAD,CAAIpC,CAAJ,CAAO,CACjCqR,EAAA,CAAGrJ,KAAH,CAASkzD,cAAT,EACA3wC,EAAA,CAAG0iD,MAAH,EAAA,CAAYjsC,IAAZ,EACI9B,EAAAA,CAAO3U,CAAA,CAAGumD,cAAH,EACX5xC,EAAA,CAAKrV,SAAL,CAAe,OAAf,CAAA,CAAwB26B,OAAxB,CAAgCpiD,CAAhC,CAAkCgY,IAAlC,CAAuCnd,IAAvC,CACAiiC,EAAA,CAAKoL,MAAL,CAAYj5B,EAAZ,CAAerJ,KAAf,CAAqB4qE,KAArB,CAA2B,CAA3B,CAA8BvhE,EAA9B,CAAiCrJ,KAAjC,CAAuC6qE,KAAvC,CAA6C,EAA7C,CALiC,CA1DrB,CAkEX5gE,EAAA,CAAK+D,MAAL,CAAY,QAAZ,CAAA,CACEC,IADF,CACO,IADP,CACa,QAAQ,CAAC7T,CAAD,CAAI,CACvB,MAAaA,EAnGP,CAmGSgY,IAnGT,CAmGcnd,IAnGd,CAAKiE,OAAL,CAAa,KAAb;AAAoB,GAApB,CAkGiB,CADzB,CAAA,CAID+U,IAJC,CAII,GAJJ,CAIS,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS43B,CAAX,CAJrB,CAAA,CAKDzxB,KALC,CAKK,MALL,CAKa,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAO07G,EAAA,CAAY17G,CAAZ,CAAcgY,IAAd,CAAmB8iG,SAAnB,CAAT,CALzB,CAAA,CAMD30G,KANC,CAMK,QANL,CAMe,MANf,CAAA,CAODA,KAPC,CAOK,gBAPL,CAOuBgiB,CAPvB,CAO0BgxF,kBAP1B,CAAA,CAQDhzG,KARC,CAQK,cARL,CAQqB,CARrB,CAUA0J,EAAA,CAAK+D,MAAL,CAAY,UAAZ,CAAA,CAAwBC,IAAxB,CAA6B,IAA7B,CAAmC,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,OAAP,CAAuBA,CA3GhE,CA2GkEgY,IA3GlE,CA2GuEnd,IA3GvE,CAAKiE,OAAL,CAAa,KAAb,CAAoB,GAApB,CA2GuC,CAA/C,CAAA,CACE8U,MADF,CACS,KADT,CAAA,CACgBC,IADhB,CACqB,YADrB,CACmC,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,GAAP,CAAmBA,CA5G5D,CA4G8DgY,IA5G9D,CA4GmEnd,IA5GnE,CAAKiE,OAAL,CAAa,KAAb,CAAoB,GAApB,CA4GuC,CAD/C,CAGI8b,EAAAA,CAAO/K,CAAA,CAAK+D,MAAL,CAAY,MAAZ,CAAA,CACTC,IADS,CACJ,WADI,CACS,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,YAAP,CAA4BA,CA/GtD,CA+GwDgY,IA/GxD,CA+G6Dnd,IA/G7D,CAAKiE,OAAL,CAAa,KAAb,CAAoB,GAApB,CA+G0B,CAA2C,GAA7C,CADrB,CAAA,CAETqH,KAFS,CAEH,aAFG,CAEY,QAAQ,CAACnG,CAAD,CAAI,CAAE,MAAOmoB,EAAA,CAAG8F,cAAH,EAAA,CAAoB6zB,oBAApB,EAAA,CAA2C4oB,iBAA3C,CAA6D,MAA7D;AAAqE1qE,CAArE,CAAuEgY,IAAvE,CAA4End,IAA5E,CAAT,CAFxB,CAAA,CAGZsL,KAHY,CAGN,aAHM,CAGS,QAHT,CAAA,CAIZA,KAJY,CAIN,QAJM,CAII,SAJJ,CAKdyU,EAAA,CAAKhH,MAAL,CAAY,OAAZ,CAAA,CACEC,IADF,CACO,OADP,CACgB,MADhB,CAAA,CAEEA,IAFF,CAEO,WAFP,CAEoB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO+7G,EAAA,CAAU/7G,CAAV,CAAYgY,IAAZ,CAAiBtT,OAAjB,CAAT,CAFhC,CAAA,CAGEmP,IAHF,CAGO,GAHP,CAGY,CAHZ,CAAA,CAIEA,IAJF,CAIO,GAJP,CAIY,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO+7G,EAAA,CAAU/7G,CAAV,CAAYgY,IAAZ,CAAiBtT,OAAjB,CAAP,CAAiC,CAAnC,CAJxB,CAAA,CAKEkW,IALF,CAKO,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASgY,IAAT,CAAcnd,IAAhB,CALnB,CAMA+f,EAAA,CAAKhH,MAAL,CAAY,OAAZ,CAAA,CACEC,IADF,CACO,OADP,CACgB,OADhB,CAAA,CAEEA,IAFF,CAEO,WAFP,CAEoB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAiC,GAAjC,CAAO+7G,CAAA,CAAU/7G,CAAV,CAAYgY,IAAZ,CAAiBtT,OAAjB,CAAT,CAFhC,CAAA,CAGEmP,IAHF,CAGO,GAHP,CAGY,CAHZ,CAAA,CAIEA,IAJF,CAIO,GAJP,CAIY,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO+7G,EAAA,CAAU/7G,CAAV,CAAYgY,IAAZ,CAAiBtT,OAAjB,CAAP,CAAiC,CAAnC,CAJxB,CAOGsV,EAAA,CAAMqB,IAAN,EAAA,CAAapH,MAAb,EAtJA,CAHgC,CArbC,CAklBlC00D,cAAeA,QAAQ,EAAG,CACzB,IAAIjrE,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACZr5D;CAAA,CAAGwb,MAAH,CAAU,EAAV,CACG,KAAIrd,EAAQ6B,CAAA,CAAG5B,QAAH,EAAZ,CACCH,EAAS+B,CAAA,CAAG9B,SAAH,EAGb,KAAA,CAAKs7D,YAAL,CACCjoD,EAAA,CAAGitG,IAAH,EAAA,CAAU3uG,IAAV,CAAe,CAAC1R,CAAD,CAAQF,CAAR,CAAf,CAAA,CAAgCsC,OAAhC,CAAwC,GAAxC,CADD,CAIIwjC,EAAAA,CAAMxyB,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CAAgCC,IAAhC,CAAqC,IAArC,CAA0C,IAAA,CAAK86D,QAAL,EAA1C,CAAA,CAA2D96D,IAA3D,CAAgE,OAAhE,CAAyEhY,CAAzE,CAAA,CAAgFgY,IAAhF,CAAqF,QAArF,CAA+FlY,CAA/F,CACV,KAAA,CAAKu8D,MAAL,CAAYz2B,CAAA,CAAI7tB,MAAJ,CAAW,GAAX,CAAZ,CAEA,KAAA,CAAKuoG,UAAL,CAAgB16E,CAAA,CAAI7tB,MAAJ,CAAW,MAAX,CAAA,CAAmBC,IAAnB,CAAwB,GAAxB,CAA6B,EAA7B,CAAA,CAAiCA,IAAjC,CAAsC,GAAtC,CAA2C,EAA3C,CAAhB,CAEsBnS,KAAAA,EAAtB,GAAI,IAAA,CAAKmpE,MAAL,EAAJ,EACC,IAAA,CAAKC,MAAL,CAAY7vE,GAAA,CAAIu4B,MAAJ,CAAW,aAAX,CAA0B,EAA1B,CAAZ,CAjB2B,CAllBQ,CAAtC,C,CCkBAv4B,GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CACrCyI,OAAQ,iBAD6B,CAErC7H,OAAQ,CAAC,oBAAD,CAF6B,CAGrC4V,MAAO,mBAH8B,CAIrCvuC,OAAQ,CAIJunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CAJL,CAQPykE,MAAO,EARA,CAYP07C,WAAY16G,IAAAA,EAZL,CAJ6B,CAkBlCyxB,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAIJijB,kBAAmB,CAAA,CAJf,CAWJ11C,KAAM,CAXF,CAkBH48G,YAAa,CAlBV,CA0BH5vF,UAAW,IA1BR,CA+BHqa,MAAO,EA/BJ,CAsCHwF,KAAM,IAtCH,CA8CHvkB,SAAU,CA9CP,CAsDHiG,cAAe,EAtDZ,CA+DHgyB,SAAU,MA/DP,CAuEH36B,MAAO,IAvEJ,CA+EHi3F,WAAY,KA/ET,CAiFH57C,MAAO,EAjFJ,CAwFH5/B,OAAQp/B,IAAAA,EAxFL,CAHG,CA6FR4yB,MAAO,mBA7FC,CAlByB,CAqHpC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE9B,IAAImjH,EAAgBA,QAAQ,CAACjwE,CAAD,CAAOhX,CAAP,CAActS,CAAd,CAAuB6sB,CAAvB,CAAgCD,CAAhC,CAA2C,CACtE,IAAA,CAAK9nB,YAAL,CAAkB,CAACwkB,KAAMA,CAAP,CAAlB,CAEA;IAAA,CAAKkwE,aAAL,EAAA,CAAqBz3F,WAArB,CAAiC/B,CAAjC,CAIA,EAFIqC,CAEJ,CAFY,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CAEZ,IACqB,CAApB,EAAIvC,CAAJ,CAAYnlB,MAAZ,EAA0C,CAA1C,EAA0BmlB,CAA1B,CAAkCnlB,MAAlC,EAAwE,CAAxE,EAA+CmlB,CAAA,CAAQ,CAAR,CAAA,CAAW+rB,UAAX,EAA/C,CACC,IAAA,CAAKuwB,SAAL,CAAe,CACdpjE,KAAM,IAAA,CAAK03B,QAAL,CAAc,cAAd,CADQ,CAEd8xB,MAAO,IAFO,CAAf,CADD,CAMC,IAAA,CAAK82D,aAAL,EAAA,CAAqBp3F,cAArB,CAAoCC,CAApC,CAA2C,CAAA,CAA3C,CAPF,CAPsE,CAmBvE,KAAA,CAAKo3F,WAAL,CAAmBxhH,GAAA,CAAIu4B,MAAJ,CAAW,+BAAX,CAA4C,CAC9Dp3B,UAAY,CACXuzC,KAAM,CACLrzC,GAAKigH,CAAA,CAAc3/G,IAAd,CAAmB,IAAnB,CAAyB,QAAzB,CADA,CAELO,MAAQ,IAFH,CADK,CADkD,CAA5C,CASnB,KAAA,CAAKu/G,aAAL,CAAqBzhH,GAAA,CAAIu4B,MAAJ,CAAW,iCAAX,CAA8C,CAClEp3B,UAAY,CACXuzC,KAAM,CACLrzC,GAAKigH,CAAA,CAAc3/G,IAAd,CAAmB,IAAnB,CAAyB,UAAzB,CADA,CAELO,MAAQ,IAFH,CADK,CADsD,CAA9C,CASrBlC,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjB4I,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADU;AAEjB+oF,WAAY1hH,GAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CACvCsB,MAAO,CACA,CAACla,KAAM,EAAP,CAAW+lB,OAAQ,QAAnB,CAA6BrM,MAAO,mBAApC,CADA,CADgC,CAA5B,CAFK,CAOjBq6D,KAAM,IAAI1zF,GAAJ,CAAQm1G,OAAR,CAAgB,CACTlhD,gBAAiB,UADR,CAErBp6B,MAAO,CACN74B,MAAO,QADD,CAENq5B,MAAO,IAAIr6B,GAAJ,CAAQ+c,IAAR,CAAaq4F,SAAb,CAAuB,CAC7B58E,OAAS,CAAC,MAAD,CAAS,MAAT,CADoB,CAAvB,CAFD,CAKNr3B,UAAW,CACV+gE,UAAWA,QAAQ,CAAC53B,CAAD,CAAOrgC,CAAP,CAAexH,CAAf,CAAmB8D,CAAnB,CAA0B,CACxC3G,CAAAA,CAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CACP,KAAA,CAAKo9G,aAAL,EAAA,CAAqB9uF,cAArB,CAAoC7yB,CAApC,CAAJ,CACC,IAAA,CAAK2hH,aAAL,EAAA,CAAqB7uF,cAArB,CAAoC9yB,CAApC,CADD,CAGC,IAAA,CAAK2hH,aAAL,EAAA,CAAqB5uF,YAArB,CAAkC/yB,CAAlC,CAL2C,CADnC,CASV2oE,gBAAiBA,QAAQ,CAACj+B,CAAD,CAAOrgC,CAAP,CAAexH,CAAf,CAAmB8D,CAAnB,CAA0BoE,CAA1B,CAAiC,CACzDA,CAAA,CAAMkzD,cAAN,EACalvD,EAAAA,CAAKhE,CAAA,CAAMg+D,KAAN,EAET,KAAI/oE,EAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CACPwb,EAAAA,CAAO,CAAC,IAAI3f,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,YAAd,CAAjB,CAAD,EAAgDv0B,KAAhD,CAAsD,CAACxE,CAAD,CAAtD,CACX;IAAA,CAAK8hH,UAAL,CAAgBl1F,SAAhB,CAA0B,QAA1B,CAAA,CAAoCwsD,OAApC,CAA4Cr5D,CAA5C,CAEA,KAAA,CAAK+hG,UAAL,CAAgB1rG,EAAhB,CAAmB,OAAnB,CAA4B,QAAQ,CAAC6rB,CAAD,CAAO5d,CAAP,CAAa,CACnCxd,IAAAA,EAAb,GAAIwd,CAAJ,EACC,IAAA,CAAKyO,cAAL,CAAoB9yB,CAApB,CAA0B,CAAA,CAA1B,CAF+C,CAAjD,CAIG,IAJH,CAIS,CAACqC,OAAQ,CAAA,CAAT,CAJT,CAKA,KAAA,CAAKy/G,UAAL,CAAgBz0E,MAAhB,CAAuBt+B,CAAvB,CAbgD,CAThD,CAwBVzM,MAAO,IAxBG,CALL,CAFc,CAAhB,CAPW,CA0CjByzD,KAAM,CACO1B,gBAAiB,UADxB,CAEIp6B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAAD,CAEL,CACPq4B,MAAO,mBADA,CAEPqM,OAAQ,MAFD,CAGPpM,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACG,mBACzB,EADcA,CACd,CADkBpB,KAClB,EACC,IAAA,CAAKkoF,aAAL,EAEA,CAFqBp6F,kBAErB,CAF0C,CAAA,CAE1C,CADA,IAAA,CAAKggB,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,sBAAd,CAAV,CACA,CAAA8B,CAAA,CAAIhO,UAAJ,CAAe,CAAA,CAAf,CAHD,GAMC,IAAA,CAAK80F,aAAL,EAAA,CAAqB50F,gBAArB,EACA,CAAA8N,CAAA,CAAIhO,UAAJ,CAAe,CAAA,CAAf,CAPD,CAFsB,CAHhB;AAePvqB,MAAO,IAfA,CAgBPuqB,WAAYA,QAAQ,CAACk1F,CAAD,CAAO,CAC1B,IAAA,CAAKh0B,QAAL,CAAcg0B,CAAA,CAAO,mBAAP,CAA6B,mBAA3C,CAD0B,CAhBpB,CAFK,CAqBX,CACDtoF,MAAO,mBADN,CAGDD,QAAU,IAAA,CAAKT,QAAL,CAAc,UAAd,CAHT,CAIDx3B,UAAY,CACXoY,MAAQ,CAAClY,GAAKA,QAAQ,EAAG,CACxB,IAAA,CAAKmrB,SAAL,CAAe,MAAf,CAAA,CAAuBC,UAAvB,CAAkC,CAAA,CAAlC,CACH,KAAA,CAAK80F,aAAL,EAAA,CAAqBr5F,UAArB,CAAkC,CAClC,KAAA,CAAKq5F,aAAL,EAAA,CAAqBv3F,WAArB,EACA,KAAA,CAAKu3F,aAAL,EAAA,CAAqBvqG,MAArB,EAJ2B,CAAjB,CAMN9U,MAAQ,IANF,CADG,CAJX,CArBW,CAmCX,CACDlB,MAAO,OADN,CAED4gH,MAAO,OAFN,CAGDjiG,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAHL,CAnCW,CAuCX,CACD33B,MAAO,QADN,CAED0kC,OAAQ,OAFP,CAGD02C,UAAW,CAAA,CAHV,CAIDx7E,MAAQ,EAJP,CAKD4kC,UAAY,CALX,CAMDF,SAAW,CANV,CAODC,SAAW,GAPV,CAQKpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAhB,CAD6B,CADpB;AAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACgf,MAAOgrB,CAAR,CAAlB,CACA,KAAA,CAAK3rC,SAAL,EAF0C,CAJjC,CAQVhpB,MAAO,IARG,CARhB,CAvCW,CAyDX,CACDlB,MAAO,OADN,CAED4gH,MAAO,OAFN,CAGDjiG,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAHL,CAzDW,CA6DX,CACD33B,MAAO,QADN,CAED0kC,OAAQ,OAFP,CAGD02C,UAAW,CAAA,CAHV,CAIDx7E,MAAQ,EAJP,CAKD4kC,UAAY,CALX,CAMDF,SAAW,CANV,CAODC,SAAW,GAPV,CAQKpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAhB,CACA,KAAA,CAAKu3F,QAAL,CAAch8E,CAAA,CAAOuB,QAAP,EAAd,CAF6B,CADpB,CAKVpB,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAAC44C,MAAO5O,CAAR,CAAlB,CACA,KAAA,CAAKgrD,QAAL,CAAchrD,CAAd,CAF0C,CALjC,CASV30D,MAAO,IATG,CARhB,CA7DW,CAgFX,CACDlB,MAAO,OADN,CAED0kC,OAAQ,sBAFP,CAGDk8E,MAAO,aAHN;AAIDjiG,KAAM,IAAA,CAAKgZ,QAAL,CAAc,iBAAd,CAJL,CAhFW,CAqFX,CACD33B,MAAO,QADN,CAED0kC,OAAQ,aAFP,CAGD02C,UAAW,CAAA,CAHV,CAIDx7E,MAAQ,EAJP,CAKD4kC,UAAY,CALX,CAMDF,SAAW,CANV,CAODC,SAAW,GAPV,CAQKpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,aAAjB,CAAT,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACu0F,YAAavqD,CAAd,CAAlB,CACT,KAAA,CAAKjvC,YAAL,CAAoBivC,CACpB,KAAA,CAAK3rC,SAAL,EAEI,KAAJ,CAAStD,YAAT,EAAyB,IAAA,CAAK2C,SAAL,EAAA,CAAiBqL,iBAAjB,EAAzB,CACC,IAAA,CAAK2rF,aAAL,EAAA,CAAqB9rF,UAArB,EADD,CAEyC,OAFzC,EAEW,IAAA,CAAKnL,WAAL,CAAiB,QAAjB,CAFX,EAGC,IAAA,CAAKi3F,aAAL,EAAA,CAAqBz6F,UAArB,EARkD,CAJjC,CAeV5kB,MAAO,IAfG,CARhB,CArFW,CA8GX,CACDlB,MAAO,OADN;AAED0kC,OAAQ,eAFP,CAGDk8E,MAAO,UAHN,CAIDjiG,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CAJL,CA9GW,CAmHX,CACD33B,MAAO,QADN,CAED0kC,OAAQ,UAFP,CAGD02C,UAAW,CAAA,CAHV,CAIDx7E,MAAQ,EAJP,CAKD4kC,UAAY,CALX,CAMDF,SAAW,CANV,CAODC,SAAW,GAPV,CAQKpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,MAAjB,CAAT,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACroB,KAAMqyD,CAAP,CAAlB,CACT,KAAA,CAAKlvC,aAAL,CAAqBkvC,CACrB,KAAA,CAAK3rC,SAAL,EACkB,KAAAk2F,CAAK50F,SAAL40F,CAAe,aAAfA,CAClB,CAAYh0B,WAAZ,CAAwBv2B,CAAxB,CALmD,CAJjC,CAWV30D,MAAO,IAXG,CARhB,CAnHW,CAFX,CA1CW,CAAlB,CAyLA,KAAA,CAAK/D,MAAL,CAAYunE,OAAZ,CAAoB1gE,IAApB,CAAyB,CACxBhE,MAAO,OADiB,CAExB84B,UAAY,OAFY,CAGxBmoB,cAAgB,KAHQ,CAIxBuqB,eAAiB,CAAA,CAJO;AAKxBzyC,SAAW,CAAA,CALa,CAMxBC,WAAa,IAAA,CAAKrB,QAAL,CAAc,QAAd,CANW,CAOxBsB,WAAa,OAPW,CAQxB3a,KAAO,YARiB,CASxB8a,WAAa,OATW,CAUxBD,aAAe,MAVS,CAWxBE,MAAO,IAAIr6B,GAAJ,CAAQ+c,IAAR,CAAaq4F,SAAb,CAAuB,CAC7B58E,OAAS,CAAC,MAAD,CAAS,OAAT,CADoB,CAE7Bzb,KAAS,CAAC,CACTuC,KAAO,IAAA,CAAKqZ,QAAL,CAAc,QAAd,CADE,CACyB94B,MAAO,QADhC,CAAD,CAEP,CACDyf,KAAO,IAAA,CAAKqZ,QAAL,CAAc,KAAd,CADN,CAC6B94B,MAAO,KADpC,CAFO,CAFoB,CAAvB,CAXiB,CAmBxBsB,UAAW,CACVC,YAAaA,QAAQ,CAACshD,CAAD,CAAQ,CAC5BA,CAAA,CAAMxc,QAAN,CAAe,IAAA,CAAK5b,WAAL,CAAiB,YAAjB,CAAf,CAD4B,CADnB,CAIVpoB,MAAO,IAJG,CAnBa,CAAzB,CA2BA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAK3F,EAAL,CAAQ,UAAR,CAAoB,QAAQ,CAAC+yD,CAAD,CAAY,CACnC+4C,CAAAA,CAAc,IAAA,CAAKx3F,WAAL,CAAiB,QAAjB,CAOlB;IAAA,CAAKy3F,aAAL,CAAmB,IAAIn7F,UAAJ,CALNzoB,CACZyf,OAAQ,IADIzf,CAEZC,UAAW,IAAXA,CAAgB6M,IAFJ9M,CAGZ2oB,WAJgCrgB,IAAAA,EAAhBqgB,GAAAg7F,CAAAh7F,CAA4B,CAAA,CAA5BA,CAAmD,MAAnDA,GAAmCg7F,CACvC3jH,CAKM,CAAnB,CARuC,CAAxC,CASG,IATH,CAgBA,KAAA,CAAK44G,WAAL,CAAiB,oBAAjB,CAAuC,QAAQ,CAAC/tE,CAAD,CAAM3kC,CAAN,CAAY,CACf,CAA3C,CAAI,IAAA,CAAKkmB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAJ,EACOvxB,CAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBmG,CAAAA,CAAInG,CAAA,CAAKg0C,OAAL,EACR,KAAA,CAAK/mB,YAAL,CAAkB,CAACzC,MAAOrkB,CAAR,CAAlB,CACA,KAAA,CAAKmlB,SAAL,EAH4B,CAA7B,CAFmD,CAA3D,CAUA,KAAA,CAAK6rF,WAAL,CAAiB,sBAAjB,CAAyC,QAAQ,CAAC/tE,CAAD,CAAM3kC,CAAN,CAAY,CAC5D,GAAG2kC,CAAH,EAAUA,CAAV,CAAchoC,KAAd,EAAqB,IAArB,CAA0BA,KAA1B,CAAkC,MAAO,CAAA,CAEzCqD,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACrBmG,CAAAA,CAAInG,CAAA,CAAKg0C,OAAL,EACR,KAAA,CAAK/mB,YAAL,CAAkB,CAACzC,MAAOrkB,CAAR,CAAlB,CACA,KAAA,CAAKmlB,SAAL,EAHyB,CAA7B,CAH4D,CAA7D,CAUA,KAAA,CAAKlV,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAY,CACpC,IAAA,CAAKuY,SAAL,CAAe,cAAf;AAA+BqG,CAA/B,CAAoC5e,CAApC,CADoC,CAArC,CAIA,KAAA,CAAKpU,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAE5CA,CAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CAC5B,IAAIoiH,CACGhiH,IAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ,CAAyBoiH,CAAzB,CAAqCpiH,CAArC,CACSA,CAAJ,CAASA,IAAT,CAAgBoiH,CAAhB,CAA4BpiH,CAA5B,CAAiCA,IAAjC,CACIA,CADJ,CACSg0C,OADT,GACmBouE,CADnB,CAC+BpiH,CAAA,CAAKg0C,OAAL,EAD/B,CAIL,KAAA,CAAK/mB,YAAL,CAAkB,CAACzC,MAAO43F,CAAR,CAAlB,CACA,KAAA,CAAK92F,SAAL,EARyB,CAA7B,CASM,IATN,CAF4C,CAA7C,CAcA,KAAA,CAAKlV,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC1C,IAAA,CAAK8rF,aAAL,CAAmBnoE,SAAnB,CAA6B3jB,CAA7B,CACA,KAAA,CAAK6rF,WAAL,CAAiBloE,SAAjB,CAA2B3jB,CAA3B,CAEIvE,EAAAA,CAAS,IAAA,CAAKgG,YAAL,EACZhG,EAAJ,CAAWlnB,IAAX,EACC,OAAOknB,CAAP,CAAcya,KAIf,KAAIkqE,EAAY,IAAA,CAAKxrF,SAAL,EAAA,CAAiBqL,iBAAjB,EAAhB,CACI2uE,EAAW,IAAA,CAAK/3E,SAAL,CAAe,UAAf,CADf,CAEI40F,EAAc,IAAA,CAAK50F,SAAL,CAAe,aAAf,CACD,WAAjB,EAAI4E,CAAJ,CAAWigB,IAAX,EAA4C,CAA5C,EAA+B0kE,CAA/B,EACC,IAAA,CAAKr+E,WAAL,CAAiB,MAAjB,CAAyB,UAAzB,CAEA,CADA2C,CACA;AADQ,IACR,CADaonF,aACb,CAAAL,CAAA,CAAYh0B,WAAZ,CAAwBmX,CAAA,CAASn9D,QAAT,EAAxB,CAHD,GAKC,IAAA,CAAK1P,WAAL,CAAiB,MAAjB,CAAyB,QAAzB,CAOA,CANA,OAAOtG,CAAP,CAAc5sB,IAMd,CALA61B,CAKA,CALQ,IAKR,CALamnF,WAKb,CAJAjd,CAAA,CAAS5gE,IAAT,EAIA,CAHA,IAAA,CAAKnX,SAAL,CAAe,eAAf,CAAA,CAAgCmX,IAAhC,EAGA,CAFIy9E,CAEJ,CAFkB,IAAA,CAAK50F,SAAL,CAAe,aAAf,CAElB,CADA40F,CAAA,CAAYh0B,WAAZ,CAAwB2oB,CAAxB,CACA,CAAI/qF,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,aAAjB,CAAT,CAAyCyrF,CAAzC,CAAJ,EACCqL,CAAA,CAAYl7E,QAAZ,CAAqB6vE,CAArB,CAbF,CAkBA17E,EAAA,CAAMrkB,EAAN,CAAS,MAAT,CAAiB,QAAQ,CAACqkB,CAAD,CAAQtS,CAAR,CAAiB,CACzC,IAASplB,CAAT,CAAa,CAAb,CAAoB,CAApB,CAAgBA,CAAhB,CAAuBA,CAAA,EAAvB,CAA4B,CAC3B,IAAIg6B,EAAI5U,CAAA,CAAQplB,CAAR,CACJg6B,EAAJ,EACC,IAAA,CAAK4kF,aAAL,EAAA,CAAqBx2F,eAArB,CAAqC4R,CAArC,CAAwC,CAAA,CAAxC,CAH0B,CADa,CAA1C,CAOG,IAPH,CAOS,CAAC16B,OAAQ,CAAA,CAAT,CAPT,CAQAo4B,EAAA,CAAMqa,IAAN,CAAW,CAACtjB,OAAQA,CAAT,CAAX,CAvC6C,CAA9C,CAwCM,IAxCN,CApT8B,CArHM,CAodjClG,UAAWA,QAAS,EAAG,CACvB,IAAA,CAAKsB,SAAL,CAAe,MAAf,CAAA,CAAuBC,UAAvB,CAAkC,CAAA,CAAlC,CACH,KAAI2E,EAAS,IAAA,CAAKgG,YAAL,EACmB;UAAhC,GAAG,IAAA,CAAK9M,WAAL,CAAiB,MAAjB,CAAH,EACC,IAAA,CAAKm3F,aAAL,CAAmB/sE,IAAnB,CAAwB,CAACtjB,OAAQA,CAAT,CAAxB,CAE+B,SAAhC,GAAG,IAAA,CAAK9G,WAAL,CAAiB,MAAjB,CAAH,GACC,OAAO8G,CAAP,CAAc5sB,IACd,CAAA,IAAA,CAAKg9G,WAAL,CAAiB9sE,IAAjB,CAAsB,CAACtjB,OAAQA,CAAT,CAAtB,CAFD,CAN0B,CApdU,CAAtC,C,CCJApxB,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCyI,OAAQ,iBADyB,CAEjC7H,OAAQ,CAAC,oBAAD,CAFyB,CAGjCsK,SAAU,CAAC,6BAAD,CAHuB,CAIjCsL,MAAO,eAJ0B,CAKjCvuC,OAAQ,CAIJunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CAER,CACCse,KAAM,MADP,CAECte,MAAO,QAFR,CAGCi5B,WAAY,OAHb,CAICr5B,MAAO,GAJR,CAKC0kC,SAAU,CALX,CAMCC,SAAU,GANX,CAOIpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7B,IAAIo8E,EAASp8E,CAAA,CAAOnL,EAAP,CAAU,QAAV,CAATunF,CAA6B7/E,KACjCyD,EAAA,CAAOE,aAAP,CAAqBk8E,CAAA,CAAOtpF,QAAP,CAAgB,gBAAhB,CAArB,CAF6B,CADpB,CAPf,CAFQ,CAeN,CACQ33B,MAAO,YADf,CAEDi5B,WAAY,OAFX,CAGQ00B,QAAS,CAHjB,CAIQwyB,SAAU,CAAA,CAJlB,CAKQ7hE,KAAM,mBALd,CAMQua,MAAO,CAAC,CACJ4K,SAAU,KADN;AAEJnlB,KAAM,mBAFF,CAGJklB,WAAY,KAHR,CAAD,CAIL,CACEC,SAAU,UADZ,CAEEnlB,KAAM,mBAFR,CAGEklB,WAAY,UAHd,CAIEt5B,MAAO,mBAJT,CAJK,CANf,CAgBE/J,UAAW,CACVC,YAAaA,QAAQ,CAAC8gH,CAAD,CAAa,CACjC,IAAI9/E,EAAQ,IAAA,CAAK1H,EAAL,CAAQ,QAAR,CAAR0H,CAA0BA,KAC9B,KAAA,CAAK2D,aAAL,CAAmB,aAAnB,CACA,KAAInX,EAAMwT,CAAA,CAAM9X,WAAN,CAAkB,mBAAlB,CACV43F,EAAA,CAAWC,QAAX,EAAA,CAAsB3pG,OAAtB,CAA8B,QAAQ,CAACyL,CAAD,CAAO,CAC5CA,CAAA,CAAKm+F,WAAL,CAAiBhgF,CAAA,CAAMzJ,QAAN,CAAe1U,CAAf,CAAoBugB,UAApB,CAAjB,CACAvgB,EAAA,CAAK2gB,OAAL,CAAe3gB,CAAf,CAAoBugB,UAApB,EAAgC5V,CAFY,CAA7C,CAIA,KAAA,CAAKsX,QAAL,CAAc,CAACgU,kBAAmBtrB,CAApB,CAAd,CARiC,CADxB,CAhBb,CAfM,CA2CN,CAAC5tB,MAAO,oBAAR,CA3CM,CAJL,CALyB,CAsD9Bk3B,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CAKJ4U,MAAO,CALH,CAcJkZ,SAAU,MAdN,CAqBJ36B,MAAO3jB,IAAAA,EArBH;AA4BJyzC,kBAAmB,UA5Bf,CAwCJ11C,KAAM,EAxCF,CA+CJ6F,SAAU5D,IAAAA,EA/CN,CAoDJxC,MAAOwC,IAAAA,EApDH,CAyDJ4qC,KAAM,QAzDF,CA2DJgxE,UAAW,SA3DP,CA6DJv3C,OAAQ,CAAA,CA7DJ,CAHG,CAkEXzxC,MAAO,mBAlEI,CAtDqB,CA2H9B2oB,OAAQ,KA3HsB,CA4H9B0d,mBAAoBj5D,IAAAA,EA5HU,CAkI9BjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF6B,CAlIA,CAuI9B2xB,cAAeA,QAAQ,EAAG,CAC5B,IAAA,CAAKxW,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACG3b,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAETo7B,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP;AAIVp6B,MAAO,CAAC,CACJ74B,MAAO,kBADH,CAAD,CAEL,CACD0kC,OAAQ,OADP,CAED/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CAFL,CAGDS,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAHR,CAIDW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAA,CAAK5N,YAAL,CAAkB,CACjBxiB,SAAU5D,IAAAA,EADO,CAEjB4qC,KAAM5qC,IAAAA,EAFW,CAGjB2jB,MAAO3jB,IAAAA,EAHU,CAAlB,CAKA,KAAA,CAAKs4C,eAAL,EANsB,CAJtB,CAYD78C,MAAO,IAZN,CAFK,CAejB,CACDyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADL,CAEDS,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAFR,CAGDU,MAAO,mBAHN,CAIDwI,KAAM,CACL1gC,UAAW,CACVC,YAAaA,QAAQ,CAACygC,CAAD,CAAO,CAC3B,IAAIjT,EAAM,IAAA,CAAKtE,WAAL,CAAiB,WAAjB,CACVuX,EAAA,CAAKhI,KAAL,CAAW1zB,IAAX,CAAgB,QAAQ,CAAC8d,CAAD,CAAO,CAC1BA,CAAA,CAAK88D,SAAL,EAAJ,EAAsBnyD,CAAtB,EACC3K,CAAA,CAAKokD,MAAL,CAAYpkD,CAAZ,CAAiBq+F,SAAjB,CAF6B,CAA/B,CAF2B,CADlB,CASVpgH,MAAO,IATG,CADN,CAYUynD,SAAU,CACN3oD,MAAO,UADD;AAENs4B,QAASA,QAAQ,CAACrV,CAAD,CAAO2gB,CAAP,CAAgB,CAChB,eAAhB,EAAI3gB,CAAJ,CAASjjB,KAAT,CACC,IAAA,CAAK02B,WAAL,CAAiB,QAAjB,CAA2BzT,CAA3B,CAAgC2gB,OAAhC,CADD,CAGC,IAAA,CAAKlN,WAAL,CAAiB,WAAjB,CAA8BzT,CAAA,CAAK88D,SAAL,EAA9B,CAED,KAAA,CAAKhiC,eAAL,EANgC,CAF3B,CAUN78C,MAAO,IAVD,CAZpB,CAwBU23B,MAAO,CAAC,CACP74B,MAAO,eADA,CAEP2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFC,CAGJS,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAHL,CAIJiM,QAAsC,CAAA,CAAtCA,GAAS,IAAA,CAAKta,WAAL,CAAiB,QAAjB,CAATsa,EAA0E,MAA1EA,EAA8C,IAAA,CAAKta,WAAL,CAAiB,QAAjB,CAJ1C,CAAD,CAKL,GALK,CAKD,CACFob,OAAQ,MADN,CAEF/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CAFJ,CAGFS,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAHP,CAIFU,MAAO,uBAJL,CALC,CAUL,CACEqM,OAAQ,KADV,CAEE/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,KAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,QAAd,CAHX;AAIEU,MAAO,uBAJT,CAVK,CAeL,CACEqM,OAAQ,MADV,CAEE/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAHX,CAIEU,MAAO,uBAJT,CAfK,CAoBL,CACEqM,OAAQ,SADV,CAEE/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAHX,CAIEU,MAAO,uBAJT,CApBK,CAyBL,CACEqM,OAAQ,SADV,CAEE/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAHX,CAIEU,MAAO,uBAJT,CAzBK,CAxBjB,CAJL,CAfiB,CAJG,CAAD,CAFJ,CAAhB,CAoFG,KAAA,CAAK6F,UAAL,CAAgBvjB,SAAhB,CAtFsB,CAvII,CAgO9Bxa,UAAW,CACV8iE,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CACnC,IAAA,CAAKopB,eAAL,EADmC,CAD1B,CAIVy4B,aAAcA,QAAQ,CAACxuC,CAAD,CAAM3kC,CAAN,CAAa,CAClC,IAAI+8D,EAAa,EACjB/8D;CAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ,CAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHI,CAA7B,CAKA,KAAA,CAAKlc,WAAL,CAAiB,OAAjB,CAA0B0pC,CAAA,EAAgC,CAAhC,CAAcA,CAAd,CAAyBx+D,MAAzB,CAAoCw+D,CAApC,CAAiD36D,IAAAA,EAA3E,CACA,KAAA,CAAKs4C,eAAL,EARkC,CAJzB,CAcVurD,mBAAoBA,QAAQ,CAACthE,CAAD,CAAM3kC,CAAN,CAAa,CACxC,IAAA,CAAKqzB,WAAL,CAAiB,OAAjB,CAA0BrzB,CAAA,CAAM4P,GAAN,CAAU,QAAQ,CAACrU,CAAD,CAAO,CAAC,MAAOA,EAAA,CAAKg0C,OAAL,EAAR,CAAzB,CAA1B,CACA,KAAA,CAAKmL,eAAL,EAFwC,CAd/B,CAkBVkvB,iBAAkBA,QAAQ,CAACjlC,CAAD,CAAMznC,CAAN,CAAgB,CAC5C,IAAA,CAAKm2B,WAAL,CAAiB,UAAjB,CAA6B,IAAA,CAAKnN,SAAL,EAAA,CAAiBC,WAAjB,CAA6BjpB,CAA7B,CAAA,CAAuC2zC,QAAvC,EAA7B,CACG,KAAA,CAAKX,iBAAL,EAFyC,CAlBhC,CAsBVi2D,iBAAkBA,QAAQ,CAACxhE,CAAD,CAAMsuC,CAAN,CAAiB,CACpB,CAAtB,EAAIA,CAAJ,CAAc10E,MAAd,EACC,IAAA,CAAK+/B,SAAL,CAAe,kBAAf;AAAmC,IAAnC,CAAyC20C,CAAA,CAAU,CAAV,CAAzC,CAFyC,CAtBjC,CA2BVltD,MAAOA,QAAQ,CAAC4e,CAAD,CAAM5e,CAAN,CAAa,CAC9B,IAAA,CAAKuY,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqCvY,CAArC,CAD8B,CA3BlB,CAhOmB,CAgQ9B20B,gBAAiBA,QAAQ,CAAC3tB,CAAD,CAAS,CAEjC,GACsC,CADtC,CACC,IAAA,CAAK7G,SAAL,EAAA,CAAiBqL,iBAAjB,EADD,EAE2B,UAF3B,EAEC,IAAA,CAAKtL,WAAL,CAAiB,MAAjB,CAFD,EAGuD,CAHvD,CAGCiT,KAAA,CAAMmc,IAAN,CAAW,IAAA,CAAKpvB,WAAL,CAAiB,UAAjB,CAAX,EAA2C,EAA3C,CAHD,CAGgD1nB,MAHhD,CAKC,MAAO,KAAA,CAAK2xC,iBAAL,EAER,IAAK,IAAA,CAAKjqB,WAAL,CAAiB,OAAjB,CAAL,CAAA,CAsBA8G,CAAA,CAASA,CAAT,EAAmB,EAEnB,KAAI8oB,EAAoB,IAAA,CAAK5vB,WAAL,CAAiB,mBAAjB,CACxBtqB,IAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoB,CACnB5sB,KAAM,IAAA,CAAK+lB,SAAL,EAAA,CAAiBqL,iBAAjB,EADa,CAEtBiW,MAAO,GAFe,CAGnBkZ,SAAU,EAHS,CAApB,CAKA,KAAIw9D,EAAY,IAAA,CAAKh4F,SAAL,EAAA,CAAiBtW,GAAjB,CAAqB,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAOA,EAAA,CAAIoyC,YAAJ,EAAR,CAAnC,CACZ31C,IAAA,CAAIu9B,KAAJ,CAAU2jD,MAAV,CAAiBqhC,CAAjB,CAAJ,CAAgC3/G,MAAhC;AAAuC2/G,CAAvC,CAAiD3/G,MAAjD,GACC2/G,CADD,CACaA,CAAA,CAAUtuG,GAAV,CAAc,QAAQ,CAAC1Q,CAAD,CAAKZ,CAAL,CAAQ,CAAC,MAAQA,EAAR,CAAU,CAAV,CAAa,GAAb,CAAkBY,CAAnB,CAA9B,CADb,CAGAvD,IAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoB,IAAA,CAAKgG,YAAL,EAApB,CACA,KAAA,CAAK7M,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACtCtjB,OAAQA,CAD8B,CAEtCiS,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAAA,IAC3C73B,EAAO,EADoC,CAChC8vC,EAAS,EADuB,CACnBw1D,EAAY,IAAA,CAAK/3F,WAAL,CAAiB,WAAjB,CACxCvC,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS1D,CAAT,CAAgB,CAAA,IAChC3G,EAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAA+B8F,EAAA,CAAO9F,GAAP,CAAW,UAAX,CAC1C,KAAIoF,EAAQ,IAAA,CAAKypB,cAAL,EAAA,CAAsBC,eAAtB,CAAsCrzB,CAAtC,CAA4C,CAAA,CAA5C,CACZqK,EAAA,CAAO9F,GAAP,CAAW,eAAX,CAAA,CAA4BqU,OAA5B,CAAoC,QAAQ,CAACmkB,CAAD,CAAIh6B,CAAJ,CAAO,CAC7Coa,CAAA,CAAKpa,CAAL,CAAL,GACCoa,CAAA,CAAKpa,CAAL,CADD,CACW,CAAC,MAAS4/G,CAAA,CAAU5/G,CAAV,CAAV,CADX,CAGAoa,EAAA,CAAKpa,CAAL,CAAA,CAAQ,GAAR,CAAY4D,CAAZ,CAAA,CAAwC,UAAnB,EAAA2zC,CAAA,CAAgCvd,CAAA,CAAE6lF,OAAF,CAAU,CAAV,CAAhC,CAA+C7lF,CACpE5f,EAAA,CAAKpa,CAAL,CAAA,CAAQ,MAAR,CAAe4D,CAAf,CAAA,CAAwB3G,CAL0B,CAAnD,CAMG,IANH,CASe,MAAf,EAAIyiH,CAAJ,EAEC,CADuB,SAAXI,EAAAJ,CAAAI,CAAuB,CAAC,KAAD,CAAO,MAAP,CAAvBA,CAAwC,CAACJ,CAAD,CACpD,EAAM7pG,OAAN,CAAc,QAAQ,CAACkqG,CAAD,CAAO,CACtB71D,CAAA,CAAO7nD,IAAP,CAAY,CACXkF,KAAY,SAAN;AAAAw4G,CAAA,CAAkB,KAAlB,CAA0BA,CADrB,CAEd37G,MAAOnH,CAFO,CAGd8tD,OAAQ,OAHM,CAIdC,OAAQ,GAARA,CAAYpnD,CAJE,CAKd3G,KAAMA,CALQ,CAMdqM,OAAQ,CAAC1C,CAAD,CANM,CAOda,MAAkB,SAAX,EAAAi4G,CAAA,EAA8B,KAA9B,EAAwBK,CAAxB,CAAsC,CAC5C9Q,QAAS,MADmC,CAAtC,CAEH,CACHz7D,MAAO,MAAPA,CAAc5vC,CADX,CATU,CAAZ,CADsB,CAA7B,CAcG,IAdH,CAdmC,CAAxC,CA8BG,IA9BH,CAgCIlC,EAAAA,CAAQ0jB,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEiX,OAAF,EAAR,CAAxB,CACR3nC,EAAAA,CAAS5H,CAAA,CAAM4P,GAAN,CAAU,QAAQ,CAACrU,CAAD,CAAO,CACrC,MAAQ,KAAA,CAAKozB,cAAL,EAAA,CAAsBC,eAAtB,CAAsCrzB,CAAtC,CAA4C,CAAA,CAA5C,CAD6B,CAAzB,CAEV,IAFU,CAGE,MAAf,EAAIyiH,CAAJ,EACCx1D,CAAA,CAAO7nD,IAAP,CAAY,CACXkF,KAAK,KADM,CAEXnD,MAAO1C,CAFI,CAGX4H,OAAQA,CAHG,CAIXyhD,OAAQ,OAJG,CAKXC,OAAoB,CAAZ,CAAA5wC,CAAA,CAAKna,MAAL,CAAgB0Q,MAAA,CAAOC,IAAP,CAAYwJ,CAAA,CAAK,CAAL,CAAZ,CAAA,CAAqBlJ,MAArB,CAA4B,QAAQ,CAACsiC,CAAD,CAAQ,CAAC,MAAwB,GAAxB,EAAOA,CAAA,CAAMtV,MAAN,CAAa,CAAb,CAAR,CAA5C,CAAhB,CAA6Fp6B,IAAAA,EAL1F,CAMR2D,MAAO,CACN+rC,MAAOpuB,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAAC0oB,CAAD,CAAGh6B,CAAH,CAAM,CAAC,MAAO,MAAP,CAAcA,CAAf,CAA1B,CADD,CANC,CAAZ,CAYM03B,EAAAA,CAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CAC5CC,OAAoB,CAAZ;AAAAzb,CAAA,CAAKna,MAAL,CAAgB0Q,MAAA,CAAOC,IAAP,CAAYwJ,CAAA,CAAK,CAAL,CAAZ,CAAhB,CAAuCtW,IAAAA,EADH,CAE5CsW,KAAMA,CAFsC,CAAjC,CAKf,KAAA,CAAKyzF,UAAL,CAAgB,CACZn2E,MAAOA,CADK,CAEZwyB,OAAQA,CAFI,CAGZF,KAAM,CAAC,CACAziD,KAAM,SADN,CAEA4iB,SAAU,MAFV,CAGA0Y,UAAW,CAHX,CAIAz+B,MAAO,CACN4Y,KAAM,IAAA,CAAKgZ,QAAL,CAAc,IAAA,CAAKrO,WAAL,CAAiB,mBAAjB,CAAd,CAAoD,OAApD,CADA,CAJP,CAAD,CAOJ,CACDpgB,KAAM,UADL,CAEK4iB,SAAU,QAFf,CAGK/lB,MAAO,CACN4Y,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CADA,CAHZ,CAPI,CAHM,CAAhB,CAxD+C,CAFV,CA8EtCz2B,MAAO,IA9E+B,CAAvC,CAnCA,CAAA,IACI,KAAA,CAAKqoB,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACtCtjB,OAAQ,CACPya,MAAO,CADA,CAEPkZ,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAFH,CAD8B,CAKtC+Y,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3B,CAApB,EAAI7sB,CAAJ,CAAYnlB,MAAZ,CACK+xC,CAAJ,EAAiBA,CAAjB,CAA2B9V,KAA3B,CACC,IAAA,CAAKnI,SAAL,CAAe,IAAA,CAAKiC,QAAL,CAAc,WAAd,CAAf,CAA0C,wBAA1C;AAAmEgc,CAAnE,CAA6E9V,KAA7E,CAAmF,MAAnF,CADD,CAGC,IAAA,CAAKnI,SAAL,CAAe,IAAA,CAAKiC,QAAL,CAAc,WAAd,CAAf,CAJF,EAOI,IAAA,CAAKjB,WAAL,CAAiB,OAAjB,CAA0B3P,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEiX,OAAF,EAAR,CAAxB,CAA1B,CACA,CAAA,IAAA,CAAKmL,eAAL,EARJ,CAD+C,CALV,CAiBtC78C,MAAO,IAjB+B,CAAvC,CAV6B,CAhQJ,CA+X9BygH,eAAgBA,QAAS,CAAC1gD,CAAD,CAAUh4D,CAAV,CAAkB1K,CAAlB,CAAuB,CAAA,IAE3C0kC,EAAQ1kC,CAAA,CAAI42C,KAAJ,CAAU/xB,KAAV,CAAgB,GAAhB,CAFmC,CAG9C/Z,EAAyB,CAAd,EAAA45B,CAAA,CAAMrhC,MAAN,CAAkBrD,CAAlB,CAAsBgH,KAAtB,CAA8B09B,CAAA,CAAM,CAAN,CACzCz+B,EAAAA,CAAMwlB,QAAA,CAASiZ,CAAA,CAAM,CAAN,CAAT,CAJwC,KAK9Cl9B,EAAQxH,CAAA,CAAIstD,MAAJ,CAAWvX,QAAX,EACR11C,EAAAA,CAAOI,GAAA,CAAIw9B,OAAJ,CAAYz2B,CAAZ,CAAA,CAAqBA,CAAA,CAAMvB,CAAN,CAArB,CAAkCuB,CANK,KAO9CkF,EAAS1M,CAAA,CAAIstD,MAAJ,CAAWzwB,SAAX,EAEHn7B,EAAAA,CAAO,uDAAPA,EADiB,CAAfsI,EAAA0C,CAAA1C,CAAO3G,MAAP2G,CAAmB0C,CAAA,CAAO,CAAP,CAAnB1C,CAA+B0C,CAAA,CAAOzG,CAAP,CACjCvE,EACF,8EADEA;AAEFrB,CAFEqB,CAEG,WAFHA,CAEegJ,CAAA,CAAO9F,GAAP,CAAW5E,CAAX,CAAe42C,KAAf,CAFfl1C,CAGL,UAHKA,CAGM,IAAA,CAAKspB,SAAL,EAAA,CAAiBC,WAAjB,CAA6BngB,CAA7B,CAAA,CAAuCyrB,aAAvC,EAHN70B,CAG6D,MAEnEA,EAAA,CAD0B,QAA9B,EAAI,IAAA,CAAKqpB,WAAL,CAAiB,MAAjB,CAAJ,CACIrpB,CADJ,EACU,kCADV,CAC6C,IAAA,CAAK03B,QAAL,CAAc,cAAd,CAD7C,EAGC13B,CAHD,EAGO,OAHP,CAGe,IAAA,CAAK03B,QAAL,CAAc,SAAd,CAHf,CAGwC,GAHxC,EAG6Cp5B,CAH7C,CAGiDgH,KAHjD,CAGuD,CAHvD,EAKG07D,EAAA,CAAQ9a,OAAR,CAAgBlmD,CAAhB,CAlB+C,CA/XlB,CAqZ9BszC,kBAAmBA,QAAQ,CAACnjB,CAAD,CAAS,CACnC,GAAK,IAAA,CAAK9G,WAAL,CAAiB,OAAjB,CAAL,CAAA,CAeA,IAAA,CAAKoN,WAAL,CAAiB,MAAjB,CAAyB,UAAzB,CACAtG,EAAA,CAASA,CAAT,EAAmB,EACnB,KAAI8oB,EAAoB,IAAA,CAAK5vB,WAAL,CAAiB,mBAAjB,CACxBtqB,IAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoB,CACtBya,MAAO,CADe,CAEtB/nC,KAAM,SAFgB,CAGtBihD,SAAUt+C,IAAAA,EAHY,CAApB,CAKgB,KAAA,CAAK8jB,SAAL,EAAA,CAAiBtW,GAAjB,CAAqB,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAOA,EAAA,CAAIoyC,YAAJ,EAAR,CAAnC,CAGf;IAAAitE,EADyC,CAA1C,EAAI,IAAA,CAAKr4F,SAAL,EAAA,CAAiBqL,iBAAjB,EAAJ,CACW,IAAA,CAAKrL,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,CAA7B,CADX,CAIW,IAAA,CAAKD,SAAL,EAAA,CAAiBC,WAAjB,CAA6B,IAAA,CAAKF,WAAL,CAAiB,UAAjB,CAA7B,CAEXtqB,IAAA,CAAIo/B,OAAJ,CAAYhO,CAAZ,CAAoB,IAAA,CAAKgG,YAAL,EAApB,CAEA,KAAA,CAAK7M,SAAL,EAAA,CAAiBkqB,gBAAjB,EAAA,CAAoCC,IAApC,CAAyC,CACxCtjB,OAAQA,CADgC,CAExCiS,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAAA,IAC3C73B,EAAO,EADoC,CAChC8vC,EAAS,EADuB,CAClBw1D,EAAY,IAAA,CAAK/3F,WAAL,CAAiB,WAAjB,CACpCs4F,EAAL,EACI76F,CAAA,CAAQjkB,IAAR,CAAa,QAAQ,CAACme,CAAD,CAAGtY,CAAH,CAAM,CAC1B,MAAIsY,EAAA,CAAE2xB,OAAF,EAAJ,EAAiBjqC,CAAA,CAAEiqC,OAAF,EAAjB,CACQ3xB,CAAA,CAAEixB,WAAF,EADR,CAC0BvpC,CAAA,CAAEupC,WAAF,EAD1B,CAGOjxB,CAAA,CAAE2xB,OAAF,EAAA,CAAYla,aAAZ,CAA0B/vB,CAAA,CAAEiqC,OAAF,EAA1B,CAJmB,CAA3B,CAOJ7rB,EAAA,CAAQvP,OAAR,CAAgB,QAAQ,CAACvO,CAAD,CAAS1D,CAAT,CAAgB,CACpC,IAAI3G,EAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAAX,CACIkG,EAAWJ,CAAA,CAAO9F,GAAP,CAAW,UAAX,CADf,CAEIoF,EAAQq5G,CAAA,CAAY,IAAA,CAAK5vF,cAAL,EAAA,CAAsBC,eAAtB,CAAsCrzB,CAAtC;AAA4C,CAAA,CAA5C,CAAZ,CAAgE,IAAA,CAAKozB,cAAL,EAAA,CAAsBoK,QAAtB,CAA+B/yB,CAA/B,CAAyC,CAAA,CAAzC,CACxEA,EAAJ,CAAeJ,CAAA,CAAO9F,GAAP,CAAW,UAAX,CACf8F,EAAA,CAAO9F,GAAP,CAAW,eAAX,CAAA,CAA4BqU,OAA5B,CAAoC,QAAQ,CAACmkB,CAAD,CAAIh6B,CAAJ,CAAO,CAC7Coa,CAAA,CAAKpa,CAAL,CAAL,GACCoa,CAAA,CAAKpa,CAAL,CADD,CACW,CAAC0H,SAAUA,CAAX,CAAqB9D,MAAQ5D,CAAR4D,CAAU,CAA/B,CADX,CAGAwW,EAAA,CAAKpa,CAAL,CAAA,CAAQ,GAAR,CAAY4D,CAAZ,CAAkB,GAAlB,CAAsB8D,CAAtB,CAAA,CAAqD,UAAnB,EAAA6vC,CAAA,CAAgCvd,CAAA,CAAE6lF,OAAF,CAAU,CAAV,CAAhC,CAA+C7lF,CACjF5f,EAAA,CAAKpa,CAAL,CAAA,CAAQ,MAAR,CAAe4D,CAAf,CAAA,CAAwB3G,CAL0B,CAAnD,CAMG,IANH,CAQe,MAAf,EAAIyiH,CAAJ,EAEC,CADuB,SAAXI,EAAAJ,CAAAI,CAAuB,CAAC,KAAD,CAAO,MAAP,CAAvBA,CAAwC,CAACJ,CAAD,CACpD,EAAM7pG,OAAN,CAAc,QAAQ,CAACkqG,CAAD,CAAO,CACtB71D,CAAA,CAAO7nD,IAAP,CAAY,CACXkF,KAAY,SAAN,EAAAw4G,CAAA,CAAkB,KAAlB,CAA0BA,CADrB,CAEd37G,MAAO67G,CAAA,CAAYhjH,CAAZ,CAAoByK,CAApB,CAA6B,CAA7B,CAAgC,IAAhC,CAAqCzK,CAF9B,CAGd8tD,OAAQ,OAHM,CAIdC,OAAQ,GAARA,CAAYpnD,CAAZonD,CAAkB,GAAlBA,CAAsBtjD,CAJR,CAKdzK,KAAMA,CALQ,CAMdqM,OAAQ,CAAC1C,CAAD,CANM,CAOda,MAAkB,SAAX,EAAAi4G,CAAA,EAA8B,KAA9B,EAAwBK,CAAxB,CAAsC,CAC5C9Q,QAAS,MADmC,CAAtC,CAEH,CACHz7D,MAAO,MAAPA,CAAc5vC,CADX,CATU,CAAZ,CADsB,CAA7B,CAcG,IAdH,CAfmC,CAAxC,CAgCG,IAhCH,CAkCA,IAAe,KAAf,EAAI87G,CAAJ,CAAsB,CACrB,IAAIQ,EAAY7iH,GAAA,CAAIu9B,KAAJ,CAAU2jD,MAAV,CAAiBn5D,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEiX,OAAF,EAAR,CAAxB,CAAjB,CAAZivE,CAA4EjgH,MAC5EyB;CAAAA,CAAQ0jB,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAQ,EAAR,CAAUA,CAAA,CAAEx4B,GAAF,CAAM,UAAN,CAAV,CAA8B,IAA9B,CAAmCw4B,CAAA,CAAEiX,OAAF,EAApC,CAAxB,CACR3nC,EAAAA,CAAS8b,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAAC0oB,CAAD,CAAI,CACpC,MAAQkmF,EAAA,CAAY,IAAA,CAAK7vF,cAAL,EAAA,CAAsBoK,QAAtB,CAA+BT,CAAA,CAAEx4B,GAAF,CAAM,UAAN,CAA/B,CAAkD,CAAA,CAAlD,CAAZ,CAAsE,IAAA,CAAK6uB,cAAL,EAAA,CAAsBC,eAAtB,CAAsC0J,CAAA,CAAEiX,OAAF,EAAtC,CAAmD,CAAA,CAAnD,CAD1C,CAAxB,CAEV,IAFU,CAIbiZ,EAAA,CAAO7nD,IAAP,CAAY,CACXkF,KAAK,KADM,CAEXnD,MAAoB,CAAb,CAAA1C,CAAA,CAAMzB,MAAN,CAAiByB,CAAjB,CAAyB,IAAA,CAAKs0B,QAAL,CAAc,WAAd,CAFrB,CAGX1sB,OAAQA,CAHG,CAIXyhD,OAAQ,OAJG,CAKXC,OAAoB,CAAZ,CAAA5wC,CAAA,CAAKna,MAAL,CAAgB0Q,MAAA,CAAOC,IAAP,CAAYwJ,CAAA,CAAK,CAAL,CAAZ,CAAA,CAAqBlJ,MAArB,CAA4B,QAAQ,CAACsiC,CAAD,CAAQ,CAAC,MAAwB,GAAxB,EAAOA,CAAA,CAAMtV,MAAN,CAAa,CAAb,CAAR,CAA5C,CAAhB,CAA6Fp6B,IAAAA,EAL1F,CAMX2D,MAAO,CACN+rC,MAAO9xC,CADD,CANI,CAAZ,CAPqB,CAoBfg2B,CAAAA,CAAQr6B,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CAC5CC,OAAoB,CAAZ,CAAAzb,CAAA,CAAKna,MAAL,CAAgB0Q,MAAA,CAAOC,IAAP,CAAYwJ,CAAA,CAAK,CAAL,CAAZ,CAAhB,CAAuCtW,IAAAA,EADH,CAE5CsW,KAAMA,CAFsC,CAAjC,CAKf,KAAA,CAAKyzF,UAAL,CAAgB,CACZn2E,MAAOA,CADK;AAEZwyB,OAAQA,CAFI,CAGZF,KAAM,CAAC,CACAziD,KAAM,SADN,CAEA4iB,SAAU,MAFV,CAGA/lB,MAAO,CACN4Y,KAAM,IAAA,CAAKgZ,QAAL,CAAc,IAAA,CAAKrO,WAAL,CAAiB,mBAAjB,CAAd,CAAoD,OAApD,CADA,CAHP,CAAD,CAMJ,CACDpgB,KAAM,UADL,CAEK4iB,SAAU,QAFf,CAGK/lB,MAAO,CACN4Y,KAAM,IAAA,CAAKgZ,QAAL,CAAc,eAAd,CAANhZ,EAAwCijG,CAAA,CAAY,IAAZ,CAAiBA,CAAA,CAAU9sF,aAAV,EAAjB,CAA2C,GAA3C,CAAiD,EAAzFnW,CADM,CAHZ,CANI,CAHM,CAAhB,CArE+C,CAFR,CA0FxCzd,MAAO,IA1FiC,CAAzC,CAjCA,CAAA,IACI,KAAA,CAAKqoB,SAAL,EAAA,CAAiB00B,cAAjB,EAAA,CAAkCvK,IAAlC,CAAuC,CACtCtjB,OAAQ,CACPya,MAA4C,CAArC,CAAA,IAAA,CAAKthB,SAAL,EAAA,CAAiBqL,iBAAjB,EAAA,CAAyC,CAAzC,CAA6C,CAD7C,CAEPmvB,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAFH,CAD8B,CAKtC+Y,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C,IAAA,CAAKld,WAAL,CAAiB,OAAjB,CAA0B3P,CAAA,CAAQ9T,GAAR,CAAY,QAAQ,CAAC0oB,CAAD,CAAI,CAAC,MAAOA,EAAA,CAAEiX,OAAF,EAAR,CAAxB,CAA1B,CACA,KAAA,CAAKW,iBAAL,EAF+C,CALV;AAStCryC,MAAO,IAT+B,CAAvC,CAF+B,CArZN,CAuhB9BsuG,WAAYA,QAAQ,CAACryG,CAAD,CAAS,CAAA,IACxBkkH,EAAY,IAAA,CAAK/3F,WAAL,CAAiB,WAAjB,CADY,CACmBwgD,EAAS,CAAA,CACxD,IAAiC,CAAA,CAAjC,GAAI,IAAA,CAAKxgD,WAAL,CAAiB,QAAjB,CAAJ,EAAqE,MAArE,EAAyC,IAAA,CAAKA,WAAL,CAAiB,QAAjB,CAAzC,CAA8EwgD,CAAA,CAAO,CAAA,CAErF9qE,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBkoD,IAAK,IAAA,CAAK/7B,WAAL,CAAiB,MAAjB,CADc,CAApB,CAIAnsB,EAAA,CAAO0uD,MAAP,CAAcr0C,OAAd,CAAsB,QAAQ,CAACsqG,CAAD,CAAQ,CACrC9iH,GAAA,CAAIo/B,OAAJ,CAAY0jF,CAAZ,CAAmB,CACrBC,QAAqB,KAAZ,EAAAD,CAAA,CAAM54G,IAAN,CAAoB,CAAA,CAApB,CAA4B,CAAA,CADhB,CAErB84G,aAAyB,SAAX,EAAAX,CAAA,EAAoC,MAApC,EAAwBS,CAAxB,CAA8B54G,IAA9B,CAA6C,CAAA,CAA7C,CAAqD,CAAA,CAF9C,CAGlB+4G,OAAQ,CAAA,CAHU,CAIlBC,YAAyB,KAAZ,EAAAJ,CAAA,CAAM54G,IAAN,CAAoB,CAAA,CAApB,CAA4B,CAAA,CAJvB,CAKlB0jD,OAAmB,SAAX,EAAAy0D,CAAA,EAAoC,MAApC,EAAwBS,CAAxB,CAA8B54G,IAA9B,CAA6C,IAA7C,CAAoD,CACxDA,KAAM,QADkD,CAExD/E,OAAQ,CAFgD,CAL1C,CAST+F,MAAO,CACHxC,UAAW,CADR,CAEHuwD,YAAwB,SAAX,EAAAopD,CAAA,EAAoC,KAApC,EAAwBS,CAAxB,CAA8B54G,IAA9B,CAA4C,GAA5C,CAAkD,CAF5D,CAGHgvD,cAA0B,SAAX;AAAAmpD,CAAA,EAAoC,KAApC,EAAwBS,CAAxB,CAA8B54G,IAA9B,CAA4C,EAA5C,CAAiD,CAH7D,CATE,CAcTkvD,UAAW,CAAA,CAdF,CAeTvL,aAAc,CACbC,QAAqB,KAAZ,EAAAg1D,CAAA,CAAM54G,IAAN,CAAoB,GAApB,CAA0B,CADtB,CAfL,CAkBlBE,MAAO,EAlBW,CAqBlBgvB,QAAS,CACI20B,WAAY,CAAA,CADhB,CAEIC,SAAU,IAAVA,CAAe20D,cAFnB,CAGIzgH,MAAO,IAHX,CArBS,CA0BTf,UAAW,CACV+gE,UAAWA,QAAQ,CAACn7C,CAAD,CAAO9C,CAAP,CAAYtZ,CAAZ,CAAkBw6D,CAAlB,CAA0B,CAC3C,IAAJ,CAASg+C,UAAT,EAAsBz4G,YAAA,CAAa,IAAb,CAAkBy4G,UAAlB,CACtB,IAAIC,CAAA,IAAAA,CAAKA,UAAT,CAKG,GAJH,IAIO,CAJFA,UAIE,CAJW,CAAA,CAIX,CAHPpjH,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpB,IAAA,CAAK4kE,UAAL,CAAkB,CAAA,CADE,CAArB,CAEG,GAFH,CAES,IAFT,CAGO,CAA0B,UAA1B,EAAA,IAAA,CAAK94F,WAAL,CAAiB,MAAjB,CAAJ,CACK2Z,CAKJ,CALYhgB,CAAA,CAAKkyB,KAAL,CAAW/xB,KAAX,CAAiB,GAAjB,CAKZ,CAJC/Z,CAID,CAJY45B,CAAA,CAAM,CAAN,CAIZ,CAFC6Q,CAED,CAHO,IAAA,CAAKvqB,SAAL,EAAAhnB,CAAiBinB,WAAjBjnB,CAA6B8G,CAA7B9G,CACG,CAAIY,GAAJ,CAAQ,qBAAR,CAEV,CADC2oB,CACD,CADY9B,QAAA,CAAS/G,CAAT,CAAc1d,KAAd,CAAuBuuC,CAAvB,CAAgC9pB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,MAAjB,CAAT,CAAhC,CACZ;AAAA,IAAA,CAAK0Y,aAAL,CAAmB,2BAAnB,CAAgD,IAAhD,CAAsD,CAAC,CACnDpjC,KAAMqkB,CAANrkB,CAAWitD,MAAXjtD,CAAkBA,IADiC,CAEnDyK,SAAU45B,CAAA,CAAM,CAAN,CAFyC,CAGnDnX,SAAUA,CAHyC,CAAD,CAAtD,CAND,KAWO,CACF,IAAJ,CAASq2F,UAAT,EAAsBz4G,YAAA,CAAa,IAAb,CAAkBy4G,UAAlB,CACtB,KAAIj2F,EAAK,IACT,KAAA,CAAKi2F,UAAL,CAAkBx7G,UAAA,CAAW,QAAQ,EAAG,CACpCulB,CAAA,CAAG8V,aAAH,CAAiB,2BAAjB,CAA8C9V,CAA9C,CAAkD,CAAC,CAC/CttB,KAAMqkB,CAANrkB,CAAWitD,MAAXjtD,CAAkBA,IAD6B,CAE/CyK,SAAU4Z,CAAV5Z,CAAe9D,KAFgC,CAAD,CAAlD,CADoC,CAAtB,CAKf,GALe,CAHZ,CAlBqC,CADnC,CA+BV88G,aAAcA,QAAQ,CAACt8F,CAAD,CAAO9C,CAAP,CAAYtZ,CAAZ,CAAkBw6D,CAAlB,CAA2B,CAC/C,IAAJ,CAASg+C,UAAT,EAAsBz4G,YAAA,CAAa,IAAb,CAAkBy4G,UAAlB,CAEtB,KAAA,CAAKC,UAAL,CAAkB,CAAA,CAClBpjH,IAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpB,IAAA,CAAK4kE,UAAL,CAAkB,CAAA,CADE,CAArB,CAEG,GAFH,CAES,IAFT,CAIiC,WAA9B,EAAI,IAAA,CAAK94F,WAAL,CAAiB,MAAjB,CAAJ,EACStqB,GAAA,CAAIu4B,MAAJ,CAAW,eAAX;AAA4B,CACnCsB,MAAO,CAAC,CACHla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,WAAd,CADH,CAEHS,QAAS,IAAA,CAAKT,QAAL,CAAc,cAAd,CAFN,CAIHW,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKzM,YAAL,CAAkB,CACjBwkB,KAAM,UADW,CAEjBjnB,MAAOnG,CAAPmG,CAAYyiC,MAAZziC,CAAmBxqB,IAFF,CAAlB,CAIA,KAAA,CAAK20C,iBAAL,EALmB,CAJjB,CAWHryC,MAAO,IAXJ,CAAD,CAYJ,CACEyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,eAAd,CADR,CAEES,QAAS,IAAA,CAAKT,QAAL,CAAc,kBAAd,CAFX,CAIEW,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKzM,YAAL,CAAkB,CACjBwkB,KAAM,UADW,CAEjBhnC,SAAU4Z,CAAV5Z,CAAe9D,KAFE,CAAlB,CAIA,KAAA,CAAKguC,iBAAL,EALmB,CAJtB,CAWEryC,MAAO,IAXT,CAZI,CAD4B,CA0BlCf,UAAW,CACVwiC,KAAMA,QAAQ,CAACjH,CAAD,CAAI,CAEjB18B,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CAAC,IAAA,CAAKiS,OAAL,EAAD,CAArB,CAAuC,GAAvC,CAA4C/zB,CAA5C,CAFiB,CADR,CAKVx6B,MAAO,IALG,CA1BuB,CAA5B,CAAA,CAiCL+qC,MAjCK,CAiCEtiC,CAjCF,CAiCQ4qE,KAjCR,CAiCe5qE,CAjCf,CAiCqB6qE,KAjCrB,CATuC,CA/BvC,CA4EVtzE,MAAO,IA5EG,CA1BF,CAAnB,CAyGAlC;GAAA,CAAIo/B,OAAJ,CAAY0jF,CAAZ,CAAkB14G,KAAlB,CAAyB,CACfwnG,QAAS,MADM,CAEfz7D,MAAO,OAFQ,CAGfw5B,SAAU,EAHK,CAIf2zC,WAAuB,MAAX,EAAAjB,CAAA,CAAoB,CAApB,CAAwB57G,IAAAA,EAJrB,CAAzB,CAMKqkE,EAAL,GAAcg4C,CAAd,CAAoB14G,KAApB,CAA0BwnG,OAA1B,CAAkC,MAAlC,CAhHqC,CAAtC,CAiHG,IAjHH,CAkHA5xG,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBolH,UAAW,CAAA,CADQ,CAEhBhwD,QAAS,CACLC,MAAO,iBADF,CAELgwD,WAAY,CAAA,CAFP,CAFO,CAMnBtwF,OAAQ,CACPm6B,OAAO,KADA,CAEPlsD,UAAW,CACV+gE,UAAWA,QAAQ,CAAChvC,CAAD,CAASjpB,CAAT,CAAiBvH,CAAjB,CAAsB6D,CAAtB,CAA6B,CAE/C,GAAI2sB,CAAA,CAAOC,QAAP,EAAA,CAAkBpoB,QAAlB,EAAJ,CAAiCmoB,CAAjC,CAAwCnM,KAAxC,CAA8C8lC,MAA9C,CAAqDjqD,MAArD,EAA8F,SAA9F,EAA+D,IAAA,CAAK0nB,WAAL,CAAiB,WAAjB,CAA/D,CAAyG,CAAA,IACjG1qB,EAAOqK,CAAA,CAAO9F,GAAP,CAAW,MAAX,CAD0F,CACtEkmE,EAAWpgE,CAAA,CAAO9F,GAAP,CAAW,UAAX,CAC1C+uB,EAAA,CAAOnM,KAAP,CAAa8lC,MAAb,CAAoBr0C,OAApB,CAA4B,QAAQ,CAACsqG,CAAD,CAAQ,CACvCA,CAAA,CAAMxtE,QAAN,EAAJ,EAAsB11C,CAAtB,EACCkjH,CAAA,CAAMW,SAAN,CAAgBp5C,CAAhB,CAF0C,CAA5C,CAMAn3C,EAAA,CAAOnM,KAAP,CAAa/P,MAAb,EARqG,CAF1D,CADtC,CAcV9U,MAAO,IAdG,CAFJ,CANW,CAyBnBuvG,aAAc,CAAC,eAAD;AAAiB,WAAjB,CAzBK,CA0BhBtwG,UAAW,EA1BK,CAApB,CA4BAnB,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAmBgD,SAAnB,CAA8B,CAC1BuiH,oBAAqBA,QAAS,CAAC38F,CAAD,CAAQ9C,CAAR,CAAc,CACxC8C,CAAA,CAAMtkB,EAAN,CAASC,GAAT,CAAawI,KAAb,CAAmBC,MAAnB,CAA4B8Y,CAAA,CAAO,SAAP,CAAmB,EADP,CADlB,CAI1B7iB,YAAcA,QAAQ,EAAG,EAJC,CAc1Bc,MAAO,IAdmB,CAA9B,CAgBA/D,EAAA,CAAOwuD,IAAP,CAAYn0C,OAAZ,CAAoB,QAAQ,CAAC80C,CAAD,CAAO,CAClCttD,GAAA,CAAIo/B,OAAJ,CAAYkuB,CAAZ,CAAkB,CACjBvmD,MAAO,EADU,CAEjBqD,MAAO,EAFU,CAAlB,CAIApK,IAAA,CAAIo/B,OAAJ,CAAYkuB,CAAZ,CAAiBvmD,KAAjB,CAAwB,CAAC+mD,QAAS,GAAV,CAAxB,CACA9tD,IAAA,CAAIo/B,OAAJ,CAAYkuB,CAAZ,CAAiBljD,KAAjB,CAAwB,CAAC0jD,QAAS,GAAV,CAAxB,CACA,IAAe,UAAf,EAAIR,CAAJ,CAASpjD,IAAT,CAA2B,CAC1B,IAAIy5G,EAAS,EACbxlH,EAAA,CAAOk8B,KAAP,CAAal0B,IAAb,CAAkB,QAAQ,CAACw2B,CAAD,CAAI,CAACgnF,CAAA,EAAQhnF,CAAA,CAAEx4B,GAAF,CAAM,OAAN,CAAT,CAA9B,CACIw/G,EAAJ,CAAW/gH,MAAX,CAAkB,IAAA,CAAKuiC,WAAL,EAAA,CAAmBtkC,QAAnB,EAAlB,CAAgD,CAAhD,EACOb,GAAA,CAAIo/B,OAAJ,CAAYkuB,CAAZ,CAAiBljD,KAAjB,CAAwB,CAAColE,OAAQ,CAAChiB,QAAQ,GAAT,CAAT,CAAxB,CAEJxtD,IAAA,CAAIo/B,OAAJ,CAAYkuB,CAAZ,CAAkB,CACjBs2D,YAAa,CAAA,CADI,CAAlB,CANuB,CAPO,CAAnC,CAiBG,IAjBH,CAoBA,KAAA,CAAKx5F,KAAL,CAAW,OAAX,CAAA,CAAoB5R,OAApB,CAA4B,QAAQ,CAACuO,CAAD,CAAQ,CAAC,IAAA,CAAK/N,MAAL,CAAY+N,CAAZ;AAAmB,CAAA,CAAnB,CAAD,CAA5C,CAAyE,IAAzE,CAGH,KAAIA,EAAQ/mB,GAAA,CAAIu4B,MAAJ,CAAW,0BAAX,CAAuCp6B,CAAvC,CACT,KAAA,CAAK4C,GAAL,CAASgmB,CAAT,CA9L4B,CAvhBC,CAwtB9B88F,gBAAiBA,QAAQ,EAAG,CAC3B,IAAI98F,EAAQ,IAAA,CAAKsH,IAAL,CAAU,OAAV,CACZ,IAAItH,CAAJ,CAAW,CACV,IAAI1iB,EAAQ,EACZ0iB,EAAA,CAAM8lC,MAAN,CAAar0C,OAAb,CAAqB,QAAQ,CAACsqG,CAAD,CAAQ,CACpCz+G,CAAA,CAAMW,IAAN,CAAW89G,CAAA,CAAMxtE,QAAN,EAAX,CADoC,CAArC,CAGA,KAAA,CAAK3S,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqCt+B,CAArC,CALU,CAFgB,CAxtBE,CAAlC,C,CCdArE,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCyI,OAAQ,iBADyB,CAEjC7H,OAAQ,CAAC,oBAAD,CAFyB,CAGjC4V,MAAO,eAH0B,CAI9BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJmM,KAAM38B,IAAAA,EADF,CAHG,CAJqB,CAW9BtI,OAAQ,CACP8C,KAAMwF,IAAAA,EADC,CAEPq9G,kBAAmB,mTAAA,CAAA,KAAA,CAAA,GAAA,CAFZ,CAXsB;AAe9BtjH,YAAaA,QAAQ,EAAG,CACvBR,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CALuB,CAfM,CAsBjCxa,UAAW,CACVssE,SAAUA,QAAQ,CAACrvE,CAAD,CAAYwC,CAAZ,CAAmBF,CAAnB,CAA2B,CAC5C,IAAI0iC,EAAO,IAAA,CAAK9Y,WAAL,CAAiB,QAAjB,CAEX,IAAI8Y,CAAJ,CAAU,CACLpjC,GAAA,CAAIw9B,OAAJ,CAAY4F,CAAZ,CAAJ,GAAwBA,CAAxB,CAA6BA,CAAA,CAAK,CAAL,CAA7B,CAKI2gF,EAAAA,CAAW,IAAA,CAAKC,oBAAL,EACNrhH,EAAAA,CAAE,CAAX,KAAcsnB,CAAd,CAAkB85F,CAAlB,CAA2BnhH,MAA3B,CAAmCD,CAAnC,CAAqCsnB,CAArC,CAA0CtnB,CAAA,EAA1C,CACC,GAAIygC,CAAJ,EAAU2gF,CAAA,CAASphH,CAAT,CAAV,CACC,MAAO3C,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CAChBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADS,CAEhB0G,QAAS,CAAA,IAAIr/B,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,gBAAd,CAAjB,CAAA,EAAkDqlD,aAAlD,CAAgE,CAAC56C,CAAD,CAAhE,CAFO,CAGhB9I,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBuiD,KAHD,CAInBv6B,WAAY,CAAC2hE,IAAK,IAAA,CAAKtrF,QAAL,CAAc,eAAd,CAAN;AAAsC4rB,GAAI,IAAA,CAAK5rB,QAAL,CAAc,WAAd,CAA1C,CAJO,CAKhBiH,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KALE,CAMhB59B,MAAO,IANS,CAOhBb,GAAIA,QAAQ,CAACo5B,CAAD,CAAM,CAEjB,GAAS,KAAT,EAAIA,CAAJ,CACC0J,CAAA,CAAM,IAAA,CAAK+/E,SAAL,EADP,KAGK,CACJ//E,CAAA,CAAM,+BAAN,CAAsCf,CAAtC,CAA2C,GAC3C,KAAIhZ,EAAQpqB,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CACZ,QAAOwP,CAAP,CAAa,IAEb,EADA+5F,WACA,CADcnkH,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9Q,CAAzB,CACd,IACC+Z,CADD,EACQ,GADR,CACYggF,WADZ,CALI,CASL30G,MAAA,CAAOgoB,QAAP,CAAgB3zB,OAAhB,CAAwBsgC,CAAxB,CAdiB,CAPF,CAAb,CA2BTnkC,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADE,CAET0G,QAAS,CAAA,IAAIr/B,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,kBAAd,CAAjB,CAAA,EAAoDqlD,aAApD,CAAkE,CAAC56C,CAAD,CAAlE,CAFA,CAGT9I,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJL,CAKT59B,MAAO,IALE,CAMTb,GAAIA,QAAQ,CAACo5B,CAAD,CAAM,CACjBjrB,MAAA,CAAOgoB,QAAP,CAAgB3zB,OAAhB,CAAwB,IAAA,CAAKqgH,SAAL,EAAxB,CADiB,CANT,CAAb,CApCS,CAAV,IAkDU,KAAL,CAAU/lH,MAAV,CAAiB8C,IAAjB;AACJjB,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADE,CAET0G,QAAS,IAAA,CAAK1G,QAAL,CAAc,iBAAd,CAFA,CAGT2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAHR,CAITC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAJL,CAKT59B,MAAO,IALE,CAMTb,GAAIA,QAAQ,CAACo5B,CAAD,CAAM,CACjBjrB,MAAA,CAAOgoB,QAAP,CAAgB3zB,OAAhB,CAAwB,IAAA,CAAKqgH,SAAL,EAAxB,CADiB,CANT,CAAb,CAtD2C,CADnC,CAtBsB,CA0FjCA,UAAWA,QAAQ,EAAG,CAClB,IAAI95F,EAAQpqB,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CACZ,QAAOwP,CAAP,CAAa,IACb+5F,YAAA,CAAcnkH,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyB9Q,CAAzB,CACd,OAAO,KAAA,CAAK4I,cAAL,EAAA,CAAsBoR,UAAtB,EAAP,EAA2C+/E,WAAA,CAAc,GAAd,CAAkBA,WAAlB,CAAgC,EAA3E,CAJkB,CA1FW,CAAlC,C,CCAAnkH,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCyI,OAAQ,yBAD+B,CAEvC7H,OAAQ,CAAC,oBAAD,CAF+B,CAGvC4V,MAAO,qBAHgC,CAIpCxU,QAAS,CACRG,KAAM,EADE,CAJ2B,CAQvC33B,OAAQ,EAR+B,CASvC2lD,IAAK,iCATkC,CAUvCllD,UAAW,CACVssE,SAAUA,QAAQ,CAACrvE,CAAD,CAAYwC,CAAZ,CAAmBF,CAAnB,CAA2B,CACxCujC,CAAAA,CAAQ,CACX,WADW,CACC7lC,CAAA,CAAUgmC,UAAV,EADD,CACwB,6BADxB,CACsDhmC,CAAA,CAAUu6B,QAAV,CAAmB,aAAnB,CADtD,CACwF,OADxF,CAEX,8JAFW,CAGX,yGAHW;AAGgG,CAAA,IAAIzrB,IAAJ,EAAWk3G,WAAX,EAHhG,CAG0H,GAH1H,CAIX,4BAJW,CAIkB,IAAA,CAAKhgF,UAAL,EAJlB,CAIoC,8DAJpC,CAImGhmC,CAAA,CAAUu6B,QAAV,CAAmB,SAAnB,CAJnG,CAIiI,MAJjI,CAKX,MALW,CAKJrC,MAAA,CAAOC,WAAP,CAAmB8tF,UAAnB,EALI,EAK+B/tF,MAAA,CAAOC,WAAP,CAAmB+tF,QAAnB,EAAA,CAAgC,IAAhC,CAAqChuF,MAAA,CAAOC,WAAP,CAAmB+tF,QAAnB,EAArC,CAAmE,GAAnE,CAAyE,EALxG,EAWZ,KAJA,IAAIC,EAAS,EAAb,CACIC,EAAc,CADlB,CAEIC,CAFJ,CAGIhiH,EAAKrE,CAAA,CAAUqlC,KAAV,EAHT,CAIS9gC,EAAE,CAAX,CAAaA,CAAb,CAAeshC,CAAf,CAAqBrhC,MAArB,CAA4BD,CAAA,EAA5B,CACC8hH,CACA,CADYhiH,CAAA,CAAGiiH,YAAH,CAAgBzgF,CAAA,CAAMthC,CAAN,CAAA,CAASkB,OAAT,CAAiB,oBAAjB,CAAmC,GAAnC,CAAA,CAAwCA,OAAxC,CAAgD,QAAhD,CAA0D,EAA1D,CAAhB,CACZ,CAAI2gH,CAAJ,CAAgBC,CAAhB,CAA4B7jH,CAA5B,GACC2jH,CACA,EADUtgF,CAAA,CAAMthC,CAAN,CACV,CAAA6hH,CAAA,EAAeC,CAFhB,CAKDrmH,EAAA,CAAU6f,MAAV,CAAiBsmG,CAAjB,CACMvkH,IAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAC1BnnC,OAAQniB,CAAA,CAAU+mC,WAAV,EAAA,CAAwBziC,GAAxB,CAA4B0iC,aAA5B,CAA0C,UAA1C,CADkB;AAE1BzlB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CAFoB,CAAjC,CApBsC,CADnC,CA0BVktC,cAAeA,QAAQ,CAACznE,CAAD,CAAY,CAC/B4B,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBE,UAAxB,CAAmCvpD,CAAA,CAAU+mC,WAAV,EAAA,CAAwBziC,GAAxB,CAA4B0iC,aAA5B,CAA0C,UAA1C,CAAnC,CAD+B,CA1BzB,CAV4B,CAAxC,C,CCAAplC,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCyI,OAAQ,WAD+B,CAEvC7H,OAAQ,CAAC,oBAAD,CAF+B,CAGvC4V,MAAO,qBAHgC,CAIpCxU,QAAS,CACRG,KAAM,EADE,CAJ2B,CAQpC73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACftD,GAAI,cADW,CAEfiG,MAAO,EAFQ,CAGfi7C,OAAS,KAHM,CAIf/gD,KAAM,iCAJS,CAKf0tG,aAAeloG,IAAAA,EALA,CAMlBq+B,YAAa,CAAA,CANK,CAOlB6/E,aAAc,CAAA,CAPI,CAQlBC,cAAe,CAAA,CARG,CASlBC,UAAW,CAAA,CATO,CAUlBvjF,OAAQ,CAAA,CAVU,CAWlBwjF,iBAAkB,CAAA,CAXA,CAYlB3jH,UAAW,CACVqc,SAAU,IAAVA,CAAeunG,UADL,CAZO,CAelBC,WAAY,QAfM,CAAhB,CAiBG,KAAA,CAAK9lF,UAAL,CAAgBvjB,SAAhB,CAEA3b,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACtBojC,UAAW,CAAC,WAAD,CAAa,aAAb;AAA2B,YAA3B,CADW,CAEzB4B,aAAc,CACbn1B,KAAM,CAAA,CADO,CAEbg0B,KAAM,CAAA,CAFO,CAGbiB,KAAM,CAAA,CAHO,CAIbg2C,SAAU,IAAA,CAAK9/C,mBAAL,EAJG,CAKb8rF,KAAM,CACL/6G,KAAM,MADD,CAELkvB,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CAFJ,CAGL33B,MAAO,UAHF,CAIOq4B,MAAO,mBAJd,CAKCC,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtB,IAAI2H,EAAQ,IAAA,CAAK1H,EAAL,CAAQ,OAAR,CACZ16B,IAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgBxJ,CAAA,CAAMzJ,QAAN,CAAe,MAAf,CAAhB,CAAwCyJ,CAAA,CAAMzJ,QAAN,CAAe,aAAf,CAAxC,CAAuE,QAAQ,CAACqkD,CAAD,CAAW,CAC3E,KAAd,EAAIA,CAAJ,GACCz7E,QADD,CACUi2B,QADV,CACmB0tF,IADnB,CAC0B9iF,CAAA,CAAMgC,UAAN,EAD1B,CADyF,CAA1F,CAIG,IAJH,CAFsB,CALxB,CALO,CAFW,CAApB,CAwBH,KAAA,CAAKtN,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8CuW,IAA9C,CAAmD,IAAnD,CAAyD5Y,CAAzD,CA5C6B,CARM,CAuDpC4mH,WAAYA,QAAQ,CAAC3iF,CAAD,CAAQ,CAE3BpiC,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CAAC,IAAA,CAAKmlB,QAAL,CAAc,YAAd,CAA2B,IAAA,CAAKv/B,UAAL,EAA3B;AAA6C,8FAA7C,CAA4I,IAAA,CAAKzL,QAAL,CAAc,OAAd,CAA5I,CAAD,CAArB,CAA4L,EAA5L,CAAgMyJ,CAAhM,CAF2B,CAvDQ,CAAxC,C,CCAApiC,GAAA,CAAIk2B,MAAJ,CAAW,wBAAX,CAAqC,CACpCyI,OAAQ,iBAD4B,CAEjCyC,SAAU,gVAAA,CAAA,KAAA,CAAA,GAAA,CAFuB,CAGpCtK,OAAQ,CAAC,oBAAD,CAH4B,CAIjC4V,MAAO,kBAJ0B,CAKpCqpC,cAAe,CAAA,CALqB,CAMpC79C,QAAS,CACRG,KAAM,EADE;AAGRpB,IAAK,CACJ8D,OAAQt0B,IAAAA,EADJ,CAHG,CAMR4yB,MAAO,mBANC,CAN2B,CAcpC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CACvB,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF0B,CAdM,CAkBpCqmC,OAAQ,QAlB4B,CAmBpC1gB,OAAQ,CAAA,CAnB4B,CAoBpCzH,MAAO,CAAC,CACJw5B,OAAQ,MADJ,CAEJ74B,KAAM,CAFF,CAGJwnB,OAAQ,KAHJ,CAIDzgB,UAAW,CAAC,QAAD,CAAU,aAAV,CAJV,CAKDvgC,MAAO,gBALN,CAMJojB,MAAO,CAACxjB,MAAO,CAAR,CANH,CAOJwyD,qBAAsB,CAPlB,CAQJv5B,MAAO,CAAC,CACP74B,MAAO,QADA,CAAD,CAEL,CACDA,MAAO,aADN,CAFK,CAIJ,CACFA,MAAO,iBADL,CAJI,CARH,CAAD,CAeF,CACEqyD,OAAQ,QADV,CAEE74B,KAAM,CAFR,CAGEwnB,OAAQ,KAHV,CAIEhhD,MAAO,gBAJT,CAKDoyD,qBAAsB,CALrB,CAMEv5B,MAAO,CAAC,CACP74B,MAAO,QADA,CAAD;AAEL,CACDA,MAAO,YADN,CAFK,CANT,CAfE,CA0BD,CACFqyD,OAAQ,MADN,CAEF74B,KAAM,CAFJ,CAGFwnB,OAAQ,KAHN,CAIChhD,MAAO,gBAJR,CAKFojB,MAAO,CAACxjB,MAAO,CAAR,CALL,CAMFwyD,qBAAsB,CANpB,CAOF7xB,UAAW,CAAC,QAAD,CAAU,iBAAV,CAA4B,kBAA5B,CAPT,CAQC1H,MAAO,CAAC,CACV74B,MAAO,QADG,CAAD,CAEL,CACJA,MAAO,eADH,CAFK,CARR,CA1BC,CAuCD,CACFqyD,OAAQ,OADN,CAEF74B,KAAM,CAFJ,CAGFpW,MAAO,CAACxjB,MAAO,CAAR,CAHL,CAIFohD,OAAQ,QAJN,CASFnoB,MAAO,CAAC,CACTmoB,OAAQ,KADC,CAETqR,OAAQ,QAFC,CAGN74B,KAAM,CAHA,CAIAx5B,MAAO,gBAJP,CAKHojB,MAAO,CAACxjB,MAAO,CAAR,CALJ,CAMHwyD,qBAAsB,CANnB,CAON7xB,UAAW,CAAC,SAAD,CAAW,WAAX,CAAuB,SAAvB,CAPL,CAQN1H,MAAO,CAAC,CACP74B,MAAO,SADA,CAAD,CAEL,CACDA,MAAO,WADN,CAFK,CAIL,CACDA,MAAO,SADN,CAJK,CARD,CAAD,CAeJ,CACJghD,OAAQ,KADJ;AAEJqR,OAAQ,MAFJ,CAGD74B,KAAM,CAHL,CAIKx5B,MAAO,gBAJZ,CAKEojB,MAAO,CAACxjB,MAAO,CAAR,CALT,CAMEwyD,qBAAsB,CANxB,CAOD7xB,UAAW,CAAC,UAAD,CAAY,eAAZ,CAPV,CAQD1H,MAAO,CAAC,CACP74B,MAAO,UADA,CAAD,CAEL,CACDA,MAAO,aADN,CAFK,CAIL,CACDA,MAAO,cADN,CAJK,CARN,CAfI,CATL,CAvCC,CApB6B,CAoGjCG,UAAW,CACVssE,SAAUA,QAAQ,EAAG,CACpB,IAAI03C,EAAe,IAAA,CAAK76F,WAAL,CAAiB,QAAjB,CACnB,IAAI66F,CAAJ,CAAkB,CACbpqF,CAAAA,CAASoqF,CAAA,CAAa9iG,WAAb,EAAA,CAA2B+B,KAA3B,CAAiC,GAAjC,CAEb,KADA,IAAIghG,EAAY,IAAA,CAAKh7F,KAAL,CAAW,gBAAX,CAAhB,CACSznB,EAAE,CADX,CACcsnB,EAAI8Q,CAAJ9Q,CAAWrnB,MAAzB,CAAiCD,CAAjC,CAAmCsnB,CAAnC,CAAwCtnB,CAAA,EAAxC,CAA6C,CAC5C,IAAIy/B,EAAQrH,CAAA,CAAOp4B,CAAP,CACZ,IAAIy/B,CAAJ,EAAapiC,GAAA,CAAIg3B,YAAJ,CAAiBib,UAAjB,CAA4B,SAA5B,CAAsC7P,CAAtC,CAAb,EAA6DgjF,CAAA,CAAUziH,CAAV,CAA7D,CAA2E,CAC1E,IAAI0iH,EAAWD,CAAA,CAAUziH,CAAV,CACX0iH,EAAA,CAAS/iF,YAAT,EAAA,CAAwBD,OAAxB,CAAgCD,CAAhC,CAAJ,GACAijF,CAAA,CAASxrF,KAAT,CAAe1zB,IAAf,CAAoB,QAAQ,CAAC8d,CAAD,CAAO1d,CAAP,CAAc,CACzC,GAAI0d,CAAA,CAAKoe,OAAL,CAAaD,CAAb,CAAJ,CAEC,MADA,KAAA,CAAKqK,YAAL,CAAkBlmC,CAAlB,CACO;AAAA,CAAA,CAHiC,CAA1C,CAKG8+G,CALH,CAMA,CAAIA,CAAA,CAAS/iF,YAAT,EAAA,CAAwBD,OAAxB,CAAgCD,CAAhC,CAAJ,EACAijF,CAAA,CAAS/iF,YAAT,EAAA,CAAwByB,YAAxB,CAAqC3B,CAArC,CARA,CAF0E,CAF/B,CAH5B,CAoBdkjF,CAAAA,CAAS,IAAA,CAAKj3F,IAAL,CAAU,QAAV,CACb,KAAInB,EAAK,IACLo4F,EAAJ,GACKC,CAEJ,CAFcD,CAAA,CAAOj3F,IAAP,CAAY,SAAZ,CAEd,CADAk3F,CAAA,CAAQxkH,GAAR,CAAY,CAACC,MAAO,QAAR,CAAZ,CACA,CAAAukH,CAAA,CAAQxkH,GAAR,CAAY,CACX4e,KAAM,GADK,CAEXxe,UAAW,CACVoY,MAAO,CACNlY,GAAIA,QAAQ,EAAG,CACX6rB,CAAA,CAAGnsB,GAAH,CAAO,CACNsyD,OAAQ,OADF,CAENzyD,MAAO,MAFD,CAGTK,KAAM,wZAHG,CAAP,CADW,CADT;AAOAgB,OAAQ,CAAA,CAPR,CADG,CAUV+uD,OAAQA,QAAQ,CAACrnD,CAAD,CAAI,CACnBA,CAAA,CAAEw7B,WAAF,EAAA,CAAgBziC,GAAhB,CAAoBulC,SAApB,CAA8B,EADX,CAVV,CAFA,CAAZ,CAHD,CAxBoB,CADX,CAgDVg8B,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CACnC,GAAkC,CAAlC,EAAI,IAAA,CAAK8uC,eAAL,CAAqB9uC,CAArB,CAAJ,EAA2C,CAAC,IAAA,CAAKrL,WAAL,CAAiB,QAAjB,CAA5C,CAAwE,CACvE,IAAI86F,EAAY,IAAA,CAAKh7F,KAAL,CAAW,gBAAX,CAEhBg7F,EAAA,CAAU,CAAV,CAAA,CAAa34E,YAAb,CAA0B,CAA1B,CACA24E,EAAA,CAAU,CAAV,CAAA,CAAa9iF,YAAb,EAAA,CAA4BK,SAA5B,CAAsC,cAAtC,CAAsDqG,CAAtD,CAA2DrT,CAA3D,CACAyvF,EAAA,CAAU,CAAV,CAAA,CAAa34E,YAAb,CAA0B,CAA1B,CALuE,CAOzC,EAA/B,CAAI9W,CAAA,CAAOC,iBAAP,EAAJ,GACKgxC,CADL,CACmB,IAAA,CAAKv4C,IAAL,CAAU,aAAV,CADnB,GAGEu4C,CAAA,CAAYlsC,EAAZ,CAAe,gBAAf,CAAA,CAAiC1hB,MAAjC,CAAwC4tD,CAAxC,CAXiC,CAhD1B,CA+DV4+C,YAAaA,QAAQ,CAACx8E,CAAD,CAAM,CAC1B,IAAIjO,EAAS,EACb,KAAA,CAAK3Q,KAAL,CAAW,gBAAX,CAAA,CAA6B5R,OAA7B,CAAqC,QAAQ,CAACyL,CAAD,CAAO,CACnD8W,CAAA,CAAO/1B,IAAP,CAAYif,CAAA,CAAKqe,YAAL,EAAZ,CAAgCthC,KAAhC,CADmD,CAApD,CAGA,KAAA,CAAKgyB,cAAL,EAAA,CAAsB0E,WAAtB,CAAkC,QAAlC;AAA4CqD,CAAA,CAAOvxB,IAAP,CAAY,GAAZ,CAA5C,CAL0B,CA/DjB,CApGsB,CAArC,C,CCAAxJ,GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CACrCyI,OAAQ,iBAD6B,CAElCyC,SAAU,CAAC,0BAAD,CAA4B,wBAA5B,CAAsD,qBAAtD,CAA6E,uBAA7E,CAFwB,CAGrCtK,OAAQ,CAAC,oBAAD,CAH6B,CAIlC4V,MAAO,mBAJ2B,CAKrCxU,QAAS,CACRG,KAAM,EADE,CAGRgB,MAAO,mBAHC,CAL4B,CAUrC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CACvB,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF0B,CAVO,CAcrCqmC,OAAQ,MAd6B,CAerC1gB,OAAQ,CAAA,CAf6B,CAgBrCzH,MAAO,CAAC,CACJW,KAAM,CADF,CAEJ95B,OAAQ,MAFJ,CAGDM,MAAO,aAHN,CAAD,CAIF,CACDojB,MAAO,CAACxjB,MAAO,CAAR,CADN,CAEE45B,KAAM,CAFR,CAGD95B,OAAQ,MAHP;AAIEshD,OAAQ,MAJV,CAKE2H,SAAU,CACT/oD,MAAO,MADE,CAET45B,KAAM,CAFG,CALZ,CASEX,MAAO,CAAC,CACP74B,MAAO,WADA,CAEP8jC,YAAa,CAAA,CAFN,CAAD,CAGL,CACD9jC,MAAO,QADN,CAED8jC,YAAa,CAAA,CAFZ,CAHK,CAML,CACD9jC,MAAO,UADN,CAED8jC,YAAa,CAAA,CAFZ,CANK,CATT,CAJE,CAhB8B,CAAtC,C,CCAA9kC,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CAGjCyI,OAAQ,iBAHyB,CAIjC7H,OAAQ,CAAC,oBAAD,CAAsB,0BAAtB,CAJyB,CAKjC4V,MAAO,eAL0B,CAMjCqpC,cAAe,CAAA,CANkB,CAO9B79C,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJ3W,iBAAkB,CAAC,SAAD,CAAW,OAAX,CAFd,CAGJD,eAAgB,QAHZ,CAHG,CAQX9U,MAAO,mBARI,CAPqB,CAiB9Bl7B,OAAQ,CACPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CADF,CAEVmkD,qBAAsB,CAAA,CAFZ,CAGVJ,SAAU,MAHA,CAIV1qB,MAAO5zB,IAAAA,EAJG,CAjBsB,CAuB9BjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD;AAA0DuX,SAA1D,CAF6B,CAvBA,CA6B9B2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC5B,IAAI+uB,EAAK,IAETltB,IAAA,CAAIo/B,OAAJ,CAAYlS,CAAZ,CAAgB,CACfu4F,UAAW,EADI,CAEfC,WAAY,CAAC,CACX1kH,MAAO,kBADI,CAEXg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,YAAd,CAFD,CAGXssB,UAAW,OAHA,CAAD,CAIT,CACDjkD,MAAO,kBADN,CAEDg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,aAAd,CAFX,CAGDssB,UAAW,QAHV,CAJS,CAQT,CACDjkD,MAAO,kBADN,CAEDg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,cAAd,CAFX,CARS,CAFG,CAcfgtF,aAAc,CAdC,CAAhB,CAiBA3lH,IAAA,CAAIo/B,OAAJ,CAAYlS,CAAZ,CAAgB,CACf04F,MAAO,CACNl7D,OAAQ,SADF,CAEN1I,OAAQ,QAFF,CAGNnoB,MAAO,CACN6L,OAAQ,OADF,CAEHzkC,KAAMisB,CAANjsB,CAASwkH,SAFN,CAHD,CADQ,CASfjtF,OAAQ,CACbx3B,MAAO,WADM,CAEPghD,OAAQ,QAFD,CAGPnoB,MAAO,CACT74B,MAAO,WADE;AAEN0kD,SAAU,IAFJ,CAGN1D,OAAQ,CACP93C,KAAM,OADC,CAEPykD,QAASzhC,CAATyhC,CAAYg3D,YAFL,CAHF,CAQN9rF,MAAO3M,CAAA,CAAGw4F,UAAH,CAAczxG,GAAd,CAAkB,QAAQ,CAACgQ,CAAD,CAAO,CAAC,MAAO,CAC/CjjB,MAAO,WADwC,CAE5C2oD,SAAU,CACTe,OAAQ,WADC,CAEHvF,qBAAsBj4B,CAAA,CAAG26B,uBAAH,EAFnB,CAGH9C,SAAU73B,CAAA,CAAGm6B,WAAH,EAHP,CAIHjC,8BAA+B,CAAA,CAJ5B,CAKHF,WAAY,CAAA,CALT,CAMH1qB,KAAM,CANH,CAOHkrB,SAAU,GAPP,CAQHzrB,WAAY,OART,CAFkC,CAY/CJ,MAAO75B,GAAA,CAAIo/B,OAAJ,CAAYnb,CAAZ,CAAkB,CACxB+V,WAAY9M,CAAA,CAAGyL,QAAH,EAAa1U,CAAA,CAAKghC,SAAL,CAAiBhhC,CAAjB,CAAsBghC,SAAtB,CAAkC,SAA/C,EAA0D,OAA1D,CADY,CAAlB,CAZwC,CAAR,CAAjC,CAeH,IAfG,CARD,CAHA,CATO,CAsCf4gE,KAAM,CACL7jE,OAAQ,QADH,CAEL0I,OAAQ,UAFH,CAGL7wB,MAAO,CACN74B,MAAO,WADD,CAENghD,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,QAFA,CAFF;AAMNd,SAAU,CACNe,OAAQ,SADF,CAGN9pD,MAAO,GAHD,CANJ,CAWNi5B,MAAQ,CAAC,CACL74B,MAAO,QADF,CAEL0kC,OAAQ,QAFH,CAGCrM,MAAO,mBAHR,CAIL1Z,KAAM,IAAA,CAAKgZ,QAAL,CAAc,oBAAd,CAJD,CAKLW,QAASpM,CAAToM,CAAYwsF,kBALP,CAML5jH,MAAOgrB,CANF,CAAD,CAOH,CACDlsB,MAAO,QADN,CAEPq4B,MAAO,mBAFA,CAGDqM,OAAQ,UAHP,CAID/lB,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CAJL,CAKDW,QAASpM,CAAToM,CAAYysF,YALX,CAMD7jH,MAAOgrB,CANN,CAPG,CAcH,CACDlsB,MAAO,WADN,CAEDkH,OAAQ,CAAA,CAFP,CAGDw9B,OAAQ,iBAHP,CAIDsc,OAAQ,MAJP,CAKDnoB,MAAO,CAAC,CACP6L,OAAQ,QADD,CAEPsgF,UAAW,oBAFJ,CAGPplH,MAAO,GAHA,CAAD,CAIL,CACDI,MAAO,WADN,CAEDJ,MAAO,GAFN,CAGDi5B,MAAO,CACH74B,MAAO,eADJ;AAEHilH,cAAe,CAFZ,CAGHvgF,OAAQ,WAHL,CAIHglB,OAAQ,UAJL,CAKH1vB,OAAQ,CAAC,CAAD,CAAG,CAAH,CALL,CAMHt6B,OAAQ,EANL,CAOHE,MAAO,GAPJ,CAHN,CAJK,CALN,CAdG,CAXF,CAHF,CAtCS,CAAhB,CA6FAZ,IAAA,CAAIo/B,OAAJ,CAAYlS,CAAZ,CAAgB,CACf2M,MAAO,CAAC3M,CAAD,CAAI04F,KAAJ,CAAW14F,CAAX,CAAcsL,MAAd,CAAsBtL,CAAtB,CAAyB24F,IAAzB,CADQ,CAAhB,CAIH34F,EAAA,CAAGlX,EAAH,CAAM,cAAN,CAAsB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC3CzI,CAAA,CAAGiG,QAAH,EAAA,CAAcmmB,SAAd,CAAwB3jB,CAAxB,CACsClvB,KAAAA,EAAtC,EAAIymB,CAAA,CAAGuU,gBAAH,CAAoB,WAApB,CAAJ,EAAiFh7B,IAAAA,EAAjF,EAAmDymB,CAAA,CAAGuU,gBAAH,CAAoB,OAApB,CAAnD,EACEvU,CAAA,CAAGV,SAAH,CAAa,OAAb,CAAA,CAAsB26B,OAAtB,CAA8BxxB,CAAA,CAAO4a,SAAP,EAA9B,CAHyC,CAA5C,CAKGrjB,CALH,CAOAA,EAAA,CAAGlX,EAAH,CAAM,OAAN,CAAe,QAAQ,CAACgzB,CAAD,CAAMyS,CAAN,CAAe,CACrC,IAAA,CAAKyqE,qBAAL,CAA2B,IAAA,CAAKC,iBAAL,EAA3B,CADqC,CAAtC,CAIAj5F,EAAA,CAAG46B,QAAH,CAAY9nD,GAAA,CAAIu4B,MAAJ,CAAW,wCAAX,CAAZ,CACGrL,EAAA,CAAGgS,UAAH,CAAc,CAAC/gC,CAAD,CAAd,CAjI4B,CA7BF,CAkK9B2nH,mBAAoBA,QAAQ,EAAG,CAC9B,GAAK,IAAA,CAAK3yF,QAAL,EAAL,CAAqBizF,WAArB;AAAqC,IAAA,CAAKjzF,QAAL,EAArC,CAAqDizF,WAArD,CAAiEh1F,MAAjE,CAAwEhH,KAAxE,CAGO,CAEN,IAAI8C,EAAK,IACN,KAAA,CAAKia,IAAL,CAAU,uBAAV,CACA,KAAA,CAAKhU,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CACpBtjB,OAAQ,CACPhH,MAAO,IAAA,CAAK+I,QAAL,EAAP/I,CAAuBg8F,WAAvBh8F,CAAmCgH,MAAnChH,CAA0CA,KADnC,CAEPsoE,gBAAiB,CAAA,CAFV,CADY,CAKpBrvD,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC/C1nB,CAAA,CAAG+D,MAAH,EACI2jB,EAAJ,EAAe7sB,CAAf,EAA0C,CAA1C,EAA0BA,CAA1B,CAAkCnlB,MAAlC,GACQ+yB,CAEP,CAFgBgf,CAAA,CAAU7I,QAAV,EAAA,CAAqB6mD,SAArB,EAEhB,CAFiDptB,QAEjD,CADIphC,CACJ,CADUjX,CAAA,CAAGkX,UAAH,EACV,CAD0B,UAC1B,CADqCzO,CACrC,CAAAzI,CAAA,CAAGmX,OAAH,CAAWF,CAAX,CAHD,CAF+C,CAL5B,CAArB,CAJG,CAHP,IAECnkC,IAAA,CAAI0/B,GAAJ,CAAQyM,KAAR,CAAc,IAAA,CAAKxT,QAAL,CAAc,oBAAd,CAAd,CAAmD,CAAA,IAAI34B,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,qBAAd,CAAlB,CAAA,EAAwDv0B,KAAxD,CAA8D,CAAC,IAAA,CAAKggC,UAAL,EAAD,CAAmB,UAAnB,CAA8B,IAAA,CAAKjR,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BE,KAA5B,EAA9B,CAA9D,CAAnD,CAH6B,CAlKD;AA2L9Bs7F,aAAcA,QAAQ,EAAG,CACxB,GAAK,IAAA,CAAK5yF,QAAL,EAAL,CAAqBizF,WAArB,EAAqC,IAAA,CAAKjzF,QAAL,EAArC,CAAqDizF,WAArD,CAAiEh1F,MAAjE,CAAwEhH,KAAxE,CAEO,CACN,IAAIngB,EAAS,IAAA,CAAKkpB,QAAL,EAAA,CAAgB0mB,KAAhB,CAAsB,CAAtB,CACT,KAAA,CAAK1mB,QAAL,EAAJ,CAAoBizF,WAApB,CAAgCh1F,MAAhC,CAAuChH,KAAvC,EAAgDngB,CAAhD,EAA6E,CAA7E,EAA0DA,CAAA,CAAOc,QAAP,EAA1D,CACC,IAAA,CAAKo0B,OAAL,CAAa,CAACE,QAAS,IAAA,CAAK1G,QAAL,CAAc,WAAd,CAAV,CAAb,CADD,CAGI,IAAA,CAAKxF,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CACpBtjB,OAAQ,CACPhH,MAAO,IAAA,CAAK+I,QAAL,EAAP/I,CAAuBg8F,WAAvBh8F,CAAmCgH,MAAnChH,CAA0CA,KADnC,CAEPsoE,gBAAiB,CAAA,CAFV,CAGP2zB,gBAAiB,CAAA,CAHV,CADY,CAMpBhjF,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EAAe7sB,CAAf,EAA0C,CAA1C,EAA0BA,CAA1B,CAAkCnlB,MAAlC,EACI,IAAA,CAAKyrC,oBAAL,CAA0BsG,CAAA,CAAU7I,QAAV,EAAA,CAAqB6mD,SAArB,EAA1B,CAA2DptB,QAA3D,CAF2C,CAN5B,CAWpBrjE,MAAO,IAXa,CAArB,CALE,CAFP,IACC,KAAA,CAAKmsC,oBAAL,CAA0B,IAAA,CAAKlb,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BE,KAA5B,EAA1B,CAFuB,CA3LK;AAoN9B8jB,mBAAoBA,QAAQ,CAAC5Y,CAAD,CAAS,CACnCwO,CAAAA,CAAM,IAAA,CAAK6H,cAAL,EAAN7H,CAA4B,UAA5BA,CAAuCxO,CAAvCwO,CAA8C,kFAA9CA,CACoCxO,CADpCwO,CAC2C,MAD3CA,EAEF,IAAA,CAAK7Z,WAAL,CAAiB,gBAAjB,CAAA,CAAqC,kBAArC,CAAwD,IAAA,CAAKA,WAAL,CAAiB,gBAAjB,CAAxD,CAA6F,EAF3F6Z,GAGF,IAAA,CAAK7Z,WAAL,CAAiB,kBAAjB,CAAA,CAAuC,oBAAvC,CAA4D,IAAA,CAAKA,WAAL,CAAiB,kBAAjB,CAA5D,CAAmG,EAHjG6Z,CAIJ,KAAA,CAAKE,OAAL,CAAaF,CAAb,CALuC,CApNP,CA4N9B+hF,sBAAuBA,QAAQ,CAAC97F,CAAD,CAAQ,CAAA,IAClC8C,EAAK,IAD6B,CACvBo5F,EAAkBp5F,CAAA,CAAGV,SAAH,CAAa,iBAAb,CADK,CAC4BqjC,EAAS3iC,CAAA,CAAGV,SAAH,CAAa,QAAb,CADrC,CAC6DyqF,EAAQ/pF,CAAA,CAAGV,SAAH,CAAa,WAAb,CAC1G85F,EAAJ;AAAsBA,CAAA,CAAgB9kG,IAAhB,EAClBquC,EAAJ,EAAaA,CAAA,CAAO1I,OAAP,CAAe,CAAA,IAAInnD,GAAJ,CAAQ4gD,SAAR,CAAkB,mCAAlB,CAAA,EAAuDx8C,KAAvD,CAA6D,CAAC,CAAD,CAA7D,CAAf,CACT6yG,EAAJ,EAAYA,CAAA,CAAMv0E,SAAN,CAAgB,CAAC,CAAD,CAAG,CAAH,CAAhB,CACLtY,EAAJ,EACQ2rF,CACJ,CADgB,IAAA,CAAK5iF,QAAL,EAAA,CAAgB5I,SAAhB,EAAA,CAA4BqL,iBAA5B,EAChB,CAAA,IAAA,CAAKzC,QAAL,EAAA,CAAgBuhB,IAAhB,CAAqB,CACpBtjB,OAAQ,CACPhH,MAAOA,CADA,CAEP8vB,kBAAmB,CAAA,CAFZ,CAGP11C,KAAkB,GAAZ,CAAAuxG,CAAA,CAAkB,GAAlB,CAAwBA,CAHvB,CADY,CAMpB1yE,SAAUA,QAAQ,CAACtb,CAAD,CAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CACrC1nB,CAAA,CAAGV,SAAH,CAAa,QAAb,CACNyqF,EAAAA,CAAQ/pF,CAAA,CAAGV,SAAH,CAAa,WAAb,CACRooB,EAAJ,EAAe7sB,CAAf,EAA0C,CAA1C,EAA0BA,CAA1B,CAAkCnlB,MAAlC,GACKitD,CAGJ,EAFCA,CAAA,CAAO1I,OAAP,CAAe,CAAA,IAAInnD,GAAJ,CAAQ4gD,SAAR,CAAkB,kCAAlB,CAAA,EAAsDx8C,KAAtD,CAA4D,CAAC2jB,CAAA,CAAQ,CAAR,CAAA,CAAWhd,QAAX,EAAD,CAA5D,CAAf,CAED,CAAIksG,CAAJ,EACIA,CAAA,CAAMv0E,SAAN,CAAgB3a,CAAA,CAAQ,CAAR,CAAA,CAAWosB,gBAAX,EAAhB,CALL,CAH+C,CAN5B,CAArB,CAFJ,EAqBW,IAAA,CAAKhhB,QAAL,EArBX,CAqB2BizF,WArB3B;CAsBC,IAAA,CAAKjzF,QAAL,EAtBD,CAsBiBizF,WAtBjB,CAsB6Bh1F,MAtB7B,CAsBoChH,KAtBpC,CAsB4C3jB,IAAAA,EAtB5C,CALsC,CA5NT,CA2P9B0/G,kBAAmBA,QAAQ,EAAG,CAChC,IAAII,EAAmB,EACvBvmH,IAAA,CAAIwmH,cAAJ,CAAmBp8F,KAAnB,CAAyB,OAAzB,CAAkC,IAAlC,CAAA,CAAwC5R,OAAxC,CAAgD,QAAQ,CAAC29B,CAAD,CAAQ,CAC/D,GAAIA,CAAJ,CAAU4B,YAAV,EAA0B5B,CAA1B,CAAgC/O,QAAhC,CAA0C,CACzC,IAAI6d,EAAY9O,CAAA,CAAM4B,YAAN,EACZ5W,EAAAA,CAAOnhC,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAevD,CAAA,CAAM/O,QAAN,EAAf,CACK,EAAhB,CAAIjG,CAAJ,CAASv+B,MAAT,EACiB,CADjB,CACKu+B,CADL,CACUv+B,MADV,EAEQ2jH,CAAA,CAAiBvhH,IAAjB,CAAsB,IAAtB,CAA2Bm8B,CAAA,CAAKltB,GAAL,CAAS,QAAQ,CAAC2a,CAAD,CAAM,CACjD,MAAOq2B,EAAP,CAAiB,GAAjB,CAAqBr2B,CAD4B,CAAvB,CAAA,CAExBplB,IAFwB,CAEnB,GAFmB,CAA3B,CAEa,GAFb,CALiC,CADqB,CAAhE,CAaA,OAAO+8G,EAAA,CAAiB/8G,IAAjB,CAAsB,GAAtB,CAfyB,CA3PA,CAAlC,C,CCAAxJ,GAAA,CAAIk2B,MAAJ,CAAW,4BAAX,CAAyC,CACxCyI,OAAQ,iBADgC,CAErCyC,SAAU,CAAC,0BAAD,CAA4B,wBAA5B,CAAsD,qBAAtD,CAA6E,uBAA7E,CAF2B,CAGxCtK,OAAQ,CAAC,oBAAD,CAHgC,CAIrC4V,MAAO,sBAJ8B,CAKxCxU,QAAS,CACRG,KAAM,EADE,CAGRgB,MAAO,mBAHC,CAL+B,CAUxC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CACvB,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF0B,CAVU,CAcxCqmC,OAAQ,MAdgC,CAexC1gB,OAAQ,CAAA,CAfgC,CAgBxCzH,MAAO,CAAC,CACPmoB,OAAQ,MADD,CAEPyI,MAAO,SAFA,CAGP7pD,MAAO,MAHA,CAIPF,OAAQ,MAJD,CAKP85B,KAAM,CALC,CAMDmvB,SAAU,CACT/oD,MAAO,MADE;AAETF,OAAQ,MAFC,CAGT85B,KAAM,CAHG,CAITk7B,MAAO,CAAA,CAJE,CAKTx0D,OAAQ,CAAA,CALC,CANT,CAaD24B,MAAO,CAAC,CACP74B,MAAO,aADA,CAAD,CAEL,CACDA,MAAO,eADN,CAFK,CAIL,CACDA,MAAO,kBADN,CAJK,CAbN,CAAD,CAoBF,CACDJ,MAAO,MADN,CAEDF,OAAQ,MAFP,CAGD0jB,MAAO,CAACxjB,MAAO,CAAR,CAHN,CAIJohD,OAAQ,MAJJ,CAKJxnB,KAAM,CALF,CAMEmvB,SAAU,CACT/oD,MAAO,MADE,CAETF,OAAQ,MAFC,CAGT85B,KAAM,CAHG,CAITk7B,MAAO,CAAA,CAJE,CAKTx0D,OAAQ,CAAA,CALC,CANZ,CAaE24B,MAAO,CAAC,CACP74B,MAAO,UADA,CAAD,CAEL,CACDA,MAAO,iBADN,CAFK,CAbT,CApBE,CAhBiC,CAAzC,C,CCAAhB,GAAA,CAAIk2B,MAAJ,CAAW,6BAAX,CAA0C,CACzCyI,OAAQ,iBADiC,CAEtCyC,SAAU,CAAC,0BAAD,CAA4B,uBAA5B,CAAqD,qBAArD,CAF4B,CAGzCtK,OAAQ,CAAC,oBAAD,CAHiC,CAItC4V,MAAO,uBAJ+B,CAKzCxU,QAAS,CACRG,KAAM,EADE,CAGRgB,MAAO,mBAHC,CALgC,CAUzC74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CACvB,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF0B,CAVW,CAczCqmC,OAAQ,MAdiC,CAezC1gB,OAAQ,CAAA,CAfiC,CAgBzCzH,MAAO,CAAC,CACPj5B,MAAO,MADA,CAEPF,OAAQ,MAFD,CAGJM,MAAO,aAHH,CAIJw5B,KAAM,CAJF,CAAD,CAKF,CACD55B,MAAO,MADN,CAEDF,OAAQ,MAFP,CAGD0jB,MAAO,CAACxjB,MAAO,CAAR,CAHN;AAIJohD,OAAQ,MAJJ,CAKJxnB,KAAM,CALF,CAMEmvB,SAAU,CACT/oD,MAAO,MADE,CAETF,OAAQ,MAFC,CAGT85B,KAAM,CAHG,CAITk7B,MAAO,CAAA,CAJE,CAKTx0D,OAAQ,CAAA,CALC,CANZ,CAaE24B,MAAO,CAAC,CACP74B,MAAO,UADA,CAAD,CAEL,CACDA,MAAO,QADN,CAFK,CAbT,CALE,CAhBkC,CAA1C,C,CCAAhB,GAAA,CAAIk2B,MAAJ,CAAW,wBAAX,CAAqC,CACpCyI,OAAQ,iBAD4B,CAEpC7H,OAAQ,CAAC,oBAAD,CAF4B,CAGjC4V,MAAO,kBAH0B,CAIpCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ+qB,OAAQv7C,IAAAA,EADJ,CAEJggH,YAAahgH,IAAAA,EAFT,CAHG,CAOR4yB,MAAO,mBAPC,CAJ2B,CAapCiI,OAAQ,CAAA,CAb4B,CAcpC5gC,OAAQ,MAd4B,CAepCE,MAAO,MAf6B,CAiBjCJ,YAAaA,QAAQ,EAAG,CAC1B,IAAA,CAAKs2B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACM,KAAA,CAAKujB,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAHuB,CAjBS,CAuBjC2xB,cAAeA,QAAQ,EAAG,CACxB,IAAA,CAAKhjB,WAAL,CAAiB,QAAjB,CAAJ,CACCtqB,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAe,CACd49C,OAAQ,QADM;AAEdnoB,MAAO,EAFO,CAAf,CADD,CAKW,IAAA,CAAKvP,WAAL,CAAiB,aAAjB,CALX,EAMC,IAAA,CAAKo8F,eAAL,EAED,KAAA,CAAKxnF,UAAL,EAT4B,CAvBO,CAmCpC/9B,UAAW,CACV8iE,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CAC/B,IAAA,CAAKrL,WAAL,CAAiB,QAAjB,CAAJ,EACC,IAAA,CAAKF,KAAL,CAAW,OAAX,CAAA,CAAoB5R,OAApB,CAA4B,QAAQ,CAAC4K,CAAD,CAAI,CACvCA,CAAA,CAAEuf,SAAF,CAAY,cAAZ,CAA4BqG,CAA5B,CAAiCrT,CAAjC,CADuC,CAAxC,CAFkC,CAD1B,CAQV83C,SAAUA,QAAQ,CAACrrC,CAAD,CAAQ,CACrB,IAAA,CAAK9X,WAAL,CAAiB,QAAjB,CAAJ,CACC,IAAA,CAAKq8F,0BAAL,EADD,CAEW,IAAA,CAAKr8F,WAAL,CAAiB,aAAjB,CAAJ,EACH,IAAA,CAAKs8F,aAAL,EACA,CAAA,IAAA,CAAK5wG,EAAL,CAAQ,QAAR,CAAkB,QAAQ,CAACosB,CAAD,CAAQykF,CAAR,CAAkBC,CAAlB,CAA6BC,CAA7B,CAAuCC,CAAvC,CAAkD,CAC7DvgH,IAAAA,EAAjB,GAAIsgH,CAAJ,EAA4CtgH,IAAAA,EAA5C,GAA8BugH,CAA9B,EAGO,IAAA,CAAKJ,aAAL,CAFiBC,CAEjB,CAF0BE,CAE1B,CADkBD,CAClB,CAD4BE,CAC5B,CAJuE,CAA5E,CAMA,IANA,CAFG,EAUN,IAAA,CAAKtwF,SAAL,CAAe,IAAA,CAAKiC,QAAL,CAAc,mBAAd,CAAf,CAbwB,CARhB,CAnCyB;AA8DpCguF,2BAA4BA,QAAQ,EAAG,CAChC,IAAIM,EAAeC,SAAA,CAAU,IAAA,CAAK58F,WAAL,CAAiB,QAAjB,CAAV,CAAA,CACjBzmB,OADiB,CACT,KADS,CACF,QADE,CAAA,CAEjBA,OAFiB,CAET,KAFS,CAEF,OAFE,CAAA,CAGjBA,OAHiB,CAGT,KAHS,CAGF,OAHE,CAAA,CAIjBA,OAJiB,CAIT,KAJS,CAIF,aAJE,CAAA,CAKjBA,OALiB,CAKT,KALS,CAKF,WALE,CAAA,CAMjBA,OANiB,CAMT,KANS,CAMF,OANE,CAAA,CAOjBA,OAPiB,CAOT,KAPS,CAOF,QAPE,CAAA,CAQjBA,OARiB,CAQT,KARS,CAQF,GARE,CAAA,CASjBA,OATiB,CAST,SATS,CASE,WATF,CAAA,CAUjBA,OAViB,CAUT,KAVS,CAUF,QAVE,CAAA,CAWjBA,OAXiB,CAWT,KAXS,CAWF,OAXE,CAAA,CAYjBA,OAZiB,CAYT,KAZS,CAYF,MAZE,CAAA,CAajBA,OAbiB,CAaT,KAbS,CAaF,OAbE,CAAA,CAcjBA,OAdiB,CAcT,KAdS,CAcF,MAdE,CAAA,CAepBA,OAfoB,CAeZ,kBAfY,CAeQ,QAAQ,CAACqI,CAAD,CAAQk3B,CAAR,CAAc,CACvCpjC,GAAA,CAAIg3B,YAAJ,CAAiBib,UAAjB,CAA4B,SAA5B,CAAsC7O,CAAA,CAAK/gB,WAAL,EAAtC,CAAL;CACqB+gB,CADrB,CACW,OAAV,EAAIA,CAAJ,CAAyB,iBAAzB,CACe,YAAV,EAAIA,CAAJ,CAA8B,WAA9B,CACU,eAAV,EAAIA,CAAJ,CAAiC,SAAjC,CACU,2BAAV,EAAIA,CAAJ,CAA6C,aAA7C,CACU,kBAAV,EAAIA,CAAJ,CAAoC,aAApC,CACU,sCAAV,EAAIA,CAAJ,CAAwD,aAAxD,CACU,6BAAV,EAAIA,CAAJ,CAA+C,eAA/C,CACU,uBAAV,EAAIA,CAAJ,CAAyC,UAAzC,CACU,sBAAV,EAAIA,CAAJ,CAAwC,QAAxC,CACU,kBAAV,EAAIA,CAAJ,CAAoC,iBAApC,CACM,QAXZ,CAaA,OAAO,WAAP,CAAmBA,CAAA,CAAK/gB,WAAL,EAAnB,CAAsC,GAAtC,EAAiD,QAAN,EAAA+gB,CAAA,CAAiB,WAAjB,CAA6B,CAAA,IAAIpjC,GAAJ,CAAQ2lC,QAAR,CAAiBvD,KAAA,CAAMzJ,QAAN,CAAe,YAAf,CAAjB,CAAA,EAA+CqlD,aAA/C,CAA6D,CAAC56C,CAAD,CAA7D,CAA7B;AAAkG,GAAlG,CAAwG,EAAnJ,CAd4C,CAf9B,CAiCnB,IAAI,CACA,IAAAvJ,EAAQ75B,GAAA,CAAIwvC,MAAJ,CAAWy3E,CAAX,CADR,CAEF,MAAOt3G,CAAP,CAAU,CACRkqB,CAAA,CAAQ,CAACw5B,OAAQ,QAAT,CAAmBpyD,KAAM,iCAANA,CAAwC0O,CAAxC1O,CAA0C,QAA7D,CADA,CAIC,IAAb,EAAI44B,CAAJ,GACCA,CADD,CACS,CAACw5B,OAAQ,QAAT,CAAmBpyD,KAAM,gDAAzB,CADT,CAIA,KAAA,CAAKkmH,gBAAL,CAAsBttF,CAAtB,CAEA,KAAA,CAAK7jB,EAAL,CAAQ,KAAR,CAAe,QAAQ,CAACoxG,CAAD,CAASt1E,CAAT,CAAc,CACpCA,CAAA,CAAI97B,EAAJ,CAAO,UAAP,CAAmB,QAAQ,CAAC87B,CAAD,CAAM,EAAjC,CADoC,CAArC,CAQA,KAAA,CAAK/wC,GAAL,CAAS84B,CAAT,CAtDgC,CA9DH,CA8HpCstF,iBAAkBA,QAAQ,CAACttF,CAAD,CAAQ,CAE3B,IADH,IAAIvnB,EAAOtS,GAAA,CAAIkzE,OAAJ,EAAA,CAAczrC,OAAd,EAAX,CACY9kC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBk3B,CAApB,CAA0Bj3B,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CACnC,IAAIshB,EAAO4V,CAAA,CAAMl3B,CAAN,CACP3C,IAAA,CAAIy2B,QAAJ,CAAaxS,CAAb,CAAkBrjB,KAAlB,CAAJ,CACCqjB,CADD,CACMrjB,KADN,CACcgF,IAAA,CAAKyF,KAAL,CAAWiH,CAAX,CAAgB1R,KAAhB,CAAwBoqB,QAAA,CAAS/G,CAAT,CAAcrjB,KAAd,CAAxB,CAA+C,GAA/C,CADd,CAEWZ,GAAA,CAAIy2B,QAAJ,CAAaxS,CAAb,CAAkBvjB,MAAlB,CAFX,GAGCujB,CAHD,CAGMvjB,MAHN,CAGekF,IAAA,CAAKyF,KAAL,CAAWiH,CAAX,CAAgB5R,MAAhB;AAAyBsqB,QAAA,CAAS/G,CAAT,CAAcvjB,MAAd,CAAzB,CAAiD,GAAjD,CAHf,CAKIujB,EAAJ,CAAS4V,KAAT,EAAsC,CAAtC,CAAkB5V,CAAlB,CAAuB4V,KAAvB,CAA6Bj3B,MAA7B,EACIqhB,CACA,CADK+9B,MACL,CADc,QACd,CAAA,IAAA,CAAKmlE,gBAAL,CAAsBljG,CAAtB,CAA2B4V,KAA3B,CAFJ,EAII5V,CAJJ,CAIS+9B,MAJT,CAIkB,KAXiB,CAFZ,CA9HE,CAgJpC0kE,gBAAiBA,QAAQ,EAAG,CACxB1mH,GAAA,CAAIqnH,cAAJ,EACA,KAAIZ,EAAcS,SAAA,CAAU,IAAA,CAAK58F,WAAL,CAAiB,aAAjB,CAAV,CAElB,IAAIm8F,CAAJ,EAA0C,GAA1C,EAAmBA,CAAA,CAAY5lF,MAAZ,CAAmB,CAAnB,CAAnB,EAAwE,GAAxE,EAAiD4lF,CAAA,CAAY5lF,MAAZ,CAAmB,CAAnB,CAAjD,CAA6E,CAC5E,IAAI2K,EAAQ,EACZi7E,EAAA,CAAY5iH,OAAZ,CAAoB,IAApB,CAAyB,GAAzB,CAAA,CAA8BugB,KAA9B,CAAoC,MAApC,CAAA,CAA4C5L,OAA5C,CAAoD,QAAQ,CAAC20C,CAAD,CAAO,CAClE3hB,CAAA,CAAMxmC,IAAN,CAAW,KAAA,CAAM+M,IAAN,CAAWo7C,CAAX,CAAA,CAAmBA,CAAnB,CAA0B,GAA1B,CAA8BA,CAA9B,CAAmC,GAA9C,CADkE,CAAnE,CAGAs5D,EAAA,CAAc,GAAd,CAAkBj7E,CAAA,CAAMhiC,IAAN,CAAW,GAAX,CAAlB,CAAkC,GAL0C,CAOzEw4C,CAAAA,CAAShiD,GAAA,CAAIwvC,MAAJ,CAAWi3E,CAAX,CACTzmH,IAAA,CAAIw9B,OAAJ,CAAYwkB,CAAZ,CAAJ,GACCA,CADD,CACU,CACLxW,MAAOwW,CADF,CADV,CAKI,EAACA,CAAD,CAAQslE,OAAZ,EAAuBtlE,CAAvB,CAA8BxW,KAA9B,EAAuCxrC,GAAA,CAAIw9B,OAAJ,CAAYwkB,CAAZ,CAAmBxW,KAAnB,CAAvC,GAEEwW,CAFF,CAESslE,OAFT,CAC2B,CAA1B,CAAItlE,CAAJ,CAAWxW,KAAX,CAAiB5oC,MAAjB,CACkBo/C,CADlB,CACyBxW,KADzB,CAC+B5oC,MAD/B;AAEiC,CAA1B,CAAIo/C,CAAJ,CAAWxW,KAAX,CAAiB5oC,MAAjB,CACWgD,IAAA,CAAK8qB,IAAL,CAAUsxB,CAAV,CAAiBxW,KAAjB,CAAuB5oC,MAAvB,CAAgC,CAAhC,CADX,CAGWgD,IAAA,CAAK8qB,IAAL,CAAUsxB,CAAV,CAAiBxW,KAAjB,CAAuB5oC,MAAvB,CAAgC,CAAhC,CANnB,CASG,IAAsB,IAAtB,EAAIo/C,CAAJ,CAAWslE,OAAX,EAA8BtlE,CAA9B,CAAqCxW,KAArC,EAA8CxrC,GAAA,CAAIw9B,OAAJ,CAAYwkB,CAAZ,CAAmBxW,KAAnB,CAA9C,CAAyE,CAExE,IADA,IAAI3R,EAAQ,EAAZ,CACSl3B,EAAI,CAAb,CAAgBA,CAAhB,CAAoBq/C,CAApB,CAA2BxW,KAA3B,CAAiC5oC,MAAjC,CAAyCD,CAAA,EAAzC,CAA8C,CAC7C,IAAIwqD,EAAOnL,CAAA,CAAOxW,KAAP,CAAa7oC,CAAb,CACX,IAAI3C,GAAA,CAAI23B,QAAJ,CAAaw1B,CAAb,CAAJ,CACCA,CAIG,CAJEo6D,SAIF,CAJcx8B,UAAA,CAAW59B,CAAX,CAAgBvsD,KAAhB,CAId,EAJwC6F,IAAAA,EAIxC,CAHH0mD,CAGG,CAHEq6D,UAGF,CAHez8B,UAAA,CAAW59B,CAAX,CAAgBzsD,MAAhB,CAGf,EAH0C+F,IAAAA,EAG1C,CAFH,OAAO0mD,CAAP,CAAYvsD,KAET,CADH,OAAOusD,CAAP,CAAYzsD,MACT,CAAAm5B,CAAA,CAAM70B,IAAN,CAAWmoD,CAAX,CALJ,KAMO,IAAIntD,GAAA,CAAIw9B,OAAJ,CAAY2vB,CAAZ,CAAJ,CAAuB,CAAA,IACzBs6D,EAAU,CADe,CACZC,EAAU,CAAG1mH,MAAA,CAAQyF,IAAAA,EAClC0mD,EAAA,CAAK,CAAL,CAAJ,EAAentD,GAAA,CAAIwwC,QAAJ,CAAa2c,CAAA,CAAK,CAAL,CAAb,CAAf,GACCs6D,CACA,CADUt6D,CAAA,CAAK,CAAL,CACV,CAAAA,CAAA,CAAK9zC,KAAL,EAFD,CAII8zC,EAAA,CAAK,CAAL,CAAJ,EAAentD,GAAA,CAAIy2B,QAAJ,CAAa02B,CAAA,CAAK,CAAL,CAAb,CAAf,GACCnsD,KACA,CADQmsD,CAAA,CAAK,CAAL,CAAA,CAAQ9qC,WAAR,EACR,CAAA8qC,CAAA,CAAK9zC,KAAL,EAFD,CAII8zC,EAAA,CAAK,CAAL,CAAJ,EAAentD,GAAA,CAAIwwC,QAAJ,CAAa2c,CAAA,CAAK,CAAL,CAAb,CAAf;CACCu6D,CADD,CACWv6D,CAAA,CAAK,CAAL,CADX,CAGInsD,MAAJ,EACC64B,CAAA,CAAM70B,IAAN,CAAW,CACVyiH,QAASA,CADC,CAEVC,QAASA,CAFC,CAGV1mH,MAAOA,KAHG,CAAX,CAd4B,CAAvB,IAoBIhB,IAAA,CAAIy2B,QAAJ,CAAa02B,CAAb,CAAJ,EACNtzB,CAAA,CAAM70B,IAAN,CAAW,CACVhE,MAAOmsD,CAAA,CAAK9qC,WAAL,EADG,CAEVolG,QAAS,CAFC,CAGVC,QAAS,CAHC,CAAX,CA7B4C,CAoC9C1nH,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf49C,OAAQ,CACP93C,KAAM,OADC,CAEPtJ,MAAO,MAFA,CAGVF,OAAQ,MAHE,CAIPiuD,QAAS3M,CAAT2M,CAAgB24D,OAJT,CAKPK,WAAY,CACRz8G,MAAO,CACNtK,MAAO,MADD,CAENF,OAAQ,MAFF,CADC,CALL,CAWJknH,QAAS,CACR18G,MAAO,CACNlI,QAAS,KADH,CAEN6kH,cAAe,KAFT,CADC,CAXL,CADO,CAmBfl+D,SAAU,CACN/oD,MAAO,EADD,CAENF,OAAQ,EAFF,CAGNQ,OAAQ,CAAA,CAHF,CAnBK,CAwBf24B,MAAOA,CAxBQ,CAAhB,CAtCwE,CAAzE,IAiEC,KAAA,CAAKnD,SAAL,CAAe,0BAAf,CAGJ12B,IAAA,CAAI8nH,aAAJ,EA9FwB,CAhJQ,CAgPpClB,cAAeA,QAAQ,CAACmB,CAAD,CAAaC,CAAb,CAA0B,CAC7C,IAAIC,EAAU,EAAd,CAEIp3D,EAAQ,IAAA,CAAK1rB,WAAL,EAAA,CAAmB9W,IAAnB,CAAwB,iBAAxB,CAFZ;AAGI65F,EAAYr3D,CAAA,CAAMppB,OAAN,CAAc,CAAA,CAAd,CAEZylB,EAAAA,CAAO2D,CAAP3D,CAAaxqD,GAAbwqD,CAAiBA,IACrB,KAAK,IAAIvqD,EAAE,CAAX,CAAcA,CAAd,CAAgBuqD,CAAhB,CAAqBtqD,MAArB,CAA6BD,CAAA,EAA7B,CAEC,IADA,IAAI6oC,EAAQ0hB,CAAA,CAAKvqD,CAAL,CAAR6oC,CAAgBA,KAApB,CACS34B,EAAE,CAAX,CAAcA,CAAd,CAAgB24B,CAAhB,CAAsB5oC,MAAtB,CAA8BiQ,CAAA,EAA9B,CAAmC,CAElC,IAAIs1G,EAASnoH,GAAA,CAAImE,GAAJ,CADFqnC,CAAA2hB,CAAMt6C,CAANs6C,CACE,CAAb,CACIi7D,EAAUD,CAAA,CAAO95F,IAAP,CAAY,UAAZ,CADd,CAEIg6F,EAAQD,CAARC,CAAgBvnH,EAGpB,IAAmB2F,IAAAA,EAAnB,GAAIshH,CAAJ,EAAgDthH,IAAAA,EAAhD,GAAgCuhH,CAAhC,CACC11G,CAEM,CAFC81G,CAAA,CAAQ3gF,OAAR,CAAgB,CAAA,CAAhB,CAED,CADNn1B,CACM,CADD1R,KACC,EADoBmnH,CACpB,CAAAz1G,CAAA,CAAK5R,MAAL,EAA4BsnH,CAHnC,KAKO,CACFM,CAAAA,CAAUH,CAAA,CAAO1gF,OAAP,CAAe,CAAA,CAAf,CAEd,KAAIqK,EAAM9xC,GAAA,CAAIuoH,MAAJ,CAAWF,CAAX,CAAV,CACIG,EAAe12E,CAAf02E,CAAmBC,aAAnBD,CAAiCjB,SACjCmB,EAAAA,CAAgB52E,CAAhB42E,CAAoBD,aAApBC,CAAkClB,UAEjB/gH,KAAAA,EAArB,GAAI+hH,CAAJ,GACCF,CACA,CADQ1nH,KACR,CADmC4nH,CACnC,CADgD,GAChD,CADgBN,CAChB,CAD0BtnH,KAC1B,CAAAunH,CAAA,CAAOplH,QAAP,CAAgBulH,CAAhB,CAAwB1nH,KAAxB,CAFD,CAIsB6F,KAAAA,EAAtB,GAAIiiH,CAAJ,GACCJ,CACA,CADQ5nH,MACR,CADqCgoH,CACrC,CADmD,GACnD,CADiBR,CACjB,CAD2BxnH,MAC3B,CAAAynH,CAAA,CAAOzhH,SAAP,CAAiB4hH,CAAjB,CAAyB5nH,MAAzB,CAFD,CAKA4R,EAAA,CAAOg2G,CAhBD,CAmBPL,CAAA,CAAQI,CAAR,CAAA,CAAiB/1G,CA/BiB,CAmCpC,IAAKxR,IAAIA,CAAT,GAAemnH,EAAf,CACK31G,CACJ,CADW21G,CAAA,CAAQnnH,CAAR,CACX,CAAAd,GAAA,CAAIuoH,MAAJ,CAAWznH,CAAX,CAAA,CAAe6nH,OAAf,CAAuBr2G,CAAvB,CAGD,KAAA,CAAKnQ,YAAL,EAjD6C,CAhPb,CAArC,C,CCAAnC,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCyI,OAAQ,iBADyB,CAEjC7H,OAAQ,CAAC,oBAAD,CAFyB,CAG9B91B,MAAO,QAHuB,CAIjC++B,WAAY,CAAA,CAJqB,CAK9B7H,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ2xF,OAAQ,EADJ,CAEJvpF,QAAS54B,IAAAA,EAFL,CAHG,CAOX4yB,MAAO,mBAPI,CALqB,CAc9Bl7B,OAAQ,CACP0qH,SAAU,EADH,CAdsB,CAkB9BroH,YAAaA,QAAQ,EAAG,CACpB,IAAA,CAAK0+B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEG,KAAIuR,EAAK,IACTltB,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CAClB2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADW,CAElBU,MAAO,mBAFW,CAGf2oB,OAAQ,CACJ93C,KAAM,QADF,CAEJugD,MAAO,SAFH,CAHO,CAOlB5wB,MAAO,CAAC,CACP6L,OAAQ,MADD,CAEPzkC,KAAM,4BAFC;AAGPoyD,OAAQ,QAHD,CAIP74B,KAAM,CAJC,CAKPuF,WAAY,CAAA,CALL,CAAD,CAML,CACD2F,OAAQ,QADP,CAED1kC,MAAO,MAFN,CAGDqyD,OAAQ,MAHP,CAIDjvC,MAAO,CAAA,CAJN,CAKDrd,MAAO,IAAA,CAAK4xB,QAAL,CAAc,cAAd,CALN,CAMKqpB,OAAQ,CACJ93C,KAAM,MADF,CAEJugD,MAAO,SAFH,CANb,CAUD5wB,MAAO,CAAC,CACP54B,KAAM,CAAA,IAAIjB,GAAJ,CAAQ4gD,SAAR,CAAkB,IAAA,CAAKjoB,QAAL,CAAc,aAAd,CAAlB,CAAA,EAAgDv0B,KAAhD,CAAsD,CAAC8oB,CAAA,CAAGkX,UAAH,EAAD,CAAiB,sBAAjB,CAAtD,CADC,CAAD,CAEL,CACDpjC,MAAO,UADN,CAEDse,KAAM,QAFL,CAGDwpG,WAAY,kBAHX,CAIDjpH,MAAOqtB,CAAA,CAAG5C,WAAH,CAAe,QAAf,CAJN,CAKDkQ,KAAM,CALL,CAMDr5B,UAAW,CACVC,YAAaA,QAAQ,CAACyqD,CAAD,CAAS,CAC7B,IAAIl2B,EAASzI,CAAA,CAAG5C,WAAH,CAAe,QAAf,CACRqL,EAAL,GACAk2B,CAAA,CAAO1kB,IAAP,CAAYja,CAAA,CAAGyL,QAAH,CAAY,eAAZ,CAAZ,CACA,CAAA34B,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAKjX,CAAA,CAAG8e,cAAH,EADW;AAEhB5a,OAAQ,CACPgS,KAAM,eADC,CAEPwlF,OAAQ17F,CAAA,CAAG5C,WAAH,CAAe,QAAf,CAFD,CAGPqL,OAAQA,CAHD,CAFQ,CAAjB,CAAA,CAOGU,IAPH,CAOQ,QAAQ,CAAC2J,CAAD,CAAW,CAE1B,CADI5Z,CACJ,CADUpmB,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACV,GAAW/Z,CAAX,CAAe2iG,MAAf,EAAyB3iG,CAAzB,CAA6B2iG,MAA7B,CAAoCH,MAApC,EACC/8D,CAAA,CAAO3lB,QAAP,CAAgB9f,CAAhB,CAAoB2iG,MAApB,CAA2BH,MAA3B,CACA,CAAA/8D,CAAA,CAAOm9D,kBAAP,EAFD,EAGW5iG,CAAJ,EAAWA,CAAX,CAAe2iG,MAAf,EAAyB3iG,CAAzB,CAA6B2iG,MAA7B,CAAoCjoH,EAApC,CACNosB,CAAA,CAAGwK,WAAH,CAAe,QAAf,CAAyBtR,CAAzB,CAA6B2iG,MAA7B,CAAoCjoH,EAApC,CADM,CAGNosB,CAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,mBAAZ,CAAb,CAEDkzB,EAAA,CAAO56B,MAAP,EAV0B,CAP3B,CAkBG,QAAQ,CAAC+O,CAAD,CAAW,CACrB9S,CAAA,CAAGwJ,SAAH,CAAasJ,CAAb,CADqB,CAlBtB,CAFA,CAF6B,CADpB,CA2BV99B,MAAO,IA3BG,CANV,CAFK,CAVN,CAgDD6iC,UAAW,CAAA,CAhDV,CAiDDD,YAAa,CAAA,CAjDZ,CAkDDtK,KAAM,CAlDL,CANK,CAPW,CAiElBu5B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACb74B,MAAO,WADM,CAEb0kC,OAAQ,WAFK;AAGb0/B,UAAW,IAAA,CAAKzsC,QAAL,CAAc,cAAd,CAHE,CAIb6B,KAAM,CAJO,CAKbr5B,UAAW,CACEwyF,WAAYA,QAAQ,CAACx9C,CAAD,CAAQxmC,CAAR,CAAU,CACtBA,CAAA,CAAEwlD,MAAF,EAAJ,EAAkBxlD,CAAlB,CAAoB0lD,KAApB,GACCnoC,CAAA,CAAG+7F,kBAAH,CAAsB9yE,CAAA,CAAM/O,QAAN,EAAtB,CACA,CAAA+O,CAAA,CAAMjQ,QAAN,CAAe,EAAf,CAFD,CAD0B,CADhC,CALE,CAAD,CAaL,CACPllC,MAAO,QADA,CAEP2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CAFC,CAGPW,QAASA,QAAQ,EAAG,CACnB,IAAI4vF,EAAK,IAAA,CAAKxuF,EAAL,CAAQ,SAAR,CAAA,CAAmBrM,IAAnB,CAAwB,WAAxB,CACTnB,EAAA,CAAG+7F,kBAAH,CAAsBC,CAAA,CAAG9hF,QAAH,EAAtB,CAAqC,CAAA,CAArC,CACA8hF,EAAA,CAAGhjF,QAAH,CAAY,EAAZ,CAHmB,CAHb,CAbK,CAqBX,CACDllC,MAAO,QADN,CAED2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,YAAd,CAFL,CAGDW,QAASA,QAAQ,EAAG,CACnBpM,CAAA,CAAG+7F,kBAAH,CAAsB,EAAtB,CAA0B,CAAA,CAA1B,CADmB,CAHnB,CArBW,CAJH,CAAD,CAjEK,CAAhB,CAoGA,KAAA,CAAK/pF,UAAL,EAEH,KAAA,CAAKlpB,EAAL,CAAQ,UAAR,CAAoB,QAAQ,CAAC87B,CAAD,CAAM,CACjCA,CAAA,CAAIq3E,WAAJ,CAAgB,UAAhB,CAA4B,ifAA5B,CACA;IAAA,CAAKC,mBAAL,EAFiC,CAAlC,CA3GuB,CAlBM,CAoI9BA,oBAAqBA,QAAQ,EAAG,CAClC,GAAI,IAAA,CAAK9+F,WAAL,CAAiB,SAAjB,CAAJ,CACC,GAAI,IAAA,CAAKC,SAAL,EAAJ,CAAsB,CACrB,IAAI8+F,EAAYrpH,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAe,IAAA,CAAKpvB,WAAL,CAAiB,SAAjB,CAAf,CAAhB,CACIg/F,EAAWD,CAAA,CAAUhwG,KAAV,EACXiwG,EAAJ,GACKD,CAGJ,EAFC,IAAA,CAAK3xF,WAAL,CAAiB,SAAjB,CAA4B2xF,CAA5B,CAED,CAAA,IAAA,CAAKJ,kBAAL,CAAwBK,CAAxB,CAAkC7iH,IAAAA,EAAlC,CAA6C,CAAA,CAA7C,CAJD,CAHqB,CAAtB,IAYCzG,IAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAe4qE,mBAAf,CAAoC,GAApC,CAAyC,IAAzC,CAA+C,CAAC,CAAA,CAAD,CAA/C,CAdgC,CApIF,CAwJ9BH,mBAAoBA,QAAQ,CAACK,CAAD,CAAWC,CAAX,CAAuBC,CAAvB,CAAiC,CAE5D,IADAF,CACA,CADWA,CAAA,CAAS/zE,IAAT,EACX,GAAgBg0E,CAAhB,CAA4B,CACvBD,CAAJ,EACI,IAAA,CAAKH,WAAL,CAAiB,WAAjB,CAA8BG,CAA9B,CAEJ,KAAA,CAAKniF,IAAL,EACA,KAAIja,EAAK,IAAT,CACI2+B,EAAS,IAAA,CAAKwsB,YAAL,CAAkB,QAAlB,CAAA,CAA4BhqD,IAA5B,CAAiC,UAAjC,CACbruB,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK,IAAA,CAAKnR,cAAL,EAAA,CAAsBgZ,cAAtB,EADW;AAEhB5a,OAAQ,CACPuE,OAAQzI,CAAA,CAAG3C,SAAH,EAAA,CAAiB2C,CAAA,CAAG3C,SAAH,EAAA,CAAeE,KAAf,EAAjB,CAA0ChkB,IAAAA,EAD3C,CAEP28B,KAAM,eAFC,CAGPkmF,SAAUA,CAHH,CAKPC,WAAYA,CAAA,CAAa,CAAA,CAAb,CAAoB,CAAA,CALzB,CAMPX,OAAQ/8D,CAAA,CAAOhxB,OAAP,EAAA,CAAmBgxB,CAAA,CAAOzkB,QAAP,EAAnB,CAAuC,IAAA,CAAK9c,WAAL,CAAiB,QAAjB,CANxC,CAOPqwB,QAAS36C,GAAA,CAAIc,EAAJ,EAPF,CAFQ,CAWb8zC,QAASA,QAAQ,CAAC5U,CAAD,CAAWya,CAAX,CAAiB,CACjCvtB,CAAA,CAAG+D,MAAH,EACI+O,EAAJ,CAAehgC,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACXH,EAAJ,CAAa+oF,MAAb,CAAoBjoH,EAApB,GACCosB,CAAA,CAAGwK,WAAH,CAAe,QAAf,CAAyBsI,CAAzB,CAAkC+oF,MAAlC,CAAyCjoH,EAAzC,CACA,CAAA+qD,CAAA,CAAOm9D,kBAAP,EAFD,CAIA,KAAID,EAAS/oF,CAAT+oF,CAAkBA,MAAlBA,CAAyB/oF,QAE7B,IADI93B,CACJ,CADa6gH,CAAA,CAAO78G,KAAP,CAAa,sBAAb,CACb,CAAY,CACPuS,CAAAA,CAAQze,GAAA,CAAIwvC,MAAJ,CAAWtnC,CAAA,CAAO,CAAP,CAAX,CACZ,KAAKhE,GAAL,GAAYua,EAAZ,CAAiB2S,MAAjB,CACC3S,CAAA,CAAK2S,MAAL,CAAYltB,GAAZ,CAAA,CAAmBua,CAAA,CAAK2S,MAAL,CAAYltB,GAAZ,CAAA,CAAiBqxC,IAAjB,EAEpBwzE,EAAA,EAAU,sBAAV,EAAkCtqG,CAAA,CAAK7d,KAAL,CAAa6d,CAAb,CAAkB7d,KAAlB;AAA0B,MAA5D,EAAoE,YAApE,EAAkF6d,CAAA,CAAK/d,MAAL,CAAc+d,CAAd,CAAmB/d,MAAnB,CAA4B,OAA9G,EAAuH,SAAvH,CAAiIwsB,CAAA,CAAG8F,cAAH,EAAA,CAAoBoR,UAApB,EAAjI,CAAkK,OAAlK,CAA0K3lB,CAA1K,CAA+K2kB,IAA/K,CAAoL,WAApL,CAAgMlW,CAAA,CAAG3C,SAAH,EAAA,CAAeE,KAAf,EAAhM,CAAuN,gBAAvN,CAAwOzqB,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyBzc,CAAzB,CAA8B2S,MAA9B,CAAxO,CAA8Q,aALnQ,CAORk4F,CAAAA,CAAWtpF,CAAXspF,CAAoBP,MAApBO,CAA2BA,QAC/Bp8F,EAAA,CAAGu8F,WAAH,CAAezpF,CAAf,CAAwB+oF,MAAxB,CAA+BF,QAA/B,CAEIU,EAAJ,EACCG,IAEI,CAF8B,EAA3B,CAAA1pF,CAAA,CAAS+oF,MAAT,CAAgB1+G,QAAhB,CAAgC6iB,CAAA,CAAG3C,SAAH,EAAA,CAAeC,WAAf,CAA2BwV,CAA3B,CAAoC+oF,MAApC,CAA2C1+G,QAA3C,CAAA,CAAqDurC,aAArD,EAAhC,CAAuGnvC,IAAAA,EAE1G,CADJymB,CAAA,CAAGi8F,WAAH,CAAe,WAAf,CAA4BG,CAA5B,CAAsCI,IAAtC,CACI,CAAA1pH,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,QAAQ,EAAG,CACvB,IAAA,CAAK2qE,WAAL,CAAiB,UAAjB,CAA6BJ,CAA7B,CACKS,EAAL,EACI,IAAA,CAAKv+G,IAAL,CAAUigG,MAAV,CAAiB,GAAjB,CAAsBpmB,QAAtB,CAHmB,CAA9B,CAKG,GALH,CAKQ53D,CALR,CAHL,GAUIA,CAAA,CAAGi8F,WAAH,CAAe,UAAf;AAA2BJ,CAA3B,CACA,CAAKS,CAAL,EACIt8F,CAAA,CAAGjiB,IAAH,CAAQigG,MAAR,CAAe,GAAf,CAAoBpmB,QAApB,CAZR,CAeI53D,EAAA,CAAG5C,WAAH,CAAe,SAAf,CAAJ,EACC4C,CAAA,CAAGk8F,mBAAH,EAnCgC,CAXrB,CAiDb/sE,QAASA,QAAQ,CAACrc,CAAD,CAAWya,CAAX,CAAiB,CACjCvtB,CAAA,CAAGqvB,iBAAH,CAAqB,qCAArB,CAA4Dvc,CAA5D,CADiC,CAjDrB,CAAjB,CAP2B,CAFgC,CAxJ/B,CAyN9BmpF,YAAaA,QAAQ,CAACQ,CAAD,CAAUL,CAAV,CAAoBI,CAApB,CAA0B,CAC9C,IAAIz+G,EAAO,IAAA,CAAKotE,YAAL,CAAkB,MAAlB,CAAPptE,CAAiCA,IAC5BA,EAAA,CAAKojB,IAAL,CAAU,MAAV,CAAA,CAAkB8iB,UAAlB,CAA6B,WAA7B,CAA0C,mCAA1C,CAA8Ew4E,CAA9E,CAAsF,OAAtF,CAA8FL,CAA9F,CAAuG,MAAvG,EAA+GI,CAAA,CAAO,QAAP,CAAgBA,CAAhB,CAAqB,SAArB,CAAiC,EAAhJ,EAAoJ,cAApJ,CAAoK,CAAA,CAApK,CACTz+G,EAAA,CAAKigG,MAAL,CAAY,GAAZ,CAAiBpmB,QAAjB,CAH8C,CAzNjB,CAAlC,C,CCAA9kF,GAAA,CAAIk2B,MAAJ,CAAW,uBAAX,CAAoC,CACnCyI,OAAQ,iBAD2B,CAEnC7H,OAAQ,CAAC,oBAAD,CAF2B,CAGnC4V,MAAO,iBAH4B,CAIhCxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ7M,MAAO3jB,IAAAA,EADH,CAEJxC,MAAOwC,IAAAA,EAFH,CAGJ4D,SAAU5D,IAAAA,EAHN,CAIJs+C,SAAU,MAJN,CAKJlb,QAAS,EALL,CAMJgC,MAAO,GANH,CAHG,CAWXxS,MAAO,mBAXI,CAJuB,CAkBhCl7B,OAAQ,CACP8U,KAAMxM,IAAAA,EADC,CAEPmjH,UAAWnjH,IAAAA,EAFJ,CAGPi/D,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAACA,MAAO,kBAAR,CAA3B,CAHF,CAIP6oH,YAAa,CAJN,CAKPC,UAAW,CALJ,CAlBwB,CA0BhCC,iBAAkB,GA1Bc,CA4BhCvpH,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF6B,CA5BE;AAiChC2xB,cAAeA,QAAQ,EAAG,CACtBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CAClB2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADW,CAElBo7B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACP74B,MAAO,kBADA,CAAD,CAGN,mBAHM,CAGc,IAAA,CAAK23B,QAAL,CAAc,SAAd,CAHd,CAGuC,qBAHvC,CAG6D,IAAA,CAAKA,QAAL,CAAc,MAAd,CAH7D,CAGmF,SAHnF,CAIL,CACD33B,MAAO,QADN,CAED0kC,OAAQ,YAFP,CAGDJ,SAAU,EAHT,CAIDzlC,MAAO,GAJN,CAKD0lC,SAAU,GALT,CAMDC,UAAW,CANV,CAOD5kC,MAAO,EAPN,CAQDO,UAAW,CACV6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACxBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,OAAjB,CAAhB,CADwB,CADf,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C,IAAA,CAAKn7C,WAAL,CAAiB,OAAjB,CAA0BmO,CAAA,CAAOuB,QAAP,EAA1B,CACA;IAAA,CAAKk3E,MAAL,EAF0C,CAJjC,CAQVp8G,MAAO,IARG,CARV,CAJK,CAuBN,mBAvBM,CAuBc,IAAA,CAAKy2B,QAAL,CAAc,aAAd,CAvBd,CAuB2C,qBAvB3C,CAuBiE,IAAA,CAAKA,QAAL,CAAc,UAAd,CAvBjE,CAuB2F,SAvB3F,CAwBf,CAES33B,MAAO,QAFhB,CAGS0kC,OAAQ,gBAHjB,CAISJ,SAAU,CAJnB,CAKSzlC,MAAO,CALhB,CAMS0lC,SAAU,EANnB,CAOSC,UAAW,CAPpB,CAQS5kC,MAAO,EARhB,CASSO,UAAW,CACV6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACxBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK8jF,cAAL,EAAhB,CADwB,CADf,CAIVhkF,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C,IAAA,CAAKo3C,cAAL,CAAoBpkF,CAAA,CAAOuB,QAAP,EAApB,CACA,KAAA,CAAKk3E,MAAL,EAF0C,CAJjC,CAQVp8G,MAAO,IARG,CATpB,CAxBe,CA4CV,mBA5CU,CA4CU,IAAA,CAAKy2B,QAAL,CAAc,YAAd,CA5CV,CA4CsC,qBA5CtC,CA4C4D,IAAA,CAAKA,QAAL,CAAc,SAAd,CA5C5D,CA4CqF,SA5CrF,CA6CR,CACE33B,MAAO,QADT;AAEE0kC,OAAQ,eAFV,CAGEJ,SAAU,CAHZ,CAIEzlC,MAAO,EAJT,CAKE0lC,SAAU,EALZ,CAMEC,UAAW,CANb,CAOE5kC,MAAO,EAPT,CAQEO,UAAW,CACV6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACxBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,SAAjB,CAAhB,CADwB,CADf,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CAC1C,IAAA,CAAKn7C,WAAL,CAAiB,SAAjB,CAA4BmO,CAAA,CAAOuB,QAAP,EAA5B,CACA,KAAA,CAAKk3E,MAAL,EAF0C,CAJjC,CAQVp8G,MAAO,IARG,CARb,CA7CQ,CAJH,CAAD,CAFK,CAAhB,CAyEA,KAAA,CAAKgoH,YAAL,CAAkBlqH,GAAA,CAAIu4B,MAAJ,CAAW,4BAAX,CAAyC,CAC1D6f,YAAa,IAD6C,CAE1DpD,MAAO,CACNC,YAAa,CACN+2B,UAAW,KADL,CADP,CAFmD,CAO1D7qE,UAAW,CACVuzC,KAAMA,QAAQ,CAACra,CAAD,CAAQtS,CAAR,CAAiB6sB,CAAjB,CAA0BD,CAA1B,CAAqC,CAC9CC,CAAJ,EACC,IAAA,CAAKu1E,YAAL,CAAkBpiG,CAAlB,CAFiD,CADzC,CAMV7lB,MAAO,IANG,CAP+C,CAAzC,CAAlB,CAiBA,KAAA,CAAK8T,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC3BA,CAAAqpB,CAAOC,cAAPD,CAAsB,CAACzG,SAAU,CAAA,CAAX,CAAtByG,CACrB,CAAYtK,IAAZ,CAAiB,CACbrR,SAAUA,QAAQ,CAACtb,CAAD;AAAU4sB,CAAV,CAAqBC,CAArB,CAA8B,CAC3CA,CAAJ,EAA8B,CAA9B,CAAe7sB,CAAf,CAAuBnlB,MAAvB,GACKwnH,CACJ,CADgBriG,CAAA,CAAQ,CAAR,CAAA,CAAW6rB,OAAX,EAChB,CAAA,IAAA,CAAKy2E,OAAL,CAAaD,CAAb,CAFD,CAD+C,CADnC,CAObloH,MAAO,IAPM,CAQbkvB,OAAQ,CACVya,MAAO,CADG,CAEVzhB,MAAO,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CAFG,CAGVy6B,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAHA,CARK,CAAjB,CAFgD,CAA9C,CAgBG,IAhBH,CAkBA,KAAA,CAAKtU,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CAC1B3jB,IAAAA,EAAd,GAAI2jB,CAAJ,EAAoC,EAApC,EAA2BA,CAA3B,EACC,IAAA,CAAKigG,OAAL,CAAajgG,CAAb,CAFuC,CAAtC,CAIG,IAJH,CAMA,KAAA,CAAKpU,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CAC5C,IAAI+8D,EAAa,EACpB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBI,GAAA,CAAIy2B,QAAJ,CAAa72B,CAAb,CAAJ,CAAyBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAzB,CACSA,CAAJ,CAASA,IAAT,CAAgBwhE,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAhB,CAAqBA,IAArB,CAAhB,CACIA,CADJ,CACSg0C,OADT,EACmBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CAHI,CAA7B,CAKA,KAAA,CAAKy2E,OAAL,CAAajpD,CAAb,CAP+C,CAA7C,CAQH,IARG,CAUA,KAAA,CAAKprD,EAAL,CAAQ,sBAAR,CAAgC,QAAQ,CAACgzB,CAAD,CAAM3kC,CAAN,CAAa,CACvD,IAAI+8D,EAAa,EACjB/8D,EAAA,CAAMmU,OAAN,CAAc,QAAQ,CAAC5Y,CAAD,CAAO,CACxBA,CAAA,CAAKg0C,OAAL,EAAJ,EAAqBwtB,CAAA,CAAWp8D,IAAX,CAAgBpF,CAAA,CAAKg0C,OAAL,EAAhB,CADO,CAA7B,CAGA;IAAA,CAAKy2E,OAAL,CAAajpD,CAAb,CALuD,CAArD,CAMA,IANA,CAQA,KAAA,CAAKprD,EAAL,CAAQ,QAAR,CAAkB,QAAQ,CAACosB,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,CAC5CuS,CAAAA,CAAO,IAAA,CAAKq3G,OAAL,EACE7jH,KAAAA,EAAb,GAAIwM,CAAJ,GACCA,CAAA,CAAK4B,QAAL,CAAcjU,CAAd,CAAA,CAAqBgb,SAArB,CAA+Blb,CAA/B,CAEA,CAAAuS,CAAA,CAAK+D,MAAL,EAHD,CAFgD,CAAjD,CAOH,IAPG,CASA,KAAA,CAAKhB,EAAL,CAAQ,UAAR,CAAoB,IAApB,CAAyB+jD,SAAzB,CAAoC,IAApC,CAEA,KAAA,CAAK76B,UAAL,CAAgBvjB,SAAhB,CAhJsB,CAjCM,CAoLhCwuG,aAAcA,QAAQ,CAACpiG,CAAD,CAAU,CAElC,IADG,IAAIwiG,EAAgB,EAApB,CACM5nH,EAAI,CAAb,CAAgBA,CAAhB,CAAoBolB,CAApB,CAA4BnlB,MAA5B,CAAoCD,CAAA,EAApC,CAAyC,CACxC,IAAIg6B,EAAI5U,CAAA,CAAQplB,CAAR,CACJ6nH,EAAAA,CAAK,CACR1pH,GAAI6B,CADI,CAER8nH,OAAQ9tF,CAAA,CAAEwW,OAAF,EAAA,CAAYoC,IAAZ,EAAA,CAAmBnxB,KAAnB,CAAyB,KAAzB,CAFA,CAGRtS,IAAK6qB,CAAA,CAAEyW,SAAF,EAHG,CAIRi4B,OAAQ1uC,CAAA,CAAE2W,QAAF,EAAA,CAAaiC,IAAb,EAAA,CAAoBnxB,KAApB,CAA0B,KAA1B,CAJA,CAMTmmG,EAAA,CAAcvlH,IAAd,CAAmBwlH,CAAnB,CARwC,CAYzC,IAAIE,EAAoB,EAAxB,CACIC,EAAoB,EACxB,KAAShoH,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB4nH,CAApB,CAAkC3nH,MAAlC,CAA0CD,CAAA,EAA1C,CAA+C,CAC1C6nH,CAAJ,CAASD,CAAA,CAAc5nH,CAAd,CACT,KAAIioH,EAAcJ,CAAA,CAAGC,MAAH,CAAUD,CAAV,CAAaC,MAAb,CAAoB7nH,MAApB,CAA2B,CAA3B,CACdioH,EAAAA,CAAcL,CAAA,CAAGn/C,MAAH,CAAU,CAAV,CACdq/C,EAAA,CAAkBE,CAAlB,CAAJ,CACCF,CAAA,CAAkBE,CAAlB,CAAA,EADD,CAGCF,CAAA,CAAkBE,CAAlB,CAHD,CAGkC,CAE9BD,EAAA,CAAkBE,CAAlB,CAAJ;AACCF,CAAA,CAAkBE,CAAlB,CAAA,EADD,CAGCF,CAAA,CAAkBE,CAAlB,CAHD,CAGkC,CAZY,CAgB3CC,CAAAA,CAAiB,EACrB,KAASnoH,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB4nH,CAApB,CAAkC3nH,MAAlC,CAA0CD,CAAA,EAA1C,CACK6nH,CAIJ,CAJSD,CAAA,CAAc5nH,CAAd,CAIT,CAHIioH,CAGJ,CAHkBJ,CAAA,CAAGC,MAAH,CAAUD,CAAV,CAAaC,MAAb,CAAoB7nH,MAApB,CAA2B,CAA3B,CAGlB,CAFIioH,CAEJ,CAFkBL,CAAA,CAAGn/C,MAAH,CAAU,CAAV,CAElB,CAAAy/C,CAAA,CAAe9lH,IAAf,CAAoB,CACnBqmE,OAAQw/C,CADW,CACEE,YAAaJ,CAAA,CAAkBE,CAAlB,CADf,CAEnBJ,OAAQG,CAFW,CAEEI,YAAaN,CAAA,CAAkBE,CAAlB,CAFf,CAApB,CASDE,EAAA,CAAehnH,IAAf,CAAoB,QAAQ,CAACme,CAAD,CAAItY,CAAJ,CAAO,CAClC,IAAIshH,EAAKhpG,CAALgpG,CAAOF,WAAX,CACIG,EAAKvhH,CAALuhH,CAAOH,WAEPt4G,EAAAA,CAAKwP,CAALxP,CAAOu4G,WACPt4G,EAAAA,CAAK/I,CAAL+I,CAAOs4G,WAQV,OAAIv4G,EAAJ,CAASC,CAAT,CAAoB,EAApB,CACID,CAAJ,CAASC,CAAT,CAAoB,CAApB,CACIu4G,CAAJ,CAASC,CAAT,CAAoB,EAApB,CACID,CAAJ,CAASC,CAAT,CAAoB,CAApB,CAGM,CAnB2B,CAAnC,CAsBIjhG,EAAAA,CAAMrkB,IAAA,CAAKgM,GAAL,CAAS,IAAA,CAAKo4G,cAAL,EAAT,CAAgCc,CAAhC,CAA+CloH,MAA/C,CACNuoH,EAAAA,CAAkB,EAClBC,EAAAA,CAAkB,EACtB,KAASzoH,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBsnB,CAApB,CAAyBtnB,CAAA,EAAzB,CACCwoH,CAAA,CAAgBnmH,IAAhB,CAAqB8lH,CAAA,CAAenoH,CAAf,CAArB,CAAuC0oE,MAAvC,CACA,CAAA+/C,CAAA,CAAgBpmH,IAAhB,CAAqB8lH,CAAA,CAAenoH,CAAf,CAArB,CAAuC8nH,MAAvC,CAIGY,EAAAA,CAAW,EAAI1/G,EAAAA,CAAO,EAAI2/G,EAAAA,CAAW,EAAzC,KAA6Cp4G,EAAM,EACnD,KAASvQ,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoB4nH,CAApB,CAAkC3nH,MAAlC,CAA0CD,CAAA,EAA1C,CAA+C,CAC9C,IAAI4oH,EAAehB,CAAA,CAAc5nH,CAAd,CACnB,IAAuD,EAAvD,EAAIwoH,CAAA,CAAgBnkH,OAAhB,CAAwBukH,CAAA,CAAalgD,MAAb,CAAoB,CAApB,CAAxB,CAAJ,EAAgH,EAAhH,EAA6D+/C,CAAA,CAAgBpkH,OAAhB,CAAwBukH,CAAA,CAAalgD,MAAb,CAAoB,CAApB,CAAxB,CAA7D,CACCggD,CAAA,CAASrmH,IAAT,CAAcumH,CAAd,CAA2Bd,MAA3B,CAGA;AAFA9+G,CAAA,CAAK3G,IAAL,CAAUumH,CAAV,CAAuBz5G,GAAvB,CAEA,CADAw5G,CAAA,CAAStmH,IAAT,CAAcumH,CAAd,CAA2BlgD,MAA3B,CACA,CAAAn4D,CAAA,CAAIlO,IAAJ,CAASumH,CAAT,CAAsBzqH,EAAtB,CAN6C,CAc/C,IAAA,CAAKwpH,OAAL,EAAA,CAAe9wG,eAAf,CAA+B6xG,CAA/B,CAAyC1/G,CAAzC,CAA+C2/G,CAA/C,CAAyDp4G,CAAzD,CAJoB4G,CAAAA,CAIpB,CAHiBC,CAAC,OAADA,CAAU,KAAVA,CAGjB,CAFiBC,GAEjB,CADgCC,CAAC,OAADA,CAAU,KAAVA,CAChC,CAEK,KAAA,CAAKqwG,OAAL,EAAA,CAAex0G,SAAf,EAAL,EACC,IAAA,CAAKuuD,SAAL,CAAe,CACXpjE,KAAM,IAAA,CAAK03B,QAAL,CAAc,WAAd,CADK,CAEX8xB,MAAO,IAFI,CAAf,CAhGiC,CApLA,CA2RhCsP,UAAWA,QAAQ,EAAG,CACrB,IAAIt3D,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAAT,CACI5tC,EAAIzrB,CAAA,CAAG5B,QAAH,EADR,CAEIotB,EAAIxrB,CAAA,CAAG9B,SAAH,EAFR,CAII6qH,EAAK,IAAIz4G,UAAJ,CAAewB,UACxBi3G,EAAA,CAAG90G,IAAH,CAAQ,GAAR,CAAYjU,CAAA,CAAGgoB,KAAH,EAAZ,CAAA,CACE5V,QADF,CACWqZ,CADX,CAAA,CACctS,SADd,CACwBqS,CADxB,CAAA,CAEEhZ,QAFF,CAEW,CACTsE,MAAO,IAAA,CAAKjb,YAAL,CAAkBqD,IAAlB,CAAuB,IAAvB,CADE,CAFX,CAMA,KAAA,CAAK8pH,OAAL,CAAaD,CAAb,CAZqB,CA3RU,CA8ShCltH,aAAcA,QAAQ,CAACsW,CAAD,CAAO,CAC5B,IAAIssC,EAAM,CAAA,IAAIh0C,IAAJ,EAAWC,OAAX,EACV,IAAI,IAAA,CAAKu+G,YAAL,EAAJ;AAA2BxqE,CAA3B,CAA+B,IAAA,CAAKwqE,YAAL,EAA/B,CAAmD,IAAnD,CAAwD3B,gBAAxD,CAA0E,CACzE,IAAA,CAAK4B,YAAL,CAAkB,CAAlB,CAEG,KADCtnH,CACD,CADS,EACT,CAAiB,IAAjB,EAAOuZ,CAAP,CAAA,CACCvZ,CAAA,CAAMW,IAAN,CAAW4Y,CAAX,CAAkB0B,IAAlB,CACA,CAAA1B,CAAA,CAASA,CAAT,CAAgBA,MAEjB,KAAA,CAAKoV,cAAL,EAAA,CAAsBgQ,aAAtB,CAAoC,cAApC,CAAoD,IAApD,CAA0D,CAAC3+B,CAAA,CAAMkW,OAAN,EAAA,CAAgB/Q,IAAhB,CAAqB,GAArB,CAAD,CAA1D,CAPsE,CAA1E,IASC,KAAA,CAAKmiH,YAAL,CAAkBzqE,CAAlB,CAX2B,CA9SG,CAkUhCmpE,QAASA,QAAQ,CAACjgG,CAAD,CAAQ,CACxB,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0B,IAAA,CAAKk0F,gBAAL,CAAsBxhG,CAAtB,CAA1B,CACH,KAAA,CAAKyhG,YAAL,EAAA,CAAoBn3E,IAApB,CAAyB,CAACtjB,OAAQ,IAAA,CAAKgG,YAAL,EAAT,CAAzB,CAF2B,CAlUO,CAuUhCknF,OAAQA,QAAQ,EAAG,CAClB,IAAIl0F,EAAQ,IAAA,CAAKE,WAAL,CAAiB,OAAjB,CACE7jB,KAAAA,EAAd,GAAI2jB,CAAJ,EACC,IAAA,CAAKigG,OAAL,CAAajgG,CAAb,CAHiB,CAvUa,CA8UhCwhG,iBAAkBA,QAAQ,CAAC/rH,CAAD,CAAQ,CACjC,GAAIG,GAAA,CAAIy2B,QAAJ,CAAa52B,CAAb,CAAJ,CAAyB,MAAOA,EAAA,CAAMgE,OAAN,CAAc,8BAAd;AAA8C,EAA9C,CAE/B,KAAIm3B,EAAS,EACbn7B,EAAA,CAAM2Y,OAAN,CAAc,QAAQ,CAACy1B,CAAD,CAAI,CACzBjT,CAAA,CAAOh2B,IAAP,CAAYipC,CAAA,CAAEpqC,OAAF,CAAU,8BAAV,CAA0C,EAA1C,CAAZ,CADyB,CAA1B,CAGA,OAAOm3B,EAPyB,CA9UF,CAApC,C,CCAAh7B,GAAA,CAAIk2B,MAAJ,CAAW,uBAAX,CAAoC,CAChCyI,OAAQ,iBADwB,CAEhC7H,OAAQ,CAAC,oBAAD,CAAsB,+BAAtB,CAFwB,CAGhC4V,MAAO,iBAHyB,CAIhCxU,QAAS,CACLG,KAAM,EADD,CAGLpB,IAAK,CACD4U,MAAO,GADN,CAEDkZ,SAAU,MAFT,CAHA,CAOL1rB,MAAO,mBAPF,CAJuB,CAchCl7B,OAAQ,CACJ8zE,MAAOxrE,IAAAA,EADH,CAEJqW,IAAKrW,IAAAA,EAFD,CAGJqlH,WAAYrlH,IAAAA,EAHR,CAIJsY,MAAOtY,IAAAA,EAJH,CAKJslH,UAAWtlH,IAAAA,EALP,CAMJoS,KAAMpS,IAAAA,EANF,CAQJpC,MAAOoC,IAAAA,EARH,CASJ89F,SAAU99F,IAAAA,EATN,CAWJulH,qBAAsB,CAAA,CAXlB,CAaJC,eAAgBxlH,IAAAA,EAbZ,CAcJylH,aAAczlH,IAAAA,EAdV,CAeJ0lH,kBAAmB,EAff,CAiBJC,aAAc,GAjBV,CAkBJC,kBAAmB5lH,IAAAA,EAlBf,CAoBJ6lH,UAAW7lH,IAAAA,EApBP,CAqBJ8lH,aAAc,CAAA,CArBV;AAuBJC,eAAgB,GAvBZ,CAwBJllG,gBAAiB,CAAA,CAxBb,CA2BJxhB,QAASW,IAAAA,EA3BL,CA4BJ9G,QAAS8G,IAAAA,EA5BL,CA6BJgmH,mBAAoBhmH,IAAAA,EA7BhB,CA+BJimH,eAAgBjmH,IAAAA,EA/BZ,CAiCJkmH,eAAgB,EAjCZ,CAkCJC,eAAgB,EAlCZ,CAoCJC,eAAgB,GApCZ,CAqCJC,eAAgB,GArCZ,CAuCJ5/C,YAAa,CAvCT,CAwCJ2zC,YAAa,EAxCT,CAdwB,CAyDhCv2G,MAAO,CAzDyB,CA2DhCuzG,UAAW,EA3DqB,CA4DhCC,UAAW,GA5DqB,CA8DhCE,YAAa,CA9DmB,CA+DhCC,YAAa,EA/DmB,CAiEhC8O,SAAU,CAAA,CAjEsB,CAmEhCvsH,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK24B,MAAL,CAAY,+BAAZ,CAAA,CAA6Ct2B,WAA7C,CAAyD4D,KAAzD,CAA+D,IAA/D,CAAqEuX,SAArE,CAEA,KAAA,CAAKi3D,QAAL,CAAc5yE,GAAA,CAAIc,EAAJ,CAAO,IAAP,CAAa,WAAb,CAAd,CAEA,KAAA,CAAKo+B,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD;AAA0DuX,SAA1D,CAN0B,CAnEE,CA4EhC2xB,cAAeA,QAAQ,EAAG,CACtBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACZ2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADK,CAEZo7B,YAAa,CAAC,CACVC,KAAM,QADI,CAEVhzD,MAAO,SAFG,CAGVizD,gBAAiB,UAHP,CAIVp6B,MAAO,CAAC,IAAA,CAAKlB,QAAL,CAAc,OAAd,CAAD,CAAwB,CAC3B/3B,MAAO,EADoB,CAE3BI,MAAO,QAFoB,CAG3BskC,SAAU,IAAVA,CAAeu4E,SAHY,CAI3Bt4E,SAAU,IAAVA,CAAeu4E,SAJY,CAK3Bt4E,UAAW,EALgB,CAM3BrkC,UAAW,CACP6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACrBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,OAAjB,CAAhB,CADqB,CADlB,CAIP0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CACvC,IAAA,CAAKn7C,WAAL,CAAiB,OAAjB,CAA0BmO,CAAA,CAAOuB,QAAP,EAA1B,CACA,KAAA,CAAKggC,QAAL,EAFuC,CAJpC,CAQPllE,MAAO,IARA,CANgB,CAAxB,CAgBL,IAAA,CAAKy2B,QAAL,CAAc,OAAd,CAhBK,CAgBkB,CACrB/3B,MAAO,EADc,CAErBI,MAAO,QAFc,CAGrBskC,SAAU,CAHW,CAIrBC,SAAU,EAJW;AAKrBC,UAAW,CALU,CAMrBrkC,UAAW,CACP6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACrBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK8mF,eAAL,EAAhB,CAAuC,GAAvC,CADqB,CADlB,CAIPhnF,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CACvC,IAAA,CAAKo6C,eAAL,CAAuC,GAAvC,CAAqBpnF,CAAA,CAAOuB,QAAP,EAArB,CACA,KAAA,CAAK8lF,mBAAL,EAFuC,CAJpC,CAQPhrH,MAAO,IARA,CANU,CAhBlB,CAgCL,IAAA,CAAKy2B,QAAL,CAAc,YAAd,CAhCK,CAgCuB,CAC1B/3B,MAAO,EADmB,CAE1BI,MAAO,QAFmB,CAG1BskC,SAAU,GAHgB,CAI1BC,SAAU,GAJgB,CAK1BC,UAAW,CALe,CAM1BrkC,UAAW,CACP6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACrBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAKinF,iBAAL,EAAhB,CADqB,CADlB,CAIPnnF,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CACvC,IAAA,CAAKu6C,iBAAL,CAAuBvnF,CAAA,CAAOuB,QAAP,EAAvB,CADuC,CAJpC,CAOPllC,MAAO,IAPA,CANe,CAhCvB,CA+CL,IAAA,CAAKy2B,QAAL,CAAc,WAAd,CA/CK,CA+CsB,CACzB/3B,MAAO,EADkB,CAEzBI,MAAO,QAFkB,CAGzBskC,SAAU,CAHe,CAIzBC,SAAU,GAJe;AAKzBC,UAAW,EALc,CAMzBrkC,UAAW,CACP6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACrBA,CAAA,CAAOK,QAAP,CAAyC,GAAzC,CAAgB,IAAA,CAAKmnF,iBAAL,EAAhB,CADqB,CADlB,CAIPrnF,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CACvC,IAAA,CAAKy6C,iBAAL,CAAuBznF,CAAA,CAAOuB,QAAP,EAAvB,CAAyC,GAAzC,CADuC,CAJpC,CAOPllC,MAAO,IAPA,CANc,CA/CtB,CA8DL,IAAA,CAAKy2B,QAAL,CAAc,WAAd,CA9DK,CA8DsB,CACzB/3B,MAAO,EADkB,CAEzBI,MAAO,QAFkB,CAGzBskC,SAAU,CAHe,CAIzBC,SAAU,GAJe,CAKzBC,UAAW,EALc,CAMzBrkC,UAAW,CACP6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACrBA,CAAA,CAAOK,QAAP,CAAyC,GAAzC,CAAgB,IAAA,CAAKqnF,iBAAL,EAAhB,CADqB,CADlB,CAIPvnF,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CACvC,IAAA,CAAK26C,iBAAL,CAAuB3nF,CAAA,CAAOuB,QAAP,EAAvB,CAAyC,GAAzC,CADuC,CAJpC,CAOPllC,MAAO,IAPA,CANc,CA9DtB,CA6EL,IAAA,CAAKy2B,QAAL,CAAc,gBAAd,CA7EK,CA6E2B,CAC9B/3B,MAAO,EADuB,CAE9BI,MAAO,QAFuB,CAG9BskC,SAAU,IAHoB,CAI9BC,SAAU,CAJoB,CAK9BC,UAAW,EALmB;AAM9BrkC,UAAW,CACP6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACrBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAKunF,iBAAL,EAAhB,CADqB,CADlB,CAIPznF,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CACvC,IAAA,CAAK66C,iBAAL,CAAuB7nF,CAAA,CAAOuB,QAAP,EAAvB,CADuC,CAJpC,CAOPllC,MAAO,IAPA,CANmB,CA7E3B,CA4FL,IAAA,CAAKy2B,QAAL,CAAc,gBAAd,CA5FK,CA4F2B,CAC9B/3B,MAAO,EADuB,CAE9BI,MAAO,QAFuB,CAG9BskC,SAAU,CAHoB,CAI9BC,SAAU,GAJoB,CAK9BC,UAAW,EALmB,CAM9BrkC,UAAW,CACP6vD,OAAQA,QAAQ,CAACnrB,CAAD,CAAS,CACrBA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAKynF,iBAAL,EAAhB,CADqB,CADlB,CAIP3nF,eAAgBA,QAAQ,CAACH,CAAD,CAASgtC,CAAT,CAAmB,CACvC,IAAA,CAAK+6C,iBAAL,CAAuB/nF,CAAA,CAAOuB,QAAP,EAAvB,CADuC,CAJpC,CAOPllC,MAAO,IAPA,CANmB,CA5F3B,CA2GL,CACElB,MAAO,QADT,CAEE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,MAAd,CAFR,CAGEW,QAASA,QAAQ,CAAC3vB,CAAD,CAAI,CACbA,CAAA,CAAE4sC,OAAF,EAAJ,GAAoB,IAAA,CAAK5d,QAAL,CAAc,MAAd,CAApB,EACInxB,aAAA,CAAc,IAAA,CAAKqmH,oBAAL,EAAd,CACA;AAAAlkH,CAAA,CAAEqvE,OAAF,CAAU,IAAA,CAAKrgD,QAAL,CAAc,OAAd,CAAV,CAFJ,GAII,IAAA,CAAKu0F,mBAAL,EACA,CAAAvjH,CAAA,CAAEqvE,OAAF,CAAU,IAAA,CAAKrgD,QAAL,CAAc,MAAd,CAAV,CALJ,CADiB,CAHvB,CAYEz2B,MAAO,IAZT,CA3GK,CAwHL,CACEwjC,OAAQ,QADV,CAEE1kC,MAAO,QAFT,CAGE2e,KAAM,EAHR,CAxHK,CAJG,CAAD,CAFD,CAAhB,CAsIA,KAAA,CAAK3J,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CACtC,IAAA,CAAKgT,SAAL,EAAJ,EACI,IAAA,CAAKy+B,QAAL,EAFsC,CAA9C,CAIG,IAJH,CAMA,KAAA,CAAKpxD,EAAL,CAAQ,QAAR,CAAkB,QAAQ,CAACosB,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,CAE7C,GADIoc,CACJ,CADU9c,GAAA,CAAImE,GAAJ,CAAQ,IAAA,CAAKuvE,QAAL,EAAR,CACV,CACQjxE,CAKJ,CALS,IAKT,CALcwI,IAKd,CAJIgvD,CAIJ,CAJex3D,CAAA,CAAG9B,SAAH,EAIf,CAHIu5D,CAGJ,CAHcz3D,CAAA,CAAG5B,QAAH,EAGd,CADAic,CAAA,CAAIra,EAAJ,CAAOC,GAAP,CAAW4mC,YAAX,CAAwB,OAAxB,CAAiC4wB,CAAjC,CACA,CAAAp9C,CAAA,CAAIra,EAAJ,CAAOC,GAAP,CAAW4mC,YAAX,CAAwB,QAAxB,CAAkC2wB,CAAlC,CARyC,CAAjD,CAaG,IAbH,CAeA,KAAA,CAAK/6B,UAAL,CAAgBvjB,SAAhB,CA5JsB,CA5EM,CA2OhCmyG,QAASA,QAAQ,EAAG,CAChB,IAAIrrH,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACTr5D;CAAA,CAAGwb,MAAH,CAAU,EAAV,CACA,KAAIrd,EAAQ6B,CAAA,CAAG5B,QAAH,EAAZ,CACIH,EAAS+B,CAAA,CAAG9B,SAAH,EAGTi8B,EAAAA,CADM5oB,EAAA,CAAG6C,MAAH,CAAUpU,CAAV,CAAaC,GAAb,CAAA,CAAkBiW,MAAlB,CAAyB,KAAzB,CAAA,CAAgCC,IAAhC,CAAqC,IAArC,CAA0C,IAAA,CAAK86D,QAAL,EAA1C,CAAA,CAA2D96D,IAA3D,CAAgE,OAAhE,CAAyE,UAAzE,CAAA,CAAqFA,IAArF,CAA0F,OAA1F,CAAmGhY,CAAnG,CAAA4lC,CAA0G5tB,IAA1G4tB,CAA+G,QAA/GA,CAAyH9lC,CAAzH8lC,CACF,CAAI7tB,MAAJ,CAAW,GAAX,CACR,KAAA,CAAKskD,MAAL,CAAYrgC,CAAZ,CAEA,KAAA,CAAKme,QAAL,CAAcne,CAAA,CAAEjkB,MAAF,CAAS,GAAT,CAAA,CAAcC,IAAd,CAAmB,OAAnB,CAA4B,OAA5B,CAAA,CAAqC9B,SAArC,CAA+C,OAA/C,CAAd,CAEA,KAAA,CAAKi3G,YAAL,CAAkBnxF,CAAA,CAAEjkB,MAAF,CAAS,GAAT,CAAA,CAAcC,IAAd,CAAmB,OAAnB,CAA4B,WAA5B,CAAA,CAAyC9B,SAAzC,CAAmD,MAAnD,CAAlB,CAE4BrQ,KAAAA,EAA5B,GAAI,IAAA,CAAKunH,YAAL,EAAJ,GACI,IAAA,CAAKC,YAAL,CAAkB,IAAIC,MAAJ,CAAW,IAAA,CAAK9pF,UAAL,EAAX,CAA6B,gCAA7B,CAAlB,CACA,CAAA,IAAA,CAAK4pF,YAAL,EAAA,CAAoBG,SAApB,CAAgC,IAAA,CAAKC,sBAAL,CAA4BzsH,IAA5B,CAAiC,IAAjC,CAFpC,CAdgB,CA3OY;AA+PhCylE,SAAUA,QAAQ,EAAG,CACjB,IAAA,CAAK0mD,OAAL,EAEA,KAAA,CAAKxjH,KAAL,CAAa,CAEb,KAAI8mB,EAAS,IAAA,CAAKgG,YAAL,EACbhG,EAAA,CAAOgS,IAAP,CAAc,2BAEdpjC,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQA,CAFK,CAGbwjB,QAASA,QAAQ,CAAC5U,CAAD,CAAW,CACpBjjB,CAAAA,CAAO/c,GAAA,CAAIwvC,MAAJ,CAAWxP,CAAX,CAAoBG,YAApB,CACX,KAAA,CAAKkuF,WAAL,CAAiBtxG,CAAjB,CAAsBuxG,kBAAtB,CAAyC/pB,QAAzC,CAEIlgG,EAAAA,CAAQ0Y,CAAR1Y,CAAaiqH,kBAAbjqH,CAAgCA,KAChC,KAAA,CAAKkqH,uBAAL,EAAJ,GACIlqH,CADJ,CACYA,CAAA,CAAMwP,MAAN,CAAa,QAAQ,CAACpR,CAAD,CAAK8D,CAAL,CAAY,CAAE,MAAiC,EAAjC,EAAO9D,CAAA,CAAG+rH,QAAH,CAAYxnH,OAAZ,CAAoB,CAApB,CAAT,CAAjC,CADZ,CAIA,KAAA,CAAK2mE,QAAL,CAActpE,CAAd,CAEA,KAAA,CAAKoqH,iBAAL,CAAuB,IAAA,CAAKC,WAAL,EAAvB,CAA0C9rH,MAA1C,CACA,KAAA,CAAK+rH,cAAL,EAEA,KAAA,CAAKzB,mBAAL,EAdwB,CAHf,CAmBb7wE,QAASA,QAAQ,CAACrc,CAAD,CAAW,CACpB,IAAJ,CAAS+sF,QAAT;AAAmBx7E,OAAA,CAAQ1rC,GAAR,CAAY,QAAZ,CAAsBm6B,CAAtB,CADK,CAnBf,CAsBb99B,MAAO,IAtBM,CAAjB,CARiB,CA/PW,CAiShCgrH,oBAAqBA,QAAQ,EAAG,CAC5B1lH,aAAA,CAAc,IAAA,CAAKqmH,oBAAL,EAAd,CAEA,KAAA,CAAKe,oBAAL,CAA0BnnH,WAAA,CAAY,QAAQ,EAAG,CAC7C,IAAA,CAAKonH,mBAAL,EAD6C,CAAX,CAEpCltH,IAFoC,CAE/B,IAF+B,CAAZ,CAEZ,IAAA,CAAKqrH,eAAL,EAFY,CAA1B,CAH4B,CAjSA,CAyShC2B,eAAgBA,QAAQ,EAAG,CACvB,IAAIpoH,EAAQ,IAAA,CAAKuoH,iBAAL,EACZvoH,EAAA,EACIA,EAAJ,EAAa,IAAA,CAAKmoH,WAAL,EAAb,CAAgC9rH,MAAhC,GACI2D,CADJ,CACY,CADZ,CAGA,KAAA,CAAKkoH,iBAAL,CAAuBloH,CAAvB,CACI,KAAJ,CAASwmH,QAAT,EAAmBx7E,OAAA,CAAQ1rC,GAAR,CAAY,gBAAZ,CAA8BU,CAA9B,CACnB,KAAA,CAAKwoH,sBAAL,CAA4B,IAAA,CAAKD,iBAAL,EAA5B,CARuB,CAzSK,CAoThCC,uBAAwBA,QAAQ,CAACC,CAAD,CAAe,CAC3C,IAAIp9G,EAAM0uB,MAAN1uB,CAAa2uB,SAAjB;AACIr6B,EAAMo6B,MAANp6B,CAAas6B,SADjB,CAEIyuF,EAAgB,CAAChtG,EAAE,CAAH,CAAKtY,EAAE,CAAP,CAASL,EAAE,CAAX,CAAavE,EAAE,CAAf,CAAiB4K,EAAE,CAAnB,CAAqBgV,EAAE,CAAvB,CAAyBiY,EAAE,CAA3B,CAA6B3O,EAAE,CAA/B,CAAiCtrB,EAAE,CAAnC,CAAqCkQ,EAAE,CAAvC,CAAyCwB,EAAE,CAA3C,CAA6C2X,EAAE,CAA/C,CAAiD0Q,EAAE,CAAnD,CAAqDhpB,EAAE,CAAvD,CAAyDhD,EAAE,CAA3D,CAA6D0S,EAAE,CAA/D,CAAiEgkC,EAAE,CAAnE,CAAqEzqB,EAAE,CAAvE,CAAyEqsE,EAAE,CAA3E,CAA6EjjG,EAAE,CAA/E,CAAiFmpH,EAAE,CAAnF,CAAqFjhF,EAAE,CAAvF,CAAyF/f,EAAE,CAA3F,CAA6FjpB,EAAE,CAA/F,CAAiGkF,EAAE,CAAnG,CAAqGgnG,EAAE,CAAvG,CAEpB,KAAA,CAAKrjC,QAAL,EAAA,CAAgBt1D,OAAhB,CAAwB,QAAQ,CAACzT,CAAD,CAAI,CAChCA,CAAA,CAAEjE,EAAF,CAAO,IAAA,CAAKi6D,KAAL,CAAWh2D,CAAX,CAAanF,IAAb,CAIPmF,EAAA,CAAElF,KAAF,CAAUkF,CAAA,CAAEypH,QAAF,CAAWQ,CAAX,CACV,IAAc,CAAd,CAAIjqH,CAAJ,CAAMlF,KAAN,CAAiB,CACTkF,CAAJ,CAAMlF,KAAN,CAAc+R,CAAd,GACIA,CADJ,CACU7M,CADV,CACYlF,KADZ,CAGIkF,EAAJ,CAAMlF,KAAN,CAAcqG,CAAd,GACIA,CADJ,CACUnB,CADV,CACYlF,KADZ,CAIAkF,EAAA,CAAEgC,KAAF,CAAUhC,CAAV,CAAYnF,IAAZ,CAAiB,IAAjB,CAAsBmF,CAAtB,CAAwBlF,KAAxB,CAA8B,GAE9B,KAAIsvH,EAAc,IAAA,CAAK7+E,gBAAL,CAAsBvrC,CAAA,CAAEnF,IAAF,CAAOihC,MAAP,CAAc,CAAd,CAAtB,CAAA,CAAwCxe,WAAxC,EAClBtd,EAAA,CAAEssE,MAAF,CAAW89C,CACwB1oH,KAAAA,EAAnC,GAAIwoH,CAAA,CAAcE,CAAd,CAAJ,GACIF,CAAA,CAAcE,CAAd,CADJ,CACiC,CADjC,CAGAF,EAAA,CAAcE,CAAd,CAAA,EAfa,CANe,CAApC,CAuBG,IAvBH,CAyBA,KAAA,CAAKC,eAAL,CAAqB,IAAA,CAAKthD,QAAL,EAAA,CAAgBj6D,MAAhB,CAAuB,QAAQ,CAAC9O,CAAD,CAAI,CACpD,MAAiB,EAAjB,CAAOA,CAAP,CAASlF,KAD2C,CAAnC,CAArB,CAIA,KAAA,CAAKwvH,UAAL,CAAgBz9G,CAAhB,CACA;IAAA,CAAKnM,UAAL,CAAgBS,CAAhB,CAEA,KAAIopH,EAAa,EAAjB,CACSj+C,CAAT,KAASA,CAAT,GAAmB49C,EAAnB,CAAkC,CAE9B,IAAIn9B,EADQm9B,CAAA3kH,CAAc+mE,CAAd/mE,CACRwnF,CAAkB,IAAA,CAAKhkB,QAAL,EAAlBgkB,CAAkClvF,MACtC0sH,EAAA,CAAWtqH,IAAX,CAAgB,CAACqsE,OAAQA,CAAT,CAAiBygB,QAASA,CAA1B,CAAhB,CAH8B,CAKlCw9B,CAAA,CAAWxrH,IAAX,CAAgB,QAAQ,CAACme,CAAD,CAAItY,CAAJ,CAAO,CAC3B,MAAIsY,EAAJ,CAAMovD,MAAN,CAAe1nE,CAAf,CAAiB0nE,MAAjB,CAAgC,EAAhC,CACIpvD,CAAJ,CAAMovD,MAAN,CAAe1nE,CAAf,CAAiB0nE,MAAjB,CAAgC,CAAhC,CACO,CAHoB,CAA/B,CAKA,KAAA,CAAKk+C,qBAAL,CAA2BD,CAA3B,CAEA,KAAA,CAAKE,kBAAL,CAAwB,IAAA,CAAKC,eAAL,EAAxB,CACA,KAAA,CAAKC,aAAL,CAAmB,IAAA,CAAKD,eAAL,EAAnB,CAnD2C,CApTf,CA2WhCD,mBAAoBA,QAAQ,CAACnrH,CAAD,CAAQ,CAChC,IAAI0a,EAAQ,IAAA,CAAK4wG,YAAL,EAAA,CAAoB5yG,IAApB,CAAyB1Y,CAAzB,CAAgC,QAAQ,CAACU,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAA5C,CAAZ,CAEI8uH,EAAY,QAAQ,CAAC/vH,CAAD,CAAQ,CAE5B,IAAI2gH,EAAa,CAAbA,CADI56G,IAAAG,CAAK6L,GAAL7L,CAAS,CAATA,CAAY1B,CAAZ0B,CAAkBnD,MAAlBmD,CAA2B,IAA3BA,CAAgC+3G,SAAhC/3G,CACJy6G,CAAe,CACnB3gH,EAAA,CAAQ,IAAA,CAAKgwH,iBAAL,EAAA,CAAyBhwH,CAAzB,CAER,OADUmU,GAAA,CAAGusG,QAAH,EAAA,CAAcC,QAAd,CAAuBA,CAAvB,CAAA,CAAiCroG,MAAjC,CAAwC,CAAC,CAAD;AAAI,CAAJ,CAAxC,CAAA,CAAgDH,KAAhD,CAAsD,CAAC,IAAA,CAAKw5D,cAAL,EAAD,CAAwB,IAAA,CAAKs+C,cAAL,EAAxB,CAAtD,CAAAlhG,CAAsG/uB,CAAtG+uB,CAJkB,CAAhB,CAMdjtB,IANc,CAMT,IANS,CAFhB,CAUIouH,EAAY,CAEhBhxG,EAAA,CAAMW,KAAN,EAAA,CAAc/G,MAAd,CAAqB,MAArB,CAAA,CACKC,IADL,CACU,cADV,CAC0B,CAD1B,CAAA,CAEKA,IAFL,CAEU,aAFV,CAEyB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,OAAT,CAFrC,CAAA,CAGK6T,IAHL,CAGU,WAHV,CAGuB,QAAQ,CAAC7T,CAAD,CAAI,CAC3B,IAAI4qE,EAAWigD,CAAA,CAAU7qH,CAAV,CAAYlF,KAAZ,CAEf,OADAkF,EACA,CADE4qE,QACF,CADaA,CAFc,CAHnC,CAAA,CAQKhwD,IARL,CAQU,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASnF,IAAX,CARtB,CAAA,CASKuG,IATL,CASU,QAAQ,CAACpB,CAAD,CAAI,CACd,IAAI03D,EAAO,IAAA,CAAK17C,OAAL,EACXhc,EAAA,CAAE03D,IAAF,CAAS,EACT13D,EAAA,CAAE03D,IAAF,CAAOx3D,CAAP,CAAWw3D,CAAX,CAAgBx3D,CAChBF,EAAA,CAAE03D,IAAF,CAAOtyD,CAAP,CAAWsyD,CAAX,CAAgBtyD,CAChBpF,EAAA,CAAE03D,IAAF,CAAO77D,KAAP,CAAe67D,CAAf,CAAoB77D,KACpBmE,EAAA,CAAE03D,IAAF,CAAO/7D,MAAP,CAAgB+7D,CAAhB,CAAqB/7D,MAErBqvH,EAAA,EAAatzD,CAAb,CAAkB77D,KAAlB,CAAwB67D,CAAxB,CAA6B/7D,MARf,CATtB,CAAA,CAmBKsY,MAnBL,EAqBA,KAAIvW,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EACLl7D,EAAAA,CAAQ6B,CAAA,CAAG5B,QAAH,EACRH,EAAAA,CAAS+B,CAAA,CAAG9B,SAAH,EAGQC,EAAjBovH,EAAuBtvH,CACvBqvH,EAAJ,CAA+B,EAA/B;AAAgBC,CAAhB,EACI,IAAA,CAAKC,cAAL,CAA0C,EAA1C,CAAoB,IAAA,CAAKH,cAAL,EAApB,CAEA,CADA,IAAA,CAAKj/C,cAAL,CAA0C,EAA1C,CAAoB,IAAA,CAAKW,cAAL,EAApB,CACA,CAAA,IAAA,CAAKg+C,kBAAL,CAAwBnrH,CAAxB,CAHJ,EAIW0rH,CAJX,CAIsC,EAJtC,CAIuBC,CAJvB,GAKI,IAAA,CAAKC,cAAL,CAA0C,GAA1C,CAAoB,IAAA,CAAKH,cAAL,EAApB,CAEA,CADA,IAAA,CAAKj/C,cAAL,CAA0C,GAA1C,CAAoB,IAAA,CAAKW,cAAL,EAApB,CACA,CAAA,IAAA,CAAKg+C,kBAAL,CAAwBnrH,CAAxB,CAPJ,CAxCgC,CA3WJ,CA8ZhCqrH,cAAeA,QAAQ,CAACrrH,CAAD,CAAQ,CAC3B,IAAA,CAAK6rH,eAAL,CAAqB,CAAA,CAArB,CAEA,KAAIztH,EAAK,IAAA,CAAKo5D,SAAL,EAAA,CAAiBC,eAAjB,EAAT,CACIl7D,EAAQ6B,CAAA,CAAG5B,QAAH,EACRH,EAAAA,CAAS+B,CAAA,CAAG9B,SAAH,EAGT,KAAJ,CAASosH,QAAT,EAAmBx7E,OAAA,CAAQxjC,IAAR,CAAa,QAAb,CACnB,KAAA,CAAKigH,YAAL,EAAA,CAAoBmC,WAApB,CAAgC,CAC5B9rH,MAAOA,CADqB,CAE5BzD,MAAOA,CAFqB,CAG5BF,OAAQA,CAHoB,CAI5BoF,QAAS,IAAA,CAAKsqH,UAAL,EAJmB,CAK5BzwH,QAAS,IAAA,CAAK0wH,UAAL,EALmB;AAM5B1D,eAAgB,IAAA,CAAKU,iBAAL,EANY,CAO5BT,eAAgB,IAAA,CAAKW,iBAAL,EAPY,CAQ5BT,eAAgB,IAAA,CAAKa,iBAAL,EARY,CAS5Bd,eAAgB,IAAA,CAAKY,iBAAL,EATY,CAU5BhB,mBAAoB,IAAA,CAAK6D,qBAAL,EAVQ,CAAhC,CAT2B,CA9ZC,CAqbhClC,uBAAwBA,QAAQ,CAACzjH,CAAD,CAAQ,CACpC,OAAQA,CAAR,CAAcoS,IAAd,CAAmB7S,IAAnB,EACI,KAAK,UAAL,CAEQ4nF,CAAAA,CAAU9mE,QAAA,CAAa,GAAb,CADNrgB,CACM,CADAoS,IACA,CADKm/B,QACL,CACd,KAAA,CAAK87B,cAAL,EAAA,CAAsB,CAAtB,CAAA,CAAyBK,YAAzB,CAAsC,QAAtC,CAAA,CAAgDp6D,MAAhD,CAAuD6zE,CAAvD,CAA+D,GAA/D,CACA,MACJ,MAAK,KAAL,CACQ,IAAJ,CAASi7B,QAAT,EAAmBx7E,OAAA,CAAQ1rC,GAAR,CAAY8E,CAAZ,CAAkBoS,IAAlB,CAAuB6hB,GAAvB,CACnB,MACJ,MAAK,KAAL,CACQ,IAIJ,CAJSmuF,QAIT,EAJmBx7E,OAAA,CAAQg/E,OAAR,CAAgB,QAAhB,CAInB,CAFA,IAAA,CAAKv4C,cAAL,EAAA,CAAsB,CAAtB,CAAA,CAAyBK,YAAzB,CAAsC,QAAtC,CAAA,CAAgDp6D,MAAhD,CAAuD,EAAvD,CAEA;AADA,IAAA,CAAKiyG,eAAL,CAAqB,CAAA,CAArB,CACA,CAAA,IAAA,CAAKM,oBAAL,EAAA,CAA4BxrH,IAA5B,CAAiC2F,CAAjC,CAAuCoS,IAAvC,CAA4CgC,KAA5C,CAdR,CADoC,CArbR,CAychC8vG,oBAAqBA,QAAQ,EAAG,CAC5B,GAAI,IAAA,CAAK4B,kBAAL,EAAJ,CACIzwH,GAAA,CAAIqnE,QAAJ,CAAa7oB,KAAb,CAAmB,IAAnB,CAAwBqwE,mBAAxB,CAA6C,GAA7C,CAAkD,IAAlD,CADJ,KAEO,CACH,IAAA,CAAKvkH,KAAL,EACA,KAAIyU,EAAQ,IAAA,CAAKyxG,oBAAL,EAAA,CAA4Bn3G,KAA5B,EACR,KAAJ,CAAS0zG,QAAT,EAAmBx7E,OAAA,CAAQ1rC,GAAR,CAAY,cAAZ,CAA4B,IAAA,CAAK2qH,oBAAL,EAA5B,CAAwD5tH,MAAxD,CACnB,IAAc6D,IAAAA,EAAd,GAAIsY,CAAJ,CACQ,IACJ,CADSguG,QACT,EADmBx7E,OAAA,CAAQ1rC,GAAR,CAAY,UAAZ,CAAwB,IAAxB,CAA6ByE,KAA7B,CACnB,CAA+B,CAAA,CAA/B,GAAI,IAAA,CAAKomH,eAAL,EAAJ,EACI,IAAA,CAAK/B,cAAL,EAHR,KAKO,CACH,IAAA,CAAKgC,kBAAL,CAAwB,CAAA,CAAxB,CAC0C,EAA1C,EAAI,IAAA,CAAKH,oBAAL,EAAJ,CAAgC5tH,MAAhC;AACI,IAAA,CAAK+rH,cAAL,EAGA5uG,EAAAA,CAAa,IAAA,CAAKq7B,QAAL,EAAA,CAAgBr+B,IAAhB,CAAqBgC,CAArB,CAA4B,QAAQ,CAACha,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAAxC,CAEjBif,EAAA,CAAWE,UAAX,EAAA,CAAwBC,QAAxB,CAAiC,IAAA,CAAKitG,iBAAL,EAAjC,CAAA,CAA2Dv0G,IAA3D,CAAgE,WAAhE,CAA6E,QAAQ,CAAC7T,CAAD,CAAI,CAGrF,MAAO,YAAP,CAFQA,CAER,CAFUE,CAEV,CAAsB,GAAtB,CADQF,CACR,CADUoF,CACV,CAA4B,GAHyD,CAAzF,CAMA,KAAIsV,EAAYM,CAAA,CAAWL,KAAX,EAAA,CAAmB/G,MAAnB,CAA0B,GAA1B,CAAA,CACXC,IADW,CACN,OADM,CACG,MADH,CAAA,CAEXA,IAFW,CAEN,IAFM,CAEA,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASjE,EAAX,CAFZ,CAAA,CAGX8X,IAHW,CAGN,WAHM,CAGO,QAAQ,CAAC7T,CAAD,CAAI,CAG3B,MAAO,YAAP,CAFQA,CAER,CAFUE,CAEV,CAAsB,GAAtB,CADQF,CACR,CADUoF,CACV,CAA4B,GAHD,CAHnB,CAAA,CAQXyO,IARW,CAQN,cARM,CAQU,CARV,CAUhB6G,EAAA,CAAU9G,MAAV,CAAiB,OAAjB,CAAA,CAA0BgH,IAA1B,CAA+B,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASgC,KAAX,CAA3C,CAEA0Y,EAAA,CAAU9G,MAAV,CAAiB,MAAjB,CAAA,CACKC,IADL,CACU,aADV,CACyB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,OAAT,CADrC,CAAA,CAEK6T,IAFL,CAEU,WAFV,CAEuB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS4qE,QAAX,CAFnC,CAAA,CAGK/2D,IAHL,CAGU,MAHV;AAGkB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAO,KAAA,CAAKiuB,cAAL,EAAA,CAAsB6zB,oBAAtB,EAAA,CAA6C4oB,iBAA7C,CAA+D,OAA/D,CAAwE1qE,CAAxE,CAA0EnF,IAA1E,CAAT,CAAZ,CAAwG+B,IAAxG,CAA6G,IAA7G,CAHlB,CAAA,CAIKuJ,KAJL,CAIW,QAJX,CAIqB,SAJrB,CAAA,CAKKA,KALL,CAKW,aALX,CAK0B,MAL1B,CAAA,CAMK0N,IANL,CAMU,oBANV,CAMgC,QANhC,CAAA,CAOK+G,IAPL,CAOU,QAAQ,CAAC5a,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASnF,IAAX,CAPtB,CASA6f,EAAA,CAAUQ,UAAV,EAAA,CAAuBC,QAAvB,CAAgC,IAAA,CAAKitG,iBAAL,EAAhC,CAAA,CAA0Dv0G,IAA1D,CAA+D,cAA/D,CAA+E,CAA/E,CAEIg4G,EAAAA,CAAWnxG,CAAA,CAAUO,KAAV,CAAgBD,CAAhB,CAEf6wG,EAAA,CAAS/5G,MAAT,CAAgB,MAAhB,CAAA,CAAwBoJ,UAAxB,EAAA,CAAqCC,QAArC,CAA8C,IAAA,CAAKitG,iBAAL,EAA9C,CAAA,CACKv0G,IADL,CACU,WADV,CACuB,QAAQ,CAAC7T,CAAD,CAAI,CAAE,MAAOA,EAAP,CAAS4qE,QAAX,CADnC,CAGA5vD,EAAA,CAAWK,IAAX,EAAA,CAAkBH,UAAlB,EAAA,CAA+BC,QAA/B,CAAwC,IAAA,CAAKitG,iBAAL,EAAxC,CAAA,CAAkEv0G,IAAlE,CAAuE,cAAvE;AAAuF,CAAvF,CAAA,CAA0FI,MAA1F,EAEArR,WAAA,CAAW,QAAQ,EAAG,CAClB,IAAA,CAAKgpH,kBAAL,CAAwB,CAAA,CAAxB,CADkB,CAAX,CAEThvH,IAFS,CAEJ,IAFI,CAAX,CAEc,IAAA,CAAKwrH,iBAAL,EAFd,CAIA,KAAA,CAAKpyE,QAAL,CAAc61E,CAAd,CAhDG,CATJ,CAHqB,CAzcA,CA0gBhCC,cAAeA,QAAQ,EAAG,CACtB,IAAA,CAAKC,iBAAL,CAAuB98G,EAAA,CAAG+D,QAAH,EAAA,CAAcI,MAAd,CAAqB,CAAC,IAAA,CAAKi4G,UAAL,EAAD,CAAoB,IAAA,CAAKC,UAAL,EAApB,CAArB,CAAA,CAA6Dr4G,KAA7D,CAAmE,CAAC,CAAD,CAAI,CAAJ,CAAnE,CAAvB,CADsB,CA1gBM,CA8gBhC+4G,cAAeA,QAAQ,EAAG,CACtB,IAAA,CAAKD,iBAAL,CAAuB98G,EAAA,CAAG+D,QAAH,EAAA,CAAcI,MAAd,CAAqB,CAAC,IAAA,CAAKi4G,UAAL,EAAD,CAAoB,IAAA,CAAKC,UAAL,EAApB,CAArB,CAAA,CAA6Dr4G,KAA7D,CAAmE,CAAC,CAAD,CAAI,CAAJ,CAAnE,CAAvB,CADsB,CA9gBM,CAkhBhC4kD,UAAWA,QAAQ,CAAC8B,CAAD,CAAiBC,CAAjB,CAAqC,CACvD,IAAIC,EAAS,IAAA,CAAKC,MAAL,EAAA,CAAcjqD,IAAd,EAAA,CAAqBmM,OAArB,EAAb,CACIngB,EAAQg+D,CAARh+D,CAAeA,KADnB,CAEIF,EAASk+D,CAATl+D,CAAgBA,MAFpB,CAGIo+D,EAAOF,CAAPE,CAAc75D,CAAd65D,CAAkBl+D,CAAlBk+D,CAAwB,CAH5B,CAIIC,EAAOH,CAAPG,CAAc50D,CAAd40D,CAAkBr+D,CAAlBq+D,CAAyB,CACzBv4B,EAAAA,CAAM,IAAA,CAAKq4B,MAAL,EAAA,CAAcjqD,IAAd,EAAN4xB,CAA2B1lB,aAC/B;IAAIo+C,EAAY14B,CAAZ04B,CAAgB+1B,WAApB,CACI91B,EAAa34B,CAAb24B,CAAiBy1B,YACjBl/D,EAAAA,EAASgpC,CAAThpC,EAA2B,EAA3BA,EAAkC9vB,IAAA,CAAKM,GAAL,CAAStF,CAAT,CAAes+D,CAAf,CAA0Bx+D,CAA1B,CAAiCy+D,CAAjC,CAClClxD,EAAAA,CAAY,CAACixD,CAAD,CAAW,CAAX,CAAexpC,CAAf,CAAqBopC,CAArB,CAA2BK,CAA3B,CAAsC,CAAtC,CAA0CzpC,CAA1C,CAAgDqpC,CAAhD,CAEhB/qD,GAAA,CAAG6C,MAAH,CAAU2vB,CAAV,CAAA,CACEvmB,UADF,EAAA,CAEEC,QAFF,CAEWy+C,CAFX,EAEiC,GAFjC,CAAA,CAGE5nD,IAHF,CAGO,IAAA,CAAKqoD,OAAL,EAHP,CAGsBrmD,SAHtB,CAGiC/E,EAAA,CAAGqrD,YAAH,CAAgBpxD,SAAhB,CAA0BA,CAAA,CAAU,CAAV,CAA1B,CAAuCA,CAAA,CAAU,CAAV,CAAvC,CAAA,CAAqDynB,KAArD,CAA2DA,CAA3D,CAHjC,CAZuD,CAlhBxB,CAoiBhCqlC,MAAOA,QAAQ,CAACn7D,CAAD,CAAO,CAClB,MAAOA,EAAA,CAAKiE,OAAL,CAAa,KAAb,CAAoB,GAApB,CADW,CApiBU,CAApC,C,CCEA7D,GAAA,CAAIk2B,MAAJ,CAAW,qBAAX,CAAkC,CACjCyI,OAAQ,gBADyB,CAEjC7H,OAAQ,CAAC,oBAAD,CAAsB,8BAAtB,CAFyB,CAGjC4V,MAAO,eAH0B,CAI9BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJisE,UAAW,EAFP,CAGJnlF,MAAO,EAHH,CAIJshE,WAAY,GAJR,CAKJlhC,YAAa,GALT,CAMJ7hD,MAAO3jB,IAAAA,EANH,CAHG,CAWX4yB,MAAO,mBAXI,CAJqB,CAiB9Bl7B,OAAQ,CAIPunE,QAAS,CAAC,CAAC1kE,MAAO,gBAAR,CAAD,CAA2B,CAChCA,MAAO,aADyB,CAEhCse,KAAM,aAF0B,CAGhC0a,WAAY,4BAHoB,CAIhCC,WAAY,OAJoB,CAKhCp6B,MAAO,GALyB,CAMhCylC,SAAU,CANsB,CAOhCs1E,KAAM,GAP0B,CAQhCz5G,UAAW,CACPC,YAAaA,QAAQ,CAAC+0C,CAAD,CAAQ,CAC5B,IAAI7tB,EAAM6tB,CAAA,CAAMzb,EAAN,CAAS,QAAT,CACNpS,EAAJ;AAAWA,CAAX,CAAe8Z,KAAf,GACI+T,CAAA,CAAMjQ,QAAN,CAAelb,QAAA,CAAS1C,CAAA,CAAI8Z,KAAJ,CAAU9X,WAAV,CAAsB,aAAtB,CAAT,CAAf,CACH,CAAA6rB,CAAA,CAAMpQ,aAAN,CAAoBzd,CAAA,CAAI8Z,KAAJ,CAAUzJ,QAAV,CAAmB,aAAnB,CAApB,CAFD,CAF4B,CADtB,CAQViN,OAAQA,QAAQ,CAACuQ,CAAD,CAAQvnB,CAAR,CAAa,CACxBtG,CAAAA,CAAM6tB,CAAA,CAAMzb,EAAN,CAAS,QAAT,CACF,IAAR,CAAI9L,CAAJ,EAAgBtG,CAAhB,EAAuBA,CAAvB,CAA2B8Z,KAA3B,EACC9Z,CAAA,CAAI8Z,KAAJ,CAAUiiC,SAAV,CAAoB,CACnBpjE,KAAMqnB,CAAA,CAAI8Z,KAAJ,CAAUzJ,QAAV,CAAmB,iBAAnB,CADa,CAEnB6rC,OAAQl8C,CAAA,CAAI6c,WAAJ,EAFW,CAGnBslB,MAAO,IAHY,CAInB/E,SAAU,GAJS,CAApB,CAH2B,CARnB,CARqB,CAA3B,CA4BP,CACE1kD,MAAO,aADT,CAEEse,KAAM,YAFR,CAGE0a,WAAY,oBAHd,CAIEC,WAAY,OAJd,CAKEp6B,MAAO,GALT,CAMEylC,SAAU,CANZ,CAOEC,SAAU,GAPZ,CAQEq1E,KAAM,EARR,CASEz5G,UAAW,CACPC,YAAaA,QAAQ,CAAC+0C,CAAD,CAAQ,CAC5B,IAAI7tB,EAAM6tB,CAAA,CAAMzb,EAAN,CAAS,QAAT,CACNpS,EAAJ,EAAWA,CAAX,CAAe8Z,KAAf,GACI+T,CAAA,CAAMjQ,QAAN,CAAelb,QAAA,CAAS1C,CAAA,CAAI8Z,KAAJ,CAAU9X,WAAV,CAAsB,YAAtB,CAAT,CAAf,CACH;AAAA6rB,CAAA,CAAMpQ,aAAN,CAAoBzd,CAAA,CAAI8Z,KAAJ,CAAUzJ,QAAV,CAAmB,YAAnB,CAApB,CAFD,CAF4B,CADtB,CATb,CA5BO,CAJF,CAoDPhD,OAAQlvB,IAAAA,EApDD,CAsDPwqH,uBAAyB,EAtDlB,CAuDPC,mBAAqB,GAvDd,CAwDPC,eAAiB,CAxDV,CAyDNC,iBAAmB,EAzDb,CA0DNC,UAAY,EA1DN,CA2DNC,iBAAmB,EA3Db,CA4DNC,oBAAsB,GA5DhB,CA6DNC,gBAAkB,CA7DZ,CA8DNC,gBAAkB,EA9DZ,CA+DNC,gBAAkB,EA/DZ,CAgENC,eAAiB,EAhEX,CAiENC,aAAer0F,KAAA,CAAM,EAAN,CAjET,CAkEN+5C,UAAW,EAlEL,CAmENp7B,SAAUz1C,IAAAA,EAnEJ,CAoENorH,gBAAiB,CApEX,CAqEN1/B,cAAe,CAAA,CArET,CAjBsB,CA0F9B2/B,MAAOA,QAAQ,CAACxnH,CAAD,CAAQskB,CAAR,CAAa,CAC3BA,CAAA,CAAMA,CAAN,EAAa,CAEb,KADA,IAAImjG,EAAMx0F,KAAA,CAAMjzB,CAAN,CAAV,CACS3H,EAAE,CAAX,CAAcA,CAAd,CAAgB2H,CAAhB,CAAuB3H,CAAA,EAAvB,CAA6BovH,CAAA,CAAIpvH,CAAJ,CAAA,CAAOisB,CACpC,OAAOmjG,EAJoB,CA1FE,CAiG9BvxH,YAAaA,QAAQ,CAACrC,CAAD,CAAU,CAE9B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ;AAEfqpB,OAAQ,CACD93C,KAAM,MADL,CAED+2G,KAAM,OAFL,CAGDx2D,MAAO,SAHN,CAFO,CAOZpwB,MAAO,CACH7B,OAAQ,CAAC,OAAD,CAAU,QAAV,CADL,CAEHzb,KAAM,EAFH,CAPK,CAWf4xC,QAAS,CAAC,CACThvC,KAAM,IAAA,CAAKgZ,QAAL,CAAc,OAAd,CADG,CAETS,QAAS,IAAA,CAAKT,QAAL,CAAc,UAAd,CAFA,CAGT6B,KAAM,CAHG,CAINyQ,UAAW,OAJL,CAKAwmB,SAAU,CAAA,CALV,CAAD,CAMD,CACEzwD,MAAO,cADT,CAEE2e,KAAM,IAAA,CAAKgZ,QAAL,CAAc,QAAd,CAFR,CAGES,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CAHX,CAIE6B,KAAM,CAJR,CAKEyQ,UAAW,QALb,CAME+H,OAAQ,CACJhyC,MAAO,eADH,CAEJqwF,OAAQ,IAAIrxF,GAAJ,CAAQ4gD,SAAR,CAAkB,8CAAlB,CAAkE,CACzE0wC,iBAAkBA,QAAQ,CAACjnF,CAAD,CAAW2nH,CAAX,CAAkB,CAC3C,MAAO,KAAA,CAAK5vF,KAAL,CAAW7X,SAAX,EAAA,CAAuBC,WAAvB,CAAmCngB,CAAnC,CAAA,CAA6CirC,QAA7C,EAAP;AAA+D,gBAA/D,CAAgFt1C,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAA6B,GAA7B,CAAuBkxE,CAAvB,CAAkC,SAAlC,CAAhF,CAA6H,GADlF,CAD6B,CAIzE5vF,MA9BPlV,IA0BgF,CAAlE,CAFJ,CANV,CANC,CAXM,CAiCT6mC,YAAa,CACTC,KAAM,QADG,CAEThzD,MAAO,SAFE,CAGTizD,gBAAiB,UAHR,CAITp6B,MAAM,CACC,oCADD,CACsC,IAAA,CAAKlB,QAAL,CAAc,WAAd,CADtC,CACiE,IADjE,CACsE,IAAA,CAAKA,QAAL,CAAc,QAAd,CADtE,CAC8F,SAD9F,CAED,CACD33B,MAAO,WADN,CAEDse,KAAM,aAFL,CAGD88D,UAAW,CAAA,CAHV,CAIDx7E,MAAO,EAJN,CAKDO,UAAW,CACPykC,OAAQ,CACJvkC,GA/Cd6rB,IA+Cc7rB,CAAOqtD,iBADH,CAEJxsD,MAhDdgrB,IA8CkB,CAGJ+kG,OAAQ,GAHJ,CADD,CALV,CAFC,CAeL,oCAfK,CAegC,IAAA,CAAKt5F,QAAL,CAAc,eAAd,CAfhC,CAe+D,IAf/D,CAeoE,IAAA,CAAKA,QAAL,CAAc,YAAd,CAfpE,CAegG,SAfhG,CAgBL,CACT/3B,MAAO,EADE;AAEGw7E,UAAW,CAAA,CAFd,CAGTp7E,MAAO,QAHE,CAIHwkC,UAAW,CAJR,CAKHF,SAAU,CALP,CAMHC,SAAU,GANP,CAOHpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACgf,MAAOgrB,CAAR,CAAlB,CACA,KAAA,CAAKq7D,SAAL,EAF0C,CAJjC,CAQVhwH,MAAO,IARG,CAPR,CAhBK,CAkCL,oCAlCK,CAkCgC,IAAA,CAAKy2B,QAAL,CAAc,cAAd,CAlChC,CAkC8D,IAlC9D,CAkCmE,IAAA,CAAKA,QAAL,CAAc,WAAd,CAlCnE,CAkC8F,SAlC9F,CAmCL,CACT/3B,MAAO,EADE,CAEGw7E,UAAW,CAAA,CAFd,CAGTp7E,MAAO,QAHE,CAIHwkC,UAAW,CAJR,CAKHF,SAAU,CALP,CAMHC,SAAU,GANP,CAOHpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgBlb,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAAT,CAAhB,CAD6B,CADpB;AAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACmkG,UAAWn6D,CAAZ,CAAlB,CACA,KAAA,CAAKs7D,yBAAL,EAF0C,CAJjC,CAQVjwH,MAAO,IARG,CAPR,CAnCK,CAoDJ,CACJyd,KAAM,CAAA,IAAI3f,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,eAAd,CAAjB,CAAA,EAAiDv0B,KAAjD,CAAuD,CAAC,GAAD,CAAvD,CADF,CAEJshC,OAAQ,YAFJ,CAGbrM,MAAO,mBAHM,CAIJD,QAAS,IAAA,CAAKT,QAAL,CAAc,kBAAd,CAJL,CAKJW,QAAS,IAATA,CAAc84F,aALV,CAMJlwH,MAAO,IANH,CApDI,CA2DP,CACElB,MAAO,QADT,CAEE0kC,OAAQ,MAFV,CA3DO,CA8DJ,CAAC1kC,MAAO,QAAR,CA9DI,CA8De,CAC7BA,MAAO,QADsB,CAE7BC,KAAM,IAAA,CAAK03B,QAAL,CAAc,YAAd,CAFuB,CA9Df,CAJG,CAjCJ,CAAhB,CA0GG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAGH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA;IAAA,CAAK02G,SAAL,EAGA,KAAA,CAAKr8G,EAAL,CAAQ,cAAR,CAAwB,QAAQ,CAACgzB,CAAD,CAAMrT,CAAN,CAAc,CAC7C,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CACA,IAAI,IAAJ,CAASi0B,QAAT,CACC,IAAA,CAAK25C,UAAL,EADD,KAIC,KAAA,CAAKvtF,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAG,CACjC,IAAA,CAAKutF,UAAL,EADiC,CAAlC,CAEG,IAFH,CAN4C,CAA9C,CAaA,KAAA,CAAKvtF,EAAL,CAAQ,OAAR,CAAiB,QAAQ,CAACgzB,CAAD,CAAM5e,CAAN,CAAa,CACrC,IAAA,CAAKsN,WAAL,CAAiB,OAAjB,CAA0BtN,CAA1B,CACA,KAAA,CAAKo5E,mBAAL,EAFqC,CAAtC,CAjI8B,CAjGD,CAyO9B8uB,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKnrF,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,kBAAd,CAAV,CACA34B,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,0BADC,CAEV2hB,SAAU,IAAA,CAAKz6B,WAAL,CAAiB,UAAjB,CAFA,CAGVqL,OAAQ,IAAA,CAAKpL,SAAL,EAAA,CAAmB,IAAA,CAAKA,SAAL,EAAA,CAAiBuQ,YAAjB,EAAnB;AAAqDr0B,IAAAA,EAHnD,CAFK,CAObmuC,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAChC,IAAA,CAAK1xB,MAAL,EAEA,KAAIogG,EAAY,EADLrxH,IAAAye,CAAIxe,IAAJwe,CAASkH,IAATlH,CAAc+wB,MAAd/wB,CAAqBuhB,CAArBvhB,CAA8B0hB,YAA9B1hB,CAEX,CAAK2jC,QAAL,CAAcA,QAAd,CAAuB5pC,OAAvB,CAA+B,QAAQ,CAAClJ,CAAD,CAAO,CAC7C+hH,CAAA,CAAU/hH,CAAV,CAAA,CAAgB,CAD6B,CAA9C,CAGA,KAAA,CAAKijH,YAAL,CAAkBlB,CAAlB,CACA,KAAA,CAAKmB,aAAL,EARgC,CAPpB,CAiBbtwH,MAAO,IAjBM,CAAjB,CAFyB,CAzOI,CAgQ9BswH,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKrrF,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,kBAAd,CAAV,CACA,KAAIhD,EAAS,IAAA,CAAKpL,SAAL,EACToL,EAAJ,EACI31B,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAK,IAAA,CAAK6H,cAAL,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,uBADC,CAEVzN,OAAQA,CAAA,CAAOmF,YAAP,EAFE,CAGV2b,aAAc,MAHJ,CAIVvK,SAAU,sBAJA,CAKVL,MAAO,CALG,CAMV6K,SAAU,CAAA,CANA,CAOVu1B,YAAyC,CAA5B,EAAAt2C,CAAA,CAAOC,iBAAP,EAAA;AAAgCnvB,IAAAA,EAAhC,CAA4CukB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,aAAjB,CAAT,CAP/C,CAFK,CAWbsqB,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAChC,IAAA,CAAK1xB,MAAL,EACA,KAAA,CAAKkW,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,kBAAd,CAAV,CACIovE,EAAAA,CAAQ/nE,CAAA,CAASG,YAAT,CAAsBoV,IAAtB,EAAA,CAA6BnxB,KAA7B,CAAmC,cAAnC,CACZ,IAAkB,CAAlB,EAAI2jF,CAAJ,CAAUnlG,MAAV,CAEC,IADIqhC,CACA,CADQ8jE,CAAA,CAAM,CAAN,CAAA,CAAS3jF,KAAT,CAAe,IAAf,CACR,CAAa,CAAb,CAAA6f,CAAA,CAAMrhC,MAAV,CAAoB,CAChB,IAAIW,EAAMoyB,CAAA,CAAOnL,WAAP,CAAmByZ,CAAA,CAAM,CAAN,CAAnB,CACNwuF,EAAAA,CAAWxuF,CAAA,CAAM,CAAN,CAAA,CAAS7f,KAAT,CAAe,GAAf,CACXsuG,EAAAA,CAAanvH,CAAA,CAAI8wC,qBAAJ,EAEhB7vC,EAAA,CADc,EAAf,CAAIkuH,CAAJ,CACQA,CADR,CAEsB,GAAf,CAAIA,CAAJ,CACC,EADD,CAGC,GAEJluH,EAAAA,CAAO,EAEX,KADA,IAAImuH,EAAc/sH,IAAA,CAAKupB,KAAL,CAAWsjG,CAAX,CAAoB7vH,MAApB,CAA2B4B,CAA3B,CAAlB,CACS7B,EAAE,CAAX,CAAcA,CAAd,CAAgB6B,CAAhB,CAAsB7B,CAAA,EAAtB,CAA2B,CAC1B,IAAIgd,EAAO8yG,CAAA,CAASltH,KAAT,CAAe5C,CAAf,CAAiBgwH,CAAjB,CAA8BhwH,CAA9B,CAAgCgwH,CAAhC,CAA6CA,CAA7C,CAAA,CAA0DnpH,IAA1D,CAA+D,GAA/D,CACR,KAAA,CAAKopH,SAAL,CAAe3uF,CAAA,CAAM,CAAN,CAAf,CAAwB,GAAxB,CAA4BthC,CAA5B,CAA8B,IAA9B,CAAmCshC,CAAA,CAAM,CAAN,CAAnC,CAA4C,GAA5C,CAAgDthC,CAAhD,CAAkD,IAAlD,CAAuDgd,CAAvD,CAFuB,CAbX,CAApB,CAFD,IAqBIooF,EAAA,CAAMvvF,OAAN,CAAc,QAAQ,CAAC4b,CAAD,CAAO,CACxB6P,CAAAA,CAAQ7P,CAAA,CAAKhQ,KAAL,CAAW,IAAX,CACZ;GAAiB,CAAjB,CAAI6f,CAAJ,CAAUrhC,MAAV,CAAoB,CAChB,IAAIW,EAAMoyB,CAAA,CAAOnL,WAAP,CAAmByZ,CAAA,CAAM,CAAN,CAAnB,CACV,KAAA,CAAK2uF,SAAL,CAAe3uF,CAAA,CAAM,CAAN,CAAf,CAAwB,IAAxB,CAA6B1gC,CAAA,CAAIsyC,YAAJ,EAA7B,CAAgD,IAAhD,CAAqD5R,CAAA,CAAM,CAAN,CAArD,CAFgB,CAFQ,CAA7B,CAMG,IANH,CAQJ,KAAA,CAAKhT,MAAL,EACA,KAAA,CAAKmhG,aAAL,EAlCgC,CAXpB,CA+CblwH,MAAO,IA/CM,CAAjB,CAJqB,CAhQI,CAwT9BmwH,UAAWA,QAAQ,EAAG,CACrB,IAAIrB,EAAYhmG,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAAT,CAClB,KAAA,CAAKuoG,mBAAL,CAAyB,EAAzB,CACD,KAAA,CAAKC,sBAAL,CAA4B,IAAA,CAAKC,mBAAL,EAA5B,CAAuD/B,CAAvD,CACA,KAAA,CAAKgC,kBAAL,CAAwB,CAAxB,CACA,KAAA,CAAKC,kBAAL,CAAwB,EAAxB,CACA,KAAA,CAAKC,kBAAL,CAAwB,EAAxB,CACA,KAAA,CAAKC,iBAAL,CAAuB,IAAA,CAAKrB,KAAL,CAAWd,CAAX,CAAvB,CACA,KAAA,CAAKoC,eAAL,CAAqB,IAAA,CAAKtB,KAAL,CAAWd,CAAX,CAArB,CACA,KAAA,CAAKqC,YAAL,CAAkB,EAAlB,CACA,KAAA,CAAKC,kBAAL,CAAwB,CAAxB,CAVwB,CAxTQ;AAqU9BnB,0BAA2BA,QAAQ,EAAG,CAGrC,IAAIp1G,EAAO,IAAA,CAAK8hC,YAAL,EAAA,CAAoB5qC,GAApB,CAAwB,QAAQ,CAAC1Q,CAAD,CAAM,CAAC,MAAOA,EAAP,CAAWzC,EAAX,CAAc,IAAd,CAAmByC,CAAnB,CAAuB2mC,IAAvB,CAA4B,IAA5B,CAAiC3mC,CAAjC,CAAqCgwH,YAAtC,CAAtC,CAEX,KAAA,CAAKlB,SAAL,EAEAt1G,EAAA,CAAKvE,OAAL,CAAa,QAAQ,CAACjV,CAAD,CAAM,CAC1B,IAAA,CAAKqvH,SAAL,CAAervH,CAAf,CAD0B,CAA3B,CAEG,IAFH,CAIA,KAAA,CAAK6uH,aAAL,EAXqC,CArUR,CAmV9BA,cAAeA,QAAQ,EAAG,CACzB,IAAIoB,EAAS,IAAA,CAAKC,kBAAL,EAAb,CACItmB,EAAaniF,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,YAAjB,CAAT,CACjBkpG,EAAA,EAAQxoG,QAAA,CAASmiF,CAAT,CACR,KAAA,CAAKmmB,kBAAL,CAAwB,IAAA,CAAKI,kBAAL,EAAxB,CAAkDvmB,CAAlD,CACA,KAAA,CAAK6lB,kBAAL,CAAwBQ,CAAxB,CACK,KAAA,CAAK9jE,WAAL,EAAL,GACKxT,CAWJ,CAXel8C,GAAA,CAAI6/B,UAAJ,CAAere,IAAf,CAAoB,CAClCza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,mBAAd,CAD2B,CAElC0G,QAAS,CAAA,IAAIr/B,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,wBAAd,CAAjB,CAAA,EAA0Dv0B,KAA1D,CAAgE,CAACovH,CAAD,CAAhE,CAFyB;AAGlCt3E,SAAU,CAAA,CAHwB,CAIlCy3E,aAAc,EAJoB,CAKlCpzG,OAAQizG,CAL0B,CAMlCI,qBAAsBA,QAAQ,CAAChlG,CAAD,CAAM,CAChC,IAAA,CAAKilG,cAAL,EAAqB,IAArB,CAA0B11H,MAA1B,CAAiCoiB,MAAjC,CAAwCqO,CAAxC,EAA6C,IAA7C,CAAkDzwB,MAAlD,CAAyDoiB,MAAzD,CAAiE,aAAjE,CADgC,CANF,CAApB,CAWf,CADA,IAAA,CAAK2vC,WAAL,CAAiBhU,CAAjB,CACA,CAAA,IAAA,CAAK23E,cAAL,CAAoBL,CAApB,CAZD,CAcA,KAAA,CAAKM,KAAL,EApByB,CAnVI,CA0W9BD,eAAgBA,QAAQ,CAACL,CAAD,CAAS,CAAA,IAC5Bt3E,EAAW,IAAA,CAAKwT,WAAL,EAAoB8jE,EAAnC,CAA4C,IAAA,CAAKC,kBAAL,EAC5C,IAAIv3E,CAAJ,CAAc,CACb,IAAI37B,EAAS27B,CAAT37B,CAAkBktC,GAAlBltC,CAAsBA,MACnBqO,EAAAA,EAAOrO,CAAPqO,CAAc4kG,CAAd5kG,EAAsBrO,CAC1B27B,EAAA,CAAS23E,cAAT,CAAwBjlG,CAAxB,CAA4C,GAA5C,CAA8B5D,QAAA,CAAS4D,CAAT,CAA9B,CAAkD,QAAlD,CAHU,CAFkB,CA1WH,CAmX9BklG,MAAOA,QAAQ,EAAG,CAED5mH,IAAA,CAAKg0C,GAAL,EAQhB,KAViB,IAEW8vE,EAAYhmG,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAAT,CAFvB,CAGhB6mG,EAAiB,IAAA,CAAK4C,iBAAL,EAHD,CAG2B7C,EAAqB,IAAA,CAAK8C,qBAAL,EAHhD;AAIhBrC,EAAiB,IAAA,CAAKsC,iBAAL,EAJD,CAI2B38C,EAAY,IAAA,CAAKz4B,YAAL,EAJvC,CAKhB4yE,EAAkB,IAAA,CAAKyC,kBAAL,EALF,CAK6BtC,EAAe,IAAA,CAAKuC,eAAL,EAL5C,CAMhBlD,EAAyB,IAAA,CAAKmD,yBAAL,EANT,CASbC,EAAmB,IAAA,CAAKvC,KAAL,CAAWd,CAAX,CATN,CAURsD,EAAQ,CAAjB,CAAoBA,CAApB,CAA4BtD,CAA5B,CAAuCsD,CAAA,EAAvC,CACCD,CAAA,CAAiBC,CAAjB,CAAA,CAA0B,CAA1B,EAAiCnD,CAAjC,CAAkDD,CAAlD,CAAuES,CAAA,CAAe2C,CAAf,CAAvE,CAGD,KAAK,IAAI/wH,EAAM,CAAf,CAAkBA,CAAlB,CAAwB+zE,CAAxB,CAAkC10E,MAAlC,CAA0CW,CAAA,EAA1C,CAIC,IAHA,IAAI+J,EAAagqE,CAAA,CAAU/zE,CAAV,CAAjB,CACIgxH,EAAiBjnH,CAAjBinH,CAA4BC,WADhC,CAGS1nG,EAAW,CAApB,CAAuBA,CAAvB,CAAkCxf,CAAlC,CAA6CwnC,MAA7C,CAAoDlyC,MAApD,CAA4DkqB,CAAA,EAA5D,CAAwE,CACvE,IAAItJ,EAAQlW,CAAA,CAAWwnC,MAAX,CAAkBhoB,CAAlB,CACZ,IAAIkrB,CAAAx0B,CAAAw0B,CAAMA,UAAV,CAAA,CAEA25E,CAAA,CAAgBnuG,CAAhB,CAAsB8wG,KAAtB,CAAA,EACA,KAAIG,EAAyBhD,CAAA,CAAiBjuG,CAAjB,CAAuBuO,IAAvB,CAC7B0iG,EAAA,CAAwBjxG,CAAxB,CAA8B8wG,KAA9B,CAAA,EAIAC,EAAA,CAAgB/wG,CAAhB,CAAsB8wG,KAAtB,CAAA,EACAD,EAAA,CAAkB7wG,CAAlB,CAAwB8wG,KAAxB,CAAA,CAAkC,CAAlC,EAAyCnD,CAAzC,CAA0DD,CAA1D,CAA+ES,CAAA,CAAgBnuG,CAAhB,CAAsB8wG,KAAtB,CAA/E,CAEA,KAAIj3D,EAAM,CACV,KAASi3D,CAAT,CAAiB,CAAjB,CAAoBA,CAApB,CAA4BtD,CAA5B,CAAuCsD,CAAA,EAAvC,CAEG1C,CAAA,CAAa0C,CAAb,CAWF,CAZIG,CAAA,CAAwBH,CAAxB,CAAJ,EAEKrD,CAFL,CAE8BsD,CAAA,CAAeD,CAAf,CAF9B,GAGKpD,CAHL,CAG0BuD,CAAA,CAAwBH,CAAxB,CAH1B,EAICD,CAAA,CAAiBC,CAAjB,CAJD,EAQKrD,CARL,CAQ8BsD,CAAA,CAAeD,CAAf,CAR9B,EASCpD,CATD,CAUCmD,CAAA,CAAiBC,CAAjB,CAED,CAAAj3D,CAAA,EAAOu0D,CAAA,CAAa0C,CAAb,CAIJI,EAAAA,CAASr3D,CAATq3D,CAAe9uH,IAAA,CAAKqK,MAAL,EACZtN,EAAAA,CAAI,CAER,KADA+xH,CACA,EADU9C,CAAA,CAAajvH,CAAb,CACV,CAAgB,CAAhB;AAAO+xH,CAAP,CAAA,CACE/xH,CAAA,EACA,CAAA+xH,CAAA,EAAU9C,CAAA,CAAajvH,CAAb,CAEf6gB,EAAA,CAAM8wG,KAAN,CAAc3xH,CAEdgvH,EAAA,CAAgBnuG,CAAhB,CAAsB8wG,KAAtB,CAAA,EAKCG,EAAA,CAAwBjxG,CAAxB,CAA8B8wG,KAA9B,CAAA,CAJKG,CAAA,CAAwBjxG,CAAxB,CAA8B8wG,KAA9B,CAAN,CAICG,CAAA,CAAwBjxG,CAAxB,CAA8B8wG,KAA9B,CAJD,CAI0C,CAJ1C,CACyC,CAKzCC,EAAA,CAAgB/wG,CAAhB,CAAsB8wG,KAAtB,CAAA,EAEAD,EAAA,CAAkB7wG,CAAlB,CAAwB8wG,KAAxB,CAAA,CAAkC,CAAlC,EAAyCnD,CAAzC,CAA0DD,CAA1D,CAA+ES,CAAA,CAAgBnuG,CAAhB,CAAsB8wG,KAAtB,CAA/E,CA/CA,CAFuE,CAqDrEd,CAAAA,CAAS,IAAA,CAAKC,kBAAL,EAATD,CAAmC,CACvC,KAAA,CAAKR,kBAAL,CAAwBQ,CAAxB,CACIt3E,EAAAA,CAAW,IAAA,CAAKwT,WAAL,EACJ,EAAX,CAAI8jE,CAAJ,EACC,IAAA,CAAKK,cAAL,CAAoBL,CAApB,CACA,CAAAxzH,GAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAes1E,KAAf,CAAsB,CAAtB,CAAyB,IAAzB,CAFD,GAIC53E,CAAA,CAASvhB,KAAT,EAEA,CADA,IAAA,CAAKu1B,WAAL,CAAiBzpD,IAAAA,EAAjB,CACA,CAAA,IAAA,CAAKyrH,SAAL,EAND,CA1EiB,CAnXY,CAwc9BA,UAAWA,QAAQ,EAAE,CACpB,IAAA,CAAKyC,cAAL,EACA,KAAIt6F,EAAQ,IAAA,CAAKlH,QAAL,EAAZ,CACItlB,EAAO,CAAA,IAAI7N,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,WAAd,CAAjB,CAAA,EAA6Cv0B,KAA7C,CAAmD,CAACpE,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuB91B,QAAA,CAAS,IAAA,CAAK0oG,kBAAL,EAAT,CAAvB,CAA4D,OAA5D,CAAD,CAAnD,CACX;IAAA,CAAKrlG,IAAL,CAAU,OAAV,CAAA,CAAmB84B,OAAnB,CAA2Bt5C,CAA3B,CAECmjH,EAAAA,CAAYhmG,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAAT,CAOhB,KAbuB,IAOtBonG,EAAkB,IAAA,CAAKkD,kBAAL,EAPI,CAQtB73G,EAAO,EARe,CAQXu6D,EAAY,IAAA,CAAKz4B,YAAL,EARD,CAStByyE,EAAmB,IAAA,CAAKyB,mBAAL,EATG,CAUtBxB,EAAsB,IAAA,CAAKsD,sBAAL,EAVA,CAYnBhpF,EAAQ7gB,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,OAAjB,CAAT,CAZW,CAadgqG,EAAQ,CAAjB,CAAoBA,CAApB,CAA4BtD,CAA5B,CAAuCsD,CAAA,EAAvC,CAAgD,CAC/C,IAAIQ,EAASx9C,CAAA,CAAUrjE,GAAV,CAAc,QAAS,CAAC1Q,CAAD,CAAMZ,CAAN,CAAS,CAE1C,OAAQY,CAAA,CAAIixH,WAAJ,CAAgBF,CAAhB,CAAR,CAAiChD,CAAjC,GAAsD/tH,CAAtD,CAA0DuxC,MAA1D,CAAiElyC,MAAjE,CAA0E2uH,CAA1E,CAF0C,CAAhC,CAKbx0G,EAAA,CAAK/X,IAAL,CAAU,CACTsvH,MAAO,IAAA,CAAKS,SAAL,CAAerD,CAAA,CAAgB4C,CAAhB,CAAf,CAAuCzoF,CAAvC,CADE,CAETipF,OAAQA,CAFC,CAAV,CAN+C,CAW7Cz6F,CAAA,CAAMiyB,QAAN,CAAevvC,CAAf,CAxBoB,CAxcS,CAme9Bg4G,UAAWA,QAAQ,CAACC,CAAD,CAAathH,CAAb,CAAgB,CAAE,MAAOshH,EAAA,CAAWzvH,KAAX,CAAiB,CAAjB,CAAmBmO,CAAnB,CAAA,CAAsBO,GAAtB,CAA2B,QAAQ,CAAClP,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASgtB,IAAX,CAAvC,CAAA,CAA2DvoB,IAA3D,CAAgE,GAAhE,CAAT,CAneL,CAqe9BmrH,eAAgBA,QAAQ,EAAG,CACJ,IAAA,CAAKC,kBAAL,EADI;IACuB5D,EAAYhmG,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAAT,CADnC,CAEzBmnG,EAAkB,IAAA,CAAKyC,kBAAL,EAEjB,KAAAxC,EAAkB,EAClB,KAAK,IAAI4C,EAAQ,CAAjB,CAAoBA,CAApB,CAA4BtD,CAA5B,CAAuCsD,CAAA,EAAvC,CACE5C,CAAA,CAAgB4C,CAAhB,CAAA,CAAyB,EAG3B,KAAKviG,IAAIA,CAAT,GAAiB0/F,EAAjB,CACE,IAAS6C,CAAT,GAAkB7C,EAAA,CAAgB1/F,CAAhB,CAAlB,CACE2/F,CAAA,CAAgB4C,CAAhB,CAAA,CAAuBtvH,IAAvB,CAA4B,CAAC,KAAO+sB,CAAR,CAAc,MAAQ0/F,CAAA,CAAgB1/F,CAAhB,CAAA,CAAsBuiG,CAAtB,CAAtB,CAA5B,CAIJ,KAASA,CAAT,CAAiB,CAAjB,CAAoBA,CAApB,CAA4BtD,CAA5B,CAAuCsD,CAAA,EAAvC,CACE5C,CAAA,CAAgB4C,CAAhB,CAAA,CAAuBxwH,IAAvB,CAA4B,IAA5B,CAAiCmxH,iBAAjC,CAGF,KAAA,CAAK/B,kBAAL,CAAwBxB,CAAxB,CAnBwB,CAreG,CA2f9BuD,kBAAmBA,QAAQ,CAAChzG,CAAD,CAAGtY,CAAH,CAAM,CAAC,MAAOA,EAAP,CAASW,KAAT,CAAiB2X,CAAjB,CAAmB3X,KAApB,CA3fH,CA6f9Bi5F,WAAYA,QAAQ,EAAG,CAEtB,IAAI30E,EAAM,CAAA,IAAI5uB,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAc,eAAd,CAAjB,CAAA,EAAiDv0B,KAAjD,CAAuD,CAACpE,GAAA,CAAIC,IAAJ,CAAS4gD,MAAT,CAAgBC,MAAhB,CAAuB91B,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,YAAjB,CAAT,CAAvB,CAAiE,OAAjE,CAAD,CAAvD,CACO,KAAA,CAAK+D,IAAL,CAAU,aAAV,CAAA,CAAyB2qD,OAAzB,CAAiCpqD,CAAjC,CACjB;IAAA,CAAK0jG,aAAL,EAJsB,CA7fO,CAogB9BM,UAAWA,QAAS,CAAEx+F,CAAF,CAAS,CAAA,IAGxBi9F,EAAY,IAAA,CAAK6D,YAAL,EAHY,CAGS9D,EAAmB,IAAA,CAAK+D,mBAAL,EAH5B,CAI3BxD,EAAiB,IAAA,CAAKsC,iBAAL,EAJU,CAIgB9C,EAAe,IAAA,CAAK4C,iBAAL,EAC1D3C,EAL2B,CAKR,IAAA,CAAK+D,mBAAL,EALQ,KAKoB79C,EAAY,IAAA,CAAKz4B,YAAL,EALhC,CAM3BmyE,EAAYhmG,QAAA,CAAS,IAAA,CAAKV,WAAL,CAAiB,WAAjB,CAAT,CANe,CAO3BmnG,EAAkB,IAAA,CAAKyC,kBAAL,EAEjB,IAAY,EAAZ,EAAI9/F,CAAJ,CAAA,CACA,IAAIghG,EAAQ99C,CAAR89C,CAAkBxyH,MAAtB,CACIyyH,EAAU,EADd,CAEI78F,EAASpE,CAAA,CAAKhQ,KAAL,CAAW,IAAX,CACTzE,EAAAA,CAAO6Y,CAAA,CAAO,CAAP,CACU,EAArB,EAAIA,CAAJ,CAAW51B,MAAX,GACEwyH,CAEA,CAFQ58F,CAAA,CAAO,CAAP,CAER,CADA68F,CACA,CADU78F,CAAA,CAAO,CAAP,CACV,CAAA7Y,CAAA,CAAO6Y,CAAA,CAAO,CAAP,CAHT,CAMA,KAAIsc,EAAS,EACTwgF,EAAAA,CAAY31G,CAAA,CAAK0C,WAAL,EAAA,CAAmB+B,KAAnB,CAAyB,GAAzB,CAChB,IAAiB,IAAjB,EAAIkxG,CAAJ,CAAA,CACA,IAAId,EAAc,IAAA,CAAK1C,KAAL,CAAWd,CAAX,CAElBsE,EAAA,CAAU98G,OAAV,CAAkB,QAAS,CAACuZ,CAAD,CAAO,CAChC,GAAa,EAAb,GAAIA,CAAJ,CAAiB,CACf,IAAIuiG,EAAQ1uH,IAAA,CAAKupB,KAAL,CAAWvpB,IAAA,CAAKqK,MAAL,EAAX;AAA2B+gH,CAA3B,CAEI,EAAnB,EAAIj/F,CAAJ,CAASnvB,MAAT,GAAwByuH,CAAA,CAAUt/F,CAAV,CAAxB,CAA0C,CAA1C,CAEA,KAAIimB,EAAaq5E,CAAA,CAAUt/F,CAAV,CACbimB,EAAJ,CAMEo5E,CAAA,CAAiBr/F,CAAjB,CANF,CAEOq/F,CAAA,CAAiBr/F,CAAjB,CAAN,CAICq/F,CAAA,CAAiBr/F,CAAjB,CAJD,CAI2B,CAJ3B,CAC0B,CAH3B,EAUI4/F,CAAA,CAAe2C,CAAf,CAAA,EAWA,CAVM7C,CAAA,CAAgB1/F,CAAhB,CAUN,GATE0/F,CAAA,CAAgB1/F,CAAhB,CAEA,CAFwB,EAExB,CADAo/F,CAAA,EACA,CAAAC,CAAA,CAAiBr/F,CAAjB,CAAA,CAAyB,CAO3B,EALM0/F,CAAA,CAAgB1/F,CAAhB,CAAA,CAAsBuiG,CAAtB,CAKN,GAJE7C,CAAA,CAAgB1/F,CAAhB,CAAA,CAAsBuiG,CAAtB,CAIF,CAJiC,CAIjC,EAFA7C,CAAA,CAAgB1/F,CAAhB,CAAA,CAAsBuiG,CAAtB,CAEA,EAFgC,CAEhC,CADAlD,CAAA,CAAiBr/F,CAAjB,CACA,EAD0B,CAC1B,CAAAyiG,CAAA,CAAYF,CAAZ,CAAA,EAAsB,CArB1B,CAuBGx/E,EAAA,CAAO9vC,IAAP,CAAY,CAAC,KAAO+sB,CAAR,CAAc,MAAQuiG,CAAtB,CAA6B,WAAat8E,CAA1C,CAAZ,CA7Be,CADe,CAAlC,CAiCA,KAAA,CAAKu9E,iBAAL,CAAuBpE,CAAvB,CAEA75C,EAAA,CAAUtyE,IAAV,CAAe,CAAE,cAAkBsyE,CAAlB,CAA4B10E,MAA9B,CAAsC,GAAOwyH,CAA7C,CAAoD,KAASC,CAA7D,CAAsE,aAAiB11G,CAAvF,CAA6F,OAAWm1B,CAAxG,CAAgH,YAAgB0/E,CAAhI,CAAf,CAtCA,CAbA,CAT0B,CApgBC,CAAlC,C,CCAAx0H,GAAA,CAAIk2B,MAAJ,CAAW,kBAAX,CAA+B,CAC9ByI,OAAQ,iBADsB,CAE9B7H,OAAQ,CAAC,oBAAD,CAFsB,CAG9B4V,MAAO,YAHuB,CAI3BxU,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ8tB,SAAU,MADN,CAEJlZ,MAAO,GAFH,CAGJxhC,SAAU5D,IAAAA,EAHN,CAHG,CAQX4yB,MAAO,mBARI,CAJkB,CAe3Bl7B,OAAQ,CACPkzC,KAAM5qC,IAAAA,EADC,CAEPi/D,QAAS,CACR,CAAC1kE,MAAO,gBAAR,CADQ,CAER,CACCA,MAAO,YADR,CAECse,KAAM,WAFP,CAFQ,CAML,CAACte,MAAO,kBAAR,CANK,CAFF,CAfmB,CA2B3BghD,OAAQ,KA3BmB,CA6B3BxhD,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAF6B,CA7BH,CAkC3B2xB,cAAeA,QAAS,CAACnvC,CAAD,CAAS,CAChC6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2C,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADQ;AAEfo7B,YAAa,CAAC,CACJC,KAAM,QADF,CAEJhzD,MAAO,SAFH,CAGJizD,gBAAiB,UAHb,CAIJp6B,MAAO,CAAC,CACb74B,MAAO,wBADM,CAEbknD,aAAc,CAAA,CAFD,CAAD,CAGX,CACDluB,WAAY,IAAA,CAAKrB,QAAL,CAAc,SAAd,CADX,CAEDuB,WAAY,EAFX,CAGDt5B,MAAO,GAHN,CAIDI,MAAO,QAJN,CAKEwkC,UAAW,EALb,CAMEF,SAAU,EANZ,CAOEC,SAAU,GAPZ,CAQEpkC,UAAW,CACVC,YAAaA,QAAQ,CAACykC,CAAD,CAAS,CAC7BA,CAAA,CAAOK,QAAP,CAAgB,IAAA,CAAK5b,WAAL,CAAiB,OAAjB,CAAhB,CAD6B,CADpB,CAIV0b,eAAgBA,QAAQ,CAACH,CAAD,CAASgxB,CAAT,CAAmB,CAC1C,IAAA,CAAKhqC,YAAL,CAAkB,CAACgf,MAAOgrB,CAAR,CAAlB,CACA,KAAA,CAAKkX,cAAL,CAAoB,IAAA,CAAKxjD,SAAL,EAApB,CAF0C,CAJjC,CAQVroB,MAAO,IARG,CARb,CAHW,CAJH,CAAD,CAFE,CAAhB,CA+BA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CAhCgC,CAlCN,CAuE3Bxa,UAAW,CACVioE,OAAQA,QAAQ,CAAChnC,CAAD,CAAQxhC,CAAR,CAAeF,CAAf,CAAuB,EAD7B,CAOVujE,aAAcA,QAAQ,CAACj7B,CAAD;AAAMrT,CAAN,CAAc,CAC/B6D,CAAAA,CAAQ7D,CAAA,CAAOxxB,GAAP,CAAW,eAAX,CACFnE,IAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAeqzB,CAAf,CAAsB,QAAQ,CAACC,CAAD,CAAO,CAC9C,GAAU,IAAV,EAAIA,CAAJ,CAEC,MADA,KAAA,CAAK/C,SAAL,CAAe,IAAA,CAAKiC,QAAL,CAAc,aAAd,CAAf,CACO,CAAA,CAAA,CAHsC,CAArC,CAKP,IALO,CAMsB,IAAhC,CAAIhD,CAAA,CAAOiqB,kBAAP,EAAJ,EAA0C,CAAC,IAAA,CAAKt1B,WAAL,CAAiB,UAAjB,CAA3C,EACC,IAAA,CAAKoN,WAAL,CAAiB,UAAjB,CAA6B,CAA7B,CAED,KAAA,CAAKq2C,cAAL,CAAoBp4C,CAApB,CAXmC,CAP1B,CAqBVq4C,eAAgBA,QAAQ,CAAChlC,CAAD,CAAMrT,CAAN,CAAc,CACrC,IAAA,CAAK+B,WAAL,CAAiB,UAAjB,CAA6B,EAA7B,CACA,KAAA,CAAKq2C,cAAL,CAAoBp4C,CAApB,CAFqC,CArB5B,CA0BVs4C,iBAAkBA,QAAQ,CAACjlC,CAAD,CAAMznC,CAAN,CAAgB,CACzC,IAAA,CAAKm2B,WAAL,CAAiB,UAAjB,CAA6Bn2B,CAAA,CAAS2zC,QAAT,EAA7B,CACA,KAAA,CAAK64B,cAAL,CAAoB,IAAA,CAAKxjD,SAAL,EAApB,CAFyC,CA1BhC,CAvEgB,CAyG3BwjD,eAAgBA,QAAQ,CAACp4C,CAAD,CAAS,CAChC,IAAIzI,EAAK,IACT,KAAA,CAAKia,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,SAAd,CAAV,CACA;IAAIvH,EAAS,IAAA,CAAKgG,YAAL,EACLzB,EAAA,CAAOyqB,gBAAP,CAAwBhvB,CAAxB,CAAA,CAAgCiF,IAAhC,CAAqC,QAAQ,CAACm/F,CAAD,CAAe,CACnEtoG,CAAA,CAAG+D,MAAH,EACI4pB,EAAAA,CAAQ26E,CAAA,CAAavhH,GAAb,CAAiB,QAAQ,CAACgQ,CAAD,CAAO,CAAC,MAAO,CAACnF,OAAQmF,CAAA,CAAKizB,SAAL,EAAT,CAA2B32B,OAAQ0D,CAAA,CAAKkzB,SAAL,EAAnC,CAAR,CAAhC,CACZ,KAAIupB,EAAQxzC,CAAA,CAAGmB,IAAH,CAAQ,oBAAR,CACRqyC,EAAJ,CACCA,CAAA,CAAM5G,QAAN,CAAe,CAACjf,MAAOA,CAAR,CAAf,CADD,EAGC6lB,CAQG,CARK1gE,GAAA,CAAIu4B,MAAJ,CAAW,kCAAX,CAA+C,CACnDsiB,MAAOA,CAD4C,CAEnD15C,UAAW,CACVs0H,YAAaA,QAAQ,CAACzsF,CAAD,CAAMp0B,CAAN,CAAY,CAChCsY,CAAA,CAAG8V,aAAH,CAAiB,cAAjB,CAAiC9V,CAAjC,CAAqC,CAACtY,CAAD,CAAMhV,IAAN,CAArC,CADgC,CADvB,CAFwC,CAA/C,CAQL,CAAAstB,CAAA,CAAGnsB,GAAH,CAAO2/D,CAAP,CAXJ,CAJmE,CAA5D,CAiBL,QAAQ,CAAC1gC,CAAD,CAAW,CACrB9S,CAAA,CAAG+D,MAAH,EACI+O,EAAJ,CAAa01F,QAAb,CACCxoG,CAAA,CAAGwJ,SAAH,CAAaxJ,CAAA,CAAGyL,QAAH,CAAY,UAAZ,CAAb,CADD,CAGIzL,CAAA,CAAGwJ,SAAH,CAAasJ,CAAb,CALiB,CAjBd,CAJwB,CAzGN,CAA/B,C,CCFAhgC,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC/CyI,OAAQ,mBADuC,CAE/C7H,OAAQ,CAAC,0BAAD,CAFuC,CAG/C4V,MAAO,2BAHwC,CAI/CxU,QAAS,CACRG,KAAM,EADE,CAJsC,CAQ/C73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfg1B,QAAS,IAAA,CAAKT,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CARiB,CAc/C0d,MAAO,mBAdwC,CAe/CyK,UAAW,MAfoC,CAgB/C3iC,UAAW,CACVoY,MAAOA,QAAQ,CAACkhB,CAAD,CAAM9qB,CAAN,CAAS,CACjB,IAAA,CAAKimD,gBAAL,CAAsB,UAAtB,CAAA,CAAkCjzB,SAAlC,CAA4C,oBAA5C,CAAkE,IAAA,CAAKizB,gBAAL,CAAsB,uBAAtB,CAAlE,CAAkHjmD,CAAlH,CADiB,CADd,CAhBoC,CAAhD,C,CCAA3P,GAAA,CAAIk2B,MAAJ,CAAW,oCAAX,CAAiD,CAChDyI,OAAQ,mBADwC,CAEhD7H,OAAQ,CAAC,0BAAD,CAFwC,CAGhD4V,MAAO,4BAHyC,CAIhDxU,QAAS,CACRG,KAAM,EADE,CAJuC,CAQhD73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf69D,QAAS,IAAA,CAAKtpC,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CARkB,CAchD0d,MAAO,mBAdyC,CAehDl4B,UAAW,CACVoY,MAAOA,QAAQ,EAAG,CACX,IAAA,CAAKq8C,gBAAL,CAAsB,UAAtB,CAAA,CAAkCjzB,SAAlC,CAA4C,qBAA5C,CAAmE,IAAA,CAAKizB,gBAAL,CAAsB,uBAAtB,CAAnE,CADW,CADR,CAfqC,CAAjD,C,CCAA51D,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDyI,OAAQ,mBAD0C,CAElD7H,OAAQ,CAAC,0BAAD,CAF0C,CAGlD4V,MAAO,8BAH2C,CAIlDxU,QAAS,CACRG,KAAM,CACLmvB,IAAK,QADA,CAELmuE,YAAa,QAFR,CAGLC,WAAY,gCAHP,CAILC,eAAgB,+BAJX,CAKLC,YAAa,QALR,CADE,CAQRC,UAAWtvH,IAAAA,EARH,CASRuvH,gBAAiBA,QAAQ,CAACC,CAAD,CAAW,CACZxvH,IAAAA,EAAvB,GAAI,IAAJ,CAASsvH,SAAT,GACC,IADD,CACMA,SADN,CACkB/1H,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAChDxxB,MAAOkvH,CAAA,CAASt9F,QAAT,CAAkB,aAAlB,CADyC,CAEhDo6B,YAAa,MAFmC,CAGhDn5B,MAAO,CAAA,CAHyC,CAIhDuB,YAAa,CAJmC;AAKhD6mB,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CALwC,CAShDd,SAAU,CACT3oD,MAAO,QADE,CATsC,CAYhD64B,MAAO,CAAC,CACP6L,OAAQ,MADD,CAEP/lB,KAAMs2G,CAAA,CAASt9F,QAAT,CAAkB,YAAlB,CAFC,CAGPU,MAAO,mBAHA,CAAD,CAIL,CACDqM,OAAQ,UADP,CAEDglB,OAAQ,SAFP,CAGDmT,eAAgB,CAAA,CAHf,CAIDl+C,KAAMs2G,CAAA,CAASt9F,QAAT,CAAkB,gBAAlB,CAJL,CAKDU,MAAO,mBALN,CAMDC,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CANtB,CAJK,CAZyC,CA0BhDL,QAAS,CAAC,CACT3a,KAAMs2G,CAAA,CAASt9F,QAAT,CAAkB,aAAlB,CADG,CAETU,MAAO,mBAFE,CAGTC,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CAHd,CAAD,CA1BuC,CAAhC,CADlB,CAqCA,KAAIu7F,EAAUD,CAAA,CAASv7F,EAAT,CAAY,2BAAZ,CAAd,CACIkW,EAAUslF,CAAA,CAAQC,UAAR,EADd,CAEIC,EAA2C,QAA7B,GAAAH,CAAA,CAASI,aAAT,EAAA;AAAwCzlF,CAAxC,CAAgD0lF,MAAhD,CAAyD1lF,CAAzD,CAAiEpG,KAFnF,CAGIoyC,EAAWs5C,CAAA,CAAQK,SAAR,EAAX35C,CAA+B,GAA/BA,CAAmCq5C,CAAA,CAASO,gBAAT,CAA0B5lF,CAA1B,CAAkCS,IAAlC,CACnColF,EAAAA,CAAa,CAACvsH,KAAsC,YAAvC,CAEjB,IAAI,CACH,IAAAwsH,EAAO,IAAIC,IAAJ,CAAS,CAACP,CAAD,CAAT,CAAwBx5C,CAAxB,CAAkC65C,CAAlC,CADJ,CAEF,MAAO9mH,CAAP,CAAU,CACX+mH,CAAA,CAAO,IAAIE,IAAJ,CAAS,CAACR,CAAD,CAAT,CAAwBK,CAAxB,CADI,CAIZ,IAAA,CAAKV,SAAL,CAAe1nG,IAAf,CAAoB,OAApB,CAAA,CAA6BwoG,UAA7B,CAAwC,QAAQ,CAACp8F,CAAD,CAAM,CACrD,IAAIq8F,EAAWtnH,MAAA,CAAOunH,IAAP,EACfD,EAAA,CAASv1H,QAAT,CAAkBy1H,KAAlB,CAAwBZ,CAAxB,CACAU,EAAA,CAASv1H,QAAT,CAAkBo5B,KAAlB,EACAm8F,EAAA,CAAS1nE,KAAT,EACA30B,EAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EALqD,CAAtD,CAQA,KAAA,CAAKo7F,SAAL,CAAehf,WAAf,CAA2B,MAA3B,CAAmC,QAAQ,EAAG,CAC7C,IAAI5yE,EAAM8yF,GAAA,CAAIC,eAAJ,CAAoBR,CAApB,CACV,KAAA,CAAKX,SAAL,CAAe1nG,IAAf,CAAoB,WAApB,CAAA,CAAiCoV,KAAjC,EAAA,CAAyCnQ,GAAzC,CAA6C,CAC5C6jG,SAAUv6C,CADkC,CAE5CsoC,KAAM/gF,CAFsC,CAA7C,CAF6C,CAA9C,CAMG,IANH,CAMS,CAAEliC,OAAQ,CAAA,CAAV,CANT,CAQA,OAAO,KAAP,CAAY8zH,SAlEuB,CAT5B,CAJyC,CAkFlDv1H,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B6B,GAAA,CAAIoE,KAAJ,CAAUjG,CAAV;AAAkB,CACjBi7B,QAAS,IAAA,CAAKT,QAAL,CAAc,KAAd,CADQ,CAAlB,CAGA,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJ6B,CAlFoB,CAwFlDxd,OAAQ,CACPi5H,WAAY,OADL,CAxF0C,CA2FlD/9F,MAAO,mBA3F2C,CA4FlDl4B,UAAW,CACVoY,MAAOA,QAAQ,CAACu4B,CAAD,CAAM,CACpBxb,MAAA,CAAOwa,QAAP,CAAgB+a,MAAhB,CAAuBrD,MAAvB,CAA8B6uE,MAA9B,CAAqCrB,eAArC,CAAqDlkF,CAArD,CAAA,CAA0DtwB,IAA1D,EADoB,CADX,CA5FuC,CAiGlDg1G,iBAAkBA,QAAQ,CAACnlF,CAAD,CAAO,CAChC,MACU,MADV,GACCA,CADD,EAEW,YAFX,GAEEA,CAFF,EAEoD,QAFpD,GAE2B,IAAA,CAAKglF,aAAL,EAF3B,CAIQ,KAJR,CAMQhlF,CAPwB,CAjGiB,CAAnD,C,CCAArxC,GAAA,CAAIk2B,MAAJ,CAAW,uCAAX,CAAoD,CACnDyI,OAAQ,sBAD2C,CAEnD7H,OAAQ,CAAC,0BAAD,CAF2C,CAGnD4V,MAAO,+BAH4C,CAInDxU,QAAS,CACRG,KAAM,EADE,CAJ0C,CAQnDl6B,OAAQ,CACPu4G,MAAO,CADA,CAEPp3F,KAAM7Y,IAAAA,EAFC,CAR2C,CAYnD4/C,IAAK,wBAZ8C,CAanD7lD,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf69D,QAAS,IAAA,CAAKtpC,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CAbqB,CAmBnD27G,SAAUA,QAAQ,CAAC9xH,CAAD,CAAM,CACvB,IAAA,CAAK05B,UAAL,CAAgBvjB,SAAhB,CACA,KAAA,CAAK47G,UAAL,EAFuB,CAnB2B,CAuBnDA,WAAYA,QAAQ,EAAG,CACtB,IAAI/xH,EAAM,IAAA,CAAKgyH,QAAL,EAANhyH,CAAsB,CAA1B,CAEI8Z,EAAO,IAAA,CAAK4kB,OAAL,EACX,KAAA,CAAKijB,OAAL,CAAa,WAAb,CAAyB7nC,CAAzB,CAA8B,WAA9B,CAA0CA,CAA1C;AAA+C,IAA/C,CAAoD9Z,CAApD,CAAwD,MAAxD,CAJsB,CAvB4B,CAApD,C,CCAAxF,GAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,mBAD4C,CAEpD7H,OAAQ,CAAC,0BAAD,CAF4C,CAGpD4V,MAAO,gCAH6C,CAIpDxU,QAAS,CACRG,KAAM,EADE,CAJ2C,CAQpD73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfg1B,QAAS,IAAA,CAAKT,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CARsB,CAcpD0d,MAAO,mBAd6C,CAepDyK,UAAW,MAfyC,CAgBpD3iC,UAAW,CACVoY,MAAOA,QAAQ,EAAG,CACX,IAAA,CAAKq8C,gBAAL,CAAsB,UAAtB,CAAA,CAAkCjzB,SAAlC,CAA4C,yBAA5C,CAAuE,IAAA,CAAKizB,gBAAL,CAAsB,uBAAtB,CAAvE,CADW,CADR,CAhByC,CAArD,C,CCAA51D,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDyI,OAAQ,mBAD0C,CAElD7H,OAAQ,CAAC,0BAAD,CAF0C,CAGlD4V,MAAO,8BAH2C,CAIlDxU,QAAS,CACRG,KAAM,EADE,CAJyC,CAQlD73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfg1B,QAAS,IAAA,CAAKT,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CARoB,CAclD0d,MAAO,mBAd2C,CAelDyK,UAAW,MAfuC,CAgBlD3iC,UAAW,CACVoY,MAAOA,QAAQ,EAAG,CACX,IAAA,CAAKq8C,gBAAL,CAAsB,UAAtB,CAAA,CAAkCjzB,SAAlC,CAA4C,uBAA5C,CAAqE,IAAA,CAAKizB,gBAAL,CAAsB,uBAAtB,CAArE,CADW,CADR,CAhBuC,CAAnD,C,CCAA51D,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDyI,OAAQ,mBAD0C,CAElD7H,OAAQ,CAAC,0BAAD,CAF0C,CAGlD4V,MAAO,8BAH2C,CAIlDxU,QAAS,CACRG,KAAM,EADE,CAJyC,CAQlD73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfg1B,QAAS,IAAA,CAAKT,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CARoB,CAclD0d,MAAO,mBAd2C,CAelDyK,UAAW,MAfuC,CAgBlD3iC,UAAW,CACVoY,MAAOA,QAAQ,EAAG,CACjBvZ,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZ8Y,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiB+nB,QADL,CAEZziB,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqB63F,QAFT,CAGZ74F,IAAK,IAAA,CAAKjG,QAAL,CAAc,eAAd,CAHO,CAIZ5xB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,oBAAd,CAJK,CAKZt3B,GAAIA,QAAQ,CAAC27E,CAAD,CAAW,CACR,IAAd;AAAIA,CAAJ,EACO,IAAA,CAAKpnB,gBAAL,CAAsB,UAAtB,CAAA,CAAkCjzB,SAAlC,CAA4C,uBAA5C,CAAqE,IAAA,CAAKizB,gBAAL,CAAsB,uBAAtB,CAArE,CAFe,CALX,CAUZ1zD,MAAO,IAVK,CAAb,CADiB,CADR,CAhBuC,CAAnD,C,CCAAlC,GAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,mBAD4C,CAEpD7H,OAAQ,CAAC,0BAAD,CAF4C,CAGpD4V,MAAO,gCAH6C,CAIpDxU,QAAS,CACRG,KAAM,EADE,CAJ2C,CAQpD73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfg1B,QAAS,IAAA,CAAKT,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CARsB,CAcpD0d,MAAO,mBAd6C,CAepDyK,UAAW,MAfyC,CAgBpD3iC,UAAW,CACVoY,MAAOA,QAAQ,CAACkhB,CAAD,CAAM9qB,CAAN,CAAS,CACjB,IAAA,CAAKimD,gBAAL,CAAsB,UAAtB,CAAA,CAAkCjzB,SAAlC,CAA4C,yBAA5C,CAAuE,IAAA,CAAKizB,gBAAL,CAAsB,uBAAtB,CAAvE,CAAuHjmD,CAAvH,CADiB,CADd,CAhByC,CAArD,C,CCAA3P,GAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,mBAD4C,CAEpD7H,OAAQ,CAAC,0BAAD,CAF4C,CAGpDsK,SAAU,CAAC,sCAAD,CAAyC,wCAAzC,CAAmF,sCAAnF,CAH0C,CAIpDsL,MAAO,gCAJ6C,CAKpDxU,QAAS,CACRG,KAAM,EADE,CAL2C,CASpD73B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC1B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfg1B,QAAS,IAAA,CAAKT,QAAL,CAAc,KAAd,CADM,CAAhB,CAGG,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CATsB,CAepD0d,MAAO,mBAf6C,CAgBpDwI,KAAM,CACL,CACO7gC,MAAO,uBADd,CADK,CAGG,CACDA,MAAO,yBADN,CAHH,CAKG,CACDA,MAAO,uBADN,CALH,CAhB8C,CAArD,C,CCAAhB,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC/CyI,OAAQ,mBADuC,CAE/C7H,OAAQ,CAAC,0BAAD,CAFuC,CAG/C4V,MAAO,2BAHwC,CAI/CxU,QAAS,CACRG,KAAM,EADE,CAJsC,CAQ/CgB,MAAO,mBARwC,CAS/C74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACnBA,EAAA,CAAOi7B,OAAP,CAAiB,IAAA,CAAKT,QAAL,CAAc,KAAd,CACjB,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAH6B,CATiB,CAAhD,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDyI,OAAQ,mBAD0C,CAElD7H,OAAQ,CAAC,0BAAD,CAF0C,CAGlD4V,MAAO,8BAH2C,CAIlDxU,QAAS,CACRG,KAAM,EADE,CAJyC,CAQlDgB,MAAO,mBAR2C,CASlD74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACnBA,EAAA,CAAOi7B,OAAP,CAAiB,IAAA,CAAKT,QAAL,CAAc,KAAd,CACjB,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAH6B,CAToB,CAAnD,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,wCAAX,CAAqD,CACpDyI,OAAQ,mBAD4C,CAEpD7H,OAAQ,CAAC,0BAAD,CAF4C,CAGpD4V,MAAO,gCAH6C,CAIpDxU,QAAS,CACRG,KAAM,EADE,CAJ2C,CAQpDgB,MAAO,mBAR6C,CASpD74B,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EACnBA,EAAA,CAAOi7B,OAAP,CAAiB,IAAA,CAAKT,QAAL,CAAc,KAAd,CACjB,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAH6B,CATsB,CAArD,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDyI,OAAQ,iBAD0C,CAElD7H,OAAQ,CAAC,0BAAD,CAF0C,CAGlDsK,SAAU,CAAC,wCAAD,CAA0C,mCAA1C,CAHwC,CAIlDsL,MAAO,8BAJ2C,CAKlD2Z,IAAK,yBAL6C,CAMlDloD,OAAQ,CACPu5H,OAAQjxH,IAAAA,EADD,CAEPmqC,QAAS,EAFF,CAGP+mF,UAAW,CAAA,CAHJ,CAN0C,CAWlDz2H,OAAQ,CAAA,CAX0C,CAYlD2/E,WAAY,CAAA,CAZsC,CAalDvzC,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKsqF,SAAL,CAAe,IAAf,CAAoBz5H,MAApB,CAA2Bu5H,MAA3B,CACA,KAAA,CAAK1hH,EAAL,CAAQ,aAAR,CAAuB,QAAQ,EAAE,CAChC,IAAA,CAAKgiE,cAAL,EAAA,CAAsBx/D,OAAtB,CAA8B,QAAQ,CAACq/G,CAAD,CAAK,CAC1CA,CAAA,CAAG1yF,WAAH,EAAA,CAAiB2yF,iBAAjB,CAAmC93H,GAAnC,CAAuC0C,GAAvC,CAA2Cq1H,OAA3C,CAAmDC,UAAnD,CAD0C,CAA3C,CAGA;IAAA,CAAKC,aAAL,CAAmB,CAAA,CAAnB,CACA,KAAA,CAAKhtH,IAAL,CAAU+K,EAAV,CAAa,OAAb,CAAsB,QAAQ,EAAG,CAChC,IAAA,CAAKoyD,SAAL,CAAe,+BAAf,CACA,KAAA,CAAK6vD,aAAL,CAAmB,CAAA,CAAnB,CAFgC,CAAjC,CAGG,IAHH,CAIA,KAAA,CAAKC,GAAL,CAAS,IAAA,CAAKz0F,KAAL,EAAT,CAAuB,WAAvB,CAAoC,QAAQ,EAAG,CAC9C,IAAA,CAAKw0F,aAAL,CAAmB,CAAA,CAAnB,CAD8C,CAA/C,CAEG,IAFH,CAGA,KAAA,CAAKC,GAAL,CAAS,IAAA,CAAKz0F,KAAL,EAAT,CAAuB,UAAvB,CAAmC,QAAQ,EAAG,CAC7C,IAAA,CAAKw0F,aAAL,CAAmB,CAAA,CAAnB,CAD6C,CAA9C,CAEG,IAFH,CAZgC,CAAjC,CAeG,IAfH,CAgBA,KAAA,CAAK/4F,UAAL,CAAgBvjB,SAAhB,CAlByB,CAbwB,CAiClDs8G,cAAeA,QAAQ,CAAC5mF,CAAD,CAAO,CAC7B,IAAA,CAAK2mC,cAAL,EAAA,CAAsBx/D,OAAtB,CAA8B,QAAQ,CAACq/G,CAAD,CAAK,CAC7B,OAAb,EAAIA,CAAJ,CAAO7jE,IAAP,CACC6jE,CAAA,CAAGh+F,KAAH,CAAS1zB,IAAT,CAAc,QAAQ,CAAC8d,CAAD,CAAO,CACe,CAA3C,EAAIA,CAAA,CAAK6lC,MAAL,CAAY,wBAAZ,CAAJ,EACC7lC,CAAA,CAAKkhB,WAAL,EAAA,CAAmBgzF,aAAnB,CAAiC9mF,CAAjC,CAF2B,CAA7B,CADD,CAOCwmF,CAAA,CAAG1yF,WAAH,EAAA,CAAiBgzF,aAAjB,CAA+B9mF,CAA/B,CARyC,CAA3C;AAUG,IAVH,CAWK,KAAA,CAAK+mF,YAAL,EAAL,GACK/mF,CAAJ,CACC,IAAA,CAAKpmC,IAAL,CAAUo9D,MAAV,CAAiB,+BAAjB,CADD,CAGC,IAAA,CAAKp9D,IAAL,CAAUm9D,SAAV,CAAoB,+BAApB,CAJF,CAZ6B,CAjCoB,CAAnD,C,CCAApoE,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC/CyI,OAAQ,eADuC,CAE/C+N,MAAO,2BAFwC,CAG/C5V,OAAQ,CAAC,0BAAD,CAA4B,4BAA5B,CAHuC,CAI/Ckb,WAAY,CAAC,mCAAD,CAJmC,CAK/CqU,IAAK,sBAL0C,CAM/CloD,OAAQ,CACPk6H,MAAO,kBADA,CAEPhnF,KAAM,qBAFC,CAGPT,QAAS,EAHF,CAIPqX,KAAMxhD,IAAAA,EAJC,CAKP6xH,mBAAoB,CAAA,CALb,CAMPzsE,OAAQplD,IAAAA,EAND,CAOP8xH,cAAe9xH,IAAAA,EAPR,CAQPshG,MAAO,CARA,CANuC,CAgB/C7vE,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ2Z,QAASnqC,IAAAA,EADL,CAHG,CAhBsC,CAuB/CjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CAD6B,CAvBiB,CA0B/Cxa,UAAW,CACVssE,SAAUA,QAAQ,EAAG,CACpB,IAAIvgD;AAAK,IAAT,CACI2+B,EAASq7C,GAAA,CAAIC,IAAJ,CAASnnG,GAAA,CAAIonG,MAAJ,CAAW,IAAA,CAAK3jE,KAAL,EAAX,CAAT,CAEbooB,EAAA,CAAO47C,eAAP,CAAyB3iB,QACzBj5B,EAAA,CAAOy7C,UAAP,EAAA,CAAoBkxB,YAApB,CAAiC,CAAA,CAAjC,CACA3sE,EAAA,CAAO4sE,QAAP,CAAgB,IAAA,CAAKC,QAAL,EAAhB,CACA7sE,EAAA,CAAOy7C,UAAP,EAAA,CAAoBh5B,OAApB,CAA4B,IAAA,CAAKF,OAAL,EAA5B,CACAviB,EAAA,CAAO67C,UAAP,CAAkB,CACjBixB,SAAU,CADO,CAEjBC,SAAU9zC,QAFO,CAGjB6iB,yBAA0B,CAAA,CAHT,CAIjBkxB,cAAe,CAAA,CAJE,CAAlB,CAMAhtE,EAAA,CAAOitE,sBAAP,CAA8B,CAAA,CAA9B,CACAjtE,EAAA,CAAOktE,sBAAP,CAA8B,CAAA,CAA9B,CACAltE,EAAA,CAAOmC,QAAP,CAAgBu5C,kBAAhB,CAAmC,CAAA,CAAnC,CAGA17C,EAAA,CAAO3lB,QAAP,CAAgB,IAAA,CAAKiwF,UAAL,EAAA,CAAoB,IAAA,CAAKA,UAAL,EAApB,CAAwC,EAAxD,CACAtqE,EAAA,CAAOmtE,cAAP,EAEGntE,EAAA,CAAO71C,EAAP,CAAU,OAAV,CAAmB,QAAQ,EAAG,CAChCrO,UAAA,CAAW,QAAQ,EAAG,CACrBulB,CAAA,CAAGkmE,SAAH,EAAA,CAAe2lC,sBAAf,CAAsC,CAAA,CAAtC,CADqB,CAAtB;AAEG,GAFH,CADgC,CAA9B,CAIG,IAJH,CAKAltE,EAAA,CAAO71C,EAAP,CAAU,QAAV,CAAoB,QAAQ,CAACijH,CAAD,CAAKptE,CAAL,CAAa,CACvCk8C,CAAAA,CAAQl8C,CAAA,CAAOy7C,UAAP,EAAA,CAAoB4xB,eAApB,EACRnxB,EAAJ,EAAW76E,CAAA,CAAGisG,QAAH,EAAX,GACCjsG,CAAA,CAAGwN,EAAH,CAAM,2BAAN,CAAA,CAAmCiuF,OAAnC,CAA2C,CAACjoH,OAAQqnG,CAARrnG,CAAcmrD,CAAdnrD,CAAqBstD,QAArBttD,CAA8B04H,UAA9B14H,CAAyCmrD,CAAA,CAAOmC,QAAP,CAAgBqrE,SAAhB,CAA0Bx4H,QAA1B,EAA1C,CAA3C,CACA,CAAAqsB,CAAA,CAAGo5C,QAAH,CAAYyhC,CAAZ,CAFD,CAIA,IAAgC,CAAhC,EAAI76E,CAAA,CAAGosG,qBAAH,EAAJ,CAGC,IAFApsG,CAAA,CAAGqsG,qBAAH,CAAyB,CAAA,CAAzB,CACIrD,CAAAA,CAAAA,CAAUhpG,CAAA,CAAGwN,EAAH,CAAM,2BAAN,CACd,CACCw7F,CAAA,CAAQsD,QAAR,CAAiB,CAAA,CAAjB,CAEA,EADI1oF,CACJ,CADeolF,CAAA,CAAQx7F,EAAR,CAAW,UAAX,CACf,GAAeoW,CAAA,CAAS2oF,WAAT,CAAqB,CAAA,CAArB,CAHhB,CAHD,IASMvsG,EAAA,CAAGwsG,gBAAH,EAAL,EACCxsG,CAAA,CAAGysG,gBAAH,CAAoBhyH,UAAA,CAAW,QAAQ,EAAG,CACzCulB,CAAA,CAAGqsG,qBAAH,CAAyB,CAAA,CAAzB,CADyC,CAAtB,CAEjB,GAFiB,CAApB,CAhByC,CAAzC,CAqBG,IArBH,CAsBA1tE,EAAA,CAAO71C,EAAP,CAAU,MAAV,CAAkB,QAAQ,EAAG,CAC5BkX,CAAA,CAAGkmE,SAAH,EAAA,CAAe2lC,sBAAf,CAAsC,CAAA,CAAtC,CAD4B,CAA7B,CAGHltE;CAAA,CAAO+tE,QAAP,CAAgBC,UAAhB,CAA2B,CAC1Bv6G,KAAM,KADoB,CAEvBw6G,QAAS,CAACxxG,IAAK,aAAN,CAAqByxG,IAAK,aAA1B,CAFc,CAGvBj9F,KAAMA,QAAQ,CAAC+uB,CAAD,CAAS,CAEtB,CADIqqE,CACJ,CADchpG,CAAA,CAAGwN,EAAH,CAAM,2BAAN,CACd,GACCw7F,CAAA,CAAQ9iB,GAAR,EAHqB,CAHA,CAA3B,CAUAvnD,EAAA,CAAO+tE,QAAP,CAAgBC,UAAhB,CAA2B,CAC1Bv6G,KAAM,UADoB,CAEvBw6G,QAAS,CAACxxG,IAAK,qBAAN,CAA6ByxG,IAAK,qBAAlC,CAFc,CAGvBj9F,KAAMA,QAAQ,CAAC+uB,CAAD,CAAS,CAClBqqE,CAAAA,CAAUhpG,CAAA,CAAGwN,EAAH,CAAM,2BAAN,CACCw7F,EAAAplF,CAAQpW,EAARoW,CAAW,UAAXA,CACf,CAASkpF,QAAT,CAAkB9D,CAAlB,CAHsB,CAHA,CAA3B,CASA,KAAA,CAAK7uB,SAAL,CAAex7C,CAAf,CAEAq7C,IAAA,CAAI/oG,MAAJ,CAAW87H,UAAX,CAAsB,cAAtB,CAAsC,QAAS,CAACC,CAAD,CAAS,CACvDhtG,CAAA,CAAGkmE,SAAH,EAAA,CAAesU,UAAf,CAA0B,CAMzByyB,WAAY,CAEXz4C,KAAMx0D,CAAA,CAAG+6B,IAAH,CAAU,CAAC,SAAD,CAAY,OAAZ,CAAqB/6B,CAArB,CAAwB+6B,IAAxB,CAAV,CAA0C,CAAC,OAAD,CAAU,SAAV,CAFrC,CAGXsL,QAAS,CACR6mE,YAAa,CACZC,SAAU,CAAA,CADE,CADL,CAHE;AAYXC,UAAW,CAAA,CAZA,CANa,CAwBzBC,eAAgB,CAAA,CAxBS,CA+BzBC,0BAA2B,CAAA,CA/BF,CAA1B,CADuD,CAAxD,CAzEoB,CADX,CA8GVC,QAASA,QAAQ,CAAC3oF,CAAD,CAAM1zC,CAAN,CAAiB,CAC7B0zC,CAAA,CAAIshD,SAAJ,EAAJ,EACCthD,CAAA,CAAIshD,SAAJ,EAAA,CAAgB3iC,OAAhB,EAFgC,CA9GxB,CA1BoC,CAgJ/CiqE,YAAaA,QAAQ,CAACrpF,CAAD,CAAO,CAC3B,IAAA,CAAKi9B,OAAL,CAAa,WAAb,CAAyBj9B,CAAzB,CACA,KAAA,CAAK+hD,SAAL,EAAA,CAAiBkU,UAAjB,EAAA,CAA8Bh5B,OAA9B,CAAsC,IAAA,CAAKF,OAAL,EAAtC,CAF2B,CAhJmB,CAuJ/ChnC,SAAUA,QAAQ,EAAG,CACpB,MAAO,KAAA,CAAKgsD,SAAL,EAAA,CAAiBhsD,QAAjB,EADa,CAvJ0B,CAAhD,C,CCAApnC,GAAA,CAAIk2B,MAAJ,CAAW,0CAAX,CAAuD,CACtDyI,OAAQ,sCAD8C,CAEtDyC,SAAU,CAAC,mCAAD,CAAqC,mCAArC,CAAyE,sCAAzE,CAF4C,CAGtDsL,MAAO,kCAH+C,CAItD2Z,IAAK,uBAJiD,CAKtDnuB,QAAS,CACRG,KAAM,CACLsiG,YAAa,oBADR,CAELX,SAAU,gBAFL,CAGLY,YAAa,wCAHR,CAILC,QAAS,uBAJJ,CAKLC,WAAY,qCALP,CAMLC,SAAU,2CANL;AAOLC,cAAe,WAPV,CAQLC,YAAa,kDARR,CASLC,aAAc,uBATT,CAULC,kBAAmB,iCAVd,CAWL54E,GAAI,IAXC,CAYLC,OAAQ,QAZH,CADE,CAeR44E,UAAW30H,IAAAA,EAfH,CAgBR40H,gBAAiBA,QAAQ,CAACC,CAAD,CAAqB,CACtB70H,IAAAA,EAAvB,GAAI,IAAJ,CAAS20H,SAAT,GACC,IADD,CACMA,SADN,CACkB,IAAIp7H,GAAJ,CAAQ25B,MAAR,CAAe,CAC/B5yB,MAAOu0H,CAAA,CAAmB3iG,QAAnB,CAA4B,eAA5B,CADwB,CAE/Bo6B,YAAa,MAFkB,CAG/B/Q,OAAQ,KAHuB,CAI/BphD,MAAO,GAJwB,CAK/Bi5B,MAAO,CAAC,CACP74B,MAAO,MADA,CAEPghD,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAFD,CAMPtvB,YAAa,EANN,CAOPtB,MAAO,CAAC,CACP74B,MAAO,UADA,CAEP+F,MAAOu0H,CAAA,CAAmB3iG,QAAnB,CAA4B,UAA5B,CAFA;AAGPkB,MAAO,CAAC,CACP74B,MAAQ,YADD,CAEPyjC,SAAW62F,CAAA,CAAmB3iG,QAAnB,CAA4B,gBAA5B,CAFJ,CAGPrZ,KAAQ,UAHD,CAIPklB,WAAY,YAJL,CAKPhK,KAAQ,CALD,CAMPr5B,UAAW,CACVykC,OAAQA,QAAQ,CAACkM,CAAD,CAAMypF,CAAN,CAAcC,CAAd,CAAsB,CACjCC,CAAAA,CAAgB3pF,CAAA,CAAIpX,EAAJ,EAAA,CAASlO,SAAT,CAAmB,aAAnB,CACpBivG,EAAA,CAAchY,SAAd,CAAwB,CAAC8X,CAAzB,CACKA,EAAL,EACCE,CAAA,CAAcv1F,QAAd,CAAuB,CAAA,CAAvB,CAJoC,CAD5B,CANJ,CAAD,CAeL,CACDllC,MAAO,UADN,CAEDyjC,SAAU62F,CAAA,CAAmB3iG,QAAnB,CAA4B,mBAA5B,CAFT,CAGDrZ,KAAM,aAHL,CAIDomB,OAAQ,aAJP,CAfK,CAHA,CAAD,CAwBL,CACD1kC,MAAO,UADN,CAED+F,MAAOu0H,CAAA,CAAmB3iG,QAAnB,CAA4B,UAA5B,CAFN,CAGDkB,MAAO,CAAC,CACPA,MAAO,CACN74B,MAAQ,YADF,CAENyjC,SAAW62F,CAAA,CAAmB3iG,QAAnB,CAA4B,UAA5B,CAFL,CAGNrZ,KAAQ,UAHF,CAINklB,WAAY,MAJN,CAKNhK,KAAQ,CALF,CADA,CAAD,CAQL,CACDX,MAAO,CACN74B,MAAQ,YADF;AAENyjC,SAAW62F,CAAA,CAAmB3iG,QAAnB,CAA4B,UAA5B,CAFL,CAGNrZ,KAAQ,UAHF,CAINklB,WAAY,MAJN,CAKNhK,KAAQ,CALF,CADN,CARK,CAgCH,CACHX,MAAO,CACN74B,MAAQ,YADF,CAENyjC,SAAW62F,CAAA,CAAmB3iG,QAAnB,CAA4B,UAA5B,CAFL,CAGNrZ,KAAQ,UAHF,CAINklB,WAAY,MAJN,CAKNhK,KAAQ,CALF,CADJ,CAhCG,CAwCL,CACDX,MAAO,CACN74B,MAAQ,YADF,CAENyjC,SAAW62F,CAAA,CAAmB3iG,QAAnB,CAA4B,SAA5B,CAFL,CAGNrZ,KAAQ,UAHF,CAINklB,WAAY,KAJN,CAKNhK,KAAQ,CALF,CADN,CAxCK,CAHN,CAxBK,CAPA,CAAD,CALwB,CA0F/BF,QAAS,CAAC,CACT3a,KAAM27G,CAAA,CAAmB3iG,QAAnB,CAA4B,IAA5B,CADG,CAET+M,OAAQ,IAFC,CAAD,CAGP,CACD/lB,KAAO27G,CAAA,CAAmB3iG,QAAnB,CAA4B,QAA5B,CADN,CAEDW,QAASA,QAAQ,CAACmB,CAAD,CAAM,CACtBA,CAAA,CAAIC,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EADsB,CAFtB,CAKDz4B,MAAO,IALN,CAHO,CA1FsB,CAAf,CADlB,CAyGA,KAAImvC,EAAOiqF,CAAA,CAAmBltD,OAAnB,EACX,KAAA,CAAKgtD,SAAL,CAAe/sG,IAAf,CAAoB,wCAApB,CAA6DgjB,CAA7D,CAAkE,IAAlE,CAAA,CAAwEnL,QAAxE,CAAiF,CAAA,CAAjF,CACA;IAAA,CAAKk1F,SAAL,CAAe/sG,IAAf,CAAoB,sBAApB,CAAA,CAA4C6X,QAA5C,CAAqDo1F,CAAA,CAAmBI,cAAnB,EAArD,CAEA,KAAA,CAAKN,SAAL,CAAe/sG,IAAf,CAAoB,WAApB,CAAA,CAAiCwoG,UAAjC,CAA4C,QAAQ,CAACp8F,CAAD,CAAM,CACrDnS,CAAAA,CAAMmS,CAAA,CAAIC,EAAJ,CAAO,QAAP,CACV,KAAIE,EAAOtS,CAAA,CAAI+F,IAAJ,CAAS,MAAT,CACPuM,EAAA,CAAKC,OAAL,EAAJ,GACKG,CAIJ,CAJaJ,CAAA,CAAKK,SAAL,EAIb,CAHAqgG,CAAA,CAAmBZ,WAAnB,CAA+B1/F,CAA/B,CAAsC+/F,QAAtC,CAGA,CAFAO,CAAA,CAAmBK,cAAnB,CAAyD,IAAzD,GAAkC3gG,CAAlC,CAAyC4gG,WAAzC,CAEA,CADAN,CAAA,CAAmBjtG,IAAnB,CAAwB,eAAxB,CAAA,CAAyCwtG,SAAzC,CAAmD,aAAnD,CAAyF,IAAzF,GAAkE7gG,CAAlE,CAAyE4gG,WAAzE,CACA,CAAAN,CAAA,CAAmB5gG,EAAnB,CAAsB,UAAtB,CAAA,CAAkC++F,WAAlC,CAA8C,CAAA,CAA9C,CALD,CAOAnxG,EAAA,CAAIqS,KAAJ,EAVyD,CAA1D,CAaA,OAAO,KAAP,CAAYygG,SA3HiC,CAhBtC,CAL6C,CAmJtDj9H,OAAQ,CACP29H,MAAO,CAAA,CADA,CAEPF,YAAa,CAAA,CAFN,CAGPvqF,KAAM,YAHC,CAIP0qF,2BAA4B,CAAA,CAJrB,CAKPC,cAAe,CAAA,CALR,CAMPC,mBAAoB,EANb;AAOPC,qBAAsB,GAPf,CAnJ8C,CA4JtDl6E,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CA5J8C,CAgKtD/pD,OAAQ,GAhK8C,CAiKtDQ,OAAQ,CAAA,CAjK8C,CAmKtDi7H,mBAAoB,GAnKkC,CAqKtD37H,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAAOkzC,IAAP,CAA8B5qC,IAAAA,EAAhB,GAAAtI,CAAA,CAAOkzC,IAAP,CAA4BlzC,CAA5B,CAAmCkzC,IAAnC,CAA0C,IAA1C,CAA+ClzC,MAA/C,CAAsDkzC,IACpE,KAAI+qF,EAA+C,EAA/CA,CAAWj+H,CAAA,CAAOkzC,IAAP,CAAYrqC,OAAZ,CAAoB,YAApB,CAEf,KAAA,CAAK6kD,MAAL,CAAc7rD,GAAA,CAAIu4B,MAAJ,CAAW,mCAAX,CAAgD,CAC7DqY,QAAS5wC,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAev7C,CAAf,CAAsBqsC,KAAtB,CAAA,CAA6BhhC,IAA7B,CAAkC,IAAlC,CADoD,CAE7Dy+C,KAAM9pD,CAAN8pD,CAAaA,IAFgD,CAG7D5W,KAAM,WAANA,CAAkBlzC,CAAlBkzC,CAAyBA,IAHoC,CAAhD,CAMdrxC,IAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf2vD,YAAa,CAAC,CACV/yD,MAAO,SADG,CAEVgzD,KAAM,MAFI,CAGVrK,SAAU,CACT7lB,UAAW,MADF,CAHA,CAMVjK,MAAO,CACT,CACC74B,MAAO,oBADR,CADS,CAGP,CACDA,MAAO,oBADN;AAEDkH,OAAQ,CAACk0H,CAFR,CAGDj7H,UAAW,CACVoY,MAAO,CACNlY,GAAI,IAAJA,CAAS+xG,GADH,CAENlxG,MAAO,IAFD,CADG,CAHV,CAHO,CAYP,CACDm3B,MAAO,mBADN,CAEDD,QAAS,IAAA,CAAKT,QAAL,CAAc,aAAd,CAFR,CAGD+M,OAAQ,aAHP,CAKDx9B,OAAQ,CAACk0H,CALR,CAMDj7H,UAAW,CACVoY,MAAO,CACNlY,GAAIA,QAAQ,CAACo5B,CAAD,CAAMw+F,CAAN,CAAU,CACrBj5H,GAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CAC3BsB,MAAO,CAAC,CACJla,KAAM,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADF,CAEJS,QAAS,IAAA,CAAKT,QAAL,CAAc,aAAd,CAFL,CAGJU,MAAO,mBAHH,CAIJC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKoB,EAAL,CAAQ,UAAR,CAAA,CAAoBs/F,QAApB,CAA6B,IAA7B,CADmB,CAJhB,CAOJ93H,MAAO,IAPH,CAAD,CAQL,CACEyd,KAAM,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADR,CAEES,QAAS,IAAA,CAAKT,QAAL,CAAc,YAAd,CAFX,CAGEU,MAAO,mBAHT,CAIEC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKoB,EAAL,CAAQ,UAAR,CAAA,CAAoBmgG,OAApB,CAA4B,IAA5B,CADmB,CAJtB;AAOE34H,MAAO,IAPT,CARK,CADoB,CAA5B,CAAA,CAkBG+qC,MAlBH,CAkBUgsF,CAlBV,CAkBa1jD,KAlBb,CAkBoB0jD,CAlBpB,CAkBuBzjD,KAlBvB,CADqB,CADhB,CAsBNtzE,MAAO,IAtBD,CADG,CANV,CAZO,CA4CP,CACDlB,MAAO,QADN,CAED0kC,OAAQ,QAFP,CAGDrM,MAAO,mBAHN,CAIDD,QAAS,IAAA,CAAKT,QAAL,CAAc,cAAd,CAJR,CAKD0tB,IAAKloD,CAAA,CAAOy9H,WAAP,CAAqB,aAArB,CAAqC,EALzC,CAMDtiG,QAASA,QAAQ,CAACmB,CAAD,CAAMw+F,CAAN,CAAU,CAC1B3iG,MAAA,CAAOwa,QAAP,CAAgB+a,MAAhB,CAAuBwwE,iBAAvB,CAAyChB,eAAzC,CAAyD,IAAzD,CAAA,CAA+D75G,IAA/D,EAD0B,CAN1B,CASDtf,MAAO,IATN,CA5CO,CAsDP,CACDlB,MAAO,uBADN,CAEDkH,OAAQk0H,CAFP,CAtDO,CANG,CAAD,CAiEX,CACEp7H,MAAO,SADT,CAEEgzD,KAAM,OAFR,CAGEn6B,MAAO,CAAC,CACN74B,MAAO,wBADD,CAEN01G,MAAOv4G,CAAPu4G,CAAcA,KAFR,CAGNp3F,KAAMnhB,CAANmhB,CAAao4G,MAHP,CAAD,CAIJ,CACE12H,MAAO,uBADT,CAJI,CAMD,CACDA,MAAO,uBADN,CANC,CAQD,CACDA,MAAO,yBADN,CARC,CAHT,CAjEW,CADE;AAkFf64B,MAAO,CAAC,IAAD,CAAMgyB,MAAN,CAlFQ,CAAhB,CAqFsBplD,KAAAA,EAAtB,GAAItI,CAAJ,CAAWm+H,MAAX,EACC,IAAA,CAAKziG,KAAL,CAAW70B,IAAX,CAAgB,IAAA,CAAKu3H,eAAL,CAAqBp+H,CAArB,CAA4Bm+H,MAA5B,CAAhB,CAGD,KAAA,CAAKtxD,OAAL,CAAe,IAAA,CAAKwxD,oBAAL,CAA0Bx8H,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAev7C,CAAf,CAAsBm4H,MAAtB,CAAA,CAA8B9sH,IAA9B,CAAmC,EAAnC,CAA1B,CAAkErL,CAAlE,CACf,KAAA,CAAK6sE,OAAL,CAAaiW,UAAb,CAAwBm7C,CAAxB,CACA,KAAA,CAAKviG,KAAL,CAAW70B,IAAX,CAAgB,IAAhB,CAAqBgmE,OAArB,CAEA,KAAA,CAAK9rC,UAAL,CAAgBvjB,SAAhB,CAvG6B,CArKwB,CAgRtD2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/B,IAAI+uB,EAAK,IACTA,EAAA,CAAGlX,EAAH,CAAM,aAAN,CAAqB,QAAQ,EAAG,CAC/B,IAAA,CAAKmvB,WAAL,EAAA,CAAmBnvB,EAAnB,CAAsB,QAAtB,CAAgC,QAAQ,CAACvT,CAAD,CAAK,CAC5CyqB,CAAA,CAAGuvG,iBAAH,EAEA,KAAI/7H,EAAS,EACbwsB,EAAA,CAAG2M,KAAH,CAAS1zB,IAAT,CAAc,QAAQ,CAAC8d,CAAD,CAAO,CAACvjB,CAAA,EAAQujB,CAAA,CAAKtjB,SAAL,EAAT,CAA7B,CACAusB,EAAA,CAAGy7F,OAAH,CAAW,CAACjoH,OAAQA,CAAT,CAAX,CAL4C,CAA7C,CAD+B,CAAhC,CAQG,IARH,CASAwsB,EAAA,CAAGgS,UAAH,CAAcvjB,SAAd,CAX+B,CAhRsB,CA8RtD++G,YAAaA,QAAQ,CAACrpF,CAAD,CAAO,CAC3B,IAAA,CAAKi9B,OAAL,CAAaj9B,CAAb,CACA;IAAA,CAAKwa,MAAL,CAAY6uE,WAAZ,CAAwBrpF,CAAxB,CAEI+qF,EAAAA,CAAwC,EAAxCA,CAAW/qF,CAAA,CAAKrqC,OAAL,CAAa,YAAb,CACf,KAAA,CAAKqnB,IAAL,CAAU,oBAAV,CAAA,CAAgC4yD,UAAhC,CAA2Cm7C,CAA3C,CACA,KAAA,CAAK/tG,IAAL,CAAU,uBAAV,CAAA,CAAmC4yD,UAAnC,CAA8C,CAACm7C,CAA/C,CACA,KAAA,CAAK5vG,SAAL,CAAe,aAAf,CAAA,CAA8By0D,UAA9B,CAAyCm7C,CAAzC,CACA,KAAA,CAAKpxD,OAAL,CAAaiW,UAAb,CAAwBm7C,CAAxB,CAR2B,CA9R0B,CA6StDhpB,IAAKA,QAAQ,CAACspB,CAAD,CAAW,CACvB,GAA4B,qBAA5B,GAAI,IAAA,CAAK7wE,MAAL,CAAYuiB,OAAZ,EAAJ,CAAmD,CAClD,GAAe,CAAA,CAAf,GAAIsuD,CAAJ,EAAuB,IAAA,CAAKC,6BAAL,EAAvB,CACC,MAAO,KAAA,CAAKC,IAAL,EAGP,KAAI9rF,EAAW,IAAA,CAAKpW,EAAL,CAAQ,UAAR,CACf16B,IAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe2qC,CAAA,CAAS1mB,KAAT,CAAe,2BAAf,CAAf,CAA4D,QAAQ,CAAC8rG,CAAD,CAAU,CAC7E,GAAIA,CAAJ,GAAc,IAAd,CAAkC,MAAb,KAAA,CAAK0G,IAAL,EAAoB,CAAA,CAAA,CACzC,IAAI1G,CAAJ,CAAYrqE,MAAZ,EAAmD,qBAAnD;AAAsBqqE,CAAA,CAAQrqE,MAAR,CAAeuiB,OAAf,EAAtB,EAAiG,CAAA,CAAjG,GAA4E8nD,CAAA,CAAQ2G,QAAR,EAA5E,CASC,MARA78H,IAAA,CAAI0/B,GAAJ,CAAQkM,OAAR,CAAgB,IAAA,CAAKjT,QAAL,CAAc,qBAAd,CAAhB,CAAsD,IAAA,CAAKA,QAAL,CAAc,gBAAd,CAAtD,CAAuF,QAAQ,CAACmkG,CAAD,CAAQ,CAC1F,KAAZ,GAAIA,CAAJ,CACChsF,CAAA,CAASkpF,QAAT,CAAkB,IAAlB,CADD,CAGC,IAAA,CAAK4C,IAAL,EAJqG,CAAvG,CAMG,IANH,CAQO,CADP,IAAA,CAAKG,6BAAL,CAAmC,CAAA,CAAnC,CACO,CAAA,CAAA,CAXqE,CAA9E,CAaG,IAbH,CANiD,CAD5B,CA7S8B,CAsUtDH,KAAMA,QAAQ,EAAG,CAChB,IAAA,CAAK5xD,OAAL,CAAaxpD,IAAb,EACA,KAAA,CAAKwpD,OAAL,CAAa/sD,MAAb,CAAoB,IAApB,CAAyBk+G,kBAAzB,CACA,KAAA,CAAKnxD,OAAL,CAAa7jC,IAAb,CAAkB,eAAlB,CACA,KAAIzO,EAAO,IAAA,CAAKmzB,MAAL,CAAYzkB,QAAZ,EACX9Q,OAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB8wC,IAArB,CAA0BG,MAA1B,CAAmC,IAAA,CAAK85B,OAAL,CAAagyD,YAAb,EACnC1mG,OAAA,CAAOwa,QAAP,CAAgBs3D,QAAhB,CAAyB60B,YAAzB,CAAwC,IACxC3mG,OAAA,CAAOwa,QAAP,CAAgBs3D,QAAhB,CAAyB80B,eAAzB,CAAyCC,eAAzC,CAAyD,IAAzD,CAEA;GAAI,CAIH,IAAAtgG,EAASugG,IAAA,CAAKrmH,IAAL,CAAUvH,MAAV,CAAkBkpB,CAAlB,CAJN,CAMJ,MAAO/oB,CAAP,CAAU,CAIT,MAHA,KAAA,CAAKq7D,OAAL,CAAa/5C,MAAb,EAGOthB,CAFP2mB,MAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB8wC,IAArB,CAA0Bra,SAA1B,CAAoC/mB,CAApC,CAEOA,CADP,IAAA,CAAKw1B,WAAL,EAAA,CAAmBxC,SAAnB,CAA6B,QAA7B,CACOhzB,CAAAA,CAJE,CAMV,IAAA,CAAK6pH,QAAL,CAAc,CAAA,CAAd,CACA,IAAa/yH,IAAAA,EAAb,GAAIo2B,CAAJ,CACC,GAAIA,CAAJ,CAAWxG,IAAX,EAAmBwG,CAAnB,CAA0BwgG,KAA1B,EAAmCxgG,CAAnC,CAA0CygG,OAA1C,CAAmD,CAClD,IAAIpwG,EAAK,IACT2P,EAAA,CAAOxG,IAAP,CAAY,QAAQ,CAACwG,CAAD,CAAS,CAC5B3P,CAAA,CAAG89C,OAAH,CAAW/5C,MAAX,EACaxqB,KAAAA,EAAb,GAAIo2B,CAAJ,EACC3P,CAAA,CAAGqwG,WAAH,CAAe1gG,CAAf,CAH2B,CAA7B,CAAA,CAKGwgG,KALH,CAKS,QAAQ,CAACG,CAAD,CAAM,CACtBtwG,CAAA,CAAG89C,OAAH,CAAW/5C,MAAX,EACAqF,OAAA,CAAOwa,QAAP,CAAgB7wC,IAAhB,CAAqB8wC,IAArB,CAA0Bra,SAA1B,CAAoC8mG,CAApC,CAFsB,CALvB,CAAA,CAQGF,OARH,CAQW,QAAQ,EAAG,CACrBt9H,GAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CAAC,IAAA,CAAKrZ,WAAL,EAAA,CAAmBxC,SAAnB,CAA6B,QAA7B,CAAD,CAArB,CAA+D,EAA/D,CAAmEzV,CAAnE,CADqB,CARtB,CAFkD,CAAnD,IAcC,KAAA,CAAK89C,OAAL,CAAa/5C,MAAb,EAEA,CADA,IAAA,CAAKssG,WAAL,CAAiB1gG,CAAjB,CACA;AAAA,IAAA,CAAKsI,WAAL,EAAA,CAAmBxC,SAAnB,CAA6B,QAA7B,CAjBF,KAoBC,KAAA,CAAKqoC,OAAL,CAAa/5C,MAAb,EACA,CAAA,IAAA,CAAKkU,WAAL,EAAA,CAAmBxC,SAAnB,CAA6B,QAA7B,CAED,OAAO9F,EA7CS,CAtUqC,CAsXtD2/F,qBAAsBA,QAAQ,CAACv7H,CAAD,CAAO9C,CAAP,CAAe,CAC5C,IAAI+uB,EAAK,IACLuwG,EAAAA,CAAsCh3H,IAAAA,EAAzB,GAAAtI,CAAA,CAAO69H,aAAP,CAAqC9uG,CAArC,CAAwC/uB,MAAxC,CAA+C69H,aAA/C,CAA+D79H,CAA/D,CAAsE69H,aAGvF,OAAOh8H,IAAA,CAAIu4B,MAAJ,CAAW,eAAX,CAA4B,CAClCmN,OAAQ,QAD0B,CAElC2gB,IAAK,uBAF6B,CAGlC3lD,OALYwsB,CAKZxsB,CALevC,MAKfuC,CALsBu7H,kBAEY,CAIlCj6E,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAJ0B,CAQlC5wB,MAAO,CAAC,CACP74B,MAAO,WADA,CAEPw5B,KAAM,CAFC,CAGPwnB,OAAQ,CACP93C,KAAM,UADC,CAHD,CAMP2vB,MAAO,CAAC,CACP74B,MAAO,WADA,CAEP0kC,OAAQ,SAFD,CAGPzgC,EAAG,CAHI,CAIPkF,EAAG,CAJI,CAKPq6D,OAAQ,MALD;AAMP9jE,OAAQ,MAND,CAOPO,KAAMA,CAPC,CAAD,CAQL,CACDD,MAAO,SADN,CAED0kC,OAAQ,SAFP,CAGDx9B,OAAQ,CAAA,CAHP,CAIDjD,EAAG,CAJF,CAKDkF,EAAG,CALF,CAMDe,MAAO,CAAE02D,WAAY,MAAd,CAAsB87D,WAAY,KAAlC,CAAyCC,cAAe,MAAxD,CANN,CAODh0E,SAAU,CAAEz+C,MAAO,CAAEyyH,cAAe,MAAjB,CAAT,CAPT,CAQD9jG,MAAO,CAAC,IAAD,CAAM,CACZ6L,OAAQ,cADI,CAEZrM,MAAOokG,CAAA,CAAa,mBAAb,CAAmC,mBAF9B,CAGZrkG,QAASqkG,CAAA,CAAa,kBAAb,CAAkC,gBAH/B,CAIZnkG,QAASA,QAAQ,EAAG,CACnBpM,CAAA,CAAG89C,OAAH,CAAW4yD,gBAAX,EADmB,CAJR,CAAN,CAOL,CACD58H,MAAO,uBADN,CAEDo2H,WAAY,QAFX,CAPK,CAUL,CACD/9F,MAAO,mBADN,CAEDD,QAAS,gBAFR,CAGDE,QAASA,QAAQ,EAAG,CACnBpM,CAAA,CAAG2wG,YAAH,EADmB,CAHnB,CAVK,CARN,CARK,CANA,CAAD;AAwCL,CACD78H,MAAO,WADN,CAED0kC,OAAQ,cAFP,CAGDhlC,OAAQ,EAHP,CAIDwH,OAAQu1H,CAAA,CAAa,CAAA,CAAb,CAAoB,CAAA,CAJ3B,CAKDvyH,MAAO,CAAC44B,UAAW,QAAZ,CAAsB6rC,SAAU,MAAhC,CAAwCxkE,OAAQ,SAAhD,CAA2D2yH,UAAW,gBAAtE,CALN,CAMD78H,KAAM,SANL,CAODE,UAAW,CACVC,YAAaA,QAAQ,CAAC0wC,CAAD,CAAM,CAC1BA,CAAA,CAAIrO,KAAJ,EAAA,CAAYztB,EAAZ,CAAe,OAAf,CAAwB,QAAQ,EAAG,CAClCkX,CAAA,CAAG89C,OAAH,CAAW4yD,gBAAX,EADkC,CAAnC,CAD0B,CADjB,CAPV,CAxCK,CAR2B,CA+DlCx2F,SAAUA,QAAQ,EAAG,CAGpB,MAFe,KAAA,CAAK41F,YAAL,EAAAe,CAAoBr7H,GAApBq7H,CAAwB10F,SAAxB00F,CAAkC,CAAA,CAAlCA,CAEf,CADsBr3F,SAFF,CA/Da,CAoElCs2F,aAAcA,QAAQ,EAAG,CACxB,MAAO,KAAA,CAAK3uG,IAAL,CAAU,UAAV,CAAA,CAAsBoV,KAAtB,EADiB,CApES,CAuElCm6F,iBAAkBA,QAAQ,EAAG,CAC5B,IAAII,EAAe9wG,CAAA,CAAG89C,OAAH,CAAW38C,IAAX,CAAgB,eAAhB,CACfnB,EAAA,CAAG+wG,gBAAH,EAAJ,EACC/wG,CAAA,CAAGgxG,gBAAH,CAAoB,CAAA,CAApB,CAEA;AADAF,CAAA,CAAaG,UAAb,CAAwB,gBAAxB,CACA,CAAAH,CAAA,CAAarwC,QAAb,CAAsB,mBAAtB,CAHD,GAKCzgE,CAAA,CAAGgxG,gBAAH,CAAoB,CAAA,CAApB,CAEA,CADAF,CAAA,CAAaG,UAAb,CAAwB,kBAAxB,CACA,CAAAH,CAAA,CAAarwC,QAAb,CAAsB,mBAAtB,CAPD,CASAzgE,EAAA,CAAGiY,WAAH,EAAA,CAAiBxC,SAAjB,CAA2B,QAA3B,CAX4B,CAvEK,CAqFlC1kB,OAAQA,QAAQ,EAAG,CAClB,IAAI+sD,EAAU,IAAA,CAAK38C,IAAL,CAAU,UAAV,CACd28C,EAAA,CAAQ/sD,MAAR,CAAe7Z,KAAf,CAAqB4mE,CAArB,CAA8BrvD,SAA9B,CAFkB,CArFe,CAyFlCxa,UAAW,CACVC,YAAaA,QAAQ,CAAC0wC,CAAD,CAAM,CAC1BA,CAAA,CAAIrO,KAAJ,EAAA,CAAYztB,EAAZ,CAAe,WAAf,CAA4B,QAAQ,CAACrL,CAAD,CAAQlI,CAAR,CAAY,CAC/CqvC,CAAA,CAAIzjB,IAAJ,CAAS,UAAT,CAAA,CAAqB4yD,UAArB,CAAgC,CAAA,CAAhC,CAD+C,CAAhD,CAGAnvC,EAAA,CAAIrO,KAAJ,EAAA,CAAYztB,EAAZ,CAAe,UAAf,CAA2B,QAAQ,CAACrL,CAAD,CAAQlI,CAAR,CAAY,CAC9CqvC,CAAA,CAAIzjB,IAAJ,CAAS,UAAT,CAAA,CAAqB4yD,UAArB,CAAgC,CAAA,CAAhC,CAD8C,CAA/C,CAJ0B,CADjB,CAzFuB,CAA5B,CALqC,CAtXS,CAietDs7C,gBAAiBA,QAAQ,CAACt7H,CAAD,CAAO,CAC/B,MAAOjB,IAAA,CAAIu4B,MAAJ,CAAW,eAAX;AAA4B,CAClCkyB,MAAO,SAD2B,CAElCpE,IAAK,kBAF6B,CAGlCrjD,QAAS,OAHyB,CAIlC/B,KAAMA,CAJ4B,CAKlCmmC,SAAUA,QAAQ,EAAG,CAIpB,MAHW,KAAA3kC,CAAK0iC,WAAL1iC,EACMs7H,CAAGr7H,GAAHq7H,CAAO10F,SAAP00F,CAAiB,CAAA,CAAjBA,CAEjB,CADsBr3F,SAHF,CALa,CAA5B,CADwB,CAjesB,CAgftD62F,YAAaA,QAAQ,CAAC1gG,CAAD,CAAS,CAE7B,GAAI,IAAA,CAAKmuC,OAAL,CAAagyD,YAAb,EAAJ,CAAgCt6H,GAAhC,CAAoCgkC,SAApC,GAAkD,IAAlD,CAAuDy1F,kBAAvD,CAEC,GADIt/F,CACA,CADON,QACP,GADkBM,CAClB,CAD2BA,CAAA,CAAON,QAAP,EAC3B,EAAAM,CAAA,EAAUA,CAAV,CAAiBxG,IAArB,CAA2B,CAC1B,IAAInJ,EAAK,IACT2P,EAAA,CAAOxG,IAAP,CAAY,QAAA,CAAAu1D,CAAA,CAAO,CAClB1+D,CAAA,CAAG89C,OAAH,CAAW/sD,MAAX,CAAkB2tE,CAAlB,CACA,OAAOA,EAFW,CAAnB,CAF0B,CAA3B,IAOC,KAAA,CAAK5gB,OAAL,CAAa/sD,MAAb,CAAoB4e,CAApB,CAX2B,CAhfwB,CAmgBtD4/F,kBAAmBA,QAAQ,EAAG,CAC7B,IAAI/7H,EAAS,IAAA,CAAK09H,qBAAL,EAAb,CACIC,EAAY,IAAA,CAAKrzD,OAAL,CAAagyD,YAAb,EADhB,CAEIsB,EAAe,IAAA,CAAKtzD,OAAL,CAAa38C,IAAb,CAAkB,eAAlB,CACf,KAAA,CAAK4vG,gBAAL,EAAJ;CACCK,CAAA,CAAa36F,IAAb,EAEA,CADA,IAAA,CAAKqnC,OAAL,CAAatkE,SAAb,CAAuBd,IAAA,CAAKM,GAAL,CAASxF,CAAT,CAAiB,IAAA,CAAK69H,qBAAL,EAAjB,CAAvB,CACA,CAAAF,CAAA,CAAUj2D,SAAV,CAAoB,WAApB,CAHD,GAKC1nE,CAOA,CAPSkF,IAAA,CAAKgM,GAAL,CAAShM,IAAA,CAAKM,GAAL,CAASxF,CAAT,CAAiB,IAAA,CAAK69H,qBAAL,EAAjB,CAAT,CAAyD,IAAA,CAAKC,uBAAL,EAAzD,CAOT,CANI99H,CAAJ,CAAa,IAAA,CAAK89H,uBAAL,EAAb,CACCF,CAAA,CAAa36F,IAAb,EADD,CAGC26F,CAAA,CAAa98G,IAAb,EAGD,CADA,IAAA,CAAKwpD,OAAL,CAAatkE,SAAb,CAAuBhG,CAAvB,CACA,CAAA29H,CAAA,CAAUh2D,MAAV,CAAiB,WAAjB,CAZD,CAJ6B,CAngBwB,CAuhBtD+1D,sBAAuBA,QAAQ,EAAG,CACjC,GAAmC33H,IAAAA,EAAnC,GAAI,IAAJ,CAASukE,OAAT,CAAiByzD,aAAjB,CAA8C,CAE7C,IAAIC,EAAgBlvH,MAAA,CAAOmvH,gBAAP,CAAwB,IAAA,CAAK3zD,OAAL,CAAavnC,KAAb,EAAxB,CAA6C/gC,GAA7C,CACpB,KAAA,CAAKsoE,OAAL,CAAayzD,aAAb,CAA6B1zC,UAAA,CAAW2zC,CAAA,CAAcE,gBAAd,CAA+B,aAA/B,CAAX,CAA7B,CAAuF7zC,UAAA,CAAW2zC,CAAA,CAAcE,gBAAd,CAA+B,gBAA/B,CAAX,CAH1C,CAM1CP,CAAAA;AAAY,IAAA,CAAKrzD,OAAL,CAAagyD,YAAb,EAehB,OAZsC,EAAtC6B,CAAIR,CAAJQ,CAAcn8H,GAAdm8H,CAAkBC,iBAAlBD,CAEsBR,CAAA,CAAUU,aAAV,EAAA,CAA0Bp+H,SAA1B,EAFtBk+H,CAE8D,IAF9DA,CAEmE7zD,OAFnE6zD,CAE2EJ,aAF3EI,CAGwC,IAAjC,GAAIR,CAAJ,CAAc37H,GAAd,CAAkBsoG,UAAlB,EAAyCqzB,CAAzC,CAAmD37H,GAAnD,CAAuDsoG,UAAvD,CAAkEg0B,QAAlE,GAA+EC,IAA/E,CAAoFC,SAApF,CAEWl/H,GAAA,CAAIC,IAAJ,CAASk/H,WAAT,CAAqBC,OAArB,CAA6Bf,CAA7B,CAAwCA,CAAxC,CAAkD37H,GAAlD,CAAsDsoG,UAAtD,CAAiEjuF,IAAjE,CAAuEshH,CAAA,CAAUx9H,QAAV,EAAvE,CAFX,CAEwGH,MAFxG,CAG4B,IAH5B,CAGiCsqE,OAHjC,CAGyCyzD,aAHzC,CAMe,IAAA,CAAKF,qBAAL,EAnBW,CAvhBoB,CAgjBtDV,aAAcA,QAAQ,EAAG,CACxB,IAAA,CAAK7yD,OAAL,CAAaxpD,IAAb,EAEA,KAAI4gB,EAAQ,IAAA,CAAK4oC,OAAL,CAAavoE,EAAb,CAAgB4rB,IAAhB,CAAqB,UAArB,CACZ,IAAI+T,CAAJ,CAAW,CAEV,IAAI0P,EAAM9xC,GAAA,CAAIuoH,MAAJ,CADDnmF,CACC,CADKthC,EACL,CACNgxC,EAAJ,CACCA,CAAA,CAAI2e,OAAJ,EADD,CAGCruB,CAAA,CAAMquB,OAAN,EANS,CAAX,IAQO,IAAI,IAAA,CAAKua,OAAL,CAAagyD,YAAb,EAAA,CAA4Bt6H,GAA5B,CAAgC28H,YAAhC,CAA6C,uBAA7C,CAAJ,CAA2E,CACjF,IAAIC;AAAU,IAAA,CAAKt0D,OAAL,CAAagyD,YAAb,EAAVsC,CAAsC58H,GAAtC48H,CAA0Cx+H,EAA9C,CACIy+H,EAAY94H,IAAAA,EAChB+4H,WAAA,CAAWC,MAAX,CAAkBjnH,OAAlB,CAA0B,QAAQ,CAACuO,CAAD,CAAQ,CAC3BtgB,IAAAA,EAAd,GAAIsgB,CAAJ,EAA2BA,CAA3B,CAAiCksD,QAAjC,CAA0CnyE,EAA1C,GAAiDw+H,CAAjD,GACCC,CADD,CACax4G,CADb,CADyC,CAA1C,CAKIw4G,EAAJ,EACCA,CAAA,CAAU9uE,OAAV,EAIA,CAFIivE,CAEJ,CAFiB,IAAA,CAAK10D,OAAL,CAAagyD,YAAb,EAEjB,CAF6Ct6H,GAE7C,CADAg9H,CACA,CADWx0H,KACX,CADiBxK,MACjB,CAD0B,MAC1B,CAAAg/H,CAAA,CAAWx0H,KAAX,CAAiBqkE,QAAjB,CAA4B,EAL7B,EAOCh+B,OAAA,CAAQ0hB,IAAR,CAAa,0CAAb,CAAyDqsE,CAAzD,CAfgF,CAA3E,IAkBN,KAAA,CAAKt0D,OAAL,CAAa/sD,MAAb,CAAoB,GAApB,CAED,KAAA,CAAKknB,WAAL,EAAA,CAAmBxC,SAAnB,CAA6B,QAA7B,CAhCwB,CAhjB6B,CAmlBtDg9F,YAAaA,QAAQ,EAAG,CACnBC,MAAJ,EAAcA,MAAd,CAAqBC,QAArB,EACC7/H,GAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAemhF,WAAf,CAA4B,EAA5B,CAAgC,IAAhC,CAED,IAA4C,CAA5C,GAAIrpG,MAAA,CAAOC,WAAP,CAAmBoH,gBAAnB,EAAJ,CAA+C,CAC9C,IAAKz5B,IAAIA,CAAT,GAAgBsL,OAAhB,CAC2B,QAA1B;AAAI,MAAOA,OAAA,CAAOtL,CAAP,CAAX,EAAsCsL,MAAA,CAAOtL,CAAP,CAAtC,EAA0D,QAA1D,EAAqDA,CAArD,EAAsEsL,MAAA,CAAOtL,CAAP,CAAtE,CAAkF47H,WAAlF,EAAkGtwH,MAAA,CAAOtL,CAAP,CAAA,CAAY47H,WAAZ,EAAlG,GACCtwH,MAAA,CAAOtL,CAAP,CADD,CACesL,MAAA,CAAOtL,CAAP,CAAA,CAAY67H,OAAZ,EADf,CAID,KAAA,CAAK/0D,OAAL,CAAa/5C,MAAb,EACyD,EAAzD,GAAI,IAAA,CAAK+5C,OAAL,CAAa7lC,WAAb,EAAA,CAA2B4yC,OAA3B,EAAA,CAAqCxiC,IAArC,EAAJ,CAAgD3yC,MAAhD,EACC,IAAA,CAAKooE,OAAL,CAAarnC,IAAb,EAED,KAAA,CAAKwB,WAAL,EAAA,CAAmBxC,SAAnB,CAA6B,QAA7B,CAV8C,CAA/C,IAaC3iC,IAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAemhF,WAAf,CAA4B,EAA5B,CAAgC,IAAhC,CAjBsB,CAnlB8B,CAwmBtDxJ,WAAYA,QAAQ,EAAG,CACtB,IAAI6J,EAAW,CACdx1F,MAAO,IAAA,CAAKqhB,MAAL,CAAYzkB,QAAZ,EADO,CAEdiK,KAAM,IAAA,CAAK+8B,OAAL,EAFQ,CAIf,IAAoB,YAApB,GAAI4xD,CAAJ,CAAa3uF,IAAb,CAAkC,CACjC2uF,CAAA,CAAS1J,MAAT,CAAkB,IAAA,CAAKtrD,OAAL,CAAa5jC,QAAb,EAClB,KAAI7M,EAAK,IAAA,CAAKlM,IAAL,CAAU,mCAAV,CACE,KAAX,GAAIkM,CAAJ;CACCylG,CADD,CACUzlG,EADV,CACeA,CAAA,CAAG6M,QAAH,EADf,CAHiC,CAOlC,MAAO44F,EAZe,CAxmB+B,CAunBtDC,kBAAmBA,QAAQ,CAACrvF,CAAD,CAAUS,CAAV,CAAgBlzC,CAAhB,CAAwB,CAClD,QACA,KAAA,CAAK0tD,MAAL,CAAYq0E,UAAZ,CAAuBtvF,CAAvB,CACA,KAAA,CAAK8pF,WAAL,CAAiBrpF,CAAjB,EAAyB,YAAzB,CAHkD,CAvnBG,CAAvD,C,CCAArxC,GAAA,CAAIk2B,MAAJ,CAAW,mCAAX,CAAgD,CAC/CyI,OAAQ,eADuC,CAE/C7H,OAAQ,CAAC,0BAAD,CAFuC,CAG/C4V,MAAO,2BAHwC,CAI/C2Z,IAAK,sBAJ0C,CAK/CloD,OAAQ,CACPgiI,eAAiB,CAChB5a,QAAU,CACJ,CAAEjmG,KAAM,aAAR,CAAuBua,MAAO,CAAE,MAAF,CAAU,QAAV,CAAoB,GAApB,CAAyB,cAAzB,CAA9B,CADI,CAEJ,CAAEva,KAAM,WAAR,CAAqBua,MAAO,sGAAA,CAAA,KAAA,CAAA,GAAA,CAA5B,CAFI,CAGJ,CAAEva,KAAM,QAAR,CAAkBua,MAAO,CAAE,WAAF,CAAe,SAAf,CAAzB,CAHI,CAIJ,CAAEva,KAAM,QAAR,CAAkBua,MAAO,CAAE,QAAF,CAAY,QAAZ,CAAzB,CAJI,CAKJ,CAAEva,KAAM,OAAR;AAAiBua,MAAO,CAAE,MAAF,CAAU,QAAV,CAAoB,QAApB,CAAxB,CALI,CAMJ,CAAEva,KAAM,QAAR,CAAkBua,MAAO,CAAE,OAAF,CAAW,OAAX,CAAzB,CANI,CAOJ,CAAEva,KAAM,UAAR,CAAoBua,MAAO,CAAE,cAAF,CAAkB,cAAlB,CAAkC,aAAlC,CAA3B,CAPI,CADM,CAWbumG,aAAc,2DAXD,CAYhBC,eAAgB,CAAA,CAZA,CAahBC,mBAAoB,CAAA,CAbJ,CAchBC,aAAc,CAAA,CAdE,CADV,CAiBP10E,OAAQplD,IAAAA,EAjBD,CAkBP+5H,iBAAkB,CAAA,CAlBX,CAmBPC,cAAe,CAnBR,CALuC,CA0B/CvoG,QAAS,CACRG,KAAM,EADE,CA1BsC,CA8B/Cn3B,OAAQ,CAAA,CA9BuC,CA+B/CV,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfnD,KAAM9C,CAAA,CAAOyyC,OAAP,CAAiBzyC,CAAjB,CAAwByyC,OAAxB,CAAkC,IAAA,CAAKjY,QAAL,CAAc,WAAd,CADzB,CAAhB,CAGM,KAAA,CAAKuG,UAAL,CAAgBvjB,SAAhB,CAJuB,CA/BiB,CAqC/Cxa,UAAW,CACVssE,SAAUA,QAAQ,CAAC37B,CAAD,CAAM,CACvB,IAAA,CAAK3M,WAAL,EAAA,CAAmBnvB,EAAnB,CAAsB,OAAtB;AAA+B,QAAQ,CAACrG,CAAD,CAAI5J,CAAJ,CAAO,CAC9B,GAAf,EAAIA,CAAJ,CAAM+xE,OAAN,EACC,IAAA,CAAKx+D,WAAL,CAAiBw4B,CAAjB,CAF4C,CAA9C,CAIG,IAJH,CADuB,CADd,CAQV2oF,QAASA,QAAQ,CAAC3oF,CAAD,CAAM1zC,CAAN,CAAiB,CAE7B0zC,CAAA,CAAIshD,SAAJ,EAAJ,GACCthD,CAAA,CAAIshD,SAAJ,EAAA,CAAgBstC,YAAhB,CAA6BC,IAA7B,CAAkC,CAAA,CAAlC,CACA,CAAA7uF,CAAA,CAAIshD,SAAJ,EAAA,CAAgB3iC,OAAhB,EAFD,CAFiC,CARxB,CArCoC,CAsD/Cn3C,YAAaA,QAAQ,CAACw4B,CAAD,CAAM,CAC1B,GAAI,CAACA,CAAA,CAAIshD,SAAJ,EAAL,EAAyBthD,CAAA,CAAIshD,SAAJ,EAAzB,EAA4CthD,CAAA,CAAIshD,SAAJ,EAA5C,CAA4DwtC,QAA5D,CAAuE,CACtE,IAAIn+H,EAAK,IAAA,CAAK0iC,WAAL,EACT1iC,EAAA,CAAG6wB,GAAH,CAAO,CAACutG,gBAAiB,CAAA,CAAlB,CAAP,CACA,KAAA,CAAKjrE,gBAAL,CAAsB,uBAAtB,CAAA,CAA+CkrE,YAA/C,CAA4D,CAAA,CAA5D,CACA,IAAKhvF,CAAA,CAAIshD,SAAJ,EAAL,CAoCCthD,CAAA,CAAIshD,SAAJ,EAAA,CAAgB2tC,WAAhB,CAA4B,CAAA,CAA5B,CApCD,KAAsB,CACrB,IAAIl1E,EAASm1E,QAAA,CAASC,MAAT,CAAiBx+H,CAAjB,CAAoBC,GAApB,CAAyB,IAAA,CAAKw+H,iBAAL,EAAzB,CAGbr1E,EAAA,CAAO71C,EAAP,CAAU,OAAV,CAAmB,QAAQ,CAACk/C,CAAD,CAAM,CAC5B,IAAA,CAAK/vB,WAAL,EAAJ,CAAuBziC,GAAvB,CAA2By+H,SAA3B;AAAsC,IAAA,CAAKxoG,QAAL,CAAc,WAAd,CAAtC,EACC,IAAA,CAAKwM,WAAL,EAAA,CAAmBlnB,MAAnB,CAA0B,EAA1B,CAF+B,CAAjC,CAIG,IAJH,CAOA4tC,EAAA,CAAO71C,EAAP,CAAU,MAAV,CAAkB,QAAQ,CAACk/C,CAAD,CAAM,CAE/BpjB,CAAA,CAAI8jB,gBAAJ,CAAqB,uBAArB,CAAA,CAA8CkrE,YAA9C,CAA2D,CAAA,CAA3D,CAAA,CAAkEr9F,KAAlE,EAAA,CAA0Ed,SAA1E,CAAoF,UAApF,CAEAkpB,EAAA,CAAOk1E,WAAP,CAAmB,CAAA,CAAnB,CAJ+B,CAAhC,CAMAl1E,EAAA,CAAO71C,EAAP,CAAU,QAAV,CAAoB,QAAQ,EAAG,CAC9B,IAAIorH,EAAev1E,CAAfu1E,CAAsBhjI,SAAtBgjI,CAAgCt1E,CAAhCs1E,CAAkCxsC,YAClCwsC,EAAJ,EAAkB,IAAA,CAAKC,gBAAL,EAAlB,GACC,IAAA,CAAKzrE,gBAAL,CAAsB,uBAAtB,CAAA,CAA+ClvD,SAA/C,CAAyD06H,CAAzD,CACA,CAAA,IAAA,CAAKE,gBAAL,CAAsBz1E,CAAtB,CAA6BztD,SAA7B,CAAuC0tD,CAAvC,CAAyC8oC,YAAzC,CAFD,CAIA,IAAK,IAAA,CAAK2sC,mBAAL,EAAL,CAIO,CACN,IAAIr0G,EAAK,IACTvlB,WAAA,CAAW,QAAQ,EAAG,CACrBulB,CAAA,CAAGs0G,mBAAH,CAAuB,CAAA,CAAvB,CADqB,CAAtB,CAEG,GAFH,CAFM,CAJP,IACC,KAAA,CAAK5rE,gBAAL,CAAsB,UAAtB,CAAA,CAAkC6jE,WAAlC,CAA8C,CAAA,CAA9C,CACA;AAAA,IAAA,CAAK+H,mBAAL,CAAyB,CAAA,CAAzB,CAR6B,CAA/B,CAgBG,IAhBH,CAiBA,KAAA,CAAKn6B,SAAL,CAAex7C,CAAf,CAlCqB,CAJgD,CAD7C,CAtDoB,CAoG/CsqE,WAAYA,QAAQ,EAAG,CACtB,MAAO,KAAA,CAAKhxF,WAAL,EAAP,CAA0BziC,GAA1B,CAA8BgkC,SADR,CApGwB,CAAhD,C,CCAA1mC,GAAA,CAAIk2B,MAAJ,CAAW,0CAAX,CAAuD,CACtDyI,OAAQ,sCAD8C,CAEtDyC,SAAU,CAAC,mCAAD,CAAqC,oCAArC,CAF4C,CAGtDsL,MAAO,kCAH+C,CAItD2Z,IAAK,uBAJiD,CAKtDloD,OAAQ,CACPyyC,QAAS,EADF,CAL8C,CAQtDgnC,UAAW,EAR2C,CAStDp3E,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B6B,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACfy1B,MAAO,CAAC,CACP74B,MAAO,oBADA,CAEP4vC,QAAS5wC,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAev7C,CAAf,CAAsBqsC,KAAtB,CAAA,CAA6BhhC,IAA7B,CAAkC,EAAlC,CAFF,CAAD,CADQ,CAKfuqD,YAAa,CAAC,CACV/yD,MAAO,SADG,CAEVgzD,KAAM,MAFI,CAGVn6B,MAAO,CAAC,CACN74B,MAAO,oBADD,CAAD,CAHG,CAAD,CAOX,CACEA,MAAO,SADT;AAEEgzD,KAAM,OAFR,CAGEn6B,MAAO,CAAC,CACN74B,MAAO,wBADD,CAEN01G,MAAOv4G,CAAPu4G,CAAcA,KAFR,CAGNp3F,KAAMnhB,CAANmhB,CAAao4G,MAHP,CAAD,CAIJ,CACE12H,MAAO,uBADT,CAJI,CAMD,CACDA,MAAO,uBADN,CANC,CAQD,CACDA,MAAO,yBADN,CARC,CAHT,CAPW,CALE,CAAhB,CA6BM,KAAA,CAAKk+B,UAAL,CAAgBvjB,SAAhB,CA9BuB,CATwB,CA0CtDw6G,WAAYA,QAAQ,EAAG,CACtB,MAAO,KAAA,CAAKt8F,KAAL,CAAW11B,GAAX,CAAe,CAAf,CAAA,CAAkBgyH,UAAlB,EADe,CA1C+B,CAAvD,C,CCAAn2H,GAAA,CAAIk2B,MAAJ,CAAW,uCAAX,CAAoD,CACnDyI,OAAQ,UAD2C,CAEnD+N,MAAO,gBAF4C,CAInD+0F,QAASh7H,IAAAA,EAJ0C,CAMnDjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAE7B,IAAA,CAAKsjI,OAAL,CAAe,IAAIC,OAAJ,CAAY,CAC1BC,KAFiBxjI,CAEjBwjI,CAFwBC,SACE,CAE1BC,UAAW,sCAFe,CAAZ,CAFc,CANqB,CAcnDC,4BAA6BA,QAAQ,EAAG,CACvC,MAAO,KAAA,CAAKL,OAAL,CAAaM,KAAb,CAAmBC,gBAAnB,EADgC,CAdW,CAkBnDC,6BAA8BA,QAAQ,CAACC,CAAD,CAAsBC,CAAtB,CAA8BC,CAA9B,CAA2C,CAChF,MAAO,KAAA,CAAKX,OAAL,CAAaY,KAAb,CAAmBC,wBAAnB,CAA4C,CAClDJ,YAFqC,IAAA,EAAAA,GAAAA,CAAAA,CAAY,OAAZA,CAAAA,CACa,CAElDC,KAH0D,IAAA,EAAAA,GAAAA,CAAAA,CAAK,CAALA,CAAAA,CACR,CAGlDC,SAJkE,IAAA,EAAAA,GAAAA,CAAAA,CAAS,EAATA,CAAAA,CAChB,CAA5C,CADyE,CAlB9B,CA0BnDG,gBAAiBA,QAAQ,CAACC,CAAD;AAAQL,CAAR,CAAgBC,CAAhB,CAA6B,CACrD,MAAO,KAAA,CAAKX,OAAL,CAAa7mH,MAAb,CAAoBynH,KAApB,CAA0B,CAChCj7E,EAAG,OAAHA,CAAWo7E,CADqB,CAEhCL,KAH+B,IAAA,EAAAA,GAAAA,CAAAA,CAAK,CAALA,CAAAA,CACC,CAGhCC,SAJuC,IAAA,EAAAA,GAAAA,CAAAA,CAAS,EAATA,CAAAA,CACP,CAA1B,CAD8C,CA1BH,CAkCnDK,yBAA0BA,QAAQ,CAACr4G,CAAD,CAAQ+3G,CAAR,CAAgBC,CAAhB,CAA6B,CAC9D7wF,OAAA,CAAQ1rC,GAAR,CAAYukB,CAAZ,CAD8D,CAlCZ,CAsCnDs4G,gBAAiBA,QAAQ,CAACC,CAAD,CAAS,CAC7B,CAAA,CAAgB,IAAA,CAAKC,aAAL,CAAmBD,CAAnB,CACpB,OAAO,KAAA,CAAKE,aAAL,CAAmB,CAACL,MADtB,CACsBA,CADtBA,KACqB,CAAQM,KADtB,CACsBA,CADtBA,IACc,CAAcriH,OAAQ,QAAtB,CAAnB,CAAA,CAAoD4V,IAApD,CAAyD,QAAQ,CAAC0sG,CAAD,CAAO,CAC9E,MAAO,KAAA,CAAKC,0BAAL,CAAgCD,CAAhC,CADuE,CAAf,CAE9DphI,IAF8D,CAEzD,IAFyD,CAAzD,CAF0B,CAtCiB,CA6CnDqhI,2BAA4BA,QAAQ,CAAC5xG,CAAD,CAAS,CAC5C,MAAO,KAAA,CAAKqwG,OAAL,CAAawB,GAAb,CAAiB3Y,OAAjB,CAAyB,CAC/BkY,MAAOpxG,CAAPoxG,CAAcA,KADiB,CAE/BM,KAAM1xG,CAAN0xG,CAAaA,IAFkB,CAG/BI,SAAU9xG,CAAV8xG,CAAiBC,WAHc,CAI/BC,UAAW,CAJoB,CAK/Bp2E,QAAS,CACR,gBAAiB,EADT,CALsB,CAAzB,CAAA,CAQJ32B,IARI,CAQC,QAAS,CAAC0sG,CAAD,CAAO,CACvB,MAAO,OAAA,CAAA,MAAA,CAAA,EAAA;AACH3xG,CADG,CAAA,CAENqf,SAAU,IAAA,CAAK4yF,iBAAL,CAAuBN,CAAvB,CAA4BhmH,IAA5B,CAAiC9J,IAAjC,CAFJ,CAGNqwH,UAAWP,CAAXO,CAAgBvmH,IAAhBumH,CAAqBA,SAHf,CAAA,CADgB,CAAhB,CAMN3hI,IANM,CAMD,IANC,CARD,CADqC,CA7CM,CA+DnD4hI,SAAUA,QAAQ,CAACZ,CAAD,CAAS1wG,CAAT,CAAe,CAC5B,CAAA,CAAgB,IAAA,CAAK2wG,aAAL,CAAmBD,CAAnB,CAAf,KAAAH,EAAA,CAAAA,CAAA,KAAA,CAAOM,EAAA,CAAAA,CAAA,IAEZ,OAAO,KAAA,CAAKrB,OAAL,CAAaY,KAAb,CAAmBmB,WAAnB,CAA+B,CACrChB,MAAAA,CADqC,CAC9BM,KAAAA,CAD8B,CACxBW,IAFJA,QAC4B,CACnBxxG,KAAAA,CADmB,CAA/B,CAAA,CAEJoE,IAFI,CAEC,QAAQ,CAAC0sG,CAAD,CAAO,CACtB,MAAO,CACNP,MAAAA,CADM,CACCM,KAAAA,CADD,CACOW,IALLA,QAIF,CACYxxG,KAAAA,CADZ,CAENyxG,IAAKX,CAALW,CAAU3mH,IAAV2mH,CAAeA,GAFT,CAGNhN,KAAMiN,IAAA,CAAKZ,CAAL,CAAUhmH,IAAV,CAAe6zB,OAAf,CAHA,CADe,CAAf,CAMNjvC,IANM,CAMD,IANC,CAFD,CAHyB,CA/DkB,CA+EnDiiI,cAAeA,QAAQ,CAACpB,CAAD,CAAQM,CAAR,CAAc,CACpC,MAAO,KAAA,CAAKJ,eAAL,CAAqBF,CAArB,CAA2B,GAA3B,CAA+BM,CAA/B,CAAA,CAAqCzsG,IAArC,CAA0C,QAAQ,CAAC0sG,CAAD,CAAO,CAC/D,MAAO,CAAA,CADwD,CAAf,CAE/CphI,IAF+C,CAE1C,IAF0C,CAA1C,CAEO,QAAQ,CAAC67H,CAAD,CAAM,CAC3BjsF,OAAA,CAAQ1rC,GAAR,CAAY23H,CAAZ,CACA,OAAO,CAAA,CAFoB,CAAd,CAGZ77H,IAHY,CAGP,IAHO,CAFP,CAD6B,CA/Ec;AAwFnDkiI,sBAAuBA,QAAQ,CAACrB,CAAD,CAAQM,CAAR,CAAcgB,CAAd,CAAwB,CACtD,MAAO,KAAA,CAAKrC,OAAL,CAAaY,KAAb,CAAmB0B,8BAAnB,CAAkD,CACxDvB,MAAAA,CADwD,CACjDM,KAAAA,CADiD,CAC3CgB,SAAAA,CAD2C,CAAlD,CAAA,CAEJztG,IAFI,CAEC,QAAQ,CAAC0sG,CAAD,CAAO,CACtB,MAAOA,EAAP,CAAYhmH,IAAZ,CAAiBinH,UADK,CAAf,CAENriI,IAFM,CAED,IAFC,CAFD,CAIO,QAAQ,CAAC67H,CAAD,CAAM,CAC3B,MAAO,MADoB,CAAd,CAEZ77H,IAFY,CAEP,IAFO,CAJP,CAD+C,CAxFJ,CAkGnDsiI,SAAUA,QAAc,CAACzB,CAAD,CAAQM,CAAR,CAAc7wG,CAAd,CAAoB2e,CAApB,CAA6BnwB,CAA7B,CAAqC4e,CAArC,CAA8CqkG,CAA9C,CAAmD,CAAA,IAAA,EAAA,IAAA,OAAA,QAAA,CAAA,mCAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,EAAA,CAAA,CAAA,WAAA,CAC1E,MAAYj9H,KAAAA,EAAZ,GAAIi9H,CAAJ,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CACO,CAAA,CAAA,KAAA,CAAM,CAAA,CAAKQ,gBAAL,CAAsB,CAAC1B,MAAAA,CAAD,CAAQM,KAAAA,CAAR,CAAcriH,OAAAA,CAAd,CAAsBwR,KAAAA,CAAtB,CAAtB,CAAN,CAAA,CAAA,CAFmE,EAAA,EAAA,CAAA,CAAA,WAAA,GAEzEyxG,CAFyE,CAEnE,CAFmE,CAEnE,WAFmE,CAI1E,OAAA,EAAA,CAAA,MAAA,CAAO,CAAA,CAAKjC,OAAL,CAAaY,KAAb,CAAmB8B,kBAAnB,CAAsC,CAAC3B,MAAAA,CAAD;AAAQM,KAAAA,CAAR,CAAc7wG,KAAAA,CAAd,CAAoB2e,QAASjK,IAAA,CAAKiK,CAAL,CAA7B,CAA4CnwB,OAAAA,CAA5C,CAAoD4e,QAAAA,CAApD,CAA6DqkG,IAAAA,CAA7D,CAAtC,CAAP,CAJ0E,CAAA,CAAA,CAlGxB,CA2GnDd,cAAeA,QAAQ,CAACwB,CAAD,CAAW,CAC7B,IAAA,EAAA,OAAA,CAAA,YAAA,CAAgBA,CAAA,CAAShgH,KAAT,CAAe,GAAf,CAAhB,CAACo+G,EAAAA,CAAD,CAAA,CAAA,IAAA,EAACA,CAAD,KAAQM,EAAAA,CAAR,CAAA,CAAA,IAAA,EAAQA,CAAR,KACJ,OAAO,CAACN,MAAAA,CAAD,CAAQM,KAAAA,CAAR,CAF0B,CA3GiB,CAgHnDD,cAAeA,QAAQ,CAACzxG,CAAD,CAAS,CAC/B,MAAO,KAAA,CAAKqwG,OAAL,CAAaY,KAAb,CAAmBgC,SAAnB,CAA6B,CACnC7B,MAAOpxG,CAAPoxG,CAAcA,KADqB,CAEnCM,KAAM1xG,CAAN0xG,CAAaA,IAFsB,CAGnCriH,OAAQ2Q,CAAR3Q,CAAeA,MAHoB,CAInCusC,QAAS,CACR,gBAAiB,EADT,CAJ0B,CAA7B,CAAA,CAOJ32B,IAPI,CAOC,QAAA,CAAC0sG,CAAD,CAAU,CACjB,MAAO,OAAA,CAAA,MAAA,CAAA,EAAA,CACH3xG,CADG,CAAA,CAEN+xG,YAAaJ,CAAbI,CAAkBpmH,IAAlBomH,CAAuBmB,MAAvBnB,CAA8BmB,MAA9BnB,CAAqClwH,IAArCkwH,CAA0CO,GAFpC,CAGNa,gBAAiBxB,CAAjBwB,CAAsBxnH,IAAtBwnH,CAA2BD,MAA3BC,CAAkCb,GAH5B,CAAA,CADU,CAPX,CADwB,CAhHmB,CAiInDQ,iBAAkBA,QAAc,CAAC9yG,CAAD,CAAS,CAAA,IAAA,EAAA,IAAA,CAClC,CADkC,CACjCoxG,CADiC,CAC1BM,CAD0B,CACpBriH,CADoB,CACZwR,CADY,CAElC,CAFkC,CAE3B,CAF2B;AAEpB,CAFoB,CAEP,CAFO,CAEE4K,CAFF,CAiBlC6mG,CAjBkC,OAAA,QAAA,CAAA,mCAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,EAAA,CAAA,CAAA,WAAA,CAEe,MADjD,EACiD,CADnBtyG,CACmB,CADhDoxG,CACgD,CADhD,CACgD,CADhD,KACgD,CADzCM,CACyC,CADzC,CACyC,CADzC,IACyC,CADnCriH,CACmC,CADnC,CACmC,CADnC,MACmC,CAD3BwR,CAC2B,CAD3B,CAC2B,CAD3B,IAC2B,CAAA,CAAA,CAAA,KAAA,CAAM,CAAA,CAAKwvG,OAAL,CAAaryF,OAAb,CAAqB,CACjF28B,OAAQ,MADyE,CAEjF5nC,IAAK,UAF4E,CAGjF/Z,MAAO,gCAAPA,CACsBo4G,CADtBp4G,CAAO,YAAPA,CACwC04G,CADxC14G,CAAO,sCAAPA,CAEwB3J,CAFxB2J,CAAO,GAAPA,CAEkC6H,CAFlC7H,CAAO,oGAH0E,CAArB,CAAA,CAY1DizG,KAZ0D,CAYpD,QAAQ,CAACx+F,CAAD,CAAQ,CACxB0S,OAAA,CAAQ1rC,GAAR,CAAYg5B,CAAZ,CADwB,CAZoC,CAAN,CAAA,CAAA,CAAjD,EAAA,CAAiD,CAAjD,CAAiD,WAA1C,EAAA,CAAN,CAAM,CAAN,IAAa,EAAA,CAAN,CAAM,CAAN,IAAmB,EAAA,CAAZ,CAAY,CAAZ,UAef6kG,EAAN,CAAY,CAf8B7mG,CAe9B,CAfsB,CAetB,CAfsB,MAetB;AAASA,CAAT,CAAgB2nG,GAAhB,CAAsB/9H,IAAAA,EAClC,OAAA,EAAA,CAAA,MAAA,CAAOi9H,CAAP,CAlBwC,CAAA,CAAA,CAjIU,CAsJnDL,kBAAmBA,QAAQ,CAACoB,CAAD,CAAe,CAEzC,IAAI5nG,EAAS,CAAC3yB,KAAM,QAAP,CAAiBoV,KAAM,EAAvB,CAA2B2S,KAAM,EAAjC,CAAqCwe,SAAU,EAA/C,CAAb,CACMi0F,EAAgBA,QAAA,CAACC,CAAD,CAAeC,CAAf,CAAoC,CAIzD,MAHmBD,EAAAE,CAAap0F,QAAbo0F,CAAsBh7D,IAAtBg7D,CAA2B,QAAA,CAAApiI,CAAA,CAAM,CAClD,MAAmB,QAAnB,GAAOA,CAAP,CAAUyH,IAAV,EAA+BzH,CAA/B,CAAkC6c,IAAlC,GAA2CslH,CADO,CAAjCC,CADsC,CAF5CJ,EAAAloD,CAAa1oE,MAAb0oE,CAAoB,QAAA,CAAAm6C,CAAA,CAAM,CAAA,MAAY,MAAZ,GAAAA,CAAA,CAAKxsH,IAAL,CAA1BqyE,CAqBd,CAAM/jE,OAAN,CAAc,QAAA,CAAAk+G,CAAA,CAAM,CACnB,IAAMoO,EAAepO,CAAA,CAAKzkG,IAAL,CAAU7N,KAAV,CAAgB,GAAhB,CACrB0gH,EAAA,CAAatsD,MAAb,CAAoB,QAAQ,CAACmsD,CAAD,CAAeI,CAAf,CAA4BC,CAA5B,CAA8C,CACzE,IAAMC,EAAYP,CAAA,CAAcC,CAAd,CAA4BI,CAA5B,CAClB,IAAIE,CAAJ,CACC,MAAOA,EACD,IAAWH,CAAX,CATYliI,MASZ,CATqB,CASrB,EAAyBoiI,CAAzB,CACsBL,CAb9B,CAAal0F,QAAb,CAAsBzrC,IAAtB,CADgBkgI,CAACh7H,KAAM,MAAPg7H,CAAe5lH,KAcdylH,CAdDG,CAAkCjzG,KAcpB0yG,CAdoB1yG,CAAsBA,IAAtBA,CAAM,GAANA,CAcjC8yG,CAdDG,CAChB,CAYQ,KAGN,OArBIC,EAECA,CAFc,CAACj7H,KAAM,QAAP,CAAiBoV,KAqBhBylH,CArBD,CAAsC9yG,KAqBxB0yG,CArBwB1yG,CAAsBA,IAAtBA,CAAM,GAANA,CAqBrC8yG,CArBD,CAAqFt0F,SAAS,EAA9F,CAEd00F,CAmB4BR,CApBnC,CAAal0F,QAAb,CAAsBzrC,IAAtB,CAA2BmgI,CAA3B,CACOA;AAAAA,CAYmE,CAA1E,CASGtoG,CATH,CAFmB,CAApB,CAaA,OAAOA,EAnCkC,CAtJS,CAApD,C,CCAA78B,GAAA,CAAIk2B,MAAJ,CAAW,qCAAX,CAAkD,CACjDyI,OAAQ,yBADyC,CAEjD39B,MAAO,oBAF0C,CAGjD7C,OAAQ,CACPinI,SAAU,OADH,CAEPC,aAAc5+H,IAAAA,EAFP,CAGPk8H,OAAQl8H,IAAAA,EAHD,CAIPwrB,KAAMxrB,IAAAA,EAJC,CAHyC,CAUjDg7H,QAASh7H,IAAAA,EAVwC,CAYjDjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EAEnB,KAAA,CAAKsjI,OAAL,CAAetjI,CAAf,CAAsBsjI,OAEnB,KAAA,CAAKviG,UAAL,CAAgBvjB,SAAhB,CAL0B,CAZmB,CAoBjD2xB,cAAeA,QAAQ,EAAG,CACzBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf49C,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAGPw2D,KAAM,OAHC,CADO,CAMfpnF,MAAO,CAAC,CACPmoB,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,SAFA,CAGPw2D,KAAM,OAHC,CADD,CAMPzmF,KAAM,CANC,CAOPX,MAAO,CAAC,CACPmoB,OAAQ,CACP93C,KAAM,WADC,CADD,CAIP2vB,MAAO,CAAC,CACP9yB,MAAO,iBADA;AAEP2uD,MAAO,CAAA,CAFA,CAGP77B,MAAO,CACN74B,MAAO,YADD,CAENg5B,WAAY,kCAFN,CAGNC,WAAY,KAHN,CAIN+nB,OAAQ,MAJF,CAKNnoB,MAAO,CAAC,CACP4K,SAAU,OADH,CAEPnlB,KAAM,UAFC,CAGPklB,WAAY,OAHL,CAIPI,QAAS,CAAA,CAJF,CAAD,CAKL,CACDH,SAAU,cADT,CAEDnlB,KAAM,UAFL,CAGDklB,WAAY,cAHX,CALK,CASL,CACDC,SAAU,qBADT,CAEDnlB,KAAM,UAFL,CAGDklB,WAAY,qBAHX,CATK,CALD,CAmBNrjC,UAAW,CACVykC,OAAQA,QAAQ,CAACuQ,CAAD,CAAQmvF,CAAR,CAAmBz2B,CAAnB,CAA6B,CAAA,IAAA,EAAA,IAC5C,KAAA,CAAK02B,WAAL,CAAiBD,CAAjB,CAA2BF,QAA3B,CACA,KAAA,CAAKI,SAAL,CAAe,CAAA,CAAf,CACA,KAAA,CAAK/D,OAAL,CAAaQ,4BAAb,CAA0C,IAAA,CAAKwD,WAAL,EAA1C,CAA8D,CAA9D,CAAiE,GAAjE,CAAA,CAAsEpvG,IAAtE,CAA2E,QAAA,CAAC0sG,CAAD,CAAU,CACpF,CAAA,CAAK2C,cAAL,CAAoB3C,CAApB,CAAyBhmH,IAAzB,CADoF,CAArF;AAEE,QAAA,CAAC8hB,CAAD,CAAW,CACZ0S,OAAA,CAAQ1rC,GAAR,CAAYg5B,CAAZ,CADY,CAFb,CAH4C,CADnC,CAUV38B,MAAO,IAVG,CAnBL,CAHA,CAmCPf,UAAW,CACV60E,OAAQA,QAAQ,EAAG,CAAA,IAAA,EAAA,IAClB,KAAA,CAAKwvD,SAAL,CAAe,CAAA,CAAf,CACA,KAAA,CAAK/D,OAAL,CAAaQ,4BAAb,CAA0C,IAAA,CAAKwD,WAAL,EAA1C,CAA8D,CAA9D,CAAiE,GAAjE,CAAA,CAAsEpvG,IAAtE,CAA2E,QAAA,CAAC0sG,CAAD,CAAU,CACpF,CAAA,CAAK2C,cAAL,CAAoB3C,CAApB,CAAyBhmH,IAAzB,CADoF,CAArF,CAEE,QAAA,CAAC8hB,CAAD,CAAW,CACZ0S,OAAA,CAAQ1rC,GAAR,CAAYg5B,CAAZ,CADY,CAFb,CAFkB,CADT,CASV38B,MAAO,IATG,CAnCJ,CAAD,CA8CL,CACD6E,MAAO,qBADN,CAED2uD,MAAO,CAAA,CAFN,CAGD1T,OAAQ,MAHP,CAIDnoB,MAAO,CAAC,CACPG,WAAY,+BADL,CAEPC,WAAY,KAFL,CAGPj5B,MAAO,WAHA,CAAD,CAIL,CACD2e,KAAM,QADL,CAED3e,MAAO,QAFN,CAGDs4B,QAASA,QAAQ,CAACkvB,CAAD,CAAS,CAAA,IAAA,EAAA,IACrBm9E,EAAAA,CAAYn9E,CAAA,CAAOqN,IAAP,CAAY,WAAZ,CAAA,CAAyBzuB,QAAzB,EACE,GAAlB,GAAIu+F,CAAJ,GACC,IAAA,CAAKH,SAAL,CAAe,CAAA,CAAf,CACA;AAAA,IAAA,CAAK/D,OAAL,CAAac,eAAb,CAA6BoD,CAA7B,CAAwC,CAAxC,CAA2C,GAA3C,CAAA,CAAgDtvG,IAAhD,CAAqD,QAAA,CAAC0sG,CAAD,CAAU,CAC9D,CAAA,CAAK2C,cAAL,CAAoB3C,CAApB,CAAyBhmH,IAAzB,CAA8B8c,KAA9B,CAD8D,CAA/D,CAEE,QAAA,CAACgF,CAAD,CAAW,CACZ0S,OAAA,CAAQ1rC,GAAR,CAAYg5B,CAAZ,CADY,CAFb,CAFD,CAFyB,CAHzB,CAcD38B,MAAO,IAdN,CAJK,CAJN,CAwBDf,UAAW,CACV60E,OAAQA,QAAQ,EAAG,CAClB,IAAA,CAAKwvD,SAAL,EADkB,CADT,CAIVtjI,MAAO,IAJG,CAxBV,CA9CK,CAJA,CAAD,CAPA,CAAD,CAoHL,CACDs4B,KAAM,CADL,CAEDwnB,OAAQ,KAFP,CAGDhhD,MAAO,WAHN,CAID0kC,OAAQ,UAJP,CAKD3+B,MAAO,cALN,CAMDikD,WAAY,CAAA,CANX,CAOD46E,YAAa,CAAA,CAPZ,CAQDtyE,WAAY,CACX8R,UAAW,YADA,CAEXjkE,UAAW,CACV0kI,gBAAiBA,QAAQ,CAACjxH,CAAD,CAAOrO,CAAP,CAAc9D,CAAd,CAAkB,CAC1C,GAA6B,CAAA,CAA7B,GAAImS,CAAA,CAAKkxH,aAAL,EAAJ,CACC,OAAOlxH,CAAP,CAAYmI,IAAZ,CAAiB7S,IAAjB,EACC,KAAK,MAAL,CACC,IAAI26C,EAAKpiD,CAAA,CAAG2iC,aAAH,CAAiB,IAAjB,CACTplC,IAAA,CAAI8C,GAAJ,CAAQ+hD,CAAR,CAAA,CAAYwjB,MAAZ,CAAmB,qBAAnB,CACA;IAAA,CAAKo5D,OAAL,CAAaiB,eAAb,CAA6B9tH,CAAA,CAAK6V,KAAL,EAA7B,CAAA,CAA2C4L,IAA3C,CAAgD,QAAQ,CAAC0sG,CAAD,CAAO,CAC9D/iI,GAAA,CAAI8C,GAAJ,CAAQ+hD,CAAR,CAAA,CAAYujB,SAAZ,CAAsB,qBAAtB,CACA,KAAA,CAAK29D,qBAAL,CAA2BnxH,CAA3B,CAAiCmuH,CAAjC,CAF8D,CAAf,CAG9CphI,IAH8C,CAGzC,IAHyC,CAAhD,CAJF,CAFyC,CADjC,CAiBVugE,UAAWA,QAAQ,CAAC53B,CAAD,CAAO11B,CAAP,CAAanS,CAAb,CAAiB,CACnC,IAAA,CAAKujI,eAAL,CAAqBpxH,CAArB,CACA,KAAA,CAAK+tB,SAAL,CAAe,cAAf,CAA+B,IAA/B,CAAqC/tB,CAArC,CAA0CmI,IAA1C,CAA+C7S,IAA/C,CAAqD0K,CAArD,CAFmC,CAjB1B,CAqBV1S,MAAO,IArBG,CAFA,CARX,CAkCDm4B,MAAO,CACNlc,KAAM,CACLmB,KAAM,MADD,CAELhd,SAAU,EAFL,CADA,CAlCN,CApHK,CANQ,CAmKfnB,UAAW,CACVssE,SAAUA,QAAQ,EAAG,CAAA,IAAA,EAAA,IACpB,KAAA,CAAKp/C,IAAL,CAAU,WAAV,CAAA,CAAuBokE,UAAvB,CAAkC,CAAA,CAAlC,CACA,KAAA,CAAKgvC,OAAL,CAAaQ,4BAAb,CAA0C,IAAA,CAAKwD,WAAL,EAA1C,CAA8D,CAA9D,CAAiE,GAAjE,CAAA,CAAsEpvG,IAAtE,CAA2E,QAAA,CAAC0sG,CAAD,CAAU,CACpF,CAAA,CAAK2C,cAAL,CAAoB3C,CAApB,CAAyBhmH,IAAzB,CADoF,CAArF,CAEE,QAAA,CAAC8hB,CAAD,CAAW,CACZ0S,OAAA,CAAQ1rC,GAAR,CAAYg5B,CAAZ,CADY,CAFb,CAFoB,CADX,CAnKI,CAAhB,CA8KA;IAAA,CAAKK,UAAL,CAAgBvjB,SAAhB,CA/KyB,CApBuB,CAsMjDsqH,mBAAoBA,QAAQ,CAACrxH,CAAD,CAAOi6F,CAAP,CAAiB,CAC5C,GAAapoG,IAAAA,EAAb,GAAImO,CAAJ,CAAwB,CAEvB,IADIsxH,CACJ,CADiBtxH,CACjB,CAAsB,IAAtB,GAAOsxH,CAAP,EAAuD,MAAvD,GAA8BA,CAA9B,CAAyCnpH,IAAzC,CAA8C7S,IAA9C,CAAA,CACCg8H,CAAA,CAAaA,CAAb,CAAwBz/F,UAGzB,KAAA,CAAK0/F,SAAL,CAAeD,CAAA,CAAWz7G,KAAX,EAAf,CACA,KAAA,CAAK27G,OAAL,CAAaxxH,CAAA,CAAK6V,KAAL,EAAb,CAPuB,CAAxB,IASC,KAAA,CAAK07G,SAAL,CAAe1/H,IAAAA,EAAf,CACA,CAAA,IAAA,CAAK2/H,OAAL,CAAa3/H,IAAAA,EAAb,CAX2C,CAtMI,CAqNjD++H,UAAWA,QAAQ,CAAC/yC,CAAD,CAAa,CAC/B,IAAI4zC,EAAW,IAAA,CAAKh4G,IAAL,CAAU,WAAV,CACJg4G,EAAAloH,CAASmoH,WAATnoH,EACX,CAAKkuB,SAAL,EACAg6F,EAAA,CAASjwD,OAAT,EAAA,CAAmB7iD,OAAnB,EAEIk/D,EAAJ,EACC4zC,CAAA,CAAS5zC,UAAT,CAAoB,CAAA,CAApB,CAGD,KAAA,CAAKuzC,eAAL,CAAqBv/H,IAAAA,EAArB,CACA,KAAA,CAAKk8B,SAAL,CAAe,gBAAf,CAAiC,IAAjC,CAX+B,CArNiB,CAmOjD+iG,eAAgBA,QAAQ,CAACa,CAAD,CAAW,CAClC,IAAIF,EAAW,IAAA,CAAKh4G,IAAL,CAAU,WAAV,CACfg4G,EAAA,CAAS5zC,UAAT,CAAoB,CAAA,CAApB,CACIt0E,EAAAA,CAAOkoH,CAAA,CAASC,WAAT,EACPjE;CAAAA,CAAQkE,CAAA,CAAStyH,GAAT,CAAa,QAAA,CAAC6uH,CAAD,CAAU,CAClC,MAAO,CACNhiI,GAAIgiI,CAAJhiI,CAAS0lI,SADH,CAEN7mH,KAAMmjH,CAANnjH,CAAW6mH,SAFL,CAGNt7C,YAAa43C,CAAb53C,CAAkBA,WAHZ,CAINu7C,KAAM,CAAA,CAJA,CAKNv8H,KAAM,MALA,CAD2B,CAAvB,CASZiU,EAAA,CAAKsrB,WAAL,CAAiB44F,CAAjB,CAbkC,CAnOc,CAmPjD0D,sBAAuBA,QAAQ,CAACnxH,CAAD,CAAO8xH,CAAP,CAAwB,CACtDC,QAASA,EAAa,CAAC/1F,CAAD,CAAU,CAC/B,IAAIg2F,EAAa,CAChB9lI,GAAI8vC,CAAJ9vC,CAAYmxB,IADI,CAEhBtS,KAAMixB,CAANjxB,CAAcL,IAFE,CAGhBpV,KAAM0mC,CAAN1mC,CAAcA,IAHE,CAIhBu8H,KAAuB,MAAvBA,GAAM71F,CAAN61F,CAAcv8H,IAJE,CAMO,EAAA,CAAxB,GAAI08H,CAAJ,CAAeH,IAAf,GACCG,CACA,CADWtkI,QACX,CADsB,EACtB,CAAAsuC,CAAA,CAAQH,QAAR,CAAiBj4B,OAAjB,CAAyB,QAAA,CAAC3V,CAAD,CAAW,CACnC+jI,CAAA,CAAWtkI,QAAX,CAAoB0C,IAApB,CAAyB2hI,CAAA,CAAc9jI,CAAd,CAAzB,CADmC,CAApC,CAFD,CAMA,OAAO+jI,EAbwB,CAe5Bn2F,CAAAA,CAAWk2F,CAAA,CAAcD,CAAd,CAA8Bj2F,QAA9B,CACf77B,EAAA,CAAK60B,WAAL,CAAiBgH,CAAjB,CAA0BnuC,QAA1B,CAjBsD,CAnPN,CAAlD,C,CCAAtC,GAAA,CAAIk2B,MAAJ,CAAW,kCAAX,CAA+C,CAC9CyI,OAAQ,yBADsC,CAE9C39B,MAAO,iBAFuC,CAG9C7C,OAAQ,CACP0oI,YAAapgI,IAAAA,EADN,CAEPq9H,SAAUr9H,IAAAA,EAFH,CAHsC,CAQ9Cg7H,QAASh7H,IAAAA,EARqC,CAS9CqgI,SAAUrgI,IAAAA,EAToC,CAW9CjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EAEnB,KAAA,CAAKsjI,OAAL,CAAetjI,CAAf,CAAsBsjI,OACtB,KAAA,CAAKqF,QAAL,CAAgB3oI,CAAhB,CAAuB2oI,QAEvB,KAAA,CAAKC,cAAL,CAAoB5oI,CAApB,CAA2B0oI,WAA3B,CAEG,KAAA,CAAK3nG,UAAL,CAAgBvjB,SAAhB,CAR0B,CAXgB,CAsB9C2xB,cAAeA,QAAQ,EAAG,CACzBttC,GAAA,CAAIoE,KAAJ,CAAU,IAAV,CAAgB,CACf49C,OAAQ,CACP93C,KAAM,MADC,CAEP+2G,KAAM,OAFC,CAGPx2D,MAAO,SAHA,CADO,CAMf5wB,MAAO,CAAC,CACP74B,MAAO,oBADA,CAEPygI,QAAS,IAATA,CAAcA,OAFP,CAGP/7F,OAAQ,aAHD,CAIPlL,KAAM,CAJC,CAKPr5B,UAAW,CACV6lI,aAAcA,QAAQ,CAACh+F,CAAD;AAAM9+B,CAAN,CAAY0K,CAAZ,CAAkB,CACjCgmB,CAAAA,CAAO,IAAA,CAAKpO,SAAL,CAAe,UAAf,CAAA,CAA2B+V,OAA3B,EACP,KAAA,EAAA,OAAA,CAAA,YAAA,CAAgByG,CAAA,CAAIi+F,SAAJ,EAAA,CAAgB7iH,KAAhB,CAAsB,GAAtB,CAAhB,CAAA,CAACo+G,EAAD,CAAA,CAAA,IAAA,EAACA,CAAD,KAAQM,EAAAA,CAAR,CAAA,CAAA,IAAA,EAAQA,CAAR,KACNloG,EAAA,CAAK8H,SAAL,CAAe,CAAC8/F,MAAAA,CAAD,CAAQM,KAAAA,CAAR,CAAf,CACa,OAAb,GAAI54H,CAAJ,EACOg9H,CACN,CADuB,IAAA,CAAKC,iBAAL,CAAuBn+F,CAAA,CAAI+yE,OAAJ,EAAvB,CACvB,CAAAnhF,CAAA,CAAK8H,SAAL,CAAe,MAAA,CAAA,MAAA,CAAA,EAAA,CAAIwkG,CAAJ,CAAf,CAFD,EAGoB,QAAb,GAAIh9H,CAAJ,EACAk9H,CACN,CADep+F,CAAA,CAAI+yE,OAAJ,EAAA,CAAcl4G,OAAd,CAAsB,KAAtB,CAA6B,EAA7B,CACf,CAAA+2B,CAAA,CAAK8H,SAAL,CAAe,CAAC0kG,OAAAA,CAAD,CAAS1Q,KAAM,EAAf,CAAf,CAFM,EAGa,MAHb,GAGIxsH,CAHJ,EAIN0wB,CAAA,CAAK8H,SAAL,CAAe,CAAC0kG,OAAQ,EAAT,CAAa1Q,KAAM,EAAnB,CAAf,CAXsC,CAD9B,CAeV2Q,eAAgBA,QAAQ,CAACzyH,CAAD,CAAO,EAfrB,CAkBV1S,MAAO,IAlBG,CALJ,CAAD,CAyBL,CACDi5B,YAAa,IADZ,CAEDz6B,OAAQ,GAFP,CAGDshD,OAAQ,CACP93C,KAAM,MADC,CAEP+2G,KAAM,OAFC,CAHP,CAODjgH,MAAO,MAPN,CAQD0kC,OAAQ,UARP;AASD7L,MAAO,CAAC,CACP54B,KAAM,mEADC,CAAD,CAEL,CACDD,MAAO,WADN,CAEDghD,OAAQ,MAFP,CAGD2H,SAAU,CACT3oD,MAAO,WADE,CAETi5B,WAAY,KAFH,CAHT,CAODJ,MAAO,CAAC,CACPG,WAAY,aADL,CAEP1a,KAAM,OAFC,CAGPu1C,WAAY,CAAA,CAHL,CAIPnK,OAAQ,UAJD,CAAD,CAKL,CACD1wB,WAAY,iBADX,CAED66B,WAAY,CAAA,CAFX,CAGDv1C,KAAM,MAHL,CALK,CAPN,CAFK,CAmBL,CACDre,KAAM,6DADL,CAEDypD,OAAQ,UAFP,CAnBK,CAsBL,CACD1pD,MAAO,WADN,CAEDghD,OAAQ,MAFP,CAGD2H,SAAU,CACT3oD,MAAO,WADE,CAETi5B,WAAY,KAFH,CAHT,CAODJ,MAAO,CAAC,CACPG,WAAY,WADL,CAEP1a,KAAM,QAFC;AAGPu1C,WAAY,CAAA,CAHL,CAIPnK,OAAQ,UAJD,CAAD,CAKL,CACD1wB,WAAY,WADX,CAED66B,WAAY,CAAA,CAFX,CAGDv1C,KAAM,MAHL,CALK,CAPN,CAtBK,CAuCL,CA+BDomB,OAAQ,QA/BP,CAgCDzkC,KAAM,EAhCL,CAiCDypD,OAAQ,UAjCP,CAvCK,CATN,CAmFDvpD,UAAW,CACVmmI,eAAgBA,QAAQ,CAAC1sG,CAAD,CAAO2sG,CAAP,CAAc,CACrC,IAAA,CAAK5kG,SAAL,CAAe,oBAAf,CAAqC,IAArC,CAA2C4kG,CAA3C,CADqC,CAD5B,CAIVrlI,MAAO,IAJG,CAnFV,CAzBK,CANQ,CAyHff,UAAW,CACVssE,SAAUA,QAAQ,EAAG,CACpB,IAAA,CAAK+5D,QAAL,EADoB,CADX,CAIVtlI,MAAO,IAJG,CAzHI,CAAhB,CAiIA,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CAlIyB,CAtBoB,CA2J9C6rH,SAAUA,QAAQ,EAAG,CACpB,IAAA,CAAK/F,OAAL,CAAaK,2BAAb,EAAA,CAA2CzrG,IAA3C,CAAgD,QAAQ,CAAC0sG,CAAD,CAAO,CAC9D,IAAMe,EAAWf,CAAXe,CAAgB/mH,IAAhB+mH,CAAqB2D,KAC3B,KAAA,CAAKC,WAAL,CAAiB5D,CAAjB,CAEMlpG,EAAAA,CAAO,IAAA,CAAKpO,SAAL,CAAe,UAAf,CAAA,CAA2B+V,OAA3B,EACb,KAAMskG,EAAc,IAAA,CAAKc,cAAL,EACAlhI;IAAAA,EAApB,GAAIogI,CAAJ,EACOK,CACN,CADuB,IAAA,CAAKC,iBAAL,CAAuBN,CAAvB,CAAmC50G,IAAnC,CACvB,CAAA2I,CAAA,CAAK8H,SAAL,CAAe,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CACd8/F,MAAOqE,CAAPrE,CAAmBA,KADL,CAEdM,KAAM+D,CAAN/D,CAAkBA,IAFJ,CAAA,CAGXoE,CAHW,CAAf,CAFD,EAQCtsG,CAAA,CAAK8H,SAAL,CAAe,CAAC8/F,MAAOsB,CAAR,CAAf,CAd6D,CAAf,CAgB9CniI,IAhB8C,CAgBzC,IAhByC,CAAhD,CADoB,CA3JyB,CA+K9CwlI,kBAAmBA,QAAQ,CAACl1G,CAAD,CAAO,CAC3Bi1G,CAAAA,CAAiBj1G,CAAA,CAAK7N,KAAL,CAAW,GAAX,CACvB,KAAIsyG,EAAOwQ,CAAA,CAAeA,CAAf,CAA8BtkI,MAA9B,CAAqC,CAArC,CAAX,CACIwkI,EAAS,EACe,EAA5B,CAAIF,CAAJ,CAAmBtkI,MAAnB,GACCwkI,CADD,CACUF,CAAA,CAAe3hI,KAAf,CAAqB,CAArB,CAAwB,EAAxB,CAAA,CAA4BiE,IAA5B,CAAiC,GAAjC,CADV,CAGA,OAAO,CACN49H,OAAAA,CADM,CAEN1Q,KAAAA,CAFM,CAP0B,CA/KY,CA4L9CkR,OAAQA,QAAc,CAACC,CAAD,CAAa,CAAA,IAAA,EAAA,IAAA,CAC5BjtG,CAD4B,CAG3B,CAH2B,CAG1B4nG,CAH0B,CAGnBM,CAHmB,CAGbsE,CAHa,CAGL1Q,CAHK,CAI7BzkG,CAJ6B,CAS3B61G,CAT2B,CAY1B9D,CAZ0B,CAiBzBvjH,CAjByB,CAkBzBmwB,CAlByB,CAmBzBm3F,CAnByB,CAoBzBrE,CApByB,OAAA,QAAA,CAAA,mCAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA,WAAA,EAAA,KAAA,CAAA,CAC5B9oG,CAAN,CAAa,CAAA,CAAKpO,SAAL,CAAe,UAAf,CAAA,CAA2B+V,OAA3B,EACb,IAAI,CAAA3H,CAAA,CAAK06B,OAAL,EAAJ,CA4CO,CACN,CAAA,CAAK0yE,SAAL,CAAe,mBAAf;AAAoC,OAApC,CADM,EAAA,CAAA,MAAA,CAAA,CAAA,CAAA,MAAA,CA3CA,CAAA,CAA8BptG,CAAA,CAAKK,SAAL,EAA7BunG,EAAA,CAAA,CAAA,CAAA,KAAOM,EAAA,CAAA,CAAA,CAAA,IAAMsE,EAAA,CAAA,CAAA,CAAA,MAChBn1G,EAAJ,CAD4BykG,CAC5B,CAD4B,CAC5B,CAD4B,IAEb,GAAf,GAAI0Q,CAAJ,GACCn1G,CADD,CACQm1G,CADR,CACe,GADf,CACmB1Q,CADnB,CAGA,EAAA,CAAKsR,SAAL,CAAe,qBAAf,CACmB,OAAA,EAAA,CAAA,KAAA,CAAM,CAAA,CAAKvG,OAAL,CAAamC,aAAb,CAA2BpB,CAA3B,CAAkCM,CAAlC,CAAN,CAAA,CAAA,CATc,MAAA,CAAA,CAS3BgF,CAAN,CAAmB,CAAnB,CAAmB,WACnB,IAAIA,CAAAA,CAAJ,CAiCO,CACN,CAAA,CAAKE,SAAL,CAAe,yCAAf,CAA0D,OAA1D,CADM,EAAA,CAAA,MAAA,CAAA,CAAA,CAAA,MAAA,CAhCN,CAAA,CAAKA,SAAL,CAAe,sBAAf,CACmB,OAAA,EAAA,CAAA,KAAA,CAAM,CAAA,CAAKvG,OAAL,CAAaoC,qBAAb,CAAmCrB,CAAnC,CAA0CM,CAA1C,CAAgD,CAAA,CAAKmF,WAAL,EAAhD,CAAN,CAAA,CAAA,CAZa,MAAA,CAAA,CAY1BjE,CAAN,CAAmB,CAAnB,CAAmB,WACnB,IAAmB,MAAnB,GAAIA,CAAJ,EAA4C,MAA5C,GAA6BA,CAA7B,CAAoD,CACnD,CAAA,CAAKgE,SAAL,CAAe,uDAAf;AAAyE,OAAzE,CADmD,EAAA,CAAA,MAAA,CAAA,CAAA,CAAA,MAAA,CAGnD,CAAA,CAAKA,SAAL,CAAe,eAAf,CACMvnH,EAAN,CAAe,QACTmwB,EAAN,CAAgB,CAAhB,CAAqBk2F,QACfiB,EAAN,CAAiB,CAACvF,MAAAA,CAAD,CAAQM,KAAAA,CAAR,CAAcriH,OAAAA,CAAd,CAAsBwR,KAAAA,CAAtB,CACL,OAAA,EAAA,CAAA,KAAA,CAAM,CAAA,CAAKwvG,OAAL,CAAayC,gBAAb,CAA8B6D,CAA9B,CAAN,CAAA,CAAA,CApBmB,MAAA,CAAA,CAoBzBrE,CApByB,CAoBnB,CApBmB,CAoBnB,WApBmB,CAqBnBj9H,IAAAA,EAAZ,GAAIi9H,CAAJ,CAEC,CAAA,CAAKjC,OAAL,CAAawC,QAAb,CAAsBzB,CAAtB,CAA6BM,CAA7B,CAAmC7wG,CAAnC,CAAyC2e,CAAzC,CAAkDnwB,CAAlD,CADgB4e,wBAChB,CAAmEqkG,CAAnE,CAAA,CAAwErtG,IAAxE,CAA6E,QAAQ,CAAC0sG,CAAD,CAAO,CAC3F,IAAA,CAAKiF,SAAL,CAAe,cAAf,CACArgI,WAAA,CAAW,QAAQ,EAAG,CACrB,IAAA,CAAKg7B,SAAL,CAAe,WAAf,CAA4B,IAA5B,CAAkColG,CAAlC,CADqB,CAAX,CAETpmI,IAFS,CAEJ,IAFI,CAAX,CAEc,GAFd,CAF2F,CAAf,CAK3EA,IAL2E,CAKtE,CALsE,CAA7E,CAKc,QAAQ,CAACk9B,CAAD,CAAQ,CAC7B,IAAA,CAAKmpG,SAAL,CAAe,SAAf,CAAyBnpG,CAAzB,CAA+BQ,OAA/B,CAAwC,OAAxC,CAD6B,CAL9B,CAFD,CAYC,CAAA,CAAKoiG,OAAL,CAAawC,QAAb,CAAsBzB,CAAtB,CAA6BM,CAA7B,CAAmC7wG,CAAnC,CAAyC2e,CAAzC,CAAkDnwB,CAAlD,CADgB4e,wBAChB,CAAA,CAAmEhJ,IAAnE,CAAwE,QAAQ,CAAC0sG,CAAD,CAAO,CACtF,IAAA,CAAKiF,SAAL,CAAe,cAAf,CACArgI;UAAA,CAAW,QAAQ,EAAG,CACrB,IAAA,CAAKg7B,SAAL,CAAe,WAAf,CAA4B,IAA5B,CAAkColG,CAAlC,CADqB,CAAX,CAETpmI,IAFS,CAEJ,IAFI,CAAX,CAEc,GAFd,CAFsF,CAAf,CAKtEA,IALsE,CAKjE,CALiE,CAAxE,CAKc,QAAQ,CAACk9B,CAAD,CAAQ,CAC7B,IAAA,CAAKmpG,SAAL,CAAe,SAAf,CAAyBnpG,CAAzB,CAA+BQ,OAA/B,CAAwC,OAAxC,CAD6B,CAL9B,CAjC8B,CAAA,CAAA,CAAA,SAAA,EAAA,CAAA,CAAA,CAAA,CA5LW,CA+O9C2oG,UAAWA,QAAQ,CAAC3oG,CAAD,CAAUn1B,CAAV,CAAgB,CAClC,IAAIm8C,EAAM,EACNn8C,EAAJ,EAAqB,OAArB,GAAYA,CAAZ,GACCm8C,CADD,CACO,8BADP,CAGA,KAAA,CAAK75B,SAAL,CAAe,QAAf,CAAA,CAAyB26B,OAAzB,CAAiC,eAAjC,CAAiDd,CAAjD,CAAiC,IAAjC,CAAyDhnB,CAAzD,CAAiC,SAAjC,CALkC,CA/OW,CAA/C,C,CCAAr/B,GAAA,CAAIk2B,MAAJ,CAAW,sCAAX,CAAmD,CAClDyI,OAAQ,eAD0C,CAElDyC,SAAU,CAAC,uCAAD,CAAyC,qCAAzC,CAA+E,kCAA/E,CAFwC,CAGlDsL,MAAO,sBAH2C,CAIlDvuC,OAAQ,CACPinI,SAAU,OADH,CAEPyB,YAAapgI,IAAAA,EAFN,CAJ0C,CASlDm7H,UAAWn7H,IAAAA,EATuC,CAUlDyhI,eAAgBzhI,IAAAA,EAVkC,CAYlD0hI,cAAe1hI,IAAAA,EAZmC,CAclDjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EAChB,KAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CAF0B,CAdoB,CAmBlD2xB,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKpO,UAAL,CAAgBvjB,SAAhB,CADyB,CAnBwB,CAuBlDgf,MAAOA,QAAQ,EAAG,CACUl0B,IAAAA,EAA3B,GAAI,IAAJ,CAAS0hI,aAAT,GACC,IAAA,CAAKA,aAAL,CAAmBxtG,KAAnB,EACA;AAAA,IAAA,CAAKwtG,aAAL,CAAqB1hI,IAAAA,EAFtB,CADiB,CAvBgC,CA8BlD2hI,iBAAkBA,QAAQ,CAAC/kG,CAAD,CAAW,CACpC,IAAMzlB,EAAS,IAAf,CAEIyqH,EAAU5hI,IAAAA,EACd4hI,EAAA,CAAUroI,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACzCxxB,MAAO,0BADkC,CAEzCnG,MAAO,GAFkC,CAGzCF,OAAQ,GAHiC,CAIzC0tF,SAAU,CAAA,CAJ+B,CAKzCpsC,OAAQ,CACP93C,KAAM,MADC,CAEPugD,MAAO,QAFA,CAGPw2D,KAAM,QAHC,CALiC,CAUzCpnF,MAAO,CAAC,CACP54B,KAAM,iGADC,CAAD,CAEL,CACDD,MAAO,QADN,CAED2e,KAAM,uBAFL,CAGD2Z,QAASA,QAAQ,CAACkvB,CAAD,CAAS,CACzB8/E,QAASA,EAAkB,CAAC39H,CAAD,CAAQ,CAC9BA,CAAJ,CAAU49H,MAAV,GAAqB/4H,MAArB,CAA4BgoB,QAA5B,CAAqC+wG,MAArC,EAA8D,kBAA9D,GAA+C59H,CAA/C,CAAqDoS,IAArD,GACCvN,MAAA,CAAOg5H,mBAAP,CAA2B,SAA3B;AAAsCF,CAAtC,CAA0D,CAAA,CAA1D,CAIA,CAHA39H,CAAA,CAAMmU,MAAN,CAAa6b,KAAb,EAGA,CAFA/c,CAAA,CAAO6qH,kBAAP,EAEA,CADAjgF,CAAA,CAAO9tB,EAAP,CAAU,QAAV,CAAA,CAAoBC,KAApB,EACA,CAAA0I,CAAA,CAAStsB,IAAT,CAAc6G,CAAd,CALD,CADkC,CASnCpO,MAAA,CAAOunH,IAAP,CAAYzgG,MAAA,CAAOC,WAAP,CAAmBgc,cAAnB,EAAZ,CAAgD,cAAhD,CAAgE,QAAhE,CACA/iC,OAAA,CAAO9N,gBAAP,CAAwB,SAAxB,CAAmC4mI,CAAnC,CAAuD,CAAA,CAAvD,CAXyB,CAHzB,CAFK,CAVkC,CA6BzChuG,QAAS,CAAC,CACT3a,KAAM,QADG,CAET2Z,QAASA,QAAQ,EAAG,CACnB1b,CAAA,CAAO+c,KAAP,EADmB,CAFX,CAAD,CA7BgC,CAAhC,CAoCV0tG,EAAA,CAAQ7mH,IAAR,EAEA,KAAA,CAAK2mH,aAAL,CAAqBE,CA1Ce,CA9Ba,CA2ElDK,SAAUA,QAAQ,EAAG,CACpB,IAAM9qH,EAAS,IAEf,KAAA,CAAKgkH,SAAL,CAAiB,IAAA,CAAK+G,cAAL,CAAoB,cAApB,CACjB,IAAuB,EAAvB,GAAI,IAAJ,CAAS/G,SAAT,CACC,IAAA,CAAKwG,gBAAL,CAAsB,IAAtB,CAA2BM,QAA3B,CADD,KAGO,CAA4BjiI,IAAAA,EAA5B,GAAI,IAAJ,CAASyhI,cAAT,EACN,IAAA,CAAKO,kBAAL,EAGD,KAAIG,EAAUniI,IAAAA,EACdmiI;CAAA,CAAU5oI,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACzCxxB,MAAO,kBADkC,CAEzCnG,MAAO,GAFkC,CAGzCF,OAAQ,GAHiC,CAIzC0tF,SAAU,CAAA,CAJ+B,CAKzCy6C,YAAa,CAAA,CAL4B,CAMzC7mF,OAAQ,KANiC,CAOzCnoB,MAAO,CACN74B,MAAO,oBADD,CAENygI,QAAS,IAATA,CAAcyG,cAFR,CAGNxiG,OAAQ,aAHF,CAINvkC,UAAW,CACV6lI,aAAcA,QAAQ,CAACh+F,CAAD,CAAM9+B,CAAN,CAAY0K,CAAZ,CAAkB,CAC1B,MAAb,GAAI1K,CAAJ,CACC0+H,CAAA,CAAQp8G,SAAR,CAAkB,MAAlB,CAAA,CAA0By+C,WAA1B,CAAsC,CAAA,CAAtC,CADD,CAGC29D,CAAA,CAAQp8G,SAAR,CAAkB,MAAlB,CAAA,CAA0By+C,WAA1B,CAAsC,CAAA,CAAtC,CAJsC,CAD9B,CAQVo8D,eAAgBA,QAAQ,CAACzyH,CAAD,CAAO,CAC9Bg0H,CAAA,CAAQp8G,SAAR,CAAkB,MAAlB,CAAA,CAA0By+C,WAA1B,CAAsC,CAAA,CAAtC,CAD8B,CARrB,CAJL,CAPkC,CAwBzC3wC,QAAS,CAAC,CACT3a,KAAM,eADG,CAET+lB,OAAQ,MAFC,CAGT2kC,SAAU,CAAA,CAHD,CAIT/wC,QAASA,QAAQ,EAAG,CACnB,IAAMwvG,EAAcF,CAAA,CAAQp8G,SAAR,CAAkB,aAAlB,CACpB;IAAA,CAAK+2G,QAAL,CAAcuF,CAAA,CAAY7B,SAAZ,EAAd,CAAuC6B,CAAA,CAAY/sB,OAAZ,EAAvC,CAFmB,CAJX,CAQT75G,MAAO,IARE,CAAD,CASP,CACDyd,KAAM,QADL,CAED2Z,QAASA,QAAQ,EAAG,CACnB1b,CAAA,CAAO+c,KAAP,EADmB,CAFnB,CATO,CAxBgC,CAAhC,CAwCViuG,EAAA,CAAQpnH,IAAR,EAEA,KAAA,CAAK2mH,aAAL,CAAqBS,CA/Cd,CAPa,CA3E6B,CAoIlDG,SAAUA,QAAQ,CAAChsH,CAAD,CAAO,CACxB,IAAMa,EAAS,IAEf,KAAA,CAAKgkH,SAAL,CAAiB,IAAA,CAAK+G,cAAL,CAAoB,cAApB,CACjB,IAAuB,EAAvB,GAAI,IAAJ,CAAS/G,SAAT,CACC,IAAA,CAAKwG,gBAAL,EADD,KAGO,CAA4B3hI,IAAAA,EAA5B,GAAI,IAAJ,CAASyhI,cAAT,EACN,IAAA,CAAKO,kBAAL,EAGD,KAAIO,EAAUviI,IAAAA,EACduiI,EAAA,CAAUhpI,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACzCxxB,MAAO,gBADkC,CAEzCnG,MAAO,GAFkC,CAGzCF,OAAQ,GAHiC,CAIzC0tF,SAAU,CAAA,CAJ+B,CAKzCy6C,YAAa,CAAA,CAL4B,CAMzC7mF,OAAQ,KANiC,CAOzCnoB,MAAO,CACN74B,MAAO,iBADD,CAENygI,QAAS,IAATA,CAAcyG,cAFR;AAGNrB,YAAa,IAAA,CAAKc,cAAL,EAHP,CAINb,SAAU/pH,CAJJ,CAKN2oB,OAAQ,WALF,CAMNvkC,UAAW,CACV8nI,mBAAoBA,QAAQ,CAACjgG,CAAD,CAAMu+F,CAAN,CAAa,CACxCyB,CAAA,CAAQx8G,SAAR,CAAkB,MAAlB,CAAA,CAA0By+C,WAA1B,CAAsC,CAACs8D,CAAvC,CADwC,CAD/B,CAIV2B,UAAWA,QAAQ,CAAClgG,CAAD,CAAM++F,CAAN,CAAgB,CAClCnqH,CAAA,CAAO+kB,SAAP,CAAiB,WAAjB,CAA8B/kB,CAA9B,CAAsCmqH,CAAtC,CADkC,CAJzB,CANL,CAPkC,CAsBzCztG,QAAS,CAAC,CACT3a,KAAM,MADG,CAET+lB,OAAQ,MAFC,CAGT2kC,SAAU,CAAA,CAHD,CAIT/wC,QAASA,QAAQ,EAAG,CACnB0vG,CAAA,CAAQx8G,SAAR,CAAkB,WAAlB,CAAA,CAA+Bo7G,MAA/B,EADmB,CAJX,CAOT1lI,MAAO,IAPE,CAAD,CAQP,CACDyd,KAAM,QADL,CAED2Z,QAASA,QAAQ,EAAG,CACnB1b,CAAA,CAAO+c,KAAP,EACA/c,EAAA,CAAO+kB,SAAP,CAAiB,eAAjB,CAAkC/kB,CAAlC,CAFmB,CAFnB,CARO,CAtBgC,CAAhC,CAsCVorH,EAAA,CAAQxnH,IAAR,EAEA,KAAA,CAAK2mH,aAAL,CAAqBa,CA7Cd,CAPiB,CApIyB,CA2LlDL,eAAgBA,QAAQ,CAACQ,CAAD,CAAa,CAEpC,IAAMC,EAAS,CAAC,GAAD,CAAK7nI,QAAL,CAAc8nI,MAAd,EAAsBn9H,KAAtB,CADJgX,IAAIC,MAAJD,CAAW,MAAXA;AAAkBimH,CAAlBjmH,CAA6B,aAA7BA,CACI,CACf,OAAIimH,EAAJ,EAAkBC,CAAlB,CAAiCxiG,QAAA,CAASwiG,CAAA,CAAO,CAAP,CAAT,CAAjC,CACO,EAJ6B,CA3La,CAkMlDX,mBAAoBA,QAAQ,EAAG,CAC9B,IAAA,CAAK7G,SAAL,CAAiB,IAAA,CAAK+G,cAAL,CAAoB,cAApB,CACjB,KAAA,CAAKT,cAAL,CAAsB,IAAI5xG,MAAJ,CAAWwa,QAAX,CAAoBw4F,MAApB,CAA2BC,cAA3B,CAA0C,CAC/D3H,UAAW,IAAXA,CAAgBA,SAD+C,CAA1C,CAFQ,CAlMmB,CAyMlD4H,eAAgBA,QAAQ,CAAC1oI,CAAD,CAAK,CAC5B,IAAMmjC,EAAQ4d,kBAAA,CAAmB/gD,CAAnB,CAAA,CAAuBsjB,KAAvB,CAA6B,GAA7B,CACM,EAApB,EAAI6f,CAAJ,CAAUrhC,MAAV,GACO+/H,CAEN,CAFe1+F,CAAA,CAAM,CAAN,CAEf,CAFwB,GAExB,CAF4BA,CAAA,CAAM,CAAN,CAE5B,CADMwlG,CACN,CADiBxlG,CAAA,CAAM1+B,KAAN,CAAY,CAAZ,CAAA,CAAeiE,IAAf,CAAoB,GAApB,CACjB,CAAA,IAAA,CAAK+5H,QAAL,CAAcZ,CAAd,CAAsB8G,CAAtB,CAHD,CAF4B,CAzMqB,CAkNlDlG,SAAUA,QAAQ,CAACZ,CAAD,CAAS8G,CAAT,CAAmB,CAAA,IAAA,EAAA,IACpC,KAAA,CAAK7H,SAAL,CAAiB,IAAA,CAAK+G,cAAL,CAAoB,cAApB,CACM,GAAvB,GAAI,IAAJ,CAAS/G,SAAT,CACC,IAAA,CAAKwG,gBAAL,CAAsB,IAAA,CAAK7E,QAAL,CAAc5hI,IAAd,CAAmB,IAAnB;AAAyBghI,CAAzB,CAAiC8G,CAAjC,CAAtB,CADD,EAGmChjI,IAAAA,EAGnC,GAHW,IAGX,CAHgByhI,cAGhB,EAFC,IAAA,CAAKO,kBAAL,EAED,CAAA,IAAA,CAAKP,cAAL,CAAoB3E,QAApB,CAA6BZ,CAA7B,CAAqC8G,CAArC,CAAA,CAA+CpzG,IAA/C,CAAoD,QAAA,CAACtZ,CAAD,CAAU,CAC7D,CAAA,CAAKgqH,cAAL,CAAoBhqH,CAApB,CACA,EAAA,CAAK4lB,SAAL,CAAe,YAAf,CAA6B,CAA7B,CAAmC5lB,CAAnC,CAF6D,CAA9D,CANA,CAFoC,CAlNa,CAAnD,C,CCAA/c,GAAA,CAAIk2B,MAAJ,CAAW,gCAAX,CAA6C,CAC5CyI,OAAQ,eADoC,CAE5CyC,SAAU,EAFkC,CAG5CsL,MAAO,EAHqC,CAI5CvuC,OAAQ,CACPurI,WAAYjjI,IAAAA,EADL,CAJoC,CAQ5CjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7BA,CAAA,CAASA,CAAT,EAAmB,EAChB,KAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CAF0B,CARc,CAa5C2xB,cAAeA,QAAQ,EAAG,CACzB,IAAA,CAAKpO,UAAL,CAAgBvjB,SAAhB,CADyB,CAbkB,CAiB5CotH,SAAUA,QAAQ,CAAChsH,CAAD,CAAO2hC,CAAP,CAAiBirF,CAAjB,CAAgC,CAAfA,CAAA,CAAA,IAAA,EAAA,GAAAA,CAAA,CAAW,EAAX,CAAAA,CAClC,KAAMz8G,EAAK,IAAX,CACM08G,EAA6B,EAA7BA,GAAcD,CAEpB3pI,IAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CAC/BxxB,MAFa6iI,CAAA7iI,CAAc,mBAAdA,CAAoC,6BAClB,CAE/B8yB,MAAO,CAAC,CACP74B,MAAO,MADA,CAEPJ,MAAO,GAFA,CAGPu6B,YAAa,CAHN,CAIPo4B,QAAS,CAAC,SAAD,CAJF,CAKPpyD,UAAW,CACV0oI,cAAeA,QAAQ,CAACriF,CAAD,CAAMrpD,CAAN,CAAcygC,CAAd,CAAmB,CACzC,MAAO,CAACzgC,CAAA,CAAO2rI,aAAP,CAAqBrnI,EAArB,CAAwBqnD,MAAxB,CAA+B,gBAA/B,CADiC,CADhC,CALJ;AAUP9H,OAAQ,QAVD,CAWP2H,SAAU,CACT1vB,WAAY,OADH,CAETC,WAAY,GAFH,CAGTt5B,MAAO,GAHE,CAITmpI,aAAc,oBAJL,CAKT/oI,MAAO,WALE,CAXH,CAkBD64B,MAAO,CAAC,CACbG,WAAY,aAAZA,EAA6B4vG,CAAA,CAAc,aAAd,CAA8B,EAA3D5vG,CADa,CAEb1a,KAAM,YAFO,CAGbzf,MAAO8pI,CAHM,CAIb90E,WAAY,CAAA,CAJC,CAKb+rE,SAAU,CAACgJ,CALE,CAMbxwG,QAAS,qFANI,CAOb07B,UAAWA,QAAQ,CAAClmC,CAAD,CAAM,CACxB,MAAW,EAAX,EAAIA,CAAJ,CACQ,CAAA,CADR,CAE0C,IAAnC,GAAIA,CAAA,CAAI1iB,KAAJ,CAAU,eAAV,CAAJ,CACC,0DADD,CAGC,CAAA,CANgB,CAPZ,CAAD,CAgBX,CACD8tB,WAAY,aADX,CAED1a,KAAM,YAFL,CAGDu1C,WAAY,CAAA,CAHX;AAIDh1D,MAAO+pI,CAAA,CAAc,IAAA,CAAKI,kBAAL,EAAd,CAA0C,IAAA,CAAKC,aAAL,EAJhD,CAKD7wG,QAAS,yDALR,CAMD07B,UAAWA,QAAQ,CAAClmC,CAAD,CAAM,CACxB,MAAmC,KAAnC,GAAIA,CAAA,CAAI1iB,KAAJ,CAAU,eAAV,CAAJ,CACQ,mEADR,CAGQ,CAAA,CAJgB,CANxB,CAhBW,CA6BX,CACD8tB,WAAY,kBADX,CAED1a,KAAM,OAFL,CAGDu1C,WAAY,CAAA,CAHX,CAIDq1E,MAAO,OAJN,CAKDhiI,OAAQ,CAAC0hI,CALR,CAMDxwG,QAAS,8EANR,CA7BW,CAlBN,CAAD,CAFwB,CA0D/BkB,QAAS,CAAC,CACA3a,KAAM,QADN,CAEA4a,GAAI,iBAFJ,CAGAjB,QAASA,QAAQ,EAAG,CAChB,IAAA,CAAKoB,EAAL,CAAQ,QAAR,CAAA,CAAkBC,KAAlB,EACZzN;CAAA,CAAGyV,SAAH,CAAa,eAAb,CAA8BzV,CAA9B,CAF4B,CAHpB,CAAD,CAOA,GAPA,CAOK,CACJvN,KAAM,MADF,CAEJ2Z,QAASA,QAAQ,CAACkvB,CAAD,CAAS,CAClC,IAAMlgC,EAAMkgC,CAAA,CAAO9tB,EAAP,CAAU,QAAV,CAAZ,CACME,EAAOtS,CAAA,CAAI+F,IAAJ,CAAS,MAAT,CAAA,CAAiBkU,OAAjB,EACb,IAAI3H,CAAA,CAAK06B,OAAL,EAAJ,CAAoB,CACnB,IAAMt6B,EAASJ,CAAA,CAAKK,SAAL,EACfD,EAAA,CAAOje,IAAP,CAAcA,CACdie,EAAA,CAAO0jB,QAAP,CAAkBA,CACdkrF,EAAJ,EAAyC,EAAzC,GAAmB5uG,CAAnB,CAA0B2uG,UAA1B,CACCz8G,CAAA,CAAGi9G,mBAAH,CAAuBnvG,CAAvB,CAA8B2uG,UAA9B,CAAA,CAA0CtzG,IAA1C,CAA+C,QAAQ,CAACk8B,CAAD,CAAS,CAC3DA,CAAJ,CACC33B,CAAA,CAAKwvG,SAAL,CAAe,YAAf,CAAA,CAA6BC,WAA7B,CAAyC,kCAAzC,CADD,EAGCn9G,CAAA,CAAG06G,MAAH,CAAU5sG,CAAV,CACA,CAAA1S,CAAA,CAAIqS,KAAJ,EAJD,CAD+D,CAAhE,CADD,EAUC6tB,CAAA,CAAOyiB,WAAP,CAAmB,CAAA,CAAnB,CACA,CAAA/9C,CAAA,CAAG06G,MAAH,CAAU5sG,CAAV,CAAA,CAAkB3E,IAAlB,CAAuB,QAAQ,CAACi0G,CAAD,CAAU,CACxC9hF,CAAA,CAAOyiB,WAAP,CAAmB,CAAA,CAAnB,CACIq/D,EAAJ,CACChiH,CAAA,CAAIqS,KAAJ,EADD,CAGCC,CAAA,CAAKwvG,SAAL,CAAe,YAAf,CAAA,CAA6BC,WAA7B,CAAyC,sBAAzC,CALuC,CAAzC,CAXD,CAJmB,CAHc,CAFtB,CAPL,CA1DsB,CAiG/BlpI,UAAW,CACVw5B,MAAOA,QAAQ,EAAG,CACjBzN,CAAA,CAAGyV,SAAH,CAAa,OAAb;AAAsBzV,CAAtB,CADiB,CADR,CAjGoB,CAAhC,CAAA,CAsGG1L,IAtGH,EAJiD,CAjBN,CA8H5C2oH,oBAAqBA,QAAQ,CAACrpI,CAAD,CAAK,CACjC,IAAMu9B,EAAM,IAAIr+B,GAAJ,CAAQ89B,QAEpB8hG,OAAA,CAAO2K,IAAP,CAAYC,QAAZ,CAAqB,CACpBpnG,KAAM,6BADc,CAEpBm6C,OAAQ,QAFY,CAGpBz8E,GAAIA,CAHgB,CAIpB65C,QAAS,CAJW,CAArB,CAAA,CAKGtkB,IALH,CAKQ,QAAQ,CAAC5X,CAAD,CAAO,CAEtB4f,CAAA,CAAIK,OAAJ,CADoC,MACpC,GADajgB,CACb,CADkBqyB,QAClB,CAD2B/zB,IAC3B,CAFsB,CALvB,CAAA,CAQGsgH,KARH,CAQS,QAAQ,CAACG,CAAD,CAAM,CACtBjsF,OAAA,CAAQ1rC,GAAR,CAAY23H,CAAZ,CADsB,CARvB,CAYA,OAAOn/F,EAAP,CAAWL,OAfsB,CA9HU,CAgJ5C4pG,OAAQA,QAAQ,CAAC,CAAD,CAAkD,CAAhD,IAAA+B,EAAD,CAACA,CAAA,UAAA,CAAYD,EAAb,CAAaA,CAAA,UAAZ,CAAwBe,EAAzB,CAAyBA,CAAA,KAAxB,CAA+B1tH,EAAhC,CAAgCA,CAAA,IAAM2hC,EAAAA,CAAtC,CAAsCA,CAAA,QACtD,KAAMxxB,EAAK,IACXwxB,EAAA,CAAS59C,EAAT,CAAc6oI,CAEd,OAAO/J,OAAA,CAAO2K,IAAP,CAAYC,QAAZ,CAAqB,CAC3BpnG,KAAM,6BADqB,CAE3Bm6C,OAAQ,MAFmB,CAG3Bz8E,GAAI6oI,CAHuB,CAI3BD,WAAYA,CAJe,CAK3Be,MAAOA,CALoB,CAM3B1tH,KAAMA,CANqB,CAO3B2hC,SAAU/4B,IAAA,CAAKE,SAAL,CAAe64B,CAAf,CAPiB,CAArB,CAAA,CAQJroB,IARI,CAQC,QAAQ,CAAC5X,CAAD,CAAO,CACtB,GAA2B,MAA3B;AAAIA,CAAJ,CAASqyB,QAAT,CAAkB/zB,IAAlB,CACC,MAAO,CAAA,CAEPmQ,EAAA,CAAGw9G,aAAH,CAAiBhB,CAAjB,CAEAx8G,EAAA,CAAGyV,SAAH,CAAa,WAAb,CAA0BzV,CAA1B,CADmBzO,CACnB,CADwBqyB,QACxB,CADiChwC,EACjC,CACA,OAAO,CAAA,CAPc,CARhB,CAAA,CAiBJu8H,KAjBI,CAiBE,QAAQ,CAACG,CAAD,CAAM,CACtBtwG,CAAA,CAAGyV,SAAH,CAAa,WAAb,CAA0BzV,CAA1B,CAA8B,IAA9B,CACA,OAAO,CAAA,CAFe,CAjBhB,CAJ0D,CAhJtB,CA2K5C88G,mBAAoBA,QAAQ,EAAG,CAG9B,IAFA,IAAMW,EAAW,4BAAA,CAAA,KAAA,CAAA,EAAA,CAAjB,CACIjyG,EAAO,EACX,CAAqB,CAArB,CAAOA,CAAP,CAAY91B,MAAZ,CAAA,CACC,GAAoB,EAApB,CAAIgD,IAAA,CAAKqK,MAAL,EAAJ,CACCyoB,CAAA,EAAQ9yB,IAAA,CAAKupB,KAAL,CAAyB,CAAzB,CAAWvpB,IAAA,CAAKqK,MAAL,EAAX,CADT,KAEO,CACN,IAAIohE,EAASs5D,CAAA,CAAS/kI,IAAA,CAAKupB,KAAL,CAAWvpB,IAAA,CAAKqK,MAAL,EAAX,CAAyB06H,CAAzB,CAAkC/nI,MAAlC,CAAT,CACO,GAApB,CAAIgD,IAAA,CAAKqK,MAAL,EAAJ,GACCohE,CADD,CACUA,CAAA,CAAO9wB,WAAP,EADV,CAGA7nB,EAAA,EAAQ24C,CALF,CAQR,MAAO34C,EAduB,CA3Ka,CA4L5C68B,MAAOA,QAAQ,EAAG,CACjB,IAAA,CAAKm1E,aAAL,CAAmBjkI,IAAAA,EAAnB,CADiB,CA5L0B,CAA7C,C,CCAAzG,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCyI,OAAQ,eAD+B,CAEvCyC,SAAU,EAF6B,CAGvCsL,MAAO,0BAHgC,CAIvCxU,QAAS,CACRG,KAAM,EADE,CAJ8B,CASvC7oB,OAAQ/I,IAAAA,EAT+B,CAWvC4zB,MAAO5zB,IAAAA,EAXgC,CAYvCylC,SAAUzlC,IAAAA,EAZ6B,CAcvCtI,OAAQ,EAd+B,CAgBvCqC,YAAaA,QAAQ,EAAG,CACvB,IAAA,CAAK65B,KAAL,CAAar6B,GAAA,CAAIu4B,MAAJ,CAAW,oBAAX,CAAiC,CAC7CC,OAAQ,CACP,CAAClZ,KAAM,IAAP,CADO,CAEP,CAACA,KAAM,QAAP,CAFO,CAGP,CAACA,KAAM,OAAP,CAHO,CAIP,CAACA,KAAM,aAAP,CAJO,CAKP,CAACA,KAAM,UAAP,CALO,CAMP,CAACA,KAAM,UAAP,CANO,CAOP,CAACA,KAAM,SAAP,CAPO,CAQP,CAACA,KAAM,SAAP,CAAkBpV,KAAM,MAAxB,CARO,CASP,CAACoV,KAAM,UAAP,CAAmBpV,KAAM,MAAzB,CATO,CAUP,CAACoV,KAAM,SAAP,CAVO,CADqC,CAAjC,CAcb,KAAA,CAAK4sB,QAAL,CAAgB,IAAIlsC,GAAJ,CAAQ4gD,SAAR,CACf,eADe,CAEd,kCAFc;AAGb,4BAHa,CAIb,yDAJa,CAKb,yFALa,CAMb,mJANa,CAOd,QAPc,CAQf,QARe,CAUhB,KAAA,CAAK1hB,UAAL,CAAgBvjB,SAAhB,CAzBuB,CAhBe,CA4CvC2xB,cAAeA,QAAQ,CAACnvC,CAAD,CAAS,CAC/B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CAD+B,CA5CO,CAgDvCivH,WAAYA,QAAQ,EAAG,CACFnkI,IAAAA,EAApB,GAAI,IAAJ,CAAS+I,MAAT,GACC,IADD,CACMA,MADN,CACexP,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX;AAAgC,CAC7CxxB,MAAO,qBADsC,CAE7CnG,MAAO,GAFsC,CAG7CF,OAAQ,GAHqC,CAI7CshD,OAAQ,CACP93C,KAAM,MADC,CAJqC,CAO7C6oD,YAAa,MAPgC,CAQ7Cl5B,MAAO,CAAC,CACP74B,MAAO,SADA,CAEPN,OAAQ,EAFD,CAGPwH,OAAQ,CAAA,CAHD,CAIP2xB,MAAO,CAAC,CACP74B,MAAO,aADA,CAEP2e,KAAM,MAFC,CAGP0Z,MAAO,mBAHA,CAIPwI,KAAM,CACL8nB,SAAU,CACT3oD,MAAO,eADE,CAET+nD,MAAO,WAFE,CADL,CAKLlvB,MAAO,CAAC,CACP6L,OAAQ,IADD,CAEP/lB,KAAM,IAFC,CAAD,CAGL,CACD+lB,OAAQ,SADP,CAED/lB,KAAM,SAFL,CAHK,CAML,CACD+lB,OAAQ,UADP,CAED/lB,KAAM,UAFL,CAGDilB,QAAS,CAAA,CAHR,CANK,CAUL,CACDc,OAAQ,OADP,CAED/lB,KAAM,OAFL,CAVK,CAaL,CACD+lB,OAAQ,QADP,CAED/lB,KAAM,QAFL,CAbK,CALF,CAsBLxe,UAAW,CACVoY,MAAOA,QAAQ,CAACsoB,CAAD,CAAO5d,CAAP,CAAa,CACvB4mH,CAAAA,CAA+C,mBAArC,GAAAhpG,CAAA,CAAKnH,EAAL,EAAA,CAAUgzD,QAAV,EAAA,CAAqBjgD,WAArB;AAA2D,MAA3D,CAAoE,KAElF,KAAA,CAAKpT,KAAL,CAAWv2B,IAAX,CADgBmgB,CAChB,CADqByhB,MACrB,CAA2BmlG,CAA3B,CACA,KAAA,CAAKr7H,MAAL,CAAY6e,IAAZ,CAAiB,YAAjB,CAAA,CAA+BkF,OAA/B,EAJ2B,CADlB,CAOVrxB,MAAO,IAPG,CAtBN,CAJC,CAoCPo3B,QAASA,QAAQ,CAACwxG,CAAD,CAAM,CAEtB,GAAmC,mBAAnC,GAAIA,CAAA,CAAIp9C,QAAJ,EAAJ,CAAmBjgD,WAAnB,CAAwD,CACvDq9F,CAAA,CAAIn9C,QAAJ,CAAa,mBAAb,CACA,KAAAk9C,EAAU,KAF6C,CAAxD,IAICC,EAAA,CAAIn9C,QAAJ,CAAa,mBAAb,CACA,CAAAk9C,CAAA,CAAU,MAEPE,EAAAA,CAAYD,CAAA,CAAIjpG,IAAJ,CAASxT,IAAT,CAAc,gBAAd,CAAZ08G,CAA4CrlG,MAChD,KAAA,CAAKrL,KAAL,CAAWv2B,IAAX,CAAgBinI,CAAhB,CAA2BF,CAA3B,CACA,KAAA,CAAKr7H,MAAL,CAAY6e,IAAZ,CAAiB,YAAjB,CAAA,CAA+BkF,OAA/B,EAXsB,CApChB,CAiDPrxB,MAAO,IAjDA,CAAD,CAJA,CAAD,CAuDL,CACDlB,MAAO,UADN,CAEDw5B,KAAM,CAFL,CAGD55B,MAAO,MAHN,CAIDoC,QAAS,EAJR,CAKDgoD,WAAY,UALX,CAMDtlB,OAAQ,WANP,CAODrL,MAAO,IAAPA,CAAYA,KAPX,CAQD4rB,IAAK,IAALA,CAAU/Z,QART,CASD+e,aAAc,wBATb;AAUDC,YAAa,yBAVZ,CAWDC,gBAAiB,6BAXhB,CAvDK,CARsC,CA4E7C7wB,QAAS,CAAC,CACT3a,KAAM,wBADG,CAET2Z,QAASA,QAAQ,CAACwxG,CAAD,CAAM,CAClB7gI,CAAAA,CAAS,IAAA,CAAKuF,MAAL,CAAY6e,IAAZ,CAAiB,YAAjB,CAAA,CAA+B08B,YAA/B,EAAA,CAA8C,CAA9C,CACEtkD,KAAAA,EAAf,GAAIwD,CAAJ,EACC,IAAA,CAAK04B,SAAL,CAAe,kBAAf,CAAmC,IAAnC,CAAyC14B,CAAA,CAAO9F,GAAP,CAAW,IAAX,CAAzC,CAHqB,CAFd,CAQTjC,MAAO,IARE,CAAD,CA5EoC,CAAhC,CADf,CAyFA,KAAA,CAAKsN,MAAL,CAAYgS,IAAZ,EACA,KAAA,CAAKwpH,YAAL,EA3FsB,CAhDgB,CA8IvCC,WAAYA,QAAQ,EAAG,CACFxkI,IAAAA,EAApB,GAAI,IAAJ,CAAS+I,MAAT,EACC,IAAA,CAAKA,MAAL,CAAYmrB,KAAZ,EAFqB,CA9IgB,CAoJvCqwG,aAAcA,QAAQ,CAAC5gH,CAAD,CAAQjsB,CAAR,CAAgB,CACrC,IAAA,CAAKqR,MAAL,CAAY23B,IAAZ,CAAiB,SAAjB,CACA,KAAA,CAAK33B,MAAL,CAAY6e,IAAZ,CAAiB,YAAjB,CAAA,CAA+By8B,iBAA/B,EAAA,CAAmDqE,WAAnD,EACG;IAAIjiC,EAAK,IACZ0yG,OAAA,CAAO2K,IAAP,CAAYC,QAAZ,CAAqB,CACpBpnG,KAAM,6BADc,CAEpBm6C,OAAQ,WAFY,CAGpB1xC,MAAO,GAHa,CAIpB8O,QAAS,CAJW,CAArB,CAAA,CAKGtkB,IALH,CAKQ,QAAQ,CAAC5X,CAAD,CAAO,CACtByO,CAAA,CAAG1d,MAAH,CAAUyhB,MAAV,EACIi6G,EAAAA,CAAYvlH,IAAA,CAAKC,KAAL,CAAWnH,CAAX,CAAgBqyB,QAAhB,CAAyB/zB,IAAzB,CAChBmQ,EAAA,CAAGmN,KAAH,CAASi2E,WAAT,CAAqB46B,CAArB,CAHsB,CALvB,CAAA,CASG7N,KATH,CASS,QAAQ,CAACG,CAAD,CAAM,CAACtwG,CAAA,CAAG1d,MAAH,CAAUyhB,MAAV,EAAD,CATvB,CAJqC,CApJC,CAAxC,C,CCIAjxB,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtC0kB,mBAAoB,CAAC,UAAD,CADkB,CAEtCjc,OAAQ,iBAF8B,CAGtCyC,SAAU,0NAAA,CAAA,KAAA,CAAA,GAAA,CAH4B,CAItCtK,OAAQ,CAAC,oBAAD,CAJ8B,CAKtC4V,MAAO,iBAL+B,CAMnCxU,QAAS,CACRG,KAAM,CACLtxB,MAAO,QADF,CAELokI,eAAgB,eAFX,CAGLC,cAAe,OAHV,CAILC,YAAa,yBAJR;AAKLC,eAAgB,WALX,CAMLC,iBAAkB,UANb,CAOLC,oBAAqB,aAPhB,CAQLC,gBAAiB,SARZ,CASLC,iBAAkB,UATb,CAULC,cAAe,OAVV,CAWLC,aAAc,MAXT,CAYLC,eAAgB,QAZX,CAaLC,QAAS,SAbJ,CAcLC,SAAU,UAdL,CAeLC,YAAa,eAfR,CAgBLC,iBAAkB,iCAhBb,CAiBLC,eAAgB,6BAjBX,CAkBLC,2BAA4B,iCAlBvB,CAmBLC,uBAAwB,4BAnBnB,CAoBLC,UAAW,MApBN;AAqBLC,QAAS,8DArBJ,CAsBLC,mBAAoB,iBAtBf,CAuBLC,qBAAsB,kIAvBjB,CADE,CA0BRv1G,IAAK,CACJuT,MAAO/jC,IAAAA,EADH,CAEJgmI,uBAAwBhmI,IAAAA,EAFpB,CAGJ2sG,IAAK3sG,IAAAA,EAHD,CA1BG,CA+BXy2H,gBAAiBz2H,IAAAA,EA/BN,CAN0B,CAuCnCtI,OAAQ,CAIPwrI,WAAYljI,IAAAA,EAJL,CAQPi4C,SAAUj4C,IAAAA,EARH,CAYPimI,SAAU,CAAA,CAZH,CAgBPC,QAAS,KAhBF,CAoBV1P,aAAcx2H,IAAAA,EApBJ,CAyBVmmI,gBAAiB,QAzBP,CAvC2B,CAmEtCC,eAAgBpmI,IAAAA,EAnEsB,CAoEtCqmI,qBAAsBrmI,IAAAA,EApEgB;AAqEtCsmI,cAAetmI,IAAAA,EArEuB,CAsEtCumI,gBAAiBvmI,IAAAA,EAtEqB,CAwEtCwmI,eAAgBxmI,IAAAA,EAxEsB,CA6EnCjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7Bm4B,MAAA,CAAOwa,QAAP,CAAgBs3D,QAAhB,CAAyB80B,eAAzB,CAA2C,IAC3Cl9H,IAAA,CAAIoE,KAAJ,CAAUjG,CAAV,CAAkB,CACjB4I,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADU,CAEdoH,WAAY,CAAA,CAFE,CAGjBoD,aAAc,CAChB,KAAQ,CAAA,CADQ,CAEhB,KAAQ,CAAA,CAFQ,CAGb,KAAQ,CAAA,CAHK,CAIb,OAAU,CACT/J,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CADA,CAET+M,OAAQ,YAFC,CAGT1kC,MAAO,UAHE,CAITq4B,MAAO,mBAJE,CAKZgxC,SAAU,CAAA,CALE,CAMZxwC,MAAO,CAAC,CACPla,KAAM,MADC,CAEP3e,MAAO,UAFA,CAGPq4B,MAAO,mBAHA,CAIPC,QAAS,IAAA,CAAK4zG,cAAL,CAAoBvrI,IAApB,CAAyB,IAAzB,CAA+B,CAAA,CAA/B,CAJF,CAKPO,MAAO,IALA,CAAD,CAML,CACDyd,KAAM,YADL,CAED3e,MAAO,UAFN;AAGDq4B,MAAO,mBAHN,CAIDC,QAAS,IAAA,CAAK4zG,cAAL,CAAoBvrI,IAApB,CAAyB,IAAzB,CAA+B,CAAA,CAA/B,CAJR,CAKDO,MAAO,IALN,CANK,CAYL,GAZK,CAYD,CACLyd,KAAM,SADD,CAEL3e,MAAO,UAFF,CAGL6gC,KAAM,CACLhI,MAAO,CAAC,CACPla,KAAM,QADC,CAEP3e,MAAO,eAFA,CAGP+nD,MAAO,iBAHA,CAIPnkB,QAAS,CAAA,CAJF,CAKPtL,QAAS,IAAA,CAAK6zG,kBAAL,CAAwBxrI,IAAxB,CAA6B,IAA7B,CAAmC,QAAnC,CALF,CAMPO,MAAO,IANA,CAAD,CAOL,CACDyd,KAAM,QADL,CAED3e,MAAO,eAFN,CAGD+nD,MAAO,iBAHN,CAIDnkB,QAAS,CAAA,CAJR,CAKDtL,QAAS,IAAA,CAAK6zG,kBAAL,CAAwBxrI,IAAxB,CAA6B,IAA7B,CAAmC,QAAnC,CALR,CAMDO,MAAO,IANN,CAPK,CADF,CAHD,CAZC,CANK,CAJG,CA4Cb,MAAO,CACNk3B,QAAS,IAAA,CAAKT,QAAL,CAAc,QAAd,CADH,CAEN0K,SAAUA,QAAQ,EAAG,CACjB,IAAIc,EAAM,IAAA,CAAKC,UAAL,EAAND,CAAwB,SAClC,KAAA,CAAKnR,cAAL,EAAA,CAAsBqR,OAAtB,CAA8BF,CAA9B,CAFuB,CAFf;AAMNnjC,MAAO,UAND,CAONq4B,MAAO,mBAPD,CAQNn3B,MAAO,IARD,CA5CM,CAsDb,KAAQ,CACPk3B,QAAS,IAAA,CAAKT,QAAL,CAAc,SAAd,CADF,CAEP33B,MAAO,UAFA,CAGVq4B,MAAO,mBAHG,CAIVgK,SAAUA,QAAQ,CAACjB,CAAD,CAAQgB,CAAR,CAAc,CACzBwpG,CAAAA,CAAkB,IAAA,CAAKQ,kBAAL,EACA3mI,KAAAA,EAAxB,GAAImmI,CAAJ,GAECjlI,UAAA,CAAW,QAAA,EAAM,CAChBy7B,CAAA,CAAK2J,QAAL,CAAcpJ,IAAd,EADgB,CAAjB,CAGA,CAAwB,QAAxB,GAAIipG,CAAJ,CACC,IAAA,CAAKG,aAAL,CAAmBrE,QAAnB,EADD,CAGC1oI,GAAA,CAAI0/B,GAAJ,CAAQqH,MAAR,CAAe,IAAA,CAAKpO,QAAL,CAAc,WAAd,CAAf,CAA0C,IAAA,CAAKA,QAAL,CAAc,SAAd,CAA1C,CAAmE,QAAQ,CAAC8B,CAAD,CAAM9a,CAAN,CAAY,CACtFA,CAAA,CAAOA,CAAA,CAAK41B,IAAL,EACE,KAAT,EAAI9a,CAAJ,GACC,IAAA,CAAKusD,KAAL,EACA,CAAA,IAAA,CAAKqmD,cAAL,CAAoB1tH,CAApB,CAFD,CAFsF,CAAvF,CAMG,IANH,CAMS,CAAA,CANT,CARF,CAF+B,CAJtB,CAwBVzd,MAAO,IAxBG,CAyBV23B,MAAO,CAAC,CACPla,KAAM,MADC,CAEP3e,MAAO,UAFA,CAGPq4B,MAAO,mBAHA;AAIPC,QAASA,QAAQ,EAAG,CACnBt5B,GAAA,CAAI0/B,GAAJ,CAAQqH,MAAR,CAAe,IAAA,CAAKpO,QAAL,CAAc,WAAd,CAAf,CAA0C,IAAA,CAAKA,QAAL,CAAc,SAAd,CAA1C,CAAmE,QAAQ,CAAC8B,CAAD,CAAM9a,CAAN,CAAY,CACtFA,CAAA,CAAOA,CAAA,CAAK41B,IAAL,EACE,KAAT,EAAI9a,CAAJ,GACC,IAAA,CAAKusD,KAAL,EACA,CAAA,IAAA,CAAKqmD,cAAL,CAAoB1tH,CAApB,CAFD,CAFsF,CAAvF,CAMG,IANH,CAMS,CAAA,CANT,CADmB,CAJb,CAaPzd,MAAO,IAbA,CAAD,CAcL,CACDyd,KAAM,kBADL,CAED3e,MAAO,UAFN,CAGDq4B,MAAO,mBAHN,CAIDC,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKyzG,aAAL,CAAmBrE,QAAnB,EADmB,CAJnB,CAODxmI,MAAO,IAPN,CAdK,CAzBG,CAtDK,CAuGb,OAAU,CACTk3B,QAAS,IAAA,CAAKT,QAAL,CAAc,WAAd,CADA,CAET0K,SAAU,IAAVA,CAAeiqG,MAFN,CAGTtsI,MAAO,UAHE,CAITq4B,MAAO,mBAJE,CAKTn3B,MAAO,IALE,CAvGG,CA8Gb,SAAY,CACXk3B,QAAS,IAAA,CAAKT,QAAL,CAAc,aAAd,CADE,CAEX0K,SAAU,IAAVA,CAAekqG,kBAFJ;AAGdvsI,MAAO,UAHO,CAIdq4B,MAAO,mBAJO,CAKdn3B,MAAO,IALO,CA9GC,CAqHJ,UAAa,CACTk3B,QAAS,WADA,CAETiK,SAAUA,QAAQ,EAAG,CACjB,IAAA,CAAK2pG,eAAL,CAAqBpC,UAArB,EADiB,CAFZ,CAKT5pI,MAAO,UALE,CAMTq4B,MAAO,mBANE,CAOTn3B,MAAO,IAPE,CArHT,CAHG,CAmIjB23B,MAAO,CAAC,CACP6L,OAAQ,cADD,CAEP2gB,IAAK,eAFE,CAGPllD,UAAW,CACVC,YAAaA,QAAQ,CAACkgC,CAAD,CAAS,CAC7BthC,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAC9BnnC,OAAQ+gB,CAAA,CAAO7W,KAAP,EADsB,CAE9B9K,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CAFwB,CAAjC,CAKA2I,EAAA,CAAO6D,WAAP,EAAA,CAAqBnvB,EAArB,CAAwB,OAAxB,CAAiC,QAAQ,CAACsrB,CAAD,CAAS,CACjD,IAAA,CAAKisG,kBAAL,EAFUjsG,EAGV,CAAK8mC,SAAL,CAAe,UAAf,CAFiD,CAAlD,CAGG,IAHH,CAIA9mC,EAAA,CAAO42F,GAAP,CAAW52F,CAAA,CAAOmC,KAAP,EAAX,CAA2B,WAA3B,CAAwC,QAAQ,EAAG,CAACnC,CAAA,CAAO+mC,MAAP,CAAc,UAAd,CAAD,CAAnD,CACA/mC;CAAA,CAAO42F,GAAP,CAAW52F,CAAA,CAAOmC,KAAP,EAAX,CAA2B,UAA3B,CAAuC,QAAQ,EAAG,CAACnC,CAAA,CAAO8mC,SAAP,CAAiB,UAAjB,CAAD,CAAlD,CAX6B,CADpB,CAcVlmE,MAAO,IAdG,CAHJ,CAAD,CAmBL,CACDlB,MAAO,WADN,CAED0kC,OAAQ,OAFP,CAnBK,CAsBL,CACDA,OAAQ,cADP,CAED2gB,IAAK,eAFJ,CAGDllD,UAAW,CACVC,YAAaA,QAAQ,CAACmjH,CAAD,CAAS,CAC7BvkH,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBC,QAAxB,CAAiC,CAChCnnC,OAAQgkG,CAAA,CAAO95F,KAAP,EADwB,CAEhC9K,KAAM,IAAA,CAAKgZ,QAAL,CAAc,aAAd,CAF0B,CAAjC,CAKA4rF,EAAA,CAAOp/E,WAAP,EAAA,CAAqBnvB,EAArB,CAAwB,OAAxB,CAAiC,QAAQ,CAACuuG,CAAD,CAAS,CACjD,IAAA,CAAKgpB,kBAAL,EAFUhpB,EAGV,CAAKn8C,SAAL,CAAe,UAAf,CAFiD,CAAlD,CAGG,IAHH,CAIAm8C,EAAA,CAAO2T,GAAP,CAAW3T,CAAA,CAAO9gF,KAAP,EAAX,CAA2B,WAA3B,CAAwC,QAAQ,EAAG,CAAC8gF,CAAA,CAAOl8C,MAAP,CAAc,UAAd,CAAD,CAAnD,CACAk8C,EAAA,CAAO2T,GAAP,CAAW3T,CAAA,CAAO9gF,KAAP,EAAX,CAA2B,UAA3B,CAAuC,QAAQ,EAAG,CAAC8gF,CAAA,CAAOn8C,SAAP,CAAiB,UAAjB,CAAD,CAAlD,CAX6B,CADpB;AAcVlmE,MAAO,IAdG,CAHV,CAtBK,CAnIU,CA6KjBf,UAAW,CACVC,YAAa,IAAbA,CAAkBsV,IADR,CAEV82H,sBAAuB,IAAvBA,CAA4BA,qBAFlB,CAGVC,wBAAyB,IAAzBA,CAA8BA,uBAHpB,CAIVC,sBAAuB,IAAvBA,CAA4BA,qBAJlB,CAKbC,mBAAoB,IAApBA,CAAyBA,kBALZ,CAMbC,eAAgB,IAAhBA,CAAqBC,gBANR,CAOV3rI,MAAO,IAPG,CA7KM,CAAlB,CAuLG,KAAA,CAAKg9B,UAAL,CAAgBvjB,SAAhB,CACH,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEH,KAAA,CAAKmxH,oBAAL,CAA4B,IAAIx2G,MAAJ,CAAWwa,QAAX,CAAoBg9F,cAApB,CAAmC,CAC9D3sI,UAAW,CACV,WAAc4sI,QAAQ,CAAC/kG,CAAD,CAAM,EADlB,CAIV,UAAakgG,QAAQ,CAAClgG,CAAD;AAAM2gG,CAAN,CAAkB,CACtC,IAAA,CAAK14G,MAAL,EACmB,KAAnB,GAAI04G,CAAJ,GASC,CARI7oI,CAQJ,CARS,IAAA,CAAKktI,aAAL,EAQT,GAPWrE,CAOX,EAPuB7oI,CAOvB,EANC,IAAA,CAAKmtI,aAAL,CAAmBtE,CAAnB,CAMD,CAJA,IAAA,CAAKtlE,SAAL,CAAe,CACdpjE,KAAM,IAAA,CAAK03B,QAAL,CAAc,OAAd,CADQ,CAEd6rC,OAAQ,IAFM,CAAf,CAIA,CAAA,IAAA,CAAKi1D,WAAL,CAAiB,CAAA,CAAjB,CATD,CAFsC,CAJ7B,CAoBV,cAAiByU,QAAQ,EAAG,EApBlB,CAsBV,MAASvzG,QAAQ,EAAG,CACnB,IAAA,CAAK1J,MAAL,EADmB,CAtBV,CAyBV/uB,MAAO,IAzBG,CADmD,CAAnC,CA8B5B,KAAA,CAAK6qI,aAAL,CAAqB,IAAIz2G,MAAJ,CAAWwa,QAAX,CAAoBw4F,MAApB,CAA2B6E,aAA3B,CAAyC,CAC7DhtI,UAAW,CACV,WAAc4sI,QAAQ,CAAC/kG,CAAD,CAAM,CAAN,CAAsC,CAA/Bw5F,CAAAA,CAAD,CAACA,CAAA,KAAO,KAAAM,EAAR,CAAQA,CAAA,IAAA,CAAW7wG,EAAnB,CAAmBA,CAAA,IAAMykG,EAAAA,CAAzB,CAAyBA,CAAA,IACpD,KAAA,CAAKqW,aAAL,CAAmBpyG,KAAnB,EACA,KAAA,CAAKqsD,KAAL,EACA,KAAA,CAAKqmD,cAAL,CAAoB3W,CAApB,CAEM51H,EAAAA,CAAK+lC,kBAAA,CAAmB27F,CAAnB,CAAyB,GAAzB,CAA6BM,CAA7B,CAAkC,GAAlC,CAAsC7wG,CAAtC,CACyB,GAApC,GAAIuF,QAAA,CAAS5c,MAAT,CAAgB5T,OAAhB,CAAwBlG,CAAxB,CAAJ;CACOqjC,CACN,CADY,IAAA,CAAKC,UAAL,EACZ,CAD8B,mBAC9B,CADkDtjC,CAClD,CAAA0O,MAAA,CAAO88B,OAAP,CAAeC,SAAf,CAAyB,CACxBpI,IAAKA,CADmB,CAAzB,CAEG,mBAFH,CAEuBrjC,CAFvB,CAE2BqjC,CAF3B,CAFD,CAN2D,CADlD,CAcV,UAAa+kG,QAAQ,CAAClgG,CAAD,CAAM,CAAN,CAAmC,CAA5Bw5F,CAAAA,CAAD,CAACA,CAAA,KAAO,KAAAM,EAAR,CAAQA,CAAA,IAAc7wG,EAAAA,CAAtB,CAAsBA,CAAA,IAChD,KAAA,CAAK86G,aAAL,CAAmBpyG,KAAnB,EACA,KAAA,CAAK1J,MAAL,EACA,KAAA,CAAKozC,SAAL,CAAe,CACdpjE,KAAM,IAAA,CAAK03B,QAAL,CAAc,OAAd,CADQ,CAEd6rC,OAAQ,IAFM,CAAf,CAIA,KAAA,CAAKi1D,WAAL,CAAiB,CAAA,CAAjB,CAEM34H,EAAAA,CAAK+lC,kBAAA,CAAmB27F,CAAnB,CAAyB,GAAzB,CAA6BM,CAA7B,CAAkC,GAAlC,CAAsC7wG,CAAtC,CACyB,GAApC,GAAIuF,QAAA,CAAS5c,MAAT,CAAgB5T,OAAhB,CAAwBlG,CAAxB,CAAJ,GACOqjC,CACN,CADY,IAAA,CAAKC,UAAL,EACZ,CAD8B,mBAC9B,CADkDtjC,CAClD,CAAA0O,MAAA,CAAO88B,OAAP,CAAeC,SAAf,CAAyB,CACxBpI,IAAKA,CADmB,CAAzB,CAEG,mBAFH,CAEuBrjC,CAFvB,CAE2BqjC,CAF3B,CAFD,CAVuD,CAd9C,CA+BV,cAAiB+pG,QAAQ,CAACllG,CAAD,CAAM,CAC9B,IAAA,CAAK/X,MAAL,EAD8B,CA/BrB,CAkCV/uB,MAAO,IAlCG,CADkD,CAAzC,CAuCrB;IAAA,CAAK8qI,eAAL,CAAuB,IAAI12G,MAAJ,CAAWwa,QAAX,CAAoBs9F,SAApB,CAA8B,CACpDjtI,UAAW,CACVktI,iBAAkBA,QAAQ,CAAC/jE,CAAD,CAAYq/D,CAAZ,CAAwB,CACjDr/D,CAAA,CAAU2gE,UAAV,EACA,KAAA,CAAKjkD,KAAL,EACA,KAAA,CAAKsnD,UAAL,CAAgB3E,CAAhB,CACA,KAAA,CAAKsE,aAAL,CAAmBtE,CAAnB,CAJiD,CADxC,CAOVznI,MAAO,IAPG,CADyC,CAA9B,CAjQS,CA7EK,CA2VnCwU,KAAMA,QAAQ,EAAG,CAEnBlH,MAAA,CAAOy3F,MAAP,CAAgB24B,MAAhB,CAAuB34B,MACvBz3F,OAAA,CAAO++H,KAAP,CAAe3O,MAAf,CAAsB2O,KAEtB/+H,OAAA,CAAO0sE,UAAP,CAAoBsyD,QAAQ,EAAG,CAC9B,MAAO5O,OAAA,CAAO34B,MAAP,CAAcvyD,IAAd,CAAmBtwC,KAAnB,CAAyBw7H,MAAzB,CAAgC34B,MAAhC,CAAuCvyD,IAAvC,CAA6C/4B,SAA7C,CADuB,CAI/BnM,OAAA,CAAOi/H,WAAP,CAAqBC,QAAQ,EAAG,CAC/B,MAAO9O,OAAA,CAAO2O,KAAP,CAAah2G,MAAb,CAAoBn0B,KAApB,CAA0Bw7H,MAA1B,CAAiC2O,KAAjC,CAAwC5yH,SAAxC,CADwB,CAIhCnM,OAAA,CAAOm/H,cAAP,CAAwB,QAAQ,EAAG,CAClC,GAAI,IAAA,CAAKC,WAAL,EAAJ,CACC,MAAO,EAF0B,CAAX,CAItBjtI,IAJsB,CAIjB,IAJiB,CAOxB3B;GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CAChBjL,IAAK,IAAA,CAAKnR,cAAL,EAAA,CAAsBuf,cAAtB,EAALpO,CAA4C,mCAD5B,CAEhBd,SAAUA,QAAQ,CAACoX,CAAD,CAAO7F,CAAP,CAAgB5U,CAAhB,CAA0B,CACvC4U,CAAJ,GACC,IAMA,CANKq4F,cAML,CANsBjtI,GAAA,CAAI2lB,IAAJ,CAAS6pB,MAAT,CAAgBxP,CAAhB,CAAyBG,YAAzB,CAMtB,CAHA,IAGA,CAHK8sG,cAGL,CAHoBhmC,MAGpB,CAH6B,IAG7B,CAHkCgmC,cAGlC,CAHiDrN,MAGjD,CAHwD34B,MAGxD,CAFA,IAEA,CAFKgmC,cAEL,CAFoBsB,KAEpB,CAF4B,IAE5B,CAFiCtB,cAEjC,CAFgDrN,MAEhD,CAFuD2O,KAEvD,CADA,IACA,CADKtB,cACL,CADoB/wD,UACpB,CADiC,IACjC,CADsC+wD,cACtC,CADqDrN,MACrD,CAD4D34B,MAC5D,CADmEvyD,IACnE,CAAA,IAAA,CAAKu4F,cAAL,CAAoBwB,WAApB,CAAkC,IAAlC,CAAuCxB,cAAvC,CAAsDrN,MAAtD,CAA6D2O,KAA7D,CAAmEh2G,MAPpE,CAUIjB,EAAAA,CAAct3B,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CAAqD,CAAA,CAArD,CACdkhH,EAAAA;AAAQ97H,GAAA,CAAI6uI,SAAJ,CAAcv3G,CAAd,CAA0B87E,GAA1B,CACR07B,EAAAA,CAAkB,wBAAA,CAAyBhyG,IAAzB,CAA8BtF,QAA9B,CAAuCu3G,QAAvC,CACtB,KAAIC,EAAWhvI,GAAA,CAAI6uI,SAAJ,CAAcv3G,CAAd,CAA0B23G,QAA1B,CACX,gCAAJ,EAAuC33G,EAAvC,CACYt3B,GAAAye,CAAI+wB,MAAJ/wB,CAAW6Y,CAAX7Y,CAAuBywH,6BAAvBzwH,CACX,CAAKjG,OAAL,CAAa,QAAQ,CAAC22H,CAAD,CAAQ,CACxBxvH,CAAAA,CAAOkiC,kBAAA,CAAmB8hF,IAAA,CAAKwL,CAAL,CAAnB,CACmB,EAA9B,EAAIxvH,CAAA,CAAK41B,IAAL,EAAA,CAAYvuC,OAAZ,CAAoB,GAApB,CAAJ,CACC,IAAA,CAAKooI,OAAL,CAAazvH,CAAb,CADD,CAGC,IAAA,CAAK0vH,OAAL,CAAa1vH,CAAb,CAL2B,CAA7B,CAOG,IAPH,CAFD,CAUW2X,CAAJ,CAAgBkT,KAAhB,CACkC,CADlC,GACFlT,CAAA,CAAYkT,KAAZ,CAAkBxjC,OAAlB,CAA0B,MAA1B,CADE,EAEL,IAAA,CAAKsoI,WAAL,CAAiBh4G,CAAjB,CAA6BkT,KAA7B,CAAoCsxF,CAApC,CAFK,CAIIgT,CAAJ,EACN,IAAA,CAAKR,UAAL,CAAgBQ,CAAA,CAAgB,CAAhB,CAAhB,CACA,CAAA,IAAA,CAAK3B,kBAAL,CAAwB,QAAxB,CAFM,EAGI6B,CAAJ,EACN,IAAA,CAAKjC,aAAL,CAAmBvD,cAAnB,CAAkClyG,CAAlC,CAA8C23G,QAA9C,CACA,CAAA,IAAA,CAAK9B,kBAAL,CAAwB,QAAxB,CAFM;AAIN,IAAA,CAAKoC,MAAL,EAGD,IAAIzT,CAAJ,CAAW,CACV,IAAI5uG,EAAK,IACTltB,IAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpBtxB,CAAA,CAAGogH,MAAH,EADoB,CAArB,CAEG,GAFH,CAFU,CAvCgC,CAF5B,CAiDhBprI,MAAO,IAjDS,CAAjB,CApBmB,CA3VkB,CAoanCstI,SAAUA,QAAQ,CAACzyH,CAAD,CAAOxP,CAAP,CAAe8jC,CAAf,CAAqBlzC,CAArB,CAA6B,CAC9C4e,CAAA,CAAOA,CAAP,EAAe,EACfxP,EAAA,CAASA,CAAT,EAAmB,CACnBpP,EAAA,CAASA,CAAT,EAAmB,EACnB,KAAIwW,EAAa,IAAA,CAAKyV,KAAL,CAAW,uBAAX,CAAjB,CACItpB,EAAK,IAAA,CAAK2uI,eAAL,EAAL3uI,CAA4BA,EADhC,CAEI63G,EAAUhkG,CAAA,CAAW+6H,SAAX,CAAqB,QAAQ,CAACtxI,CAAD,CAAY,CAAC,MAAOA,EAAP,CAAiB0C,EAAjB,EAAqBA,CAAtB,CAAzC,CACd,IAAmB,CAAnB,CAAI63G,CAAJ,CAAYprG,CAAZ,EAAwBorG,CAAxB,CAAgCprG,CAAhC,CAAuCoH,CAAvC,CAAkD/R,MAAlD,CACF5C,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADK,CAEZiG,IAAK,IAAA,CAAKjG,QAAL,CAAc,mBAAd,CAFO,CAGZ2B,QAASt6B,GAATs6B,CAAauF,UAAbvF,CAAwBqF,EAHZ,CAIZC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KAJT,CAAb,CADE,KAeA,OAJInrB,EAAA,CAAWgkG,CAAX,CAAmBprG,CAAnB,CAIG,EAHS,IAAAi+B,CAAK6sC,YAAL7sC,CAAkB,OAAlBA,CACf,CAAMxyB,MAAN,CAAarE,CAAA,CAAWgkG,CAAX,CAAmBprG,CAAnB,CAAb,CAEM,CAAA,IAAA,CAAK8hI,OAAL,CAAa/7H,MAAA,CAAO8iB,MAAP,CAAc,EAAd,CAAiB,CACpCoU,MAAOztB,CAD6B;AAEpCs0B,KAAMA,CAANA,EAAc,MAFsB,CAAjB,CAGjBlzC,CAHiB,CAAb,CAGKw6G,CAHL,CAGaprG,CAHb,CAtBuC,CApaZ,CA+bnCoiI,SAAUA,QAAQ,CAACpiI,CAAD,CAASpP,CAAT,CAAiB,CAClCoP,CAAA,CAASA,CAAT,EAAmB,CACnBpP,EAAA,CAASA,CAAT,EAAmB,EACnB,KAAIwW,EAAa,IAAA,CAAKyV,KAAL,CAAW,2BAAX,CAAjB,CACItpB,EAAK,IAAA,CAAK2uI,eAAL,EAAL3uI,CAA4BA,EADhC,CAEI63G,EAAUhkG,CAAA,CAAW+6H,SAAX,CAAqB,QAAQ,CAACtxI,CAAD,CAAY,CAAC,MAAOA,EAAP,CAAiB0C,EAAjB,EAAqBA,CAAtB,CAAzC,CACd,IAAmB,CAAnB,CAAI63G,CAAJ,CAAYprG,CAAZ,EAAwBorG,CAAxB,CAAgCprG,CAAhC,CAAuCoH,CAAvC,CAAkD/R,MAAlD,CAAyD,CAAzD,CACK,aAAJ,EAAqBzE,EAArB,EAA+BA,CAA/B,CAAsC6xC,WAAtC,EAEChwC,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADK,CAEZiG,IAAK,IAAA,CAAKjG,QAAL,CAAc,mBAAd,CAFO,CAGZ2B,QAASt6B,GAATs6B,CAAauF,UAAbvF,CAAwBqF,EAHZ,CAIZC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KAJT,CAAb,CAHF,KAaA,OADA8Q,QACOpG,CADG71B,CAAA,CAAWgkG,CAAX,CAAmBprG,CAAnB,CAAA,CAA2B4oH,UAA3B,EACH3rF,CAAAoG,OAAApG,CAAQA,KAnBmB,CA/bA,CAgenC+kG,OAAQA,QAAQ,EAAG,CACrB,IAAA,CAAKK,WAAL,CAAiB,IAAIhQ,MAAJ,CAAWiQ,QAAX,CAAoB,CACpC9oI,MAAO,0BAD6B,CAApB,CAAjB,CAGA;IAAA,CAAKqoI,OAAL,CAAa,8aAAb,CACA,KAAI12G,EAAO,IAAA,CAAK22G,OAAL,CAAa,EAAb,CACXrvI,IAAA,CAAIw+C,KAAJ,CAAU,QAAQ,EAAG,CACpB9lB,CAAA,CAAK06E,GAAL,EADoB,CAArB,CAEG,GAFH;AAEQ,IAFR,CANqB,CAhegB,CA2enCpsB,MAAOA,QAAQ,EAAG,CACpB,IAAA,CAAK4oD,WAAL,CAAiB,IAAIhQ,MAAJ,CAAWiQ,QAA5B,CACA,KAAA,CAAK/C,oBAAL,CAA0Bv3E,KAA1B,EACe,KAAA/pB,CAAK6sC,YAAL7sC,CAAkB,OAAlBA,CACZ,CAAMa,SAAN,EAJiB,CA3eiB,CAkftC6gG,eAAgBA,QAAQ,CAAC4C,CAAD,CAAS,CAChC,IAAA,CAAK3oG,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,QAAd,CAAV,CACA,KAAA,CAAKo3G,WAAL,EAAA,CAAmBC,UAAnB,CAA8B,UAA9B,CAEA,KAAMjzH,EAAO,IAAA,CAAKkzH,kBAAL,EAAb,CACMvxF,EAAW,IAAA,CAAKqxF,WAAL,EAAA,CAAmBlsG,KAAnB,EADjB,CAIMqsG,EAAgB3uI,QAAA,CAASymC,aAAT,CAAuB,KAAvB,CACtBkoG,EAAA,CAAcxpG,SAAd,CAA0BgY,CAA1B,CAAmC33C,KACnC23C,EAAA,CAAS33C,KAAT,CAAiBmpI,CAAjB,CAA+B/4D,WAC/B+4D,EAAA,CAAcxpG,SAAd,CAA0BgY,CAA1B,CAAmCwsC,WACnCxsC,EAAA,CAASwsC,WAAT,CAAuBglD,CAAvB,CAAqC/4D,WACrC+4D,EAAA,CAAcl3H,MAAd,EAEM4zH,EAAAA,CAAkB,IAAA,CAAKQ,kBAAL,EAEnB0C,EAAL,EAAmC,QAAnC,GAAelD,CAAf,EAAwEnmI,IAAAA,EAAxE,GAA+C,IAAA,CAAKunI,aAAL,EAA/C;AAAmIvnI,IAAAA,EAAnI,GAAqF,IAAA,CAAKqmI,oBAAL,CAA0B7C,aAA1B,EAArF,CAQyB,QAAxB,GAAI2C,CAAJ,CACC,IAAA,CAAKG,aAAL,CAAmBhE,QAAnB,CAA4BhsH,CAA5B,CADD,CAGC,IAAA,CAAK+vH,oBAAL,CAA0B/D,QAA1B,CAAmChsH,CAAnC,CAAyC2hC,CAAzC,CAAmDoxF,CAAA,CAASrpI,IAAAA,EAAT,CAAqB,IAAA,CAAKunI,aAAL,EAAxE,CAXF,CACC,IAAA,CAAKlB,oBAAL,CAA0BlF,MAA1B,CAAiC,CAChC+B,WAAY,IAAA,CAAKqE,aAAL,EADoB,CAEhCjxH,KAAMA,CAF0B,CAGhC2hC,SAAUA,CAHsB,CAIhCgrF,WAAY,IAAA,CAAKoD,oBAAL,CAA0B7C,aAA1B,EAJoB,CAAjC,CAlB+B,CAlfK,CAmhBnCoD,eAAgBA,QAAQ,CAAC1tH,CAAD,CAAO,CAC9BA,CAAA,CAAOA,CAAA,CAAK41B,IAAL,EACV,IAA0B,CAA1B,EAAI51B,CAAA,CAAK3Y,OAAL,CAAa,MAAb,CAAJ,CACC,IAAA,CAAKsoI,WAAL,CAAiB3vH,CAAjB,CADD,KAEO,IAAuB,CAAvB,EAAIA,CAAA,CAAK3Y,OAAL,CAAa,GAAb,CAAJ,CAA0B,CAEhC,GAAI,CACH,IAAAyX,EAAOkH,IAAA,CAAKC,KAAL,CAAWjG,CAAX,CADJ,CAEF,MAAMhQ,CAAN,CAAS,CACV,MAAO3P,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACnBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADY,CAEnBiG,IAAK,IAAA,CAAKjG,QAAL,CAAc,gBAAd,CAALiG;AAAqC,8BAArCA,CAAoEjvB,CAApEivB,CAAsE,QAFnD,CAGnBtE,QAASt6B,GAATs6B,CAAauF,UAAbvF,CAAwBqF,EAHL,CAInBC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KAJF,CAAb,CADG,CAQX,GAAI,CAACrhB,CAAD,CAAMigC,QAAV,EAAsB,CAACjgC,CAAD,CAAM0xH,MAA5B,CACC,MAAOnwI,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACnBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADY,CAEnBiG,IAAK,IAAA,CAAKjG,QAAL,CAAc,4BAAd,CAFc,CAGnB2B,QAASt6B,GAATs6B,CAAauF,UAAbvF,CAAwBqF,EAHL,CAInBC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KAJF,CAAb,CAORrhB,EAAA,CAAK0xH,MAAL,CAAY33H,OAAZ,CAAoB,QAAQ,CAAC22H,CAAD,CAAQ,CACzBnvI,GAAA,CAAIy2B,QAAJ,CAAa04G,CAAb,CAAJ,EAAkC,EAAlC,EAA2BA,CAA3B,CAAuC,IAAA,CAAKE,OAAL,CAAa,CAAC7kG,MAAO2kG,CAAR,CAAb,CAAvC,CACSA,CADT,CACe3kG,KADf,GAEoB,MAAhB,EAAI2kG,CAAJ,CAAUjlI,IAAV,CAAyB,IAAA,CAAKklI,OAAL,CAAaD,CAAb,CAAzB,CAEC,IAAA,CAAKE,OAAL,CAAaF,CAAb,CAJL,CAD6B,CAApC,CAQG,IARH,CApBgC,CAA1B,IA6BA,IAAI,WAAA,CAAYp9H,IAAZ,CAAiB4N,CAAjB,CAAJ,CACN,IAAA,CAAK2uH,UAAL,CAAgB3uH,CAAhB,CADM,KAGF,CAAA,GAAwB,CAAxB,GAAIA,CAAA,CAAK3Y,OAAL,CAAa,GAAb,CAAJ,EAAqD,EAArD,EAA6B2Y,CAAA,CAAK3Y,OAAL,CAAa,QAAb,CAA7B,CACJ,MAAOhH,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACnBza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADY;AAEnBiG,IAAK,IAAA,CAAKjG,QAAL,CAAc,wBAAd,CAFc,CAGnB2B,QAASt6B,GAATs6B,CAAauF,UAAbvF,CAAwBqF,EAHL,CAInBC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KAJF,CAAb,CAOP,KAAA,CAAKswG,kBAAL,CAAwBzwH,CAAxB,CARI,CAUL,MAAO,CAAA,CA9C0B,CAnhBI,CAqkBnC2uH,WAAYA,QAAQ,CAACxtI,CAAD,CAAK,CACxB,IAAA,CAAKqmC,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,SAAd,CAAV,CACA,KAAIzL,EAAK,IACT0yG,OAAA,CAAO2K,IAAP,CAAYC,QAAZ,CAAqB,CACnBpnG,KAAM,6BADa,CAEnBm6C,OAAQ,MAFW,CAGnBz8E,GAAIA,CAHe,CAInB65C,QAAS,CAJU,CAArB,CAAA,CAKGtkB,IALH,CAKQ,QAAQ,CAAC5X,CAAD,CAAO,CACtByO,CAAA,CAAG+D,MAAH,EACA/D,EAAA,CAAGmgH,cAAH,CAAkB5uH,CAAlB,CAAuBqyB,QAAvB,CAAgC/zB,IAAhC,CACC0B,EAAJ,CAASqyB,QAAT,CAAkBhwC,EAAlB,EAAwB2d,CAAxB,CAA6BqyB,QAA7B,CAAsChwC,EAAtC,EAA0CosB,CAAA,CAAG8gH,aAAH,EAA1C,EACC9gH,CAAA,CAAG+gH,aAAH,CAAiBxvH,CAAjB,CAAsBqyB,QAAtB,CAA+BhwC,EAA/B,CAEEosB,EAAA,CAAGusG,WAAH,CAAe,CAAA,CAAf,CANsB,CALvB,CAAA,CAYG4D,KAZH,CAYS,QAAQ,CAACG,CAAD,CAAM,CAACtwG,CAAA,CAAG+D,MAAH,EAAD,CAZvB,CAHwB,CArkBU,CAulBnCm/G,mBAAoBA,QAAQ,CAACnvI,CAAD,CAAO,CAElC,IAAIyB;AAAM,CADG2tI,IAAIC,SACP,EAAOC,eAAP,CAAuBtvI,CAAvB,CAA6B,WAA7B,CACV,KAAA,CAAK2uI,WAAL,CAAiB,IAAIhQ,MAAJ,CAAWiQ,QAAX,CAAoBntI,CAApB,CAAjB,CACA,KAAI8tI,EAAc,CAAA,CAClB9tI,EAAA,CAAI+tI,gBAAJ,CAAqB,iCAArB,CAAA,CAAwDj4H,OAAxD,CAAgE,QAAQ,CAACk4H,CAAD,CAAU,CACjF,IAAIC,EAAUD,CAAVC,CAAkBC,SACtB,IAAID,CAAA,CAAQlnF,QAAR,CAAiB,2BAAjB,CAAJ,CACKoC,CACJ,CADa6kF,CAAA,CAAQtrG,aAAR,CAAsB,uBAAtB,CACb,CAD4DsB,SAC5D,CAAA,IAAA,CAAK0oG,OAAL,CAAavjF,CAAb,CAAqBplD,IAAAA,EAArB,CAAgCiqI,CAAhC,CAAwC5vI,EAAxC,CAFD,KAGO,IAAI6vI,CAAA,CAAQlnF,QAAR,CAAiB,2BAAjB,CAAJ,CAAmD,CACzD,IAAIonF,EAAUH,CAAA,CAAQtrG,aAAR,CAAsB,2BAAtB,CAEV0rG,EAAAA,CADS,uBAAAC,CAAwBj0G,IAAxBi0G,CAA6BF,CAA7BE,CAAqC9oG,SAArC8oG,CACI,CAAO,CAAP,CAYjB,KAAIC,EAAS/vI,CAAA,CAAK+F,OAAL,CAAa,eAAb,CAA6B0pI,CAA7B,CAAqC5vI,EAArC,CAAwC,8DAAxC,CAAb;AACCmwI,EAAWhwI,CAAA,CAAK+F,OAAL,CAAa,mDAAb,CAAkEgqI,CAAlE,CACZC,EAAA,CAAWhwI,CAAA,CAAK+F,OAAL,CAAa,GAAb,CAAkBiqI,CAAlB,CAAX,CAAuC,CACvC,KAAIC,EAASjwI,CAAA,CAAK+F,OAAL,CAAa,2CAAb,CAA0DiqI,CAA1D,CAGb,IAAa,EAAb,GAAID,CAAJ,EAAgC,EAAhC,GAAmBC,CAAnB,EAAiD,EAAjD,GAAsCC,CAAtC,CAAqD,CACpDV,CAAA,CAAc,CAAA,CAEdhmG,MAAA,CAAuB,YAAf,GAAAsmG,CAAA,CAA8BD,CAA9B,CAAsC1P,SAAtC,CAAkD0P,CAAlD,CAA0DnqG,SAClE,SAJoD,CAArD,IAMI8D,MAAA,CAAQvpC,CAAA,CAAK+0B,SAAL,CAAei7G,CAAf,CAAyBC,CAAzB,CAEXC,EAAAA,CAAsD,IAAtDA,GAAW,cAAA,CAAer0G,IAAf,CAAoB+zG,CAApB,CAA4B5oG,SAA5B,CACXquF,EAAAA,CAASoa,CAAA,CAAQtrG,aAAR,CAAsB,wBAAtB,CAATkxF,CAAyD5vF,SACzDs1F,EAAAA,CAAoG,CAAA,CAApGA,GAAgB0U,CAAA,CAAQtrG,aAAR,CAAsB,wBAAtB,CAAA,CAAgDwrG,SAAhD,CAA0DnnF,QAA1D,CAAmE,WAAnE,CAChBlvB,EAAAA,CAAKm2G,CAAA,CAAQtrG,aAAR,CAAsB,mBAAtB,CAER7K,EAAA,CADU,IAAX,GAAIA,CAAJ,CACMA,CADN,CACSmM,SADT;AAGMjgC,IAAAA,EAEH,KAAA,CAAK4oI,OAAL,CAAa,CACZ7kG,MAAOA,KADK,CAEf8rF,OAAQA,CAFO,CAGf0F,cAAeA,CAHA,CAIfM,OAAQ/hG,CAJO,CAKf8W,KAAMy/F,CALS,CAMflV,YAAauV,CANE,CAAb,CAOG1qI,IAAAA,EAPH,CAOciqI,CAPd,CAOsB5vI,EAPtB,CAtCyD,CALuB,CAAlF,CAoDA,IApDA,CAsDI0vI,EAAJ,EACF,IAAA,CAAK95G,SAAL,CAAe,IAAA,CAAKiC,QAAL,CAAc,sBAAd,CAAf,CAGD,KAAA,CAAKgK,SAAL,CAAe,gBAAf,CA/DqC,CAvlBA,CAypBnCq3F,SAAUA,QAAQ,CAACoX,CAAD,CAAU,CAC3B,IAAIz8H,EAAa,EACjB3U,IAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe,IAAA,CAAKikB,KAAL,CAAW,2BAAX,CAAf,CAAwD,QAAQ,CAACnG,CAAD,CAAO,CACzEtP,CAAA,CAAW3P,IAAX,CAAgBif,CAAhB,CACAA,EAAA,CAAK45G,YAAL,EACG,IAAIuT,CAAJ,EAAeA,CAAf,EAAwBntH,CAAxB,CAA+B,MAAO,CAAA,CAHgC,CAAvE,CAIG,IAJH,CAKA,KAAA,CAAK24G,IAAL,CAAUjoH,CAAV,CAP2B,CAzpBO,CAmqBnCkmH,QAASA,QAAQ,CAACwW,CAAD,CAAU,CAAA,IACtB18H,EAAa,EADS,CACL28H,EAAU,CAAA,CAC/BtxI,IAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe,IAAA,CAAKikB,KAAL,CAAW,2BAAX,CAAf,CAAwD,QAAQ,CAACnG,CAAD,CAAO,CAClEotH,CAAJ,EAAeA,CAAf,EAAwBptH,CAAxB,GAA+BqtH,CAA/B,CAAuC,CAAA,CAAvC,CACIA,EAAJ,GACC38H,CAAA,CAAW3P,IAAX,CAAgBif,CAAhB,CACA,CAAAA,CAAA,CAAK45G,YAAL,EAFD,CAFsE,CAAvE;AAMG,IANH,CAOA,KAAA,CAAKjB,IAAL,CAAUjoH,CAAV,CAT0B,CAnqBQ,CA+qBnC24H,OAAQA,QAAQ,EAAG,CAClB,IAAI34H,EAAa,EACjB3U,IAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe,IAAA,CAAKikB,KAAL,CAAW,2BAAX,CAAf,CAAwD,QAAQ,CAACnG,CAAD,CAAO,CACzEtP,CAAA,CAAW3P,IAAX,CAAgBif,CAAhB,CACAA,EAAA,CAAK45G,YAAL,EAFyE,CAAvE,CAGG,IAHH,CAIA,KAAA,CAAKjB,IAAL,CAAUjoH,CAAV,CANkB,CA/qBgB,CAwrBnCioH,KAAMA,QAAQ,CAACjoH,CAAD,CAAa,CAC1B,GAAsB,CAAtB,CAAIA,CAAJ,CAAe/R,MAAf,CAAyB,CAExB,IAAIi6B,EADYloB,CAAAvW,CAAWib,KAAXjb,EACH,CAAUg1G,GAAV,CAAc,CAAA,CAAd,CAChB,IAAa3sG,IAAAA,EAAb,GAAIo2B,CAAJ,EAA0BA,CAA1B,CAAiCxG,IAAjC,EAAyCwG,CAAzC,CAAgDwgG,KAAhD,EAAyDxgG,CAAzD,CAAgEygG,OAAhE,CAAyE,CACxE,IAAIpwG,EAAK,IACT2P,EAAA,CAAOxG,IAAP,CAAY,QAAQ,EAAG,CAChBr2B,GAAA,CAAIw+C,KAAJ,CAAUtxB,CAAV,CAAa0vG,IAAb,CAAmB,GAAnB,CAAwB1vG,CAAxB,CAA4B,CAACvY,CAAD,CAA5B,CADgB,CAAvB,CAFwE,CAAzE,IAMO3U,IAAA,CAAIw+C,KAAJ,CAAU,IAAV,CAAeo+E,IAAf,CAAqB,GAArB,CAA0B,IAA1B,CAAgC,CAACjoH,CAAD,CAAhC,CAToB,CADC,CAxrBQ,CAusBtCk5H,iBAAkBA,QAAQ,EAAG,CAC5B,IAAIl5H,EAAa,EACd3U,IAAA,CAAIu9B,KAAJ,CAAUp3B,IAAV,CAAe,IAAA,CAAKikB,KAAL,CAAW,2BAAX,CAAf,CAAwD,QAAQ,CAACnG,CAAD,CAAO,CACrEA,CAAA,CAAKy3G,cAAL,EAAJ,EACC/mH,CAAA,CAAW3P,IAAX,CAAgBif,CAAhB,CAFwE,CAAvE,CAKH,KAAA,CAAK24G,IAAL,CAAUjoH,CAAV,CAP4B,CAvsBS;AAitBnC26H,YAAaA,QAAQ,CAACnrG,CAAD,CAAMivE,CAAN,CAAW,CAC/B,IAAIlmF,EAAK,IAET0yG,OAAA,CAAO2K,IAAP,CAAY5qH,IAAZ,CAAiBwkB,CAAjB,CAAA,CAAsB9N,IAAtB,CAA2B,QAAQ,CAAC1W,CAAD,CAAO,CAACuN,CAAA,CAAGmgH,cAAH,CAAkB1tH,CAAlB,CAAD,CAA1C,CAH+B,CAjtBG,CAutBnCyvH,QAASA,QAAQ,CAACD,CAAD,CAAQz4B,CAAR,CAAeghB,CAAf,CAAuB,CACvC,MAAO,KAAA,CAAK6Z,IAAL,CAAUpC,CAAV,CAAiBz4B,CAAjB,CAAwB,2BAAxB,CAAqDghB,CAArD,CADgC,CAvtBL,CA2tBnC2X,QAASA,QAAQ,CAACF,CAAD,CAAQz4B,CAAR,CAAeghB,CAAf,CAAuBv5H,CAAvB,CAA+B,CAC/C,MAAO,KAAA,CAAKozI,IAAL,CAAUpC,CAAV,CAAiBz4B,CAAjB,CAAwB,2BAAxB,CAAqDghB,CAArD,CAA6D,CAACzvE,KAAM,IAANA,CAAWglF,cAAZ,CAA7D,CADwC,CA3tBb,CA+tBnCsE,KAAMA,QAAQ,CAACpC,CAAD,CAAQz4B,CAAR,CAAe11G,CAAf,CAAsB02H,CAAtB,CAA8Bv5H,CAA9B,CAAsC,CAC/C6B,GAAA,CAAIy2B,QAAJ,CAAa04G,CAAb,CAAJ,GACCA,CADD,CACS,CAAC3kG,MAAO2kG,CAAR,CADT,CAGA,KAAI3jG,EAAQ,IAAA,CAAK6sC,YAAL,CAAkB,OAAlB,CACfq+B,EAAA,CAA0B,WAAlB,GAAC,MAAOA,EAAR,CAAiClrE,CAAjC,CAAuC3R,KAAvC,CAA6Cj3B,MAA7C,CAAsD8zG,CAC9DghB,EAAA,CAA4B,WAAnB,GAAC,MAAOA,EAAR,CAAkCkI,MAAA,CAAO4R,IAAP,CAAY1wI,EAAZ,EAAlC,CAAqD42H,CAC3D,OAAOlsF,EAAA,CAAMhrB,MAAN,CAAak2F,CAAb,CAAoB12G,GAAA,CAAIoE,KAAJ,CAAU+qI,CAAV,CAAiB,CAC3CnuI,MAAOA,CADoC,CAE3C01G,MAAOA,CAFoC;AAG3CghB,OAAQA,CAHmC,CAAjB,CAIxBv5H,CAJwB,CAApB,CAP4C,CA/tBjB,CA6uBnCszI,eAAgBA,QAAQ,EAAG,CACX,IAAA,CAAK1B,WAAL,EACf,KAAA,CAAK13D,YAAL,CAAkB,cAAlB,CAAA,CAAkCp6D,MAAlC,CAAyC,IAAA,CAAKyzH,kBAAL,EAAzC,CACA,KAAA,CAAKr5D,YAAL,CAAkB,cAAlB,CAAA,CAAkCp6D,MAAlC,CAAyC,IAAA,CAAK0zH,kBAAL,EAAzC,CACA,KAAA,CAAKlY,WAAL,CAAiB,CAAA,CAAjB,CAJ0B,CA7uBQ,CAovBtC+T,sBAAuBA,QAAQ,CAACtX,CAAD,CAAU,CACxC,IAAI1qF,EAAQ,IAAA,CAAK6sC,YAAL,CAAkB,OAAlB,CACR11E,EAAAA,CAAI6oC,CAAA,CAAM3R,KAAN,CAAY61G,SAAZ,CAAsB,IAAtB,CAA4BxZ,CAA5B,CAAoCp1H,EAApC,CACD,EAAP,EAAI6B,CAAJ,CACC3C,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADK,CAEZiG,IAAK,IAAA,CAAKjG,QAAL,CAAc,kBAAd,CAFO,CAGZ2B,QAASt6B,GAATs6B,CAAauF,UAAbvF,CAAwBqF,EAHZ,CAIZC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBgyG,OAJT,CAAb,CADD,EASCpmG,CAAA,CAAM2gB,IAAN,CAAWxpD,CAAX,CAAcA,CAAd,CAAgB,CAAhB,CACA,CAAA,IAAA,CAAKkvI,SAAL,EAVD,CAHwC,CApvBH,CAqwBtCpE,wBAAyBA,QAAQ,CAACvX,CAAD,CAAU,CAC1C,IAAI1qF;AAAQ,IAAA,CAAK6sC,YAAL,CAAkB,OAAlB,CACR11E,EAAAA,CAAI6oC,CAAA,CAAM3R,KAAN,CAAY61G,SAAZ,CAAsB,IAAtB,CAA4BxZ,CAA5B,CAAoCp1H,EAApC,CACJ6B,EAAJ,EAAO6oC,CAAA,CAAM3R,KAAN,CAAY9uB,QAAZ,EAAP,CAA8B,CAA9B,CACC/K,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADK,CAEZiG,IAAK,IAAA,CAAKjG,QAAL,CAAc,iBAAd,CAFO,CAGZ2B,QAASt6B,GAATs6B,CAAauF,UAAbvF,CAAwBqF,EAHZ,CAIZC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBgyG,OAJT,CAAb,CADD,EASCpmG,CAAA,CAAM2gB,IAAN,CAAWxpD,CAAX,CAAcA,CAAd,CAAgB,CAAhB,CACA,CAAA,IAAA,CAAKkvI,SAAL,EAVD,CAH0C,CArwBL,CAsxBtCnE,sBAAuBA,QAAQ,CAACxX,CAAD,CAAU,CACxC,IAAI1qF,EAAQ,IAAA,CAAK6sC,YAAL,CAAkB,OAAlB,CACZ7sC,EAAA,CAAMxyB,MAAN,CAAak9G,CAAb,CACwB,EAAxB,EAAI1qF,CAAJ,CAAU3R,KAAV,CAAgBj3B,MAAhB,EACC,IAAA,CAAKwsI,OAAL,CAAa,kBAAb,CAED,KAAA,CAAKyC,SAAL,EANwC,CAtxBH,CA+xBtClE,mBAAoBA,QAAQ,CAACzX,CAAD,CAAUvmH,CAAV,CAAa,CAExC,IAAIhN,EADQ,IAAA6oC,CAAK6sC,YAAL7sC,CAAkB,OAAlBA,CACJ,CAAM3R,KAAN,CAAY61G,SAAZ,CAAsB,IAAtB,CAA4BxZ,CAA5B,CAAoCp1H,EAApC,CACJE,EAAAA,CAAQk1H,CAAA,CAAQz+F,QAAR,CAAiBy+F,CAAjB,CAQZ;CANY,2BAAZpkF,EAAK9wC,CAAL8wC,EAA2C,CAACniC,CAAA,CAAEmiI,WAAF,EAA5ChgG,EAAwE,2BAAxEA,EAAiE9wC,CAAjE8wC,EAAuGniC,CAAA,CAAEmiI,WAAF,EAAvGhgG,CACO,IAAA,CAAKu9F,OAAL,CAAa,EAAb,CAAgB1sI,CAAhB,CAAkB,CAAlB,CADPmvC,CAIO,IAAA,CAAKs9F,OAAL,CAAa,EAAb,CAAgBzsI,CAAhB,CAAkB,CAAlB,CAEP,EAAIwiC,WAAJ,EAAA,CAAkBwjE,cAAlB,CAAiC,IAAA,CAAKxjE,WAAL,EAAjC,CAAqD,IAArD,CAA2D,CAAA,CAA3D,CAAiE,CAAA,CAAjE,CACA,KAAA,CAAK0sG,SAAL,EAZwC,CA/xBH,CA8yBnCA,UAAWA,QAAQ,EAAG,CACrB,IAAA,CAAKznH,KAAL,CAAW,wBAAX,CAAA,CAAqC5R,OAArC,CAA6C,QAAQ,CAAC8S,CAAD,CAAU3oB,CAAV,CAAa,CACjE2oB,CAAA,CAAQgsG,QAAR,CAAiB30H,CAAjB,CADiE,CAAlE,CAGH,KAAA,CAAK82H,WAAL,CAAiB,CAAA,CAAjB,CAJwB,CA9yBa,CAqzBnCA,YAAaA,QAAQ,CAAC7qG,CAAD,CAAM,CAEtB,IAAA,CAAK0U,SAAL,EAAJ,GACI,IAAA,CAAKA,SAAL,EAAA,CAAiBjV,IAAjB,CAAsB,aAAtB,CAAA,CAAqC48C,WAArC,CAAsD,CAAtD,EAAiDr8C,CAAjD,CACA,CAAKA,CAAL,GACC,IAAA,CAAKxE,KAAL,CAAW,oBAAX,CAAA,CAAiC5R,OAAjC,CAAyC,QAAQ,CAACqzC,CAAD,CAAS,CACzDA,CAAA,CAAO0tE,qBAAP,CAA6B,CAAA,CAA7B,CADyD,CAA1D,CAGA;AAAA,IAAA,CAAKnvG,KAAL,CAAW,oBAAX,CAAA,CAAiC5R,OAAjC,CAAyC,QAAQ,CAACqzC,CAAD,CAAS,CACzDA,CAAA,CAAO21E,mBAAP,CAA2B,CAAA,CAA3B,CADyD,CAA1D,CAJD,CAFJ,CAWH,KAAA,CAAKtiG,UAAL,CAAgBvjB,SAAhB,CAb6B,CArzBQ,CAq0BnCsyH,cAAeA,QAAS,CAACntI,CAAD,CAAK,CAC5B,GAAIA,CAAJ,EAEkD,EAFlD,GAEK02B,QAAA,CAASu3G,QAAT,CAAkB/nI,OAAlB,CAA0B,UAA1B,CAAqClG,CAArC,CAFL,CAEsD,CACpD,IAAIqjC,EAAM,IAAA,CAAKC,UAAL,EAAND,CAAwB,SAAxBA,CAAkCrjC,CAAlCqjC,CAAqC,GACzC30B,OAAA,CAAO88B,OAAP,CAAeC,SAAf,CAAyB,CAC3BpI,IAAKA,CADsB,CAAzB,CAEA,mBAFA,CAEoBrjC,CAFpB,CAEwBqjC,CAFxB,CAFoD,CAOzD,IAAA,CAAKjF,UAAL,CAAgBvjB,SAAhB,CAV+B,CAr0BM,CAk1BnCs0H,mBAAoBA,QAAQ,EAAG,CAE3B,IAAIrkD,EAAM,6DAANA,CADQ,IAAAltC,CAAKqxF,WAALrxF,EAEX,CAASqzF,UAAT,EADD,CAEIC,EAAczwI,QAAA,CAASC,cAAT,CAAwB,YAAxB,CACdwwI,EAAJ,GAAkBpmD,CAAlB,EAAuBomD,CAAvB,CAAmCtoG,SAAnC;AAA6C,IAA7C,CACAkiD,EAAA,EAAOrqF,QAAA,CAASC,cAAT,CAAwB,yBAAxB,CAAP,CAA0DkoC,SAA1D,CAAoE,muBAApE;AAiBC,IAAA,CAAKuoG,aAAL,EAjBD,CAkBC,iCACP,KAAA,CAAK55D,YAAL,CAAkB,OAAlB,CAAA,CAA2Bx+C,KAA3B,CAAiC1zB,IAAjC,CAAsC,QAAQ,CAAC8d,CAAD,CAAOthB,CAAP,CAAU,CACpD,IAAIuH,EAAO+Z,CAAA,CAAKoe,OAAL,CAAa,2BAAb,CAAA,CAA4C,MAA5C,CAAqD,MAC5DuO,EAAAA,CAAU3sB,CAAA,CAAKkyG,UAAL,EACd,KAAI7qG,EAAUrH,CAAA,CAAKoK,IAAL,CAAU,wBAAV,CAEdu9D,EAAA,EAAK,eAAL,CAAqBtgE,CAArB,CAA6BhM,IAA7B,CAAkC,mCAAlC,CAAsE2E,CAAtE,CAA2EjjB,KAA3E,CAAiF,0CAAjF,CACwCsqB,CAAA,CAAQ6Z,WAAR,EADxC,CAC8DziC,GAD9D,CACkEgkC,SADlE,CAC4E,QAC5E,IAAW,MAAX,GAAIx8B,CAAJ,CAAmB,CACdmnC,CAAAA,CAAOptB,CAAA,CAAKoK,IAAL,CAAU,oBAAV,CAAA,CAAgC+/C,OAAhC,EACd/8B,EAAA,CAAOA,CAAA,CAAKrb,SAAL,CAAeqb,CAAA,CAAKmB,WAAL,CAAiB,GAAjB,CAAf,CAAqC,CAArC,CAEHwpF,EAAAA,CAAgB/3G,CAAA,CAAKg6G,gBAAL,EAEpB,KAAIkT,EAAWltH,CAAA,CAAKy3G,cAAL,EAAA;AAAwB,UAAxB,CAAqC,EAEhDwW,EAAAA,CAAgBjuH,CAAA,CAAKkhB,WAAL,EAAA,CAAmB/a,KAAnB,CAAyB,iBAAzB,CAAA,CAA4C,CAA5C,CAAA,CAA+Cif,SAA/C,CAAyD,CAAA,CAAzD,CACpB6oG,EAAA,CAAchnI,KAAd,CAAoBinI,WAApB,CAAgC,QAAhC,CAA0C,MAA1C,CAEGvmD,EAAA,EAAK,iDAAL,CAAuDsmD,CAAvD,CAAqExoG,SAArE,CAA+E,6DAA/E,CACqD2H,CADrD,CAC0D,GAD1D,CAC8D8/F,CAD9D,CACuE,IADvE,CAC4EvgG,CAD5E,CACoFpG,KADpF,CAC0F,2CAD1F,EAEmCwxF,CAAA,CAAgB,EAAhB,CAAqB,YAFxD,EAEsE,MAFtE,CAE6EprF,CAF7E,CAEqF0lF,MAFrF,CAE4F,YAC5E7vH,KAAAA,EAAnB,GAAImqC,CAAJ,CAAYrW,EAAZ,GACCqxD,CADD,EACQ,kCADR,CAC2Ch7C,CAD3C,CACmDrW,EADnD,CACsD,YADtD,CAdqB,CAAnB,IAkBCqxD,EAAA,EAAK,oCAAL,CAA0Ch7C,CAA1C,CAAkD,UAEnDg7C,EAAA,EAAK,cA3B+C,CAAxD,CA8BG;MADGA,EACH,EADU,4CACV,CADuD,IAAA,CAAK+lD,kBAAL,EACvD,CADiF,2BAtDnD,CAl1BI,CA44BnCM,cAAeA,QAAQ,EAAG,CACzB,MAAO,gCAAP,CAAwC,IAAA,CAAKP,kBAAL,EAAxC,CAAkE,aADzC,CA54BS,CAg5BnCA,mBAAoBA,QAAQ,EAAG,CAC9B,IAAIzwI,EAAO,EACP,KAAA,CAAK8uI,WAAL,EAAJ,CAAuBhpI,KAAvB,GACI9F,CADJ,EACY,qBADZ,CACkC,IAAA,CAAK8uI,WAAL,EADlC,CACqDhpI,KADrD,CAC2D,QAD3D,CAGI,KAAA,CAAKgpI,WAAL,EAAJ,CAAuB36F,MAAvB,GACIn0C,CADJ,EACY,sBADZ,CACmC,IAAA,CAAK8uI,WAAL,EADnC,CACsD36F,MADtD,CAC6D,QAD7D,CAGA,OAAOn0C,EARuB,CAh5BI,CA25BnC0wI,mBAAoBA,QAAQ,EAAG,CAAA,IAC1BhyH,EAAO,EADmB,CACf++B,EAAW,IAAA,CAAKqxF,WAAL,EAC1B;GAAIrxF,CAAJ,CAAatJ,MAAb,EAAuBsJ,CAAvB,CAAgC0zF,OAAhC,CACQzyH,CAGP,CAHc,QAGd,CAFO++B,CAEP,CAFgBtJ,MAEhB,GAFyBz1B,CAEzB,EAF+B,GAE/B,CAFmC++B,CAEnC,CAF4CtJ,MAE5C,EADOsJ,CACP,CADgB0zF,OAChB,GAD0BzyH,CAC1B,EADgC,IAChC,CADqC++B,CACrC,CAD8C0zF,OAC9C,CADsD,GACtD,EAAAzyH,CAAA,EAAQ,IAET,IAAI++B,CAAJ,CAAaotF,OAAb,EAAwBptF,CAAxB,CAAiCqtF,QAAjC,CAA2C,CAAA,IACtCD,EAAUptF,CAAA,CAAS2zF,SAAT,CAAmB,SAAnB,CAA+BtG,EAAAA,CAAWrtF,CAAA,CAAS2zF,SAAT,CAAmB,UAAnB,CACpDvG,EAAJ,GACInsH,CADJ,EACY,IAAA,CAAKgZ,QAAL,CAAc,SAAd,CADZ,CACqC,GADrC,CACyCmzG,CADzC,CACiD,GADjD,CAGIC,EAAJ,EAAgBD,CAAhB,EAAyBC,CAAzB,GACIpsH,CADJ,EACY,IAAA,CAAKgZ,QAAL,CAAc,UAAd,CADZ,CACsC,GADtC,CAC0CozG,CAD1C,CACmD,GADnD,CAL0C,CAU3C,MAAOpsH,EAlBuB,CA35BI,CAg7BnC+kB,oBAAqBA,QAAQ,EAAG,CAC/B,MAAO,CAAC,CACJF,WAAY,MADR,CAEJC,SAAU,IAAA,CAAK9L,QAAL,CAAc,YAAd,CAFN,CAAD,CAGF,CACD6L,WAAY,cADX,CAEDC,SAAU,cAAVA,CAAyB,IAAA,CAAK9L,QAAL,CAAc,oBAAd,CAAzB8L,CAA6D,MAF5D,CAGDtjC,UAAW,CACVC,YAAaA,QAAQ,CAAC0wC,CAAD,CAAM,CAAA,IACbxyB;CAAQ,IAAA,CAAK0uH,aAAL,EAAR1uH,EAAgC,QAAhCA,EAA2C,OAD9B,CAEvBvC,EAAO,IAAA,CAAKkzH,kBAAL,EAFgB,CAGvBxZ,EAAa,CAACvsH,KAAM,WAAP,CACb,IAAI,CACF,IAAAwsH,EAAO,IAAIC,IAAJ,CAAS,CAAC55G,CAAD,CAAT,CAAiBuC,CAAjB,CAAuBm3G,CAAvB,CADL,CAEF,MAAO9mH,CAAP,CAAU,CACV+mH,CAAA,CAAO,IAAIE,IAAJ,CAAS,CAAC75G,CAAD,CAAT,CAAiB05G,CAAjB,CADG,CAIRtyF,CAAAA,CAAM8yF,GAAA,CAAIC,eAAJ,CAAoBR,CAApB,CACNz0G,EAAAA,CAAI6vB,CAAA,CAAIjN,UAAJ,CAAeniC,GAAf,CAAmB0iC,aAAnB,CAAiC,GAAjC,CACRnjB,EAAA,CAAEqnB,YAAF,CAAe,UAAf,CAA2BhqB,CAA3B,CACA2C,EAAA,CAAEqnB,YAAF,CAAe,MAAf,CAAuBnF,CAAvB,CAbuB,CADjB,CAgBVjiC,MAAO,IAhBG,CAHV,CAqBDo3B,QAASA,QAAQ,CAACwY,CAAD,CAAM,CACtBA,CAAA,CAAIjN,UAAJ,CAAeniC,GAAf,CAAmB0iC,aAAnB,CAAiC,GAAjC,CAAA,CAAsC7rB,KAAtC,EACAu4B,EAAA,CAAIpX,EAAJ,CAAO,QAAP,CAAA,CAAiBC,KAAjB,EAFsB,CArBtB,CAHE,CADwB,CAh7BG,CAg9BnC23G,WAAYA,QAAQ,EAAG,CACtB,IAAI1mD,EAAM,IAAA,CAAKqkD,kBAAL,EAAV,CACOnZ,EAAWtnH,MAAA,CAAOunH,IAAP,EACfD,EAAA,CAASv1H,QAAT,CAAkBy1H,KAAlB,CAAwBprC,CAAxB,CACAkrC,EAAA,CAASv1H,QAAT,CAAkBo5B,KAAlB,EACAm8F,EAAA,CAAS1nE,KAAT,EALmB,CAh9BY,CAy9BnCm9E,mBAAoBA,QAAQ,EAAG,CAAA,IAG7BxvH;AAAO,IAAA,CAAKkzH,kBAAL,EAHsB,CAI7BxZ,EAAa,CAACvsH,KAAM,YAAP,CACd,IAAI,CACF,IAAAwsH,EAAO,IAAIC,IAAJ,CAAS,CAAC55G,CAAD,CAAT,CAAiB,WAAjB,CAA8B05G,CAA9B,CADL,CAEF,MAAO9mH,CAAP,CAAU,CACV+mH,CAAA,CAAO,IAAIE,IAAJ,CAAS,CAAC75G,CAAD,CAAT,CAAiB05G,CAAjB,CADG,CAGRtyF,CAAAA,CAAM8yF,GAAA,CAAIC,eAAJ,CAAoBR,CAApB,CACV,KAAA,CAAK1jG,cAAL,EAAA,CAAsBqR,OAAtB,CAA8BF,CAA9B,CAX8B,CAz9BI,CAu+BtCQ,aAAcA,QAAQ,CAACqF,CAAD,CAAS,CAC9B,MAAOxS,SAAP,CAAgB0tF,IADc,CAv+BO,CA2+BnCqoB,mBAAoBA,QAAQ,EAAG,CACjC,GAA4B9mI,IAAAA,EAA5B,GAAI,IAAJ,CAASomI,cAAT,CAAuC,CACtC,IAAI3/G,EAAK,IAET,KAAA,CAAK2/G,cAAL,CAAsB7sI,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACrDxxB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,gBAAd,CAD8C,CAErDoH,WAAY,CAAA,CAFyC,CAGrDgzB,YAAa,MAHwC,CAIrDl5B,MAAO,CAAC,CACP74B,MAAO,MADA,CAEP64B,MAAO,CACNsB,YAAa,CADP,CAENv6B,MAAO,GAFD,CAKNohD,OAAQ,QALF,CAMN2H,SAAU,CACT6a,OAAQ,MADC;AAETvqC,WAAY,OAFH,CANJ,CAYN4jD,YAAa,WAZP,CAaNhkD,MAAO,CAAC,CACPG,WAAY,IAAA,CAAKrB,QAAL,CAAc,eAAd,CADL,CAEP33B,MAAO,YAFA,CAGPse,KAAM,OAHC,CAIP5e,OAAQ,GAJD,CAKP6xI,iBAAmB,CAAA,CALZ,CAMPC,aAAe,CAAA,CANR,CAOPC,WAAa,CAAA,CAPN,CAQPC,eAAiB,CAAA,CARV,CASPC,YAAc,CAAA,CATP,CAUPC,YAAc,CAAA,CAVP,CAAD,CAWL,CACD54G,WAAY,IAAA,CAAKrB,QAAL,CAAc,gBAAd,CADX,CAEDrZ,KAAM,QAFL,CAXK,CAcL,CACD0a,WAAY,IAAA,CAAKrB,QAAL,CAAc,kBAAd,CADX,CAEDrZ,KAAM,UAFL,CAdK,CAiBL,CACDte,MAAO,YADN,CAEDg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,qBAAd,CAFX,CAGDrZ,KAAM,aAHL,CAID5e,OAAQ,GAJP,CAKD6xI,iBAAmB,CAAA,CALlB,CAMDC,aAAe,CAAA,CANd,CAODC,WAAa,CAAA,CAPZ,CAjBK;AAyBL,CACDzxI,MAAO,OADN,CAEDg5B,WAAY,IAAA,CAAKrB,QAAL,CAAc,iBAAd,CAFX,CAGDrZ,KAAM,SAHL,CAID+a,MAAO,CACN7B,OAAQ,CAAC,MAAD,CADF,CAENzb,KAAM,CACL,CAAC,KAAQ,oBAAT,CADK,CAEL,CAAC,KAAQ,yCAAT,CAFK,CAGL,CAAC,KAAQ,gDAAT,CAHK,CAIL,CAAC,KAAQ,sCAAT,CAJK,CAKL,CAAC,KAAQ,oDAAT,CALK,CAML,CAAC,KAAQ,6BAAT,CANK,CAOL,CAAC,KAAQ,kCAAT,CAPK,CAQL,CAAC,KAAQ,uDAAT,CARK,CASL,CAAC,KAAQ,aAAT,CATK;AAUL,CAAC,KAAQ,4BAAT,CAVK,CAWL,CAAC,KAAQ,6CAAT,CAXK,CAYL,CAAC,KAAQ,wBAAT,CAZK,CAFA,CAJN,CAzBK,CA8CL,CACD/b,MAAO,OADN,CAEDse,KAAM,UAFL,CAGD0a,WAAY,IAAA,CAAKrB,QAAL,CAAc,kBAAd,CAHX,CAID0B,MAAO,CACN7B,OAAQ,CAAC,MAAD,CADF,CAENzb,KAAM,CACL,CAAC,KAAQ,SAAT,CADK,CAEL,CAAC,KAAQ,UAAT,CAFK,CAGL,CAAC,KAAQ,iBAAT,CAHK,CAIL,CAAC,KAAQ,SAAT,CAJK,CAKL,CAAC,KAAQ,QAAT,CALK,CAML,CAAC,KAAQ,QAAT,CANK,CAOL,CAAC,KAAQ,UAAT,CAPK,CAQL,CAAC,KAAQ,OAAT,CARK,CASL,CAAC,KAAQ,OAAT,CATK,CAUL,CAAC,KAAQ,YAAT,CAVK,CAWL,CAAC,KAAQ,SAAT,CAXK,CAYL,CAAC,KAAQ,UAAT,CAZK,CAaL,CAAC,KAAQ,UAAT,CAbK,CAcL,CAAC,KAAQ,SAAT,CAdK,CAeL,CAAC,KAAQ,QAAT,CAfK,CAgBL,CAAC,KAAQ,UAAT,CAhBK;AAiBL,CAAC,KAAQ,SAAT,CAjBK,CAkBL,CAAC,KAAQ,SAAT,CAlBK,CAmBL,CAAC,KAAQ,YAAT,CAnBK,CAoBL,CAAC,KAAQ,SAAT,CApBK,CAqBL,CAAC,KAAQ,cAAT,CArBK,CAsBL,CAAC,KAAQ,SAAT,CAtBK,CAuBL,CAAC,KAAQ,iBAAT,CAvBK,CAwBL,CAAC,KAAQ,SAAT,CAxBK,CAyBL,CAAC,KAAQ,OAAT,CAzBK,CA0BL,CAAC,KAAQ,QAAT,CA1BK,CA2BL,CAAC,KAAQ,MAAT,CA3BK,CA4BL,CAAC,KAAQ,SAAT,CA5BK,CA6BL,CAAC,KAAQ,MAAT,CA7BK,CA8BL,CAAC,KAAQ,YAAT,CA9BK,CA+BL,CAAC,KAAQ,iBAAT,CA/BK,CAgCL,CAAC,KAAQ,YAAT,CAhCK,CAiCL,CAAC,KAAQ,aAAT,CAjCK,CAFA,CAJN,CA9CK,CAbD,CAFA,CAAD,CAJ8C,CAkHrDud,QAAS,CAAC,CACT3a,KAAM,IAAA,CAAKgZ,QAAL,CAAc,gBAAd,CADG,CAET4B,GAAI,iBAFK,CAGTjB,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKoB,EAAL,CAAQ,QAAR,CAAA,CAAkBC,KAAlB,EADmB,CAHX,CAAD,CAMP,CACDhb,KAAM,IAAA,CAAKgZ,QAAL,CAAc,eAAd,CADL,CAED4B,GAAI,iBAFH,CAGDjB,QAASA,QAAQ,EAAG,CACnB,IAAA,CAAKoB,EAAL,CAAQ,QAAR,CAAA,CAAkBrM,IAAlB,CAAuB,MAAvB,CAAA,CAA+BkU,OAA/B,EAAA,CAAyCgzB,KAAzC,EADmB,CAHnB,CANO;AAYN,GAZM,CAYD,CACP51C,KAAM,IAAA,CAAKgZ,QAAL,CAAc,cAAd,CADC,CAEPW,QAASA,QAAQ,EAAG,CACnB,IAAIsB,EAAO,IAAA,CAAKF,EAAL,CAAQ,QAAR,CAAA,CAAkBrM,IAAlB,CAAuB,MAAvB,CAAA,CAA+BkU,OAA/B,EACXrV,EAAA,CAAG6iH,WAAH,EAAA,CAAiBz8G,GAAjB,CAAqBsH,CAAA,CAAKK,SAAL,EAArB,CACA/N,EAAA,CAAGukH,cAAH,EACA,KAAA,CAAK/2G,EAAL,CAAQ,QAAR,CAAA,CAAkBC,KAAlB,EAJmB,CAFb,CAZC,CAlH4C,CAAhC,CAHgB,CA8IvC,IAAI+jB,EAAW,IAAA,CAAKqxF,WAAL,EACEtpI,KAAAA,EAAjB,GAAIi4C,CAAJ,GACCA,CACA,CADW,IAAIkhF,MAAJ,CAAWiQ,QACtB,CAAA,IAAA,CAAKD,WAAL,CAAiBlxF,CAAjB,CAFD,CAKA,KAAI9jB,EAAO,IAAA,CAAKiyG,cAAL,CAAoBx+G,IAApB,CAAyB,MAAzB,CAAA,CAAiCkU,OAAjC,EACX3H,EAAA,CAAKwvG,SAAL,CAAe,OAAf,CAAA,CAAwBlkG,QAAxB,CAAiCwY,CAAjC,CAA0C33C,KAA1C,CACA6zB,EAAA,CAAKwvG,SAAL,CAAe,QAAf,CAAA,CAAyBlkG,QAAzB,CAAkCwY,CAAlC,CAA2CtJ,MAA3C,CACAxa,EAAA,CAAKwvG,SAAL,CAAe,UAAf,CAAA,CAA2BlkG,QAA3B,CAAoCwY,CAApC,CAA6C0D,QAA7C,CACAxnB,EAAA,CAAKwvG,SAAL,CAAe,aAAf,CAAA,CAA8BlkG,QAA9B,CAAuCwY,CAAvC,CAAgDwsC,WAAhD,CACAtwD,EAAA,CAAKwvG,SAAL,CAAe,SAAf,CAAA,CAA0BlkG,QAA1B,CAAmCwY,CAAnC,CAA4C0zF,OAA5C;AAAuD,sCAAvD,CACAx3G,EAAA,CAAKwvG,SAAL,CAAe,UAAf,CAAA,CAA2BlkG,QAA3B,CAAoCwY,CAApC,CAA6Cu6B,QAA7C,EAAyD,SAAzD,CAEA,KAAA,CAAK4zD,cAAL,CAAoBrrH,IAApB,EA7JiC,CA3+BI,CAAvC,C,CCJAxhB,GAAA,CAAIk2B,MAAJ,CAAW,kBAAX,CAA+B,CAE3ByI,OAAQ,qBAFmB,CAG9B7H,OAAQ,CAAC,wBAAD,CAA0B,0BAA1B,CAAqD,iBAArD,CAAuE,oBAAvE,CAHsB,CAI9BsK,SAAU,CAAC,2BAAD,CAJoB,CAM3B9hB,KAAM,WANqB,CAQ3B4Y,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACPkG,QAAS,SADF,CAEPyE,WAAY,MAFL,CAGJnI,KAAMhzB,IAAAA,EAHF,CAIJ8jC,MAAO9jC,IAAAA,EAJH,CAHG,CARkB,CAmB3BtI,OAAQ,CACP6iC,QAASv6B,IAAAA,EADF,CAEVosI,YAAapsI,IAAAA,EAFH,CAGVusD,kBAAmBvsD,IAAAA,EAHT,CAnBmB,CAyB3BjG,YAAaA,QAAQ,CAACrC,CAAD,CAAS,CAC7B,IAAA,CAAK20I,UAAL,CAAgB,IAAhB,CAAqB30I,MAArB,CAA4B6iC,OAA5B,CAGH,KAAA,CAAK+xG,cAAL,CAAoB,IAApB,CAAyB50I,MAAzB,CAAgC6iC,OAAhC,CAAwC,UAAxC,CAGA1K,OAAA,CAAOC,WAAP;AAAqB,IAErB,KAAA,CAAKO,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CAEA,KAAA,CAAKmb,MAAL,CAAY,oBAAZ,CAAA,CAAkCt2B,WAAlC,CAA8C4D,KAA9C,CAAoD,IAApD,CAA0DuX,SAA1D,CAEA,KAAA,CAAKq3H,oBAAL,CAA0B,IAAIpT,MAAJ,CAAWqT,UAArC,CAaA,KAAA,CAAKpsF,oBAAL,EAAA,CAA4BwQ,UAA5B,CAAuC,OAAvC,CACA,KAAA,CAAKxQ,oBAAL,EAAA,CAA4BwQ,UAA5B,CAAuC,MAAvC,CAA+C,sDAA/C,CAGA,KAAA,CAAKn4B,UAAL,CAAgBvjB,SAAhB,CAGA,KAAIu3H,EAAY,IAAZA,CAAiB91G,QACrB,KAAA,CAAKA,QAAL,CAAgB+1G,QAAQ,CAAC5sI,CAAD,CAAQ02B,CAAR,CAAmB,CAC1C,MAAOi2G,EAAA,CAAU9uI,KAAV,CAAgB,IAAhB,CAAsB,CAAC,IAAA,CAAKkmB,WAAL,CAAiB,SAAjB,CAAD,CAA8B/jB,CAA9B,CAAqC02B,CAArC,CAAtB,CADmC,CAG3C,KAAIm2G,EAAmB,IAAnBA,CAAwBngH,eAC5B,KAAA,CAAKA,eAAL;AAAuBogH,QAAQ,CAACzzI,CAAD,CAAOq9B,CAAP,CAAkB,CAChD,MAAOm2G,EAAA,CAAiBhvI,KAAjB,CAAuB,IAAvB,CAA6B,CAAC,IAAA,CAAKkmB,WAAL,CAAiB,SAAjB,CAAD,CAA8B1qB,CAA9B,CAAoCq9B,CAApC,CAA7B,CADyC,CAtCjB,CAzBH,CAmE3BmH,WAAYA,QAAQ,EAAG,CACtB,IAAIpD,EAAU,IAAA,CAAK9B,UAAL,EACd,OAA8B,EAAvB,EAAA8B,CAAA,CAAQh6B,OAAR,CAAgB,IAAhB,CAAA,CAA2BwwB,QAA3B,CAAoC87G,QAApC,CAA6CtyG,CAA7C,CAAuDA,CAFxC,CAnEI,CAwE3BuR,eAAgBA,QAAQ,EAAG,CAC1B,MAAO/iC,OAAP,CAAcgoB,QAAd,CAAuB+wG,MAAvB,CAA8B,IAAA,CAAKnkG,UAAL,EADJ,CAxEA,CA4E3BmvG,eAAgBA,QAAQ,EAAG,CAG1B,IADA,IAAIC,EAAW,EAAf,CACS7wI,EAAE,CADX,CACcsnB,EAFJza,MAAA20B,CAAO3M,QAAP2M,CAAgB4qG,QAAhB5qG,CAAyBnO,SAAzBmO,CAAmC,IAAA,CAAKC,UAAL,EAAnCD,CAAqDvhC,MAArDuhC,CAEQ,CAAI/f,KAAJ,CAAU,GAAV,CAAJ6F,CAAmBrnB,MAAnBqnB,CAA0B,CAAxC,CAA2CtnB,CAA3C,CAA6CsnB,CAA7C,CAAkDtnB,CAAA,EAAlD,CACC6wI,CAAA,EAAU,KAEX,OAAOA,EANmB,CA5EA,CAqF3B9vG,SAAUA,QAAQ,EAAG,CACpB,MAAO,CAAC,CAACx5B,KAAM,UAAP,CAAD,CAAoB,CAACA,KAAM,MAAP,CAApB,CADa,CArFM,CAyF3BupI,OAAQA,QAAQ,EAAG,CAClBzzI,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwB/wC,IAAxB,EACA1W;GAAA,CAAIoE,KAAJ,CAAUpE,GAAA,CAAIwnD,GAAJ,CAAQC,eAAR,CAAwBisF,WAAxB,EAAV,CAAiD,CAC7C5xE,UAAW,EADkC,CAAjD,CAIH,KAAA,CAAK5iC,UAAL,CAAgBvjB,SAAhB,CANqB,CAzFQ,CAkG3Bg4H,aAAcA,QAAQ,CAACx1I,CAAD,CAAS,CAC1BA,CAAJ,CAAaA,CAAA,CAASA,CAAT,CAAkB,EAC/B6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBgmC,IAAK,IAAA,CAAK6H,cAAL,EADc,CAApB,CAGK7tC,EAAL,CAAYy2C,OAAZ,EAAwBz2C,CAAxB,CAA+Bk+C,OAA/B,EAA2Cl+C,CAA3C,CAAkDklC,QAAlD,EACIrjC,GAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnBgmC,IAAK,IAAA,CAAK6H,cAAL,EADc,CAEhB9pC,MAAO,IAFS,CAGhBmhC,SAAUA,QAAQ,CAACrD,CAAD,CAAW4U,CAAX,CAAoB8wB,CAApB,CAA6B,CAC9C,IAAA,CAAK1iC,aAAL,CAAmB7kC,CAAnB,CAA0BilC,IAA1B,CAA+B,QAA/B,CAAyCpD,CAAzC,CAAmD4U,CAAnD,CAA4D8wB,CAA5D,CAD8C,CAH/B,CAApB,CAQJ1lE,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiBjxC,CAAjB,CAd8B,CAlGJ,CAmH3B0kC,YAAaA,QAAQ,EAAG,CACvB,MAAO7iC,IAAA,CAAIwmH,cAAJ,CAAmBp8F,KAAnB,CAAyB,UAAzB,CAAA,CAAqC,CAArC,CADgB,CAnHG,CAuH3B4Y,cAAeA,QAAQ,CAAC4wG,CAAD,CAAY5qG,CAAZ,CAAiB,CAE1C,IAAIjO,EADc,IAAA84G,CAAKhxG,WAALgxG,EACL,CAASzpH,KAAT,CAAe,aAAf,CAAb,CACI0pH,EAAU,CAAA,CAGV,KAAJ,CAASC,WAAT;AAAwB,IAAA,CAAKA,WAAL,CAAiBH,CAAjB,CAAxB,GACC,IAAA,CAAKjxG,SAAL,CAAev+B,KAAf,CAAqB,IAArB,CAA2BuX,SAA3B,CACA,CAAAm4H,CAAA,CAAU,CAAA,CAFX,CAMA,KAAK,IAAInxI,EAAE,CAAX,CAAcA,CAAd,CAAgBo4B,CAAhB,CAAuBn4B,MAAvB,CAA+BD,CAAA,EAA/B,CACKoxI,CAAAh5G,CAAA,CAAOp4B,CAAP,CAAAoxI,CAAUA,WAAd,EAA6B,CAAAh5G,CAAA,CAAOp4B,CAAP,CAAA,CAAUoxI,WAAV,CAAsBH,CAAtB,CAA7B,EACK5qG,CADL,EACYA,CADZ,CACgBve,KADhB,EACyBsQ,CAAA,CAAOp4B,CAAP,CADzB,CACmC8nB,KADnC,EAC4Cue,CAAA,CAAIve,KAAJ,EAD5C,EACyDsQ,CAAA,CAAOp4B,CAAP,CAAA,CAAU8nB,KAAV,EADzD,GAICqpH,CACA,CADU,CAAA,CACV,CAAA/4G,CAAA,CAAOp4B,CAAP,CAAA,CAAUggC,SAAV,CAAoBv+B,KAApB,CAA0B22B,CAAA,CAAOp4B,CAAP,CAA1B,CAAqCgZ,SAArC,CALD,CASD,IAAI,CAACm4H,CAAL,CAAc,CAETx1G,CAAAA,CAAO,CAAC,gBAAD,CAAmB0K,CAAnB,CAAwB4qG,CAAxB,CACX,KAASjxI,CAAT,CAAW,CAAX,CAAcA,CAAd,CAAgBgZ,SAAhB,CAA0B/Y,MAA1B,CAAkCD,CAAA,EAAlC,CAAwC27B,CAAA,CAAKt5B,IAAL,CAAU2W,SAAA,CAAUhZ,CAAV,CAAV,CACxC,KAAA,CAAKggC,SAAL,CAAev+B,KAAf,CAAqB,IAArB,CAA2Bk6B,CAA3B,CAJa,CAtB4B,CAvHb,CAqJ9Bie,kBAAmBA,QAAQ,CAACp+C,CAAD,CAAS6hC,CAAT,CAAmB,CAC7C,IAAA,CAAKtJ,SAAL,CAAe12B,GAAA,CAAIu4B,MAAJ,CAAW,2BAAX,CAAwC,CAACqG,IAAM5+B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAAA,CAAuBA,CAAvB,CAAgCA,CAAhC,CAAuCygC,GAA9C,CAAoDoB,SAAUA,CAA9D,CAAxC,CAAf,CAD6C,CArJhB,CAyJ9BtJ,UAAWA,QAAQ,CAACv4B,CAAD,CAAS6hC,CAAT,CAAmB,CACrC,GAAI7hC,CAAJ;AAAsBm4B,MAAtB,CAA6Br2B,IAA7B,CAAkCqxC,aAAlC,CACCnzC,CAAA,CAAS,CACRkhC,QAASlhC,CAAA,CAAOmhC,MAAP,EAATD,CAAyB,qBAAzBA,CAA+ClhC,CAAA,CAAOohC,QAAP,EAA/CF,CAAiE,8EAAjEA,CACwEG,MAAA,CAAOrhC,CAAA,CAAOshC,UAAP,EAAP,CADxEJ,CACoG,yCAF5F,CADV,KAMC,IAAIr/B,GAAA,CAAIy2B,QAAJ,CAAat4B,CAAb,CAAJ,CACCA,CAAA,CAAS,CAACkhC,QAASlhC,CAAV,CADV,KAEO,IAAI6B,GAAA,CAAI23B,QAAJ,CAAax5B,CAAb,CAAJ,GACFA,CADE,CACKgiC,YADL,EAIKhiC,CAJL,CAIY+hC,UAJZ,EAKL,MAAO,KAAA,CAAKqc,iBAAL,CAAuBp+C,CAAvB,CAA8B+hC,UAA9B,CAA0C/hC,CAA1C,CAOV6B,IAAA,CAAIo/B,OAAJ,CAAYjhC,CAAZ,CAAoB,CACnB4I,MAAO,IAAA,CAAK4xB,QAAL,CAAc,OAAd,CADY,CAEhB2B,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EAFD,CAGhBC,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBE,KAHL,CAIhBC,WAAY,CAAA,CAJI,CAApB,CAMA//B,IAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAarjB,CAAb,CA3BqC,CAzJR,CAuL9BylC,2BAA4BA,QAAQ,CAAC5iC,CAAD,CAAQ,CAC3CqlD,GAAA;AAAMrmD,GAAA,CAAIg3B,YAAJ,CAAiBib,UAAjB,CAA4B,SAA5B,CAAsCjxC,CAAtC,CACN,OAAO,CACNA,MAAOA,CADD,CAEN+F,MAAO,IAAA,CAAK+xB,cAAL,CAAoButB,GAApB,CAAyB,OAAzB,CAFD,CAGNjtB,QAAS,CACRzZ,KAAM,IAAA,CAAKmZ,cAAL,CAAoButB,GAApB,CAAyB,SAAzB,CADE,CAHH,CAMNhtB,MAAOgtB,GAAA,EAAOA,GAAP,CAAWhtB,KAAX,CAAmBgtB,GAAnB,CAAuBhtB,KAAvB,CAA+B,mBANhC,CAFoC,CAvLd,CAwM9BgL,QAASA,QAAQ,CAACF,CAAD,CAAM,CACZ30B,MAAA8Y,CAAOyuG,IAAPzuG,CAAY6b,CAAZ7b,CACV,EACCtoB,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACZza,MAAO,eADK,CAEZu7C,WAAY,CAACC,GAAI,OAAL,CAFA,CAGZ3iB,KAAM5/B,GAAN4/B,CAAUC,UAAVD,CAAqBkH,IAHT,CAIZzH,QAAS,uCAATA,CAAiD8E,CAAjD9E,CAAqD,uEAJzC,CAKZ/E,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EALL,CAAb,CAHqB,CAxMO,CAA/B,C,CCAA3/B,GAAA,CAAIk2B,MAAJ,CAAW,wBAAX,CAAqC,CAEjCyI,OAAQ,kBAFyB,CAIjCrf,KAAM,iBAJ2B,CAMjC8hB,SAAU,8fAAA,CAAA,KAAA,CAAA,GAAA,CANuB;AAQjClJ,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJ+8G,SAAUvtI,IAAAA,EADN,CAHG,CARwB,CAgBpCjG,YAAaA,QAAQ,EAAG,CACvB,IAAA,CAAKs2B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACM,KAAA,CAAKujB,UAAL,CAAgBvjB,SAAhB,CAFiB,CAhBY,CAqBjCxd,OAAQ,CACPw3B,OAAQlvB,IAAAA,EADD,CAEPi+D,aAAcj+D,IAAAA,EAFP,CAGP86B,UAAW,CAAC,CACdlJ,KAAM,sBADQ,CAEdgB,MAAO,mBAFO,CAGdQ,MAAO,6LAAA,CAAA,KAAA,CAAA,GAAA,CAHO,CAAD,CAIT,CACJxB,KAAM,wBADF;AAEJgB,MAAO,mBAFH,CAGJQ,MAAO,6EAAA,CAAA,KAAA,CAAA,GAAA,CAHH,CAJS,CAQT,CACJxB,KAAM,kBADF,CAEJgB,MAAO,mBAFH,CAGJQ,MAAO,+JAAA,CAAA,KAAA,CAAA,GAAA,CAHH,CARS,CAYZ,CACDxB,KAAM,mBADL,CAEDgB,MAAO,mBAFN,CAGDQ,MAAO,2FAAA,CAAA,KAAA,CAAA,GAAA,CAHN,CAZY;AAgBZ,CAEDxB,KAAM,oBAFL,CAGDgB,MAAO,mBAHN,CAIDQ,MAAO,CAAC,QAAD,CAAU,SAAV,CAAoB,QAApB,CAJN,CAhBY,CAHJ,CArByB,CAgDjC45G,OAAQA,QAAQ,CAACt1I,CAAD,CAAS,CAC3B,IAAA,CAAK+gC,UAAL,CAAgBvjB,SAAhB,CAEG,IAAI,IAAA,CAAKs4H,cAAL,EAAJ,CAA2B,CACvB,IAAI38G,EAAct3B,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CACd,EAAC0c,CAAD,CAAa3B,MAAjB,EAA2B,IAA3B,CAAgCygB,WAAhC,EAA+C,IAAA,CAAKA,WAAL,EAA/C,GACC9e,CADD,CACa3B,MADb,CACsB,IAAA,CAAKygB,WAAL,EADtB,CAGIj4C,EAAJ,EAAcA,CAAd,CAAqB+1I,QAArB,GACC58G,CADD,CACa48G,QADb,CACwB/1I,CADxB,CAC+B+1I,QAD/B,CAGA,KAAA,CAAKv2D,oBAAL,CAA0BrmD,CAA1B,CAEA,IAAIA,CAAJ,CAAgB6F,OAAhB,CACC,GAAqC,EAArC,CAAI7F,CAAA,CAAY6F,OAAZ,CAAoBn2B,OAApB,CAA4B,GAA5B,CAAJ,CAAyC,CACrC,IAAIm2B,EAAUn9B,GAAA,CAAIwvC,MAAJ,CAAWlY,CAAX,CAAuB6F,OAAvB,CACd,KAAA,CAAKjB,eAAL,CAAqB5E,CAArB,CAAiC6F,OAAjC,CAA0CA,CAA1C,CAFqC,CAAzC,IAII,KAAA,CAAKg3G,yBAAL,CAA+B78G,CAA/B,CAA2C3B,MAA3C;AAAmD2B,CAAnD,CAA+D6F,OAA/D,CAfkB,CAA3B,IAoBC,CADI02G,CACJ,CADe,IAAA,CAAKhxG,WAAL,EACf,IACKuxG,CADL,CACqBP,CAAA,CAASxlH,IAAT,CAAc,eAAd,CADrB,GAGc+lH,CAAA,CAAc/vE,SAAd,CAAwB,CACnCpjE,KAAM,IAAA,CAAK03B,QAAL,CAAc,gBAAd,CAD6B,CAEnC5xB,MAAO,IAAA,CAAK4xB,QAAL,CAAc,YAAd,CAF4B,CAGnC6rC,OAAQ4vE,CAAA,CAAc/lH,IAAd,CAAmB,eAAnB,CAH2B,CAInCo8B,MAAO,IAJ4B,CAKnCtpD,UAAW,CACVkzI,YAAa,CACZhzI,GAAIA,QAAQ,EAAG,CACd,IAAA,CAAKiiC,SAAL,EAAA,CAAiBI,QAAjB,EAAA,CAA4BlrB,OAA5B,CAAoC,QAAQ,CAAC4qB,CAAD,CAAO,CACnC,MAAf,EAAIA,CAAJ,CAASl5B,IAAT,EAAoC,MAApC,EAAyBk5B,CAAzB,CAA8Bl5B,IAA9B,EACCk5B,CAAA,CAAKK,KAAL,EAAA,CAAaiyB,KAAb,CAAmB,SAAnB,CAA8B,CAA9B,CAAiC,CAAEx1C,SAAU,GAAZ,CAAjC,CAFiD,CAAnD,CADc,CADH,CAQZhe,MAAOkyI,CARK,CADH,CALwB,CAAxB,CA1BS,CAhDQ,CAiGjCz2D,qBAAsBA,QAAQ,CAACvsD,CAAD,CAAS,CACzC,IAAIlE,EAAK,IAAT,CACIod,EAAOpd,CAAA,CAAG2V,WAAH,EACXyH,EAAA,CAAKnD,IAAL,CAAU,IAAA,CAAKxO,QAAL,CAAc,gBAAd,CAAV,CACIvH,EAAJ,CAAWkjH,OAAX,GACKt0I,GAAA,CAAIy2B,QAAJ,CAAarF,CAAb,CAAoBkjH,OAApB,CACJ;CADmCljH,CACnC,CAD0CkjH,OAC1C,CADkD,CAACljH,CAAD,CAAQkjH,OAAR,CAClD,EAAAljH,CAAA,CAAOkjH,OAAP,CAAiBljH,CAAA,CAAOkjH,OAAP,CAAergI,GAAf,CAAmB,QAAQ,CAACqgI,CAAD,CAAU,CACrD,MAAOA,EAAA,CAAQzwI,OAAR,CAAgB,oCAAhB,CAAsD,0CAAtD,CAAA,CACLA,OADK,CACG,0BADH,CAC+B,4BAD/B,CAD8C,CAArC,CAFlB,CAQA,KAAA,CAAK0wI,wBAAL,CAA8BnjH,CAA9B,CAEA,EAAA,IAAIkF,MAAJ,CAAWvZ,IAAX,CAAgBk9B,KAAhB,CAAsBgtD,MAAtB,CAA6B71E,CAA7B,CAAA,EAAqCiF,IAArC,CAA0C,QAAQ,CAACV,CAAD,CAAS,CAC1D2U,CAAA,CAAKrZ,MAAL,EACA/D,EAAA,CAAGosB,SAAH,CAAa3jB,CAAb,CACIzI,EAAA,CAAGsnH,oBAAH,EAAJ,EACCtnH,CAAA,CAAG8V,aAAH,CAAiB,cAAjB,CAAiC,IAAjC,CAAuCrN,CAAvC,CAJyD,CAA3D,CAAA,CAMGgd,SANH,CAMa,QAAQ,EAAG,CACvBrI,CAAA,CAAKrZ,MAAL,EADuB,CANxB,CAdyC,CAjGN,CA0HjCsjH,yBAA0BA,QAAQ,CAACnjH,CAAD,CAAS,EA1HV,CA8HjCojH,qBAAsBA,QAAQ,EAAG,CAAA,IAC/BtnH;AAAK,IAD0B,CACpBod,EAAOpd,CAAA,CAAG2V,WAAH,EADa,CACKlN,EAAS,IAAA,CAAKpL,SAAL,EACjD,IAAIoL,CAAJ,EAAcA,CAAA,CAAOoqB,gBAAP,EAAd,EAA2C,CAAC7yB,CAAA,CAAG2V,WAAH,EAAA,CAAiBzY,KAAjB,CAAuB,OAAvB,CAAA,CAAgCu3E,KAAhC,CAAsC,QAAQ,CAACv/D,CAAD,CAAQ,CACjG,MAAO,CAACA,CAAD,CAAO2zC,aADmF,CAAtD,CAA5C,CAEI,CACH,IAAI/1B,EAAmBrqB,CAAA,CAAOsqB,mBAAP,EAAvB,CACIw0F,EAAUz0I,GAAA,CAAIu4B,MAAJ,CAAW,mBAAX,CAAgC,CACpCxxB,MAAOmmB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAD6B,CAE1CqpB,OAAQ,KAFkC,CAG1CnoB,MAAO,CACN72B,QAAS,EADH,CAEGw3B,KAAM,CAFT,CAGG55B,MAAO,GAHV,CAIGohD,OAAQ,CACJ93C,KAAM,MADF,CAEJugD,MAAO,SAFH,CAJX,CAQG5wB,MAAO,CACH,CACI54B,KAAM,KAANA,CAAYisB,CAAA,CAAGyL,QAAH,CAAY,yBAAZ,CAAZ13B,CAAmD,MAAnDA,EAA+E,gBAAlB,EAAA++C,CAAA,CAAqC,KAArC,CAA2C9yB,CAAA,CAAGyL,QAAH,CAAY,uBAAZ,CAA3C,CAAgF,MAAhF,CAAyF,EAAtJ13B,EAA0J,MAD9J,CADG,CAGD,CACDD,MAAO,WADN;AAEDg5B,WAAY9M,CAAA,CAAGyL,QAAH,CAAY,UAAZ,CAFX,CAHC,CARV,CAgBGg9B,KAAM,CAEL3T,OAAQ,CAACi/D,KAAM,QAAP,CAFH,CAGLpnF,MAAO,CAAC,CACJla,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,wBAAZ,CADF,CAEJ4B,GAAI,SAFA,CAGJjB,QAASA,QAAQ,EAAG,CACnB,IAAIo7G,EAAWD,CAAA,CAAQrqH,KAAR,CAAc,WAAd,CAAA,CAA2B,CAA3B,CAAA,CAA8Bgd,QAA9B,EAAA,CAAyCmO,IAAzC,EACM,EAArB,EAAIm/F,CAAJ,CAAa9xI,MAAb,CACCsqB,CAAA,CAAGwJ,SAAH,CAAa,CACZ2I,QAASnS,CAAA,CAAGyL,QAAH,CAAY,iBAAZ,CADG,CAAb,CADD,EAMA87G,CAAA,CAAQttG,IAAR,EACA,CAAAnnC,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACdjL,IAAKjX,CAAA,CAAG8e,cAAH,EADS,CAEd5a,OAAQ,CACPuE,OAAQA,CAAA,CAAOlL,KAAP,EADD,CAEPkqH,mBAAoBD,CAFb,CAFM,CAMd3oE,OAAQ,MANM,CAOdn3B,QAASA,QAAQ,CAAC/X,CAAD,CAASuS,CAAT,CAAkB,CAClCqlG,CAAA,CAAQxjH,MAAR,EACI2jH,EAAAA,CAAS/3G,CAAT+3G,CAAgBz0G,YACR,QAAZ,EAAIy0G,CAAJ,EAA+B,QAA/B,EAAuBA,CAAvB,EACGH,CAAA,CAAQ95G,KAAR,EAGT,CAFS2P,CAAA,CAAKrZ,MAAL,EAET,CADS/D,CAAA,CAAG2nH,eAAH,CAAmBD,CAAnB,CACT,CAAA1nH,CAAA,CAAG8V,aAAH,CAAiB,cAAjB;AAAiC,IAAjC,CAAuCrN,CAAvC,CAJM,EAOCzI,CAAA,CAAGwJ,SAAH,CAAa,CACd2I,QAASnS,CAAA,CAAGyL,QAAH,CAAY,aAAZ,CADK,CAAb,CAViC,CAPrB,CAsBd0jB,QAASA,QAAQ,CAACxf,CAAD,CAASuS,CAAT,CAAkB,CAClCqlG,CAAA,CAAQxjH,MAAR,EACC/D,EAAA,CAAGwJ,SAAH,CAAa,CACd2I,QAASnS,CAAA,CAAGyL,QAAH,CAAY,yBAAZ,CADK,CAAb,CAFiC,CAtBrB,CAAjB,CAPA,CAFmB,CAHhB,CAAD,CA0CF,CACDhZ,KAAMuN,CAAA,CAAGyL,QAAH,CAAY,sBAAZ,CADL,CAEDzwB,OAAsC,MAAtCA,EAAQytB,CAAA,CAAOsqB,mBAAP,EAFP,CAGD3mB,QAASA,QAAQ,EAAG,CACnBm7G,CAAA,CAAQttG,IAAR,EACAnnC,IAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACdjL,IAAKjX,CAAA,CAAG8e,cAAH,EADS,CAEd5a,OAAQ,CACPuE,OAAQA,CAAA,CAAOlL,KAAP,EADD,CAEPqqH,yBAA0B,CAAA,CAFnB,CAFM,CAMd/oE,OAAQ,MANM,CAOd1oC,SAAUA,QAAQ,CAACxG,CAAD,CAASuS,CAAT,CAAkB,CACnCqlG,CAAA,CAAQxjH,MAAR,EACAwjH,EAAA,CAAQ95G,KAAR,EACA2P,EAAA,CAAKrZ,MAAL,EACA/D,EAAA,CAAG8V,aAAH,CAAiB,cAAjB,CAAiC9V,CAAjC,CAAqCyI,CAArC,CAJmC,CAPtB,CAAjB,CAFmB,CAHnB,CA1CE,CAHF,CAhBT,CAHmC,CAAhC,CAAA,CAuFXnU,IAvFW,EAwFd,OAAO,CAAA,CA1FJ,CA4FH,MAAO,CAAA,CAhG2B,CA9HA;AAkOjCyyH,eAAgBA,QAAQ,CAAC7iH,CAAD,CAAS,CAC3BA,CAAL,GACCA,CADD,CACUpxB,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CADV,CAGA,OAAOwW,EAAP,CAAcuE,MAAd,EAAwBvE,CAAxB,CAA+BoZ,KAA/B,EAAyC,IAAzC,CAA8C4L,WAA9C,EAA6D,IAAA,CAAKA,WAAL,EAJ7B,CAlOA,CAyOjC+9F,0BAA2BA,QAAQ,CAAC7lG,CAAD,CAAW8d,CAAX,CAAsB,CAC3DpsD,GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACVjL,IAAK,IAAA,CAAK6H,cAAL,EADK,CAEV5a,OAAQ,CACPgS,KAAM,yBADC,CAEP2M,mBAAoBqc,CAFb,CAGVz2B,OAAQ2Y,CAHE,CAFE,CAOVsG,QAASA,QAAQ,CAAC5U,CAAD,CAAW2iB,CAAX,CAAgB,CAE5B9iD,CAAAA,CADOG,GAAAye,CAAIxe,IAAJwe,CAASkH,IAATlH,CAAc+wB,MAAd/wB,CAAqBuhB,CAArBvhB,CAA8B0hB,YAA9B1hB,CACP5e,CAAa4vC,cAAb5vC,CAA4BowC,QAC5B9S,EAAAA,CAAUn9B,GAAA,CAAIwvC,MAAJ,CAAW3vC,CAAX,CACd,KAAA,CAAKq8B,eAAL,CAAqBkwB,CAArB,CAAgCjvB,CAAhC,CAJgC,CAPvB,CAaVkf,QAASA,QAAQ,CAACrc,CAAD,CAAW,CAC3B,IAAA,CAAKtI,WAAL,CAAiB,SAAjB,CAA4BjxB,IAAAA,EAA5B,CAD2B,CAblB,CAgBVvE,MAAO,IAhBG,CAAjB,CAD2D,CAzOxB;AA8PpCsyD,iBAAkBA,QAAQ,CAAC1zD,CAAD,CAAK,CAC9B,MAAO,KAAA,CAAK+lD,oBAAL,EAAA,CAA4BnS,IAA5B,CAAiC5zC,CAAjC,CAAqC,CAC3C0pI,SAAUl0G,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EADiC,CAArC,CADuB,CA9PK,CAoQpCuoB,iBAAkBA,QAAQ,CAACx3C,CAAD,CAAO,CAChC,MAAO,KAAA,CAAK8pC,oBAAL,EAAA,CAA4B74C,IAA5B,CAAiC,EAAjC,CAAqC,CAC3Cw8H,SAAUl0G,MAAA,CAAOC,WAAP,CAAmByV,cAAnB,EADiC,CAArC,CADyB,CApQG,CA0QjC7qC,UAAW,CACV8iE,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CACnC,IAAA,CAAK2jB,SAAL,CAAe3jB,CAAf,CAGO,KAAA,CAAKrL,WAAL,CAAiB,YAAjB,CAAJ,EACL,IAAA,CAAKkqC,gBAAL,CAAsB,IAAA,CAAKlqC,WAAL,CAAiB,YAAjB,CAAtB,CAAA,CAAsD+L,IAAtD,CAA2D,QAAQ,EAAG,CAErE,IAAK9E,IAAIA,CAAT,GAAqB,KAAA,CAAKs1B,oBAAL,EAAA,CAA4BC,aAA5B,EAArB,CAAkE,CACjE,IAAIv9C,EAAQ,IAAA,CAAKs9C,oBAAL,EAAA,CAA4B+Q,kBAA5B,CAA+CrmC,CAA/C;AAAyD,OAAzD,CACZ,IAAc9qB,IAAAA,EAAd,GAAI8C,CAAJ,CAAyB,CACpBoiD,CAAAA,CAAM,IAAA,CAAKhwB,QAAL,CAAcpyB,CAAd,CAEV,KADA,IAAIlF,EAAQ,IAAA,CAAKwiD,oBAAL,EAAA,CAA4BkO,gBAA5B,CAA6CxjC,CAA7C,CAAZ,CACS5uB,EAAI,CAAb,CAAgBA,CAAhB,CAAoB0B,CAApB,CAA0BzB,MAA1B,CAAkCD,CAAA,EAAlC,CACC,IAAA,CAAK26B,eAAL,CAAqBj5B,CAAA,CAAM1B,CAAN,CAArB,CAA+BgpD,CAA/B,CAJuB,CAFwC,CAFG,CAAX,CAYzDhqD,IAZyD,CAYpD,IAZoD,CAA3D,CAgBE,KAAA,CAAKqU,EAAL,CAAQ,gBAAR,CAA0B,QAAQ,CAACgzB,CAAD,CAAM4qG,CAAN,CAAiB72H,CAAjB,CAAuB,CACvDonB,CAAAA,CAAM,IAAA,CAAKC,UAAL,EAAND,CAA0B,UAA1BA,CAAqCxO,CAAA,CAAOmF,YAAP,EACzC,KAAI7D,EAAM,IAAA,CAAKgB,oBAAL,EAANhB,EAAqC,EACzC,QAAOA,CAAP,CAAWqT,IACX,IAAe,cAAf,EAAIspG,CAAJ,CAEC,GAAI5zI,GAAA,CAAIw9B,OAAJ,CAAYzgB,CAAZ,CAAJ,EAAyB,MAAzB,EAAmCA,EAAA,CAAK,CAAL,CAAnC,EAA8C,UAA9C,EAA4DA,EAAA,CAAK,CAAL,CAA5D,CAAqE,CACpE,IAAI/Y,EAAW,EAAf,CACI+wI,EAAY,EAChBh4H,EAAA,CAAKvE,OAAL,CAAa,QAAQ,CAAC6oF,CAAD,CAAQ,CAC5Br9F,CAAA,CAASq9F,CAAT,CAAezhG,IAAf,CAAA,CAAqB,CAAA,CACrBm1I,EAAA,CAAU1zC,CAAV,CAAgBh3F,QAAhB,CAAA,CAA0B,CAAA,CAFE,CAA7B,CAIA4sB,EAAA,CAAI7M,KAAJ,CAAU9W,MAAA,CAAOC,IAAP,CAAYvP,CAAZ,CACVizB,EAAA,CAAI5sB,QAAJ,CAAaiJ,MAAA,CAAOC,IAAP,CAAYwhI,CAAZ,CARuD,CAArE,IAUC99G,EAAA,CAAI7M,KAAJ;AAAUrN,CAZZ,KAeK,IAAe,kBAAf,EAAI62H,CAAJ,CAAmC,CACvC,IAAIvpI,EAAW,EACX0S,EAAJ,CAASvE,OAAT,EACCuE,CAAA,CAAKvE,OAAL,CAAa,QAAQ,CAACjV,CAAD,CAAM,CAC1B8G,CAAA,CAASrF,IAAT,CAAczB,CAAA,CAAI2xC,QAAJ,EAAd,CAD0B,CAA3B,CAIDje,EAAA,CAAI5sB,QAAJ,CAAaA,CAP0B,CAAnC,IASA,IAAe,oBAAf,EAAIupI,CAAJ,CACA72H,CAAJ,CAAS9I,GAAT,GACCgjB,CADD,CACK7M,KADL,CACarN,CAAA,CAAK9I,GAAL,CAAS,QAAQ,CAAC6/D,CAAD,CAAa,CAAC,MAAOA,EAAA,CAAWlgC,OAAX,EAAR,CAA9B,CADb,CADI,KAKA,IAAe,sBAAf,EAAIggG,CAAJ,CACA72H,CAAJ,CAAS9I,GAAT,GACCgjB,CACA,CADI7M,KACJ,CADYrN,CAAA,CAAK9I,GAAL,CAAS,QAAQ,CAACmyD,CAAD,CAAe,CAAC,MAAOA,EAAA,CAAaxyB,OAAb,EAAR,CAAhC,CACZ,CAAA3c,CAAA,CAAI5sB,QAAJ,CAAe0S,CAAA,CAAK9I,GAAL,CAAS,QAAQ,CAACmyD,CAAD,CAAe,CAAC,MAAOA,EAAA,CAAalzB,WAAb,EAAR,CAAhC,CAFhB,CADI,KAMA,CACA3B,OAAJ,EAAcA,OAAA,CAAQ0hB,IAAR,CAAa,mBAAb,CAAiC2gF,CAAjC,CAA4C72H,CAA5C,CACd,OAFI,CAIDka,CAAJ,CAAQ+8G,QAAR,GACKA,CAEJ,CAFeh0I,GAAA,CAAIu9B,KAAJ,CAAUmc,IAAV,CAAeziB,CAAA,CAAI+8G,QAAJ,CAAa5vH,KAAb,CAAmB,GAAnB,CAAf,CAEf,CADA6S,CACA,CADIqT,IACJ,CADW0pG,CAAA,CAAS36H,KAAT,EACX,CAAoB,CAApB,CAAI26H,CAAJ,CAAapxI,MAAb,CACCq0B,CADD,CACK+8G,QADL,CACgBA,CAAA,CAASxqI,IAAT,CAAc,GAAd,CADhB;AAGC,OAAOytB,CAAP,CAAW+8G,QANb,CASA7vG,EAAA,EAAO,GAAP,CAAWnkC,GAAA,CAAIsT,MAAJ,CAAW4nB,aAAX,CAAyBjE,CAAzB,CACX,KAAA,CAAKoN,OAAL,CAAaF,CAAb,CArD2D,CAAzD,CArBmC,CAD1B,CA1QsB,CAArC,C,CCAAnkC,GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CyI,OAAQ,iBADmC,CAE3C+N,MAAO,yBAFoC,CAG3C3lC,MAAO,mBAHoC,CAA5C,CAUA/G;GAAA,CAAIk2B,MAAJ,CAAW,+BAAX,CAA4C,CAC3CyI,OAAS,wBADkC,CAE3CyC,SAAU,CAAC,uBAAD,CAAyB,8BAAzB,CAAwD,qBAAxD,CAFiC,CAG3C9hB,KAAO,wBAHoC,CAI3Cm0H,OAAQA,QAAQ,EAAG,CAClBzzI,GAAA,CAAIu4B,MAAJ,CAAW,wBAAX,CAAqC,CACjCypB,OAAQ,QADyB,CAEjCnoB,MAAO,CAAC,CACJw5B,OAAQ,OADJ,CAEJryD,MAAO,cAFH,CAAD,CAGJ,CACIA,MAAO,UADX,CAEGqyD,OAAQ,QAFX,CAGFjvC,MAAO,CAAA,CAHL,CAIGyV,MAAO,CAAC,CACP74B,MAAO,QADA,CAED8jC,YAAa,CAAA,CAFZ,CAAD,CAGL,CACD9jC,MAAO,aADN,CAEK8jC,YAAa,CAAA,CAFlB,CAHK,CAML,CACD9jC,MAAO,WADN,CAEK8jC,YAAa,CAAA,CAFlB,CANK,CASL,CACD9jC,MAAO,SADN,CAEK8jC,YAAa,CAAA,CAFlB,CATK,CAYL,CACD9jC,MAAO,QADN;AAEK8jC,YAAa,CAAA,CAFlB,CAZK,CAeL,CACD9jC,MAAO,kBADN,CAEK8jC,YAAa,CAAA,CAFlB,CAfK,CAJV,CAuBGtK,KAAM,CAvBT,CAHI,CAF0B,CAArC,CA+BM,KAAA,CAAK0E,UAAL,CAAgBvjB,SAAhB,CAhCY,CAJwB,CAA5C,C,CCVA3b,GAAA,CAAIk2B,MAAJ,CAAW,yBAAX,CAAsC,CACrCyI,OAAS,wBAD4B,CAErC7H,OAAQ,CAAC,iBAAD,CAF6B,CAGrCxX,KAAO,kBAH8B,CAIrC9e,YAAaA,QAAQ,EAAG,CACvB,IAAA,CAAKs2B,MAAL,CAAY,iBAAZ,CAAA,CAA+Bt2B,WAA/B,CAA2C4D,KAA3C,CAAiD,IAAjD,CAAuDuX,SAAvD,CACM,KAAA,CAAKujB,UAAL,CAAgBvjB,SAAhB,CAFiB,CAJa,CAQrCuc,QAAS,CACRG,KAAM,EADE,CAGRpB,IAAK,CACJqT,KAAM,WADF,CAEJya,SAAU,MAFN,CAGJhqB,OAAQt0B,IAAAA,EAHJ,CAIJuuI,IAAKvuI,IAAAA,EAJD,CAHG,CAR4B,CAmBrCtF,UAAW,CACP8iE,aAAcA,QAAQ,CAACj7B,CAAD,CAAMrT,CAAN,CAAc,CACnC,IAAA,CAAKk+G,QAAL,CAAcxlH,IAAd,CAAmB,cAAnB,CAAA,CAAmC7Q,QAAnC,EACA,KAAA,CAAKq2H,QAAL,CAAcxlH,IAAd,CAAmB,iBAAnB,CAAA,CAAsC4mH,aAAtC,CAAoD,CAApD,CACI3mG,EAAAA,CAAW,IAAA,CAAK8H,WAAL,EAAoB,IAAA,CAAKA,WAAL,EAApB,CAAyC,IAAA,CAAKA,WAAL,EAAzC;AAA8D3vC,IAAAA,EAC7E,IAAI+I,MAAJ,CAAW88B,OAAX,CAAmBC,SAAnB,EAAgC,CAAC+B,CAAjC,CAA2C,CAEtCA,CAAJ,CAAe3Y,CAAA,CAAOmF,YAAP,EACRxD,EAAAA,CAAct3B,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CAErB,KAAIupB,EAAM,IAAA,CAAKC,UAAL,EAAND,CAAwB,UAAxBA,CAAmCmK,CAAvC,CACSpqC,CAAT,KAASA,CAAT,GAAgBozB,EAAhB,CACC,GAAY,QAAZ,GAAIpzB,CAAJ,CAAsB,CACrB,IAAIi9B,EAAOnhC,GAAA,CAAIy2B,QAAJ,CAAaa,CAAA,CAAYpzB,CAAZ,CAAb,CAAA,CAAiC,CAACozB,CAAA,CAAYpzB,CAAZ,CAAD,CAAjC,CAAsDozB,CAAA,CAAYpzB,CAAZ,CAC7DlE,IAAA,CAAIw9B,OAAJ,CAAY2D,CAAZ,CAAJ,EACCA,CAAA,CAAK3oB,OAAL,CAAa,QAAQ,CAACoW,CAAD,CAAM,CACvBuV,CAAA,EAAO,GAAP,CAAWjgC,CAAX,CAAe,GAAf,CAAmB0qB,CADI,CAA3B,CAHoB,CASvBpf,MAAA,CAAO88B,OAAP,CAAeC,SAAf,CAAyB,CACxB5W,OAAQ2Y,CADgB,CAAzB,CAEG,UAFH,CAEcA,CAFd,CAEwBnK,CAFxB,CAhB0C,CAJR,CAD7B,CAnB0B,CA8CrCiI,iBAAkBA,QAAQ,EAAG,CAC5B,MAAO,KAAA,CAAKynG,QAAL,CAAcxlH,IAAd,CAAmB,sBAAnB,CADqB,CA9CQ,CAiDrColH,OAAQA,QAAQ,EAAG,CAClB,IAAIn8G,EAAct3B,GAAA,CAAIsT,MAAJ,CAAWikB,eAAX,CAA2Bh2B,QAA3B,CAAoCi2B,QAApC,CAA6C5c,MAA7C,CAAd0c,EAAsE,EAA1E,CACIgT,EAAO,IAAA,CAAKhgB,WAAL,CAAiB,MAAjB;AAAyB,WAAzB,CADX,CAEItpB,EAAQspC,CAAA,CAAKjoB,WAAL,EACZ,IAAI,CAACriB,GAAA,CAAIg3B,YAAJ,CAAiBib,UAAjB,CAA4B,SAA5B,CAAsCjxC,CAAtC,CAAL,EAAqDs2B,CAArD,CAAiE49G,MAAjE,CACCl1I,GAAA,CAAI0/B,GAAJ,CAAQle,IAAR,CAAa,CACTza,MAAO,IAAA,CAAK4xB,QAAL,CAAc,kBAAd,CADE,CAET0G,QAAS,CAAA,IAAIr/B,GAAJ,CAAQ2lC,QAAR,CAAiB,IAAA,CAAKhN,QAAL,CAAcrB,CAAA,CAAY49G,MAAZ,CAAqB,qBAArB,CAA6C,gBAA3D,CAAjB,CAAA,EAA+F9wI,KAA/F,CAAqG,CAC7GkmC,KAAMhT,CAAA,CAAY49G,MAAZ,CAAqB59G,CAArB,CAAiC49G,MAAjC,CAA0C5qG,CAD6D,CAE7G6qG,WAAY79G,CAAA,CAAY49G,MAAZ,EAA4C,SAA5C,EAAsB59G,CAAtB,CAAkC49G,MAAlC,CAAwD,IAAA,CAAKv8G,QAAL,CAAcrB,CAAd,CAA0B49G,MAA1B,CAAiC,SAAjC,CAAxD,CAAsG,EAFL,CAArG,CAFA,CAMT56G,QAASt6B,GAATs6B,CAAaoF,GAAbpF,CAAiBqF,EANR,CAOTC,KAAM5/B,GAAN4/B,CAAUF,GAAVE,CAAcE,KAPL,CAAb,CASA,CAAA9+B,CAAA,CAAQ,WAGT,KAAA,CAAK6yI,QAAL,CAAgB7zI,GAAA,CAAIu4B,MAAJ,CAAW,wBAAX,CAAqC,CACjDypB,OAAQ,QADyC,CAEjDgzF,IAAgCvuI,IAAAA,EAAhCuuI,GAAM,IAAA,CAAK1qH,WAAL,CAAiB,KAAjB,CAAN0qH;AAAgF,IAAhFA,EAA6C1+G,MAA7C0+G,CAAoD/0I,IAApD+0I,CAAyDI,YAAzDJ,CAAsE58G,QAAtE48G,EAA2H,IAA3HA,EAAwF1+G,MAAxF0+G,CAA+F/0I,IAA/F+0I,CAAoGI,YAApGJ,CAAiH58G,QAFhE,CAGjDyB,MAAO,CAAC,CACP74B,MAAO,cADA,CAEPqyD,OAAQ,OAFD,CAAD,CAGL,CACEA,OAAQ,OADV,CAEEryD,MAAO,cAFT,CAHK,CAML,CACDqyD,OAAQ,QADP,CAEDrR,OAAQ,MAFP,CAGDtc,OAAQ,gBAHP,CAIJ2vG,WAAY,CAJR,CAKJx7G,MAAO,CAAC,CACP74B,MAAQ,WADD,CAEPghD,OAAQ,CACP93C,KAAM,MADC,CAEP+2G,KAAM,QAFC,CAGPx2D,MAAO,QAHA,CAFD,CAOP5wB,MAAO,CAAC,CACP74B,MAAO,eADA,CAAD,CAEL,CACDA,MAAO,WADN,CAEDJ,MAAO,GAFN,CAGDK,KAAM,4FAANA,CAAmG,IAAA,CAAK03B,QAAL,CAAc,UAAd,CAAnG13B,CAA6H,QAA7HA;CAA6L,EAApD,EAAA,IAAA,CAAK03B,QAAL,CAAc,cAAd,CAAA,CAA8B3xB,OAA9B,CAAsC,SAAtC,CAAA,CAAyD,OAAzD,CAAiE,IAAA,CAAK2xB,QAAL,CAAc,cAAd,CAAjE,CAA+F,QAA/F,CAA0G,EAAnP13B,GACE,IAAA,CAAKq0I,oBAAL,EAAwE,CAAxE,CAA8B,IAAA,CAAKA,oBAAL,EAAA,CAA4B//F,IAA5B,EAA9B,CAAiE3yC,MAAjE,CAA6E,8BAA7E,CAA4G,IAAA,CAAK0yI,oBAAL,EAA5G,CAAwI,QAAxI,CAAmJ,EADrJr0I,CAHC,CAFK,CAPA,CAAD,CAeL,CACD+gD,OAAQ,KADP,CAEDtc,OAAQ,qBAFP,CAGD7L,MAAO,CACN74B,MAAOA,CADD,CAHN,CAfK,CALH,CANK,CAH0C,CAArC,CAsChB,KAAA,CAAKk+B,UAAL,CAAgBvjB,SAAhB,CAvDkB,CAjDkB,CAAtC,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,2BAAX,CAAwC,CACvCyI,OAAQ,iBAD+B,CAEvC+N,MAAO,qBAFgC,CAGvC3lC,MAAO,gBAHgC,CAAxC,CAKA/G;GAAA,CAAIk2B,MAAJ,CAAW,iCAAX,CAA8C,CAC7CyI,OAAS,wBADoC,CAE7CyC,SAAU,CAAC,uBAAD,CAAyB,8BAAzB,CAAwD,qBAAxD,CAFmC,CAG7C9hB,KAAO,0BAHsC,CAI7Cm0H,OAAQA,QAAQ,EAAG,CAClBzzI,GAAA,CAAIu4B,MAAJ,CAAW,wBAAX,CAAqC,CACjCypB,OAAQ,QADyB,CAEjCnoB,MAAO,CAAC,CACJw5B,OAAQ,OADJ,CAEJryD,MAAO,cAFH,CAAD,CAGJ,CACIA,MAAO,UADX,CAEGqyD,OAAQ,QAFX,CAGFjvC,MAAO,CAAA,CAHL,CAIGyV,MAAO,CAAC,CACP74B,MAAO,QADA,CAED8jC,YAAa,CAAA,CAFZ,CAAD,CAGL,CACD9jC,MAAO,eADN,CAEK8jC,YAAa,CAAA,CAFlB,CAHK,CAML,CACD9jC,MAAO,UADN,CAEK8jC,YAAa,CAAA,CAFlB,CANK,CASL,CACD9jC,MAAO,iBADN,CAEK8jC,YAAa,CAAA,CAFlB,CATK;AAYL,CACD9jC,MAAO,QADN,CAEK8jC,YAAa,CAAA,CAFlB,CAZK,CAeL,CACD9jC,MAAO,cADN,CAEK8jC,YAAa,CAAA,CAFlB,CAfK,CAJV,CAuBGtK,KAAM,CAvBT,CAHI,CAF0B,CAArC,CA+BM,KAAA,CAAK0E,UAAL,CAAgBvjB,SAAhB,CAhCY,CAJ0B,CAA9C,C,CCLA3b,GAAA,CAAIk2B,MAAJ,CAAW,0BAAX,CAAuC,CACtCyI,OAAS,kBAD6B,CAEtCyC,SAAU,CAAC,2BAAD,CAA6B,0BAA7B,CAAwD,0BAAxD,CAAmF,2BAAnF,CAF4B,CAGtC9hB,KAAO,mBAH+B,CAItCm0H,OAAQA,QAAQ,EAAG,CAClBzzI,GAAA,CAAIu4B,MAAJ,CAAW,wBAAX,CAAqC,CACjCypB,OAAQ,QADyB,CAEjCnoB,MAAO,CAAC,CACP74B,MAAO,UADA,CAEPqyD,OAAQ,QAFD,CAAD,CAGL,CACDryD,MAAO,cADN,CAEDqyD,OAAQ,OAFP,CAHK,CAF0B,CAArC,CAUA,KAAA,CAAKn0B,UAAL,CAAgBvjB,SAAhB,CAXkB,CAJmB,CAAvC,C,CCAA3b,GAAA,CAAIk2B,MAAJ,CAAW,sBAAX,CAAmC,CAClCyI,OAAS,wBADyB,CAElCrf,KAAO,eAF2B,CAGlC4Y,QAAS,CACRjB,IAAK,CACJwb,QAAShsC,IAAAA,EADL,CAEJisC,cAAejsC,IAAAA,EAFX,CADG,CAHyB,CASlCgtI,OAAQA,QAAQ,EAAG,CAAA,IACd55G,EAAQ,EADM,CACF3M,EAAK,IAChB,KAAA,CAAK5C,WAAL,CAAiB,SAAjB,CAAL,EACCuP,CAAA,CAAM70B,IAAN,CAAW,CACJquD,OAAQ,OADJ,CAEJryD,MAAO,cAFH,CAAX,CAKD64B,EAAA,CAAM70B,IAAN,CAAW,CACJquD,OAAQ,QADJ,CAEJrR,OAAQ,KAFJ,CAGJtc,OAAQ,eAHJ,CAIJ7L,MAAO,CACN74B,MAAO,IAAA,CAAKspB,WAAL,CAAiB,eAAjB,CAAA,CAAoC,WAApC,CAAkD,IAAA,CAAKirH,OAAL,EADnD,CAJH,CAOJp0I,UAAW,CACVC,YAAaA,QAAQ,CAAChD,CAAD,CAAY,CAChC,GAAI8uB,CAAA,CAAG5C,WAAH,CAAe,eAAf,CAAJ,CAAqC,CACvC,IAAI+T,EAAMnR,CAAA,CAAG0Q,WAAH,CAAe,IAAf,CACPx/B,EAAA,CAAU+oC,IAAV,CAAe,IAAA,CAAKxO,QAAL,CAAc,sBAAd,CAAf,CACG34B;GAAA,CAAImvC,IAAJ,CAASC,OAAT,CAAiB,CACbjL,IAAKjX,CAAA,CAAG8e,cAAH,EADQ,CAEb5a,OAAQ,CACPgS,KAAM,yBADC,CAEP2M,mBAAoB,IAAA,CAAKzlB,WAAL,CAAiB,eAAjB,CAFb,CAFK,CAAjB,CAAA,CAMG+L,IANH,CAMQ,QAAQ,CAAC2J,CAAD,CAAW,CAChC3B,CAAA,CAAIK,OAAJ,EACUjgB,EAAAA,CAAOze,GAAA,CAAIC,IAAJ,CAAS0lB,IAAT,CAAc6pB,MAAd,CAAqBxP,CAArB,CAA8BG,YAA9B,CACPq1G,EAAAA,CAAe3zF,kBAAA,CAAmBpjC,CAAnB,CAAwBgxB,cAAxB,CAAuCQ,QAAvC,CACf9xC,EAAAA,CAAS6B,GAAA,CAAIwvC,MAAJ,CAAWgmG,CAAX,CACb,KAAIpyG,EAAOpjC,GAAA,CAAIu4B,MAAJ,CAAW,CAACv3B,MAAOksB,CAAA,CAAGqoH,OAAH,EAAR,CAAX,CACXnyG,EAAA,CAAKvW,YAAL,CAAkB1uB,CAAlB,CACAC,EAAA,CAAU6yB,MAAV,EACA7yB,EAAA,CAAU4a,MAAV,CAAiB5a,CAAA,CAAUiwB,IAAV,CAAe,WAAf,CAAjB,CACAjwB,EAAA,CAAU2C,GAAV,CAAcqiC,CAAd,CACIjlC,EAAJ,CAAWw3B,MAAX,EACCzI,CAAA,CAAGywD,oBAAH,CAAwBx/E,CAAxB,CAXyB,CAN3B,CAAA,CAmBGw0C,SAnBH,CAmBa,QAAQ,CAAC3S,CAAD,CAAW,CAC3B9S,CAAJ,CAAOiY,WAAP,GACC7O,MACA,CADOwa,QACP,CADgB7wC,IAChB,CADqB8wC,IACrB,CAD0BG,MAC1B,CADmChkB,CAAA,CAAGiY,WAAH,EACnC,CAAAzO,SAAA,CAAUsJ,CAAV,CAFD,CAIA1J;MAAA,CAAOC,WAAP,CAAmBG,SAAnB,CAA6BsJ,CAA7B,CACA3B,EAAA,CAAI6Q,MAAJ,EAN+B,CAnBhC,CAHiC,CADL,CADvB,CAkCVhtC,MAAO,IAlCG,CAPP,CAAX,CA4CAlC,IAAA,CAAIu4B,MAAJ,CAAW,wBAAX,CAAqC,CACjCypB,OAAQ,QADyB,CAEjCnoB,MAAOA,CAF0B,CAArC,CAIA,KAAA,CAAKqF,UAAL,CAAgBvjB,SAAhB,CAxDkB,CATe,CAAnC;",
"sources":[" [synthetic:base] "," [synthetic:es6/util/createtemplatetagfirstarg] "," [synthetic:es6/util/arrayiterator] "," [synthetic:es6/util/makeiterator] "," [synthetic:util/defines] "," [synthetic:util/defineproperty] "," [synthetic:util/global] "," [synthetic:util/shouldpolyfill] "," [synthetic:util/polyfill] "," [synthetic:es6/util/setprototypeof] "," [synthetic:es6/generator_engine] "," [synthetic:es6/execute_async_generator] "," [synthetic:es6/symbol] "," [synthetic:es6/promise/promise] "," [synthetic:es6/array/fill] "," [synthetic:es6/typedarray/fill] "," [synthetic:es6/util/iteratorfromarray] "," [synthetic:es6/array/keys] "," [synthetic:util/findinternal] "," [synthetic:es6/array/find] "," [synthetic:util/owns] "," [synthetic:es6/object/values] "," [synthetic:es6/array/from] "," [synthetic:es6/array/findindex] "," [synthetic:es6/util/assign] "," [synthetic:es6/object/assign] ","src/bubblelines/Bubblelines.js","src/knots/Knots.js","src/doubletree/DoubleTree.js","src/doubletree/Trie.js","../webapp/resources/termsradio/TermsRadio.js","src/app/util/Assignable.js","src/app/util/Api.js","src/app/util/Localization.js","src/app/util/Colors.js","src/app/util/Deferrable.js","src/app/util/DetailedError.js","src/app/util/ResponseError.js","src/app/util/SparkLine.js","src/app/util/Toolable.js","src/app/util/Transferable.js","src/app/util/Variants.js","src/app/util/Downloadable.js","src/app/util/Storage.js","src/app/util/DiacriticsRemover.js","src/app/notebook/util/Show.js","src/app/notebook/util/Embed.js","src/app/data/model/AnalysisToken.js","src/app/data/model/Context.js","src/app/data/model/CorpusFacet.js","src/app/data/model/CorpusCollocate.js","src/app/data/model/CorpusTerm.js","src/app/data/model/CorpusNgram.js","src/app/data/model/Dimension.js","src/app/data/model/Document.js","src/app/data/model/DocumentEntity.js","src/app/data/model/DocumentQueryMatch.js","src/app/data/model/DocumentTerm.js","src/app/data/model/PrincipalComponent.js","src/app/data/model/RelatedTerm.js","src/app/data/model/StatisticalAnalysis.js","src/app/data/model/Token.js","src/app/data/model/TermCorrelation.js","src/app/data/store/VoyantStore.js","src/app/data/store/CAAnalysis.js","src/app/data/store/Contexts.js","src/app/data/store/CorpusCollocates.js","src/app/data/store/CorpusFacets.js","src/app/data/store/CorpusTerms.js","src/app/data/store/DocumentQueryMatches.js","src/app/data/store/DocumentTerms.js","src/app/data/store/DocumentEntities.js","src/app/data/store/Documents.js","src/app/data/store/PCAAnalysis.js","src/app/data/store/DocSimAnalysis.js","src/app/data/store/CorpusNgrams.js","src/app/data/store/RelatedTerms.js","src/app/data/store/TermCorrelations.js","src/app/data/store/Tokens.js","src/app/data/store/TSNEAnalysis.js","src/app/data/util/NetworkGraph.js","src/app/data/util/Geonames.js","src/app/data/model/Corpus.js","src/app/widget/CorpusSelector.js","src/app/widget/ListEditor.js","src/app/widget/StopListOption.js","src/app/widget/QuerySearchField.js","src/app/widget/TotalPropertyStatus.js","src/app/widget/DocumentSelector.js","src/app/widget/CorpusDocumentSelector.js","src/app/widget/DownloadFilenameBuilder.js","src/app/widget/DownloadFileFormat.js","src/app/widget/DownloadOptions.js","src/app/widget/FontFamilyOption.js","src/app/widget/ColorPaletteOption.js","src/app/widget/VoyantChart.js","src/app/widget/LiveSearchGrid.js","src/app/widget/ProgressMonitor.js","src/app/widget/VoyantTableTransform.js","src/app/widget/CategoriesBuilder.js","src/app/widget/VoyantNetworkGraph.js","src/app/widget/ReaderGraph.js","src/app/panel/Panel.js","src/app/panel/VoyantTabPanel.js","src/app/widget/Facet.js","src/app/panel/Bubbles.js","src/app/panel/Bubblelines.js","src/app/panel/Catalogue.js","src/app/panel/Cirrus.js","src/app/panel/CollocatesGraph.js","src/app/panel/Contexts.js","src/app/panel/CorpusCollocates.js","src/app/panel/CorpusTermSummary.js","src/app/panel/Correlations.js","src/app/panel/CorpusCreator.js","src/app/panel/DreamScape.js","src/app/panel/Knots.js","src/app/panel/Phrases.js","src/app/panel/CorpusTerms.js","src/app/panel/DocumentTerms.js","src/app/panel/Documents.js","src/app/panel/DocumentsFinder.js","src/app/panel/Embedder.js","src/app/panel/Fountain.js","src/app/panel/RezoViz.js","src/app/panel/Loom.js","src/app/panel/MicroSearch.js","src/app/panel/Mandala.js","src/app/panel/MicroOcp.js","src/app/panel/Reader.js","src/app/panel/SimpleDocReader.js","src/app/panel/ScatterPlot.js","src/app/panel/StreamGraph.js","src/app/panel/Summary.js","src/app/panel/TextualArc.js","src/app/panel/TopicContexts.js","src/app/panel/TermsBerry.js","src/app/panel/TermsRadio.js","src/app/panel/Trends.js","src/app/panel/NoTool.js","src/app/panel/VoyantFooter.js","src/app/panel/VoyantHeader.js","src/app/panel/CorpusSet.js","src/app/panel/ScatterSet.js","src/app/panel/Subset.js","src/app/panel/CollocatesSet.js","src/app/panel/BubblelinesSet.js","src/app/panel/CustomSet.js","src/app/panel/Veliza.js","src/app/panel/WordTree.js","src/app/panel/WordWall.js","src/app/panel/Topics.js","src/app/panel/Via.js","src/app/notebook/editor/button/Add.js","src/app/notebook/editor/button/Edit.js","src/app/notebook/editor/button/Export.js","src/app/notebook/editor/button/Counter.js","src/app/notebook/editor/button/MoveDown.js","src/app/notebook/editor/button/MoveUp.js","src/app/notebook/editor/button/Remove.js","src/app/notebook/editor/button/Metadata.js","src/app/notebook/editor/button/Movement.js","src/app/notebook/editor/button/Run.js","src/app/notebook/editor/button/RunAll.js","src/app/notebook/editor/button/RunUntil.js","src/app/notebook/editor/EditorWrapper.js","src/app/notebook/editor/CodeEditor.js","src/app/notebook/editor/CodeEditorWrapper.js","src/app/notebook/editor/TextEditor.js","src/app/notebook/editor/TextEditorWrapper.js","src/app/notebook/storage/github/OctokitWrapper.js","src/app/notebook/storage/github/ReposBrowser.js","src/app/notebook/storage/github/FileSaver.js","src/app/notebook/storage/github/GitHubDialogs.js","src/app/notebook/storage/voyant/StorageDialogs.js","src/app/notebook/Catalogue.js","src/app/notebook/Notebook.js","src/app/VoyantApp.js","src/app/VoyantCorpusApp.js","src/app/VoyantCorpusToolsetApp.js","src/app/VoyantDefaultApp.js","src/app/VoyantDocumentToolsetApp.js","src/app/VoyantNotebookApp.js","src/app/VoyantToolApp.js"],
"sourcesContent":["/*\n * Copyright 2012 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * @fileoverview The base namespace for code injected by the compiler\n * at compile-time.\n */\n\n/** @const */\nvar $jscomp = $jscomp || {};\n\n/** @const Locals for goog.scope */\n$jscomp.scope = {};\n","/*\n * Copyright 2020 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for a tagged template's argument\n * @suppress {uselessCode}\n */\n'require base';\n\n/**\n * Simply accepts an ITemplateArray and returns it after setting its raw\n * property\n * @param {!ITemplateArray} arrayStrings\n * @return {!ITemplateArray}\n * @noinline\n */\n$jscomp.createTemplateTagFirstArg = function(arrayStrings) {\n  arrayStrings.raw = arrayStrings;\n  return /** @type {!ITemplateArray} */ (arrayStrings);\n};\n\n/**\n * Simply accepts an ITemplateArray and returns it after setting its raw\n * property\n * @param {!ITemplateArray} arrayStrings\n * @param {!ITemplateArray} rawArrayStrings raw string values of arrayString\n * @return {!ITemplateArray}\n * @noinline\n */\n$jscomp.createTemplateTagFirstArgWithRaw = function(\n    arrayStrings, rawArrayStrings) {\n  arrayStrings.raw = rawArrayStrings;\n  return /** @type {!ITemplateArray} */ (arrayStrings);\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility method for creating an iterator for Arrays.\n */\n'require base';\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!IArrayLike<T>} array\n * @return {function():!IIterableResult<T>}\n * @template T\n */\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  };\n};\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {!Iterator<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  return /** @type {!Iterator<T>} */ ({next: $jscomp.arrayIteratorImpl(array)});\n};\n\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/util/arrayiterator';\n\n/**\n * Creates an iterator for the given iterable.  This iterator should never\n * be exposed to user code.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = typeof Symbol != 'undefined' && Symbol.iterator &&\n      (/** @type {?} */ (iterable)[Symbol.iterator]);\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n\n/**\n * Whether to assume ES5 is available.  This enables removing several\n * internal polyfills, which must otherwise be detected at runtime.\n * @define {boolean}\n */\n$jscomp.ASSUME_ES5 = false;\n\n/**\n * Whether to skip the conformance check and simply use the polyfill always.\n * @define {boolean}\n */\n$jscomp.ASSUME_NO_NATIVE_MAP = false;\n\n/**\n * Whether to skip the conformance check and simply use the polyfill always.\n * @define {boolean}\n */\n$jscomp.ASSUME_NO_NATIVE_SET = false;\n\n/**\n * Whether to provide an incorrect but tiny Math.fround polyfill that just\n * returns the number given.  This is usually okay to do, particularly if\n * `Math.fround` is only used to allow the JavaScript engine to use faster\n * 32-bit float operations, but could cause problems if program logic is\n * dependent on floats being truncated consistently.\n * @define {boolean}\n */\n$jscomp.SIMPLE_FROUND_POLYFILL = false;\n\n/**\n * Whether to isolate all injected polyfills from global state. This is not\n * on by default, as it bloats code size, but is useful when code needs to\n * operate on untrusted third_party sites. It relies on a compiler pass to\n * rewrite potential polyfill accesses.\n * @define {boolean}\n */\n$jscomp.ISOLATE_POLYFILLS = false;\n\n/**\n * Should we unconditionally override a native Promise implementation with our\n * own?\n * @define {boolean}\n */\n$jscomp.FORCE_POLYFILL_PROMISE = false;\n\n/**\n * Override the native Promise implementation if unhandledrejection event is not\n * supported.\n * @define {boolean}\n */\n$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION = false;\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {reportUnknownTypes}\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.defineProperty() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n *\n * Refuses to define properties on Array.prototype and Object.prototype,\n * since we can't make them non-enumerable and this messes up peoples' for\n * loops.  Beyond this, we simply assign values and not worry\n * about enumerability or writeability.\n *\n * @type {(typeof Object.defineProperty)}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.defineProperty =\n    $jscomp.ASSUME_ES5 || typeof Object.defineProperties == 'function' ?\n    Object.defineProperty :\n    function(target, property, descriptor) {\n      if (target == Array.prototype ||\n          // b/155133192\n          /** @type {?} */ (target) == Object.prototype) {\n        return target;\n      }\n\n      /**\n       * NOTE: This is currently never called with a descriptor outside\n       * the control of the compiler.  If we ever decide to polyfill either\n       * Object.defineProperty or Reflect.defineProperty for ES3, we should\n       * explicitly check for `get` or `set` on the descriptor and throw a\n       * TypeError, since it's impossible to properly polyfill it.\n       */\n      target[property] = descriptor.value;\n      return target;\n    };\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Runtime code to store the global object.\n * @suppress {uselessCode}\n */\n'require base';\n\n/**\n * Locate and return a reference to the global object.\n *\n * NOTE: This method is marked with `noinline`, because `RemoveUnusedCode` has\n * trouble removing the loop it contains if it gets inlined into the global\n * scope.\n * @param {?Object} passedInThis\n * @return {!Global} The global object.\n * @suppress {undefinedVars|reportUnknownTypes}\n * @noinline\n */\n$jscomp.getGlobal = function(passedInThis) {\n  var possibleGlobals = [\n    // Web Audio Worklets do not have any way to refer to their global object\n    // other than `globalThis`.\n    // This use of `globalThis` does not prevent removal of the `globalThis`\n    // polyfill, because the usage is guarded by a typeof check.\n    'object' == typeof globalThis && globalThis,\n    // Rhino (used by older Google Docs Script projects) has no `window` or\n    // `self`, but `this` from the global scope is the global object. Also,\n    // some GWT tests running on Rhino do have a `window` and `self` but, for\n    // unknown reasons, see runtime exceptions when we return `window` instead\n    // of `passedInThis`.\n    // NOTE: If the compiler's output is wrapped in a strict-mode function,\n    // this file's code won't actually be executing in global scope, so this\n    // value will be undefined.\n    passedInThis,\n    // Browser windows always have `window`\n    'object' == typeof window && window,\n    // WebWorkers have `self`\n    'object' == typeof self && self,\n    // NodeJS has `global`\n    'object' == typeof global && global,\n  ];\n  for (var i = 0; i < possibleGlobals.length; ++i) {\n    var maybeGlobal = possibleGlobals[i];\n    // It can happen that an environment has, for example, both `global` and\n    // `window` defined in the global scope, but one of them isn't actually\n    // the global object, so check that it really seems to be the global object.\n    // We use `Math` to check for this because it's only 4 characters long,\n    // exists in all possible JS environments, and doesn't have the problematic\n    // equality behavior of `NaN`.\n    if (maybeGlobal && maybeGlobal['Math'] == Math) {\n      return /** @type {!Global} */ (maybeGlobal);\n    }\n  }\n  // Throw an exception if we cannot find the global object.\n  // We have to be sneaky about it, otherwise the compiler will think this code\n  // has a side effect (throwing an exception) that prevents it from being\n  // removed, even when all usages of `$jscomp.global` get removed.\n  // Casting through unknown is necessary to keep the compiler from rejecting\n  // this code.\n  return /** @type {!Global} */ (\n      /** @type {?} */ ({\n        valueOf: function() {\n          throw new Error('Cannot find global object');\n        }\n      }.valueOf()));\n};\n\n\n/**\n * The global object.\n * @const {!Global}\n */\n$jscomp.global = $jscomp.getGlobal(this);\n","/*\n * Copyright 2020 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Helpers to decide whether to trust existing implementations of\n * polyfilled methods.\n * @suppress {uselessCode} the requires are considered \"useless\"\n */\n\n'require util/defines';\n\n/**\n * @const {boolean} whether Symbol is implemented natively (i.e. is not a\n * polyfill)\n */\n$jscomp.IS_SYMBOL_NATIVE =\n    typeof Symbol === 'function' && typeof Symbol('x') === 'symbol';\n\n/**\n * Whether code should use built-in versions of ES6 methods when available.\n *\n * @const {boolean}\n */\n$jscomp.TRUST_ES6_POLYFILLS =\n    !$jscomp.ISOLATE_POLYFILLS || $jscomp.IS_SYMBOL_NATIVE;\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {uselessCode}\n */\n'require util/defineproperty';\n'require util/defines';\n'require util/global';\n'require util/shouldpolyfill';\n\n/** @const {!Object<string, ?>} map from classes (Map) to polyfills*/\n$jscomp.polyfills = {};\n\n/** @const {!Object<string, string>} */\n$jscomp.propertyToPolyfillSymbol = {};\n\n/** @const {string} */\n$jscomp.POLYFILL_PREFIX = '$jscp$';\n\n/**\n * Returns a polyfilled version of the given property if present, otherwise\n * returns the actual property.\n *\n * This is a variable instead of a $jscomp.* property to make it simpler for\n * the compiler to avoid prematurely deleting it during optimizations.\n *\n * @param {*} target the receiver for the property access, e.g. `my.str`\n * @param {string} key the name of the property, e.g. `includes`\n * @return {?} if a polyfill is present, that polyfill property. otherwise\n *   the result of target[key]\n * @noinline prevent inlining so IsolatePolyfills can find this declaration.\n * @suppress {reportUnknownTypes}\n */\nvar $jscomp$lookupPolyfilledValue = function(target, key) {\n  /** @const */\n  var polyfilledKey = $jscomp.propertyToPolyfillSymbol[key];\n  if (polyfilledKey == null) {\n    return target[key];\n  }\n\n  // NOTE: this will throw if `target` is null or undefined.\n  /** @const */\n  var polyfill = target[polyfilledKey];\n\n  // Checking `polyfill !== undefined` is sufficient because $jscomp.polyfill\n  // never installs nullish polyfills. Otherwise we'd have to check something\n  // like `key in target`.\n  return polyfill !== undefined ? polyfill : target[key];\n};\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n *     e.g. 'Array.prototype.includes' or 'Map'.\n * @param {?function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.  If null is returned, then no polyfill will be added.  A\n *     null argument for this parameter indicates that the function will not be\n *     polyfilled, and is only useful for `build_polyfill_table.js` bookkeeping.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.  The compiler requires that\n *     `languageOut < fromLang` before injecting a polyfill (i.e. if the\n *     specified output language already includes the feature then there's no\n *     need to polyfill it).\n * @param {string} toLang The language level required by the polyfill\n *     implementation.  The compiler will issue an error if a polyfill is\n *     required, but `languageOut < toLang`.  Additionally, the\n *     `build_polyfill_table.js` script audits the polyfill dependency tree to\n *     ensure that no polyfill with a lower `toLang` depends on one with a\n *     higher `toLang`.\n * @noinline\n * NOTE: We prevent inlining so RemoveUnusedPolyfills can always recognize this\n * call.\n */\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  if (!polyfill) return;\n  if ($jscomp.ISOLATE_POLYFILLS) {\n    $jscomp.polyfillIsolated(target, polyfill, fromLang, toLang);\n  } else {\n    $jscomp.polyfillUnisolated(target, polyfill, fromLang, toLang);\n  }\n};\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n * @param {function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.\n * @param {string} toLang The language level required by the polyfill\n *     implementation.\n * @suppress {reportUnknownTypes}\n * @see $jscomp.polyfill for more documentation\n */\n$jscomp.polyfillUnisolated = function(target, polyfill, fromLang, toLang) {\n  var obj = $jscomp.global;\n  var split = target.split('.');\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) return;\n    obj = obj[key];\n  }\n  var property = split[split.length - 1];\n  var orig = obj[property];\n  var impl = polyfill(orig);\n  if (impl == orig || impl == null) return;\n  $jscomp.defineProperty(\n      obj, property, {configurable: true, writable: true, value: impl});\n};\n\n/**\n * Defines a polyfill for the given class or method under an obfuscated name.\n *\n * The main differences between this method and $jscomp.polyfillUnisolated are:\n *  - classes are defined on $jscomp.polyfills, not window.\n *  - methods (Array.prototype.includes) are defined on Array.prototype under\n *    an obfuscated name Array.prototype.$jscp$includes or a Symbol, if native.\n *  - this method installs our polyfill even when an existing implementation is\n *    found, as it might be an untrusted polyfill. The exception is that if\n *    Symbol is detected to be native, we assume any implementations of ES6\n *    classes/methods are also native and not polyfills.\n *\n * @param {string} target Qualified name of the class or method to polyfill,\n * @param {function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.\n * @param {string} toLang The language level required by the polyfill\n *     implementation.\n * @suppress {reportUnknownTypes}\n * @see $jscomp.polyfill for more parameter documentation\n */\n$jscomp.polyfillIsolated = function(target, polyfill, fromLang, toLang) {\n  var split = target.split('.');\n  var isSimpleName = split.length === 1;\n  var root = split[0];\n\n  // Look up the parent object. For classes this is just $jscomp.global.\n  // For methods/properties this may be a polyfill (Promise) or may a native\n  // object (Array.prototype).\n  var ownerObject;\n  if (!isSimpleName && root in $jscomp.polyfills) {\n    // Handle Symbol.asyncIterator and Promise.prototype.finally\n    ownerObject = $jscomp.polyfills;\n  } else {\n    // Handle Promise, Array.of, and String.prototype.startsWith\n    ownerObject = $jscomp.global;\n  }\n\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in ownerObject)) return;\n    ownerObject = ownerObject[key];\n  }\n\n  var property = split[split.length - 1];\n  // If Symbol is native and the target is in the ES6 spec, use the native imp.\n  // We assume the method/class was not polyfilled since polyfills typically\n  // back off in the presence of an existing implementation.\n  var nativeImpl = $jscomp.IS_SYMBOL_NATIVE && fromLang === 'es6' ?\n      ownerObject[property] :\n      null;\n  var impl = polyfill(nativeImpl);\n\n  if (impl == null) {\n    return;\n  }\n\n  if (isSimpleName) {\n    // Note: `impl` may be the actual native class instead of a\n    // polyfill. Add it to $jscomp.polyfills anyway. The IsolatePolyfills pass\n    // unconditionally replaces `Symbol` with `$jscomp.polyfills['Symbol']`.\n\n    // Use $jscomp.polyfills instead of ownerObject. For simple names like\n    // Promise and Symbol, ownerObject is the  global object, and we want to\n    // avoid adding new global variables.\n    $jscomp.defineProperty(\n        $jscomp.polyfills, property,\n        {configurable: true, writable: true, value: impl});\n  } else if (impl !== nativeImpl) {\n    // Skip installing an obfuscated property if we have found a native version\n    // of the method we're polyfilling. $jscomp$lookupPolyfilledValue will fall\n    // back to the native version anyway.\n    if ($jscomp.propertyToPolyfillSymbol[property] === undefined) {\n      $jscomp.propertyToPolyfillSymbol[property] = $jscomp.IS_SYMBOL_NATIVE ?\n          // use bracket access to avoid injecting the Symbol polyfill\n          $jscomp.global['Symbol'](property) :\n          $jscomp.POLYFILL_PREFIX + property;\n    }\n\n\n    property = $jscomp.propertyToPolyfillSymbol[property];\n\n    // Define the polyfilled method on its owner but under an obfuscated\n    // name to avoid collisions. The owner will be a native class like Promise\n    // or a native class's prototype like Array.prototype.\n    $jscomp.defineProperty(\n        ownerObject, property,\n        {configurable: true, writable: true, value: impl});\n  }\n};\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * @suppress {uselessCode}\n */\n\n'require util/defines';\n'require util/polyfill';\n'require util/shouldpolyfill';\n\n/**\n * @suppress {missingProperties,reportUnknownTypes}\n * @return {boolean}\n */\n$jscomp.underscoreProtoCanBeSet = function() {\n  var x = {a: true};\n  var y = {};\n  try {\n    y.__proto__ = x;\n    return y.a;\n  } catch (e) {\n    // __proto__ property is readonly (possibly IE 10?)\n  }\n  return false;\n};\n\n/**\n * If we can implement it, this will be a function that attempts to set the\n * prototype of an object, otherwise it will be `null`.\n *\n * It returns the first argument if successful. Throws a `TypeError` if the\n * object is not extensible.\n *\n * @type {null|function(!Object, ?Object): !Object}\n */\n$jscomp.setPrototypeOf = ($jscomp.TRUST_ES6_POLYFILLS &&\n                          typeof Object.setPrototypeOf == 'function') ?\n    Object.setPrototypeOf :\n    $jscomp.underscoreProtoCanBeSet() ? function(target, proto) {\n      target.__proto__ = proto;\n      if (target.__proto__ !== proto) {\n        throw new TypeError(target + ' is not extensible');\n      }\n      return target;\n    } : null;\n","/*\n * Copyright 2018 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n'require es6/util/setprototypeof';\n'require es6/util/makeiterator';\n\n/**\n * @fileoverview Implementation for $jscomp.generator\n *\n * This closure-compiler internal JavaScript library provides an ES3-compatible\n * API for writing generator functions using a minimum of boilerplate.\n *\n * Example:\n * ```javascript\n * // yields numbers starting with the given value, then incrementing by the\n * // value supplied to the next() method until the computed value is <= min or\n * // >= max. Then it returns the total number of times it yielded.\n * // If the client code calls throw(), the error will be logged and then\n * // yielded, but the generator won't terminate.\n * function *es6Definition(start, min, max) {\n *   let currentValue = start;\n *   let yieldCount = 0;\n *   while (currentValue > min && currentValue < max) {\n *     try {\n *       currentValue += yield(currentValue);\n *     } catch (e) {\n *       yield(e);\n *       console.log('client threw error', e);\n *     } finally {\n *       yieldCount++;\n *     }\n *   }\n *   return [yieldCount, currentValue];\n * }\n *\n * function es3Definition(start, min, max) {\n *   var currentValue;\n *   var yieldCount;\n *   var e;\n *\n *   return $jscomp.generator.createGenerator(\n *       es3Definition,\n *       function (context$) {\n *         switch (context$.nextAddress) {\n *           case 1: // execution always starts with 1\n *             currentValue = start;\n *             yieldCount = 0;\n *             // fall-through\n *\n *           case 2:\n *             if (!(currentValue > min && currentValue < max)) {\n *               // exit while loop:\n *               return context$.jumpTo(3);\n *             }\n *             // try {\n *             JSCompiler_temp_const$jscomp$1 = currentValue;\n *             context$.setCatchFinallyBlocks(4, 5);\n *             return context$.yield(currentValue, 7);\n *\n *           case 7:\n *             currentValue =\n *                 JSCompiler_temp_const$jscomp$1 + context$.yieldResult;\n *             // fall-through: execute finally block\n *\n *           case 5: // finally block start\n *             context$.enterFinallyBlock();\n *             yieldCount++;\n *             return context$.leaveFinallyBlock(6);\n *\n *           case 4: // catch block start\n *             e = context$.enterCatchBlock();\n *             return context$.yield(e, 8);\n *\n *           case 8: // finish catch block\n *             console.log('client threw error', e);\n *             return context$.jumpTo(5);\n *\n *           case 6:\n *             context$.jumpTo(2);\n *             break;\n *\n *           case 3:\n *             // come back here when while loop block exits\n *             return context$.return([yieldCount, currentValue]);\n *         }\n *       }\n *   });\n * };\n * ```\n */\n\n/** @const */\n$jscomp.generator = {};\n\n/**\n * Ensures that the iterator result is actually an object.\n *\n * @private\n * @final\n * @param {*} result\n * @return {void}\n * @throws {TypeError} if the result is not an instenace of Object.\n */\n$jscomp.generator.ensureIteratorResultIsObject_ = function(result) {\n  if (result instanceof Object) {\n    return;\n  }\n  throw new TypeError('Iterator result ' + result + ' is not an object');\n};\n\n\n/**\n * Tracks state machine state used by generator.Engine.\n *\n * @template VALUE\n * @constructor\n * @final\n * @struct\n */\n$jscomp.generator.Context = function() {\n  /**\n   * Whether the generator program is being executed at the moment in the\n   * current context. Is used to prevent reentrancy.\n   *\n   * @private\n   * @type {boolean}\n   */\n  this.isRunning_ = false;\n\n  /**\n   * An iterator that should yield all its values before the main program can\n   * continue.\n   *\n   * @private\n   * @type {?Iterator<VALUE>}\n   */\n  this.yieldAllIterator_ = null;\n\n  /**\n   * The value that will be sent to the program as the result of suspended\n   * yield expression.\n   *\n   * @type {?}\n   */\n  this.yieldResult = undefined;\n\n  /**\n   * The next address where the state machine execution should be resumed.\n   *\n   * <p>Program execution starts at 1 and ends at 0.\n   *\n   * @type {number}\n   */\n  this.nextAddress = 1;\n\n  /**\n   * The address that should be executed once an exception is thrown.\n   *\n   * <p>Value of 0 means no catch block exist that would handles an exception.\n   *\n   * @private\n   * @type {number}\n   */\n  this.catchAddress_ = 0;\n\n  /**\n   * The address that should be executed once the result is being returned\n   * or if the exception is thrown and there is no catchAddress specified.\n   *\n   * <p>Value of 0 means no finally block is set.\n   *\n   * @private\n   * @type {number}\n   */\n  this.finallyAddress_ = 0;\n\n  /**\n   * Stores information for the runtime propagation of values and control\n   * flow such as the behaviour of statements (break, continue, return and\n   * throw) that perform nonlocal transfers of control.\n   *\n   * @private\n   * @type {null|{return: VALUE}|{exception, isException: boolean}|{jumpTo: number}}.\n   */\n  this.abruptCompletion_ = null;\n\n  /**\n   * The preserved abruptCompletion_ when entering a `finally` block. If\n   * the `finally` block completes normally the preserved abruptCompletion_ is\n   * restored:\n   * <pre>\n   * try {\n   * } finally {  // nesting level 0\n   *   // abruptCompletion_ is saved in finallyContexts_[0]\n   *   try {\n   *   } finally {  // nesting level 1\n   *     // abruptCompletion_ is saved in finallyContexts_[1]\n   *     ...\n   *     // abruptCompletion_ is restored from finallyContexts_[1]\n   *   }\n   *   // abruptCompletion_ is restored from finallyContexts_[0]\n   * }\n   * <pre>\n   *\n   * @private\n   * @type {?Array<null|{return: VALUE}|{exception, isException: boolean}|{jumpTo: number}>}.\n   */\n  this.finallyContexts_ = null;\n};\n\n/**\n * Marks generator program as being run.\n *\n * @private\n * @final\n * @return {void}\n * @throws {TypeError} if generator is already running.\n */\n$jscomp.generator.Context.prototype.start_ = function() {\n  if (this.isRunning_) {\n    throw new TypeError('Generator is already running');\n  }\n  this.isRunning_ = true;\n};\n\n/**\n *\n *\n * @private\n * @final\n * @return {void}\n */\n$jscomp.generator.Context.prototype.stop_ = function() {\n  this.isRunning_ = false;\n};\n\n/**\n * Transfers program execution to an appropriate catch/finally block that\n * should be executed if exception occurs.\n *\n * @private\n * @final\n * @return {void}\n */\n$jscomp.generator.Context.prototype.jumpToErrorHandler_ = function() {\n  this.nextAddress = this.catchAddress_ || this.finallyAddress_;\n};\n\n/**\n * Sets the result of suspended yield expression.\n *\n * @private\n * @final\n * @param {?=} value The value to send to the generator.\n * @return {void}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.prototype.next_ = function(value) {\n  this.yieldResult = value;\n};\n\n/**\n * Throws exception as the result of suspended yield.\n *\n * @private\n * @final\n * @param {?} e\n * @return {void}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.prototype.throw_ = function(e) {\n  this.abruptCompletion_ = {exception: e, isException: true};\n  this.jumpToErrorHandler_();\n};\n\n/**\n * Returns a value as the result of generator function.\n *\n * @final\n * @param {VALUE=} value\n * @return {void}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.prototype.return = function(value) {\n  this.abruptCompletion_ = {return: /** @type {VALUE} */ (value)};\n  this.nextAddress = this.finallyAddress_;\n};\n\n/**\n * Changes the context so the program execution will continue from the given\n * state after executing nessesary pending finally blocks first.\n *\n * @final\n * @param {number} nextAddress The state that should be run.\n * @return {void}\n */\n$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks = function(\n    nextAddress) {\n  this.abruptCompletion_ = {jumpTo: nextAddress};\n  this.nextAddress = this.finallyAddress_;\n};\n\n/**\n * Pauses the state machine program assosiated with generator function to yield\n * a value.\n *\n * @final\n * @param {VALUE} value The value to return from the generator function via\n *     the iterator protocol.\n * @param {number} resumeAddress The address where the program should resume.\n * @return {{value: VALUE}}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.prototype.yield = function(value, resumeAddress) {\n  this.nextAddress = resumeAddress;\n  return {value: value};\n};\n\n/**\n * Causes the state machine program to yield all values from an iterator.\n *\n * @final\n * @param {string|!Iterator<VALUE>|!Iterable<VALUE>|!Arguments} iterable\n *     Iterator to yeild all values from.\n * @param {number} resumeAddress The address where the program should resume.\n * @return {void | {value: VALUE}}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.prototype.yieldAll = function(\n    iterable, resumeAddress) {\n  /** @const @type {!Iterator<VALUE>} */ var iterator =\n      $jscomp.makeIterator(iterable);\n  /** @const */ var result = iterator.next();\n  $jscomp.generator.ensureIteratorResultIsObject_(result);\n  if (result.done) {\n    // If `someGenerator` in `x = yield *someGenerator` completes immediately,\n    // x is the return value of that generator.\n    this.yieldResult = result.value;\n    this.nextAddress = resumeAddress;\n    return;\n  }\n  this.yieldAllIterator_ = iterator;\n  return this.yield(result.value, resumeAddress);\n};\n\n/**\n * Changes the context so the program execution will continue from the given\n * state.\n *\n * @final\n * @param {number} nextAddress The state the program should continue\n * @return {void}\n */\n$jscomp.generator.Context.prototype.jumpTo = function(nextAddress) {\n  this.nextAddress = nextAddress;\n};\n\n/**\n * Changes the context so the program execution ends.\n *\n * @final\n * @return {void}\n */\n$jscomp.generator.Context.prototype.jumpToEnd = function() {\n  this.nextAddress = 0;\n};\n\n/**\n * Sets catch / finally handlers.\n * Used for try statements with catch blocks.\n *\n * @final\n * @param {number} catchAddress The address of the catch block.\n * @param {number=} finallyAddress The address of the finally block.\n * @return {void}\n */\n$jscomp.generator.Context.prototype.setCatchFinallyBlocks = function(\n    catchAddress, finallyAddress) {\n  this.catchAddress_ = catchAddress;\n  if (finallyAddress != undefined) {\n    this.finallyAddress_ = finallyAddress;\n  }\n};\n\n/**\n * Sets finally handler.\n * Used for try statements without catch blocks.\n *\n * @const\n * @param {number=} finallyAddress The address of the finally block or 0.\n * @return {void}\n */\n$jscomp.generator.Context.prototype.setFinallyBlock = function(finallyAddress) {\n  this.catchAddress_ = 0;\n  this.finallyAddress_ = finallyAddress || 0;\n};\n\n/**\n * Sets a catch handler and jumps to the next address.\n * Used for try statements without finally blocks.\n *\n * @final\n * @param {number} nextAddress The state that should be run next.\n * @param {number=} catchAddress The address of the catch block or 0.\n * @return {void}\n */\n$jscomp.generator.Context.prototype.leaveTryBlock = function(\n    nextAddress, catchAddress) {\n  this.nextAddress = nextAddress;\n  this.catchAddress_ = catchAddress || 0;\n};\n\n/**\n * Initializes exception variable in the beginning of catch block.\n *\n * @final\n * @param {number=} nextCatchBlockAddress The address of the next catch block\n *     that is preceded by no finally blocks.\n * @return {?} Returns an exception that was thrown from \"try\" block.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.prototype.enterCatchBlock = function(\n    nextCatchBlockAddress) {\n  this.catchAddress_ = nextCatchBlockAddress || 0;\n  /** @const */ var exception =\n      /** @type {{exception, isException: boolean}} */ (this.abruptCompletion_)\n          .exception;\n  this.abruptCompletion_ = null;\n  return exception;\n};\n\n/**\n * Saves the current throw context which will be restored at the end of finally\n * block.\n *\n * @final\n * @param {number=} nextCatchAddress\n * @param {number=} nextFinallyAddress\n * @param {number=} finallyDepth The nesting level of current \"finally\" block.\n * @return {void}\n */\n$jscomp.generator.Context.prototype.enterFinallyBlock = function(\n    nextCatchAddress, nextFinallyAddress, finallyDepth) {\n  if (!finallyDepth) {\n    this.finallyContexts_ = [this.abruptCompletion_];\n  } else {\n    /**\n     * @type {!Array<null|{return: VALUE}|{exception, isException: boolean}|{jumpTo: number}>}\n     */\n    (this.finallyContexts_)[finallyDepth] = this.abruptCompletion_;\n  }\n  this.catchAddress_ = nextCatchAddress || 0;\n  this.finallyAddress_ = nextFinallyAddress || 0;\n};\n\n/**\n * Figures out whether the program execution should continue normally, or jump\n * to the closest catch/finally block.\n *\n * @final\n * @param {number} nextAddress The state that should be run next.\n * @param {number=} finallyDepth The nesting level of current \"finally\" block.\n * @return {void}\n * @suppress {strictMissingProperties}\n */\n$jscomp.generator.Context.prototype.leaveFinallyBlock = function(\n    nextAddress, finallyDepth) {\n  // There could be trailing finally contexts if a nested finally throws an\n  // exception or return.\n  // e.g.\n  // try {\n  //   ...\n  //   return 1;\n  // } finally {\n  //   // finallyDepth == 0\n  //   // finallyContext == [{return: 1}]\n  //   try {\n  //     ...\n  //     try {\n  //       throw new Error(2);\n  //     } finally {\n  //       // finallyDepth == 1\n  //       // finallyContext == [{return: 1}, {exception: Error(2)}]\n  //       try {\n  //         throw new Error(3);\n  //       } finally {\n  //         // finallyDepth == 2\n  //         // finallyContext == [\n  //         //     {return: 1},\n  //         //     {exception: Error(2)},\n  //         //     {exception: Error(3)}\n  //         // ]\n  //         throw new Error(4); // gets written in abruptCompletion_\n  //         // leaveFinallyBlock() never gets called here\n  //       }\n  //       // leaveFinallyBlock() never gets called here\n  //     }\n  //   } catch (e) {\n  //      // swallow error\n  //      // abruptCompletion becomes null\n  //   } finally {\n  //     // finallyDepth == 1\n  //     // finallyContext == [\n  //     //     {return: 1},\n  //     //     null, // overwritten, because catch swallowed the error\n  //     //     {exception: Error(3)}  // left over\n  //     // ]\n  //     // leaveFinallyBlock() called here\n  //     // finallyContext == [{return: 1}]\n  //     // abruptCompletion == null\n  //   }\n  //   // leaveFinallyBlock() called here\n  //   // finallyContext = []\n  //   // abruptCompletion == {return: 1};\n  // }\n  /** @const */ var preservedContext =\n      /**\n       * @type {!Array<null|{return: VALUE}|{exception, isException: boolean}|{jumpTo: number}>}\n       */\n      (this.finallyContexts_).splice(finallyDepth || 0)[0];\n  /** @const */ var abruptCompletion = this.abruptCompletion_ =\n      this.abruptCompletion_ || preservedContext;\n  if (abruptCompletion) {\n    if (abruptCompletion.isException) {\n      return this.jumpToErrorHandler_();\n    }\n    // Check if there is a pending break/continue jump that is not preceded by\n    // finally blocks that should be executed before.\n    // We always generate case numbers for the start and end of loops before\n    // numbers for anything they contain, so any finally blocks within will be\n    // guaranteed to have higher addresses than the loop break and continue\n    // positions.\n    // e.g.\n    // l1: while (...) {            // generated addresses: 100: break l1;\n    //       try {                  // generated addresses: 101: finally,\n    //         try {                // generated addresses: 102: finally,\n    //           l2: while (...) {  // generated addresses: 103: break l2;\n    //\n    //                 if (...) {\n    //                   break l1;  // becomes\n    //                              // $context.jumpThroughFinallyBlocks(101),\n    //                              // since 2 finally blocks must be crossed\n    //                 }\n    //                 break l2;    // becomes $context.jumpTo(103)\n    //               }\n    //         } finally {\n    //           // When leaving this finally block:\n    //           // 1. We keep the abrupt completion indicating 'break l1'\n    //           // 2. We jump to the enclosing finally block.\n    //         }\n    //       } finally {\n    //         // When leaving this finally block:\n    //         // 1. We complete the abruptCompletion indicating 'break l1' by\n    //         //   jumping to the loop start address.\n    //         // 2. Abrupt completion is now null, so normal execution\n    //         //   continues from there.\n    //       }\n    //     }\n    if (abruptCompletion.jumpTo != undefined &&\n        this.finallyAddress_ < abruptCompletion.jumpTo) {\n      this.nextAddress = abruptCompletion.jumpTo;\n      this.abruptCompletion_ = null;\n    } else {\n      this.nextAddress = this.finallyAddress_;\n    }\n  } else {\n    this.nextAddress = nextAddress;\n  }\n};\n\n/**\n * Is used in transpilation of `for in` statements.\n *\n * <p><code>for (var i in obj) {...}</code> becomes:\n * <pre>\n * for (var i, $for$in = context$.forIn(obj);\n *      (i = $for$in.getNext()) != null;\n *      ) {\n *   ...\n * }\n * </pre>\n *\n * @final\n * @param {?} object\n * @return {!$jscomp.generator.Context.PropertyIterator}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.prototype.forIn = function(object) {\n  return new $jscomp.generator.Context.PropertyIterator(object);\n};\n\n/**\n * @constructor\n * @final\n * @struct\n * @param {?} object\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.PropertyIterator = function(object) {\n  /**\n   * @private\n   * @const\n   * @type {?}\n   */\n  this.object_ = object;\n\n  /**\n   * @private\n   * @const\n   * @type {!Array<string>}\n   */\n  this.properties_ = [];\n\n  for (var property in /** @type {!Object} */ (object)) {\n    this.properties_.push(property);\n  }\n  this.properties_.reverse();\n};\n\n/**\n * Returns the next object's property that is still valid.\n *\n * @final\n * @return {?string}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Context.PropertyIterator.prototype.getNext = function() {\n  // The JS spec does not require that properties added after the loop begins\n  // be included in the loop, but it does require that the current property\n  // must still exist on the object when the loop iteration starts.\n  while (this.properties_.length > 0) {\n    /** @const */ var property = this.properties_.pop();\n    if (property in /** @type {!Object} */ (this.object_)) {\n      return property;\n    }\n  }\n  return null;\n};\n\n/**\n * Engine handling execution of a state machine associated with the generator\n * program and its context.\n *\n * @private\n * @template VALUE\n * @constructor\n * @final\n * @struct\n * @param {function(!$jscomp.generator.Context<VALUE>): (void|{value: VALUE})} program\n */\n$jscomp.generator.Engine_ = function(program) {\n  /**\n   * @private\n   * @const\n   * @type {!$jscomp.generator.Context<VALUE>}\n   */\n  this.context_ = new $jscomp.generator.Context();\n\n  /**\n   * @private\n   * @const\n   * @type {function(!$jscomp.generator.Context<VALUE>): (void|{value: VALUE})}\n   */\n  this.program_ = program;\n};\n\n/**\n * Returns an object with two properties done and value.\n * You can also provide a parameter to the next method to send a value to the\n * generator.\n *\n * @private\n * @final\n * @param {?=} value The value to send to the generator.\n * @return {!IIterableResult<VALUE>}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Engine_.prototype.next_ = function(value) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(\n        this.context_.yieldAllIterator_.next, value, this.context_.next_);\n  }\n  this.context_.next_(value);\n  return this.nextStep_();\n};\n\n/**\n * Attempts to finish the generator with a given value.\n *\n * @private\n * @final\n * @param {VALUE} value The value to return.\n * @return {!IIterableResult<VALUE>}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Engine_.prototype.return_ = function(value) {\n  this.context_.start_();\n  /** @const */ var yieldAllIterator = this.context_.yieldAllIterator_;\n  if (yieldAllIterator) {\n    /** @const @type {function(VALUE): !IIterableResult<VALUE>} */ var\n        returnFunction =\n            'return' in yieldAllIterator ? yieldAllIterator['return'] :\n                                           function(v) {\n                                             return {value: v, done: true};\n                                           };\n    return this.yieldAllStep_(returnFunction, value, this.context_.return);\n  }\n  this.context_.return(value);\n  return this.nextStep_();\n};\n\n/**\n * Resumes the execution of a generator by throwing an error into it and\n * returns an object with two properties done and value.\n *\n * @private\n * @final\n * @param {?} exception The exception to throw.\n * @return {!IIterableResult<VALUE>}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Engine_.prototype.throw_ = function(exception) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(\n        this.context_.yieldAllIterator_['throw'], exception,\n        this.context_.next_);\n  }\n  this.context_.throw_(exception);\n  return this.nextStep_();\n};\n\n/**\n * Redirects next/throw/return method calls to an iterator passed to \"yield *\".\n *\n * @private\n * @final\n * @template T\n * @param {function(this:Iterator<VALUE>, T): !IIterableResult<VALUE>} action\n * @param {T} value\n * @param {function(this:$jscomp.generator.Context, VALUE): void} nextAction\n * @return {!IIterableResult<VALUE>}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Engine_.prototype.yieldAllStep_ = function(\n    action, value, nextAction) {\n  try {\n    /** @const */ var result = action.call(\n        /** @type {!Iterator<VALUE>} */ (this.context_.yieldAllIterator_),\n        value);\n    $jscomp.generator.ensureIteratorResultIsObject_(result);\n    if (!result.done) {\n      this.context_.stop_();\n      return result;\n    }\n    // After `x = yield *someGenerator()` x is the return value of the\n    // generator, not a value passed to this generator by the next() method.\n    /** @const */ var resultValue = result.value;\n  } catch (e) {\n    this.context_.yieldAllIterator_ = null;\n    this.context_.throw_(e);\n    return this.nextStep_();\n  }\n  this.context_.yieldAllIterator_ = null;\n  nextAction.call(this.context_, resultValue);\n  return this.nextStep_();\n};\n\n/**\n * Continues/resumes program execution until the next suspension point (yield).\n *\n * @private\n * @final\n * @return {!IIterableResult<VALUE>}\n * @suppress {reportUnknownTypes, strictMissingProperties}\n */\n$jscomp.generator.Engine_.prototype.nextStep_ = function() {\n  while (this.context_.nextAddress) {\n    try {\n      /** @const */ var yieldValue = this.program_(this.context_);\n      if (yieldValue) {\n        this.context_.stop_();\n        return {value: yieldValue.value, done: false};\n      }\n    } catch (e) {\n      this.context_.yieldResult = undefined;\n      this.context_.throw_(e);\n    }\n  }\n\n  this.context_.stop_();\n  if (this.context_.abruptCompletion_) {\n    /** @const */ var abruptCompletion = this.context_.abruptCompletion_;\n    this.context_.abruptCompletion_ = null;\n    if (abruptCompletion.isException) {\n      throw abruptCompletion.exception;\n    }\n    return {value: abruptCompletion.return, done: true};\n  }\n  return {value: /** @type {?} */ (undefined), done: true};\n};\n\n/**\n * The Generator object that is returned by a generator function and it\n * conforms to both the iterable protocol and the iterator protocol.\n *\n * @private\n * @template VALUE\n * @constructor\n * @final\n * @implements {Generator<VALUE>}\n * @param {!$jscomp.generator.Engine_<VALUE>} engine\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.Generator_ = function(engine) {\n  /** @const @override */\n  this.next = function(opt_value) {\n    return engine.next_(opt_value);\n  };\n\n  /** @const @override */\n  this.throw = function(exception) {\n    return engine.throw_(exception);\n  };\n\n  /** @const @override */\n  this.return = function(value) {\n    return engine.return_(value);\n  };\n\n  /** @this {$jscomp.generator.Generator_<VALUE>} */\n  this[Symbol.iterator] = function() {\n    return this;\n  };\n\n  // TODO(skill): uncomment once Symbol.toStringTag is polyfilled:\n  // this[Symbol.toStringTag] = 'Generator';\n};\n\n/**\n * Creates a generator backed up by Engine running a given program.\n *\n * @final\n * @template VALUE\n * @param {function(this:?, ...): (!Iterator<VALUE>|!Iterable<VALUE>)} generator\n * @param {function(!$jscomp.generator.Context<VALUE>): (void|{value: VALUE})} program\n * @return {!Generator<VALUE>}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.generator.createGenerator = function(generator, program) {\n  /** @const */ var result =\n      new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(program));\n  // The spec says that `myGenFunc() instanceof myGenFunc` must be true.\n  // We'll make this work by setting the prototype before calling the\n  // constructor every time. All of the methods of the object are defined on the\n  // instance by the constructor, so this does no harm.\n  // We also cast Generator_ to Object to hide dynamic inheritance from\n  // jscompiler, it makes ConformanceRules$BanUnknownThis happy.\n  // In some transpiled cases there may not be an explicit prototype, in which\n  // case we skip this step.\n  if ($jscomp.setPrototypeOf && generator.prototype) {\n    /** @type {function(!Object, ?Object): !Object} */ ($jscomp.setPrototypeOf)(\n        result, generator.prototype);\n  }\n  return result;\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Runtime logic for transpiled async functions.\n * @suppress {uselessCode}\n */\n'require base';\n'require es6/generator_engine';\n\n/**\n * Handles the execution of an async function.\n *\n * An async function, foo(a, b), will be rewritten as:\n *\n * ```\n * function foo(a, b) {\n *   let $jscomp$async$this = this;\n *   let $jscomp$async$arguments = arguments;\n *   let $jscomp$async$super$get$x = () => super.x;\n *   function* $jscomp$async$generator() {\n *     // original body of foo() with:\n *     // - await (x) replaced with yield (x)\n *     // - arguments replaced with $jscomp$async$arguments\n *     // - this replaced with $jscomp$async$this\n *     // - super.x replaced with $jscomp$async$super$get$x()\n *     // - super.x(5) replaced with  $jscomp$async$super$get$x()\n *     //      .call($jscomp$async$this, 5)\n *   }\n *   return $jscomp.executeAsyncGenerator($jscomp$async$generator());\n * }\n * ```\n * @param {!Generator<?>} generator\n * @return {!Promise<?>}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.asyncExecutePromiseGenerator = function(generator) {\n  function passValueToGenerator(value) {\n    return generator.next(value);\n  }\n\n  function passErrorToGenerator(error) {\n    return generator.throw(error);\n  }\n\n  return new Promise(function(resolve, reject) {\n    function handleGeneratorRecord(/** !IIterableResult<*> */ genRec) {\n      if (genRec.done) {\n        resolve(genRec.value);\n      } else {\n        // One can await a non-promise, so genRec.value\n        // might not already be a promise.\n        Promise.resolve(genRec.value)\n            .then(passValueToGenerator, passErrorToGenerator)\n            .then(handleGeneratorRecord, reject);\n      }\n    }\n\n    handleGeneratorRecord(generator.next());\n  });\n};\n\n/**\n * Handles the execution of a generator function returning promises.\n *\n * An async function, foo(a, b), will be rewritten as:\n *\n * ```\n * function foo(a, b) {\n *   let $jscomp$async$this = this;\n *   let $jscomp$async$arguments = arguments;\n *   let $jscomp$async$super$get$x = () => super.x;\n *   return $jscomp.asyncExecutePromiseGeneratorFunction(\n *       function* () {\n *         // original body of foo() with:\n *         // - await (x) replaced with yield (x)\n *         // - arguments replaced with $jscomp$async$arguments\n *         // - this replaced with $jscomp$async$this\n *         // - super.x replaced with $jscomp$async$super$get$x()\n *         // - super.x(5) replaced with  $jscomp$async$super$get$x()\n *         //      .call($jscomp$async$this, 5)\n *       });\n * }\n * ```\n * @param {function(): !Generator<?>} generatorFunction\n * @return {!Promise<?>}\n * @suppress {reportUnknownTypes}\n */\n$jscomp.asyncExecutePromiseGeneratorFunction = function(generatorFunction) {\n  return $jscomp.asyncExecutePromiseGenerator(generatorFunction());\n};\n\n/**\n * Handles the execution of a state machine program that represents transpiled\n * async function.\n *\n * @final\n * @param {function(!$jscomp.generator.Context<?>): (void|{value: ?})} program\n * @return {!Promise<?>}\n * @suppress {reportUnknownTypes, visibility}\n */\n$jscomp.asyncExecutePromiseGeneratorProgram = function(program) {\n  return $jscomp.asyncExecutePromiseGenerator(\n      new $jscomp.generator.Generator_(\n          new $jscomp.generator.Engine_(\n              program)));\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Symbol polyfill.\n * @suppress {uselessCode}\n */\n\n'require es6/util/arrayiterator';\n'require util/defineproperty';\n'require util/global';\n'require util/polyfill';\n\n/**\n * Initializes the Symbol function.\n * @noinline\n */\n// TODO(rishipal): Remove this function\n$jscomp.initSymbol = function() {};\n\n$jscomp.polyfill('Symbol', function(orig) {\n  if (orig) return orig;  // no polyfill needed\n\n  /**\n   * @struct @constructor\n   * @param {string} id\n   * @param {string=} opt_description\n   */\n  var SymbolClass = function(id, opt_description) {\n    /** @private @const {string} */\n    this.$jscomp$symbol$id_ = id;\n\n    /** @const {string|undefined} */\n    this.description;\n\n    // description is read-only.\n    $jscomp.defineProperty(\n        this, 'description',\n        {configurable: true, writable: true, value: opt_description});\n  };\n\n\n  /** @override */\n  SymbolClass.prototype.toString = function() {\n    return this.$jscomp$symbol$id_;\n  };\n\n\n  /** @const {string} */\n  var SYMBOL_PREFIX = 'jscomp_symbol_';\n\n  var counter = 0;\n\n  /**\n   * Produces \"symbols\" (actually just unique strings).\n   * @param {string=} opt_description\n   * @return {!SymbolClass}\n   * @this {?Object}\n   */\n  var symbolPolyfill = function(opt_description) {\n    if (this instanceof symbolPolyfill) {\n      throw new TypeError('Symbol is not a constructor');\n    }\n    return (new SymbolClass(\n        SYMBOL_PREFIX + (opt_description || '') + '_' + (counter++),\n        opt_description));\n  };\n\n  return symbolPolyfill;\n}, 'es6', 'es3');\n\n$jscomp.polyfill('Symbol.iterator', function(orig) {\n  if (orig) return orig;  // no polyfill needed\n\n  var symbolIterator = Symbol('Symbol.iterator');\n\n  // Polyfill 'Symbol.iterator' onto Array and the various TypedArray* objects.\n  // This array uses strings to index into $jscomp.global because the TypedArray\n  // objects are present in IE11 but not on older browsers. Using bracket access\n  // saves code size compared to `typeof Int8Array === 'function' && Int8Array`.\n  var /** !Array<string> */ arrayLikes = [\n    'Array',\n    // List taken from https://tc39.es/ecma262/#sec-typedarray-objects.\n    // The BigInt*Arrays are intentionally omitted because they are only present\n    // in browsers where Symbol is fully supported.\n    'Int8Array', 'Uint8Array', 'Uint8ClampedArray', 'Int16Array', 'Uint16Array',\n    'Int32Array', 'Uint32Array', 'Float32Array', 'Float64Array'\n  ];\n\n  for (var i = 0; i < arrayLikes.length; i++) {\n    var ArrayLikeCtor = /** @type {*} */ ($jscomp.global[arrayLikes[i]]);\n    if (typeof ArrayLikeCtor === 'function' &&\n        typeof ArrayLikeCtor.prototype[symbolIterator] != 'function') {\n      $jscomp.defineProperty(ArrayLikeCtor.prototype, symbolIterator, {\n        configurable: true,\n        writable: true,\n        /**\n         * @this {IArrayLike}\n         * @return {!IteratorIterable}\n         */\n        value: function() {\n          return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this));\n        }\n      });\n    }\n  }\n  return symbolIterator;\n}, 'es6', 'es3');\n\n$jscomp.polyfill('Symbol.asyncIterator', function(orig) {\n  if (orig) {\n    return orig;\n  }\n  return Symbol('Symbol.asyncIterator');\n}, 'es9', 'es3');\n\n/**\n * Returns an iterator with the given `next` method.  Passing\n * all iterators through this function allows easily extending\n * the definition of `%IteratorPrototype%` if methods are ever\n * added to it in the future.\n *\n * @param {function(this: Iterator<T>): T} next\n * @return {!IteratorIterable<T>}\n * @template T\n */\n$jscomp.iteratorPrototype = function(next) {\n  var iterator = {next: next};\n  /**\n   * @this {IteratorIterable}\n   * @return {!IteratorIterable}\n   */\n  iterator[Symbol.iterator] = function() {\n    return this;\n  };\n  return /** @type {!IteratorIterable} */ (iterator);\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n'require es6/util/makeiterator';\n'require util/defines';\n'require util/global';\n'require util/polyfill';\n\n\n$jscomp.polyfill('Promise',\n    /**\n     * @param {*} NativePromise\n     * @return {*}\n     * @suppress {reportUnknownTypes}\n     */\n    function(NativePromise) {\n  function platformSupportsPromiseRejectionEvents() {\n    return typeof $jscomp.global['PromiseRejectionEvent'] !== 'undefined';\n  }\n\n  function globalPromiseIsNative() {\n    return $jscomp.global['Promise'] &&\n        $jscomp.global['Promise'].toString().indexOf('[native code]') !== -1;\n  }\n\n  function shouldForcePolyfillPromise() {\n    // Only force polyfill if the global promise is native.\n    return ($jscomp.FORCE_POLYFILL_PROMISE ||\n      $jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION &&\n      !platformSupportsPromiseRejectionEvents()) && globalPromiseIsNative();\n  }\n\n  // TODO(bradfordcsmith): Do we need to add checks for standards conformance?\n  //     e.g. The version of FireFox we currently use for testing has a Promise\n  //     that fails to reject attempts to fulfill it with itself, but that\n  //     isn't reasonably testable here.\n  if (NativePromise && !shouldForcePolyfillPromise()) {\n    return NativePromise;\n  }\n\n  /**\n    * Schedules code to be executed asynchronously.\n    * @constructor\n    * @struct\n    */\n  function AsyncExecutor() {\n    /**\n     * Batch of functions to execute.\n     *\n     * Will be `null` initially and immediately after a batch finishes\n     * executing.\n     * @private {?Array<function()>}\n     */\n    this.batch_ = null;\n  }\n\n  /**\n   * Schedule a function to execute asynchronously.\n   *\n   * -   The function will execute:\n   *     -   After the current call stack has completed executing.\n   *     -   After any functions previously scheduled using this object.\n   * -   The return value will be ignored.\n   * -   An exception thrown by the method will be caught and asynchronously\n   *     rethrown when it cannot interrupt any other code. This class provides\n   *     no way to catch such exceptions.\n   * @param {function():?} f\n   */\n  AsyncExecutor.prototype.asyncExecute = function(f) {\n    if (this.batch_ == null) {\n      // no batch created yet, or last batch was fully executed\n      this.batch_ = [];\n      var self = this;\n      this.asyncExecuteFunction(function() { self.executeBatch_(); });\n    }\n    this.batch_.push(f);\n  };\n\n  // NOTE: We want to make sure AsyncExecutor will work as expected even if\n  // testing code should override setTimeout()\n  /** @const {function(!Function, number)} */\n  var nativeSetTimeout = $jscomp.global['setTimeout'];\n\n  /**\n   * Schedule a function to execute asynchronously as soon as possible.\n   *\n   * NOTE: May be overridden for testing.\n   * @package\n   * @param {function()} f\n   */\n  AsyncExecutor.prototype.asyncExecuteFunction = function(f) {\n    nativeSetTimeout(f, 0);\n  };\n\n  /**\n   * Execute scheduled jobs in a batch until all are executed or the batch\n   * execution time limit has been reached.\n   * @private\n   */\n  AsyncExecutor.prototype.executeBatch_ = function() {\n    while (this.batch_ && this.batch_.length) {\n      var /** !Array<?function()> */ executingBatch = this.batch_;\n      // Executions scheduled while executing this batch go into a new one to\n      // avoid the batch array getting too big.\n      this.batch_ = [];\n      for (var i = 0; i < executingBatch.length; ++i) {\n        var f = /** @type {function()} */ (executingBatch[i]);\n        executingBatch[i] = null;  // free memory\n        try {\n          f();\n        } catch (error) {\n          this.asyncThrow_(error);\n        }\n      }\n    }\n    // All jobs finished executing, so force scheduling a new batch next\n    // time asyncExecute() is called.\n    this.batch_ = null;\n  };\n\n  /**\n   * @private\n   * @param {*} exception\n   */\n  AsyncExecutor.prototype.asyncThrow_ = function(exception) {\n    this.asyncExecuteFunction(function() { throw exception; });\n  };\n\n  /**\n   * @enum {number}\n   */\n  var PromiseState = {\n    /** The Promise is waiting for resolution. */\n    PENDING: 0,\n\n    /** The Promise has been resolved with a fulfillment value. */\n    FULFILLED: 1,\n\n    /** The Promise has been resolved with a rejection reason. */\n    REJECTED: 2\n  };\n\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n   * @param {function(\n   *             function((TYPE|IThenable<TYPE>|Thenable|null)=),\n   *             function(*=))} executor\n   * @constructor\n   * @extends {Promise<TYPE>}\n   * @template TYPE\n   */\n  var PolyfillPromise = function(executor) {\n    /** @private {PromiseState} */\n    this.state_ = PromiseState.PENDING;\n\n    /**\n     * The settled result of the Promise. Immutable once set with either a\n     * fulfillment value or rejection reason.\n     * @private {*}\n     */\n    this.result_ = undefined;\n\n    /**\n     * These functions must be asynchronously executed when this promise\n     * settles.\n     * @private {?Array<function()>}\n     */\n    this.onSettledCallbacks_ = [];\n\n    /**\n     * Whether the rejection has any handler when the promise is rejected.\n     * @private {boolean}\n     */\n    this.isRejectionHandled_ = false;\n\n    var resolveAndReject = this.createResolveAndReject_();\n    try {\n      executor(resolveAndReject.resolve, resolveAndReject.reject);\n    } catch (e) {\n      resolveAndReject.reject(e);\n    }\n  };\n\n\n  /**\n   * Create a pair of functions for resolving or rejecting this Promise.\n   *\n   * <p>After the resolve or reject function has been called once, later calls\n   * do nothing.\n   * @private\n   * @return {{\n   *     resolve: function((TYPE|IThenable<TYPE>|Thenable|null)=),\n   *     reject:  function(*=)\n   * }}\n   */\n  PolyfillPromise.prototype.createResolveAndReject_ = function() {\n    var thisPromise = this;\n    var alreadyCalled = false;\n    /**\n     * @param {function(this:PolyfillPromise<TYPE>, T=)} method\n     * @return {function(T=)}\n     * @template T\n     */\n    function firstCallWins(method) {\n      return function(/** T= */ x) {\n        if (!alreadyCalled) {\n          alreadyCalled = true;\n          method.call(thisPromise, x);\n        }\n      };\n    }\n    return {\n      resolve: firstCallWins(this.resolveTo_),\n      reject: firstCallWins(this.reject_)\n    };\n  };\n\n\n  /**\n   * @private\n   * @param {*=} value\n   */\n  PolyfillPromise.prototype.resolveTo_ = function(value) {\n    if (value === this) {\n      this.reject_(new TypeError('A Promise cannot resolve to itself'));\n    } else if (value instanceof PolyfillPromise) {\n      this.settleSameAsPromise_(/** @type {!PolyfillPromise} */ (value));\n    } else if (isObject(value)) {\n      this.resolveToNonPromiseObj_(/** @type {!Object} */ (value));\n    } else {\n      this.fulfill_(value);\n    }\n  };\n\n\n  /**\n   * @private\n   * @param {!Object} obj\n   * @suppress {strictMissingProperties} obj.then\n   */\n  PolyfillPromise.prototype.resolveToNonPromiseObj_ = function(obj) {\n    var thenMethod = undefined;\n\n    try {\n      thenMethod = obj.then;\n    } catch (error) {\n      this.reject_(error);\n      return;\n    }\n    if (typeof thenMethod == 'function') {\n      this.settleSameAsThenable_(thenMethod, /** @type {!Thenable} */ (obj));\n    } else {\n      this.fulfill_(obj);\n    }\n  };\n\n\n  /**\n   * @param {*} value anything\n   * @return {boolean}\n   */\n  function isObject(value) {\n    switch (typeof value) {\n      case 'object':\n        return value != null;\n      case 'function':\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * Reject this promise for the given reason.\n   * @private\n   * @param {*=} reason\n   * @throws {!Error} if this promise is already fulfilled or rejected.\n   */\n  PolyfillPromise.prototype.reject_ = function(reason) {\n    this.settle_(PromiseState.REJECTED, reason);\n  };\n\n  /**\n   * Fulfill this promise with the given value.\n   * @private\n   * @param {!TYPE} value\n   * @throws {!Error} when this promise is already fulfilled or rejected.\n   */\n  PolyfillPromise.prototype.fulfill_ = function(value) {\n    this.settle_(PromiseState.FULFILLED, value);\n  };\n\n  /**\n   * Fulfill or reject this promise with the given value/reason.\n   * @private\n   * @param {!PromiseState} settledState (FULFILLED or REJECTED)\n   * @param {*} valueOrReason\n   * @throws {!Error} when this promise is already fulfilled or rejected.\n   */\n  PolyfillPromise.prototype.settle_ = function(settledState, valueOrReason) {\n    if (this.state_ != PromiseState.PENDING) {\n      throw new Error(\n          'Cannot settle(' + settledState + ', ' + valueOrReason +\n          '): Promise already settled in state' + this.state_);\n    }\n    this.state_ = settledState;\n    this.result_ = valueOrReason;\n    if (this.state_ === PromiseState.REJECTED) {\n      this.scheduleUnhandledRejectionCheck_();\n    }\n    this.executeOnSettledCallbacks_();\n  };\n\n  PolyfillPromise.prototype.scheduleUnhandledRejectionCheck_ = function() {\n    var self = this;\n    nativeSetTimeout(function() {\n      if (self.notifyUnhandledRejection_()) {\n        // console may not exist on IE 9.\n        var nativeConsole = $jscomp.global['console'];\n        if (typeof nativeConsole !== 'undefined') {\n          nativeConsole.error(self.result_);\n        }\n      }\n    }, 1);\n  };\n\n  /**\n   * Dispatches `unhandledrejection` event if the rejection is unhandled.\n   * @return {boolean} False means the fallback handler does not need to run. It\n   *     is either because rejection handlers are detected or one of the\n   *     `unhandledjrection` event handlers call `preventDefault()`.\n   *     True otherwise.\n   * @private\n   */\n  PolyfillPromise.prototype.notifyUnhandledRejection_ = function() {\n    if (this.isRejectionHandled_) {\n      return false;\n    }\n    var NativeCustomEvent = $jscomp.global['CustomEvent'];\n    var NativeEvent = $jscomp.global['Event'];\n    var nativeDispatchEvent = $jscomp.global['dispatchEvent'];\n    if (typeof nativeDispatchEvent === 'undefined') {\n      return true;\n    }\n\n    var event;\n    if (typeof NativeCustomEvent === 'function') {\n      event =\n          new NativeCustomEvent('unhandledrejection', {cancelable: true});\n    } else if (typeof NativeEvent === 'function') {\n      // CustomEvent is not available in FireFox < 48 in workers.\n      // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\n      event = new NativeEvent('unhandledrejection', {cancelable: true});\n    } else {\n      // IE does not support CustomEvent constructor.\n      event = $jscomp.global['document'].createEvent('CustomEvent');\n      event.initCustomEvent(\n          'unhandledrejection', /** canBubbleArg */ false,\n          /** cancelableArg */ true, event);\n    }\n    event.promise = this;\n    event.reason = this.result_;\n\n    return nativeDispatchEvent(event);\n  };\n\n  PolyfillPromise.prototype.executeOnSettledCallbacks_ = function() {\n    if (this.onSettledCallbacks_ != null) {\n      for (var i = 0; i < this.onSettledCallbacks_.length; ++i) {\n        asyncExecutor.asyncExecute(this.onSettledCallbacks_[i]);\n      }\n      this.onSettledCallbacks_ = null;  // free memory\n    }\n  };\n\n  /**\n   * All promise async execution is managed by a single executor for the\n   * sake of efficiency.\n   * @const {!AsyncExecutor}\n   */\n  var asyncExecutor = new AsyncExecutor();\n\n  /**\n   * Arrange to settle this promise in the same way as the given thenable.\n   * @private\n   * @param {!PolyfillPromise} promise\n   */\n  PolyfillPromise.prototype.settleSameAsPromise_ = function(promise) {\n    var methods = this.createResolveAndReject_();\n\n    // Calling then() would create an unnecessary extra promise.\n    promise.callWhenSettled_(methods.resolve, methods.reject);\n  };\n\n  /**\n   * Arrange to settle this promise in the same way as the given thenable.\n   * @private\n   * @param {function(\n   *     function((TYPE|IThenable<TYPE>|Thenable|null)=),\n   *     function(*=))\n   * } thenMethod\n   * @param {!Thenable} thenable\n   */\n  PolyfillPromise.prototype.settleSameAsThenable_ = function(\n      thenMethod, thenable) {\n    var methods = this.createResolveAndReject_();\n\n    // Don't trust an unknown thenable implementation not to throw exceptions.\n    try {\n      thenMethod.call(thenable, methods.resolve, methods.reject);\n    } catch (error) {\n      methods.reject(error);\n    }\n  };\n\n  /** @override */\n  PolyfillPromise.prototype.then = function(onFulfilled, onRejected) {\n    var resolveChild;\n    var rejectChild;\n    var childPromise = new PolyfillPromise(function(resolve, reject) {\n      resolveChild = resolve;\n      rejectChild = reject;\n    });\n    function createCallback(paramF, defaultF) {\n      // The spec says to ignore non-function values for onFulfilled and\n      // onRejected\n      if (typeof paramF == 'function') {\n        return function(x) {\n          try {\n            resolveChild(paramF(x));\n          } catch (error) {\n            rejectChild(error);\n          }\n        };\n      } else {\n        return defaultF;\n      }\n    }\n\n    this.callWhenSettled_(\n        createCallback(onFulfilled, resolveChild),\n        createCallback(onRejected, rejectChild));\n    return childPromise;\n  };\n\n  /** @override */\n  PolyfillPromise.prototype.catch = function(onRejected) {\n    return this.then(undefined, onRejected);\n  };\n\n\n  PolyfillPromise.prototype.callWhenSettled_ = function(\n      onFulfilled, onRejected) {\n    var /** !PolyfillPromise */ thisPromise = this;\n    function callback() {\n      switch (thisPromise.state_) {\n        case PromiseState.FULFILLED:\n          onFulfilled(thisPromise.result_);\n          break;\n        case PromiseState.REJECTED:\n          onRejected(thisPromise.result_);\n          break;\n        default:\n          throw new Error('Unexpected state: ' + thisPromise.state_);\n      }\n    }\n    if (this.onSettledCallbacks_ == null) {\n      // we've already settled\n      asyncExecutor.asyncExecute(callback);\n    } else {\n      this.onSettledCallbacks_.push(callback);\n    }\n    this.isRejectionHandled_ = true;\n  };\n\n  // called locally, so give it a name\n  function resolvingPromise(opt_value) {\n    if (opt_value instanceof PolyfillPromise) {\n      return opt_value;\n    } else {\n      return new PolyfillPromise(function(resolve, reject) {\n        resolve(opt_value);\n      });\n    }\n  }\n  PolyfillPromise['resolve'] = resolvingPromise;\n\n\n  PolyfillPromise['reject'] = function(opt_reason) {\n    return new PolyfillPromise(function(resolve, reject) {\n      reject(opt_reason);\n    });\n  };\n\n\n  PolyfillPromise['race'] = function(thenablesOrValues) {\n    return new PolyfillPromise(function(resolve, reject) {\n      var /** !Iterator<*> */ iterator =\n          $jscomp.makeIterator(thenablesOrValues);\n      for (var /** !IIterableResult<*> */ iterRec = iterator.next();\n           !iterRec.done;\n           iterRec = iterator.next()) {\n        // Using resolvingPromise() allows us to treat all elements the same\n        // way.\n        // NOTE: resolvingPromise(promise) always returns the argument\n        // unchanged.\n        // Using .callWhenSettled_() instead of .then() avoids creating an\n        // unnecessary extra promise.\n        resolvingPromise(iterRec.value).callWhenSettled_(resolve, reject);\n      }\n    });\n  };\n\n\n  PolyfillPromise['all'] = function(thenablesOrValues) {\n    var /** !Iterator<*> */ iterator = $jscomp.makeIterator(thenablesOrValues);\n    var /** !IIterableResult<*> */ iterRec = iterator.next();\n\n    if (iterRec.done) {\n      return resolvingPromise([]);\n    } else {\n      return new PolyfillPromise(function(resolveAll, rejectAll) {\n        var resultsArray = [];\n        var unresolvedCount = 0;\n\n        function onFulfilled(i) {\n          return function(ithResult) {\n            resultsArray[i] = ithResult;\n            unresolvedCount--;\n            if (unresolvedCount == 0) {\n              resolveAll(resultsArray);\n            }\n          };\n        }\n\n        do {\n          resultsArray.push(undefined);\n          unresolvedCount++;\n          // Using resolvingPromise() allows us to treat all elements the same\n          // way.\n          // NOTE: resolvingPromise(promise) always returns the argument\n          // unchanged. Using .callWhenSettled_() instead of .then() avoids\n          // creating an unnecessary extra promise.\n          resolvingPromise(iterRec.value)\n              .callWhenSettled_(\n                  onFulfilled(resultsArray.length - 1), rejectAll);\n          iterRec = iterator.next();\n        } while (!iterRec.done);\n      });\n    }\n  };\n\n  return PolyfillPromise;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.fill', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Fills elements of an array with a constant value.\n   *\n   * @this {!IArrayLike<VALUE>}\n   * @param {VALUE} value Value to fill.\n   * @param {number=} opt_start Start index, or zero if omitted.\n   * @param {number=} opt_end End index, or length if omitted.\n   * @return {!IArrayLike<VALUE>} The array, with the fill performed in-place.\n   * @template VALUE\n   * @suppress {reportUnknownTypes, strictPrimitiveOperators}\n   */\n  var polyfill = function(value, opt_start, opt_end) {\n    var length = this.length || 0;\n    if (opt_start < 0) {\n      opt_start = Math.max(0, length + /** @type {number} */ (opt_start));\n    }\n    if (opt_end == null || opt_end > length) opt_end = length;\n    opt_end = Number(opt_end);\n    if (opt_end < 0) opt_end = Math.max(0, length + opt_end);\n    for (var i = Number(opt_start || 0); i < opt_end; i++) {\n      this[i] = value;\n    }\n    return this;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2020 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/array/fill';\n'require util/polyfill';\n\n/**\n * @param {*} orig\n * @return {*}\n */\n$jscomp.typedArrayFill = function(orig) {\n  if (orig) return orig;\n  return Array.prototype.fill;\n};\n\n$jscomp.polyfill(\n    'Int8Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Uint8Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Uint8ClampedArray.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Int16Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Uint16Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Int32Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Uint32Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Float32Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n$jscomp.polyfill(\n    'Float64Array.prototype.fill', $jscomp.typedArrayFill, 'es6', 'es5');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utilities for iterator-returning methods.\n */\n'require es6/symbol';\n\n\n/**\n * Creates an iterator from an array-like, with a transformation function.\n * @param {!IArrayLike<INPUT>} array\n * @param {function(number, INPUT): OUTPUT} transform\n * @return {!IteratorIterable<OUTPUT>}\n * @template INPUT, OUTPUT\n * @suppress {checkTypes|reportUnknownTypes}\n */\n$jscomp.iteratorFromArray = function(array, transform) {\n  // NOTE: IE8 doesn't support indexing from boxed Strings.\n  if (array instanceof String) array = array + '';\n  var i = 0;\n  var done = false;\n  var iter = {\n    next: function() {\n      // Once we return done, we must always return done, even if the array\n      // grows later.\n      if (!done && i < array.length) {\n        var index = i++;\n        return {value: transform(index, array[index]), done: false};\n      }\n      done = true;\n      return {done: true, value: void 0};\n    }\n  };\n  iter[Symbol.iterator] = function() { return iter; };\n  return iter;\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/util/iteratorfromarray';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.keys', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Returns an iterator of keys of the given array.\n   *\n   * @this {!IArrayLike}\n   * @return {!IteratorIterable<number>}\n   */\n  var polyfill = function() {\n    return $jscomp.iteratorFromArray(this, function(i) { return i; });\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility for Array methods that find elements.\n */\n'require base';\n\n// TODO(sdh): would be nice to template on the ARRAY type as well,\n// so that the third arg type of callback can be refined to be\n// exactly the same as the array type, but then there's no way to\n// enforce that it must, in fact, be an array.\n/**\n * Internal implementation of find.\n * @param {!IArrayLike<VALUE>} array\n * @param {function(this: THIS, VALUE, number, !IArrayLike<VALUE>): *} callback\n * @param {THIS} thisArg\n * @return {{i: number, v: (VALUE|undefined)}}\n * @template THIS, VALUE\n * @suppress {reportUnknownTypes}\n */\n$jscomp.findInternal = function(array, callback, thisArg) {\n  if (array instanceof String) {\n    array = /** @type {!IArrayLike} */ (String(array));\n  }\n  var len = array.length;\n  for (var i = 0; i < len; i++) {\n    var value = array[i];\n    if (callback.call(thisArg, value, i, array)) return {i: i, v: value};\n  }\n  return {i: -1, v: void 0};\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/findinternal';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.find', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Finds and returns an element that satisfies the given predicate.\n   *\n   * @this {!IArrayLike<VALUE>}\n   * @param {function(this: THIS, VALUE, number, !IArrayLike<VALUE>): *}\n   *     callback\n   * @param {THIS=} opt_thisArg\n   * @return {VALUE|undefined} The found value, or undefined.\n   * @template VALUE, THIS\n   * @suppress {reportUnknownTypes}\n   */\n  var polyfill = function(callback, opt_thisArg) {\n    return $jscomp.findInternal(this, callback, opt_thisArg).v;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n/**\n * Synonym for Object.prototype.hasOwnProperty.call(obj, prop).\n * @param {!Object} obj\n * @param {string} prop\n * @return {boolean}\n */\n$jscomp.owns = function(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/owns';\n'require util/polyfill';\n\n$jscomp.polyfill('Object.values', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Returns an array of values from the given object.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\n   *\n   * @param {!Object<KEY, VALUE>} obj\n   * @return {!Array<VALUE>}\n   * @template KEY, VALUE\n   */\n  var values = function(obj) {\n    var result = [];\n    for (var key in obj) {\n      if ($jscomp.owns(obj, key)) {\n        result.push(obj[key]);\n      }\n    }\n    return result;\n  };\n\n  return values;\n}, 'es8', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/polyfill';\n\n$jscomp.polyfill('Array.from', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Creates a new Array from an array-like or iterable object.\n   *\n   * <p>Polyfills the static function Array.from().  Does not support\n   * constructor inheritance (i.e. (subclass of Array).from), and\n   * relies on the compiler to check the validity of inputs rather\n   * than producing spec-compliant TypeErrors.\n   *\n   * @param {!IArrayLike<INPUT>|!Iterable<INPUT>} arrayLike\n   *     An array-like or iterable.\n   * @param {(function(this: THIS, INPUT, number): OUTPUT)=} opt_mapFn\n   *     Function to call on each argument.\n   * @param {THIS=} opt_thisArg\n   *     Object to use as 'this' when calling mapFn.\n   * @return {!Array<OUTPUT>}\n   * @template INPUT, OUTPUT, THIS\n   * @suppress {reportUnknownTypes}\n   */\n  var polyfill = function(arrayLike, opt_mapFn, opt_thisArg) {\n    opt_mapFn = opt_mapFn != null ? opt_mapFn : function(x) { return x; };\n    var result = [];\n    // NOTE: this is cast to ? because [] on @struct is an error\n    var iteratorFunction = typeof Symbol != 'undefined' && Symbol.iterator &&\n        (/** @type {?} */ (arrayLike)[Symbol.iterator]);\n    if (typeof iteratorFunction == 'function') {\n      arrayLike = iteratorFunction.call(arrayLike);\n      var next;\n      var k = 0;\n      while (!(next = arrayLike.next()).done) {\n        result.push(\n            opt_mapFn.call(/** @type {?} */ (opt_thisArg), next.value, k++));\n      }\n    } else {\n      var len = arrayLike.length;  // need to support non-iterables\n      for (var i = 0; i < len; i++) {\n        result.push(\n            opt_mapFn.call(/** @type {?} */ (opt_thisArg), arrayLike[i], i));\n      }\n    }\n    return result;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/findinternal';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.findIndex', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Finds an element that satisfies the given predicate, returning its index.\n   *\n   * @this {!IArrayLike<VALUE>}\n   * @param {function(this: THIS, VALUE, number, !IArrayLike<VALUE>): *}\n   *     callback\n   * @param {THIS=} opt_thisArg\n   * @return {number} The found value, or undefined.\n   * @template VALUE, THIS\n   * @suppress {reportUnknownTypes}\n   */\n  var polyfill = function(callback, opt_thisArg) {\n    return $jscomp.findInternal(this, callback, opt_thisArg).i;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2018 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * @suppress {uselessCode}\n */\n'require util/owns';\n'require util/polyfill';\n'require util/shouldpolyfill';\n\n/**\n * Equivalent to the Object.assign() method, but guaranteed to be available for use in code\n * generated by the compiler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n *\n * Copies values of all enumerable own properties from one or more\n * sources to the given target object, and returns the target.\n *\n * @final\n * @param {!Object} target The target object onto which to copy.\n * @param {...?Object} var_args The source objects.\n * @return {!Object} The target object is returned.\n */\n$jscomp.assign =\n    ($jscomp.TRUST_ES6_POLYFILLS && typeof Object.assign == 'function') ?\n    Object.assign :\n    /**\n     * @param {!Object} target\n     * @param {...?Object} var_args\n     * @return {!Object}\n     * @suppress {reportUnknownTypes}\n     */\n    function(target, var_args) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        if (!source) continue;\n        for (var key in source) {\n          if ($jscomp.owns(source, key)) target[key] = source[key];\n        }\n      }\n      return target;\n    };\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * @suppress {uselessCode}\n */\n'require es6/util/assign';\n'require util/polyfill';\n\n$jscomp.polyfill('Object.assign', function(orig) {\n  return orig || $jscomp.assign;\n}, 'es6', 'es3');\n","function Bubblelines(config) {\r\n\tthis.container = config.container;\r\n\tthis.externalClickHandler = config.clickHandler;\r\n\t\r\n\tthis.INTERVAL = 50; // milliseconds between each redraw\r\n\tthis.DISMISS_DELAY = 2500; // milliseconds before tooltip auto hides\r\n\tthis.UNIFORM_LINE_LENGTH = true; // should all document lines be the same length?\r\n\tthis.SEPARATE_LINES_FOR_TERMS = false; // draw a separate line for each term?\r\n\t\r\n\t// these 2 get set in the code\r\n\tthis.MAX_LABEL_WIDTH = 0;\r\n\tthis.MAX_LINE_WIDTH = 0;\r\n\t\r\n\tthis.DRAW_TITLES = true; // where to draw the document titles for each graph; gets set to false if the corpus has only 1 document\r\n\tthis.DRAW_SHORT_TITLES = false; // whether to use the docIndex for the title or not; gets set to true if the window is small enough\r\n\t\r\n\tthis.MIN_GRAPH_SEPARATION = 50; // vertical separation between graphs\r\n\tthis.graphSeparation = 50;\r\n\t\r\n\tthis.yIndex = 0; // for tracking yIndex during the drawing process\r\n\t\r\n\tthis.mouseOver = false; // is the mouse over the canvas\r\n\tthis.intervalId = null;\r\n\tthis.clearToolTipId = null;\r\n\tthis.overBubbles = [];\r\n\tthis.lastClickedBubbles = {};\r\n\tthis.dragInfo = null;\r\n\tthis.canvas = null;\r\n\tthis.ctx = null;\r\n\tthis.maxDocLength = 2;\r\n\tthis.maxFreq = {term: null, value: 0};\r\n\tthis.maxRadius = 0;\r\n\t\r\n\t/**\r\n\t * The cache of docs. Each has the following properties:\r\n\t * @param {String} id\r\n\t * @param {String} title\r\n\t * @param {Integer} index\r\n\t * @param {Integer} totalTokens\r\n\t * @param {Object} terms Stores the terms for this doc\r\n\t * @param {Object} freqCounts Used for tool tip display\r\n\t * @param {Float} height The height of the graph for this doc\r\n\t * @param {Float} titleWidth The width of the title\r\n\t * @param {Float} lineLength The length of the graph line for this doc\r\n\t */\r\n\tthis.cache = new Ext.util.MixedCollection();\r\n\t\r\n\tthis.currentTerms = {}; // tracks what terms we're currently showing\r\n\tthis.termsFilter = []; // tracks the subset of terms\r\n\tthis.bubbleSpacing = 50;\r\n\r\n\tthis.initialized = false;\r\n}\r\n\r\nBubblelines.prototype = {\r\n\tconstructor: Bubblelines,\r\n\t\r\n\tinitializeCanvas: function() {\r\n\t\tvar container = this.container;\r\n\t\tvar height = container.getHeight();\r\n\t\tvar width = container.getWidth();\r\n\t\tthis.DRAW_SHORT_TITLES = width < 500;\r\n\t\tvar id = Ext.id('bubblelines');\r\n\t\tcontainer.add({\r\n\t\t\txtype: 'container',\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\thtml: '<canvas id=\"'+id+'\" width=\"'+width+'\" height=\"'+height+'\"></canvas>',\r\n\t\t\tborder: false,\r\n        \tlisteners: {\r\n        \t\tafterrender: {\r\n        \t\t\tfn: function(cnt) {\r\n    \t\t\t\t\tthis.canvas = document.getElementById(id);\r\n        \t\t\t\tthis.ctx = this.canvas.getContext('2d');\r\n        \t\t\t\tthis.canvas.addEventListener('click', this.clickHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mousedown', this.mouseDownHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mouseup', this.mouseUpHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mousemove', this.moveHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mouseenter', this.mouseEnterHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mouseleave', this.mouseLeaveHandler.bind(this), false);\r\n        \t\t\t\t            \t\t\t\t\r\n//        \t\t\t\tthis.findLongestDocumentTitle();\r\n//        \t\t\t\t\r\n//        \t\t\t\tvar padding = 75;\r\n//        \t\t\t\tif (this.DRAW_SHORT_TITLES) padding = 50;\r\n//        \t\t\t\tthis.setMaxLineWidth(width - this.MAX_LABEL_WIDTH - padding);\r\n        \t\t\t},\r\n        \t\t\tsingle: true,\r\n        \t\t\tscope: this\r\n        \t\t}\r\n        \t}\r\n\t\t});\r\n\t\tcontainer.updateLayout();\r\n\t\tthis.initialized = true;\r\n\t},\r\n\t\r\n\tdoBubblelinesLayout: function() {\r\n\t\tif (this.initialized) {\r\n\t\t\tvar width = this.container.getWidth();\r\n\t\t\t\r\n\t\t\t// width related calculations\r\n\t\t\tthis.DRAW_SHORT_TITLES = width < 500;\r\n\t\t\tthis.setTitleWidthsAndMaxTitleWidth();\r\n\t\t\t\r\n\t\t\tvar children = Ext.DomQuery.jsSelect('div:not(div[class*=term])', this.container.el.dom);\r\n\t\t\tfor (var i = 0; i < children.length; i++) {\r\n\t\t\t\tvar child = Ext.fly(children[i]);\r\n\t\t\t\tchild.setWidth(width);\r\n\t\t\t}\r\n\t\t\tthis.canvas.width = width;\r\n\t\t\t\r\n\t\t\tvar padding = 75;\r\n\t\t\tif (this.DRAW_SHORT_TITLES) padding = 50;\r\n\t\t\tthis.setMaxLineWidth(width - this.MAX_LABEL_WIDTH - padding);\r\n\t\t\tthis.setLineLengths();\r\n\t\t\t\r\n\t\t\tthis.recache();\r\n\t\t\t\r\n\t\t\t// height related calculations\r\n\t\t\tthis.setCanvasHeight();\r\n\t\t\t\r\n\t\t\tthis.drawGraph();\r\n\t\t}\r\n\t},\r\n\t\r\n\taddDocToCache: function(doc) {\r\n\t\tthis.cacheBubbles(doc);\r\n\t\tthis.calculateBubbleRadii(doc);\r\n\t\tdoc.lineLength = 600;\r\n\t\tdoc.freqCounts = {}; // used for tool tip display\r\n\t\tif (this.cache.containsKey(doc.id) === false) {\r\n\t\t\tthis.cache.add(doc);\r\n\t\t} else {\r\n\t\t\tthis.cache.replace(doc.id, doc);\r\n\t\t}\r\n\t\tthis.cache.sort('index', 'ASC');\r\n\t},\r\n\t\r\n\taddTermsToDoc: function(termsObj, docId) {\r\n\t\tvar term;\r\n\t\t// only one key\r\n\t\tfor (var key in termsObj) {\r\n\t\t\tterm = key;\r\n\t\t}\r\n\t\tthis.currentTerms[term] = true;\r\n\t\t\r\n\t\tvar doc = this.cache.get(docId);\r\n\t\tExt.apply(doc.terms, termsObj);\r\n\t\tvar maxFreqChanged = this.cacheBubbles(doc);\r\n\t\tif (maxFreqChanged) {\r\n\t\t\tthis.recache();\r\n\t\t} else {\r\n\t\t\tthis.calculateBubbleRadii(doc);\r\n\t\t}\r\n\t},\r\n\t\r\n\tcacheBubbles: function(doc) {\r\n\t\tvar maxFreqChanged = false;\r\n\t\tfor (var term in doc.terms) {\r\n\t\t\tvar termInfo = doc.terms[term];\r\n\t\t\tvar bins = termInfo.distributions.length;\r\n\t\t\tvar spacing = doc.lineLength / bins;\r\n\t\t\t\r\n\t\t\tvar cachedPositions = [];\r\n\t\t\tvar tokenPos = 0;\r\n\t\t\tvar maxDistribution = 0;\r\n\t\t\tvar xIndex = 0;\r\n\t\t\tfor (var i = 0; i < bins; i++) {\r\n\t\t\t\tvar d = termInfo.distributions[i];\r\n\t\t\t\tif (d > maxDistribution) {\r\n\t\t\t\t\tmaxDistribution = d;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcachedPositions.push({id: Ext.id(null, 'bub'), x: xIndex, freq: d, radius: 0, bin: i, tokenPositions: termInfo.positions.slice(tokenPos, tokenPos+=d)});\r\n\t\t\t\txIndex += spacing;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdoc.terms[term].maxDistribution = maxDistribution;\r\n\t\t\tdoc.terms[term].pos = cachedPositions;\r\n\t\t\t\r\n\t\t\tif (maxDistribution > this.maxFreq.value) {\r\n\t\t\t\tmaxFreqChanged = true;\r\n\t\t\t\tthis.setMaxFreq({term: term, value: maxDistribution});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxFreqChanged;\r\n\t},\r\n\t\r\n\tcalculateBubbleRadii: function(doc, newTerm) {\r\n\t\tvar maxFreqLog = Math.log(this.maxFreq.value);\r\n\t\tvar minFreq = Math.log(2) / 2;\r\n//\t\tthis.cache.each(function(doc) {\r\n\t\t\tfor (var t in doc.terms) {\r\n\t\t\t\tvar term = doc.terms[t];\r\n\t\t\t\tif (term) {\r\n\t\t\t\t\tif (newTerm == null || t == newTerm) {\r\n\t\t\t\t\t\tfor (var i = 0; i < term.pos.length; i++) {\r\n\t\t\t\t\t\t\tvar bubble = term.pos[i];\r\n\t\t\t\t\t\t\tif (bubble.freq > 0) {\r\n\t\t\t\t\t\t\t\tvar freqLog = Math.max(Math.log(bubble.freq), minFreq);\r\n\t\t\t\t\t\t\t\tvar radius = freqLog / maxFreqLog * this.maxRadius;\r\n\t\t\t\t\t\t\t\tbubble.radius = radius;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tbubble.radius = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n//\t\t}, this);\r\n\t},\r\n\t\r\n\t\r\n\trecache: function() {\r\n\t\tfunction doCache(doc) {\r\n\t\t\tthis.cacheBubbles(doc);\r\n\t\t\tthis.calculateBubbleRadii(doc);\r\n\t\t}\r\n\t\t\r\n\t\tthis.cache.each(doCache, this);\r\n\t},\r\n\t\r\n\t/**\r\n\t * Get the total height of the all the graphs\r\n\t */\r\n\tgetTotalHeight: function() {\r\n\t\tvar totalHeight = this.maxRadius;\r\n\t\tthis.cache.each(function(doc, index, length) {\r\n\t\t\ttotalHeight += doc.height;\r\n\t\t}, this);\r\n\t\treturn totalHeight;\r\n\t},\r\n\t\r\n\r\n\t/**\r\n\t * Set the height for the canvas and associated elements\r\n\t */\r\n\tsetCanvasHeight: function() {\r\n\t\tthis.calculateGraphHeights();\r\n\t\tvar height = this.getTotalHeight();\r\n\t\tvar container = this.container.dom;\r\n\t\tif (container !== undefined) {\r\n\t\t\tvar children = Ext.DomQuery.jsSelect('div', container);\r\n\t\t\tfor (var i = 0; i < children.length; i++) {\r\n\t\t\t\tvar child = Ext.fly(children[i]);\r\n\t\t\t\tchild.setHeight(height);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.canvas) {\r\n\t\t\tthis.canvas.height = height;\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t * Set max line width as well as maxRadius\r\n\t */\r\n\tsetMaxLineWidth: function(width) {\r\n\t\tthis.maxRadius = width / 30;\r\n\t\tthis.MAX_LINE_WIDTH = width - this.maxRadius / 2;\r\n\t},\r\n\t\r\n\t/**\r\n\t * Calculate graph heights, based on maxRadius\r\n\t */\r\n\tcalculateGraphHeights: function() {\r\n\t\tvar graphSeparation = this.maxRadius * 0.5;\r\n\t\tif (this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\tvar terms = this.termsFilter;\r\n\t\t\tthis.cache.each(function(doc, index, length) {\r\n\t\t\t\tvar height = this.maxRadius * terms.length;\r\n\t\t\t\tfor (var i = 0; i < terms.length; i++) {\r\n\t\t\t\t\tif (!doc.terms[terms[i]]) {\r\n\t\t\t\t\t\theight -= this.maxRadius;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (height == 0) height = this.maxRadius;\r\n\t\t\t\t\r\n\t\t\t\tdoc.height = height + graphSeparation;\r\n\t\t\t}, this);\r\n\t\t} else {\r\n\t\t\tvar height = Math.max(this.maxRadius, this.MIN_GRAPH_SEPARATION);\r\n\t\t\tthis.cache.each(function(doc, index, length) {\r\n\t\t\t\tdoc.height = height + graphSeparation;\r\n\t\t\t}, this);\r\n\t\t}\r\n\t},\r\n\t\r\n\tfindLongestDocument: function(doc) {\r\n\t\tvar twt = doc.getTotalWordTokens();\r\n\t\tif (twt > this.maxDocLength) {\r\n\t\t\tthis.maxDocLength = twt;\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetTitleWidth: function(doc) {\r\n\t\tvar title = doc.title;\r\n\t\tif (this.DRAW_SHORT_TITLES) {\r\n\t\t\tvar index = this.cache.indexOf(doc);\r\n\t\t\ttitle = (index+1)+')';\r\n\t\t}\r\n\t\tthis.ctx.textBaseline = 'top';\r\n\t\tthis.ctx.font = 'bold 12px Verdana';\r\n\t\tvar width = this.ctx.measureText(title).width;\r\n\t\treturn width;\r\n\t},\r\n\t\r\n\tsetTitleWidthsAndMaxTitleWidth: function() {\r\n\t\tfunction doTitle(doc, index) {\r\n\t\t\tvar width = this.getTitleWidth(doc);\r\n\t\t\tdoc.titleWidth = width;\r\n\t\t\tif (width > this.MAX_LABEL_WIDTH) {\r\n\t\t\t\tthis.MAX_LABEL_WIDTH = width;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.cache.each(doTitle, this);\r\n\t},\r\n\t\r\n\tsetLineLengths: function() {\r\n\t\tfunction doLength(doc, index) {\r\n\t\t\tvar lineLength;\r\n\t\t\tif (this.UNIFORM_LINE_LENGTH) {\r\n\t\t\t\tlineLength = this.MAX_LINE_WIDTH;\r\n\t\t\t} else {\r\n\t\t\t\tvar percentage = Math.log(doc.getTotalWordTokens()) / Math.log(this.maxDocLength);\r\n\t\t\t\tlineLength = percentage * this.MAX_LINE_WIDTH;\r\n\t\t\t}\r\n\t\t\tdoc.lineLength = lineLength;\r\n\t\t}\r\n\t\t\r\n\t\tthis.cache.each(doLength, this);\r\n\t},\r\n\t\r\n\tdrawGraph: function(includeLegend) {\r\n\t\tif (this.intervalId != null) clearInterval(this.intervalId);\r\n\t\t\r\n\t\tif (this.mouseOver) {\r\n\t\t\tthis.intervalId = setInterval(this.doDraw.bind(this, [includeLegend]), this.INTERVAL);\r\n\t\t} else {\r\n\t\t\tsetTimeout(this.doDraw.bind(this, [includeLegend]), 5);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdoDraw: function(includeLegend) {\r\n\t\tthis.clearCanvas();\r\n\t\tthis.yIndex = this.maxRadius;\r\n\t\tif (includeLegend === true) this.yIndex += 30;\r\n\t\tthis.cache.each(this.drawDocument, this);\r\n\t\tif (includeLegend === true) this.drawLegend();\r\n\t\telse this.drawToolTip();\r\n\t\tthis.doDrag();\r\n\t},\r\n\t\r\n\tdrawDocument: function(doc, index, totalDocs) {\r\n\t\tif (!doc.hidden) {\r\n\t\t\tvar lineLength = doc.lineLength;\r\n\t\t\tvar titleIndent = this.MAX_LABEL_WIDTH - doc.titleWidth;\r\n\t\t\t\r\n\t\t\tvar xIndex = 5;\r\n\t\t\t\r\n\t\t\tthis.ctx.textBaseline = 'top';\r\n\t\t\tthis.ctx.font = 'bold 12px Verdana';\r\n\t\t\t\r\n\t\t\tif (this.dragInfo != null && this.dragInfo.oldIndex == index) {\r\n\t\t\t\tthis.ctx.fillStyle = 'rgba(128, 128, 128, 0.5)';\r\n\t\t\t\txIndex += titleIndent;\r\n\t\t\t\tthis.ctx.fillText(doc.title, xIndex, this.yIndex);\r\n\t\t\t\tif (this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\t\t\tthis.yIndex += doc.height;\r\n\t\t\t\t}\r\n\t\t\t} else {\t\t\t\r\n\t\t\t\t// draw label\r\n\t\t\t\tif (this.DRAW_TITLES) {\r\n\t\t\t\t\txIndex += titleIndent;\r\n\t//\t\t\t\tvar c = this.getColor(this.getApplication().getCorpus().getDocument(doc.id).getIndex());\r\n\t//\t\t\t\tthis.ctx.strokeStyle = 'rgba('+c[0]+', '+c[1]+', '+c[2]+', 1.0)';\r\n\t//\t\t\t\tthis.ctx.lineWidth = 2;\r\n\t//\t\t\t\tthis.ctx.beginPath();\r\n\t//\t\t\t\tthis.ctx.moveTo(xIndex, this.yIndex+12);\r\n\t//\t\t\t\tthis.ctx.lineTo(this.MAX_LABEL_WIDTH, this.yIndex+12);\r\n\t//\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ctx.fillStyle = 'rgba(128, 128, 128, 1.0)';\r\n\t\t\t\t\tvar title = doc.title;\r\n\t\t\t\t\tif (this.DRAW_SHORT_TITLES) title = (index+1)+')';\r\n\t\t\t\t\tthis.ctx.fillText(title, xIndex, this.yIndex);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t//\t\t\tthis.ctx.fillStyle = 'rgba(0, 0, 128, 1.0)';\r\n\t//\t\t\tthis.ctx.fillRect(0, this.yIndex-this.maxRadius*0.75, 250, 2);\r\n\t\t\t\t\r\n\t\t\t\t// shift down slightly to vertically align line and bubbles with label\r\n\t\t\t\tthis.yIndex += 4;\r\n\t\t\t\t\r\n\t\t\t\t// draw line\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tfunction drawLine() {\r\n\t\t\t\t\txIndex = that.MAX_LABEL_WIDTH + that.maxRadius;\r\n\t\t\t\t\tthat.ctx.strokeStyle = 'rgba(128, 128, 128, 1.0)';\r\n\t\t\t\t\tthat.ctx.fillStyle = 'rgba(128, 128, 128, 1.0)';\r\n\t\t\t\t\tthat.ctx.lineWidth = 0.25;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.ctx.beginPath();\r\n\t\t\t\t\tthat.ctx.moveTo(xIndex, that.yIndex-6);\r\n\t\t\t\t\tthat.ctx.lineTo(xIndex, that.yIndex+6);\r\n\t\t\t\t\tthat.ctx.stroke();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.ctx.beginPath();\r\n\t\t\t\t\tthat.ctx.moveTo(xIndex, that.yIndex);\r\n\t\t\t\t\tthat.ctx.lineTo(xIndex + lineLength, that.yIndex);\r\n\t\t\t\t\tthat.ctx.stroke();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.ctx.beginPath();\r\n\t\t\t\t\tthat.ctx.moveTo(xIndex + lineLength, that.yIndex-6);\r\n\t\t\t\t\tthat.ctx.lineTo(xIndex + lineLength, that.yIndex+6);\r\n\t\t\t\t\tthat.ctx.stroke();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t//\t\t\tvar filter = this.getApiParamValue('typeFilter');\r\n\t//\t\t\tvar filter = [];\r\n\t//\t\t\tfor (var term in this.currentTerms) {\r\n\t//\t\t\t\tfilter.push(term);\r\n\t//\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\t\t\tdrawLine();\r\n\t\t\t\t} else if (this.termsFilter == null || this.termsFilter.length === 0) {\r\n\t\t\t\t\tdrawLine();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// draw bubbles\r\n\t\t\t\tvar pi2 = Math.PI * 2;\r\n\t\t\t\t\r\n\t\t\t\tvar freqTotal = 0;\r\n\t\t\t\tdoc.freqCounts = {};\r\n\t\t\t\tvar terms = doc.terms;\r\n\t\t\t\tvar checkClickedBubbles = this.lastClickedBubbles[index] != null;\r\n\t\t\t\tvar termsDrawn = 0;\r\n\t\t\t\tfor (var t in terms) {\r\n\t\t\t\t\tif (this.termsFilter.indexOf(t) !== -1) {\r\n\t\t\t\t\t\tvar info = terms[t];\r\n\t\t\t\t\t\tif (info) {\r\n\t\t\t\t\t\t\ttermsDrawn++;\r\n\t\t\t\t\t\t\tif (this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\t\t\t\t\t\tdrawLine();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar freqForType = 0;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar c = info.color.join(',');\r\n\t\t\t\t\t\t\tthis.ctx.strokeStyle = 'rgba('+c+', 1)';\r\n\t\t\t\t\t\t\tthis.ctx.fillStyle = 'rgba('+c+', 0.35)';\r\n\t\t\t\t\t\t\tthis.ctx.lineWidth = 0.25;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfreqTotal += info.rawFreq;\r\n\t\t\t\t\t\t\tfreqForType += info.rawFreq;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar checkCurrentType = checkClickedBubbles && this.lastClickedBubbles[index][t];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (var i = 0; i < info.pos.length; i++) {\r\n\t\t\t\t\t\t\t\tvar b = info.pos[i];\r\n\t\t\t\t\t\t\t\tif (b.radius > 0) {\r\n\t\t\t\t\t\t\t\t\tvar doClickedBubble = false;\r\n\t\t\t\t\t\t\t\t\tif (checkCurrentType && this.lastClickedBubbles[index][t] == b.id) {\r\n\t\t\t\t\t\t\t\t\t\tthis.ctx.strokeStyle = 'rgba(0, 0, 0, 0.75)';\r\n\t\t\t\t\t\t\t\t\t\tthis.ctx.fillStyle = 'rgba('+c+', 0.5)';\r\n\t\t\t\t\t\t\t\t\t\tthis.ctx.lineWidth = 1;\r\n\t\t\t\t\t\t\t\t\t\tdoClickedBubble = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\t\t\t\t\t\tthis.ctx.arc(b.x+xIndex, this.yIndex, b.radius, 0, pi2, true);\r\n\t\t\t\t\t\t\t\t\tthis.ctx.closePath();\r\n\t\t\t\t\t\t\t\t\tthis.ctx.fill();\r\n\t\t\t\t\t\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (doClickedBubble) {\r\n\t\t\t\t\t\t\t\t\t\tthis.ctx.strokeStyle = 'rgba('+c+', 1)';\r\n\t\t\t\t\t\t\t\t\t\tthis.ctx.fillStyle = 'rgba('+c+', 0.35)';\r\n\t\t\t\t\t\t\t\t\t\tthis.ctx.lineWidth = 0.25;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdoc.freqCounts[t] = freqForType;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\t\t\t\t\t\tthis.ctx.fillStyle = 'rgba(0, 0, 0, 1.0)';\r\n\t\t\t\t\t\t\t\tthis.ctx.font = '10px Verdana';\r\n\t\t\t\t\t\t\t\tthis.ctx.fillText(freqForType, xIndex + lineLength + 5, this.yIndex-4);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.yIndex += this.maxRadius;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.SEPARATE_LINES_FOR_TERMS && termsDrawn == 0) {\r\n\t\t\t\t\tdrawLine();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ctx.fillStyle = 'rgba(0, 0, 0, 1.0)';\r\n\t\t\t\t\tthis.ctx.font = '10px Verdana';\r\n\t\t\t\t\tthis.ctx.fillText(0, xIndex + lineLength + 5, this.yIndex-4);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.yIndex += this.maxRadius;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\txIndex += lineLength;\r\n\t\t\t\t\r\n\t\t\t\tif (!this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\t\t\tthis.ctx.fillStyle = 'rgba(0, 0, 0, 1.0)';\r\n\t\t\t\t\tthis.ctx.font = '10px Verdana';\r\n\t\t\t\t\tthis.ctx.fillText(freqTotal, xIndex + 5, this.yIndex-4);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\t\tthis.yIndex += doc.height;\r\n\t\t\t} else {\r\n\t\t\t\tthis.yIndex += this.maxRadius * 0.5;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// undo previous shift\r\n\t\t\tthis.yIndex -= 4;\r\n\t\t\t\r\n\t//\t\tthis.ctx.fillStyle = 'rgba(128, 0, 0, 1.0)';\r\n\t//\t\tthis.ctx.fillRect(0, this.yIndex-this.maxRadius*0.75, 350, 2);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdrawLegend: function() { // obsolete code?\r\n\t\tvar x = this.MAX_LABEL_WIDTH + this.maxRadius;\r\n\t\tvar y = 5;\r\n\t\tthis.ctx.textBaseline = 'top';\r\n\t\tthis.ctx.font = '16px serif';\r\n\t\tif (this.typeStore) {\r\n\t\t\tthis.typeStore.each(function(record) {\r\n\t\t\t\tvar color = record.get('color').join(',');\r\n\t\t\t\tthis.ctx.fillStyle = 'rgb('+color+')';\r\n\t\t\t\tvar type = record.get('type');\r\n\t\t\t\tthis.ctx.fillText(type, x, y);\r\n\t\t\t\tvar width = this.ctx.measureText(type).width;\r\n\t\t\t\tx += width + 8;\r\n\t\t\t}, this);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdrawToolTip: function() {\r\n\t\tif (this.overBubbles.length > 0) {\r\n\t\t\tthis.ctx.lineWidth = 0.5;\r\n\t\t\tthis.ctx.fillStyle = 'rgba(224, 224, 224, 0.8)';\r\n\t\t\tthis.ctx.strokeStyle = 'rgba(0, 0, 0, 0.8)';\r\n\t\t\t\r\n\t\t\tvar x = this.overBubbles[0].x;\r\n\t\t\tvar y = this.overBubbles[0].y;\r\n\t\t\tvar width = 110;\r\n\t\t\tif (x + width > this.canvas.width) {\r\n\t\t\t\tx -= width;\r\n\t\t\t}\r\n\t\t\tvar height;\r\n\t\t\tvar summary = this.overBubbles[0].label == null;\r\n\t\t\tif (summary) {\r\n\t\t\t\tvar doc = this.cache.get(this.overBubbles[0].docIndex);\r\n\t\t\t\tvar count = 1;\r\n\t\t\t\tfor (var t in doc.freqCounts) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\theight = count * 16;// + 10;\r\n\t\t\t\tif (y + height > this.canvas.height) {\r\n\t\t\t\t\ty -= height;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ctx.fillRect(x, y, width, height);\r\n\t\t\t\tthis.ctx.strokeRect(x, y, width, height);\r\n\t\t\t\tx += 10;\r\n\t\t\t\ty += 10;\r\n\t\t\t\tthis.ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';\r\n\t\t\t\tthis.ctx.font = '10px Verdana';\r\n//\t\t\t\tvar total = 0;\r\n\t\t\t\tfor (var t in doc.freqCounts) {\r\n\t\t\t\t\tvar freq = doc.freqCounts[t];\r\n//\t\t\t\t\ttotal += freq;\r\n\t\t\t\t\tthis.ctx.fillText(t+': '+freq, x, y, 90);\r\n\t\t\t\t\ty += 16;\r\n\t\t\t\t}\r\n//\t\t\t\tthis.ctx.fillText(this.localize('total')+': '+total, x, y, 90);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\theight = this.overBubbles.length * 16 + 10;\r\n\t\t\t\tif (y + height > this.canvas.height) {\r\n\t\t\t\t\ty -= height;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ctx.fillRect(x, y, width, height);\r\n\t\t\t\tthis.ctx.strokeRect(x, y, width, height);\r\n\t\t\t\tx += 10;\r\n\t\t\t\ty += 10;\r\n\t\t\t\tthis.ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';\r\n\t\t\t\tthis.ctx.font = '10px Verdana';\r\n\t\t\t\tfor (var i = 0; i < this.overBubbles.length; i++) {\r\n\t\t\t\t\tvar b = this.overBubbles[i];\r\n\t\t\t\t\tthis.ctx.fillText(b.label+': '+b.freq, x, y, 90);\r\n\t\t\t\t\ty += 16;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.clearToolTipId == null) {\r\n\t\t\t\tthis.clearToolTipId = setTimeout(this.clearToolTip.bind(this), this.DISMISS_DELAY);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tclearToolTip: function() {\r\n\t\tthis.overBubbles = [];\r\n\t\tclearTimeout(this.clearToolTipId);\r\n\t\tthis.clearToolTipId = null;\r\n\t},\r\n\t\r\n\tmouseEnterHandler: function(event) {\r\n\t\tthis.mouseOver = true;\r\n\t\tthis.drawGraph();\r\n\t},\r\n\t\r\n\tmouseLeaveHandler: function(event) {\r\n\t\tthis.mouseOver = false;\r\n\t\tif (this.intervalId != null) clearInterval(this.intervalId);\r\n\t\t// draw once to remove any popup\r\n\t\tthis.overBubbles = [];\r\n\t\tthis.drawGraph();\r\n\t},\r\n\t\r\n\tmoveHandler: function(event) {\r\n\t\tthis.clearToolTip();\r\n\t\t\r\n\t\tthis.overBubbles = [];\r\n\t\tvar x = event.layerX - this.MAX_LABEL_WIDTH;\r\n\t\tvar y = event.layerY;\r\n\t\t\r\n\t\tvar docHeight = this.maxRadius*0.25; // where the first graph actually starts\r\n\t\t\r\n\t\tvar docIndex = -1;\r\n\t\tthis.cache.each(function(doc, index, length) {\r\n\t\t\tif (y < docHeight) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\tdocHeight += doc.height;\r\n\t\t\t\tif (y < docHeight) {\r\n\t\t\t\t\tdocIndex = index;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, this);\r\n\t\t\r\n\t\tif (this.dragInfo != null) {\r\n\t\t\tthis.dragInfo.x = event.layerX;\r\n\t\t\tthis.dragInfo.y = y;\r\n\r\n\t\t\tif (docIndex >= this.cache.getCount()) {\r\n\t\t\t\tdocIndex = this.cache.getCount()-1;\r\n\t\t\t} else if (docIndex < 0) {\r\n\t\t\t\tif (y + this.maxRadius > this.canvas.height) {\r\n\t\t\t\t\tdocIndex = this.cache.getCount()-1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocIndex = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.dragInfo.newIndex = docIndex;\r\n\t\t\tdocument.body.style.cursor = 'move';\r\n\t\t} else {\r\n\t\t\tif (docIndex >= 0 && docIndex < this.cache.getCount()) {\r\n\t\t\t\tif (x >= 0) {\r\n\t\t\t\t\tvar showPointer = false;\r\n\t\t\t\t\tx -= this.maxRadius; // re-adjust x to the start of the doc line \r\n\t\t\t\t\tvar hits = [];\r\n\t\t\t\t\tvar doc = this.cache.get(docIndex);\r\n\t\t\t\t\tif (x >= doc.lineLength) {\r\n\t\t\t\t\t\tthis.overBubbles = [{\r\n\t\t\t\t\t\t\tdocIndex: docIndex,\r\n\t\t\t\t\t\t\tx: event.layerX+10,\r\n\t\t\t\t\t\t\ty: event.layerY+10\r\n\t\t\t\t\t\t}];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar spacing = doc.lineLength / this.bubbleSpacing;\r\n\t\t\t\t\t\tvar xIndex = Math.round(x / spacing);\r\n\t\t\t\t\t\tvar prevDocHeight = this.maxRadius;\r\n\t\t\t\t\t\tif (docIndex > 0) {\r\n\t\t\t\t\t\t\tprevDocHeight = docHeight - (this.cache.get(docIndex).height - this.maxRadius*0.75);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar yIndex = Math.round((y - prevDocHeight) / this.maxRadius);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\t\tfor (var t in doc.terms) {\r\n\t\t\t\t\t\t\tif (this.termsFilter.indexOf(t) !== -1) {\r\n\t\t\t\t\t\t\t\tvar type = doc.terms[t];\r\n\t\t\t\t\t\t\t\tif (type) {\r\n\t\t\t\t\t\t\t\t\tif (this.SEPARATE_LINES_FOR_TERMS && count == yIndex || !this.SEPARATE_LINES_FOR_TERMS) {\r\n\t\t\t\t\t\t\t\t\t\tif (type.pos[xIndex] && type.pos[xIndex].radius > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tshowPointer = true;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.overBubbles.push({\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdocId: doc.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdocIndex: docIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\txIndex: xIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\tyIndex: yIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfreq: type.pos[xIndex].freq,\r\n\t\t\t\t\t\t\t\t\t\t\t\tid: type.pos[xIndex].id,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttokenPositions: type.pos[xIndex].tokenPositions,\r\n\t\t\t\t\t\t\t\t\t\t\t\tx: event.layerX+10,\r\n\t\t\t\t\t\t\t\t\t\t\t\ty: event.layerY+10\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (this.SEPARATE_LINES_FOR_TERMS) count--;\r\n\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (showPointer) {\r\n\t\t\t\t\t\tdocument.body.style.cursor = 'pointer';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdocument.body.style.cursor = 'auto';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.body.style.cursor = 'move';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.style.cursor = 'auto';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tmouseDownHandler: function(event) {\r\n\t\tvar x = event.layerX;\r\n\t\tvar y = event.layerY;\r\n\t\tif (x < this.MAX_LABEL_WIDTH) {\r\n\t\t\t\r\n\t\t\tvar docHeight = this.maxRadius*0.25;\r\n\t\t\tvar docIndex = -1;\r\n\t\t\tthis.cache.each(function(doc, index, length) {\r\n\t\t\t\tif (y < docHeight) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocHeight += doc.height;\r\n\t\t\t\t\tif (y < docHeight) {\r\n\t\t\t\t\t\tdocIndex = index;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\tif (docIndex >= 0 && docIndex < this.cache.getCount()) {\r\n\t\t\t\tvar xOffset = x - 5;\r\n\t\t\t\tvar yOffset = 5;\r\n\t\t\t\tthis.dragInfo = {\r\n\t\t\t\t\toldIndex: docIndex,\r\n\t\t\t\t\tnewIndex: docIndex,\r\n\t\t\t\t\txOffset: xOffset,\r\n\t\t\t\t\tyOffset: yOffset,\r\n\t\t\t\t\tx: x,\r\n\t\t\t\t\ty: y\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tmouseUpHandler: function(event) {\r\n\t\tthis.dragInfo = null;\r\n\t},\r\n\t\r\n\tdoDrag: function() {\r\n\t\tif (this.dragInfo != null) {\r\n\t\t\tvar ordering = {};\r\n\t\t\tfor (var i = 0; i < this.cache.getCount(); i++) {\r\n\t\t\t\tif (i < this.dragInfo.oldIndex && i < this.dragInfo.newIndex) {\r\n\t\t\t\t\tordering[i] = i;\r\n\t\t\t\t} else if (i < this.dragInfo.oldIndex && i >= this.dragInfo.newIndex) {\r\n\t\t\t\t\tordering[i] = i + 1;\r\n\t\t\t\t} else if (i == this.dragInfo.oldIndex) {\r\n\t\t\t\t\tordering[i] = this.dragInfo.newIndex;\r\n\t\t\t\t} else if (i > this.dragInfo.oldIndex && i > this.dragInfo.newIndex) {\r\n\t\t\t\t\tordering[i] = i;\r\n\t\t\t\t} else if (i > this.dragInfo.oldIndex && i <= this.dragInfo.newIndex) {\r\n\t\t\t\t\tordering[i] = i - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.dragInfo.oldIndex = this.dragInfo.newIndex;\r\n\t\t\t\r\n\t\t\tthis.cache.reorder(ordering);\r\n\t\t\t\r\n\t\t\tvar doc = this.cache.get(this.dragInfo.oldIndex);\r\n\t\t\tthis.ctx.fillStyle = 'rgba(128, 128, 128, 1)';\r\n\t\t\tthis.ctx.textBaseline = 'top';\r\n\t\t\tthis.ctx.font = 'bold 12px Verdana';\r\n\r\n\t\t\tthis.ctx.fillText(doc.title, this.dragInfo.x - this.dragInfo.xOffset, this.dragInfo.y - this.dragInfo.yOffset);\r\n\t\t}\r\n\t},\r\n\t\r\n\tclickHandler: function(event) {\r\n\t\tthis.lastClickedBubbles = {};\r\n\t\tif (this.overBubbles.length > 0 && this.overBubbles[0].label) {\r\n\t\t\tvar hits = [];\r\n\t\t\tvar tokenPositions = [];\r\n\t\t\tvar termData = [];\r\n\t\t\tfor (var i = 0; i < this.overBubbles.length; i++) {\r\n\t\t\t\tvar b = this.overBubbles[i];\r\n\t\t\t\t\r\n\t\t\t\ttermData.push({term: b.label, docIndex: b.docIndex, docId: b.docId, tokenPositions: b.tokenPositions});\r\n\t\t\t\t\r\n\t\t\t\tif (this.lastClickedBubbles[b.docIndex] == null) {\r\n\t\t\t\t\tthis.lastClickedBubbles[b.docIndex] = {};\r\n\t\t\t\t}\r\n\t\t\t\tthis.lastClickedBubbles[b.docIndex][b.label] = b.id;\r\n\t\t\t\thits.push(b.docId+':'+b.label);\r\n\t\t\t\ttokenPositions.push(b.tokenPositions);\r\n\t\t\t}\r\n\t\t\ttokenPositions = Ext.flatten(tokenPositions);\r\n\t\t\ttokenPositions.sort();\r\n\t\t\t\r\n\t\t\tif (this.externalClickHandler !== undefined) {\r\n\t\t\t\tthis.externalClickHandler(termData);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.overBubbles = [];\r\n\t},\r\n\t\r\n\tsetMaxFreq: function(maxObj) {\r\n\t\tif (maxObj == null) {\r\n\t\t\tmaxObj = this.findMaxFreq();\r\n\t\t}\r\n\t\tthis.maxFreq = maxObj;\r\n\t},\r\n\t\r\n\tfindMaxFreq: function() {\r\n\t\tvar max = {term: '', value: 0};\r\n\t\tthis.cache.each(function(doc) {\r\n\t\t\tfor (var t in doc.terms) {\r\n\t\t\t\tvar maxDistribution = doc.terms[t].maxDistribution;\r\n\t\t\t\tif (maxDistribution > max.value) {\r\n\t\t\t\t\tmax = {term: t, value: maxDistribution};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, this);\r\n\t\treturn max;\r\n\t},\r\n\t\r\n\tgetNewColor: function() {\r\n\t\tvar color = null;\r\n\t\tfor (var i = 0; i < this.colors.length; i++) {\r\n\t\t\tcolor = this.colors[i];\r\n\t\t\tvar match = this.typeStore.findExact('color', color);\r\n\t\t\tif (match == -1) break;\r\n\t\t\telse color = null;\r\n\t\t}\r\n\t\tif (color == null) color = [128, 128, 128];\r\n\t\treturn color;\r\n\t},\r\n\t\r\n\tremoveAllTerms: function() {\r\n\t\tthis.cache.each(function(doc) {\r\n\t\t\tdoc.terms = {};\r\n\t\t}, this);\r\n\t\tthis.currentTerms = {};\r\n\t\tthis.termsFilter = [];\r\n\t},\r\n\t\r\n\tremoveTerm: function(term) {\r\n//\t\tvar types = this.store.query('type', type);\r\n//\t\ttypes.each(function(type) {\r\n//\t\t\tthis.store.remove(type);\r\n//\t\t}, this);\r\n\t\t\r\n\t\tdelete this.currentTerms[term];\r\n\t\t\r\n//\t\tvar types = this.getApiParamValue('type');\r\n//\t\ttypes = types.remove(type);\r\n//\t\tthis.setApiParams({type: types});\r\n\t\t\r\n\t\tvar getNewMax = false;\r\n\t\tthis.cache.each(function(doc) {\r\n\t\t\tfor (var t in doc.terms) {\r\n\t\t\t\tif (t == term) {\r\n\t\t\t\t\tif (this.maxFreq.term == term) {\r\n\t\t\t\t\t\tthis.maxFreq = {term: null, value: 0};\r\n\t\t\t\t\t\tgetNewMax = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete doc.terms[t];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, this);\r\n\t\t\r\n\t\tfor (var i in this.lastClickedBubbles) {\r\n\t\t\tvar lcTypes = this.lastClickedBubbles[i];\r\n\t\t\tfor (var lcType in lcTypes) {\r\n\t\t\t\tif (lcType == term) {\r\n\t\t\t\t\tdelete this.lastClickedBubbles[i][lcType];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif (getNewMax) {\r\n\t\t\tthis.setMaxFreq();\r\n\t\t\tthis.calculateBubbleRadii();\r\n\t\t\tthis.drawGraph();\r\n\t\t}\r\n\t},\r\n\t\r\n\tclearCanvas: function() {\r\n\t\tthis.canvas.width = this.canvas.width;\r\n\t}\r\n};","function Knots(config) {\r\n\tthis.container = config.container;\r\n\tthis.externalClickHandler = config.clickHandler;\r\n\t\r\n\tthis.MAX_LINE_LENGTH = 0;\r\n\tthis.LINE_SIZE = 2.5;\r\n\t\r\n\tthis.progressiveDraw = true;\r\n\tthis.progDrawDone = false;\r\n\tthis.drawStep = 0;\r\n\t\r\n\tthis.mouseOver = false;\r\n\tthis.refreshInterval = 100;\r\n\tthis.forceRedraw = false;\r\n\tthis.lastDrawTime = new Date().getTime();\r\n\tthis.intervalId = null;\r\n\tthis.startAngle = 315;\r\n\tthis.angleIncrement = 15;\r\n\t\r\n\tthis.canvas = null;\r\n\tthis.ctx = null;\r\n\tthis.currentDoc = {\r\n\t\tterms: {},\r\n\t\tlineLength: undefined\r\n\t};\r\n\tthis.maxDocLength = 0;\r\n\t\r\n\tthis.offset = {x: 0, y: 0};\r\n\r\n\tthis.termsFilter = [];\r\n\t\r\n\tthis.initialized = false;\r\n\t\r\n\tthis.audio = config.audio;\r\n\tthis.audioCtx = null;\r\n}\r\n\r\n\r\nKnots.prototype = {\r\n\tconstructor: Knots,\r\n\t\r\n\tinitializeCanvas: function() {\r\n\t\tvar container = this.container;\r\n\t\tvar height = container.getHeight()-5;\r\n\t\tvar width = container.getWidth();\r\n\t\tthis.MAX_LINE_LENGTH = Math.sqrt((width * width) + (height * height));\r\n\t\t\r\n\t\tvar id = Ext.id('knots');\r\n\t\tcontainer.add({\r\n\t\t\txtype: 'container',\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\thtml: '<canvas id=\"'+id+'\" width=\"'+width+'\" height=\"'+height+'\"></canvas>',\r\n\t\t\tborder: false,\r\n        \tlisteners: {\r\n        \t\tafterrender: {\r\n        \t\t\tfn: function(cnt) {\r\n    \t\t\t\t\tthis.canvas = document.getElementById(id);\r\n        \t\t\t\tthis.ctx = this.canvas.getContext('2d');\r\n        \t\t\t\tthis.canvas.addEventListener('click', this.clickHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mousedown', this.mouseDownHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mouseup', this.mouseUpHandler.bind(this), false);\r\n        \t\t\t\tthis.canvas.addEventListener('mousemove', this.moveHandler.bind(this), false);\r\n        \t\t\t},\r\n        \t\t\tsingle: true,\r\n        \t\t\tscope: this\r\n        \t\t}\r\n        \t}\r\n\t\t});\r\n\t\tcontainer.updateLayout();\r\n\t\tthis.initialized = true;\r\n\t},\r\n\t\r\n\tdoLayout: function() {\r\n\t\tif (this.initialized) {\r\n\t\t\tvar width = this.container.getWidth();\r\n\t\t\tvar height = this.container.getHeight()-5;\r\n\t\t\tthis.canvas.width = width;\r\n\t\t\tthis.canvas.height = height;\r\n\t\t\tthis.recache();\r\n\t\t\tthis.buildGraph();\r\n\t\t}\r\n\t},\r\n\t\r\n\tbuildGraph: function(drawStep) {\r\n\t\tif (this.intervalId != null) {\r\n\t\t\tthis.progDrawDone = false;\r\n\t\t\tclearInterval(this.intervalId);\r\n\t\t}\r\n\t\tthis.forceRedraw = true;\r\n\r\n\t\tthis.drawStep = drawStep || 0;\r\n\t\t\r\n\t\tfor (var t in this.currentDoc.terms) {\r\n\t\t\tvar term = this.currentDoc.terms[t];\r\n\t\t\tterm.done = false;\r\n\t\t}\r\n\t\t\r\n\t\tif (!this.progressiveDraw) {\r\n\t\t\tthis.doDraw(false);\r\n\t\t} else {\r\n\t\t\tthis.intervalId = setInterval(this.doDraw.createDelegate(this, [false]), 50);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdrawGraph: function(includeLegend) {\r\n\t\tif (this.intervalId != null) {\r\n\t\t\tthis.progDrawDone = false;\r\n\t\t\tclearInterval(this.intervalId);\r\n\t\t}\r\n\t\tthis.forceRedraw = true;\r\n\t\t\r\n\t\tif (!this.progressiveDraw) {\r\n\t\t\tthis.doDraw(false, includeLegend);\r\n\t\t} else {\r\n\t\t\tthis.intervalId = setInterval(this.doDraw.createDelegate(this, [includeLegend]), 50);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdoDraw: function(includeLegend) {\r\n\t\tvar time = new Date().getTime();\r\n\t\tif (this.forceRedraw || time - this.lastDrawTime >= this.refreshInterval) {\r\n\t\t\tthis.forceRedraw = false;\r\n\t\t\t\r\n\t\t\tthis.clearCanvas();\r\n\t\t\t\r\n\t\t\tthis.ctx.save();\r\n\t\t\tthis.ctx.translate(this.offset.x, this.offset.y);\r\n\t\t\t\r\n\t\t\tthis.drawDocument(this.currentDoc);\r\n\t\t\t\r\n\t\t\t// animate the origin\r\n\t//\t\tthis.originOpacity -= 0.01;\r\n\t//\t\tif (this.originOpacity < 0) {\r\n\t//\t\t\tthis.originOpacity = 1.0;\r\n\t//\t\t}\r\n\t\t\tthis.originOpacity = 0.5;\r\n\t\t\tthis.originColor = '128,128,128';\r\n\t\t\tthis.ctx.lineWidth = Math.abs(this.originOpacity - 1) * 15;\r\n\t\t\tthis.ctx.fillStyle = 'rgba('+this.originColor+',1.0)';\r\n\t\t\tthis.ctx.strokeStyle = 'rgba('+this.originColor+','+this.originOpacity+')';\r\n\t\t\tthis.ctx.beginPath();\r\n\t\t\tthis.ctx.arc(0, 0, this.LINE_SIZE*2, 0, Math.PI*2, true);\r\n\t\t\tthis.ctx.closePath();\r\n\t\t\tthis.ctx.fill();\r\n\t\t\t\r\n\t\t\tif (!includeLegend) this.ctx.stroke();\r\n\t\t\tthis.ctx.restore();\r\n\t\t\tthis.ctx.lineWidth = 1;\r\n\t\t\t\r\n\t\t\tif (includeLegend === true) {\r\n\t\t\t\tthis.drawLegend();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.lastDrawTime = new Date().getTime();\r\n\t\t\t\r\n\t\t\t// test to see if each doc term is done\r\n\t\t\tif (this.progressiveDraw) {\r\n\t\t\t\tvar done = true;\r\n\t\t\t\tfor (var t in this.currentDoc.terms) {\r\n\t\t\t\t\tdone = done && this.currentDoc.terms[t].done;\r\n\t\t\t\t}\r\n\t\t\t\tthis.progDrawDone = done;\r\n\t\t\t\tif (done) {\r\n\t\t\t\t\tclearInterval(this.intervalId);\r\n\t\t\t\t\tthis.intervalId = null;\r\n\t\t\t\t\tthis.muteTerms();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.drawStep++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tsetAudio: function(audio) {\r\n\t\tthis.audio = audio;\r\n\t\tif (!audio) {this.muteTerms();}\r\n\t},\r\n\t\r\n\tmuteTerms: function() {\r\n\t\tfor (t in this.currentDoc.terms) {\r\n\t\t\tif (this.currentDoc.terms[t].audio) {\r\n\t\t\t\tthis.currentDoc.terms[t].audio.gainNode.gain.value=0;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tdrawDocument: function(doc) {\r\n\t\tvar terms = doc.terms;\r\n\t\t\r\n\t\tfor (var t in terms) {\r\n\t\t\tif (this.termsFilter.indexOf(t) != -1) {\r\n\t\t\t\tvar info = terms[t];\r\n\t\t\t\tif (info && info.pos) {\r\n\t\t\t\t\tvar prevXY = [[0,0],[0,0]];\r\n\t\t\t\t\tif (this.progressiveDraw) {\r\n\t\t\t\t\t\tvar length = this.drawStep + 1;\r\n\t\t\t\t\t\tif (info.pos.length <= this.drawStep) {\r\n\t\t\t\t\t\t\tinfo.done = true;\r\n\t\t\t\t\t\t\tlength = info.pos.length;\r\n\t\t\t\t\t\t\tif (info.audio) {info.audio.gainNode.gain.value=0};\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this.audio && info.audio) {\r\n\t\t\t\t\t\t\t\tinfo.audio.gainNode.gain.value=.1;\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tinfo.audio.gainNode.gain.value=0;\r\n\t\t\t\t\t\t\t\t}, this.refreshInterval*.75)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinfo.done = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\t\t\t\t\tvar xy = info.pos[i];\r\n\t\t\t\t\t\t\tthis.drawPolygon(xy, prevXY, info.color);\r\n\t\t\t\t\t\t\tprevXY = [[xy.polygon[0][3], xy.polygon[1][3]], [xy.polygon[0][2], xy.polygon[1][2]]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i = 0; i < info.pos.length; i++) {\r\n\t\t\t\t\t\t\tvar xy = info.pos[i];\r\n\t\t\t\t\t\t\tthis.drawPolygon(xy, prevXY, info.color);\r\n\t\t\t\t\t\t\tprevXY = [[xy.polygon[0][3], xy.polygon[1][3]], [xy.polygon[0][2], xy.polygon[1][2]]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tdrawPolygon: function(xy, prevXY, color) {\r\n\t\tvar polyX = xy.polygon[0];\r\n\t\tvar polyY = xy.polygon[1];\r\n\t\t\r\n\t\t// connect to previous polygon to make smoother turns\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.moveTo(prevXY[0][0], prevXY[0][1]);\r\n\t\tthis.ctx.lineTo(polyX[0], polyY[0]);\r\n\t\tthis.ctx.lineTo(polyX[1], polyY[1]);\r\n\t\tthis.ctx.lineTo(prevXY[1][0], prevXY[1][1]);\r\n\t\tthis.ctx.closePath();\r\n\t\t\r\n\t\tthis.ctx.fillStyle = 'rgba('+color+', 0.6)';\r\n\t\tthis.ctx.fill();\r\n\r\n\t\t// draw the current polygon\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.moveTo(polyX[0], polyY[0]);\r\n\t\tthis.ctx.lineTo(polyX[1], polyY[1]);\r\n\t\tthis.ctx.lineTo(polyX[2], polyY[2]);\r\n\t\tthis.ctx.lineTo(polyX[3], polyY[3]);\r\n\t\tthis.ctx.closePath();\r\n\r\n\t\tif (xy.over) this.ctx.fillStyle = 'rgba('+color+', 1.0)';\r\n\t\tthis.ctx.fill();\r\n\t},\r\n\t\r\n\tdrawLegend: function() {\r\n\t\tvar x = 5;\r\n\t\tvar y = 5;\r\n\t\tthis.ctx.textBaseline = 'top';\r\n\t\tthis.ctx.font = '16px serif';\r\n\t\tthis.termStore.each(function(record) {\r\n\t\t\tvar color = record.get('color');\r\n\t\t\tthis.ctx.fillStyle = 'rgb('+color+')';\r\n\t\t\tvar term = record.get('term');\r\n\t\t\tthis.ctx.fillText(term, x, y);\r\n\t\t\tvar width = this.ctx.measureText(term).width;\r\n\t\t\tx += width + 8;\r\n\t\t}, this);\r\n\t},\r\n\t\r\n\tsetCurrentDoc: function(doc) {\r\n\t\tthis.currentDoc = doc;\r\n\t\tthis.cacheCurrentDocument();\r\n\t},\r\n\t\r\n\taddTerms: function(termsObj) {\r\n\t\tExt.apply(this.currentDoc.terms, termsObj);\r\n\t\tthis.recache();\r\n\t},\r\n\t\r\n\tremoveTerm: function(term) {\r\n\t\tif (this.currentDoc.terms[term].audio) {this.currentDoc.terms[term].audio.oscillator.stop();}\r\n\t\tdelete this.currentDoc.terms[term];\r\n\t\tthis.recache();\r\n\t},\r\n\t\r\n\tremoveAllTerms: function() {\r\n\t\tfor (term in this.currentDoc.terms) {\r\n\t\t\tif (this.currentDoc.terms[term].audio) {\r\n\t\t\t\tthis.currentDoc.terms[term].audio.oscillator.stop();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.currentDoc.terms = {};\r\n\t\tthis.recache();\r\n\t},\r\n\t\r\n\trecache: function() {\r\n\t\tthis.MAX_LINE_LENGTH = Math.sqrt((this.canvas.width * this.canvas.width) + (this.canvas.height * this.canvas.height));\r\n\t\tthis.cacheCurrentDocument();\r\n\t\tthis.determineGraphSizeAndPosition();\r\n\t},\r\n\t\r\n\tcacheCurrentDocument: function() {\r\n\t\tvar lineLength = this.MAX_LINE_LENGTH;\r\n\t\t\r\n\t\tthis.currentDoc.lineLength = lineLength;\r\n\t\t\r\n\t\tif (this.audio && this.audioCtx == null) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.audioCtx = new (window.AudioContext || window.webkitAudioContext)();\r\n\t\t\t} catch(e) {\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (var term in this.currentDoc.terms) {\r\n\t\t\tif (this.audio && this.audioCtx && !this.currentDoc.terms[term].audio) {\r\n\t\t\t\tvar oscillator = this.audioCtx.createOscillator();\r\n\t\t\t\tvar gainNode = this.audioCtx.createGain();\r\n\t\t\t\toscillator.connect(gainNode);\r\n\t\t\t\tgainNode.connect(this.audioCtx.destination);\r\n\t\t\t\toscillator.frequency.value = (Math.random()*500)+150; // value in hertz\r\n\t\t\t\toscillator.start();\r\n\t\t\t\tgainNode.gain.value = 0;\r\n\t\t\t\tthis.currentDoc.terms[term].audio = {oscillator: oscillator, gainNode: gainNode}\r\n\t\t\t} \r\n\t\t\tthis.cacheTurns(this.currentDoc.terms[term], lineLength);\r\n\t\t}\r\n\t},\r\n\t\r\n\tcacheTurns: function(info, lineLength) {\r\n\t\tvar rawFreq = info.rawFreq;\r\n\t\tif (rawFreq > 0) {\r\n\t\t\tvar doc = this.currentDoc;\r\n\t\t\t\r\n\t\t\tvar term = info.term;\r\n\t\t\tvar color = info.color;\r\n\r\n\t\t\tvar cachedPositions = [];\r\n\t\t\t\r\n\t\t\tvar tokenIds = info.positions;\r\n\t\t\tvar lastTokenId = tokenIds[tokenIds.length-1];\r\n\t\t\t\r\n\t\t\tvar angle = this.startAngle;\r\n\t\t\tvar angleIncrement = this.angleIncrement;\r\n\t\t\tvar prevX = 0;\r\n\t\t\tvar prevY = 0;\r\n\t\t\tvar x = 0;\r\n\t\t\tvar y = 0;\r\n\t\t\tvar prevLength = 0;\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < tokenIds.length; i++) {\r\n\t\t\t\tvar o = tokenIds[i];\r\n\t\t\t\t\r\n\t\t\t\tvar length = o / lastTokenId * lineLength;\r\n\t\t\t\tvar segment = length - prevLength;\r\n\t\t\t\t\r\n\t\t\t\tprevX = x;\r\n\t\t\t\tprevY = y;\r\n\t\t\t\t\r\n\t\t\t\tvar newPoint = this.findEndPoint([x, y], segment, angle);\r\n\t\t\t\tx = newPoint[0];\r\n\t\t\t\ty = newPoint[1];\r\n\t\t\t\t\r\n\t\t\t\tvar polygon = this.getPolygonFromLine([prevX, prevY], [x, y], angle, this.LINE_SIZE);\r\n\t\t\t\t\r\n\t\t\t\tcachedPositions.push({tokenId: o, polygon: polygon, over: false});\r\n\t\t\t\t\r\n\t\t\t\tprevLength = length;\r\n\t\t\t\tangle += angleIncrement;\r\n\t\t\t}\r\n\t\t\t\r\n//\t\t\tdoc.terms[term] = {pos: cachedPositions, rawFreq: rawFreq, color: color, done: false};\r\n\t\t\tdoc.terms[term].pos = cachedPositions;\r\n\t\t\tdoc.terms[term].done = false;\r\n\t\t}\r\n\t},\r\n\t\r\n\tfindEndPoint: function(point, length, angle) {\r\n\t\tvar radians = this.degreesToRadians(angle);\r\n\t\tvar x2 = point[0] + (length * Math.cos(radians));\r\n\t\tvar y2 = point[1] + (length * Math.sin(radians));\r\n\t\treturn [x2, y2];\r\n\t},\r\n\t\r\n\tdetermineGraphSizeAndPosition: function() {\t\t\r\n\t\tvar bb = this.findBoundingBoxForGraph();\r\n\r\n\t\t// find the size ratio between the graph and the canvas\r\n\t\tvar width = bb.maxX - bb.minX;\r\n\t\tvar height = bb.maxY - bb.minY;\r\n\t\tvar widthRatio = this.canvas.width / width;\r\n\t\tvar heightRatio = this.canvas.height / height;\r\n\t\tvar ratio = Math.min(widthRatio, heightRatio);\r\n\t\tratio -= 0.05; // create some space around the borders\r\n\t\t\r\n\t\twidth *= ratio;\r\n\t\theight *= ratio;\r\n\t\t\r\n\t\tthis.offset.x = Math.abs(bb.minX * ratio - (this.canvas.width / 2 - width / 2));\r\n\t\tthis.offset.y = Math.abs(bb.minY * ratio - (this.canvas.height / 2 - height / 2));\r\n\t\t\r\n\t\tthis.MAX_LINE_LENGTH = Math.sqrt((this.canvas.width * this.canvas.width) + (this.canvas.height * this.canvas.height)) * ratio;\r\n\t\t\r\n\t\tthis.cacheCurrentDocument();\r\n\t},\r\n\t\r\n\tfindBoundingBoxForGraph: function() {\r\n\t\tvar minX = null;\r\n\t\tvar maxX = null;\r\n\t\tvar minY = null;\r\n\t\tvar maxY = null;\r\n\t\tfor (var t in this.currentDoc.terms) {\r\n\t\t\tvar pos = this.currentDoc.terms[t].pos;\r\n\t\t\tfor (var i = 0; i < pos.length; i++) {\r\n\t\t\t\tvar polygon = pos[i].polygon;\r\n\t\t\t\tvar bb = this.getBoundingBox(polygon[0], polygon[1]);\r\n\t\t\t\tif (minX == null || bb[0] < minX) minX = bb[0];\r\n\t\t\t\tif (maxX == null || bb[2] > maxX) maxX = bb[2];\r\n\t\t\t\tif (minY == null || bb[1] < minY) minY = bb[1];\r\n\t\t\t\tif (maxY == null || bb[3] > maxY) maxY = bb[3];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn {minX: minX, minY: minY, maxX: maxX, maxY: maxY};\r\n\t},\r\n\t\r\n\tgetBoundingBox: function(polyX, polyY) {\r\n\t\tvar minX = Math.min(polyX[0], polyX[2]);\r\n\t\tvar maxX = Math.max(polyX[0], polyX[2])\r\n\t\tvar minY = Math.min(polyY[0], polyY[2]);\r\n\t\tvar maxY = Math.max(polyY[0], polyY[2]);\r\n\t\treturn [minX, minY, maxX, maxY];\r\n\t},\r\n\t\r\n\tdegreesToRadians: function(d) {\r\n\t\treturn d * (Math.PI / 180);\r\n\t},\r\n\t\r\n\tclickHandler: function(event) {\r\n\t\tvar x = event.layerX - this.offset.x;\r\n\t\tvar y = event.layerY - this.offset.y;\r\n\t\tvar hit = null;\r\n\t\tvar tokenId = 0;\r\n\t\tfor (var t in this.currentDoc.terms) {\r\n\t\t\tif (this.termsFilter.indexOf(t) != -1) {\r\n\t\t\t\tvar pos = this.currentDoc.terms[t].pos;\r\n\t\t\t\tfor (var i = 0; i < pos.length; i++) {\r\n\t\t\t\t\tvar polygon = pos[i].polygon;\r\n\t\t\t\t\tvar test = this.isPointInPolygon(polygon[0], polygon[1], x, y);\r\n\t\t\t\t\tif (test) {\r\n\t\t\t\t\t\thit = t;\r\n\t\t\t\t\t\ttokenId = pos[i].tokenId;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (hit) {\r\n\t\t\tif (this.externalClickHandler !== undefined) {\r\n\t\t\t\tthis.externalClickHandler({term: hit, tokenId: tokenId});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tmoveHandler: function(event) {\r\n\t\tvar x = event.layerX - this.offset.x;\r\n\t\tvar y = event.layerY - this.offset.y;\r\n\t\tif (this.dragInfo != null) {\r\n\t\t\tdocument.body.style.cursor = 'move';\r\n\t\t\tthis.dragInfo.lastX = this.dragInfo.x;\r\n\t\t\tthis.dragInfo.lastY = this.dragInfo.y;\r\n\t\t\tthis.dragInfo.x = event.layerX;\r\n\t\t\tthis.dragInfo.y = event.layerY;\r\n\t\t\tvar xDiff = this.dragInfo.x - this.dragInfo.lastX;\r\n\t\t\tvar yDiff = this.dragInfo.y - this.dragInfo.lastY;\r\n\t\t\tthis.offset.x += xDiff;\r\n\t\t\tthis.offset.y += yDiff;\r\n\t\t} else {\r\n\t\t\tthis.mouseOver = false;\r\n\t\t\tfor (var t in this.currentDoc.terms) {\r\n\t\t\t\tif (this.termsFilter.indexOf(t) != -1) {\r\n\t\t\t\t\tvar pos = this.currentDoc.terms[t].pos;\r\n\t\t\t\t\tfor (var i = 0; i < pos.length; i++) {\r\n\t\t\t\t\t\tif (!this.mouseOver) {\r\n\t\t\t\t\t\t\tvar polygon = pos[i].polygon;\r\n\t\t\t\t\t\t\tvar test = this.isPointInPolygon(polygon[0], polygon[1], x, y);\r\n\t\t\t\t\t\t\tif (test) {\r\n\t\t\t\t\t\t\t\tthis.currentDoc.terms[t].pos[i].over = true;\r\n\t\t\t\t\t\t\t\tthis.mouseOver = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.currentDoc.terms[t].pos[i].over = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.currentDoc.terms[t].pos[i].over = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.mouseOver) {\r\n\t\t\t\tdocument.body.style.cursor = 'pointer';\r\n\t\t\t\tif (!this.progressiveDraw || (this.progressiveDraw && this.progDrawDone)) {\r\n\t\t\t\t\tclearInterval(this.intervalId);\r\n\t\t\t\t\tthis.intervalId = setInterval(this.doDraw.createDelegate(this, [false]), 50);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.style.cursor = 'auto';\r\n\t\t\t\tif (!this.progressiveDraw || (this.progressiveDraw && this.progDrawDone)) {\r\n\t\t\t\t\tclearInterval(this.intervalId);\r\n\t\t\t\t\tthis.doDraw(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tmouseDownHandler: function(event) {\r\n\t\tvar x = event.layerX;\r\n\t\tvar y = event.layerY;\r\n\t\tthis.dragInfo = {\r\n\t\t\tlastX: x,\r\n\t\t\tlastY: y,\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\t},\r\n\t\r\n\tmouseUpHandler: function(event) {\r\n\t\tthis.dragInfo = null;\r\n\t},\r\n\t\r\n\tgetPolygonFromLine: function(point1, point2, angle, size) {\r\n\t\tvar perpDown = angle + 90;\r\n\t\tvar perpUp = angle - 90;\r\n\t\t\r\n\t\tvar p1 = this.findEndPoint(point1, size, perpDown);\r\n\t\tvar p2 = this.findEndPoint(point1, size, perpUp);\r\n\t\tvar p3 = this.findEndPoint(point2, size, perpUp);\r\n\t\tvar p4 = this.findEndPoint(point2, size, perpDown);\r\n\t\t\r\n\t\tvar polyX = [p1[0], p2[0], p3[0], p4[0]];\r\n\t\tvar polyY = [p1[1], p2[1], p3[1], p4[1]];\r\n\t\treturn [polyX, polyY];\r\n\t},\r\n\t\r\n\t// from http://alienryderflex.com/polygon/\r\n\tisPointInPolygon: function(polyX, polyY, x, y) {\r\n\t\tvar i = 0;\r\n\t\tvar j = 3; // number of polygon sides minus 1\r\n\t\tvar oddNodes = false;\r\n\t\tfor (i = 0; i < 4; i++) {\r\n\t\t\tif ((polyY[i] < y && polyY[j] >= y) ||\r\n\t\t\t\t(polyY[j] < y && polyY[i] >= y)) {\r\n\t\t\t\tif (polyX[i] + (y - polyY[i]) / (polyY[j] - polyY[i]) * (polyX[j] - polyX[i]) < x) {\r\n\t\t\t\t\toddNodes = !oddNodes;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tj = i;\r\n\t\t}\r\n\t\treturn oddNodes;\r\n\t},\r\n\t\r\n\tclearCanvas: function() {\r\n\t\tthis.canvas.width = this.canvas.width;\r\n\t}\r\n};","/**\n * Voyant changes & additions:\n * - height setter, height no longer calculated based on content\n * - replaced tree.size with tree.nodeSize\n * - pointer cursor for node\n * - rect now behind text, made opaque to block paths obscuring text\n * - branch length based on text length on per node basis\n * - click handler\n * - zoom fixes\n * - redraw checks for tries before re-running setup\n * - prevent negative height error\n */\n\n/*\n * (This is the new BSD license.) Copyright (c) 2012-2014, Chris Culy All rights\n * reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met: *\n * Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer. * Redistributions in binary\n * form must reproduce the above copyright notice, this list of conditions and\n * the following disclaimer in the documentation and/or other materials provided\n * with the distribution. * Neither the name of the Chris Culy nor the names of\n * its contributors may be used to endorse or promote products from this\n * software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY Chris Culy ``AS IS'' AND ANY OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO\n * EVENT SHALL Chris Culy BE LIABLE FOR ANY, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; OF USE, DATA, OR PROFITS; OR\n * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\"use strict\";\n/**\n * @namespace doubletree All of the functionality is in the doubletree namespace\n */\nvar doubletree = {};\n\n(function() {\n\n// TBD what about visWidth? to be fixed visWidth is really width and width\n// is really just the width of one side of the doubletree\n\n/**\n * @class doubletree.DoubleTree This is the class for the DoubleTree\n *        visualization\n */\ndoubletree.DoubleTree = function() {\n\tvar containers = []; // nominally for allowing the same tree in\n\t\t\t\t\t\t\t// multiple places, but not tested and probably\n\t\t\t\t\t\t\t// doesn't work right (e.g. for search)\n\t// defaults. see below for getter/setters\n\tvar visWidth = 600;\n\tvar visHt = 400; // calculated, not settable\n\tvar prefixesOnRight = false; // true for right to left writing systems\n\tvar filters = {\n\t\t\"left\" : [],\n\t\t\"right\" : []\n\t};\n\tvar handlers = {\n\t\t\"alt\" : noOp,\n\t\t\"shift\" : noOp,\n\t\t\"click\" : noOp\n\t};\n\tvar showTokenExtra = true;\n\tvar scaleLabels = true;\n\tvar sortFun = doubletree.sortByStrFld(\"token\");\n\tvar nodeText = doubletree.tokenText; // default\n\tvar tokenExtraText = function(info) {\n\t\treturn doubletree.fieldText(info, \"POS\");\n\t};\n\tvar rectColor = function(info) {\n\t\treturn \"rgba(255,255,255,1)\";\n\t};\n\tvar rectBorderColor = function(info) {\n\t\treturn \"rgba(255,255,255,1)\";\n\t};\n\tvar continuationColor = function(info) {\n\t\treturn \"red\";\n\t};\n\tvar basicStyles = {\n\t\t\"node\" : {\n\t\t\t\"fill\" : \"white\",\n\t\t\t\"stroke\" : \"steelblue\",\n\t\t\t\"stroke-width\" : \"1.5px\"\n\t\t},\n\t\t\"branch\" : {\n\t\t\t\"stroke\" : \"#aaa\",\n\t\t\t\"stroke-width\" : \"1.5px\"\n\t\t}\n\t};\n\n\tvar succeeded = false; // did we succeed in building a DoubleTree? we\n\t\t\t\t\t\t\t// need this flag, since we no longer return\n\t\t\t\t\t\t\t// true/false from setupFromX (since we do\n\t\t\t\t\t\t\t// chaining)\n\n\tvar dispatch = d3.dispatch(\"idsUpdated\");\n\tdispatch.on(\"idsUpdated\", function() {\n\t\tif (this == leftTree) {\n\t\t\trtTree.setIds(leftTree.continuationIDs);\n\t\t\trtTree.updateContinuations();\n\t\t} else if (this == rtTree) {\n\t\t\tleftTree.setIds(rtTree.continuationIDs);\n\t\t\tleftTree.updateContinuations();\n\t\t}\n\t});\n\n\tvar leftTrie, rtTrie, leftTree, rtTree;\n\tvar visibleIDs; // the ids of the results that are showing\n\n\t// tmp, until we can do sizing right. the font sizes are specified in\n\t// doubletree.css and manually copied here\n\tvar kFontSize = 14; // normal\n\tvar kBigFontSize = 1.15 * kFontSize; // for found text and\n\t\t\t\t\t\t\t\t\t\t\t// continuations (was 18) NB:\n\t\t\t\t\t\t\t\t\t\t\t// this is 0.05 bigger than in\n\t\t\t\t\t\t\t\t\t\t\t// doubletree.css\n\tvar kMinFontSize = 8; // smallest that we'll scale to\n\tvar textScale;\n\n\t/** @exports mine as doubletree.DoubleTree */\n\t/** @ignore */\n\tfunction mine(selection) {\n\t\t// generate container and data independent part of chart here, using\n\t\t// `width` and `height` etc\n\n\t\tselection.each(function(d, i) {\n\t\t\t// generate chart here; `d` is the data and `this` is the\n\t\t\t// element\n\t\t\t// really, storing containers. Use updateData and redraw to\n\t\t\t// really do the generation\n\t\t\tcontainers.push(this.node());\n\t\t});\n\n\t}\n\n\t/**\n\t * initialize the visualization in one or more html containers\n\t * <p>\n\t * \n\t * @param containerPattern\n\t *            CSS selector for the containers\n\t */\n\tmine.init = function(containerPattern) {\n\t\td3.select(d3.selectAll(containerPattern)).call(this);\n\t\treturn mine;\n\t};\n\n\t/**\n\t * redraw the visualization\n\t */\n\tmine.redraw = function() {\n\t\tif (leftTrie !== undefined && rtTrie !== undefined) {\n\t\t\tmine.setupFromTries(leftTrie, rtTrie);\n\t\t}\n\n\t\treturn mine;\n\t};\n\n\t/**\n\t * set up the visualization using 2 {@link doubletree.Trie}s\n\t * \n\t * @param leftOne\n\t *            the left {@link doubletree.Trie}\n\t * @param rtOne\n\t *            the right {@link doubletree.Trie}\n\t */\n\tmine.setupFromTries = function(leftOne, rtOne) {\n\t\tleftTrie = leftOne.getUniqRoot();\n\t\trtTrie = rtOne.getUniqRoot();\n\n\t\tvar leftTrieTree = leftTrie.toTree(filters.left);\n\t\tvar rtTrieTree = rtTrie.toTree(filters.right);\n\n\t\tvar copyIDs = true;\n\t\tif (Object.keys(rtTrieTree.pruned).length > 0) {\n\t\t\tnew_pruneTree(rtTrieTree, rtTrieTree.pruned, copyIDs);\n\t\t\tnew_pruneTree(leftTrieTree, rtTrieTree.pruned, copyIDs);\n\t\t\tcopyIDs = false;\n\t\t}\n\n\t\tif (Object.keys(leftTrieTree.pruned).length > 0) {\n\t\t\tnew_pruneTree(leftTrieTree, leftTrieTree.pruned, copyIDs);\n\t\t\tnew_pruneTree(rtTrieTree, leftTrieTree.pruned, copyIDs);\n\t\t}\n\n\t\t// combine the info's from the two trees\n\t\tvar newInfo = {}; // rtTrieTree.info;\n\n\t\tfor ( var k in rtTrieTree.info) {\n\t\t\tif (k != \"continuations\" && k != \"ids\" && k != \"count\") {\n\t\t\t\tnewInfo[k] = rtTrieTree.info[k];\n\t\t\t}\n\t\t}\n\n\t\tnewInfo[\"right continuations\"] = rtTrieTree.info.continuations;\n\t\tnewInfo[\"left continuations\"] = leftTrieTree.info.continuations;\n\n\t\tnewInfo.ids = {};\n\t\taddTo(newInfo.ids, rtTrieTree.info.ids);\n\t\taddTo(newInfo.ids, leftTrieTree.info.ids);\n\t\tnewInfo.count = Object.keys(newInfo.ids).length;\n\t\tvisibleIDs = Object.keys(newInfo.ids);\n\n\t\tif (rtTrieTree.info.origIDs || leftTrieTree.info.origIDs) {\n\t\t\tnewInfo.origIDs = {};\n\t\t\taddTo(newInfo.origIDs, rtTrieTree.info.origIDs);\n\t\t\taddTo(newInfo.origIDs, leftTrieTree.info.origIDs);\n\t\t\tnewInfo.origCount = Object.keys(newInfo.origIDs).length;\n\t\t}\n\n\t\trtTrieTree.info = newInfo;\n\t\tleftTrieTree.info = newInfo;\n\n\t\tvar maxChildren = Math.max(leftTrieTree.maxChildren,\n\t\t\t\trtTrieTree.maxChildren);\n\t\tif (isNaN(maxChildren) || maxChildren == 0) {\n\t\t\tsucceeded = false;\n\t\t\treturn mine;\n\t\t}\n\n\t\tif (scaleLabels) {\n\t\t\ttextScale = d3.scaleLog().range([ kMinFontSize, kFontSize ]);\n\t\t} else {\n\t\t\ttextScale = function() {\n\t\t\t\treturn kFontSize;\n\t\t\t};\n\t\t\ttextScale.domain = function() {\n\t\t\t};\n\t\t}\n\n\t\tvar minCount = Math.min(leftTrieTree.minCount, rtTrieTree.minCount);\n\t\ttextScale.domain([ minCount, leftTrieTree.info.count ]);\n\n\t\t// TBD ?? margin, width, height, duplicated in Tree\n\t\tvar margin = {\n\t\t\ttop : 20,\n\t\t\tright : 20,\n\t\t\tbottom : 20,\n\t\t\tleft : 20\n\t\t};\n\t\tvar width = visWidth - margin.right - margin.left;\n\t\tvar height = visHt - margin.top - margin.bottom;\n\n\t\tcontainers.forEach(function(d, i) {\n\t\t\tvar thisContainer = d;\n\t\t\tvar thisVis;\n\n\t\t\tvar tmp = d3.select(thisContainer).select(\"svg\");\n\t\t\tif (tmp.node() == null) {\n\t\t\t\tthisVis = d3.select(thisContainer).append(\"svg\")\n\t\t\t\t\t.attr(\"width\", width + margin.right + margin.left)\n\t\t\t\t\t.attr(\"height\", height + margin.top + margin.bottom)\n\t\t\t\t\t.attr(\"cursor\", \"move\")\n\t\t\t\t\t.call(d3.zoom().scaleExtent([1,1]).on('zoom', function() {\n\t\t\t\t\t\tvar x = d3.event.transform.x + width/2; // need offset because of initial offset in g element\n\t\t\t\t\t\tvar y = d3.event.transform.y + height/2;\n\t\t\t\t\t\td3.select(thisContainer).select(\"svg > g\").attr(\"transform\", 'translate('+x+','+y+')');\n\t\t\t\t\t}));\n\n\t\t\t\tthisVis.append(\"g\") // container for both trees\n\t\t\t\t\t.attr('transform', 'translate('+width/2+','+height/2+')'); // initial offset\n\n\t\t\t} else {\n\t\t\t\tthisVis = tmp;\n\t\t\t\tthisVis\n\t\t\t\t\t.attr(\"width\", width + margin.right + margin.left)\n\t\t\t\t\t.attr(\"height\", height + margin.top + margin.bottom);\n\t\t\t\tthisVis.selectAll(\"g *\").remove(); // clear\n\t\t\t\t\t\t\t\t\t\t\t\t\t// previous\n\t\t\t}\n\n\t\t\tleftTree = new doubletree.Tree(thisVis.select(\"g\"),\n\t\t\t\t\tvisWidth, visHt, leftTrieTree, true,\n\t\t\t\t\tsortFun, dispatch, textScale, showTokenExtra,\n\t\t\t\t\tnodeText, tokenExtraText, rectColor,\n\t\t\t\t\trectBorderColor, continuationColor, basicStyles);\n\t\t\trtTree = new doubletree.Tree(thisVis.select(\"g\"),\n\t\t\t\t\tvisWidth, visHt, rtTrieTree, false,\n\t\t\t\t\tsortFun, dispatch, textScale, showTokenExtra,\n\t\t\t\t\tnodeText, tokenExtraText, rectColor,\n\t\t\t\t\trectBorderColor, continuationColor, basicStyles);\n\t\t});\n\n\t\tleftTree.handleAltPress = handlers.alt;\n\t\trtTree.handleAltPress = handlers.alt;\n\n\t\tleftTree.handleShiftPress = handlers.shift;\n\t\trtTree.handleShiftPress = handlers.shift;\n\t\t\n\t\tleftTree.handleClick = handlers.click;\n\t\trtTree.handleClick = handlers.click;\n\n\t\tsucceeded = true;\n\t\treturn mine;\n\t};\n\n\t// hitArray is an array of items, prefixArray and suffixArray are arrays\n\t// of arrays of items\n\t/**\n\t * set up the visualization from arrays corresponding to the hit, the\n\t * prefix, and the suffix of a key word in context result.\n\t * <p>\n\t * The ith elements should correspond with each other. Each item\n\t * consists of fields separated by a field delimiter. For example we\n\t * might have word/tag (with / as the delimiter) or word\\tlemma\\tauthor\n\t * (with tab (\\t) as the delimiter) Only certain fields are relevant for\n\t * deciding whether two items are to be considered the same (e.g. we\n\t * might ignore an author field)\n\t * \n\t * @param prefixArray\n\t *            the array of arrays of the prefixes of the hits\n\t * @param hitArray\n\t *            the array of the hits\n\t * @param suffixArray\n\t *            the array of arrays of the suffixes of the hits\n\t * @param idArray\n\t *            the array of ids of the hits (or null, if there are no ids\n\t *            for the hits)\n\t * @param caseSensitive\n\t *            are the hits case sensitive\n\t * @param fieldNames\n\t *            the names of the fields\n\t * @param fieldDelim\n\t *            the field delimiter\n\t * @param distinguishingFieldsArray\n\t *            the fields that determine identity\n\t * @param prefixesOnRight\n\t *            display the prefixes on the right, for right-to-left\n\t *            writing systems. Default is false\n\t */\n\tmine.setupFromArrays = function(prefixArray, hitArray, suffixArray, idArray, caseSensitive, fieldNames, fieldDelim, distinguishingFieldsArray) {\n\n\t\tif (undefined == caseSensitive && leftTrie) {\n\t\t\tcaseSensitive = leftTrie.caseSensitive();\n\t\t}\n\t\tif (undefined == fieldNames && leftTrie) {\n\t\t\tfieldNames = leftTrie.fieldNames();\n\t\t}\n\t\tif (undefined == fieldDelim && leftTrie) {\n\t\t\tfieldDelim = leftTrie.fieldDelim();\n\t\t}\n\t\tif (undefined == distinguishingFieldsArray && leftTrie) {\n\t\t\tdistinguishingFieldsArray = leftTrie.distinguishingFieldsArray();\n\t\t}\n\n\t\tleftTrie = new doubletree.Trie(caseSensitive, fieldNames, fieldDelim, distinguishingFieldsArray);\n\t\trtTrie = new doubletree.Trie(caseSensitive, fieldNames, fieldDelim, distinguishingFieldsArray);\n\n\t\tvar n = hitArray.length;\n\t\tfor ( var i = 0; i < n; i++) {\n\t\t\tvar thisID = idArray ? idArray[i] : i;\n\t\t\tvar thisHit = hitArray[i];\n\t\t\tvar thesePrefixes = prefixArray[i].slice();\n\t\t\tvar theseSuffixes = suffixArray[i].slice();\n\n\t\t\tthesePrefixes.push(thisHit);\n\t\t\tthesePrefixes.reverse();\n\t\t\ttheseSuffixes.unshift(thisHit);\n\n\t\t\t/*\n\t\t\t * if (prefixesOnRight) { //e.g. for Arabic, Hebrew, N'Ko, ...\n\t\t\t * thesePrefixes.push(thisHit); thesePrefixes.reverse();\n\t\t\t * \n\t\t\t * rtTrie.addNgram( thesePrefixes, thisID);\n\t\t\t * \n\t\t\t * theseSuffixes.unshift(thisHit); leftTrie.addNgram(\n\t\t\t * theseSuffixes, thisID);\n\t\t\t *  } else { thesePrefixes.push(thisHit);\n\t\t\t * thesePrefixes.reverse(); leftTrie.addNgram( thesePrefixes,\n\t\t\t * thisID);\n\t\t\t * \n\t\t\t * theseSuffixes.unshift(thisHit); rtTrie.addNgram(\n\t\t\t * theseSuffixes, thisID); }\n\t\t\t */\n\n\t\t\tif (prefixesOnRight) {\n\t\t\t\trtTrie.addNgram(thesePrefixes, thisID);\n\t\t\t\tleftTrie.addNgram(theseSuffixes, thisID);\n\t\t\t} else {\n\t\t\t\tleftTrie.addNgram(thesePrefixes, thisID);\n\t\t\t\trtTrie.addNgram(theseSuffixes, thisID);\n\t\t\t}\n\t\t}\n\n\t\tmine.setupFromTries(leftTrie, rtTrie);\n\t\treturn mine;\n\t};\n\n\t/**\n\t * @returns just the <em>ids</em> of the data that satisfies the\n\t *          current filters\n\t */\n\tmine.filteredIDs = function() {\n\t\treturn visibleIDs;\n\t};\n\n\t// return how many found\n\t/**\n\t * search the nodes of the visualization for a pattern\n\t * <p>\n\t * The found nodes will get the CSS class foundText\n\t * \n\t * @param searchRE\n\t *            the regular expression to look for\n\t * @returns how many nodes were found\n\t */\n\tmine.search = function(searchRE) {\n\t\tleftTree.search(searchRE);\n\t\trtTree.search(searchRE);\n\n\t\tvar thisVis = d3.select(containers[0]);\n\t\tvar found = thisVis.selectAll(\"text.foundText\");\n\n\t\tif (found.empty()) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar what = found[0].length;\n\n\t\tvar foundRt = thisVis.selectAll(\"text.rtNdText.foundText\");\n\n\t\tif (foundRt.node() != null) {\n\t\t\twhat--; // root node, and we have 2 of those, so subtract one\n\t\t\t\t\t// from the count\n\t\t}\n\t\treturn what;\n\t};\n\n\t/**\n\t * clear the visualization of the search results\n\t * <p>\n\t * the CSS class foundText is removed\n\t */\n\tmine.clearSearch = function() {\n\t\tleftTree.clearSearch();\n\t\trtTree.clearSearch();\n\t\treturn mine;\n\t};\n\n\t/**\n\t * update the showing/hiding of extra information associated with the\n\t * basic item, e.g. part of speech information\n\t * <p>\n\t * Notes:\n\t * <ul>\n\t * <li>This <em>DOES</em> redraw the visualization.</li>\n\t * <li>Safari does not update the visualization correctly by itself, so\n\t * we force it to rebuild the entire visualization, unlike in other\n\t * browsers.</li>\n\t * </ul>\n\t */\n\tmine.updateTokenExtras = function() {\n\t\tleftTree.showTokenExtras(showTokenExtra);\n\t\trtTree.showTokenExtras(showTokenExtra);\n\n\t\t// Safari doesn't update reshowing correctly, so we'll force it to\n\t\t// build this again :( (Chrome works correctly, so it's not a webkit\n\t\t// issue)\n\t\tvar thisVis = d3.select(containers[0]);\n\t\tvar tokExtra = thisVis.select('.tokenExtra[display=\"inline\"]');\n\t\tif (!tokExtra.empty()) {\n\t\t\tvar ht = tokExtra.style(\"height\");\n\t\t\tif (ht == \"0px\") {\n\t\t\t\tmine.redraw();\n\t\t\t}\n\t\t}\n\n\t\treturn mine;\n\t};\n\n\t// ////////// getter/setters\n\t/**\n\t * Getter/setter for the maximum width of the DoubleTree area\n\t * \n\t * @param value\n\t *            the maximum width\n\t */\n\tmine.visWidth = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn visWidth;\n\t\tvisWidth = value;\n\t\treturn mine;\n\t};\n\n\t// ADDED\n\tmine.visHeight = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn visHt;\n\t\tvisHt = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for whether the prefixes are displayed on the right or\n\t * the left.\n\t * <p>\n\t * The default value is false, i.e. the prefixes are displayed on the\n\t * left, as in English. <em>prefixesOnRight</em> should be set to true\n\t * for right-to-left writing systems such as Arabic, Hebrew, N'Ko, etc.\n\t * \n\t * @param value\n\t *            true or false\n\t */\n\tmine.prefixesOnRight = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn prefixesOnRight;\n\t\tprefixesOnRight = value;\n\t\treturn mine;\n\t};\n\n\t// NB: doesn't redraw\n\t/**\n\t * Getter/setter for the filter functions.\n\t * <p>\n\t * The filter functions get an information object as their argument, and\n\t * return true/false. Each position away from the root has its own\n\t * filter, and the left and right sides also have their own filters. The\n\t * filters are specified via an object with \"left\" and \"right\" keys\n\t * whose values are arrays of functions The function at index <em>i</em>\n\t * filters position <em>i + 1</em> away from the root. Default is no\n\t * filtering (via empty arrays)\n\t * <p>\n\t * Note: setting the filters does <em>not</em> redraw the\n\t * visualization. See {@link #redraw}\n\t * \n\t * @param value\n\t *            an object containing the filters\n\t */\n\tmine.filters = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn filters;\n\t\tfilters = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for the handlers for alt-click and shift-click on the\n\t * nodes.\n\t * <p>\n\t * The handlers get an information object as their argument. The\n\t * handlers are specified via an object with \"alt\" and \"shift\" keys\n\t * whose values are functions The default is no handlers, i.e.\n\t * <em>NO</em> interaction\n\t * \n\t * @param value\n\t *            an object containing the handlers\n\t */\n\tmine.handlers = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn handlers;\n\t\thandlers = value;\n\t\treturn mine;\n\t};\n\n\t// NB: doesn't redraw\n\t/**\n\t * Getter/setter for showing/hiding extra information associated with\n\t * the main value, e.g. part of speech information.\n\t * <p>\n\t * Note: setting this value does <em>not</em> redraw the\n\t * visualization. See {@link #redraw} Default is true\n\t * \n\t * @param value\n\t *            a boolean specifying whether to show the information or\n\t *            not\n\t */\n\tmine.showTokenExtra = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn showTokenExtra;\n\t\tshowTokenExtra = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for scaling the node labels by their frequency.\n\t * <p>\n\t * Default is true\n\t * \n\t * @param value\n\t *            a boolean specifying whether to scale the labels or not\n\t */\n\tmine.scaleLabels = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn scaleLabels;\n\t\tscaleLabels = value;\n\t\treturn mine;\n\t};\n\n\t// succeeded is read only\n\t/**\n\t * Reports whether the DoubleTree was constructed successfully\n\t * <p>\n\t * \n\t * @returns true if the DoubleTree was constructed successfully and\n\t *          false otherwise\n\t */\n\tmine.succeeded = function() {\n\t\treturn succeeded;\n\t};\n\n\t/**\n\t * Getter/setter for the function determining the sort order of sibling\n\t * nodes.\n\t * <p>\n\t * The function gets an information object as its argument, and should\n\t * return -1 for precedes, 1 for follows and 0 for don't care The nodes\n\t * are displayed in \"preceding\" (i.e. ascending) order, from top to\n\t * bottom. The default is alphabetical by a \"token\" field if there is\n\t * one: doubletree.sortByStrFld(\"token\")\n\t * \n\t * @param the\n\t *            sort order function\n\t */\n\tmine.sortFun = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn sortFun;\n\t\tsortFun = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for the function determining the content of the node\n\t * labels.\n\t * <p>\n\t * The function gets an information object as its first argument and a\n\t * boolean indicating whether the node is the root or not as its second\n\t * argument. The function should return a string. The default is\n\t * {@link #tokenText}\n\t * \n\t * @param the\n\t *            content function\n\t */\n\tmine.nodeText = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn nodeText;\n\t\tnodeText = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for the function determining the content of the \"extra\"\n\t * information for the labels labels\n\t * <p>\n\t * The function gets an information object as its first argument and a\n\t * boolean indicating whether the node is the root or not as its second\n\t * argument. The function should return a string. The default is the POS\n\t * field of the information object\n\t * \n\t * @param the\n\t *            content function\n\t */\n\tmine.tokenExtraText = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn tokenExtraText;\n\t\ttokenExtraText = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for the function determining the color of the\n\t * background rectangles for the nodes.\n\t * <p>\n\t * The function gets an information object as its argument, and should\n\t * return a CSS color in a string, e.g. \"rgba(255,128,0,0.5)\" The\n\t * default is transparent white (i.e., effectively no color);\n\t * \n\t * @param value\n\t *            the background color function\n\t */\n\tmine.rectColor = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn rectColor;\n\t\trectColor = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for the function determining the color of the borders\n\t * of the background rectangles for the nodes.\n\t * <p>\n\t * The function gets an information object as its argument, and should\n\t * return a CSS color in a string, e.g. \"rgba(255,128,0,0.5)\" The\n\t * default is transparent white (i.e., effectively no color);\n\t * \n\t * @param value\n\t *            the border color function\n\t */\n\tmine.rectBorderColor = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn rectBorderColor;\n\t\trectBorderColor = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for the function determining the color of the text of\n\t * the nodes that are continuations of the clicked node.\n\t * <p>\n\t * The function gets an information object as its argument, and should\n\t * return a CSS color in a string, e.g. \"rgba(255,128,0,0.5)\" The\n\t * default is transparent white (i.e., effectively no color);\n\t * \n\t * @param value\n\t *            the border color function\n\t */\n\tmine.continuationColor = function(value) {\n\t\tif (!arguments.length)\n\t\t\treturn continuationColor;\n\t\tcontinuationColor = value;\n\t\treturn mine;\n\t};\n\n\t/**\n\t * Getter/setter for the styles of the nodes and branches. For now these\n\t * are constant throughout the tree. Takes an object of the form:\n\t * {\"node\":{\"fill\":cssColor, \"stroke\":cssColor,\n\t * \"stroke-width\":cssWidth}, \"branch\":{\"stroke\":cssColor,\n\t * \"stroke-width\":cssWidth}} All of the attributes are optional Defaults\n\t * are: {\"node\":{\"fill\":\"white\", \"stroke\":\"steelblue\",\n\t * \"stroke-width\":\"1.5px\"}, \"branch\":{\"stroke\":\"#777\",\n\t * \"stroke-width\":\"1.5px\"}};\n\t */\n\tmine.basicStyles = function(stylesObj) {\n\t\tif (!arguments.length)\n\t\t\treturn basicStyles;\n\n\t\tObject.keys(basicStyles).forEach(\n\t\t\tfunction(aspect) {\n\t\t\t\tif (aspect in stylesObj) {\n\t\t\t\t\tObject.keys(basicStyles[aspect]).forEach(\n\t\t\t\t\t\tfunction(attr) {\n\t\t\t\t\t\t\tif (attr in stylesObj[aspect]) {\n\t\t\t\t\t\t\t\tbasicStyles[aspect][attr] = stylesObj[aspect][attr];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\treturn mine;\n\t};\n\n\treturn mine;\n};\n\n// ////// tree for doubletree\n/** @private */\ndoubletree.Tree = function(vis, visWidth, visHt, data, toLeft,\n\t\tsortFun, dispatch, textScale, showTokenXtra, nodeTextFun,\n\t\ttokenExtraTextFun, rectColorFun, rectBorderFun, contColorFun,\n\t\tbaseStyles) {\n\tvar showTokenExtra = false || showTokenXtra;\n\tvar continuationIDs = {};\n\tvar clickedNode;\n\tvar nodeText = nodeTextFun;\n\tvar tokenExtraText = tokenExtraTextFun;\n\tvar rectColor = rectColorFun;\n\tvar rectBorderColor = rectBorderFun;\n\tvar continuationColor = contColorFun;\n\tvar basicStyles = baseStyles;\n\n\tvar margin = {\n\t\ttop : 20,\n\t\tright : 20,\n\t\tbottom : 20,\n\t\tleft : 20\n\t}, width = visWidth - margin.right - margin.left, height = visHt - margin.top - margin.bottom, i = 0, duration = 200, root;\n\tvar dx;\n\n\tif (!sortFun) {\n\t\tsortFun = doubletree.sortByStrFld(\"token\");\n\t}\n\n\tvar i = 0;\n\tvar tree = d3.tree()\n\t.size([height, width])\n\t.nodeSize([ 40, 40 ]);\n\t//.sort(sortFun);\n\n\tvar diagonal = d3.linkHorizontal()\n\t\t.x(function(d) { return positionX(d.y); })\n\t\t.y(function(d) { return positionY(d.x); });\n\n\tvis = vis.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\t// //////\n\tthis.readJSONTree = function(json) {\n\t\troot = d3.hierarchy(json);\n\t\troot.x0 = 0;\n\t\troot.y0 = 0;\n\n\t\troot.children.forEach(collapse);\n\t\tthis.update(root);\n\t};\n\n\t// CC had been inside readJSONTree\n\tfunction collapse(d) {\n\t\tif (d.children) {\n\t\t\td._children = d.children;\n\t\t\td._children.forEach(collapse);\n\t\t\td.children = null;\n\t\t}\n\t}\n\n\t// CC new\n\tfunction collapseSiblings(nd) {\n\t\tif (nd.parent) {\n\t\t\tnd.parent.children.forEach(function(d) {\n\t\t\t\tif (d != nd) {\n\t\t\t\t\tcollapse(d);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tthis.update = function(source) {\n\t\t// seems unnecessary\n//\t\tif (!source) {\n//\t\t\tsource = root;\n//\t\t}\n\n\t\t// Compute the new tree layout.\n\t\tvar treeData = tree(root);\n\t\tvar nodes = treeData.descendants();\n\n\t\tvar baseBranchSegmentWidth = 25;\n\t\t// Normalize for fixed-depth.\n\t\tnodes.forEach(function(d) {\n\t\t\tvar textSize = d.textSize;\n\t\t\tif (textSize == undefined) {\n\t\t\t\ttextSize = 0;\n\t\t\t\tvar parent = d.parent;\n\t\t\t\twhile (parent != null) {\n\t\t\t\t\tvar measured = Ext.draw.TextMeasurer.measureText(parent.data.name, 'arial').width;\n\t\t\t\t\ttextSize += measured;\n\t\t\t\t\tparent = parent.parent;\n\t\t\t\t}\n\t\t\t\td.textSize = textSize; // cache the size so we don't recalculate each time\n\t\t\t}\n\t\t\td.y = (d.depth * baseBranchSegmentWidth) + textSize;\n\t\t});\n\t\t\n\t\t\n\t\t// Update the nodes\u2026\n\t\tvar node = vis.selectAll(\"g.node_\" + toLeft)\n\t\t\t.data(nodes, function(d) {\n\t\t\t\treturn d.id || (d.id = ++i);\n\t\t\t});\n\n\t\t// Enter any new nodes at the parent's previous position.\n\t\tvar nodeEnter = node.enter().append(\"g\").attr(\"class\", \"node node_\" + toLeft).attr(\"cursor\", \"pointer\")\n\t\t\t.attr(\"transform\", function(d) {\n\t\t\t\treturn \"translate(\" + positionX(source.y0) + \",\" + positionY(source.x0) + \")\";\n\t\t\t})\n\t\t\t.on(\"click\", click);\n\n\t\tnodeEnter.append(\"title\").text(function(d) {\n\t\t\tvar what = doubletree.infoToText(d.data.info);\n\t\t\treturn what;\n\t\t});\n\n\t\tnodeEnter.append(\"circle\")\n\t\t\t.attr(\"r\", 1e-6)\n\t\t\t.style(\"fill\", function(d) {\n\t\t\t\treturn d._children ? \"#fff\" : basicStyles.node.fill;\n\t\t\t})\n\t\t\t.style(\"stroke\", function(d) {\n\t\t\t\treturn basicStyles.node.stroke;\n\t\t\t});\n\n\t\tvar txtNode = nodeEnter.append(\"text\").attr(\"class\", function(d) {\n\t\t\tif (d.depth == 0) {\n\t\t\t\treturn \"rtNdText\";\n\t\t\t} else {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}).attr(\"x\", function(d) {\n\t\t\tif (d.children || d._children) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn toLeft ? 10 : -10;\n\t\t\t}\n\t\t}).attr(\"text-anchor\", function(d) {\n\t\t\tif (!d.parent) {\n\t\t\t\treturn \"middle\";\n\t\t\t}\n\t\t\tif (d.children || d._children) {\n\t\t\t\treturn toLeft ? \"end\" : \"start\";\n\t\t\t} else {\n\t\t\t\treturn toLeft ? \"start\" : \"end\";\n\t\t\t}\n\t\t}).style(\"font-size\", function(d) {\n\t\t\t/*\n\t\t\t * if (d.depth == 0 && toLeft) { return 0; //suppress left side\n\t\t\t * root -- do this because of differences in counts when\n\t\t\t * filtering }\n\t\t\t */\n\t\t\treturn textScale(d.data.info.count) + \"pt\";\n\t\t});\n\n\t\ttxtNode.append(\"tspan\").attr(\"dy\", \".35em\").attr(\"class\", \"tokenText\").text(function(d) {\n\t\t\treturn nodeText(d.data.info, d.depth < 1);\n\t\t}).style(\"fill-opacity\", 1e-6);\n\n\t\ttxtNode.append(\"tspan\").attr(\"dx\", \".35em\").attr(\"class\", \"tokenExtra\").text(function(d) {\n\t\t\treturn tokenExtraText(d.data.info, d.depth < 1);\n\t\t}).style(\"fill-opacity\", 1e-6);\n\n\t\t\n\t\tthis.drawRects();\n\n\t\tvar nodeUpdate = nodeEnter.merge(node);\n\t\t\n\t\t// Transition nodes to their new position.\n\t\tnodeUpdate.transition().duration(duration)\n\t\t\t.attr(\"transform\", function(d) {\n\t\t\t\treturn \"translate(\" + positionX(d.y) + \",\" + positionY(d.x) + \")\";\n\t\t\t});\n\n\t\tnodeUpdate.select(\"circle\")\n\t\t\t// .attr(\"r\", 4.5)\n\t\t\t.attr(\"r\", function(d) {\n\t\t\t\treturn (d.children || d._children) ? 1e-6 : 4.5;\n\t\t\t})\n\t\t\t.style(\"fill\", function(d) {\n\t\t\t\treturn d._children ? \"#fff\" : basicStyles.node.fill;\n\t\t\t}) // function(d) { return d._children ? \"lightsteelblue\" : \"#fff\";\n\t\t\t\t// })\n\t\t\t.style(\"stroke-width\", basicStyles.node[\"stroke-width\"]);\n\n\t\tnodeUpdate.selectAll(\"tspan\").style(\"fill-opacity\", 1);\n\n\t\t// Transition exiting nodes to the parent's new position.\n\t\tvar nodeExit = node.exit().transition().duration(duration).attr(\"transform\", function(d) {\n\t\t\treturn \"translate(\" + positionX(source.y) + \",\" + positionY(source.x) + \")\";\n\t\t}).remove();\n\n\t\tnodeExit.select(\"circle\").attr(\"r\", 1e-6);\n\n\t\t// nodeExit.select(\"text\")\n\t\tnodeExit.selectAll(\"tspan\").style(\"fill-opacity\", 1e-6);\n\n\t\t// Update the links\u2026\n\t\tvar link = vis.selectAll(\"path.link_\" + toLeft)\n\t\t\t.data(root.links(), function(d) {\n\t\t\t\tvar id = d.source.id+'-'+d.target.id;\n\t\t\t\treturn id;\n\t\t\t});\n\n\t\t// Enter any new links at the parent's previous position.\n\t\tvar linkEnter = link.enter().insert(\"path\", \"g\").attr(\"class\", \"link link_\" + toLeft)\n\t\t\t.attr(\"d\", function(d) {\n\t\t\t\tvar o = {x: source.x0, y: source.y0};\n\t\t\t\treturn diagonal({source: o, target: o});\n\t\t\t})\n\t\t\t.style(\"fill\", \"none\").style(\"stroke\", basicStyles.branch.stroke).style(\"stroke-width\", basicStyles.branch[\"stroke-width\"]);\n\n\t\tvar linkUpdate = linkEnter.merge(link);\n\t\t\n\t\t// Transition links to their new position.\n\t\tlinkUpdate.transition().duration(duration).attr(\"d\", diagonal);\n\n\t\t// Transition exiting nodes to the parent's new position.\n\t\tvar linkExit = link.exit().transition().duration(duration)\n\t\t\t.attr(\"d\", function(d) {\n\t\t\t\tvar o = {x: source.x0, y: source.y0};\n\t\t\t\treturn diagonal({source: o, target: o});\n\t\t\t})\n\t\t\t.remove();\n\n\t\t// Stash the old positions for transition.\n\t\tnodes.forEach(function(d) {\n\t\t\td.x0 = d.x;\n\t\t\td.y0 = d.y;\n\t\t});\n\n\t\tthis.updateContinuations();\t\t\n\t};\n\t\n\tthis.drawRects = function() {\n\t\tvar which = showTokenExtra ? \"inline\" : \"none\";\n\t\tvis.selectAll(\".tokenExtra\").attr(\"display\", which);\n\n\t\tvar node = vis.selectAll(\"g.node_\" + toLeft);\n\t\t\n\t\tnode.selectAll(\"rect\").remove(); // remove previous rects\n\n\t\tvar nodeRect = node\n\t\t\t\t.insert(\"rect\", \"text\")\n\t\t\t\t.attr(\"class\", \"nodeRect\")\n\t\t\t\t.attr(\"height\", function() {\n\t\t\t\t\tvar height = this.parentElement.getBBox().height;\n\t\t\t\t\tif (height < 6) {\n\t\t\t\t\t\t// end of branch, need to prevent negative height\n\t\t\t\t\t\theight = 6.1;\n\t\t\t\t\t}\n\t\t\t\t\treturn height - 6;\n\t\t\t\t})\n\t\t\t\t.attr(\"y\", function(d) {\n\t\t\t\t\tif (!d.parent) {\n\t\t\t\t\t\treturn -0.5 * this.parentElement.getBBox().height / 2 - 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn -0.5 * this.parentElement.getBBox().height / 2;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.attr(\"width\", function() {\n\t\t\t\t\treturn this.parentElement.getBBox().width;\n\t\t\t\t})\n\t\t\t\t.attr(\"x\", function(d) {\n\t\t\t\t\tvar parentW = this.parentElement.getBBox().width;\n\t\t\t\t\tif (!d.parent) {\n\t\t\t\t\t\treturn -0.33333 * parentW;\n\t\t\t\t\t}\n\t\t\t\t\tif (!toLeft) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t\treturn -0.5 * parentW;\n\t\t\t\t})\n\t\t\t\t// .style(\"stroke-opacity\", 1e-6)\n\t\t\t\t.style(\"stroke-opacity\", 1).style(\"stroke-width\", 1)\n\t\t\t\t.style(\"stroke\", function(d) {\n\t\t\t\t\treturn rectBorderColor(d.data.info);\n\t\t\t\t}).style(\"fill\", function(d) {\n\t\t\t\t\treturn rectColor(d.data.info);\n\t\t\t\t}).style(\"fill-opacity\", function(d) {\n\t\t\t\t\treturn 1;\n//\t\t\t\t\tif (!d.parent && !toLeft) {\n//\t\t\t\t\t\treturn 1e-6;\n//\t\t\t\t\t} else {\n//\t\t\t\t\t\treturn 1;\n//\t\t\t\t\t}\n\t\t\t\t});\n\t};\n\n\tvar that = this;\n\t\n\t// Toggle children on click.\n\tfunction click(d, i) {\n\t\tif (d3.event.altKey) {\n\t\t\tthat.handleAltPress(d, i);\n\t\t\t// that.showTokenExtras(showTokenExtra);\n\t\t\treturn;\n\t\t}\n\t\tif (d3.event.shiftKey) {\n\t\t\tthat.handleShiftPress(d, i);\n\t\t\t// that.showTokenExtras(showTokenExtra);\n\t\t\treturn;\n\t\t}\n\n\t\tthat.handleClick(d, i);\n\t\t\n\t\tif (!d.parent) {\n\t\t\treturn;\n\t\t}\n\t\tif (that.continuationIDs != d.data.info.ids) {\n\t\t\tthat.setIds(d.data.info.ids);\n\t\t\tthat.clickedNode = d.id;\n\t\t\tdispatch.call('idsUpdated', that);\n\t\t}\n\n\t\tcollapseSiblings(d); // CC new\n\t\t/*\n\t\t * if (d.children) { d._children = d.children; d.children = null; }\n\t\t * else { d.children = d._children; d._children = null; }\n\t\t * that.update(d);\n\t\t */\n\t\ttoggleChildren(d, true);\n\t}\n\n\tfunction toggleChildren(d, update) { // we only update the clicked\n\t\t\t\t\t\t\t\t\t\t\t// node, not recursively\n\t\t// collapseSiblings(d); //CC we don't do this here, since after the\n\t\t// top level there's no point\n\n\t\tif (d.children) {\n\t\t\tif (d.children && d.children.length == 1) {\n\t\t\t\ttoggleChildren(d.children[0], true); // need true to make\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// sure we toggle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// all the way down\n\t\t\t}\n\t\t\td._children = d.children;\n\t\t\td.children = null;\n\n\t\t} else {\n\t\t\td.children = d._children;\n\t\t\td._children = null;\n\n\t\t\t// expand all if there is only one path\n\t\t\tif (d.children && d.children.length == 1) {\n\t\t\t\ttoggleChildren(d.children[0], false);\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tthat.update(d);\n\t\t}\n\t}\n\n\tthis.setIds = function(ids) {\n\t\tthat.continuationIDs = ids;\n\t};\n\tthis.updateContinuations = function() {\n\t\tvis.selectAll(\"g.node_\" + toLeft + \" text\")\n\t\t\t.classed(\"continuation\", function(d) {\n\t\t\t\t\tvar isContinuation = overlap(d.data.info.ids, that.continuationIDs || {});\n\t\t\t\t\treturn isContinuation;\n\t\t\t})\n\t\t\t.style(\"fill\", function(d) {\n\t\t\t\tif (d3.select(this).classed(\"continuation\")) {\n\t\t\t\t\treturn continuationColor(d.data.info);\n\t\t\t\t}\n\t\t\t\treturn \"#444\"; // default text color\n\t\t\t}); // this is duplicated from above, nodeUpdate\n\t};\n\n\tthis.search = function(searchRE) {\n\t\tvis.selectAll(\"g.node text\").classed(\"foundText\", function(d) {\n\t\t\tvar what = searchRE.test(nodeText(d.data.info));\n\t\t\treturn what;\n\t\t});\n\t};\n\n\tthis.clearSearch = function() {\n\t\tvis.selectAll(\"g.node text\").classed(\"foundText\", false);\n\t};\n\n\tthis.showTokenExtras = function(show) {\n\t\tif (arguments.length == 0) {\n\t\t\treturn showTokenExtra;\n\t\t}\n\t\tshowTokenExtra = show;\n\n\t\tthis.drawRects();\n\t\treturn this;\n\t};\n\n\tthis.setRectColor = function(rectColorFun) {\n\t\tif (arguments.length == 0) {\n\t\t\treturn rectColor;\n\t\t}\n\t\trectColor = rectColorFun;\n\t\tthis.drawRects();\n\t\treturn this;\n\t};\n\n\t// /////////////\n\tfunction positionX(x) {\n\t\treturn toLeft ? -x : x;\n\t}\n\tfunction positionY(y) {\n\t\treturn y;\n\t}\n\n\t// //default modifier handlers\n\tthis.handleAltPress = function() {\n\t};\n\tthis.handleShifttPress = function() {\n\t};\n\tthis.handleClick = function() {\n\t};\n\n\tthis.readJSONTree(data);\n\treturn this;\n};\n\n// /////////////////////////////// tree sorting functions\n/**\n * function to sort the nodes (case insenstive) by a field in the\n * information object\n * \n * @param fld\n *            the field to sort by\n */\ndoubletree.sortByStrFld = function(fld) {\n\tvar field = fld;\n\treturn function(a, b) {\n\t\tvar aUndefined = (undefined == a.data.info[field]);\n\t\tvar bUndefined = (undefined == b.data.info[field]);\n\t\tif (aUndefined && bUndefined) {\n\t\t\treturn 0;\n\t\t} else if (aUndefined) {\n\t\t\treturn -1;\n\t\t} else if (bUndefined) {\n\t\t\treturn 1;\n\t\t}\n\t\tvar aVal = a.data.info[field].join(\" \").toLowerCase();\n\t\tvar bVal = b.data.info[field].join(\" \").toLowerCase();\n\t\tif (aVal < bVal) {\n\t\t\treturn -1;\n\t\t} else if (aVal > bVal) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t};\n};\n/**\n * function to sort the nodes according to the count field in the\n * information object\n */\ndoubletree.sortByCount = function() {\n\treturn function(a, b) {\n\t\treturn b.data.info.count - a.data.info.count;\n\t};\n};\n\n/**\n * function to sort the nodes according to the continuations field in the\n * information object\n */\ndoubletree.sortByContinuations = function() {\n\treturn function(a, b) {\n\t\treturn b.data.info.continuations - a.data.info.continuations;\n\t};\n};\n\n// /////////////////////////////// some tree filtering functions\n/**\n * function to filter the nodes according to a minimum for the count field\n * \n * @param n\n *            the minimum count to include\n */\ndoubletree.filterByMinCount = function(n) {\n\treturn function(inf) {\n\t\treturn inf.count >= n;\n\t};\n};\n\n/**\n * function to filter the nodes according to a maximum for the count field\n * \n * @param n\n *            the maximum count to include\n */\ndoubletree.filterByMaxCount = function(n) {\n\treturn function(inf) {\n\t\treturn inf.count <= n;\n\t};\n};\n\n/**\n * function to filter the nodes according to the \"POS\" field (if it exists)\n * \n * @param n\n *            a string for a regular expression of the POS values to include\n */\ndoubletree.filterByPOS = function(pos) {\n\tvar re = new RegExp(pos);\n\treturn function(inf) {\n\t\treturn inf[\"POS\"] && inf[\"POS\"].filter(function(p) {\n\t\t\treturn p.search(re) > -1;\n\t\t}).length > 0; // end of ng has no POS\n\t};\n};\n\n// /////////////////////////////// formatting functions\n\n// doubletree.nodeText = function(info) {\n// return doubletree.tokenText(info); //default\n// }\n\n// extracts a field\n/**\n * return the value of a field in the provided information object\n * \n * @param info\n *            the information object\n * @param the\n *            field to get\n * @returns the value of the field in the information object\n */\ndoubletree.fieldText = function(info, fieldName) {\n\treturn info[fieldName];\n};\n// extracts the \"token\" field\n/**\n * convenience function to return the value of the \"token\" field (if it\n * exists). The same as doubletree.fieldText(info, \"token\")\n * \n * @param info\n *            the information object\n * @returns the value of the \"token\" field of the information object\n */\ndoubletree.tokenText = function(info) {\n\tvar tokenText = '';\n\tif (info.token !== undefined) {\n\t\ttokenText = info.token;//info.token[0]; // don't return all token values, just the first\n\t}\n\treturn tokenText;\n};\n\n/**\n * converts an information object to a string\n * \n * @param the\n *            information object\n * @returns a string with one key/value pair per line\n */\ndoubletree.infoToText = function(info) {\n\tvar what = \"\";\n\tfor ( var infp in info) {\n\t\tif (infp == \"ids\" || infp == \"origIDs\") {\n\t\t\twhat += infp + \"\\t:\\t\" + Object.keys(info[infp]).join(\",\")\n\t\t\t\t\t+ \"\\n\";\n\t\t} else {\n\t\t\twhat += (infp + \"\\t:\\t\" + info[infp] + \"\\n\");\n\t\t}\n\t}\n\treturn what;\n};\n// //////////////// internal utility functions\n\nfunction old_pruneTree(tree, ids) {\n\n\tif (!tree.children) {\n\t\treturn;\n\t}\n\n\tvar n = tree.children.length;\n\tfor ( var i = 0; i < n; i++) {\n\t\tvar c = tree.children[i];\n\n\t\tif (containedIn(c.info.ids, ids)) {\n\t\t\ttree.children[i] = null;\n\t\t} else {\n\t\t\told_pruneTree(c, ids);\n\t\t}\n\t}\n\ttree.children = tree.children.filter(function(c) {\n\t\treturn c != null;\n\t});\n\n\t// recalculate maxChildren\n\tvar cMax = d3.max(tree.children.map(function(c) {\n\t\treturn c.maxChildren;\n\t}));\n\ttree.maxChildren = Math.max(tree.children.length, cMax);\n}\n\nfunction new_pruneTree(tree, ids, copyIDs) {\n\n\tif (!tree.children) {\n\t\treturn;\n\t}\n\n\t// copy over original ids\n\tif (copyIDs) {\n\t\tif (!tree.info.origIDs) {\n\t\t\ttree.info.origIDs = {};\n\t\t\taddTo(tree.info.origIDs, tree.info.ids);\n\t\t\ttree.info.origCount = Object.keys(tree.info.origIDs).length;\n\t\t} else {\n\t\t\ttree.info.ids = {};\n\t\t\taddTo(tree.info.ids, tree.info.origIDs);\n\t\t\ttree.info.count = Object.keys(tree.info.ids).length;\n\t\t}\n\t}\n\n\t// adjust IDs\n\tvar idNums = Object.keys(ids);\n\tfor ( var i = 0, n = idNums.length; i < n; i++) {\n\t\tvar cid = idNums[i];\n\t\tdelete tree.info.ids[cid];\n\t}\n\ttree.info.count = Object.keys(tree.info.ids).length;\n\n\t// recurse and prune\n\tvar n = tree.children.length;\n\tfor ( var i = 0; i < n; i++) {\n\t\tvar c = tree.children[i];\n\n\t\tif (containedIn(c.info.ids, ids)) {\n\t\t\ttree.children[i] = null;\n\t\t} else {\n\t\t\tnew_pruneTree(c, ids, false);\n\t\t}\n\t}\n\ttree.children = tree.children.filter(function(c) {\n\t\treturn c != null;\n\t});\n\ttree.info.continuations = tree.children.length;\n\n\t// recalculate maxChildren\n\tvar cMax = d3.max(tree.children.map(function(c) {\n\t\treturn c.maxChildren;\n\t}));\n\ttree.maxChildren = Math.max(tree.children.length, cMax);\n}\n\nfunction restoreTree(tree) {\n\n\tif (tree.info.origCount) { // otherwise tree was suppressed, so its ids\n\t\t\t\t\t\t\t\t// never got switched around\n\t\t// restore originals\n\t\ttree.info.ids = {};\n\t\taddTo(tree.info.ids, tree.info.origIDs);\n\t\t// delete tree.info.origIDs;\n\t\ttree.info.count = tree.info.origCount;\n\t\t// delete tree.info.origCount;\n\n\t\tvar n = tree.children.length;\n\t\ttree.info.continuations = n;\n\t\tfor ( var i = 0; i < n; i++) {\n\t\t\tvar c = tree.children[i];\n\t\t\trestoreTree(c);\n\t\t}\n\t}\n\n}\n\n// do the keys in o1 and o2 overlap\nfunction overlap(o1, o2) {\n\tfor ( var k in o1) {\n\t\tif (k in o2) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n// are all the keys in o1 also in o2\nfunction containedIn(o1, o2) {\n\tif (!o1 || !o2) {\n\t\treturn false;\n\t}\n\tfor ( var k in o1) {\n\t\tif (!(k in o2)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n// add key/vals of o2 to o1 and return o1; (top level key-value only, o2\n// values maintained over o1)\n// same as in Trie.js\nfunction addTo(o1, o2) {\n\tfor ( var k in o2) {\n\t\to1[k] = o2[k];\n\t}\n}\n\nfunction noOp() {\n}\n\n// ////////////////\n\n})();","/* (This is the new BSD license.)\n* Copyright (c) 2012-2014, Chris Culy\n* All rights reserved.\n*\n* Redistribution and use in source and binary forms, with or without\n* modification, are permitted provided that the following conditions are met:\n*     * Redistributions of source code must retain the above copyright\n*       notice, this list of conditions and the following disclaimer.\n*     * Redistributions in binary form must reproduce the above copyright\n*       notice, this list of conditions and the following disclaimer in the\n*       documentation and/or other materials provided with the distribution.\n*     * Neither the name of the Chris Culy nor the \n*\t\tnames of its contributors may be used to endorse or promote \n*\t\tproducts from this software without specific prior written permission.\n*\n* THIS SOFTWARE IS PROVIDED BY Chris Culy\n* ``AS IS'' AND ANY OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, \n* THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE \n* ARE DISCLAIMED. IN NO EVENT SHALL Chris Culy\n* BE LIABLE FOR ANY, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR \n* CONSEQUENTIAL DAMAGES INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE \n* GOODS OR SERVICES; OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER \n* CAUSED AND ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR \n* TORT INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF \n* THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n\"use strict\";\nvar doubletree = doubletree || {};\n\n(function(){\n    \n    /**\n     * @class doubletree.Trie\n     * This is the class for the specialized trie that is the data for {@link doubletree.DoubleTree}.\n * The Trie will get pieces of data that contain fields. Some (possibly all) of those fields will be used for distinguishing among items.\n * For example, we might have an \"author\" field, but not use it when distinguishing among items for the Trie.\n * @param caseSensitive are the elements in the first distinguishing field compared in a case sensitive fashion\n * @param fldNames the names of the fields\n * @param fldDelim the field delimiter\n * @distinguishingFldsArray the distinguishing fields\n * @undistinguishedRoot true if the root should be calculated without using the distinguishing fields\n */\ndoubletree.Trie = function(caseSensitive, fldNames, fldDelim, distinguishingFldsArray, undistinguishedRoot) {\n    var endNG = \" \";\n    var rootName = \"_root_\";\n    var noCase = (! caseSensitive) && true;\n    if (! fldNames) {\n        fldNames = [\"item\"];\n    }\n    var fieldNames = fldNames;\n    if (! fieldDelim) {\n        fieldDelim = \"\\t\"; //default\n    }\n    var fieldDelim = fldDelim;\n    if (! distinguishingFieldsArray) {\n        distinguishingFieldsArray = [ fieldNames[0] ];\n    }\n    var distinguishingFieldsArray = distinguishingFldsArray;\n    var undistinguishedRt = undistinguishedRoot;\n    if (undefined == undistinguishedRt) {\n        undistinguishedRt = true; //TBD: check to make sure this doesn't break anything\n    }\n    \n    var trie = new TrieNode(rootName,-1,0);\n    \n    /** @private */\n    function TrieNode(item, id, count) {\n        this.id = id;\n        this.count = count;        \n        this.info = {\"count\":count, \"ids\":{}};\n        \n        if (item == null) {\n            this.item = rootName;        \n        } else {\n            this.item = item;\n            this.info.ids = {};\n            this.info.ids[id] = true;\n            var flds = item.split(fieldDelim);\n            for(var i in flds) {\n                this.info[ fieldNames[i] ] = [ flds[i] ];\n            }\n        }\n        this.nodes = {};\n        \n         /** @private */\n        this.addNgram = function(itemArray, id, count) {\n            if (! count) {\n                count = 1;\n            }\n            var thisItem, thisKey;\n            if (itemArray.length > 0) {\n                thisItem = itemArray.shift();\n                    \n                var theseFlds = thisItem.split(fieldDelim);\n\n                if (undistinguishedRt && this.item == rootName) {\n                    thisKey = \"\";\n                } else {\n                    thisKey = theseFlds.filter(function(f,i) {\n                            return distinguishingFieldsArray.indexOf( fieldNames[i] ) > -1;\n                        })\n                    .map(function(f) {\n                            if (noCase) {\n                                return f.toLocaleLowerCase();\n                            }\n                            return f;\n                        })\n                    .join(fieldDelim);\n                }\n                \n            } else {\n                thisItem = endNG;\n                thisKey = thisItem;\n            }\n            \n            var subTrie;\n            if (thisKey in this.nodes && this.nodes[thisKey] instanceof TrieNode) { //we need the instanceof TrieNode so we can override Object properties -- hope that none are already arrays\n                subTrie = this.nodes[thisKey];\n                subTrie.info.count += count;\n                subTrie.info.ids[id] = true;\n                \n                for(var f in theseFlds) {\n                    var thisFld = theseFlds[f];\n                    if (subTrie.info[ fieldNames[f] ].indexOf( thisFld ) == -1 ){\n                        subTrie.info[ fieldNames[f] ].push(thisFld);\n                    }                \n                }\n                \n                \n            } else {\n                subTrie = new TrieNode(thisItem, id, count);            \n                this.nodes[thisKey] = subTrie;\n            }\n            if (thisItem != endNG) {\n                subTrie.addNgram(itemArray,id, count);\n            }\n        };\n            \n         /** @private */\n        this.getUniqRoot = function() {\n            if (this.item == rootName) {\n                var children = Object.keys(this.nodes);\n                if (children.length == 1) {\n                    return this.nodes[ children[0] ];\n                }\n            }\n        \n            return this;\n        };\n        \n        /** @private */\n        this.toTree = function(filterFuns) {\n            \n            function toTreeHelper(filterFuns, descendentLevel, trieData) {\n                \n                var what = {\"children\":[]};\n                what.name = trieData.item;\n                what.info = {};\n                for(var k in trieData.info) {\n                    if (typeof(trieData.info[k]) === 'Object') {\n                        what.info[k] = {};\n                        for(var k2 in trieData.info[k]) {\n                            what.info[k][k2] = this.info[k][k2];\n                        }\n                    } else {\n                        what.info[k] = trieData.info[k];\n                    }\n                }\n                what.pruned = {};\n                \n                \n                for(var item in trieData.nodes) {\n                    var itemNode = trieData.nodes[item];\n                    var thisFilter = filterFuns[descendentLevel];            \n                    if ( ! thisFilter || (thisFilter && thisFilter(itemNode.info)) ) {\n                        what.children.push( toTreeHelper(filterFuns, descendentLevel +1, itemNode) );\n                        if (itemNode.pruned != {}) {\n                            addTo(what.pruned, itemNode.pruned);\n                        }\n                    } else {\n                        addTo(what.pruned, itemNode.info.ids);\n                    }\n                }\n        \n                what.info.continuations = what.children.length;\n                //this is to record info we need for sizing the tree, since D3 automatically scales to fit, which is not what we want\n                //we also need to keep track of the minimum count (the root always has the max, of course), for scaling\n                if (what.children.length == 0) {\n                   what.children = null; //the trees expect null if there are no children, not the empty array. Odd, but true.\n                   what.maxChildren = 0;\n                   \n                   if (what.name) {\n                    what.maxLen = what.name.length;\n                   } else {\n                    what.maxLen = 0;\n                   }\n                   \n                   what.minCount = what.info.count;\n                   //what.maxChildren = 0; //new\n                   \n                } else {\n                    var cMax = d3.max( what.children.map(function(c) {return c.maxChildren;}) );\n                    what.maxChildren = Math.max(what.children.length, cMax);\n                    \n                    var maxLen = d3.max( what.children.map(function(c) {return c.maxLen;}));\n                    what.maxLen = Math.max(maxLen, what.name.length);\n                    \n                    what.minCount = d3.min( what.children.map(function(c) {return c.minCount;})); //the children are always <= the parent\n                }\n                return what;\n            }\n            \n            if (! filterFuns ) {\n                filterFuns = [];\n            }\n            \n            var trieData = JSON.parse(JSON.stringify(this)); //CuC make a copy of the data, to keep the real trie immutable\n        \n            return toTreeHelper(filterFuns, 0, trieData);\n        };\n    }\n    \n    \n    \n    \n    /**\n     * Add an ngram to the Trie\n     * @param itemArray an array of delimited items (the ngrams)\n     * @param id an id for this ngram \n     * @param count a count for this ngram. Default is 1\n     */\n    this.addNgram = function(itemArray, id, count) {trie.addNgram(itemArray, id, count);};\n    \n    /**\n     * get the unique root of this Trie. Used only by {@link DoubleTree}\n     * @returns a new Trie with a unique item as the root\n     */\n    this.getUniqRoot = function() {\n        var what = new doubletree.Trie((!noCase), fieldNames, fieldDelim, distinguishingFieldsArray);\n        what.trie( trie.getUniqRoot() );\n        return what;\n    };\n    \n    /**\n     * convert the Trie to a tree structure for display. Used only by {@link DoubleTree}\n     * @param filterFuns the filtering functions to apply to the tree see {@link DoubleTree.filters}\n     * @param descendentLevel the current level we are filtering\n     * @returns the tree\n     */\n    this.toTree = function(filterFuns, descendentLevel) {return trie.toTree(filterFuns, descendentLevel);};\n    \n    /**\n     * serialize the Trie as a JSON string\n     * @returns the JSON string representation of the Trie\n     */\n    this.serialize = function() {\n        return JSON.stringify(this);\n    };\n    \n    /**\n     * make this Trie have the values of a previously serialized Trie see {@link #serialize}\n     */\n    this.deserialize = function(serialized) {\n        var obj = JSON.parse(serialized);\n        \n        endNG = obj.endNG();\n        rootName = obj.rootName();\n        noCase = obj.caseSensitive();\n        fieldNames = obj.fieldNames();\n        fieldDelim = obj.fieldDelim();\n        distinguishingFieldsArray = obj.distinguishingFieldsArray();\n        trie = obj.trie();\n        \n    };\n    \n    //getters -- the properties are readonly, set in constructor\n    \n    //private, only used in deserialization\n    /** @private */\n    this.endNG = function() {\n        return endNG;\n    };\n    //private, only used in deserialization\n    /** @private */\n    this.rootName = function() {\n        return rootName;\n    };\n    \n    //private, also a setter, only used in deserialization and getUniqRoot;\n    /** @private */\n    this.trie = function(value) {\n      if (arguments.length > 0) {\n        trie = value;\n      }\n      return trie;\n    };\n    \n    /**\n     * @returns whether this Trie uses case sensitive comparison\n     */\n    this.caseSensitive = function() {\n        return ! noCase;\n    };\n    \n    /**\n     * get the field names in the data\n     * @returns the field names in the data\n     */\n    this.fieldNames = function() {\n        return fieldNames;\n    };\n    \n    /**\n     * get the field delimiter for the data\n     * @returns the field delimiter for the data\n     */\n    this.fieldDelim = function() {\n        return fieldDelim;\n    };\n    \n    /**\n     * get the distinguishing fields for the data\n     * @returns the distinguishing fields for the data\n     */\n    this.distinguishingFieldsArray = function() {\n        return distinguishingFieldsArray;\n    };\n    \n    //add key/vals of o2 to o1 and return o1; (top level key-value only, o2 values maintained over o1)\n    /** @private */\n    function addTo(o1, o2) {\n        for(var k in o2) {\n            o1[k] = o2[k];\n        }\n    }\n\n    \n};  \n\n})();\n","/**\r\n * @param {object} config\r\n * @param {Voyant.panel.TermsRadio} config.parent\r\n * @param {Ext.dom.Element} config.container\r\n * @param {boolean} config.showSlider\r\n */\r\nfunction TermsRadio(config) {\r\n\tthis.parent = config.parent;\r\n\tthis.container = config.container;\r\n\tthis.isSliderVisible = config.showSlider == undefined ? true : config.showSlider;\r\n\t\r\n\tthis.chart = null;\r\n\t\r\n\tthis.absMaxFreq = 0;\r\n\tthis.absMinFreq = 0;\r\n\tthis.allData = [];\r\n\t\r\n\tthis.continueTransition = true;\r\n\tthis.counterSeries = [];\r\n\tthis.displayData = [];\r\n\tthis.dragged = false;\r\n//\tthis.intervalIdArray = [];\r\n\tthis.isTransitioning = false;\r\n\tthis.lastSlippery = null;\r\n\tthis.lastSticky = null;\r\n\tthis.maxFont = 30;\r\n\tthis.minFreq = 0;\r\n\tthis.numDataPoints = 0;\r\n\tthis.numVisPoints = 5;\r\n\tthis.overlayQueue = [];\r\n\tthis.records = 0;\r\n\tthis.recordsLength = 0;\r\n\tthis.reselectTop = false;\r\n\tthis.shiftCount = 0;\r\n\tthis.sliderDragSum = 0;\r\n\tthis.titlesArray = [];\r\n\tthis.transitionCall = 'draw'; //possible calls 'draw', 'redraw', 'left', and 'right'\r\n\tthis.valFraction = 1;\r\n\tthis.win = 0;\r\n\t\r\n\t//window padding dimensions, b - bottom, l - left, r - right, t - top\r\n\tthis.bPadding = 25;\r\n\tthis.lPadding = 40;\r\n\tthis.rPadding = 20;\r\n\tthis.tPadding = 10;\r\n\t\r\n\tthis.sliderHeightRatio = 0.1; // slider/container height ratio\r\n\tthis.sliderHeight = 0; // set in init and resize\r\n\tthis.sliderBPadding = 10;\r\n\t\r\n\t//tracks largest dimensions, used in resizing\r\n\tthis.largestW = 0;\r\n\tthis.largestH = 0;\r\n\t\r\n\tthis.xAxisEl = undefined;\r\n\tthis.xAxis = d3.axisBottom();\r\n\tthis.xScale = d3.scaleLinear();\r\n\tthis.xSliderScale = d3.scaleLinear();\r\n\t\r\n\tthis.yAxisEl = undefined;\r\n\tthis.yAxis = d3.axisLeft();\r\n\tthis.yScale = d3.scaleLinear();\r\n\tthis.ySliderScale = d3.scaleLinear();\r\n\t\r\n\tthis.fontScale = d3.scaleLinear();\r\n\tthis.opacityScale = d3.scaleLinear();\r\n\t\r\n\tthis.container.on('resize', this.doResize, this);\r\n}\r\n\r\nTermsRadio.prototype = {\r\n\tconstructor: TermsRadio\r\n\t\r\n\t,loadRecords: function(records) {\r\n\t\tthis.initData(records);\r\n\t\tthis.prepareData();\r\n\t\t//for shiftcount > 0 exclusively\r\n\t\tvar len = this.shiftCount;\r\n\t\twhile(len-- > 0){\r\n\t\t//for(var j = 0; j < this.shiftCount; j++){\r\n\t\t\tthis.displayData.shift();\r\n\t\t}\r\n\t\tif (this.chart != null) {\r\n\t\t\tthis.redraw();\r\n\t\t} else {\r\n\t\t\tthis.initializeChart();\r\n\t\t}\r\n\t}\r\n\r\n\t,highlightQuery: function(query, sticky) {\r\n\t\tvar docId = null;\r\n\t\tif (this.parent.getApiParam(\"mode\") === 'document') {\r\n\t\t\tdocId = this.parent.getCorpus().getDocument(0).getId();\r\n\t\t}\r\n\t\tvar info = {wordString : query, docId : docId};\r\n\t\tvar paramsBundle = this.buildParamsBundle(info);\r\n\t\tif (sticky) {\r\n\t\t\tthis.manageOverlaySticky(paramsBundle);\r\n\t\t} else {\r\n\t\t\tthis.manageOverlaySlippery(paramsBundle);\r\n\t\t}\r\n\t}\r\n\t\r\n\t,highlightRecord: function(record, sticky) {\r\n\t\tvar info = {wordString : record.get('term'), docId : record.get('docId')};\r\n\t\tvar paramsBundle = this.buildParamsBundle(info);\r\n\t\tif (sticky) {\r\n\t\t\tthis.manageOverlaySticky(paramsBundle);\r\n\t\t} else {\r\n\t\t\tthis.manageOverlaySlippery(paramsBundle);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//\r\n\t//DATA FUNCTIONS\r\n\t//\t\r\n\r\n\t,initData: function (records) { \t\r\n\t\t//console.log(\"fn: initData\")\r\n\t\t//console.profile('profilethis')\r\n\t\tthis.records = records;\r\n\t\t\r\n\t\tthis.recordsLength = this.records.length;\r\n\t\r\n\t\tthis.numVisPoints = parseInt(this.parent.getApiParam('visibleBins'));\r\n\t\tthis.shiftCount = parseInt(this.parent.getApiParam('position'));\r\n\t\t\r\n\t\tif(this.parent.getApiParam('mode') === 'document') {\r\n\t\t\tthis.numDataPoints = this.records[0].get('distributions').length;\r\n\t\t\tvar parentBins = parseInt(this.parent.getApiParam('bins'));\r\n\t\t\tif(this.numDataPoints !== parentBins){\r\n\t\t\t\tthis.numDataPoints = parentBins;\r\n\t\t\t\tthis.loadStore();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.numDataPoints = this.records[0].get('distributions').length;\r\n\t\t}\r\n\t\t\r\n    \tthis.counterSeries = [];\r\n    \tvar transferArray = [];\r\n\t\t\t\r\n    \t//find max frequency value\r\n    \tthis.absMaxFreq = 0;\r\n\t\tfor( var k = 0; k < this.numDataPoints; k++ ) { \r\n\t        for( var p = 0; p < this.recordsLength; p++ ) {\r\n\t        \tif(this.records[p].get('distributions')[k] > this.absMaxFreq) {\r\n\t        \t\tthis.absMaxFreq = this.records[p].get('distributions')[k];\r\n\t        \t}\r\n\t        }\r\n\t\t}\r\n\t\t\t    \r\n\t\t//find the absolute minimum frequency value\r\n\t\t//first start by setting the minimum frequency to the maximum frequency\r\n\t\tthis.absMinFreq = this.absMaxFreq;\r\n\t\tfor( var k = 0; k < this.numDataPoints; k++ ) { \r\n\t        for( var p = 0; p < this.recordsLength; p++ ) {\r\n\t        \tif(this.records[p].get('distributions')[k] <= this.absMinFreq && this.records[p].get('distributions')[k] !== 0) { \r\n\t        \t\tthis.absMinFreq = this.records[p].get('distributions')[k];\r\n\t        \t}\r\n\t        }\r\n\t\t}\r\n\t\t\r\n\t\t//Calculate the lower value of the y axis, must be > 0 \r\n\t\tif( this.absMinFreq < 0) {\r\n\t\t\tthis.absMinFreq = 0;\r\n\t\t}\r\n\t\t\r\n\t\tthis.minFreq = this.absMinFreq * 1.01;\r\n\t\t\r\n\t    //transfer all of the relevant data from 'records' to an array 'allData'\r\n\t\tfor( var k = 0; k < this.numDataPoints; k++ ) { \r\n\t        for( var p = 0; p < this.recordsLength; p++ ) {\r\n\t        \tvar rec = this.records[p];\r\n\t        \tvar dists = rec.get('distributions')[k];\r\n//\t        \tif (dists > this.minFreq && dists <= this.absMaxFreq) {\r\n\t        \tif (dists > 0) {\r\n\t        \t\ttransferArray.push({\r\n\t        \t\t\tfreq: dists,\r\n\t\t                wordString: rec.get('term'),\r\n\t\t                counter: k,\r\n\t\t                posInSeries: 0, \r\n\t\t                numInSeries: 0,\r\n\t\t                docId: rec.get('docId')\r\n\t\t            });\r\n\t        \t}\r\n//\t        \t} else { //do nothing\r\n//\t        \t}\r\n\t        }\r\n\t        this.counterSeries.push(transferArray);\r\n\t        transferArray = [];\r\n\t    }\r\n\t}\r\n\r\n\t,prepareData: function() {\r\n\t\t//console.log(\"fn: prepareData\")\r\n\t    var frequencySeries = [],\r\n\t    \tcopy1 = [],\r\n\t    \tcopy2 = [],\r\n\t    \tcopy3 = [],\r\n\t    \tcopy4 = [],\r\n\t    \tcheck = 0;\r\n\t\t\r\n\t\tthis.allData = [];\r\n\t\tthis.displayData = [];\r\n\t\t\r\n\t\t//set the number of points to be displayed at once\r\n\t\tif(this.numDataPoints < this.numVisPoints) {\r\n\t\t\tthis.numVisPoints = this.numDataPoints;\r\n\t\t}\r\n\t\t\r\n\t\t//adjust shiftCount if it for some reason is out of the normal range\r\n\t\tif(this.shiftCount + this.numVisPoints > this.numDataPoints){ \r\n\t\t\tthis.shiftCount = this.numDataPoints - this.numVisPoints; \r\n\t\t}\r\n\t\t\r\n\t    for( var k = 0; k < this.numDataPoints; k++ ) {\r\n\t\t\tvar check1 = 0; //add a single first data point\r\n\t    \tfor(var p = 0; p < this.counterSeries[k].length; p++ ) {\r\n\t    \t\t\t\r\n    \t\t\tvar check2 = 0; //check will make sure a data point is not added to a series more than once\r\n    \t\t\t\r\n\t    \t\t//add very first point, this is done like this so the for loop can use the .length operator\r\n\t    \t\tif(check1 === 0){\r\n\t\t\t    \tcopy1.push(this.counterSeries[k][p]);\r\n\t\t\t    \tcopy2.push({freq: this.counterSeries[k][p].freq,\r\n\t\t    \t\t\tfrequencyArray: copy1,\r\n\t\t    \t\t\tnumInSeries: 0\r\n\t\t    \t\t});\r\n\t\t    \t\tfrequencySeries.push(copy2);\r\n\t\t    \t\t\r\n\t\t    \t\tcopy1 = [];\r\n\t\t    \t\tcopy2 = [];\r\n\t\t    \t\tcheck1 = 1;\r\n\t\t    \t\tcheck2 = 1;\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\t//checks if a given frequency has an existing 'series' that the data point can be grouped into\r\n\t    \t\tfor( var l = 0; l < frequencySeries[k].length && check2 === 0; l++) {\r\n\t\t\t\t\tif(this.counterSeries[k][p].freq === frequencySeries[k][l].freq) {\r\n\t\t\t\t\t\tvar inSeries = 0; \r\n\t\t\t\t\t\tinSeries = frequencySeries[k][l].numInSeries;\r\n\t\t\t\t\t\tthis.counterSeries[k][p].posInSeries = ++inSeries;\r\n\t\t\t\t\t\tfrequencySeries[k][l].numInSeries = inSeries;\r\n\t\t\t\t\t\tfrequencySeries[k][l].frequencyArray.push(this.counterSeries[k][p]);\r\n\t\t\t\t\t\tcheck2 = 1;\r\n\t\t\t\t\t}\t\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\t//if there is no existing series then create a new one\r\n\t    \t\tif(check2 === 0) {\r\n\t\t\t\t\tcopy4.push(this.counterSeries[k][p]);\r\n\t\t    \t\tfrequencySeries[k].push({freq: this.counterSeries[k][p].freq,\r\n\t\t    \t\t\tfrequencyArray: copy4,\r\n\t\t    \t\t\tnumInSeries: 0\r\n\t\t    \t\t});\r\n\t\t    \t\tcopy4 = [];\r\n\t\t    \t\tcheck2 = 1;\r\n\t\t\t\t}\r\n\t    \t}\t\r\n\t    \t//if counterSeries[k] is empty add or there is no eligible value add an empty array to frequencySeries such that frequencySeries[k] is not undefined\r\n\t    \tif(this.counterSeries[k].length < 1 || check1 === 0) {  \r\n\t    \t\tfrequencySeries.push([]);\r\n    \t\t}\r\n\t    }\r\n\t    \r\n\t    for( var k = 0; k < this.numDataPoints; k++ ) {\r\n\t    \tfor( var p = 0; p < frequencySeries[k].length; p++) {\r\n\t    \t\t++frequencySeries[k][p].numInSeries;\r\n\t    \t\tfor( var l = 0; l < frequencySeries[k][p].frequencyArray.length; l++) {\r\n\t    \t\t\tfrequencySeries[k][p].frequencyArray[l].numInSeries = frequencySeries[k][p].numInSeries;\r\n\t    \t\t}\r\n\t    \t}\r\n\t    }\r\n\t    \r\n\t    var allDataSetup = [];\r\n\t    \r\n\t    //add the selected points into the array that will be used to display the data\r\n\t    for( var k = 0; k < this.numDataPoints; k++ ) {\r\n\t        this.allData.push({allDataInternal: frequencySeries[k],\r\n\t            outerCounter: k});\r\n\t    }\r\n\t    \r\n    \tvar displaySetup = [],\r\n    \t\ttransferArray = [];\r\n\t\t\r\n\t    //transfer the first x points (= numVisPoints, the number of points to be visualized)\r\n\t    //into an array that will be used to display the data\r\n\t    for( var k = 0; k < this.numVisPoints + this.shiftCount; k++ ) { \r\n\t        for( var p = 0; p < this.recordsLength; p++ ) {\r\n\t        \tif(this.allData[k].allDataInternal[p]) {\r\n\t\t            transferArray.push({freq: this.allData[k].allDataInternal[p].freq,\r\n\t\t                inSeries: this.allData[k].allDataInternal[p].numInSeries,\r\n\t\t                frequencyArray: this.allData[k].allDataInternal[p].frequencyArray,\r\n\t\t                dotObject: [{counter: k, freq: this.allData[k].allDataInternal[p].freq}]\r\n\t\t            });\r\n\t        \t}\r\n\t        }\r\n\t        displaySetup.push(transferArray);\r\n\t        transferArray = [];\r\n\t    }\r\n\t    \r\n\t    //add the selected points into the array that will be used to display the data\r\n\t    for( var k = 0; k < this.numVisPoints + this.shiftCount; k++ ) {\r\n\t        this.displayData.push({displayInternal: displaySetup[k],\r\n\t            outerCounter: k});\r\n\t    }\r\n\t    displaySetup = [];\r\n\t}\r\n\t\r\n\t//TRANSITION FUNCTIONS\r\n\t\r\n\t//disable forward back if moving, disable pause if stopped, disable back if at beginning\r\n\t,manageMvtButtons: function () {\r\n\t\t//console.log('fn: manageMvtButtons')\r\n\t\tthis.parent.queryById(\"play\").setPlaying(this.isTransitioning);\r\n\t\t/*\r\n\t\tif(this.isTransitioning === true) {\r\n\t\t\tthis.toggleRight.setDisabled(true);\r\n\t\t\tthis.toggleLeft.setDisabled(true);\r\n\t\t\tthis.stop.setDisabled(false);\r\n\t\t}\r\n\t\tif(this.isTransitioning === false) {\r\n\t\t\tthis.toggleRight.setDisabled(false);\r\n\t\t\tthis.toggleLeft.setDisabled(false);\r\n\t\t\tthis.stop.setDisabled(true);\r\n\t\t\t\r\n\t\t\tif(this.shiftCount === 0){\r\n\t\t\t\tthis.toggleLeft.setDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.toggleLeft.setDisabled(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(this.shiftCount + this.numVisPoints === this.numDataPoints){\r\n\t\t\t\tthis.toggleRight.setDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.toggleRight.setDisabled(false);\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t*/\r\n\t}\r\n\r\n\t//provides the next value to the left     \r\n    ,nextR: function () {\r\n    \t//console.log('fn: nextR')\r\n    \t\r\n    \tvar displaySetup = [];\r\n    \t//this.displayData.shift();\r\n\t\t\r\n    \tfor( var p = 0; p < this.recordsLength; p++ ) {\r\n    \t\tif(this.allData[this.numVisPoints + this.shiftCount].allDataInternal[p]) {\r\n\t            displaySetup.push({freq: this.allData[this.numVisPoints + this.shiftCount].allDataInternal[p].freq,\r\n\t            \tinSeries: this.allData[this.numVisPoints + this.shiftCount].allDataInternal[p].numInSeries,\r\n\t            \tfrequencyArray: this.allData[this.numVisPoints + this.shiftCount].allDataInternal[p].frequencyArray,\r\n\t                dotObject: [{counter: this.numVisPoints + this.shiftCount, freq: this.allData[this.numVisPoints + this.shiftCount].allDataInternal[p].freq}]\r\n\t            });\r\n    \t\t}\r\n        }\r\n        \r\n\t    this.displayData.push({displayInternal: displaySetup, outerCounter: this.numVisPoints + this.shiftCount});\r\n\t    displaySetup = [];\r\n    }\r\n    \r\n    //verifies that data CAN be moved to the right\r\n    ,toggleRightCheck: function () {\r\n    \t//console.log(\"fn: toggleRightCheck\")\r\n    \tif(this.numVisPoints + this.shiftCount < this.numDataPoints) {\r\n    \t\t//manage transition movements and controls\r\n    \t\tthis.isTransitioning = true;\r\n    \t\tthis.continueTransition = true;\r\n    \t\tthis.manageMvtButtons();\r\n    \t\t\r\n    \t\t//draw\r\n\t        this.nextR();\r\n\t\t\tthis.shiftCount = ++this.shiftCount;\r\n\t\t\tthis.manageXScale();\r\n\t\t\tthis.parent.setApiParams({position: this.shiftCount});\r\n\t\t\tthis.transitionCall = 'right';\r\n\t\t\tthis.animateVis();\r\n\t\t\tthis.displayData.shift();\r\n\t\t} else {\r\n    \t\t//manage transition movements and controls\r\n\t\t\tthis.isTransitioning = false;\r\n\t\t\tthis.continueTransition = false;\r\n\t\t\tthis.manageMvtButtons();\r\n\t\t}\r\n    }\r\n    \r\n    //provide the next value\r\n    ,nextL: function () {\r\n    \t//console.log('fn: nextLeft')\r\n    \tvar displaySetup = [];\r\n        \r\n        for( var p = 0; p < this.recordsLength; p++ ) {\r\n        \tif(this.allData[this.shiftCount].allDataInternal[p]) {\r\n        \t\tdisplaySetup.push({freq: this.allData[this.shiftCount].allDataInternal[p].freq,\r\n\t            \tinSeries: this.allData[this.shiftCount].allDataInternal[p].numInSeries,\r\n\t            \tfrequencyArray: this.allData[this.shiftCount].allDataInternal[p].frequencyArray,\r\n\t                dotObject: [{counter: this.shiftCount, freq: this.allData[this.shiftCount].allDataInternal[p].freq}]\r\n\t            });\r\n        \t}\r\n        }\r\n\t    this.displayData.unshift({displayInternal: displaySetup, outerCounter: this.shiftCount});\r\n        displaySetup = [];\r\n    }\r\n    \r\n    /*\r\n    ,toggleLeftCheck: function () {    \t\r\n    \t//console.log(\"fn: toggleLeftCheck\")\r\n    \tif(this.shiftCount > 0) {\r\n    \t\t//manage transition movement and controls\r\n    \t\tthis.isTransitioning = true;\r\n\t\t\tthis.continueTransition = true;\r\n\t\t\tthis.manageMvtButtons();\r\n\t\t\t\r\n\t\t\t//draw\r\n\t\t\tthis.shiftCount = --this.shiftCount;\r\n\t\t\tthis.manageXScale();\r\n\t\t\tthis.parent.setApiParams({position: this.shiftCount});\r\n\t        this.nextL();\r\n\t\t\tthis.transitionCall = 'left';\r\n\t        this.animateVis();\r\n\t        this.displayData.pop();\r\n\t\t} else {\r\n\t\t\t//manage transition movements and controls\r\n\t\t\tthis.isTransitioning = false;\r\n\t\t\tthis.manageMvtButtons();\r\n\t\t}\r\n    }\r\n    */\r\n    \r\n    ,startScroll: function() {\r\n    \t//console.log(\"fn: startScroll\")\r\n    \tvar me = this;\r\n    \t\r\n    \tif(me.numDataPoints > me.numVisPoints && me.shiftCount === 0){\r\n\t\t\t//manage transition movements and controls\r\n\t\t\tme.isTransitioning = true;\r\n\t\t\tthis.manageMvtButtons();\r\n    \t\t\r\n    \t\t//repeat transition\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tme.toggleRightCheck();\r\n\t\t\t},3000);\r\n\t\t}\r\n    }\r\n    \r\n    //\r\n    //DISPLAY FUNCTIONS\r\n    //\r\n\t\r\n\t\r\n\t// init and draw everything\r\n\t,initializeChart: function() {\r\n\t\tthis.initChart();\r\n\t\t\r\n\t\tthis.drawXAxis();\r\n\t\tthis.drawYAxis();\r\n\t\tthis.drawChart();\r\n\t\tif (this.isSliderVisible) {\r\n\t\t\tthis.drawSlider();\r\n\t\t\tthis.drawVerticalSlider();\r\n\t\t\tthis.redrawSliderOverlay();\r\n\t\t}\r\n\t\tthis.transitionCall = 'draw';\r\n\t}\r\n\t\r\n    ,redraw: function() {\r\n\r\n//    \tconsole.log(\"fn: redraw\")\r\n    \tthis.transitionCall = 'redraw';\r\n    \tthis.updateFullPath();\r\n\t\tthis.redrawXAxis();\r\n\t\tthis.redrawYAxis();\r\n\t\tthis.redrawChart();\r\n\t\tif (this.isSliderVisible) {\r\n\t\t\tthis.redrawSlider();\r\n\t\t\tthis.redrawVerticalSlider();\r\n\t\t\tthis.redrawSliderOverlay();\r\n\t\t}\r\n\t\tthis.redrawChartOverlay();\r\n    }\r\n    \r\n\t,initChart: function () {\r\n\t\tvar h = this.container.getHeight(),\r\n\t\t\tw = this.container.getWidth();\r\n    \r\n\t\t//create main SVG Element\r\n\t\tvar chartSVG = Ext.DomHelper.append(this.container.down('div[class$=innerCt]'), '<svg class=\"chart\" width=\"'+w+'\" height=\"'+h+'\"></svg>');\r\n\t    this.chart = d3.select(chartSVG);\r\n\t    \r\n\t    this.setSliderHeight();\r\n\t    \r\n\t\tthis.largestW = w;\r\n\t\tthis.largestH = h - this.getSliderHeight();\r\n\t\t\r\n\t\tvar y = this.tPadding + this.getSliderHeight();\r\n\t    \t    \r\n\t    this.chart.append('clipPath')\r\n\t        .attr('id', 'clip1')\r\n\t      .append('rect')\r\n\t      \t.attr('class', 'clipping-rectangle')\r\n\t        .attr(\"x\", 0)\r\n\t        .attr(\"y\", y)\r\n\t        .attr(\"width\", w)\r\n\t        .attr(\"height\", this.largestH);\r\n\t    \r\n\t    this.chart.append('g')\r\n\t    \t.attr('class','overlay')\r\n\t    \t.attr(\"clip-path\", \"url(#clip1)\");\r\n\t    \r\n\t\t//depending on the size of display set the length that labels can be\r\n\t\tthis.setTitleLength();\r\n\t}\r\n    \r\n\t,doResize: function() {\r\n\t\tif(this.chart) {\r\n\t\t\tvar h = this.container.getHeight(),\r\n\t\t\t\tw = this.container.getWidth();\r\n\r\n\t\t\tthis.setSliderHeight();\r\n\t\t\t\r\n\t\t\tthis.largestH = h - this.getSliderHeight();\r\n\t\t\tthis.largestW = w;\r\n\t\t\t\r\n\t\t\tthis.chart.attr('height', h)\r\n\t\t\t\t.attr('width', w);\r\n\t\t\t\t\r\n\t\t\tthis.setTitleLength();\r\n\t\t\t\r\n\t\t\tthis.chart.select('rect[class=clipping-rectangle]')\r\n\t\t        .attr(\"x\", 0)\r\n\t\t        .attr(\"y\", this.tPadding + this.getSliderHeight())\r\n\t\t        .attr(\"width\", w)\r\n\t\t        .attr(\"height\", this.largestH);\r\n\t\t\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\t}\r\n\t\r\n    ,drawXAxis: function() {\r\n    \tvar me = this;\r\n    \t//svg element constants\r\n\t\tvar h = this.container.getHeight(),\r\n\t\t\tw = this.container.getWidth();\r\n    \t\r\n\t\t//initialize x scales\r\n\t\tthis.manageAllXScales();\r\n\t\t\t\r\n    \t//define X axis\r\n\t\tthis.xAxis = d3.axisBottom(me.xScale)\r\n\t\t    .ticks(Math.round(me.numVisPoints))\r\n\t\t    .tickFormat(function(d){\r\n\t\t    \tvar val;\r\n\t\t    \tif(me.parent.getApiParam('mode') === 'document') { \r\n\t\t\t\t\tval = 'Segment ' + (parseInt(d) + 1);\r\n\t\t\t\t}\r\n\t\t\t\tif(me.parent.getApiParam('mode') === 'corpus') {\r\n\t\t\t\t\tval = d + 1 + '. ' + me.titlesArray[d];\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t    });\r\n\t\t\r\n\t\t//draw the x-axis\r\n\t\tthis.xAxisEl = this.chart.append('g')\r\n    \t\t.attr('class', 'axisX')\r\n    \t\t.attr('transform', 'translate(0,' + (h - this.bPadding) + ')')\r\n    \t\t.call(this.xAxis);\r\n    \t\r\n//    \tthis.xAxisEl.selectAll('text')\r\n//\t\t\t.on('mouseover', function () {\r\n//\t\t\t\td3.select(this)\r\n//\t\t\t\t\t.attr('fill', 'red')\r\n//\t\t\t\t\t.style(\"font-size\", '18px');\r\n//\t\t\t})\r\n//\t\t\t.on('mouseout', function () {\r\n//\t\t\t\td3.select(this)\r\n//\t\t\t\t\t.attr('fill', 'black')\r\n//\t\t\t\t\t.style(\"font-size\", '11px');\r\n//\t\t\t});\r\n\t\tthis.styleXAxis();\r\n    }\r\n    \r\n    ,styleXAxis: function() {\r\n    \tthis.xAxisEl.selectAll('text')\r\n\t        .style('font-family', 'sans-serif')\r\n\t        .style('font-size', '11px');\r\n\r\n\t    this.xAxisEl.selectAll('line')\r\n\t        .style('fill','none')\r\n\t        .style('stroke','black')\r\n\t        .style('shape-rendering', 'crispEdges');\r\n\t        \r\n\t    this.xAxisEl.selectAll('path')\r\n\t        .style('fill','none')\r\n\t        .style('stroke','black')\r\n\t        .style('shape-rendering', 'crispEdges');\r\n    }\r\n    \r\n    ,redrawXAxis: function() {\r\n    \tthis.chart.selectAll('g[class=axisX]')\r\n\t\t\t.remove();\r\n\t\t\r\n\t\tthis.drawXAxis();\r\n    }\r\n    \r\n    ,drawYAxis: function() {\r\n    \tvar me = this;\r\n    \t\r\n    \t//svg element constants\r\n\t\tvar h = this.container.getHeight(),\r\n\t\t\tw = this.container.getWidth();\r\n\t\t\r\n\t\t//initialize Y scales\r\n\t\tthis.manageAllYScales();\r\n    \t\r\n    \tvar yTicksScale = d3.scaleLinear()\r\n\t\t\t.domain([200,700])\r\n\t\t\t.range([5,15]);\r\n\t\t\t\r\n\t\tvar numberFormat = d3.format(\".2r\");\r\n\t\tfunction logFormat(d) {\r\n\t\t\tvar x = Math.log(d) / Math.log(10) + 1e-6;\r\n\t\t\treturn Math.abs(x - Math.floor(x)) < 0.7 ? numberFormat(d) : \"\";\r\n\t\t} \r\n\t\t\r\n\t\tthis.yAxis = d3.axisLeft(me.yScale)\r\n\t    \t.ticks(yTicksScale(h))\r\n\t    \t.tickFormat(logFormat)\r\n\t\t\t.tickSize(-w + this.rPadding + this.lPadding);\r\n\t\t\r\n\t\t//draw the y-axis\r\n\t\tthis.yAxisEl = this.chart.append('g')\r\n\t    \t.attr('class', 'axisY')\r\n\t    \t.attr('transform', 'translate(' + this.lPadding + ',0)')\r\n\t    \t.call(this.yAxis);\r\n\t\t\r\n\t    this.yAxisEl.selectAll('text')\r\n\t        .style('font-family', 'sans-serif')\r\n\t        .style('font-size', '11px');\r\n\t    \r\n\t    //controls horizontal grid line-opacity\r\n\t    this.yAxisEl.selectAll('line')\r\n\t        .style('fill','none')\r\n\t        .style('stroke','black')\r\n\t        .style('shape-rendering', 'crispEdges')\r\n\t        .style('stroke-opacity', 0.05);\r\n\t        \r\n\t    this.yAxisEl.selectAll('path')\r\n\t        .style('fill','none')\r\n\t        .style('stroke','black')\r\n\t        .style('shape-rendering', 'crispEdges');\r\n    }\r\n    \r\n    ,redrawYAxis: function() {\r\n    \tthis.chart.selectAll('g[class=axisY]')\r\n\t\t\t.remove();\r\n\t\t\r\n\t\tthis.drawYAxis();\r\n    }\r\n    \r\n    ,drawChart: function() {\r\n    \tvar me = this;\r\n    \t\r\n    \t//create graph text\r\n\t    //attach the nested data to svg:g elements\r\n\t\tvar counterSeriesDiv = this.chart.selectAll('g[class=section]')\r\n\t        .data(me.displayData, function(d) { return d.outerCounter; })\r\n\t      .enter().append('g')\r\n\t        .attr('class', 'section')\r\n\t        .attr(\"clip-path\", \"url(#clip1)\");\r\n\t\t\r\n\t\tvar frequencySeriesDiv = counterSeriesDiv.selectAll('g')\r\n\t\t\t.data(function(d) { return d.displayInternal; })\r\n\t      .enter().append('g')\r\n\t        .attr('class', 'frequencies')\r\n\t        .on('mouseover', function() {\r\n\t\t\t\td3.select(this).style('fill', 'red');\r\n\t\t\t})\r\n\t\t\t.on('mouseout', function() {\r\n\t            d3.select(this).style('fill', 'black');\r\n\t\t\t});\r\n\t             \r\n        //attach the frequency data to data points \r\n\t\tvar dataPoint = frequencySeriesDiv.selectAll('text')\r\n    \t\t.data(function(d) { return d.frequencyArray; })\r\n\t\t  .enter().append('text')\r\n\t        .attr('class', function(d) {\r\n\t        \treturn me.removeFilteredCharacters(d.wordString);\r\n\t        })\r\n\t    \t.attr('x', function (d) {\r\n\t    \t\tvar startPoint = (0.5 / d.numInSeries) - 0.5\r\n\t\t\t\t\t,valueRange = (d.posInSeries / d.numInSeries * 0.8)\r\n\t\t\t\t\t,x = d.counter + me.callOffset() + startPoint + valueRange; \r\n\t\t\t\treturn me.xScale(x);\r\n\t\t\t})\r\n\t    \t.attr('y', function (d) { \r\n\t\t\t\tvar y = d.freq;\r\n\t\t\t\treturn me.yScale(y);\r\n\t    \t})\r\n\t    \t.attr('text-anchor', 'middle')\r\n\t    \t.attr('transform', function (d) {\r\n\t    \t\tvar startPoint = (0.5 / d.numInSeries) - 0.5\r\n\t\t\t\t\t,valueRange = (d.posInSeries / d.numInSeries * 0.8)\r\n\t\t\t\t\t,x = d.counter + me.callOffset() + startPoint + valueRange\r\n\t\t\t\t\t,y = d.freq;\r\n\t    \t\treturn 'translate(0, 0) rotate(-20 ' + me.xScale(x) + ' '+ me.yScale(y) + ')';\r\n\t    \t})\r\n\t    \t.style('font-size', function(d) { return me.fontScale(d.freq) + 'px'; })\r\n\t    \t.style('fill-opacity', function(d) { return me.opacityScale(d.freq); })\r\n\t        .text(function(d) { return d.wordString; })\r\n\t        .on('mouseover', function(d) { \r\n\t \t        d3.select(this).style('cursor', 'pointer').style('font-size', function(d) { return (me.fontScale(d.freq) * me.maxFont / me.fontScale(d.freq)) + 'px'; });\r\n\t \t        var paramsBundle = me.buildParamsBundle(d);\r\n\t \t        me.manageOverlaySlippery(paramsBundle);\r\n\t        })\r\n\t        .on('mouseout', function(d) { \r\n\t        \td3.select(this).style('cursor', 'auto').style('font-size', function(d) { return me.fontScale(d.freq) + 'px'; });\r\n\t        \tvar paramsBundle = me.buildParamsBundle(d);\r\n\t        \tme.manageOverlaySlippery(paramsBundle);\r\n\t        })\r\n\t        .on('click', function(d) {\r\n\t        \tvar paramsBundle = me.buildParamsBundle(d);\r\n\t        \tme.manageOverlaySticky(paramsBundle);\r\n\t\t\t})\r\n\t  \t  .append('title')\r\n\t    \t.text(function(d) { return d.wordString; });\r\n    }\r\n    \r\n    ,redrawChart: function() {\r\n    \tthis.chart.selectAll('g[class=section]')\r\n\t\t\t.remove();\r\n\t\t\t\r\n\t\tthis.drawChart();\r\n    }\r\n    \r\n    ,drawVerticalSlider: function() {\r\n//    \tvar h = this.container.getHeight(),\r\n//\t\t\tw = this.container.getWidth();\r\n//    \t\r\n//    \tvar totalTopOffset = (this.tPadding * 2) + this.sliderHeight\r\n//        \t,lengthVer = h - (totalTopOffset + this.bPadding);\r\n//        \r\n//\t    //create vertical minimap rectangle and slider\r\n//\t    var sliderPosScale = d3.scaleLinear()\r\n//\t\t\t.domain([this.absMaxFreq, this.minFreq])\r\n//\t\t\t.range([totalTopOffset, lengthVer]);\r\n//\t    \r\n//\t    var rectVer = this.chart.append('rect')\r\n//\t  \t    .attr('class', 'minimap')\r\n//\t  \t    .attr('x', w - (this.rPadding * 0.66))\r\n//\t  \t    .attr('y', totalTopOffset)\r\n//\t  \t    .attr('rx', 3.33)\r\n//\t  \t    .attr('width', 6.66)\r\n//\t  \t    .attr('height', lengthVer)\r\n//\t  \t    .style('fill','aliceblue')\r\n//\t  \t    .style('stroke','black')\r\n//\t  \t    .style('stroke-width','1')\r\n//\t  \t    .style('fill-opacity','0.75');\r\n//\t    \t\r\n//\t    var sliderVer = this.chart.append('rect')\r\n//\t\t\t.attr('class', 'minimap')\r\n//\t  \t    .attr('x', w - (this.rPadding * 0.66))\r\n//\t  \t    .attr('y', totalTopOffset)\r\n//\t  \t    .attr('rx', 3.33)\r\n//\t  \t    .attr('width', 6.66)\r\n//\t  \t    .attr('height', lengthVer * ((this.absMaxFreq * this.valFraction) - this.minFreq) / this.absMaxFreq)\r\n//\t  \t    .style('fill','CornflowerBlue')\r\n//\t  \t    .style('stroke','black')\r\n//\t  \t    .style('stroke-width','1');\r\n    }\r\n    \r\n    ,redrawVerticalSlider: function() {\r\n    \tthis.chart.selectAll('rect[class=minimap]')\r\n\t\t\t.remove();\r\n\t\t\t\r\n\t\tthis.drawVerticalSlider();\r\n    }\r\n    \r\n    ,drawSlider: function() {\r\n    \tvar h = this.container.getHeight(),\r\n\t\t\tw = this.container.getWidth();\r\n\t    \r\n\t\t//Create navigation bar\r\n\t\tvar lengthHor = w - (this.rPadding + this.lPadding)\r\n\t\t\t,offsetVis = this.lPadding + (lengthHor * ((this.numVisPoints - 1) / 2) * ( 1 / (this.numDataPoints - 1)))\r\n\t\t\t,offsetVisStart = this.lPadding\r\n\t\t\t,offsetVisEnd = this.lPadding + (lengthHor * ((this.numVisPoints - 1) / (this.numDataPoints - 1)));\r\n\t\t\r\n\t\tvar lineX = this.chart.append('line')\r\n\t\t\t.attr('class', 'slider axis')\r\n\t\t\t.attr('x1', this.lPadding)\r\n\t\t\t.attr('x2', this.container.getWidth() - this.rPadding)\r\n\t\t\t.attr('y1', this.tPadding + this.sliderHeight)\r\n\t\t\t.attr('y2', this.tPadding + this.sliderHeight)\r\n\t\t\t.style('shape-rendering', 'crispEdges')\r\n\t\t\t.style('stroke','black')\r\n\t  \t    .style('stroke-width','1');\r\n\t\t\t\t\t\r\n\t\tvar lineY = this.chart.append('line')\r\n\t\t\t.attr('class', 'slider axis')\r\n\t\t\t.attr('x1', this.lPadding)\r\n\t\t\t.attr('x2', this.lPadding)\r\n\t\t\t.attr('y1', this.tPadding + this.sliderHeight)\r\n\t\t\t.attr('y2', this.tPadding)\r\n\t\t\t.style('shape-rendering', 'crispEdges')\r\n\t\t\t.style('stroke','black')\r\n\t  \t    .style('stroke-width','1');\r\n\t\t\r\n\t    var sliderHorStart = this.chart.append('line')\r\n\t  \t    .attr('class', 'slider')\r\n\t  \t    .attr('id', 'before')\r\n\t  \t    .attr('x1', (lengthHor * (this.shiftCount - this.callOffset()) / (this.numDataPoints - 1)) + offsetVisStart)\r\n\t  \t    .attr('x2', (lengthHor * (this.shiftCount - this.callOffset()) / (this.numDataPoints - 1)) + offsetVisStart)\r\n\t  \t    .attr('y1', this.tPadding + this.sliderHeight)\r\n\t  \t    .attr('y2', this.tPadding)\r\n\t  \t    .style('stroke', 'black')\r\n\t  \t    .style('stroke-width', '1');\r\n\t    \r\n\t    var sliderHorEnd = this.chart.append('line')\r\n\t  \t    .attr('class', 'slider')\r\n\t  \t    .attr('id', 'after')\r\n\t  \t    .attr('x1', (lengthHor * (this.shiftCount - this.callOffset()) / (this.numDataPoints - 1)) + offsetVisEnd)\r\n\t  \t    .attr('x2', (lengthHor * (this.shiftCount - this.callOffset()) / (this.numDataPoints - 1)) + offsetVisEnd)\r\n\t  \t    .attr('y1', this.tPadding + this.sliderHeight)\r\n\t  \t    .attr('y2', this.tPadding)\r\n\t  \t    .style('stroke', 'black')\r\n\t  \t    .style('stroke-width', '1');\r\n\t  \t    \t  \t    \r\n\t   var greyBoxBefore = this.chart.append('rect')\r\n  \t    \t.attr('class', 'slider')\r\n  \t    \t.attr('id', 'boxBefore')\r\n  \t    \t.attr('x', this.lPadding)\r\n  \t    \t.attr('y', this.tPadding)\r\n  \t    \t.attr('height', this.sliderHeight)\r\n  \t    \t.attr('width', lengthHor * (this.shiftCount - this.callOffset()) / (this.numDataPoints - 1))\r\n  \t    \t.style('fill', 'silver')\r\n  \t    \t.style('fill-opacity', 0.25)\r\n\t    \t.style('cursor', 'move');\r\n\t    \t\t    \r\n\t    var greyBoxAfter = this.chart.append('rect')\r\n\t    \t.attr('class', 'slider')\r\n\t    \t.attr('id', 'boxAfter')\r\n\t    \t.attr('x', (lengthHor * (this.shiftCount - this.callOffset()) / (this.numDataPoints - 1)) + offsetVisEnd)\r\n\t    \t.attr('y', this.tPadding)\r\n\t    \t.attr('height', this.sliderHeight)\r\n\t    \t.attr('width', lengthHor * (this.numDataPoints - this.numVisPoints - this.shiftCount + this.callOffset()) / (this.numDataPoints - 1))\r\n\t    \t.style('fill', 'silver')\r\n\t    \t.style('fill-opacity', 0.25)\r\n\t    \t.style('cursor', 'move');\r\n\t    \r\n\t    var me = this;\r\n    \tvar drag = d3.drag()\r\n        .on('drag', function(d) {\r\n        \tif(!me.isTransitioning) {\r\n        \t\tthis.drag = true;\r\n        \t\t\r\n\t        \tvar w = me.parent.getWidth()\r\n\t        \t\t,displaceX = parseInt(d3.event.dx)\r\n\t        \t\t,checkBefore\r\n\t        \t\t,checkAfter\r\n\t        \t\t,pos = 0;\r\n\t        \t\t\r\n\t        \t//add up the slider movements as they occur\t\r\n        \t\tme.sliderDragSum += d3.event.dx;\r\n\t        \t\r\n\t        \tme.chart.selectAll('#before')\r\n\t        \t\t.attr('x1', function () { \r\n\t        \t\t\tcheckBefore = parseInt(this.getAttribute('x1'));\r\n\t        \t\t\tpos = parseInt(this.getAttribute('x1')) + displaceX;\r\n\t        \t\t\treturn parseInt(this.getAttribute('x1'));\r\n\t        \t\t});\r\n\t        \t\r\n\t        \tme.chart.selectAll('#after')\r\n\t        \t\t.attr('x1', function () { \r\n\t        \t\t\tcheckAfter = parseInt(this.getAttribute('x1'));\r\n\t        \t\t\treturn parseInt(this.getAttribute('x1'));\r\n\t        \t\t});\r\n\t        \t\r\n\t        \tif(checkBefore + displaceX < me.lPadding || checkAfter + displaceX > w - me.rPadding) {\r\n\t        \t\tdisplaceX = 0;\r\n\t        \t}\r\n\t        \t\r\n\t        \tme.chart.select('#boxBefore')\r\n\t        \t\t.attr('width', function () { return parseInt(this.getAttribute('width')) + displaceX; });\r\n\t        \t\r\n\t        \tme.chart.select('#boxAfter')\r\n\t        \t\t.attr('x', function () { return parseInt(this.getAttribute('x')) + displaceX; })\r\n        \t\t\t.attr('width', function () { return Math.max(0, parseInt(this.getAttribute('width')) - displaceX); });\r\n\t        \t\t\r\n\t        \tme.chart.selectAll('#before')\r\n\t        \t\t.attr('x1', function () { return parseInt(this.getAttribute('x1')) + displaceX; })\r\n\t        \t\t.attr('x2', function () { return parseInt(this.getAttribute('x2')) + displaceX; });\r\n\t        \t\r\n\t        \tme.chart.selectAll('#after')\r\n        \t\t\t.attr('x1', function () { return parseInt(this.getAttribute('x1')) + displaceX; })\r\n        \t\t\t.attr('x2', function () { return parseInt(this.getAttribute('x2')) + displaceX; });\r\n        \t}\r\n        })\r\n        .on('end', function(d) {\r\n        \tif(this.drag){\r\n        \t\tthis.drag = false;\r\n        \t\t\r\n        \t\tvar inverseSliderScale = d3.scaleLinear()\r\n\t\t\t    \t.domain([0, me.container.getWidth() - (me.lPadding + me.rPadding)])\r\n\t\t\t    \t.range([0, me.numDataPoints]);\r\n\t\t\t    \t\r\n\t\t\t\t//calculate the position that everything should transition to\r\n\t        \tvar moveByThis = inverseSliderScale(me.sliderDragSum),\r\n\t        \t\tmoveShiftCount,\r\n\t        \t\toldShiftCount = me.shiftCount;\r\n\t        \t\t\r\n\t    \t\tif(moveByThis > 0) moveShiftCount = Math.floor(moveByThis);\r\n\t    \t\tif(moveByThis < 0) moveShiftCount = Math.ceil(moveByThis);\r\n\t    \t\t\r\n\t    \t\t//update shiftCount re-animate \r\n\t    \t\tme.shiftCount += moveShiftCount;\r\n\t    \t\tif(me.shiftCount < 0) me.shiftCount = 0;\r\n\t    \t\tif(me.shiftCount > me.numDataPoints - 1) me.shiftCount = me.numDataPoints - 1;\r\n\t    \t\t\r\n\t    \t\tif(me.shiftCount !== oldShiftCount) {\r\n\t    \t\t\tme.sliderDragSum = 0;\r\n\t    \t\t\t\r\n\t        \t\tme.parent.setApiParams({position: me.shiftCount});\r\n\t\t\t\t\tme.prepareData();\r\n\t\t\t\t\t\r\n\t\t\t\t\tme.redraw();\r\n\t        \t}\r\n        \t}\r\n        });\r\n\t    \r\n\t    greyBoxBefore.call(drag);\r\n\t    greyBoxAfter.call(drag);\r\n    }\r\n    \r\n    ,removeSlider: function(removeTermLines) {\r\n    \tthis.chart.selectAll('rect[class=slider]')\r\n    \t\t.remove();\r\n\t\r\n    \tthis.chart.selectAll('line[class~=slider]')\r\n\t    \t.remove();\r\n    \t\r\n    \tif (removeTermLines) {\r\n    \t\tthis.chart.selectAll('g[class=slider]')\r\n\t    \t\t.remove();\r\n    \t}\r\n    }\r\n    \r\n    ,redrawSlider: function() {\r\n    \tthis.removeSlider();\r\n    \tthis.drawSlider();\r\n    }\r\n\t\r\n\t,animateVis: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t//prepare the data for the visualization\r\n\t\t//shiftCount = 0, means the displayData begins with the same value as nestedData\r\n\t\tvar mode = this.parent.getApiParam('mode');\r\n\t\t\r\n\t    //svg element constants\r\n\t\tvar h = this.container.getHeight(),\r\n\t\t\tw = this.container.getWidth();\r\n\r\n\t\tvar duration = this.getDuration();\r\n\t\t\r\n\t\t//if transitionCall === 'draw': draw the function for the first time\t\t\r\n\t\t//if not: shift displayData to a different subset of allData\r\n\t\t//then display the newly shifted data\t\r\n\t\tif(this.transitionCall === 'left' || this.transitionCall ==='right'){\r\n\t\t\tthis.xAxisEl.transition()\r\n\t            .duration(duration)\r\n\t            .ease(d3.easeLinear)\r\n\t            .call(this.xAxis);\r\n\t            \r\n\t        this.styleXAxis();\r\n\t        \r\n\t        this.drawChart();\r\n\t    \r\n        \t//if call is shift move the dataPoints\t\r\n        \tthis.chart.selectAll('.frequencies').transition()\r\n        \t\t.duration(duration)\r\n\t            .ease(d3.easeLinear)\r\n\t            .selectAll('text')\r\n\t            .attr('x', function (d) {\r\n\t            \tvar startPoint = (0.5 / d.numInSeries) - 0.5,\r\n\t\t\t\t\t\tvalueRange = (d.posInSeries / d.numInSeries * 0.8),\r\n\t\t\t\t\t\tx = d.counter + startPoint + valueRange; \r\n\t\t\t\t\treturn me.xScale(x);\r\n\t\t\t\t})\r\n\t\t\t\t.attr('transform', function (d) {\r\n\t\t    \t\tvar startPoint = (0.5 / d.numInSeries) - 0.5\r\n\t\t\t\t\t\t,valueRange = (d.posInSeries / d.numInSeries * 0.8)\r\n\t\t\t\t\t\t,x = d.counter + startPoint + valueRange\r\n\t\t\t\t\t\t,y = d.freq;\r\n\t\t    \t\treturn 'translate(0, 0) rotate(-20 ' + me.xScale(x) + ' '+ me.yScale(y) + ')';\r\n\t\t\t\t});\r\n\t    \t   \r\n        \t//Create navigation bar\r\n\t\t\tvar lengthHor = w - (this.rPadding + this.lPadding)\r\n\t\t\t\t,offsetVis = this.lPadding + (lengthHor * ((this.numVisPoints - 1) / 2) * ( 1 / (this.numDataPoints - 1)))\r\n\t\t\t\t,offsetVisStart = this.lPadding\r\n\t\t\t\t,offsetVisEnd = this.lPadding + (lengthHor * ((this.numVisPoints - 1) / (this.numDataPoints - 1)));\r\n\t\t\t\t\r\n        \tthis.chart.select('#before').transition()\r\n\t\t\t\t.duration(duration)\r\n\t\t\t\t.ease(d3.easeLinear)\r\n\t\t\t \t.attr('x1', (lengthHor * this.shiftCount / (this.numDataPoints - 1)) + offsetVisStart)\r\n\t\t\t \t.attr('x2', (lengthHor * this.shiftCount / (this.numDataPoints - 1)) + offsetVisStart)\r\n\t\t  \t    .attr('y1', this.tPadding + this.getSliderHeight())\r\n\t\t  \t    .attr('y2', this.tPadding)\r\n\t\t  \t    .on('end', function () {\r\n\t\t  \t    \tif (me.parent.isMasked()) {\r\n\t\t  \t    \t\tme.parent.unmask();\r\n\t\t  \t    \t}\r\n\t\t  \t    \tif(me.continueTransition) { \r\n\t\t  \t    \t\tsetTimeout(function () {\r\n\t\t  \t    \t\t\tme.callTransition();\r\n\t\t  \t    \t\t},50); \r\n\t\t  \t    \t} else { \r\n\t\t  \t    \t\t//manage transition movements and controls\r\n\t\t  \t    \t\tme.isTransitioning = false;\r\n\t\t  \t\t\t\tme.manageMvtButtons();\r\n\t\t  \t    \t}\r\n\t\t  \t    });\r\n        \t\r\n\t  \t   this.chart.select('#after').transition()\r\n\t\t\t\t.duration(duration)\r\n\t\t\t\t.ease(d3.easeLinear)\r\n\t\t\t \t.attr('x1', (lengthHor * this.shiftCount / (this.numDataPoints - 1)) + offsetVisEnd)\r\n\t\t\t \t.attr('x2', (lengthHor * this.shiftCount / (this.numDataPoints - 1)) + offsetVisEnd)\r\n\t\t  \t    .attr('y1', this.tPadding + this.getSliderHeight())\r\n\t\t  \t    .attr('y2', this.tPadding);\r\n\t\t    \r\n\t  \t   this.chart.select('#boxBefore').transition()\r\n\t\t\t\t.duration(duration)\r\n\t\t\t\t.ease(d3.easeLinear)\r\n\t  \t    \t.attr('x', this.lPadding)\r\n\t  \t    \t.attr('y', this.tPadding)\r\n\t  \t    \t.attr('height', this.getSliderHeight())\r\n\t  \t    \t.attr('width', lengthHor * (this.shiftCount) / (this.numDataPoints - 1));\r\n\t    \r\n\t  \t    this.chart.select('#boxAfter').transition()\r\n\t\t\t\t.duration(duration)\r\n\t\t\t\t.ease(d3.easeLinear)\r\n\t  \t    \t.attr('x', (lengthHor * this.shiftCount / (this.numDataPoints - 1)) + offsetVisEnd)\r\n\t  \t    \t.attr('y', this.tPadding)\r\n\t  \t    \t.attr('height', this.getSliderHeight())\r\n\t  \t    \t.attr('width', lengthHor * (this.numDataPoints - this.numVisPoints - this.shiftCount) / (this.numDataPoints - 1));\r\n        }\r\n        \r\n        //animates the chart overlay\r\n\t\tthis.redrawChartOverlay();\r\n\t}\r\n\t\r\n\t,callTransition: function () {\r\n\t\tif(this.transitionCall === 'left') this.toggleLeftCheck();\r\n        if(this.transitionCall === 'right') this.toggleRightCheck();\r\n\t}\r\n\t\t\r\n\t//build the params bundle to pass to manageOverlaySticky\r\n\t,buildParamsBundle: function (info) { \r\n\t\t//console.log('fn: builParamsBundle')\r\n\t\tvar type = info.wordString,\r\n\t\t\tparams = {},\r\n\t\t\tparamsBundle = {},\r\n\t\t\tdocId;\r\n\r\n\t\tif ( this.parent.getApiParam('mode') === 'document') { // set position\r\n\t\t\tdocId = info.docId;\r\n\t\t\tvar totalTokens = this.parent.getCorpus().getDocument(docId).get('totalTokens') - 1;\r\n\t\t\tparams.tokenIdStart = parseInt(this.category * totalTokens / this.numDataPoints);\r\n\t\t\tparams.docIdType = docId + ':' + type;\r\n\t\t} else {\r\n\t\t}\r\n\t\t\t\t\r\n\t\tparamsBundle = { params: params, type: type };\r\n\t\t\r\n\t\treturn paramsBundle;\r\n\t}\r\n\t\r\n\t,manageOverlaySlippery: function (paramsBundle) {\r\n\r\n\t\t//console.log('fn: manageOverlaySlippery')\r\n\t\tvar string = paramsBundle.type\r\n\t\t\t,selector = this.removeFilteredCharacters(paramsBundle.type) \r\n\t\t\t,checkOn = 'on'\r\n\t\t\t,index;\r\n\t\t\r\n//\t\tthis.continueTransition = true;\r\n//\r\n//\t\tthis.transitionCall = 'draw';\r\n\t\t\r\n\t\t//check if the word that was selected was already sticky\r\n\t\t//if so checkOn = off and nothing happens\r\n\t\tvar len = this.overlayQueue.length;\r\n\t\twhile(--len >= 0){\r\n\t\t\tif(selector === this.overlayQueue[len].selector){ \r\n\t\t    \tcheckOn = 'off';\r\n\t\t    \tindex = len;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//make sure the selected word wasn't just a sticky word that is being deselected\r\n\t\t//thus happens to be scrolled over\r\n\t\tif(selector === this.lastSticky){\r\n\t\t\tcheckOn = 'off';\r\n\t\t\tthis.lastSticky = null;\r\n\t\t}\r\n\t\t\r\n\t\tif(checkOn === 'on') {\r\n\t\t\t//select a slippery word\r\n\t\t\tif(selector !== this.lastSlippery) {\r\n\t\t\t\tvar pathHolder = this.prepareFullPath(string);\r\n\t\t\t\tvar lineObject = {\r\n\t\t\t\t\tword: string, \r\n\t\t\t\t\tselector: selector, \r\n\t\t\t\t\tparams: paramsBundle, \r\n\t\t\t\t\tfullPath: pathHolder.path,\r\n\t\t\t\t\tpathMin: pathHolder.min,\r\n\t\t\t\t\tpathMax: pathHolder.max,\r\n\t\t\t\t\tcolour: 'red'\r\n\t\t\t\t};\t\r\n\t\t\t\tif(this.lastSlippery !== null) {\r\n\t\t\t\t\t//exceptional case where lastSlippery was not properly removed\r\n\t\t\t\t\tthis.chartOverlayOff(this.lastSlippery);\r\n\t\t\t\t\tif (this.isSliderVisible) {\r\n\t\t\t\t\t\tthis.sliderOverlayOff(this.lastSlippery);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.lastSlippery = null;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//select new slippery word\r\n\t\t\t\t\t//change its colour\r\n\t\t\t\t\tthis.chartOverlayOn(lineObject);\r\n\t\t\t\t\tif (this.isSliderVisible) {\r\n\t\t\t\t\t\tthis.sliderOverlayOn(lineObject);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.lastSlippery = selector;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//normal case select slippery word\r\n\t\t\t\t\t//change its colour\r\n\t\t\t\t\tthis.chartOverlayOn(lineObject);\r\n\t\t\t\t\tif (this.isSliderVisible) {\r\n\t\t\t\t\t\tthis.sliderOverlayOn(lineObject);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.lastSlippery = selector;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t//normal case deselect a slippery word\r\n\t\t\t\tthis.chartOverlayOff(selector);\r\n\t\t\t\tif (this.isSliderVisible) {\r\n\t\t\t\t\tthis.sliderOverlayOff(this.lastSlippery);\r\n\t\t\t\t}\r\n\t\t\t\tthis.lastSlippery = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//else do nothing \r\n\t\t\t//this means, don't select a word that is already sticky\r\n\t\t}\r\n\t}\r\n\r\n\t,manageOverlaySticky: function (paramsBundle) {\r\n//\t\tconsole.log('fn: manageOverlaySticky')\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tvar term = paramsBundle.type;\r\n\t\t\r\n\t\tthis.transitionCall = 'draw';\r\n\t\t\r\n\t\tif (!this.isTermSelected(term)) {\r\n\t\t\tthis.doTermSelect(term, true);\r\n\t\t} else {\r\n\t\t\tthis.doTermDeselect(term, true);\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetTermIndex: function(term) {\r\n\t\tvar index = -1;\r\n\t\tvar selector = selector = this.removeFilteredCharacters(term);\r\n\t\tvar len = this.overlayQueue.length;\r\n\t\twhile(--len >= 0){\r\n\t\t\tif(selector === this.overlayQueue[len].selector){ \r\n\t\t\t\tindex = len;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t},\r\n\t\r\n\tisTermSelected: function(term) {\r\n\t\treturn this.getTermIndex(term) !== -1;\r\n\t},\r\n\t\r\n\tdoTermSelect: function(term, legendAdd) {\r\n\t\tvar selector = selector = this.removeFilteredCharacters(term);\r\n\t\t//finish updating API array of selected words\r\n\t\tvar apiArray = this.parent.getApiParam('selectedWords');\r\n\t\tapiArray.push(term);\r\n\t\tthis.parent.setApiParams({selectedWords: apiArray});\r\n\t\t\r\n\t\t//draw the sticky path\r\n\t\tvar color = this.parent.getApplication().getColorForTerm(term, true);\r\n\t\t\r\n\t\tif (legendAdd === true) {\r\n\t\t\tvar legend = this.parent.query('[xtype=legend]')[0];\r\n\t\t\tlegend.getStore().add({name: term, mark: color});\r\n\t\t} else {\r\n\t\t\tvar legend = this.parent.query('[xtype=legend]')[0];\r\n\t\t\tvar record = legend.getStore().findRecord('name', term);\r\n\t\t\tif (record !== null) {\r\n\t\t\t\trecord.set('mark', color);\r\n\t\t\t\tlegend.refresh();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar pathHolder = this.prepareFullPath(term);\r\n\t\tvar lineObject = {\r\n\t\t\tword: term, \r\n\t\t\tselector: selector,\r\n\t\t\tparams: {params: {}, type: term},\r\n\t\t\tfullPath: pathHolder.path,\r\n\t\t\tpathMin: pathHolder.min,\r\n\t\t\tpathMax: pathHolder.max,\r\n\t\t\tcolour: color\r\n\t\t};\r\n\t\t\r\n\t\t//if this was selected a slippery before click event remove line from navigation bar\r\n\t\tif(selector === this.lastSlippery){\r\n\t\t\tif (this.isSliderVisible) {\r\n\t\t\t\tthis.sliderOverlayOff(selector);\r\n\t\t\t}\r\n\t\t\tthis.lastSlippery = null;\r\n\t\t}\r\n\t\t\r\n\t\t//make sure there is no path already present\r\n\t\tthis.chart.select('g[class=frequency-line-' + selector.replace(/'/g, \"\\\\'\") + ']').remove();\r\n\r\n\t\tthis.overlayQueue.push(lineObject);\r\n\t\tthis.chartOverlayOn(lineObject);\r\n\t\tif (this.isSliderVisible) {\r\n\t\t\tthis.sliderOverlayOn(lineObject);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdoTermDeselect: function(term, legendRemove) {\r\n\t\tvar selector = this.removeFilteredCharacters(term);\r\n\t\tvar index = this.getTermIndex(term);\r\n\t\t\r\n\t\tif (legendRemove === true) {\r\n\t\t\tvar legend = this.parent.query('[xtype=legend]')[0];\r\n\t\t\tvar index = legend.getStore().findExact('name', term);\r\n\t\t\tlegend.getStore().removeAt(index);\r\n\t\t}\r\n\t\t\r\n\t\tvar updateApi = this.parent.getApiParam('selectedWords');\r\n\t\tfor(var i = 0, len = updateApi.length; i < len; i++) {\r\n\t\t\tif(updateApi[i] === selector) {\r\n\t\t\t\tupdateApi.splice(i, 1);\r\n\t\t\t\tthis.parent.setApiParams({selectedWords: updateApi});\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.chartOverlayOff(selector);\r\n    \tthis.overlayQueue.splice(index, 1);\r\n    \tif (this.isSliderVisible) {\r\n    \t\tthis.sliderOverlayOff(selector);\r\n    \t}\r\n\t\tthis.lastSticky = selector;\r\n\t}\r\n\t\r\n\t,prepareFullPath: function (string) {\r\n\t\tvar linePosArray = [],\r\n\t\t\tpathMin = this.absMaxFreq,\r\n\t\t\tpathMax = this.absMinFreq;\r\n\t\t\r\n\t\tfor(var k = 0, len = this.allData.length; k < len; k++){\r\n\t\t\tfoundB = 0;\r\n\t\t\tfor(var i = 0, lenA = this.allData[k].allDataInternal.length; i < lenA; i++) {\r\n\t\t\t\tfor(var j = 0, lenB = this.allData[k].allDataInternal[i].frequencyArray.length; j < lenB; j++){\r\n\t\t\t\t\tif(this.allData[k].allDataInternal[i].frequencyArray[j].wordString === string){\r\n\t\t\t\t\t\tvar yVal1 = this.allData[k].allDataInternal[i].frequencyArray[j].freq;\r\n\t\t\t\t\t\tlinePosArray.push({x: k, y: yVal1});\r\n\t\t\t\t\t\tif(yVal1 < pathMin) pathMin = yVal1;\r\n\t\t\t\t\t\tif(yVal1 > pathMax) pathMax = yVal1;\r\n\t\t\t\t\t\tfoundB = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(foundB === 0){\r\n\t\t\t\tvar yVal2 = this.minFreq;\r\n\t\t\t\tlinePosArray.push({x: k, y: yVal2});\r\n\t\t\t\tif(yVal2 < pathMin) pathMin = yVal2;\r\n\t\t\t\tif(yVal2 > pathMax) pathMax = yVal2;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {path: linePosArray, min: pathMin, max: pathMax};\r\n\t}\r\n\t\r\n\t,updateFullPath: function () {\r\n//\t\tconsole.log(\"fn: updateFullPath\")\r\n\t\tvar lenA = this.overlayQueue.length;\r\n\t\twhile(lenA-- > 0){\r\n\t\t\tvar pathHolder = this.prepareFullPath(this.overlayQueue[lenA].word);\r\n\t\t\tthis.overlayQueue[lenA].fullPath = pathHolder.path;\r\n\t\t\tthis.overlayQueue[lenA].pathMin = pathHolder.min;\r\n\t\t\tthis.overlayQueue[lenA].pathMax = pathHolder.max;\r\n\t\t}\r\n//\t\tconsole.log(this.overlayQueue)\r\n\t}\r\n\t\r\n\t,buildSliderPath: function (pathArray) {\r\n\t\tvar me = this;\r\n\t\tvar line = d3.line()\r\n\t\t    .x(function(d) { return me.xSliderScale(d.x); })\r\n\t\t    .y(function(d) { return me.ySliderScale(d.y); })\r\n\t\t    .curve(d3.curveNatural);\r\n\t\treturn line(pathArray);\r\n\t}\r\n\t\r\n\t,sliderOverlayOn: function (objectToSelect) {\r\n\t\t//console.log('fn: sliderOverlayOn')\t\t\r\n\t\tthis.transitionSliderOverlay(objectToSelect);\r\n\t\t\r\n\t\t//draw path\r\n\t\tthis.chart.append('g')\r\n\t\t\t.attr('class', 'slider')\r\n\t\t\t.attr('id', 'slider-line-' + objectToSelect.word)\r\n\t\t\t.append('path')\r\n\t\t\t.attr(\"d\", this.buildSliderPath(objectToSelect.fullPath))\r\n\t\t\t.style('stroke', objectToSelect.colour)\r\n\t\t\t.style('stroke-width', 2)\r\n\t\t\t.style('fill', 'none');\r\n\t\t\t\r\n\t\t//redraw slider\r\n\t\tthis.redrawSlider();\r\n\t}\r\n\t\r\n\t,sliderOverlayOff: function (selector) {\r\n\t    this.chart.selectAll('g[id=slider-line-' + selector.replace(/'/g, \"\\\\'\") + ']')\r\n\t    \t.remove();\r\n\t    \r\n\t    //update slider overlay axis\r\n\t\tthis.transitionSliderOverlay();\r\n\t}\r\n\t\r\n\t,redrawSliderOverlay: function() {\t\r\n\t\t//console.log('redrawSliderOverlay')\r\n\t\tfor(var l = 0; l < this.overlayQueue.length; l++){\r\n\t\t\tthis.sliderOverlayOff(this.overlayQueue[l].selector);\r\n\t\t\tthis.sliderOverlayOn(this.overlayQueue[l]);\r\n\t\t}\r\n\t}\r\n\t\r\n\t,transitionSliderOverlay: function(objectToSelect) {\r\n\t\t//console.log('transitionSliderOverlay')\r\n\t\tobjectToSelect = objectToSelect || 0;\r\n\t\t\r\n\t\t//update slider overlay axis\r\n\t\tthis.updateYSliderScale(objectToSelect);\r\n\t\t\r\n\t\t//transition all other paths\r\n\t\tvar lenA = this.overlayQueue.length;\r\n\t\twhile(lenA-- > 0){\r\n\t\t\tthis.chart.selectAll('g#slider-line-' + this.overlayQueue[lenA].selector.replace(/'/g, \"\\\\'\"))\r\n\t\t\t\t.select('path')\r\n\t\t\t\t.transition().duration(300)\r\n\t\t\t\t.ease(d3.easeLinear)\r\n\t\t\t\t.attr(\"d\", this.buildSliderPath(this.overlayQueue[lenA].fullPath));\r\n\t\t}\r\n\t}\r\n\t\r\n\t,preparePath: function (string) {\r\n\t\t//console.log('fn: prepareData')\r\n\t\t\r\n\t\tvar linePosArray = [];\r\n\t\t\r\n\t\t//peek at the next frequency point and the preceding one to end the line on the edge of the graph\r\n\t\tvar foundA\r\n\t\t\t,foundB\r\n\t\t\t,foundC;\r\n\t\t\r\n\t\t//add two positions offscreen to the left for smooth transitions \r\n\t\tfor(var k = 0; k < 3 && this.shiftCount - k > 0; k++) {\r\n\t\t\tfoundA = 0;\r\n\t\t\tfor(var i = 0; i < this.allData[this.shiftCount - (1 + k)].allDataInternal.length; i++) {\r\n\t\t\t\tfor(var j = 0; j < this.allData[this.shiftCount - (1 + k)].allDataInternal[i].frequencyArray.length; j++){\r\n\t\t\t\t\tif(this.allData[this.shiftCount - (1 + k)].allDataInternal[i].frequencyArray[j].wordString === string){\r\n\t\t\t\t\t\tvar yVal3 = this.yScale(this.allData[this.shiftCount - (1 + k)].allDataInternal[i].frequencyArray[j].freq);\r\n\t\t\t\t\t\tlinePosArray.unshift({x: this.shiftCount - (1 + k), y: yVal3});\r\n\t\t\t\t\t\tfoundA = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(foundA === 0){\r\n\t\t\t\tvar yVal4 = this.yScale(this.minFreq);\r\n\t\t\t\tlinePosArray.unshift({x: this.shiftCount - (1 + k), y: yVal4});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//fill in the middle values\r\n\t\tfor(var k = this.shiftCount, len = this.numVisPoints + this.shiftCount; k < len; k++){\r\n\t\t\tfoundB = 0;\r\n\t\t\tfor(var i = 0, lenA = this.allData[k].allDataInternal.length; i < lenA; i++) {\r\n\t\t\t\tfor(var j = 0, lenB = this.allData[k].allDataInternal[i].frequencyArray.length; j < lenB; j++){\r\n\t\t\t\t\tif(this.allData[k].allDataInternal[i].frequencyArray[j].wordString === string){\r\n\t\t\t\t\t\tvar yVal1 = this.yScale(this.allData[k].allDataInternal[i].frequencyArray[j].freq);\r\n\t\t\t\t\t\tlinePosArray.push({x: k, y: yVal1});\r\n\t\t\t\t\t\tfoundB = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(foundB === 0){\r\n\t\t\t\tvar yVal2 = this.yScale(this.minFreq);\r\n\t\t\t\tlinePosArray.push({x: k, y: yVal2});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//add two positions offscreen to the right for smooth transitions \r\n\t\tfor(var k = 0; k < 3 && this.numVisPoints + this.shiftCount + k < this.numDataPoints; k++){\r\n\t\t\tfoundC = 0;\r\n\t\t\tfor(var i = 0; i < this.allData[this.numVisPoints + this.shiftCount + k].allDataInternal.length; i++) {\r\n\t\t\t\tfor(var j = 0; j < this.allData[this.numVisPoints + this.shiftCount + k].allDataInternal[i].frequencyArray.length; j++){\r\n\t\t\t\t\tif(this.allData[this.numVisPoints + this.shiftCount + k].allDataInternal[i].frequencyArray[j].wordString === string){\r\n\t\t\t\t\t\tvar yVal1 = this.yScale(this.allData[this.numVisPoints + this.shiftCount + k].allDataInternal[i].frequencyArray[j].freq);\r\n\t\t\t\t\t\tlinePosArray.push({x: this.numVisPoints + this.shiftCount + k, y: yVal1});\r\n\t\t\t\t\t\tfoundC = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(foundC === 0){\r\n\t\t\t\tvar yVal2 = this.yScale(this.minFreq);\r\n\t\t\t\tlinePosArray.push({x: this.numVisPoints + this.shiftCount + k, y: yVal2});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn linePosArray;\r\n\t}\r\n\t\r\n\t//draws the line graph overlay of the frequency info\r\n\t,chartOverlayOn: function(objectToSelect) {\r\n//\t\tconsole.log('fn: chartOverlayOn')\r\n\t\t\r\n\t\tvar me = this;\r\n\t\t\t\t\t\r\n\t\t//change selected word colour\r\n\t\tthis.chart.selectAll('g[class=section]')\r\n\t\t\t.selectAll('g[class=frequencies]')\r\n\t\t\t.selectAll('text[class=' + objectToSelect.selector.replace(/'/g,\"\\\\'\") + ']')\r\n\t\t\t.style('fill', objectToSelect.colour)\r\n\t\t\t.style('fill-opacity', 1);\r\n\t    \t\r\n\t    //if transitionCall === 'draw': draw the function for the first time\t\t\r\n\t\t//if not: shift displayData to a different subset of allData\r\n\t\t//then display the newly shifted data\r\n\t\t\r\n\t\tvar linePosArray = this.preparePath(objectToSelect.word);\r\n\t\t\r\n\t\tvar pos;\r\n\t\t\r\n\t\t//draw path\r\n\t\tvar line = d3.line()\r\n\t\t    .x(function(d) { \r\n\t\t    \tpos = d.x;\r\n\t\t    \treturn me.xScale(d.x + me.callOffset()); })\r\n\t\t    .y(function(d) { return d.y; })\r\n\t\t    .curve(d3.curveNatural);\r\n\t\t\r\n\t\tvar path = this.chart.select('.overlay')\r\n\t\t\t.append('g')\r\n\t\t\t.attr('class', 'frequency-line-' + objectToSelect.selector)\r\n\t\t\t.append('path')\r\n\t\t\t.attr(\"d\", line(linePosArray))\r\n\t\t\t.style('stroke', objectToSelect.colour)\r\n\t\t\t.style('stroke-width', 2)\r\n\t\t\t.style('fill', 'none');\r\n\t\t\t\t\t\r\n\t\tvar posDif = (this.xScale(pos) - this.xScale(pos + this.callOffset()));\r\n\t\t\r\n\t\tif(this.transitionCall === 'left' || this.transitionCall ==='right') {\r\n\t\t\tpath.transition()\r\n\t\t\t\t.duration(me.getDuration())\r\n\t\t\t\t.ease(d3.easeLinear)\r\n\t\t\t    .attr(\"transform\", \"translate(\" + posDif + \")\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t,chartOverlayOff: function(selector){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tthis.chart.selectAll('text.' + selector.replace(/'/g, \"\\\\'\"))\r\n\t    \t.style('fill', 'black')\r\n\t    \t.style('fill-opacity', function(d) { return me.opacityScale(d.freq); });\r\n\t    \r\n\t    this.chart.select('g.frequency-line-' + selector.replace(/'/g, \"\\\\'\"))\r\n\t    \t.remove();\r\n\t}\r\n\t\r\n\t//reselect all the sticky words\r\n\t//a screen movement has changed the words positions\r\n\t,redrawChartOverlay: function () {\r\n\t\t//console.log('fn: redrawChartOverlay')\r\n\t\tfor(var i = 0; i < this.overlayQueue.length; i++){\r\n\t\t\tthis.chartOverlayOff(this.overlayQueue[i].selector);\r\n\t\t\tthis.chartOverlayOn(this.overlayQueue[i]);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//\r\n\t//SCALE FUNCTIONS\r\n\t//\r\n\t\r\n\t//all these scales need to be updated if this.absMaxFreq or this.valFraction changes\r\n\t,manageAllYScales: function() {\r\n\t\tthis.manageFontScale();\r\n\t\tthis.manageOpacityScale();\r\n\t\tthis.manageYScale();\r\n\t\tthis.manageYSliderScale();\r\n\t}\r\n\t\r\n\t,manageFontScale: function() {\r\n\t\t//console.log('fn: fontScale')\r\n\t\t this.fontScale.domain([this.minFreq, this.absMaxFreq * this.valFraction])\r\n\t    \t.range([10, this.maxFont]);\r\n\t}\r\n\t\r\n\t/*,maxFontScale : function (value) {\r\n\t\tvar scale = d3.scaleLinear()\r\n\t\t\t.domain([600,2000])\r\n\t\t\t.range([15,60]);\r\n\t\treturn scale(value);\r\n\t}*/\r\n\t\r\n\t,manageOpacityScale: function() {\r\n\t\tthis.opacityScale.domain([0, this.absMaxFreq * this.valFraction])\r\n    \t\t.range([0.4, 0.8]);\r\n\t}\r\n\t\r\n\t,manageYScale: function () {\r\n\t\tif(this.parent.getApiParam('yAxisScale') == 'linear') this.yScale = d3.scaleLinear();\r\n\t\tif(this.parent.getApiParam('yAxisScale') == 'log') this.yScale = d3.scaleLog();\r\n\t\t\r\n\t\tthis.yScale.domain([this.minFreq, this.absMaxFreq * this.valFraction * 1.25])\r\n\t\t\t\t.rangeRound([this.container.getHeight() - this.bPadding, (this.tPadding) + this.getSliderHeight()]);\r\n\t}\r\n\t\r\n\t,manageYSliderScale: function() {\r\n\t\tvar top = this.tPadding\r\n\t\t\t,bottom = this.tPadding + this.getSliderHeight();\r\n\t\t\r\n\t\tif(this.parent.getApiParam('yAxisScale') == 'linear') this.ySliderScale = d3.scaleLinear();\r\n\t\tif(this.parent.getApiParam('yAxisScale') == 'log') this.ySliderScale = d3.scaleLog();\r\n\t\t\r\n\t\tthis.ySliderScale.domain([this.minFreq, this.absMaxFreq])\r\n\t\t\t\t.rangeRound([bottom, top]);\r\n\t}\r\n\t\r\n\t,updateYSliderScale: function(updateWithObject) {\r\n\t\tupdateWithObject = updateWithObject || 0;\r\n\t\tvar selectedMin = this.minFreq, //setting this to this.absMinFreq effectively deactivates it, to make it work use this.absMaxFreq\r\n\t\t\tselectedMax = 0;\r\n\t    \t\r\n\t    //go through overlayQueue check for min / max\r\n\t\tvar len = this.overlayQueue.length;\r\n\t\twhile(len-- > 0){\r\n\t\t\tif(this.overlayQueue[len].pathMin < selectedMin) selectedMin = this.overlayQueue[len].pathMin;\r\n\t\t\tif(this.overlayQueue[len].pathMax > selectedMax) selectedMax = this.overlayQueue[len].pathMax;\r\n\t\t}\r\n\t\tif(updateWithObject != 0 && updateWithObject.pathMin < selectedMin) selectedMin = updateWithObject.pathMin;\r\n\t\tif(updateWithObject != 0 && updateWithObject.pathMax > selectedMax) selectedMax = updateWithObject.pathMax;\r\n\t\t\r\n\t\tthis.ySliderScale.domain([selectedMin, selectedMax]);\r\n\t}\r\n\t\r\n\t,manageAllXScales: function() {\r\n\t\tthis.manageXScale();\r\n\t\tthis.manageXSliderScale();\r\n\t}\r\n\t\r\n\t,manageXScale: function() {\r\n\t\tthis.xScale.domain([this.shiftCount - 0.5, this.numVisPoints + this.shiftCount - 0.5])\r\n\t    \t.range([this.lPadding, this.container.getWidth() - this.rPadding]);\r\n\t}\r\n\t\r\n\t,manageXSliderScale: function() {\r\n\t\tthis.xSliderScale.domain([0, this.numDataPoints - 1])\r\n\t    \t.range([this.lPadding, this.container.getWidth() - this.rPadding]);\r\n\t}\r\n\r\n\t,getSliderHeight: function() {\r\n\t\treturn this.isSliderVisible ? this.sliderHeight+this.sliderBPadding : 0;\r\n\t}\r\n\t\r\n\t,setSliderHeight: function() {\r\n\t\tthis.sliderHeight = Math.max(10, this.container.getHeight()*this.sliderHeightRatio);\r\n\t}\r\n\t\r\n\t,hideSlider: function() {\r\n\t\tthis.isSliderVisible = false;\r\n\t\tthis.removeSlider(true);\r\n\t\tthis.doResize();\r\n\t}\r\n\t\r\n\t,showSlider: function() {\r\n\t\tthis.isSliderVisible = true;\r\n\t\tthis.doResize();\r\n\t}\r\n\t\r\n\t\r\n\t//\r\n\t//MISC. FUNCTIONS\r\n\t//\r\n\r\n\t\r\n\t,setTitleLength: function () {\r\n\t\t//console.log('fn:setTitleLength')\r\n\t\tvar me = this, \r\n\t\t\titem;\r\n\t\tthis.titlesArray = [];\r\n\t\t\r\n\t\tvar scale = d3.scaleLinear()\r\n\t\t\t.domain([350,1250])\r\n\t\t\t.range([10,40]);\r\n\t\t\r\n\t\tvar corpus = this.parent.getCorpus();\r\n\t\tfor (var i = 0, len = corpus.getDocumentsCount(); i < len; i++) {\r\n\t\t\tvar item = corpus.getDocument(i);\r\n\t\t\tvar shortTitle = item.getShortTitle();\t\t\t\r\n\t\t\tif(shortTitle.length <= scale(me.container.getWidth())) {\r\n\t\t\t\tme.titlesArray.push(shortTitle); \r\n\t\t\t} else {\r\n\t\t\t\tvar shorterTitle = shortTitle.substring(0,scale(me.container.getWidth()) - 3);\r\n\t\t\t\tme.titlesArray.push(shorterTitle + '...'); \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t,callOffset: function () {\r\n//\t\tconsole.log('fn: callOffset')\r\n\t\tvar callOffset;\r\n\t\tif(this.transitionCall === 'draw' || this.transitionCall === 'redraw') { \r\n\t\t\tcallOffset = 0; \r\n\t\t}\r\n\t\tif(this.transitionCall === 'left') { \r\n\t\t\tcallOffset = -1;\r\n\t\t}\r\n\t\tif(this.transitionCall === 'right') { \r\n\t\t\tcallOffset = 1;\r\n\t\t}\r\n\t\treturn callOffset;\r\n\t}\r\n\t\r\n\t,removeFilteredCharacters: function (string) {\r\n\t\t//console.log('fn: removeFilteredCharacters')\r\n\t\treturn string || '';\r\n\t\t\r\n\t\tif (string !== undefined) {\r\n\t\t\treturn string.replace(\"'\",\"apostrophe-\")\r\n\t\t\t\t.replace(\"#\",\"pound-\")\r\n\t\t\t\t.replace(\"&\",\"ampersand-\")\r\n\t\t\t\t.replace(\"@\",\"atsign-\")\r\n\t\t\t\t.replace(\"!\",\"exclamation-\")\r\n\t\t\t\t.replace(\"0\",\"num-o\")\r\n\t\t\t\t.replace(\"1\",\"num-a\")\r\n\t\t\t\t.replace(\"2\",\"num-b\")\r\n\t\t\t\t.replace(\"3\",\"num-c\")\r\n\t\t\t\t.replace(\"4\",\"num-d\")\r\n\t\t\t\t.replace(\"5\",\"num-e\")\t\t\r\n\t\t\t\t.replace(\"6\",\"num-f\")\r\n\t\t\t\t.replace(\"7\",\"num-g\")\r\n\t\t\t\t.replace(\"8\",\"num-h\")\r\n\t\t\t\t.replace(\"9\",\"num-i\")\r\n\t\t\t\t.replace(/[^a-zA-Z]+/g,'-'); //then anything else...\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetDuration: function() {\r\n\t\treturn this.numDataPoints*(100-this.parent.getSpeed())\r\n\t}\r\n\t\r\n};","Ext.define('Voyant.util.Assignable', {\n    transferable: ['assign'],\n    /**\n     * This is a convenience method for assigning a variable name to this promised object once it's ready.\n     * \n     * This method is chainable, so you can call other promise-aware corpus functions.\n     * \n     * \t\tnew Corpus(\"Hello World!\").assign(\"helloworld\").show();\n     * \n     * This is somewhat equivalent to the nastier:\n     * \n     *  \tvar helloworld;\n     *  \tnew Corpus(\"Hello World!\").then(function(corpus) {\n     *  \t\thelloworld = corpus;\n     *  \t\thelloworld.show();\n     *  \t})\n     *  \n     * Note that when using `assign` in spyral, any references to the name variable should occur in separate, subsequent code blocks. \n     * \n     * \t\tnew Corpus(\"Hello Voyant!\").assign(\"corpus\");\n     * \n     * Then use the named variable in a subsequent code block:\n     * \n     * \t  corpus.show();\n     * \n     *  @param {String} name The variable name to assign to this corpus.\n     */\n    assign: function(name) {\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t\t\tif (Ext.isString(name)) {\n\t\t\t\twindow[name] = this;\n\t\t\t} else {\n\t\t\t\tVoyant.application.showError(\"The 'assign' method expects a string argument. (\"+typeof name+\") \"+name)\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t}\n})","Ext.define('Voyant.util.Api', {\n\tconstructor: function(config) {\n\t\tvar apis = [];\n\t\tif (!this.isApplication) {\n\t\t\tvar app = this.getApplication ? this.getApplication() : Voyant.application;\n\t\t\t\n\t\t\t// try to load from first-level mixins\n\t\t\tif (this.mixins) {\n\t\t\t\tfor (key in this.mixins) {\n\t\t\t\t\tvar clz = Ext.ClassManager.get(key);\n\t\t\t\t\tif (clz && clz.api) {\n\t\t\t\t\t\tapis.splice(0, 0, clz.api)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.addParentApi(apis, Ext.ClassManager.getClass(app)); // gather class params\n\t\t\tif (app.getApiParams) {\n\t\t\t\tapis.push(app.getApiParams()); // now add instance params, last\n\t\t\t}\n\t\t}\n\n\t\tthis.addParentApi(apis, Ext.ClassManager.getClass(this)); // add params from this class and parents\n\n\t\tthis.api = {};\n\t\tapis.forEach(function(a) {\n\t\t\tfor (key in a) {\n\t\t\t\tthis.api[key] = {initial: a[key], value: a[key]} // overwrite previous entries\n\t\t\t}\n\t\t}, this)\n\t\t\n    \tvar queryParams = Ext.Object.fromQueryString(document.location.search);\n\t\tvar xtype = this.getXType ? this.getXType() : undefined;\n    \tfor (var key in queryParams) {\n    \t\tif (this.api[key]) {\n    \t\t\tthis.setApiParam(key, queryParams[key]);\n    \t\t} else if (xtype && key.indexOf(\".\")>0) {\n    \t\t\tvar k = key.substring(key.indexOf(\".\")+1);\n    \t\t\tif (k && k in this.api) {\n    \t\t\t\tthis.setApiParam(k, queryParams[key])\n    \t\t\t}\n    \t\t}\n    \t}\n    \t\n\t\tif (config && Ext.isObject(config.api)) {\n\t    \tfor (var key in config.api) {\n\t    \t\tif (this.api[key]) {\n\t    \t\t\tthis.setApiParam(key, config.api[key]);\n\t    \t\t}\n\t    \t}\n\t    \tdelete config.api; // remove so it doesn't overwrite default api\n\t\t}\n\t\t\n    \t// handle \"type\"  parameter specially for backwards compatibility\n    \tif (queryParams[\"type\"] && (\"query\" in this.api) && !this.getApiParam('query')) {\n    \t\tthis.setApiParam(\"query\", queryParams['type']);\n    \t}\n    \t\n\t},\n\taddParentApi: function(apis, clz) {\n\t\tif (clz.api) {apis.splice(0,0, clz.api)} // add to front\n\t\tif (clz.superclass) {this.addParentApi(apis, clz.superclass.self)}\n\t},\n\tgetApiParam: function(key, defaultValue) {\n\t\treturn this.api[key]!==undefined ? this.api[key].value : defaultValue\n\t},\n\tgetApiParams: function(keys, keepEmpty) {\n\t\tkeys = keys || Object.keys(this.api);\n\t\tvar api = {};\n\t\tif (Ext.isString(keys)) {keys=[keys]}\n\t\tkeys.forEach(function(key) {\n\t\t\tvar val = this.getApiParam(key);\n\t\t\tif (keepEmpty || !Ext.isEmpty(val)) {api[key]=val;}\n\n\t\t}, this);\n\t\treturn api;\n\t},\n\t\n\tgetModifiedApiParams: function() {\n\t\tvar api = {};\n\t\tfor (var key in this.api) {\n\t\t\tif (this.api[key].initial!=this.api[key].value) {\n\t\t\t\tapi[key]=this.api[key].value\n\t\t\t}\n\t\t}\n\t\treturn api\n\t},\n\t\n\tsetApiParams: function(config) {\n\t\tfor (var key in config) {this.setApiParam(key, config[key])}\n\t},\n\t\n\tsetApiParam: function(key, value) {\n\t\tif (this.api && this.api[key]) {this.api[key].value=value;}\n\t}\n});","Ext.define('Voyant.util.Localization', {\n\tstatics: {\n\t\tDEFAULT_LANGUAGE: 'en',\n\t\tLANGUAGE: 'en',\n\t\ti18n: {\n\t\t}\n\t\t\n\t},\n\t\n    languageStore: Ext.create('Ext.data.ArrayStore', {\n        fields: ['code', 'language'],\n        data : [\n                ['en', 'English']\n        ]\n    }),\n\t\n\tgetLanguage: function(code) {\n\t\tvar record = this.languageStore.findRecord(code.length==2 ? 'code' : 'language', code);\n\t\tif (record) {return record.get(code.length==2 ? 'language' : 'code');}\n\t},\n\t\n\tlocalize: function(key, config) {\n\t\treturn this._localizeObject(this, key, config);\n\t},\n\t\n\t_localizeObject: function(object, key, config) {\n\n\t\tvar val = this._localizeClass(Ext.ClassManager.getClass(object), key, config);\n\t\tif (val) {return val;}\n\t\tif (object.mixins) { // look at mixins first\n\t\t\tfor (mixin in object.mixins) {\n\t\t\t\tvar val = this._localizeClass(Ext.ClassManager.getClass(object.mixins[mixin]), key, config);\n\t\t\t\tif (val) {return val;}\n\t\t\t}\n\t\t}\n\t\tif (object.superclass) { // then superclasses\n\t\t\tval =  this._localizeObject(object.superclass, key, config);\n\t\t\tif (val) {return val;}\n\t\t}\n\t\treturn config && config['default']!=undefined ? config['default'] : '['+key+']';\n\t},\n\t\n\t_localizeClass: function(clazz, key, config) {\n\t\tif (clazz && clazz.i18n && clazz.i18n[key]) {\n\t\t\tvar use = false;\n\t\t\tif (clazz.i18n[key]) {\n\t\t\t\tuse = clazz.i18n[key];\n\t\t\t}\n\t\t\t/*\n\t\t\tif (config && config.lang && clazz.i18n[key][config.lang]) {\n\t\t\t\tuse = clazz.i18n[key][config.lang];\n\t\t\t}\n\t\t\telse if (clazz.i18n[key][Voyant.util.Localization.LANGUAGE]) {\n\t\t\t\tuse = clazz.i18n[key][Voyant.util.Localization.LANGUAGE];\n\t\t\t}\n\t\t\telse if (clazz.i18n[key][Voyant.util.Localization.DEFAULT_LANGUAGE]) {\n\t\t\t\tuse = clazz.i18n[key][Voyant.util.Localization.DEFAULT_LANGUAGE];\n\t\t\t}\n\t\t\t*/\n\t\t\tif (use) {\n\t\t\t\tif (use.isTemplate) { // template\n\t\t\t\t\treturn use.apply(config);\n\t\t\t\t}\n\t\t\t\treturn use; // string\n\t\t\t}\n\t\t\treturn config && config['default']!=undefined ? config['default'] : '['+key+']'; // no language key found, so just return the key\n\t\t}\n\t\treturn false\n\t},\n\t\n\tgetLanguageToolMenu: function() {\n\t\tvar me = this;\n\t\treturn {\n\t\t\ttype: 'language',\n\t\t\ttooltip: this.localize(\"languageTitle\"),\n\t\t\txtype: 'toolmenu',\n\t        glyph: 'xf1ab@FontAwesome',\n\t\t\thandler: me.showLanguageOptions,\n\t\t\tscope: me\n\t\t} \n\t},\n\n\t\n\tshowLanguageOptions: function() {\n\t\tvar me = this;\n\t\tvar langs = [\"ar\",\"bs\",\"cz\",\"de\",\"en\",\"es\",\"fr\",\"he\",\"hr\",\"it\",\"ja\",\"pt\",\"sr\"].map(function(lang) {\n\t\t\treturn {text: this.localize(lang), value: lang}\n\t\t}, this);\n\t\tlangs.sort(function(a,b) {\n\t\t\treturn a.text.localeCompare(b.text);\n\t\t});\n\t\tlangs.splice(0,0,{text: this.localize('autoRecommended'), value: ''})\n\t\t\n\t\tnew Ext.window.Window({\n\t\t\ttitle: this.localize(\"languageTitle\"),\n\t\t\tmodal: true,\n\t\t\titems: {\n\t\t\t\txtype: 'form',\n\t\t\t\titems: [{\n\t\t\t\t\txtype: 'combo',\n\t\t\t\t\tname: 'lang',\n\t\t\t\t\tvalue: this.getApiParam(\"lang\") || \"\",\n\t    \t        queryMode: 'local',\n\t    \t        editable: false,\n\t    \t        fieldLabel: this.localize('chooseLanguage'),\n\t    \t        width: 450,\n\t    \t        labelAlign: 'right',\n\t    \t        labelWidth: 150,\n\t    \t        displayField: 'text',\n\t    \t        valueField: 'value',\n\t\t\t\t\tstore: {\n\t\t\t\t\t\tfields: ['text', 'value'],\n\t\t\t\t\t\tdata: langs\n\t\t\t\t\t}\n\t\t\t\t}/*,{\n\t\t\t\t\txtype: 'combo',\n\t\t\t\t\tname: 'rtl',\n\t\t\t\t\tvalue: '',\n\t    \t        queryMode: 'local',\n\t    \t        editable: false,\n\t    \t        fieldLabel: this.localize('rtlLabel'),\n\t    \t        labelAlign: 'right',\n\t    \t        displayField: 'text',\n\t    \t        valueField: 'value',\n\t\t\t\t\tstore: {\n\t\t\t\t\t\tfields: ['text', 'value'],\n\t\t\t\t\t\tdata: [{\n\t\t\t\t\t\t\ttext: this.localize('auto'),\n\t\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\ttext: this.localize('yes'),\n\t\t\t\t\t\t\tvalue: 'true'\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\ttext: this.localize('no'),\n\t\t\t\t\t\t\tvalue: 'false'\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}*/],\n\t\t\t\tbuttons: [{\n\t            \ttext: this.localize(\"cancelTitle\"),\n\t\t            ui: 'default-toolbar',\n\t                glyph: 'xf00d@FontAwesome',\n\t        \t\tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t}\n\t\t\t\t},{\n\t            \ttext: this.localize(\"confirmTitle\"),\n\t\t\t\t\tglyph: 'xf00c@FontAwesome',\n\t            \tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tvar form = btn.up('form');\n\t        \t\t\tif (form.isDirty()) {\n\t        \t\t\t\tvar app = me.getApplication();\n\t        \t\t\t\tvar params = app.getModifiedApiParams();\n\t        \t\t\t\tif (app.getCorpus()) {\n\t        \t\t\t\t\tparams.corpus = app.getCorpus().getAliasOrId();\n\t        \t\t\t\t} else {\n\t        \t\t\t\t\tdelete params.panels; // we probably don't need this\n\t        \t\t\t\t}\n\t        \t\t\t\tdelete params.lang;\n//\t        \t\t\t\tdelete params.rtl;\n\t        \t\t\t\tvar values = form.getValues();\n\t        \t\t\t\tif (values.lang) {params.lang = values.lang;}\n//\t        \t\t\t\tif (values.rtl) {params.rtl = values.lang;}\n\t        \t\t\t\tlocation.assign(\"./?\"+Ext.Object.toQueryString(params))\n\t        \t\t\t}\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t},\n\t        \t\tscope: me\n\t            }]\n\t\t\t},\n\t\t\tbodyPadding: 5\n\t\t}).show()\n\t}\n\t\n});\n","/**\n * A utility for storing palettes and associations between terms and colors.\n */\nExt.define('Voyant.util.Colors', {\n\n\tconfig: {\n\t\t/**\n\t\t * Palettes for use with terms and documents.\n\t\t * @private\n\t\t */\n\t\tpalettes: undefined,\n\t\t/**\n\t\t * For tracking associations between a term and a color (in rgb format), to ensure consistent coloring across tools.\n\t\t * @private\n\t\t */\n\t\tcolorTermAssociations: undefined\n\t},\n\n\tconstructor: function(config) {\n\t\tthis.setPalettes({\n\t\t\t'default': [[0, 0, 255], [51, 197, 51], [255, 0, 255], [121, 51, 255], [28, 255, 255], [255, 174, 0], [30, 177, 255], [182, 242, 58], [255, 0, 164], [51, 102, 153], [34, 111, 52], [155, 20, 104], [109, 43, 157], [128, 130, 33], [111, 76, 10], [119, 115, 165], [61, 177, 169], [202, 135, 115], [194, 169, 204], [181, 212, 228], [182, 197, 174], [255, 197, 197], [228, 200, 124], [197, 179, 159]]\n\t\t});\n\t\tthis.resetColorTermAssociations();\n\n\t\t// palettes\n\t\tif (d3 !== undefined) {\n\t\t\tvar cat10 = d3.scaleOrdinal(d3.schemeCategory10).range().map(function(val) { return this.hexToRgb(val); }, this);\n\t\t\tvar cat20a = d3.scaleOrdinal(d3.schemeCategory20).range().map(function(val) { return this.hexToRgb(val); }, this);\n\t\t\tvar cat20b = d3.scaleOrdinal(d3.schemeCategory20b).range().map(function(val) { return this.hexToRgb(val); }, this);\n\t\t\tvar cat20c = d3.scaleOrdinal(d3.schemeCategory20c).range().map(function(val) { return this.hexToRgb(val); }, this);\n\t\t\tthis.addColorPalette('d3_cat10', cat10);\n\t\t\tthis.addColorPalette('d3_cat20a', cat20a);\n\t\t\tthis.addColorPalette('d3_cat20b', cat20b);\n\t\t\tthis.addColorPalette('d3_cat20c', cat20c);\n\t\t}\n        \n        var extjs = Ext.create('Ext.chart.theme.Base').getColors().map(function(val) { return this.hexToRgb(val); }, this);\n        this.addColorPalette('extjs', extjs);\n\t},\n\n\tresetColorTermAssociations: function() {\n\t\tthis.setColorTermAssociations(new Ext.util.MixedCollection());\n\t},\n\n\trgbToHex: function(a) {\n\t\treturn \"#\" + ((1 << 24) + (a[0] << 16) + (a[1] << 8) + a[2]).toString(16).slice(1);\n\t},\n\t\n\thexToRgb: function(hex) {\n\t    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n\t    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\t    hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n\t        return r + r + g + g + b + b;\n\t    });\n\n\t    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t    return result ? [\n\t        parseInt(result[1], 16),\n\t        parseInt(result[2], 16),\n\t        parseInt(result[3], 16)\n\t    ] : null;\n\t},\n\n\t/**\n\t * Adds a new palette to the list.\n\t * @param key {String} The palette name.\n\t * @param values {Array} The array of colors. Format: [[r,g,b],[r,g,b],....]\n\t */\n\taddColorPalette: function(key, values) {\n\t\tthis.getPalettes()[key] = values;\n\t},\n\n\t/**\n\t * Gets the whole color palette.\n\t * @param {String} [key] The key of the palette to return.\n\t * @param {Boolean} [returnHex] True to return a hexadecimal representation of each color (optional, defaults to rgb values).\n\t * @return {Array} The color palette.\n\t * @private\n\t */\n\tgetColorPalette: function(key, returnHex) {\n\t\tvar paletteKey = key || 'default';\n\t\tvar palette = this.getPalettes()[paletteKey];\n\t\tif (palette === undefined) {\n\t\t\tpalette = [];\n\t\t}\n\t\tif (returnHex) {\n\t\t\tvar colors = [];\n\t\t\tfor (var i = 0; i < palette.length; i++) {\n\t\t\t\tcolors.push(this.rgbToHex(palette[i]));\n\t\t\t}\n\t\t\treturn colors;\n\t\t} else {\n\t\t\treturn palette;\n\t\t}\n\t},\n\n\t/**\n\t * Gets a particular color from the palette.\n\t * @param {String} key The palette key.\n\t * @param {Integer} index The index of the color to get.\n\t * @param {Boolean} [returnHex] True to return a hexadecimal representation of the color (optional, defaults to rgb values).\n\t * @return {Mixed} The requested color, either a hex string or array of rgb values.\n\t * @private\n\t */\n\tgetColor: function(key, index, returnHex) {\n\t\tvar paletteKey = key || 'default';\n\t\tvar palette = this.getPalettes()[paletteKey];\n\t\tif (index >= palette.length) {\n\t\t\tindex = index % palette.length;\n\t\t}\n\t\tif (returnHex) {\n\t\t\treturn this.rgbToHex(palette[index]);\n\t\t} else {\n\t\t\treturn palette[index];\n\t\t}\n\t},\n\n\t/**\n\t * Gets the color associated with the term.  Creates a new association if none exists.\n\t * @param {String} key The palette key.\n\t * @param {String} term The term to get the color for.\n\t * @param {Boolean} [returnHex] True to return a hexadecimal representation of the color (optional, defaults to rgb values).\n\t * @return {Mixed} The requested color, either a hex string or array of rgb values.\n\t * @private\n\t */\n\tgetColorForTerm: function(key, term, returnHex) {\n\t\tvar paletteKey = key || 'default';\n\t\tvar palette = this.getPalettes()[paletteKey];\n\n\t\tif (term.indexOf(':') != -1) {\n\t\t\tterm = term.split(':')[1];\n\t\t}\n\t\tvar color = this.getColorTermAssociations().get(term);\n\t\tif (color == null) {\n\t\t\tvar index = this.getColorTermAssociations().getCount() % palette.length;\n\t\t\tcolor = palette[index];\n\t\t\tthis.getColorTermAssociations().add(term, color);\n\t\t}\n\t\tif (returnHex) {\n\t\t\tcolor = this.rgbToHex(color);\n\t\t}\n\t\treturn color;\n\t},\n\n\t/**\n\t * Set the color assocation for a term.\n\t * @param {String} term The term\n\t * @param {Array} color An array of RGB values\n\t */\n\tsetColorForTerm: function(term, color) {\n\t\tif (Array.isArray(color) === false) {\n\t\t\tcolor = this.hexToRgb(color);\n\t\t}\n\t\tthis.getColorTermAssociations().replace(term, color);\n\t}\n})\n","Ext.define('Voyant.util.Deferrable', {\n\tdeferredStack : [],\n\n\treleaseAllDeferred : function() {\n\t\tthis.deferredStack = [];\n\t},\n\n\tgetDeferredCount : function() {\n\t\treturn this.deferredStack.length;\n\t},\n\t\n\tgetDeferred: function(transferable) {\n\n//\t\tvar deferred = jQuery.Deferred();\n\t\tvar deferred = new Ext.Deferred();\n\t\t\n\t\tvar pomise = deferred\n\t\t// transfer methods to the promise\n//\t\tvar promise = this.getPromiseFromDeferred(deferred);\n\n\t\tif (transferable && transferable.transfer) {\n\t\t\ttransferable.transfer(transferable, deferred.promise)\n\t\t}\n\n\t\tif (!deferred.promise.show && window.show) {deferred.promise.show=show}\n\t\t\n\t\t// make sure that this object can chain an assignment\n\t\tif (!deferred.promise.assign) {\n\t\t\tExt.apply(deferred.promise, {assign: new Voyant.util.Assignable().assign});\n\t\t}\n\n\t\tthis.deferredStack.push(deferred);\n\t\t\n\t\tvar me = this;\n\t\tdeferred.promise.always(function() {\n\t\t\tme.deferredStack.pop();\n\t\t});\n\t\treturn deferred;\n\t},\n\t\n\tgetPromiseFromDeferred: function(dfd) {\n\t\treturn typeof dfd.promise === \"object\" ? dfd.promise : dfd.promise();\n\t},\n\t\n\tgetDeferredNestedPromise: function(promise, args, transferable) {\n\t\tvar callee = arguments.callee.caller; // TODO: is callee.caller in terms of nested functions?\n\t\tvar dfd = Voyant.application.getDeferred(transferable);\n\t\tpromise.then(function(promised) {\n\t\t\tdfd.resolve(callee.apply(promised, args))\n\t\t})/*.fail(function() {\n\t\t\tdfd.reject.apply(this, arguments)\n\t\t})*/;\n\t\treturn dfd.promise;\n\t}\n});\n","Ext.define(\"Voyant.util.DetailedError\", {\n\textend: \"Ext.Error\",\n\tmixins: ['Voyant.util.Localization'],\n\tconfig: {\n\t\tmsg: undefined,\n\t\terror: undefined,\n\t\tdetails: undefined\n\t},\n\tstatics: {\n\t\ti18n: {\n\t\t\terror: \"Error\"\n\t\t}\n\t},\n\tconstructor: function(config) {\n\t\tthis.setMsg(config.msg);\n\t\tthis.setError(config.error);\n\t\tthis.setDetails(config.details);\n\t\tthis.callParent(arguments);\n//\t\tdebugger\n//\t\tthis.show();\n\t},\n\t\n\tshow: function(config) {\n\t\tif (window.showError) {showError.call(this);}\n\t\telse {this.showMsg(config)}\n\t},\n\t\n\tshowMsg: function(config) {\n\t\tconfig = config || {};\n\t\tExt.applyIf(config, {\n\t\t\tmessage: this.getMsg()+\"<p class='error'>\\n\"+this.getError()+\"\u2026 \"+\n\t\t\t\t\"<a href='#' onclick=\\\"window.open('').document.write(unescape('<pre>\"+escape(this.getDetails())+\"</pre>')); return false;\\\">more</a></p>\",\n\t\t\ttitle: this.localize(\"error\"),\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.MessageBox.ERROR,\n\t\t    autoScroll: true\n\t\t});\n\t\tExt.Msg.show(config);\n\t}\n})\n","Ext.define(\"Voyant.util.ResponseError\", {\n\textend: \"Voyant.util.DetailedError\",\n\tconfig: {\n\t\tresponse: undefined\n\t},\n\tconstructor: function(config) {\n\t\tthis.setResponse(config.response);\n\t\tExt.applyIf(config, {\n\t\t\tmsg: config.response.statusText, // hopefully already set by creator\n\t\t\terror: (\"responseText\" in config.response) ? config.response.responseText.split(/(\\r\\n|\\r|\\n)/).shift() : \"\", // show first line of response\n\t\t\tdetails: (\"responseText\" in config.response) ? config.response.responseText : \"\"\n\t\t})\n\t\tthis.callParent(arguments);\n\t}\n\t\n})\n","Ext.define('Voyant.util.SparkLine', {\r\n\t/**\r\n\t * Gets a Google spark line.\r\n\t * \r\n\t * @param {Array} values An array of numerical values.\r\n\t * @param {Integer} stretch The width to stretch the spark line towards (currently unused).\r\n\t * @return {String} The image(s) of the spark line.\r\n\t * @private\r\n\t */\r\n\tgetSparkLine : function(values, stretch) {\r\n\t\tif (values.length < 2) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tvar min = Number.MAX_VALUE;\r\n\t\tvar max = Number.MIN_VALUE;\r\n\t\tvar hasDecimal = false;\r\n\t\tfor ( var i = 0; i < values.length; i++) {\r\n\t\t\tif (values[i] < min) {\r\n\t\t\t\tmin = values[i];\r\n\t\t\t}\r\n\t\t\tif (values[i] > max) {\r\n\t\t\t\tmax = values[i];\r\n\t\t\t}\r\n\t\t\tif (!hasDecimal\r\n\t\t\t\t\t&& values[i].toString().indexOf('.') > -1) {\r\n\t\t\t\thasDecimal = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar dif = (max - min).toString();\r\n\t\tvar multiplier = 1;\r\n\t\tvar divider = 1;\r\n\r\n\t\tvar newvalues = [];\r\n\t\tif (hasDecimal) {\r\n\t\t\tvar multiplier = 100;\r\n\t\t\tvar ind = dif.indexOf(\".\") + 1;\r\n\t\t\tfor ( var i = ind; i < dif.length; i++) {\r\n\t\t\t\tif (dif.charAt(i) == '0') {\r\n\t\t\t\t\tmultiplier *= 10;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor ( var i = 0; i < values.length; i++) {\r\n\t\t\t\tnewvalues[i] = parseInt(values[i] * multiplier);\r\n\t\t\t}\r\n\t\t\tmax = parseInt(max * multiplier);\r\n\t\t\tmin = parseInt(min * multiplier);\r\n\r\n\t\t} else {\r\n\t\t\tvar divider = 1;\r\n\t\t\tfor ( var i = dif.length - 1; i > -1; i--) {\r\n\t\t\t\tif (dif.charAt(i) == '0') {\r\n\t\t\t\t\tdivider *= 10;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (divider != 1) {\r\n\t\t\t\tfor ( var i = 0; i < values.length; i++) {\r\n\t\t\t\t\tnewvalues[i] = values[i] / divider;\r\n\t\t\t\t}\r\n\t\t\t\tmax /= divider;\r\n\t\t\t\tmin /= divider;\r\n\t\t\t} else {\r\n\t\t\t\tnewvalues = values;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar valLen = (max.toString().length > min.toString().length ? max\r\n\t\t\t\t.toString().length\r\n\t\t\t\t: min.toString().length) + 1;\r\n\t\tvar valuesPerImage = Math.floor(1800 / valLen);\r\n\t\tvar baseUrl = 'http://chart.apis.google.com/chart?cht=ls&amp;chco=0077CC&amp;chls=1,0,0&amp;chds='+ min + ',' + max;\r\n\t\tvar images = Math.ceil(values.length / valuesPerImage);\r\n\t\tvar counter = 0;\r\n\t\tvar response = '';\r\n\t\tvar wid;\r\n\t\tif (values.length < 5) {\r\n\t\t\twid = 5;\r\n\t\t} else if (values.length < 10) {\r\n\t\t\twid = 4;\r\n\t\t} else if (values.length < 20) {\r\n\t\t\twid = 3;\r\n\t\t} else if (values.length < 50) {\r\n\t\t\twid = 2;\r\n\t\t} else {\r\n\t\t\twid = 1;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * if (stretch) { wid =\r\n\t\t * Math.ceil(stretch/values.length); if (wid>5) {wid=5;} }\r\n\t\t */\r\n\r\n\t\tfor ( var i = 0; i < images; i++) {\r\n\t\t\tvar vals = newvalues.slice(counter,\r\n\t\t\t\t\tcounter += valuesPerImage);\r\n\t\t\tresponse += \"<img style='margin: 0; padding: 0;' border='0' src='\"\r\n\t\t\t\t\t+ baseUrl\r\n\t\t\t\t\t+ '&amp;chs='\r\n\t\t\t\t\t+ (wid * vals.length)\r\n\t\t\t\t\t+ 'x15&amp;chd=t:'\r\n\t\t\t\t\t+ vals.join(',') + \"' alt='' class='chart-\";\r\n\t\t\tif (images == 1) {\r\n\t\t\t\tresponse += 'full';\r\n\t\t\t} else {\r\n\t\t\t\tif (i > 0 && i + 1 < images) {\r\n\t\t\t\t\tresponse + 'middle';\r\n\t\t\t\t} else if (i == 0) {\r\n\t\t\t\t\tresponse += 'left';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresponse += 'right';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresponse += \"' />\";\r\n\t\t}\r\n\t\treturn response;\r\n\t}\r\n});","Ext.define('Voyant.util.Toolable', {\n\trequires: ['Voyant.util.Localization','Voyant.util.Api'],\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tapi: {\n\t\t\tsuppressTools: false\n\t\t}\n\t},\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n\t\tif (this.getApiParam && this.getApiParam(\"suppressTools\")==\"true\") {return;}\n\t\tif (\"header\" in config && config.header===false) {return;}\n\t\tvar me = this;\n\t\tvar moreTools = undefined;\n\t\tvar parent = this.up('component');\n\t\tif (config.moreTools) {\n\t\t\tmoreTools = [];\n\t\t\tconfig.moreTools.forEach(function(xtype) {\n\t\t\t\t if (xtype && xtype!=this.xtype) {\n\t\t\t\t\tmoreTools.push(this.getMenuItemFromXtype(xtype));\n\t\t\t\t }\n\n\t\t\t}, this)\n\t\t}\n\t\telse if (parent && parent.getInitialConfig('moreTools')) {\n\t\t\tmoreTools = [];\n\t\t\t parent.getInitialConfig('moreTools').forEach(function(xtype) {\n\t\t\t\t if (xtype && xtype!=this.xtype) {\n\t\t\t\t\tmoreTools.push(this.getMenuItemFromXtype(xtype));\n\t\t\t\t }\n\n\t\t\t}, this)\n\t\t}\n\t\tif (moreTools && this.getApplication().getMoreTools) {\n\t\t\tmoreTools.push({xtype: 'menuseparator'});\n\t\t}\n\t\tif (this.getApplication().getMoreTools) {\n\t\t\tmoreTools = moreTools || [];\n\t\t\tvar app = this.getApplication();\n\t\t\tvar tools = app.getMoreTools();\n\t\t\ttools.forEach(function(category) {\n\t\t\t\tvar categories = [];\n\t\t\t\tcategory.items.forEach(function(xtype) {\n\t\t\t\t\tcategories.push(this.getMenuItemFromXtype(xtype))\n\t\t\t\t}, this)\n\t\t\t\tmoreTools.push({\n\t\t\t\t\ttext: app.localize(category.i18n),\n\t\t\t\t\tglyph: category.glyph,\n\t\t\t\t\tmenu: {items: categories}\n\t\t\t\t})\n\t\t\t}, this);\n\t\t}\t\t\t\n\n\t\tvar exportItems = undefined;\n\t\tvar toolsMap = {\n//\t\t\t\tmaximize: {\n//\t\t\t\t\tglyph: 'xf08e@FontAwesome',\n//\t\t\t\t\tfn: this.maximizeToolClick\n//\t\t\t\t},\n\t\t\t\tsave: {\n\t\t\t\t\tglyph: 'xf08e@FontAwesome',\n\t\t\t\t\tfn: this.exportToolClick,\n\t\t\t\t\titems: exportItems\n\t\t\t\t},\n\t\t\t\tplus: moreTools ? {\n\t\t\t\t\tglyph: 'xf17a@FontAwesome',\n\t\t\t\t\titems: moreTools\n\t\t\t\t} : undefined,\n\t\t\t\tgear: this.showOptionsClick || this.getOptions ? {\n\t\t\t\t\tglyph: 'xf205@FontAwesome',\n\t\t\t\t\tfn: this.showOptionsClick ? this.showOptionsClick : function(panel) {\n\t\t\t\t\t\tif (panel.isXType(\"voyanttabpanel\")) {panel = panel.getActiveTab()}\n\t\t\t\t\t\t// we're here because the panel hasn't overridden the click function\n\t\t\t\t\t\tExt.create('Ext.window.Window', {\n\t\t\t\t\t\t\ttitle: panel.localize(\"optionsTitle\"),\n\t\t\t\t\t\t\tmodal: true,\n\t\t\t            \tpanel: panel,\n\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\txtype: 'form',\n\t\t\t\t\t\t\t\titems: panel.getOptions(),\n\t\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\t\tafterrender: function(form) {\n\t\t\t\t\t\t\t\t\t\tvar api = panel.getApiParams(form.getForm().getFields().collect('name'));\n\t\t\t\t\t\t\t\t\t\tform.getForm().setValues(api);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbuttons: [{\n\t\t\t\t\t            \ttext: panel.localize(\"reset\"),\n\t\t\t\t\t\t\t\t\tglyph: 'xf0e2@FontAwesome',\n\t\t\t\t\t            \tflex: 1,\n\t\t\t\t\t            \tpanel: panel,\n\t\t\t\t\t\t            ui: 'default-toolbar',\n\t\t\t\t\t        \t\thandler: function(btn) {\n\t\t\t\t\t        \t\t\tif (this.mixins && this.mixins[\"Voyant.util.Api\"]) {\n\t\t\t\t\t        \t\t\t\tthis.mixins[\"Voyant.util.Api\"].constructor.apply(this);\n\t\t\t\t\t        \t\t\t\tif (this.getCorpus && this.getCorpus()) {\n\t\t\t\t\t        \t\t\t\t\tthis.fireEvent(\"loadedCorpus\", this, this.getCorpus())\n\t\t\t\t\t        \t\t\t\t}\n\t\t\t\t\t        \t\t\t}\n\t\t\t\t\t        \t\t\tbtn.up('window').close();\n\t\t\t\t\t        \t\t},\n\t\t\t\t\t        \t\tscope: panel\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t},{xtype: 'tbfill'}, {\n\t\t\t\t\t            \ttext: panel.localize(\"cancelTitle\"),\n\t\t\t\t\t\t            ui: 'default-toolbar',\n\t\t\t\t\t                glyph: 'xf00d@FontAwesome',\n\t\t\t\t\t        \t\tflex: 1,\n\t\t\t\t\t        \t\thandler: function(btn) {\n\t\t\t\t\t        \t\t\tbtn.up('window').close();\n\t\t\t\t\t        \t\t}\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t            \ttext: panel.localize(\"confirmTitle\"),\n\t\t\t\t\t\t\t\t\tglyph: 'xf00c@FontAwesome',\n\t\t\t\t\t            \tflex: 1,\n\t\t\t\t\t            \tpanel: panel,\n\t\t\t\t\t        \t\thandler: function(btn) {\n\t\t\t\t\t        \t\t\tfunction doGlobalUpdate(key, value) {\n\t\t\t\t\t        \t\t\t\t// set the api value for the app\n\t\t\t\t\t        \t\t\t\tif (app.setApiParam) {\n\t\t\t\t\t        \t\t\t\t\tapp.setApiParam(key, value);\n\t\t\t\t\t        \t\t\t\t}\n\t\t\t\t\t        \t\t\t\t\n\t\t\t\t\t        \t\t\t\t// tell the panels, including this one\n\t\t\t\t\t        \t\t\t\tvar panels = app.getViewport().query(\"panel,chart\");\n\t\t\t\t\t        \t\t\t\tfor (var i=0; i<panels.length; i++) {\n\t\t\t\t\t        \t\t\t\t\tif (panels[i].setApiParam) {\n\t\t\t\t\t        \t\t\t\t\t\tpanels[i].setApiParam(key, value);\n\t\t\t\t\t        \t\t\t\t\t}\n\t\t\t\t\t        \t\t\t\t}\n\t\t\t\t\t        \t\t\t\tglobalUpdate = true;\n\t\t\t\t\t        \t\t\t}\n\t\t\t\t\t        \t\t\t\n\t\t\t\t\t        \t\t\tvar values = btn.up('form').getValues();\n\t\t\t\t\t        \t\t\t\n\t\t\t\t\t        \t\t\t// set api values (all of them, not just global ones)\n\t\t\t\t\t        \t\t\tthis.setApiParams(values);\n\n\t\t\t\t\t        \t\t\tvar app = this.getApplication();\n\t\t\t\t\t        \t\t\tvar corpus = app.getCorpus();\n\t\t\t\t\t        \t\t\t\n\t\t\t\t\t        \t\t\tvar globalUpdate = false;\n\t\t\t\t\t        \t\t\tif (values['stopList'] != undefined && values['stopListGlobal'] != undefined && values.stopListGlobal) {\n\t\t\t\t\t        \t\t\t\tdoGlobalUpdate('stopList', values['stopList']);\n\t\t\t\t\t        \t\t\t}\n\t\t\t\t\t        \t\t\tif (values['palette'] != undefined) {\n\t\t\t\t\t\t\t\t\t\t\tapp.resetColorTermAssociations();\n\t\t\t\t\t        \t\t\t\tdoGlobalUpdate('palette', values['palette']);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (values['categories'] != undefined) {\n\t\t\t\t\t        \t\t\t\tdoGlobalUpdate('categories', values['categories']);\n\t\t\t\t\t        \t\t\t}\n\t\t\t\t\t        \t\t\t\n\t\t\t\t\t        \t\t\tif (globalUpdate) {\n\t\t\t\t\t        \t\t\t\t// trigger a reloading of the app\n\t\t\t\t\t        \t\t\t\tif (corpus) {\n\t\t\t\t\t        \t\t\t\t\tapp.dispatchEvent(\"loadedCorpus\", this, corpus);\n\t\t\t\t\t        \t\t\t\t} else {\n\t\t\t\t\t        \t\t\t\t\tapp.dispatchEvent(\"apiParamsUpdated\", this, values);\n\t\t\t\t\t        \t\t\t\t}\n\t\t\t\t\t        \t\t\t}\n\t\t\t\t\t        \t\t\t// fire this even if we have global params since the app dispatch won't reach this tool\n\t\t\t\t\t        \t\t\tif (corpus) {this.fireEvent(\"loadedCorpus\", this, corpus);}\n\t\t\t\t        \t\t\t\telse {this.fireEvent(\"apiParamsUpdated\", this, values);}\n\n\t\t\t\t\t        \t\t\tbtn.up('window').close();\n\t\t\t\t\t        \t\t},\n\t\t\t\t\t        \t\tscope: panel\n\t\t\t\t\t            }]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbodyPadding: 5\n\t\t\t\t\t\t}).show()\n\t\t\t\t\t}\n\t\t\t\t} : undefined,\n\t\t\t\thelp: {\n\t\t\t\t\tglyph: 'xf128@FontAwesome',\n\t\t\t\t\tfn: this.helpToolClick\n\t\t\t\t}\n\t\t}\n\t\tvar tools = [];\n\t\t\n\t\t// check to see if there are tool objects configured\n\t\tif (config.includeTools) {\n\t\t\tfor (var tool in config.includeTools) {\n\t\t\t\tif (typeof config.includeTools[tool] == \"object\") {\n\t\t\t\t\ttools.push(config.includeTools[tool])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfor (var tool in toolsMap) {\n\t\t\tif (config.includeTools && !config.includeTools[tool] || !toolsMap[tool]) {continue;}\n\t\t\ttools.push({\n\t\t\t\ttype: tool,\n\t\t\t\ttooltip: this.localize(tool+\"Tip\"),\n\t\t\t\tcallback: toolsMap[tool].fn,\n\t\t\t\txtype: 'toolmenu',\n\t\t\t\tglyph: toolsMap[tool].glyph,\n\t\t\t\titems: toolsMap[tool].items\n\t\t\t})\n\t\t}\n\t\t\n\t\tExt.apply(this, {\n\t\t\ttools: tools\n\t\t})\n\t\tthis.on(\"afterrender\", function() {\n\t\t\tvar header = this.getHeader();\n\t\t\tif (header && Ext.os.deviceType==\"Desktop\" && !this.isXType(\"corpuscreator\") && !this.isXType('notebook')) {\n\t\t\t\tvar el = header.getEl();\n\t\t\t\tel.on(\"mouseover\", function() {\n\t\t\t\t\tthis.getHeader().getTools().forEach(function(tool) {\n\t\t\t\t\t\ttool.show();\n\t\t\t\t\t})\n\t\t\t\t}, this);\n\t\t\t\tel.on(\"mouseout\", function() {\n\t\t\t\t\tthis.getHeader().getTools().forEach(function(tool) {\n\t\t\t\t\t\tvar type = tool.config.type || tool.type; // auto-added tools don't have config.type, e.g. collapse\n\t\t\t\t\t\tif (type && type!='help' && type.indexOf('collapse')==-1) {tool.hide();}\n\t\t\t\t\t})\n\t\t\t\t}, this);\n\t\t\t\theader.getTools().forEach(function(tool,i) {\n\t\t\t\t\tif (tool.config.type!='help') {tool.hide();}\n\t\t\t\t});\n\t\t\t}\n\t\t}, this)\n\t},\n\tgetMenuItemFromXtype: function(xtype) {\n\t\tvar xt = xtype;\n\t\tvar config = this.getApplication().getToolConfigFromToolXtype(xtype);\n\t\tif (config && config.tooltip) {\n\t\t\tdelete config.tooltip // don't use this for now since it causes problems in the menu\n\t\t}\n\t\treturn Ext.apply(Ext.clone(config), {\n\t\t\txtype: 'menuitem',\n\t\t\ttext: config.title,\n\t\t\ttextAlign: 'left',\n\t\t\thandler: function() {this.replacePanel(config.xtype)},\n\t\t\tscope: this\n\t\t})\n\t},\n\tmaximizeToolClick: function(panel) {\n\t\tvar name = Ext.getClass(panel).getName();\n\t\tvar parts = name.split(\".\");\n\t\turl = panel.getBaseUrl()+\"tool/\"+parts[parts.length-1]+\"/\";\n\t\tparams = panel.getModifiedApiParams();\n\t\tif (!params.corpus && panel.getCorpus && panel.getCorpus()) {\n\t\t\tparams.corpus = panel.getCorpus().getId();\n\t\t}\n\t\tif (params) {url += \"?\"+Ext.Object.toQueryString(params);}\n\t\tpanel.openUrl(url);\n\t},\n\texportToolClick: function(panel) {\n\t\tif (panel.isXType('voyanttabpanel')) {panel = panel.getActiveTab()}\n\t\tvar items = window.location.hostname=='beta.voyant-tools.org' ? [{html: \"<p class='keyword' style='text-align: center; font-weight: bold; padding: 4px;'>Please note that this is the beta server and you should not count on corpora persisting (for bookmarks, embedding, etc.).\"}] : [];\n\t\tvar exportViewItems = [{\n       \t\txtype: 'radio',\n       \t\tname: 'export',\n       \t\tinputValue: 'embed',\n       \t\tboxLabel: panel.localize('exportViewHtmlEmbed')\n       \t},{\n       \t\txtype: 'radio',\n       \t\tname: 'export',\n       \t\tinputValue: 'biblio',\n       \t\tboxLabel: panel.localize('exportViewBiblio')\n       \t},{\n       \t\txtype: 'radio',\n       \t\tname: 'export',\n       \t\tinputValue: 'spyral',\n       \t\tboxLabel: panel.localize(\"exportViewSpyral\")\n       \t}];\n\t\tif (panel.getExtraExportItems) {\n\t\t\tpanel.getExtraExportItems().forEach(function(item) {\n\t\t\t\tExt.applyIf(item, {\n\t\t\t\t\txtype: 'radio',\n\t\t\t\t\tname: 'export'\n\t\t\t\t})\n\t\t\t\texportViewItems.push(item)\n\t\t\t})\n\t\t}\n\t\titems.push({\n\t       \t\txtype: 'radio',\n\t       \t\tname: 'export',\n\t       \t\tinputValue: 'url',\n\t       \t\tboxLabel: \"<a href='\"+panel.getExportUrl.call(panel)+\"' target='_blank'>\"+panel.localize('exportViewUrl')+\"</a>\",\n\t       \t\tchecked: true,\n\t       \t\tlisteners: {\n\t       \t\t\tafterrender: function() {\n\t       \t\t\t\tthis.boxLabelEl.on(\"click\", function() {\n\t       \t\t\t\t\tthis.up('window').close()\n\t       \t\t\t\t}, this)\n\t       \t\t\t}\n\t       \t\t}\n\t\t},{\n\t       xtype: 'fieldset',\n\t       collapsible: true,\n\t       collapsed: true,\n\t       title: panel.localize('exportViewFieldset'),\n\t       items: exportViewItems\n\t\t})\n\t\tif (panel.isXType('grid')) {\n\t\t\tvar exportitems = [{\n\t       \t\txtype: 'radio',\n\t       \t\tname: 'export',\n\t       \t\tinputValue: 'gridCurrentHtml',\n\t       \t\tboxLabel: panel.localize('exportGridCurrentHtml')\n    \t   },{\n\t       \t\txtype: 'radio',\n\t       \t\tname: 'export',\n\t       \t\tinputValue: 'gridCurrentTsv',\n\t       \t\tboxLabel: panel.localize('exportGridCurrentTsv')\n    \t  \t}];\n\t\t\tif (!panel.getExportGridAll || panel.getExportGridAll()!=false) {\n\t\t\t\texportitems.push({\n\t\t       \t\txtype: 'radio',\n\t\t       \t\tname: 'export',\n\t\t       \t\tinputValue: 'gridAllJson',\n\t\t       \t\tboxLabel: panel.localize('exportGridAllJson')\n\t    \t   },{\n\t\t       \t\txtype: 'radio',\n\t\t       \t\tname: 'export',\n\t\t       \t\tinputValue: 'gridAllTsv',\n\t\t       \t\tboxLabel: panel.localize('exportGridAllTsv')\n\t    \t   })\n\t\t\t}\n\t\t\titems.push({\n\t\t       xtype: 'fieldset',\n\t\t       collapsible: true,\n\t\t       collapsed: true,\n\t\t       title: panel.localize('exportGridCurrent'),\n\t    \t   items: exportitems\n\t\t\t})\n\t\t}\n\t\tif ((!panel.getExportVisualization || panel.getExportVisualization()) && panel.isXType(\"grid\")==false && (panel.down(\"chart\") || panel.getTargetEl().dom.querySelector(\"canvas\") || panel.getTargetEl().dom.querySelector(\"svg\"))) {\n\t\t\tvar formats = [{\n\t\t\t\txtype: 'radio',\n\t\t\t\tname: 'export',\n\t\t\t\tinputValue: 'png',\n\t\t\t\tboxLabel: panel.localize('exportPng')\n\t\t\t},{\n\t\t\t\txtype: 'slider',\n\t\t\t\twidth: 200,\n\t\t\t\tvalue: 1,\n\t\t\t\tminValue: .5,\n\t\t\t\tmaxValue: 10,\n\t\t\t\tincrement: .5,\n\t\t\t\tlabelAlign: 'right',\n\t\t\t\tdecimalPrecision: 1,\n\t\t\t\titemId: 'scale',\n\t\t\t\tfieldLabel: new Ext.Template(panel.localize(\"scaleLabel\")).apply([1]),\n\t\t\t\tlisteners: {\n\t\t\t\t\tchange: function(slider, newVal) {\n\t\t\t\t\t\tthis.setFieldLabel(new Ext.Template(panel.localize(\"scaleLabel\")).apply([newVal]))\n\t\t\t\t\t},\n\t\t\t\t\tchangecomplete: function(slider) {\n\t\t\t\t\t\tslider.previousSibling().setValue(true); // make sure PNG is selected\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}];\n\t\t\tif (panel.getTargetEl().dom.querySelector(\"svg\")) {\n\t\t\t\tformats.push({\n\t\t\t\t\txtype: 'radio',\n\t\t\t\t\tname: 'export',\n\t\t\t\t\tinputValue: 'svg',\n\t\t\t\t\tboxLabel: panel.localize('exportSvg')\n\t\t\t\t})\n\t\t\t}\n\t\t\titems.push({\n\t\t\t       xtype: 'fieldset',\n\t\t\t       collapsible: true,\n\t\t\t       collapsed: true,\n\t\t\t       title: panel.localize('exportVizTitle'),\n\t\t    \t   items: formats\n\t    \t});\n\t\t}\n\t\tExt.create('Ext.window.Window', {\n\t\t\ttitle: panel.localize(\"exportTitle\"),\n\t\t\tmodal: true,\n\t\t\titems: {\n\t\t\t\txtype: 'form',\n\t\t\t\titems: items,\n\t\t\t\tbuttons: [{\n\t            \ttext: panel.localize(\"exportTitle\"),\n\t\t\t\t\tglyph: 'xf08e@FontAwesome',\n\t            \tflex: 1,\n\t            \tpanel: panel,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tvar form = btn.up('form');\n\t        \t\t\tvar fn = 'export'+Ext.String.capitalize(form.getValues()['export']);\n\t        \t\t\tif (Ext.isFunction(panel[fn])) {\n\t        \t\t\t\tpanel[fn].call(panel, panel, form)\n\t        \t\t\t}\n\t        \t\t\telse {\n\t        \t\t\t\tExt.Msg.show({\n\t        \t\t\t\t    title: panel.localize('exportError'),\n\t        \t\t\t\t    message: panel.localize('exportNoFunction'),\n\t        \t\t\t\t    buttons: Ext.Msg.OK,\n\t        \t\t\t\t    icon: Ext.Msg.ERROR\n\t        \t\t\t\t});\n\t        \t\t\t}\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t},\n\t        \t\tscope: panel\n\t            }, {\n\t            \ttext: panel.localize(\"cancelTitle\"),\n\t                glyph: 'xf00d@FontAwesome',\n\t        \t\tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t}\n\t\t\t\t}]\n\t\t\t},\n\t\t\tbodyPadding: 5\n\t\t}).show()\n\t},\n\texportSvg: function(img) {\n\t\tvar svg = this.getTargetEl().dom.querySelector(\"svg\");\n\t\tif (svg) {\n\t\t\tvar html = d3.select(svg)\n\t\t\t\t.attr(\"version\", 1.1)\n\t\t\t\t.attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\n\t\t\t\t.node().parentNode.innerHTML\n\t\t\tExt.Msg.show({\n\t\t\t    title: this.localize('exportSvgTitle'),\n\t\t\t    message: '<img src=\"'+'data:image/svg+xml;base64,'+ btoa(unescape(encodeURIComponent(html)))+'\" style=\"float: right; max-width: 200px; max-height: 200px; border: thin dotted #ccc;\"/>'+this.localize('exportSvgMessage'),\n\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t    icon: Ext.Msg.INFO,\n\t\t\t    prompt: true,\n\t\t        multiline: true,\n\t\t        value: html\n\t\t\t});\t\t\n\t\t}\n\t},\n\texportPngData: function(img) {\n\t\tExt.Msg.show({\n\t\t    title: this.localize('exportPngTitle'),\n\t\t    message: '<img class=\"thumb\" src=\"'+img+'\" style=\"float: right; max-width: 200px; max-height: 200px; border: thin dotted #ccc;\"/>'+this.localize('exportPngMessage'),\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.Msg.INFO,\n\t\t    prompt: true,\n\t        multiline: true,\n\t        value: '<img src=\"'+img+'\" />'\n\t\t});\n\t},\n\texportPng: function(panel, form) {\n\t\tvar scale = 1;\n\t\tif (form) {\n\t\t\tform.mask(panel.localize('loading'));\n\n\t\t\tvar slider = form.queryById(\"scale\");\n\t\t\tif (slider && slider.getValue) {\n\t\t\t\tscale = slider.getValue();\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar canvasSurface = this.down('draw') || this.down('chart');\n\t\tif (canvasSurface && (canvasSurface.isChart || canvasSurface.isCanvas)) {\n\n\t\t\t// first part taken from EXTJ Draw.getImage()\n\t\t\t// http://docs.sencha.com/extjs/6.2.0/classic/src/Container.js-2.html#Ext.draw.Container-method-getImage\n\t\t\t// reproduced here because we want to scale the image in the canvas, not the final image\n\t\t\tvar size = canvasSurface.innerElement.getSize(),\n            \t\tsurfaces = Array.prototype.slice.call(canvasSurface.items.items),\n            \t\tzIndexes = canvasSurface.surfaceZIndexes,\n            \t\timage, imageElement,\n            \t\ti, j, surface, zIndex;\n \n\t        // Sort the surfaces by zIndex using insertion sort. \n\t        for (j = 1; j < surfaces.length; j++) {\n\t            surface = surfaces[j];\n\t            zIndex = zIndexes[surface.type];\n\t            i = j - 1;\n\t            while (i >= 0 && zIndexes[surfaces[i].type] > zIndex) {\n\t                surfaces[i + 1] = surfaces[i];\n\t                i--;\n\t            }\n\t            surfaces[i + 1] = surface;\n\t        }\n\t        \n\t        // next part taken from EXTJS Canvas Flatten\n\t        // http://docs.sencha.com/extjs/6.2.0/classic/src/Canvas.js-1.html#line897\n\t        // reproduced here because we want to scale the image when drawing to the new canvas\n\t        \n\t        var targetCanvas = document.createElement('canvas'),\n            className = Ext.getClassName(surfaces[0]),\n            ratio = surfaces[0].devicePixelRatio * scale,\n            ctx = targetCanvas.getContext('2d'),\n            surface, canvas, rect, i, j, xy;\n\n\t        targetCanvas.width = Math.ceil(size.width * ratio);\n\t        targetCanvas.height = Math.ceil(size.height * ratio);\n\t\n\t        \n\t        for (i = 0; i < surfaces.length; i++) {\n\t            surface = surfaces[i];\n\t            if (Ext.getClassName(surface) !== className) {\n\t                continue;\n\t            }\n\t            rect = surface.getRect();\n\t            surfaceSize = surface.el.getSize();\n\t            for (j = 0; j < surface.canvases.length; j++) {\n\t                canvas = surface.canvases[j];\n\t                xy = canvas.getOffsetsTo(canvas.getParent());\n\t                ctx.drawImage(canvas.dom, (rect[0] + xy[0]) * ratio, (rect[1] + xy[1]) * ratio, surfaceSize.width*ratio,surfaceSize.height*ratio);\n\t            }\n\t        }\n\t        if (form && form.isVisible()) {form.unmask();}\n\t        \n\t        // now we're ready\n\t\t\treturn this.exportPngData(targetCanvas.toDataURL());\n\t\t}\n\t\t\n//\t\tvar chart = this.down('chart'); // first try finding a chart\n//\t\tif (chart) {\n//\t\t\treturn this.exportPngData(this.down('chart').getImage().data);\n//\t\t}\n//\n\t\tvar targetEl = this.getTargetEl().dom,\n\t\t\tcanvas = targetEl.querySelector(\"canvas\"); // next try finding a canvas\n\t\tif (canvas) {\n\t\t\tif (scale==1) {\n\t\t\t\tvar data = canvas.toDataURL(\"image/png\");\n\t\t        if (form && form.isVisible()) {form.unmask();}\n\t\t\t\treturn this.exportPngData(data);\n\t\t\t}\n\t        var targetCanvas = document.createElement('canvas'),\n            ctx = targetCanvas.getContext('2d');\n\t        targetCanvas.width = Math.ceil(canvas.width * scale);\n\t        targetCanvas.height = Math.ceil(canvas.height * scale);\n\n\t\t\t  var image = new Image;\n\t\t\t  image.src = canvas.toDataURL(\"image/png\");\n\t\t\t  image.panel = this;\n\t\t\t  image.onload = function() {\n\t\t\t\t  ctx.drawImage(image, 0, 0, targetCanvas.width, targetCanvas.height);\n\t\t\t\t  img = targetCanvas.toDataURL(\"image/png\");\n\t\t\t        if (form && form.isVisible()) {form.unmask();}\n\t\t\t\t  this.panel.exportPngData.call(this.panel, img);\n\t\t\t  };\t\n\t\t\t  return;\n\t\t}\n\t\t\n\t\tvar svg = targetEl.querySelector(\"svg\"); // finally try finding an SVG\n\t\tif (svg) {\n\t\t\tvar width = targetEl.offsetWidth*scale,\n\t\t\t\theight = targetEl.offsetHeight*scale;\n\t\t\tvar clone = svg.cloneNode(true); // we don't want to scale, etc. the original\n\t\t\tclone.setAttribute(\"version\", 1.1)\n\t\t\tclone.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\")\n\t\t\tclone.setAttribute(\"width\", width)\n\t\t\tclone.setAttribute(\"height\", height)\n\n\t\t\tvar svgChildren = [];\n\t\t\twhile (clone.children.length > 0) {\n\t\t\t\tsvgChildren.push(clone.removeChild(clone.children[0]));\n\t\t\t};\n\n\t\t\tvar g = document.createElement('g');\n\t\t\tg.setAttribute(\"style\", \"transform-box: fill-box;\");\n\t\t\tg.setAttribute(\"transform\", \"scale(\"+scale+\")\")\n\t\t\tclone.appendChild(g);\n\n\t\t\tsvgChildren.forEach(function(item) {\n\t\t\t\tg.appendChild(item);\n\t\t\t})\n\n\t\t\tvar html = clone.outerHTML,\n\t\t\t\timg = 'data:image/svg+xml;base64,'+ btoa(unescape(encodeURIComponent(html)));\n\n\t\t\tvar canvas = Ext.DomHelper.createDom({tag:'canvas',width: width,height:height}),\n\t\t\t\tcontext = canvas.getContext(\"2d\");\n\t\t\t  \n\t\t\tvar image = new Image;\n\t\t\timage.src = img;\n\t\t\timage.panel = this;\n\t\t\timage.onload = function() {\n\t\t\t\tcontext.drawImage(image, 0, 0);\n\t\t\t\timg = canvas.toDataURL(\"image/png\");\n\t\t        if (form && form.isVisible()) {form.unmask();}\n\t\t\t\treturn this.panel.exportPngData.call(this.panel, img);\n\t\t\t};\n\t\t\t// image.onerror = function(ev) {\n\t\t\t// \tconsole.log(ev)\n\t\t\t// }\n\t\t}\n\t},\n\texportUrl: function() {\n\t\tthis.openUrl(this.getExportUrl());\n\t},\n\texportEmbed: function() {\n\t\tvar asTool = this.isXType('voyantheader')==false;\n\t\tExt.Msg.show({\n\t\t    title: this.localize('exportViewEmbedTitle'),\n\t\t    message: this.localize('exportViewEmbedMessage'),\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.Msg.INFO,\n\t\t    prompt: true,\n\t        multiline: true,\n\t        value: \"\u003c!--\tExported from Voyant Tools (voyant-tools.org).\\n\"+\n\t        \t\"The iframe src attribute below uses a relative protocol to better function with both\\n\"+\n\t        \t\"http and https sites, but if you're embedding this into a local web page (file protocol)\\n\"+\n\t        \t\"you should add an explicit protocol (https if you're using voyant-tools.org, otherwise\\n\"+\n\t        \t\"it depends on this server.\\n\"+\n\t        \t\"Feel free to change the height and width values or other styling below: --\u003e\\n\"+\n\t        \t\"<iframe style='width: \"+(asTool ? this.getWidth()+\"px\" : \"100%\")+\"; height: \"+(asTool ? this.getHeight()+\"px\" : \"800px\")+\";' src='\"+this.getExportUrl(asTool)+\"'></iframe>\"\n\t\t});\n\t},\n\texportBiblio: function() {\n\t\tvar date = new Date();\n\t\tvar url = this.getExportUrl()\n\t\tExt.Msg.show({\n\t\t    title: this.localize('exportBiblioTitle'),\n\t\t    message: '<fieldset><legend>MLA</legend>'+\n\t    \t'<div class=\"x-selectable\">Sinclair, St\u00e9fan and Geoffrey Rockwell. '+(this.isXType('voyantheader') ? '' : '\"'+this.localize('title')+'.\" ')+\n\t    \t'<i>Voyant Tools</i>. '+Ext.Date.format(date,'Y')+'. Web. '+Ext.Date.format(date,'j M Y')+'. &lt;'+url+'&gt;.</div></fieldset>'+\n\t    \t'<br >'+\n\t    \t'<fieldset><legend>Chicago</legend>'+\n\t    \t'<div class=\"x-selectable\">St\u00e9fan Sinclair and Geoffrey Rockwell, '+(this.isXType('voyantheader') ? '' : '\"'+this.localize('title')+'\", ')+\n\t    \t'<i>Voyant Tools</i>, accessed '+Ext.Date.format(date,'F j, Y')+', '+url+'.</div></fieldset>'+\n\t    \t'<br >'+\n\t    \t'<fieldset><legend>APA</legend>'+\n\t    \t'<div class=\"x-selectable\">Sinclair, S. &amp; G. Rockwell. ('+Ext.Date.format(date,'Y')+\"). \"+(this.isXType('voyantheader') ? '' : this.localize('title')+'. ')+\n\t    \t'<i>Voyant Tools</i>. Retrieved '+Ext.Date.format(date,'F j, Y')+', from '+url+'</div></fieldset>',\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.Msg.INFO\n\t\t})\n\t},\n\texportSpyral: function() {\n\t\tlet toolForUrl = Ext.getClassName(this).split(\".\").pop();\n\t\tlet api = this.getApplication().getModifiedApiParams();\n\t\tif (this.isXType('voyantheader')==false) {\n\t\t\tdelete api.panels; // not needed for individual tools\n\t\t\t// add (and overwrite if need be) this tool's api\n\t\t\tExt.apply(api, this.getModifiedApiParams());\n\t\t\tdelete api.corpus;\n\t\t}\n\t\tlet isDebug = api && \"debug\" in api;\n\t\tdelete api.view;\n\t\tdelete api.debug;\n\t\tlet enc = function(str) {\n\t\t\treturn btoa(encodeURIComponent(str)).replace(/=/g, \"%3D\");\n\t\t}\n\t\tlet input = '[\"'+enc(\"<h2>Spyral Notebook Imported from Voyant Tools</h2>\")+'\",\"'+\n\t\t\tenc('loadCorpus(\"'+this.getApplication().getCorpus().getAliasOrId()+'\").tool(\"'+\n\t\t\t(toolForUrl==\"VoyantHeader\" ? \"\" : toolForUrl)+'\"'+(Object.keys(api).length>0 ? (\",\"+Ext.encode(api)) : \"\")+ ');')+'\"]'\n\t\tthis.openUrl(this.getApplication().getBaseUrl()+\"spyral/?run=true&\"+(isDebug ? \"debug=true&\" : \"\")+\"inputJsonArrayOfEncodedBase64=\"+input);\n\t},\n\texportGridCurrentJson: function(grid, form) {\n\t\tvar store = grid.getStore();\n\t\tvar fields = store.getFields();\n\t\tvar value = \"<table>\\n\\t<thead>\\n\\t\\t<tr>\\n\";\n\t\tvar visibleColumns = grid.getColumnManager().headerCt.getVisibleGridColumns();\n\t\tvalues = [];\n\n\t\tfunction jsonCollector(row) {\n\t\t\tvar val = {};\n\t\t\tvisibleColumns.forEach(function (column) {\n\t\t\t\tval[column.text] = row.get(column.dataIndex);\n\t\t\t});\n\t\t\tvalues.push(val);\n\t\t}\n\n\t\tif (store.buffered) {\n\t\t\tstore.data.forEach(jsonCollector);\n\t\t} else {\n\t\t\tstore.each(jsonCollector);\n\t\t}\n\n\t\tExt.Msg.show({\n\t\t    title: this.localize('exportDataTitle'),\n\t\t    message: this.localize('exportDataJsonMessage'),\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.Msg.INFO,\n\t\t    prompt: true,\n\t        multiline: true,\n\t        value: Ext.encode(values)\n\t\t});\n\t},\n\texportGridCurrentTsv: function(grid, form) {\n\t\tvar store = grid.getStore();\n\t\tvar fields = store.getFields();\n\t\tvar visibleColumns = grid.getColumnManager().headerCt.getVisibleGridColumns();\n\t\tvar fields = [];\n\t\tvisibleColumns.forEach(function(column) {\n\t\t\tfields.push(column.text);\n\t\t})\n\t\tvar value = fields.join(\"\\t\")+\"\\n\";\n\n\t\tfunction tsvCollector(row) {\n\t\t\tcells = [];\n\t\t\tvisibleColumns.forEach(function (column) {\n\t\t\t\tvar val = row.get(column.dataIndex);\n\t\t\t\tif (Ext.isString(val)) {\n\t\t\t\t\tval = val.replace(/\\s+/g, ' '); // get rid of multiple whitespace (including newlines and tabs)\n\t\t\t\t}\n\t\t\t\tcells.push(val)\n\t\t\t});\n\t\t\tvalue += cells.join(\"\\t\") + \"\\n\";\n\t\t}\n\n\t\tif (store.buffered) {\n\t\t\tstore.data.forEach(tsvCollector);\n\t\t} else {\n\t\t\tstore.each(tsvCollector);\n\t\t}\n\n\t\tExt.Msg.show({\n\t\t    title: this.localize('exportDataTitle'),\n\t\t    message: this.localize('exportDataTsvMessage'),\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.Msg.INFO,\n\t\t    prompt: true,\n\t        multiline: true,\n\t        value: value\n\t\t});\n\t},\n\texportGridCurrentHtml: function(grid, form) {\n\t\tvar store = grid.getStore();\n\t\tvar fields = store.getFields();\n\t\tvar value = \"<table>\\n\\t<thead>\\n\\t\\t<tr>\\n\";\n\t\tvar visibleColumns = grid.getColumnManager().headerCt.getVisibleGridColumns();\n\t\tvisibleColumns.forEach(function(column) {\n\t\t\tvalue+=\"\\t\\t\\t<td>\"+column.text+\"</td>\\n\";\n\t\t});\n\n\t\tvalue+=\"\\t\\t</tr>\\n\\t</thead>\\n\\t<tbody>\\n\";\n\n\t\tfunction htmlCollector(row) {\n\t\t\tvalue += \"\\t\\t<tr>\\n\";\n\t\t\tvisibleColumns.forEach(function (column) {\n\t\t\t\tvar val = row.get(column.dataIndex);\n\t\t\t\tif (Ext.isString(val)) {\n\t\t\t\t\tval = val.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&lg;');\n\t\t\t\t}\n\t\t\t\tvalue += \"\\t\\t\\t<td>\" + val + \"</td>\\n\";\n\t\t\t});\n\t\t\tvalue += \"\\t\\t</tr>\\n\";\n\t\t}\n\n\t\tif (store.buffered) {\n\t\t\tstore.data.forEach(htmlCollector);\n\t\t} else {\n\t\t\tstore.each(htmlCollector);\n\t\t}\n\n\t\tvalue+=\"\\t</tbody>\\n</table>\";\n\t\tExt.Msg.show({\n\t\t    title: this.localize('exportDataTitle'),\n\t\t    message: this.localize('exportDataHtmlMessage'),\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.Msg.INFO,\n\t\t    prompt: true,\n\t        multiline: true,\n\t        value: value\n\t\t});\n\t},\n\texportGridAllJson: function(grid, form) {\n\t\tExt.Msg.confirm(this.localize('exportAllTitle'), this.localize('exportAllJsonWarning'), function(btn) {\n\t\t\tif (btn=='yes') {\n\t\t\t\tvar params = {limit: 0, start: 0};\n\t\t\t\tExt.applyIf(params, grid.getStore().getProxy().getExtraParams());\n\t\t\t\tthis.openUrl(this.getTromboneUrl()+\"?\"+Ext.Object.toQueryString(params));\n\t\t\t}\n\t\t}, this)\n\t},\n\texportGridAllTsv: function(grid, form) {\n\t\tExt.Msg.confirm(this.localize('exportAllTitle'), this.localize('exportAllTsvWarning'), function(btn) {\n\t\t\tif (btn=='yes') {\n\t\t\t\tvar params = {limit: 0, start: 0, template: this.getXType()+\"2tsv\"};\n\t\t\t\tExt.applyIf(params, grid.getStore().getProxy().getExtraParams());\n\t\t\t\tthis.openUrl(this.getTromboneUrl()+\"?\"+Ext.Object.toQueryString(params));\n\t\t\t}\n\t\t}, this)\n\t},\n\tgetExportUrl: function(asTool) {\n\t\t// start with the application api\n\t\tvar api = this.getApplication().getModifiedApiParams();\n\t\tvar toolForUrl = Ext.getClassName(this).split(\".\").pop();\n\t\tif (this.isXType('voyantheader')==false) {\n\t\t\tdelete api.panels; // not needed for individual tools\n\t\t\t// add (and overwrite if need be) this tool's api\n\t\t\tExt.apply(api, this.getModifiedApiParams());\n\t\t\tif (!asTool) {api.view=toolForUrl;}\n\t\t}\n\t\tif (!api.corpus) {\n\t\t\tapi.corpus = this.getApplication().getCorpus().getAliasOrId();\n\t\t}\n\t\treturn this.getApplication().getBaseUrl()+(asTool ? \"tool/\"+toolForUrl+\"/\" : \"\")+'?'+Ext.Object.toQueryString(api);\n\t},\n\thelpToolClick: function(panel) {\n\t\tif (panel.isXType('voyanttabpanel')) {panel = panel.getActiveTab()}\n\t\tvar help = panel.localize('help', {\"default\": false}) || panel.localize('helpTip');\n\t\tif (help==panel._localizeClass(Ext.ClassManager.get(\"Voyant.util.Toolable\"), \"helpTip\")) {\n\t\t\tpanel.openUrl( panel.getBaseUrl()+\"docs/#!/guide/\" + panel.getXType());\n\t\t}\n\t\telse {\n\t\t\tExt.Msg.alert(panel.localize('title'), help +\"<p><a href='\"+panel.getBaseUrl()+\n\t\t\t\t\t\"docs/\"+ (panel.isXType('voyantheader') ? '' : \"#!/guide/\"+panel.getXType()) +\"' target='voyantdocs'>\"+panel.localize(\"moreHelp\")+\"</a></p>\")\n\t\t}\n\t},\n\treplacePanel: function(xtype) {\n\t\tvar corpus = this.getApplication().getCorpus();\n\t\tvar config = this.getInitialConfig();\n\t\tvar parent;\n\t\tif (this.isXType('voyantheader') && this.getApplication().getViewComponent) {\n\t\t\tparent = this.getApplication().getViewComponent();\n\t\t\tparent.removeAll(true);\n\t\t\tvar newTool = parent.add({xtype: xtype});\n\t\t\tif (corpus) {\n\t\t\t\tthis.getApplication().dispatchEvent(\"loadedCorpus\", parent, corpus);\n\t\t\t}\n\t\t\t\n\t\t\tvar queryParams = Ext.Object.fromQueryString(document.location.search);\n\t\t\tvar url = this.getApplication().getBaseUrl();\n\t\t\turl += '?corpus='+corpus.getAliasOrId();\n\t\t\turl += '&view='+xtype;\n\t\t\tfor (var key in queryParams) {\n\t\t\t\tif (key !== 'corpus' && key !== 'view') {\n\t\t\t\t\turl += '&'+key+'='+queryParams[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.history.pushState({\n\t\t\t\tcorpus: corpus.getAliasOrId(),\n\t\t\t\tview: xtype\n\t\t\t}, '', url);\n\t\t}\n\t\telse {\n\t\t\tparent = this.isXType('voyantheader') && this.getApplication().getViewComponent ? this.getApplication().getViewComponent() : this.up(\"component\");\n\t\t\tparent.remove(this, true);\n\t\t\tvar newTool = parent.add({xtype: xtype});\n\t\t\tif (parent.isXType(\"voyanttabpanel\")) {\n\t\t\t\tparent.setActiveTab(newTool)\n\t\t\t}\n\t\t\tif (corpus) {\n\t\t\t\tnewTool.fireEvent(\"loadedCorpus\", newTool, corpus)\n\t\t\t}\n\t\t}\n\t\tthis.getApplication().dispatchEvent('panelChange', this)\n\t}\n});\n\n// from http://www.sencha.com/forum/showthread.php?281658-add-dropdown-menu-to-panel-tool&p=1054579&viewfull=1#post1054579\n// and http://www.sencha.com/forum/showthread.php?281953-Glyphs-in-panel-tool&p=1068934&viewfull=1#post1068934\n\nExt.define('Voyant.util.ToolMenu', {\n    extend: 'Ext.panel.Tool',\n    alias: 'widget.toolmenu',\n    renderTpl: ['<div class=\"x-menu-tool-hover\">' + '</div>'+\n            '<tpl if=\"glyph\">' + \n            '<span id=\"{id}-toolEl\" class=\"{baseCls}-glyph {childElCls}\" role=\"presentation\" style=\"font-family: {glyphFontFamily}; '+\n            \t'<tpl if=\"Ext.os.name==\\'iOS\\'\">'+ // FIXME: this is an awful hack..\n            \t\t'margin-right: 15px; '+\n            \t'</tpl>'+\n            '\">&#{glyph}</span>' + \n            '<tpl else>' + \n            '<img id=\"{id}-toolEl\" src=\"{blank}\" class=\"{baseCls}-img {baseCls}-{type}' + '{childElCls}\" role=\"presentation\"/>' + \n            '</tpl>'],\n    privates: {\n        onClick: function() {\n        \t\n            var me = this,\n            returnValue = me.callParent(arguments);\n\n\n            if (returnValue && me.items) {\n                if (!me.toolMenu) {\n                    me.toolMenu = new Ext.menu.Menu({\n                        items: me.items\n                    });\n                }\n                me.toolMenu.showAt(0, 0);\n                me.toolMenu.showAt(me.getX() + me.getWidth() - me.toolMenu.getWidth(), me.getY() + me.getHeight() + 10);\n            }\n\n\n            return returnValue;\n        },\n        onDestroy: function() {\n            Ext.destroyMembers(this, 'toolMenu'); //destructor\n            this.callParent();\n        }\n    },   \n\tinitComponent: function() {\n\t    var me = this;\n\t    me.callParent(arguments);\n\t\n\t    var glyph, glyphParts, glyphFontFamily;\n\t    glyph = me.glyph || 'xf12e@FontAwesome';\n\t\n\t    if (glyph) {\n\t        if (typeof glyph === 'string') {\n\t            glyphParts = glyph.split('@');\n\t            glyph = glyphParts[0];\n\t            glyphFontFamily = glyphParts[1];\n\t        } else if (typeof glyph === 'object' && glyph.glyphConfig) {\n\t            glyphParts = glyph.glyphConfig.split('@');\n\t            glyph = glyphParts[0];\n\t            glyphFontFamily = glyphParts[1];\n\t        }\n\t\n\t\n\t        Ext.applyIf(me.renderData, {\n\t            baseCls: me.baseCls,\n\t            blank: Ext.BLANK_IMAGE_URL,\n\t            type: me.type,\n\t            glyph: glyph,\n\t            glyphFontFamily: glyphFontFamily\n\t        });\n\t    }\n\t}\n\n});\n","Ext.define(\"Voyant.util.Transferable\", {\n\ttransferable: ['transfer'],\n\ttransfer: function(source, destination) {\n\t\tif (source.transferable) {\n\t\t\tfor (var i=0;i<source.transferable.length;i++) {\n\t\t\t\tvar member = source.transferable[i];\n\t\t\t\tdestination[member] = Ext.bind(source[member], destination);\n\t\t\t}\n\t\t}\n\t\tif (source.mixins) {\n\t\t\tfor (mixin in source.mixins) {\n\t\t\t\tthis.transfer(source.mixins[mixin], destination)\n\t\t\t}\n\t\t}\n\t}\n})","Ext.define(\"Voyant.util.Variants\", {\n\textend: 'Ext.Base',\n\tconstructor: function(variants) {\n\t\tthis.variants = variants;\n\t\tthis.map = {};\n\t\tthis.variants.forEach(function(variant, index) {\n\t\t\tvariant.forEach(function(v) {\n\t\t\t\tthis.map[v]=index;\n\t\t\t}, this)\n\t\t}, this)\n\t},\n\tgetVariants: function(terms) {\n\t\tvar variants = [];\n\t\tif (Ext.isString(terms)) {terms = [terms]}\n\t\tif (Ext.isArray(terms)) {\n\t\t\tterms.forEach(function(term) {\n\t\t\t\tif (this.map[term]!=undefined) {\n\t\t\t\t\tvariants.push.apply(variants, this.variants[this.map[term]]);\n\t\t\t\t}\n\t\t\t}, this)\n\t\t}\n\t\treturn variants\n\t}\n})","Ext.define(\"Voyant.util.Downloadable\", {\n\tmixins: ['Voyant.util.Localization'],\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tapi: {\n\t\t\tdocumentFormat: undefined,\n\t\t\tdocumentFilename: undefined\n\t\t}\n\t},\n\n\tdownloadFromCorpusId: function(corpusId) {\n\t\tvar panel = this;\n\t\tExt.create('Ext.window.Window', {\n\t\t\ttitle: this.localize('exportTitle'),\n\t\t\tmodal: true,\n\t\t\titems: {\n\t\t\t\txtype: 'form',\n\t\t\t\titems: {xtype: 'downloadoptions'},\n\t\t\t\tlisteners: {\n\t\t\t\t\tafterrender: function(form) {\n\t\t\t\t\t\t// make sure defaults are set based on panel's API\n\t\t\t\t\t\tform.getForm().setValues(panel.getApiParams(['documentFilename','documentFormat']));\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbuttons: [{\n\t            \ttext: this.localize(\"cancelButton\"),\n\t                glyph: 'xf00d@FontAwesome',\n\t        \t\tflex: 1,\n\t\t            ui: 'default-toolbar',\n\t        \t\thandler: function(btn) {\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t}\n\t\t\t\t},{\n\t            \ttext: this.localize('downloadButton'),\n\t\t\t\t\tglyph: 'xf00c@FontAwesome',\n\t            \tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tvar values = btn.up('form').getValues();\n\t        \t\t\tpanel.setApiParams(values);\n\t        \t\t\tpanel.openDownloadCorpus(corpusId);\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t},\n\t        \t\tscope: this\n\t            }]\n\t\t\t},\n\t\t\tbodyPadding: 5\n\t\t}).show()\n\t},\n\t\n    openDownloadCorpus: function(corpusId) {\n\t\tvar url = this.getTromboneUrl()+\"?corpus=\"+corpusId+\"&tool=corpus.CorpusExporter&outputFormat=zip\"+\n\t\t\t\"&zipFilename=DownloadedVoyantCorpus-\"+corpusId+\".zip\"+\n\t\t\t(this.getApiParam(\"documentFormat\") ? \"&documentFormat=\"+this.getApiParam(\"documentFormat\") : '')+\n\t\t\t(this.getApiParam(\"documentFilename\") ? \"&documentFilename=\"+this.getApiParam(\"documentFilename\") : '')\n\t\tthis.openUrl(url)\n    }\n})","Ext.define('Voyant.util.Storage', {\n\tMAX_LENGTH: 950000, // keep it under 1 megabyte\n\t\n\tstoreResource: function(id, data) {\n\t\tvar dataString = Ext.encode(data);\n\t\t\n\t\tif (dataString.length > this.MAX_LENGTH) {\n\t\t\t// split into chunks\n\t\t\tvar dfd = new Ext.Deferred();\n\t\t\t\n\t\t\tvar numChunks = Math.ceil(dataString.length / this.MAX_LENGTH);\n\t\t\t\n\t\t\tvar chunkIds = [];\n\t\t\tfor (var i = 0; i < numChunks; i++) {\n\t\t\t\tchunkIds.push(id+'-chunk'+i);\n\t\t\t}\n\t\t\tthis._doStore(id+'-hasChunks', Ext.encode(chunkIds)).then(function() {\n\t\t\t\tvar chunkCount = 0;\n\t\t\t\tvar currIndex = 0;\n\t\t\t\tfor (var i = 0; i < numChunks; i++) {\n\t\t\t\t\tvar chunkString = dataString.substr(currIndex, this.MAX_LENGTH);\n\t\t\t\t\t\n\t\t\t\t\tthis._doStore(chunkIds[i], chunkString).then(function() {\n\t\t\t\t\t\tchunkCount++;\n\t\t\t\t\t\tif (chunkCount == numChunks) {\n\t\t\t\t\t\t\tdfd.resolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tdfd.reject();\n\t\t\t\t\t}, null, this);\n\t\t\t\t\t\n\t\t\t\t\tcurrIndex += this.MAX_LENGTH;\n\t\t\t\t}\n\t\t\t}, function() {\n\t\t\t\tdfd.reject();\n\t\t\t}, null, this);\n\t\t\t\n\t\t\treturn dfd.promise;\n\t\t} else {\n\t\t\treturn this._doStore(id, dataString);\n\t\t}\n\t},\n\t\n\t_doStore: function(id, dataString) {\n\t\tvar dfd = new Ext.Deferred();\n\t\tExt.Ajax.request({\n            url: this.getTromboneUrl(),\n            params: {\n                tool: 'resource.StoredResource',\n                resourceId: id,\n                storeResource: dataString\n            }\n        }).then(function(response) {\n            dfd.resolve();\n        }, function(response) {\n            dfd.reject();\n        });\n\t\t\n\t\treturn dfd.promise;\n\t},\n\t\n\tgetStoredResource: function(id) {\n\t\tvar dfd = new Ext.Deferred();\n\t\t\n\t\tExt.Ajax.request({\n            url: this.getTromboneUrl(),\n            params: {\n                tool: 'resource.StoredResource',\n                verifyResourceId: id+'-hasChunks'\n            }\n        }).then(function(response) {\n        \tvar json = Ext.decode(response.responseText);\n        \tif (json && json.storedResource && json.storedResource.id && json.storedResource.id != '') {\n            \t// chunks\n            \tthis._doGetStored(json.storedResource.id, false).then(function(chunkIds) {\n            \t\tvar fullData = '';\n                    var dataChunks = {};\n\t            \tfor (var i = 0; i < chunkIds.length; i++) {\n\t            \t\tthis._doGetStored(chunkIds[i], true).then(function(response) {\n\t            \t\t\tvar chunkId = response[0];\n\t            \t\t\tvar value = response[1];\n\t            \t\t\tdataChunks[chunkId] = value;\n\t            \t\t\t\n\t            \t\t\tvar done = true;\n\t            \t\t\tfor (var j = chunkIds.length-1; j >= 0; j--) {\n\t            \t\t\t\tif (dataChunks[chunkIds[j]] === undefined) {\n\t            \t\t\t\t\tdone = false;\n\t            \t\t\t\t\tbreak;\n\t            \t\t\t\t}\n\t            \t\t\t}\n\t            \t\t\t\n\t            \t\t\tif (done) {\n\t            \t\t\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t            \t\t\t\t\tfullData += dataChunks[chunkIds[j]];\n\t            \t\t\t\t}\n\t            \t\t\t\tdfd.resolve(Ext.decode(fullData));\n\t            \t\t\t}\n\t            \t\t}, function() {\n\t                        dfd.reject();\n\t                    }, null, this);\n\t            \t}\n            \t}, function() {\n            \t\tdfd.reject();\n            \t}, null, this);\n        \t} else {\n            \t// no chunks\n\t\t\t\tthis._doGetStored(id, false).then(function(value) {\n\t\t\t\t\tdfd.resolve(value);\n\t\t\t\t}, function() {\n\t\t\t\t\tdfd.reject();\n\t\t\t\t}, null, this);\n        \t}\n        }, function() {\n        \tdfd.reject();\n        }, null, this);\n\t\t\n\t\treturn dfd.promise;\n\t},\n\t\n\t_doGetStored: function(id, isChunk) {\n\t\tvar dfd = new Ext.Deferred();\n\t\t\n\t\tExt.Ajax.request({\n            url: this.getTromboneUrl(),\n            params: {\n                tool: 'resource.StoredResource',\n                retrieveResourceId: id,\n                failQuietly: true\n            }\n        }).then(function(response) {\n        \tvar json = Ext.decode(response.responseText);\n        \tvar id = json.storedResource.id;\n        \tvar value = json.storedResource.resource;\n        \tif (value.length == 0) {\n        \t\tdfd.reject();\n        \t} else {\n\t        \tif (isChunk != true) {\n\t        \t\tvalue = Ext.decode(value);\n\t        \t\tdfd.resolve(value);\n\t        \t} else {\n\t        \t\tdfd.resolve([id, value]);\n\t        \t}\n        \t}\n        }, function() {\n        \tdfd.reject();\n        }, null, this);\n\t\t\n\t\treturn dfd.promise;\n\t}\n});\n","/*\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\nExt.define(\"Voyant.util.DiacriticsRemover\", {\n    diacriticsMap: {},\n    \n    constructor: function() {\n        var defaultDiacriticsRemovalMap = [\n            {'base':'A', 'letters':'\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'},\n            {'base':'AA','letters':'\\uA732'},\n            {'base':'AE','letters':'\\u00C6\\u01FC\\u01E2'},\n            {'base':'AO','letters':'\\uA734'},\n            {'base':'AU','letters':'\\uA736'},\n            {'base':'AV','letters':'\\uA738\\uA73A'},\n            {'base':'AY','letters':'\\uA73C'},\n            {'base':'B', 'letters':'\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'},\n            {'base':'C', 'letters':'\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'},\n            {'base':'D', 'letters':'\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779\\u00D0'},\n            {'base':'DZ','letters':'\\u01F1\\u01C4'},\n            {'base':'Dz','letters':'\\u01F2\\u01C5'},\n            {'base':'E', 'letters':'\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'},\n            {'base':'F', 'letters':'\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'},\n            {'base':'G', 'letters':'\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'},\n            {'base':'H', 'letters':'\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'},\n            {'base':'I', 'letters':'\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'},\n            {'base':'J', 'letters':'\\u004A\\u24BF\\uFF2A\\u0134\\u0248'},\n            {'base':'K', 'letters':'\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'},\n            {'base':'L', 'letters':'\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'},\n            {'base':'LJ','letters':'\\u01C7'},\n            {'base':'Lj','letters':'\\u01C8'},\n            {'base':'M', 'letters':'\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'},\n            {'base':'N', 'letters':'\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'},\n            {'base':'NJ','letters':'\\u01CA'},\n            {'base':'Nj','letters':'\\u01CB'},\n            {'base':'O', 'letters':'\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'},\n            {'base':'OI','letters':'\\u01A2'},\n            {'base':'OO','letters':'\\uA74E'},\n            {'base':'OU','letters':'\\u0222'},\n            {'base':'OE','letters':'\\u008C\\u0152'},\n            {'base':'oe','letters':'\\u009C\\u0153'},\n            {'base':'P', 'letters':'\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'},\n            {'base':'Q', 'letters':'\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'},\n            {'base':'R', 'letters':'\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'},\n            {'base':'S', 'letters':'\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'},\n            {'base':'T', 'letters':'\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'},\n            {'base':'TZ','letters':'\\uA728'},\n            {'base':'U', 'letters':'\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'},\n            {'base':'V', 'letters':'\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'},\n            {'base':'VY','letters':'\\uA760'},\n            {'base':'W', 'letters':'\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'},\n            {'base':'X', 'letters':'\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'},\n            {'base':'Y', 'letters':'\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'},\n            {'base':'Z', 'letters':'\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'},\n            {'base':'a', 'letters':'\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'},\n            {'base':'aa','letters':'\\uA733'},\n            {'base':'ae','letters':'\\u00E6\\u01FD\\u01E3'},\n            {'base':'ao','letters':'\\uA735'},\n            {'base':'au','letters':'\\uA737'},\n            {'base':'av','letters':'\\uA739\\uA73B'},\n            {'base':'ay','letters':'\\uA73D'},\n            {'base':'b', 'letters':'\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'},\n            {'base':'c', 'letters':'\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'},\n            {'base':'d', 'letters':'\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'},\n            {'base':'dz','letters':'\\u01F3\\u01C6'},\n            {'base':'e', 'letters':'\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'},\n            {'base':'f', 'letters':'\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'},\n            {'base':'g', 'letters':'\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'},\n            {'base':'h', 'letters':'\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'},\n            {'base':'hv','letters':'\\u0195'},\n            {'base':'i', 'letters':'\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'},\n            {'base':'j', 'letters':'\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'},\n            {'base':'k', 'letters':'\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'},\n            {'base':'l', 'letters':'\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'},\n            {'base':'lj','letters':'\\u01C9'},\n            {'base':'m', 'letters':'\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'},\n            {'base':'n', 'letters':'\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'},\n            {'base':'nj','letters':'\\u01CC'},\n            {'base':'o', 'letters':'\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'},\n            {'base':'oi','letters':'\\u01A3'},\n            {'base':'ou','letters':'\\u0223'},\n            {'base':'oo','letters':'\\uA74F'},\n            {'base':'p','letters':'\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'},\n            {'base':'q','letters':'\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'},\n            {'base':'r','letters':'\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'},\n            {'base':'s','letters':'\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'},\n            {'base':'t','letters':'\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'},\n            {'base':'tz','letters':'\\uA729'},\n            {'base':'u','letters': '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'},\n            {'base':'v','letters':'\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'},\n            {'base':'vy','letters':'\\uA761'},\n            {'base':'w','letters':'\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'},\n            {'base':'x','letters':'\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'},\n            {'base':'y','letters':'\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'},\n            {'base':'z','letters':'\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'}\n        ];\n        \n        this.diacriticsMap = {};\n        for (var i=0; i < defaultDiacriticsRemovalMap .length; i++){\n            var letters = defaultDiacriticsRemovalMap [i].letters;\n            for (var j=0; j < letters.length ; j++){\n                this.diacriticsMap[letters[j]] = defaultDiacriticsRemovalMap [i].base;\n            }\n        }\n    },\n    \n    // \"what?\" version ... http://jsperf.com/diacritics/12\n    removeDiacritics: function(str) {\n        return str.replace(/[^\\u0000-\\u007E]/g, function(a){\n            return this.diacriticsMap[a] || a; \n        }.bind(this));\n    }\n\n});","Ext.define(\"Voyant.notebook.util.Show\", {\n\ttransferable: ['show'],\n\t\n    /**\n\t * Shows a one-line summary of this object. For example, for a corpus:\n\t * \n\t * \tnew Corpus(\"Hello World!\").show(true);\n\t * \n\t * @param {boolean} [withID] Includes the corpus ID in parentheses at the end, if true.\n\t */\n\tshow: function(len) { // this is for instances\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t\t\tshow.call(this, this.getString ? this.getString(len) : this.toString(), !this.getString && Ext.isNumber(len) ? len : undefined);\n\t\t}\n\t},\n\tstatics: {\n\t\tshow: function(contents, len) {\n\t\t\tif (this.then) {\n\t\t\t\tvar arg = contents;\n\t\t\t\tthis.then(function(val) {\n\t\t\t\t\tshow.call(val, val, arg);\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tif (contents === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (Ext.isArray(contents)) {\n\t\t\t\t\tvar allContents = \"\";\n\t\t\t\t\tcontents.forEach(function(content) {\n\t\t\t\t\t\tallContents += content.getString ? content.getString() : content.toString();\n\t\t\t\t\t});\n\t\t\t\t\tcontents = allContents;\n\t\t\t\t} else if (Ext.isString(this) || this instanceof String) {\n\t\t\t\t\tif (Ext.isNumber(contents)) {len = contents;}\n\t\t\t\t\tcontents = this;\n\t\t\t\t}\n\t\t\t\tif (contents.then) { // check if we currently have a promise\n\t\t\t\t\treturn contents.then(function(text) {show(text, len)})\n\t\t\t\t}\n\t\t\t\tif (contents.toHtml) {contents=contents.toHtml()}\n\t\t\t\telse if (contents.getString) {contents=contents.getString()}\n\t\t\t\telse if (contents.toString) {contents=contents.toString()}\n//\t\t\t\tcontents = contents.getString ? contents.getString() : contents.toString();\n\n\t\t\t\tif (contents.then) { // check again to see if we have a promise (like from toString())\n\t\t\t\t\tcontents.then(function(text) {show(text, len)})\n\t\t\t\t} else {\n\t\t\t\t\tif (len && Ext.isNumber(len)) {contents = contents.substring(0,len)}\n\t\t\t\t\tif (Voyant.notebook.util.Show.SINGLE_LINE_MODE==false) {contents=\"<div class='\"+Voyant.notebook.util.Show.MODE+\"'>\"+contents+\"</div>\";}\n\t\t\t\t\tVoyant.notebook.util.Show.TARGET.insertHtml('beforeEnd',contents);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowError: function(error, more) {\n\t\t\tvar mode = Voyant.notebook.util.Show.MODE;\n\t\t\tVoyant.notebook.util.Show.MODE='error';\n\t\t\t\n\t\t\tif (this instanceof Voyant.util.ResponseError) {\n\t\t\t\terror = this;\n\t\t\t}\n\t\t\tif (error instanceof Voyant.util.ResponseError) {\n\t\t\t\tif (console) {console.error(error.getResponse())}\n\t\t\t\tmore = error.getResponse().responseText\n\t\t\t\terror = error.getMsg();\n\t\t\t}\n\t\t\t\n\t\t\telse {\n\n\t\t\t\tif (error !== undefined && error.stack && !more) {more=error.stack}\n\t\t\t\tif (more && Ext.isString(more)===false) {more=more.toString()}\n\t\t\t\t\n\t\t\t}\n\n\t\t\tif (console) {console.error(error)}\n\t\t\tif (more) {\n\t\t\t\tif (console) {console.error(more);}\n\t\t\t\terror=\"<h3>\"+error.toString()+\"</h3><pre>\"+Ext.String.htmlEncode(more)+'</pre>';\n\t\t\t}\n\t\t\tshow(error);\n\t\t\tVoyant.notebook.util.Show.MODE = mode;\n\t\t},\n\t\tTARGET : null,\n\t\tMODE: 'info',\n\t\tSINGLE_LINE_MODE : false\n\t}\n});\n\nString.prototype.show = Voyant.notebook.util.Show.show;\nvar show = Voyant.notebook.util.Show.show;\nvar showError = Voyant.notebook.util.Show.showError;\n","Ext.define(\"Voyant.notebook.util.Embed\", {\n\ttransferable: ['embed'],\n\tembed: function() { // this is for instances\n\t\tembed.apply(this, arguments);\n\t},\n\tconstructor: function(config) {\n\t\tvar me = this;\n\t},\n\tstatics: {\n\t\ti18n: {},\n\t\tapi: {\n\t\t\tembeddedParameters: undefined,\n\t\t\tembeddedConfig: undefined\n\t\t},\n\t\tembed: function(cmp, config) {\n\t\t\tif (this.then) {\n\t\t\t\tthis.then(function(embedded) {\n\t\t\t\t\tembed.call(embedded, cmp, config)\n\t\t\t\t})\n\t\t\t} else if (Ext.isArray(cmp)) {\n\t\t\t\tVoyant.notebook.util.Show.SINGLE_LINE_MODE=true;\n\t\t\t\tshow(\"<table><tr>\");\n\t\t\t\tcmp.forEach(function(embeddable) {\n\t\t\t\t\tshow(\"<td>\");\n\t\t\t\t\tif (Ext.isArray(embeddable)) {\n\t\t\t\t\t\tif (embeddable[0].embeddable) {\n\t\t\t\t\t\t\tembeddable[0].embed.apply(embeddable[0], embeddable.slice(1))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembed.apply(this, embeddable)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tembed.apply(this, embeddable);\n\t\t\t\t\t}\n\t\t\t\t\tshow(\"</td>\")\n\t\t\t\t\t\n\t\t\t\t})\n//\t\t\t\tfor (var i=0; i<arguments.length; i++) {\n//\t\t\t\t\tvar unit = arguments[i];\n//\t\t\t\t\tshow(\"<td>\")\n//\t\t\t\t\tunit[0].embed.call(unit[0], unit[1], unit[2]);\n//\t\t\t\t\tshow(\"</td>\")\n//\t\t\t\t}\n\t\t\t\tshow(\"</tr></table>\")\n\t\t\t\tVoyant.notebook.util.Show.SINGLE_LINE_MODE=false;\n\t\t\t\treturn\n\t\t\t} else {\n\t\t\t\t// use the default (first) embeddable panel if no panel is specified\n\t\t\t\tif (this.embeddable && (!cmp || Ext.isObject(cmp))) {\n\t\t\t\t\t// if the first argument is an object, use it as config instead\n\t\t\t\t\tif (Ext.isObject(cmp)) {config = cmp;}\n\t\t\t\t\tcmp = this.embeddable[0];\n\t\t\t\t}\n\t\t\t\tif (Ext.isString(cmp)) {\n\t\t\t\t\tcmp = Ext.ClassManager.getByAlias('widget.'+cmp.toLowerCase()) || Ext.ClassManager.get(cmp);\n\t\t\t\t}\n\t\t\t\tvar isEmbedded = false;\n\t\t\t\tif (Ext.isFunction(cmp)) {\n\t\t\t\t\tvar name = cmp.getName();\n\t\t\t\t\tif (this.embeddable && Ext.Array.each(this.embeddable, function(item) {\n\t\t\t\t\t\t\tif (item==name) {\n\t\t\t\t\t\t\t\tconfig = config || {};\n\t\t\t\t\t\t\t\tvar embeddedParams = {};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfor (key in Ext.ClassManager.get(Ext.getClassName(cmp)).api) {\n\t\t\t\t\t\t\t\t\tif (key in config) {\n\t\t\t\t\t\t\t\t\t\tembeddedParams[key] = config[key]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!embeddedParams.corpus) {\n\t\t\t\t\t\t\t\t\tif (Ext.getClassName(this)=='Voyant.data.model.Corpus') {\n\t\t\t\t\t\t\t\t\t\tembeddedParams.corpus = this.getId();\n\t\t\t\t\t\t\t\t\t} else if (this.getCorpus) {\n\t\t\t\t\t\t\t\t\t\tvar corpus = this.getCorpus();\n\t\t\t\t\t\t\t\t\t\tif (corpus) {\n\t\t\t\t\t\t\t\t\t\t\tembeddedParams.corpus = this.getCorpus().getId();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tExt.applyIf(config, {\n\t\t\t\t\t\t\t\t\tstyle: 'width: '+(config.width || '90%') + (Ext.isNumber(config.width) ? 'px' : '')+\n\t\t\t\t\t\t\t\t\t\t'; height: '+(config.height  || '400px') + (Ext.isNumber(config.height) ? 'px' : '')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tdelete config.width;\n\t\t\t\t\t\t\t\tdelete config.height;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar corpus = embeddedParams.corpus;\n\t\t\t\t\t\t\t\tdelete embeddedParams.corpus;\n\t\t\t\t\t\t\t\t\n\t\t    \t    \t    \tExt.applyIf(embeddedParams, Voyant.application.getModifiedApiParams());\n\t\t\t\t\t\t\t\t\n\t\t    \t    \t    \t\n\t\t\t\t\t\t\t\tvar embeddedConfigParamEncodded = Ext.encode(embeddedParams);\n\t\t\t\t\t\t\t\tvar embeddedConfigParam = encodeURIComponent(embeddedConfigParamEncodded);\n\n\t\t\t\t\t\t\t\tvar iframeId = Ext.id();\n\t\t\t\t\t\t\t\tvar url = Voyant.application.getBaseUrlFull()+\"tool/\"+name.substring(name.lastIndexOf(\".\")+1)+'/?';\n\t\t\t\t\t\t\t\tif (true || embeddedConfigParam.length>1800) {\n\t\t\t\t\t\t\t\t\tshow('<iframe style=\"'+config.style+'\" id=\"'+iframeId+'\" name=\"'+iframeId+'\"></iframe>');\n\t\t\t\t\t\t\t\t\tvar dfd = Voyant.application.getDeferred(this);\n\t\t\t\t\t    \t    \tExt.Ajax.request({\n\t\t\t\t\t    \t    \t    url: Voyant.application.getTromboneUrl(),\n\t\t\t\t\t    \t    \t    params: {\n\t\t\t\t\t    \t        \t\ttool: 'resource.StoredResource',\n\t\t\t\t\t    \t        \t\tstoreResource: embeddedConfigParam\n\t\t\t\t\t    \t    \t    }\n\t\t\t\t\t    \t    \t}).then(function(response) {\n\t\t\t\t    \t    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n\t\t\t\t    \t    \t    \tvar params = {\n\t\t\t\t    \t    \t    \t\tminimal: true,\n\t\t\t\t    \t    \t    \t\tembeddedApiId: json.storedResource.id\n\t\t\t\t    \t    \t    \t}\n\t\t\t\t    \t    \t    \tif (corpus) {\n\t\t\t\t    \t    \t    \t\tparams.corpus = corpus;\n\t\t\t\t    \t    \t    \t}\n\t\t\t\t    \t    \t    \tExt.applyIf(params, Voyant.application.getModifiedApiParams());\n\t\t\t\t    \t    \t    \tdocument.getElementById(iframeId).setAttribute(\"src\",url+Ext.Object.toQueryString(params));\n\t\t\t\t\t\t\t\t\t\tdfd.resolve();\n\t\t\t\t\t    \t    \t}).otherwise(function(response) {\n\t\t\t\t\t    \t    \t\tshowError(response);\n\t\t\t\t\t    \t    \t\tdfd.reject();\n\t\t\t\t\t    \t    \t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tshow('<iframe src=\"'+url+embeddedConfigParam+'\" style=\"'+config.style+'\" id=\"'+iframeId+'\" name=\"'+iframeId+'\"></iframe>');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tisEmbedded = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this)===true) {\n\t\t\t\t\t\tVoyant.notebook.util.Embed.showWidgetNotRecognized.call(this);\n\t\t\t\t\t}\n\t\t\t\t\tif (!isEmbedded) {\n\t\t\t\t\t\tvar embedded = Ext.create(cmp, config);\n\t\t\t\t\t\tembedded.embed(config);\n\t\t\t\t\t\tisEmbedded = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!isEmbedded) {\n\t\t\t\t\t\n\t\t\t\t\tVoyant.notebook.util.Embed.showWidgetNotRecognized.call(this);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowWidgetNotRecognized: function() {\n\t\t\tvar msg = Voyant.notebook.util.Embed.i18n.widgetNotRecognized;\n\t\t\tif (this.embeddable) {\n\t\t\t\tmsg += Voyant.notebook.util.Embed.i18n.tryWidget+'<ul>'+this.embeddable.map(function(cmp) {\n\t\t\t\t\tvar widget = cmp.substring(cmp.lastIndexOf(\".\")+1).toLowerCase()\n\t\t\t\t\treturn \"\\\"<a href='../../docs/#!/guide/\"+widget+\"' target='voyantdocs'>\"+widget+\"</a>\\\"\"\n\t\t\t\t}).join(\", \")+\"</ul>\"\n\t\t\t}\n\t\t\tshowError(msg)\n\t\t}\n\n\t}\n})\n\nembed = Voyant.notebook.util.Embed.embed","Ext.define('Voyant.data.model.AnalysisToken', {\n    extend: 'Ext.data.Model',\n    idProperty: 'term',\n    fields: [\n         {name: 'term'},\n         {name: 'rawFreq', type: 'int'},\n         {name: 'relativeFreq', type: 'number'},\n         {name: 'cluster', type: 'int'},\n         {name: 'clusterCenter', type: 'boolean'},\n         {name: 'vector'}\n    ]\n});","Ext.define('Voyant.data.model.Context', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'id'},\n             {name: 'docIndex', 'type': 'int'},\n             {name: 'position', 'type': 'int'},\n             {name: 'docId'},\n             {name: 'left'},\n             {name: 'keyword'},\n             {name: 'term'},\n             {name: 'right'}\n        ],\n\n        getDocIndex: function() {return this.get(\"docIndex\")},\n        getLeft: function() {return this.get(\"left\")},\n        getMiddle: function() {return this.get(\"middle\")},\n        getHighlightedMiddle: function() {return \"<span class='keyword'>\"+this.getMiddle()+\"</span>\"},\n        getRight: function() {return this.get(\"right\")},\n        getPosition: function() {return this.get(\"position\")},\n        getHighlightedContext: function() {return this.getLeft()+this.getHighlightedMiddle()+this.getRight();}\n\t\n});","Ext.define('Voyant.data.model.CorpusFacet', {\n    extend: 'Ext.data.Model',\n    idProperty: 'label',\n    fields: [\n             {name: 'facet'},\n             {name: 'label'},\n             {name: 'inDocumentsCount', type: 'int'}\n    ],\n    getLabel: function() {\n    \treturn this.get('label')\n    },\n    getFacet: function() {\n    \treturn this.get('facet')\n    },\n\tgetInDocumentsCount: function() {\n\t\treturn this.get('inDocumentsCount')\n\t}\n});","Ext.define('Voyant.data.model.CorpusCollocate', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'term'},\n             {name: 'rawFreq', type: 'int'},\n             {name: 'contextTerm'},\n             {name: 'contextTermRawFreq', type: 'int'}\n    ],\n    \n    getTerm: function() {return this.getKeyword()},\n    getRawFreq: function() {return this.getKeywordRawFreq()},\n    getKeyword: function() {return this.get('term');},\n    getKeywordRawFreq: function() {return this.get('rawFreq');},\n    getContextTerm: function() {return this.get('contextTerm');},\n    getContextTermRawFreq: function() {return this.get('contextTermRawFreq');}\n});","/*\n * Corpus Term\n */\nExt.define('Voyant.data.model.CorpusTerm', {\n    extend: 'Ext.data.Model',\n    idProperty: 'term', // should be unique\n    fields: [\n             {name: 'id'},\n             {name: 'rawFreq', type: 'int'},\n             {name: 'inDocumentsCount', type: 'int'},\n             {name: 'relativeFreq', type: 'float'},\n             {name: 'relativePeakedness', type: 'float'},\n             {name: 'relativeSkewness', type: 'float'},\n             {name: 'comparisonRelativeFreqDifference', type: 'float'},\n             {name: 'distributions'},\n             {name: 'typeTokenRatio-lexical', type: 'float', calculate:  function(data) {\n        \t \treturn data['typesCount-lexical']/data['tokensCount-lexical'];\n             }}\n    ],\n    \n    /**\n     * Get the term.\n     * @returns {String} Returns the term.\n     */\n    getTerm: function() {\n    \treturn this.get('term');\n    },\n    \n    /**\n     * Get the term's raw frequency.\n     * @returns {Number} Returns the term's frequency.\n     */\n\tgetRawFreq: function() {\n\t\treturn parseInt(this.get('rawFreq'));\n\t},\n\t\n\tgetInDocumentsCount: function() {\n\t\treturn parseInt(this.get('inDocumentsCount'));\n\t},\n\t\n\tgetDistributions: function() {\n\t\treturn this.get('distributions');\n\t},\n\t\n\t/**\n\t * Show a one line summary of this term.\n\t */\n\tshow: function(config) {\n\t\tshow(this.getString(config))\n\t},\n\t\n\tgetString: function() {\n\t\treturn this.getTerm()+\": \"+this.getRawFreq();\n\t}\n});","Ext.define('Voyant.data.model.CorpusNgram', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'term'},\n             {name: 'length', type: 'int'},\n             {name: 'rawFreq', type: 'int'},\n             {name: 'distributions'}\n        ],\n    getTerm: function() {return this.get('term');}\n});","Ext.define('Voyant.data.model.Dimension', {\n    extend: 'Ext.data.Model',\n    fields: [\n        {name: 'percentage', type: 'number'}\n    ]\n});","Ext.define('Voyant.data.model.Document', {\n    extend: 'Ext.data.Model',\n    //requires: ['Voyant.data.store.DocumentTerms'],\n    fields: [\n             {name: 'corpus'},\n\t\t\t {name: 'id'},\n\t\t\t {name: 'author'},\n             {name: 'pubDate'},\n             {name: 'publisher'},\n             {name: 'pubPlace'},\n             {name: 'keyword'},\n             {name: 'collection'},\n             {name: 'index', type: 'int'},\n             {name: 'tokensCount-lexical', type: 'int'},\n             {name: 'typesCount-lexical', type: 'int'},\n             {name: 'typeTokenRatio-lexical', type: 'float', calculate:  function(data) {\n        \t \treturn data['typesCount-lexical']/data['tokensCount-lexical'];\n             }},\n             {name: 'lastTokenStartOffset-lexical', type: 'int'},\n             {name: 'title'},\n             {name: 'language', convert: function(data) {return Ext.isEmpty(data) ? '' : data;}},\n             {name: 'sentencesCount', type: 'int'},\n             {name: 'averageWordsPerSentence', type: 'float', calculate:  function(data) {\n        \t \treturn data['sentencesCount'] ? data['tokensCount-lexical'] / data['sentencesCount'] : 0;\n\t\t\t }},\n\t\t\t {name: 'css', type: 'string'}\n    ],\n    \n    getLexicalTokensCount: function() {\n    \treturn this.get('tokensCount-lexical')\n    },\n    \n    getLexicalTypeTokenRatio: function() {\n    \treturn this.get('typeTokenRatio-lexical')\n    },\n    \n    loadDocumentTerms: function(config) {\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\n\t\t\tconfig = config || {};\n\t\t\tif (Ext.isNumber(config)) {\n\t\t\t\tconfig = {limit: config};\n\t\t\t}\n\t\t\tExt.applyIf(config, {\n\t\t\t\tlimit: 0\n\t\t\t})\n\t\t\tvar documentTerms = this.getDocumentTerms();\n\t\t\tdocumentTerms.load({\n\t\t\t\tparams: config,\n\t\t\t\tcallback: function(records, operation, success) {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tdfd.resolve(documentTerms)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdfd.reject(operation)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn dfd.promise\n\t\t}\n    \t\n    },\n    \n    loadTokens: function(config) {\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\n\t\t\tconfig = config || {};\n\t\t\tif (Ext.isNumber(config)) {\n\t\t\t\tconfig = {limit: config};\n\t\t\t}\n\t\t\tExt.applyIf(config, {\n\t\t\t\tlimit: 0\n\t\t\t})\n\t\t\tvar tokens = this.getTokens({});\n\t\t\ttokens.load({\n\t\t\t\tparams: config,\n\t\t\t\tcallback: function(records, operation, success) {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tdfd.resolve(tokens)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdfd.reject(operation)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn dfd.promise\n\t\t}\n    \t\n    },\n    \n    getTokens: function(config) {\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t    \tconfig = config || {};\n\t    \tExt.applyIf(config, {\n\t    \t\tproxy: {}\n\t    \t});\n\t    \tExt.applyIf(config.proxy, {\n\t    \t\textraParams: {}\n\t    \t})\n\t    \tExt.applyIf(config.proxy.extraParams, {\n\t    \t\tdocIndex: this.get('index')\n\t    \t})\n\t    \tExt.apply(config, {\n\t    \t\tdocId: this.get('id')\n\t    \t});\n\t    \treturn this.get('corpus').getTokens(config);\n\t\t}\n    },\n\n    getDocumentTerms: function(config) {\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t    \tconfig = config || {};\n\t    \tExt.applyIf(config, {\n\t    \t\tproxy: {}\n\t    \t});\n\t    \tExt.applyIf(config.proxy, {\n\t    \t\textraParams: {}\n\t    \t})\n\t    \tExt.applyIf(config.proxy.extraParams, {\n\t    \t\tdocIndex: this.get('index')\n\t    \t})\n\t    \tif (config.corpus) {\n\t    \t\treturn config.corpus.getDocumentTerms(config);\n\t    \t}\n\t    \treturn this.get('corpus').getDocumentTerms(config); // FIXME: when does this happen?\n\t\t}\n    },\n    \n    getIndex: function() {\n    \treturn this.get('index');\n    },\n    \n    getId: function() {\n    \treturn this.get('id');\n    },\n    \n    getFullLabel: function() {\n    \tvar author = this.getAuthor();\n    \treturn this.getTitle() + (author ? \"(\"+author+\")\" : ''); // TODO: complete full label\n    },\n    \n    getTitle: function() {\n    \tvar title = this.get('title');\n    \tif (title === undefined) title = '';\n    \ttitle = Ext.isArray(title) ? title.join(\"; \") : title;\n    \ttitle = title.trim().replace(/\\s+/g, ' '); // remove excess whitespace\n    \treturn title;\n    },\n    \n    getTruncated: function(string, max) {\n  \t\tif (string.length > max) {\n\t\t\t\t// maybe a file or URL?\n\t\t\t\tvar slash = string.lastIndexOf(\"/\");\n\t\t\t\tif (slash>-1) {\n\t\t\t\t\tstring = string.substr(slash+1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (string.length>max) {\n\t\t\t\t\tvar space = string.indexOf(\" \", max-5);\n\t\t\t\t\tif (space < 0 || space > max) {\n\t\t\t\t\t\tspace = max;\n\t\t\t\t\t}\n\t\t\t\t\tstring = string.substring(0, space) + \"\u2026\";\n\t\t\t\t}\n\t\t}\n  \t\treturn string;\n    \t\n    },\n    \n    getShortTitle: function() {\n     \tvar title = this.getTitle();\n     \ttitle = title.replace(/\\.(html?|txt|xml|docx?|pdf|rtf|\\/)$/,'');\n     \ttitle = title.replace(/^(the|a|le|l'|un|une)\\s/,'');\n     \treturn this.getTruncated(title, 25);\n    },\n    \n    getTinyTitle: function() {\n    \treturn this.getTruncated(this.getShortTitle(), 10);\n    },\n    \n    getShortLabel: function() {\n    \tvar author = this.getAuthor(25);\n    \treturn (parseInt(this.getIndex())+1) + ') <i>' + this.getShortTitle() + \"</i>\" +(author ? \" (\"+author+\")\" : '')\n    },\n    \n    getTinyLabel: function() {\n    \treturn (parseInt(this.getIndex())+1) + ') ' + this.getTinyTitle();\n    },\n    \n    getPubDate: function() {\n    \treturn this.get(\"pubDate\");\n    },\n    \n    getPublisher: function() {\n    \treturn this.get(\"publisher\");\n    },\n    \n    getPubPlace: function() {\n    \treturn this.get(\"pubPlace\");\n    },\n    \n    getKeyword: function() {\n    \treturn this.getMultiple(\"keyword\");\n    },\n    \n    getCollection: function() {\n    \treturn this.getMultiple(\"collection\");\n    },\n    \n    getAuthor: function(max) {\n    \tthis.getMultiple(\"author\")\n    },\n    \n    getMultiple: function(field, max) {\n    \tvar val = this.get(field) || \"\";\n    \tval = Ext.isArray(val) ? val.join(\"; \") : val;\n    \tval = val.trim().replace(/\\s+/g, ' ');\n    \treturn max ? this.getTruncated(val, max) : val;\n    },\n    \n    getCorpusId: function() {\n    \treturn this.get('corpus').getAliasOrId();\n    },\n    \n    isPlainText: function() {\n    \tif (this.get(\"extra.Content-Type\") && new RegExp(\"plain\",\"i\").test(this.get(\"extra.Content-Type\"))) {\n    \t\treturn true\n    \t}\n    \treturn false;\n    },\n    \n    getAverageWordsPerSentence: function() {\n    \treturn this.get(\"averageWordsPerSentence\");\n    },\n    \n    show: function() {\n    \tshow(this.getFullLabel())\n    },\n    \n    getCorpus: function() {\n    \treturn this.get('corpus');\n    },\n    \n    \n    getText: function(config) {\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\n\t    \tconfig = config || {};\n\t    \tExt.apply(config, {\n        \t\ttool: 'corpus.DocumentTokens',\n        \t\tcorpus: this.getCorpusId()\n\t    \t})\n\t    \tthis.getTokens(config).then(function(tokens) {\n\t    \t\tdfd.resolve(tokens);\n\t    \t});\n\t    \treturn dfd.promise\n\t\t}\n    },\n    \n    getPlainText: function(config) {\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t    \tconfig = config || {};\n\t    \tExt.apply(config, {\n    \t\t\toutputFormat: \"text\",\n    \t\t\ttemplate: \"docTokens2text\",\n    \t\t\tnoOthers: true\n\t    \t});\n\t\t\treturn this.getText();\n\t\t}\n    \t\n    },\n    \n    getLemmasArray: function(config) {\n    \tconfig = config || {};\n    \tconfig.docId = this.getId();\n\t\treturn this.getCorpus().getLemmasArray(config);\n//\t\tif (this.then) {\n//\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n//\t\t} else {\n//\t    \tconfig = config || {};\n//\t    \tExt.apply(config, {\n//    \t\t\tdocId: this.getId()\n//\t    \t});\n//\t\t\treturn this.getCorpus().getLemmasArray(config);\n//\t\t}\n    },\n    \n    getEntities: function(config) {\n    \tconfig = config || {};\n    \tExt.applyIf(config, {\n    \t\tproxy: {}\n    \t});\n    \tExt.applyIf(config.proxy, {\n    \t\textraParams: {}\n    \t})\n    \tExt.applyIf(config.proxy.extraParams, {\n    \t\tdocIndex: this.get('index')\n    \t})\n\t\treturn Ext.create(\"Voyant.data.store.DocumentEntities\", Ext.apply(config, {corpus: this.getCorpus(), docId: this.getId()}));\n    },\n    \n    loadEntities: function(config) {\n\t\tvar me = this;\n\t\tif (this.then) {\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\n\t\t} else {\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\n\t\t\tthis.getEntities().load({\n\t\t\t\tparams: config,\n\t\t\t\tcallback: function(records, operation, success) {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tdfd.resolve(records)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdfd.reject(operation.error.response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn dfd.promise\n\t\t}\n\t},\n\t\n\tgetCSS: function() {\n\t\treturn this.get('css') || this.get('parent_css');\n\t}\n    \n});","Ext.define('Voyant.data.model.DocumentEntity', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'term'},\n             {name: 'docIndex', 'type': 'int'},\n             {name: 'rawFreq', type: 'int'},\n             {name: 'type'},\n             {name: 'positions'}\n        ],\n    getTerm: function() {return this.get('term');},\n    getDocIndex: function() {return this.get('docIndex')},\n    getRawFreq: function() {return this.get('rawFreq')},\n    getPositions: function() {return this.get('positions')}\n});","Ext.define('Voyant.data.model.DocumentQueryMatch', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'id'},\n             {name: 'count', 'type': 'int'},\n             {name: 'query'},\n             {name: 'distributions'}\n        ],\n    getCount: function() {return this.get('count')},\n    getDistributions: function() {return this.get(\"distributions\")},\n    getDocIds: function() {return this.get(\"docIds\")}\n});","Ext.define('Voyant.data.model.DocumentTerm', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'id'},\n             {name: 'term'},\n             {name: 'docIndex', 'type': 'int'},\n             {name: 'docId'},\n             {name: 'rawFreq', type: 'int'},\n             {name: 'relativeFreq', type: 'float'},\n             {name: 'tfidf', type: 'float'},\n             {name: 'zscore', type: 'float'},\n             {name: 'zscoreRatio', type: 'float'},\n             {name: 'distributions'}\n        ],\n    getTerm: function() {return this.get('term');},\n    getDocIndex: function() {return this.get('docIndex')},\n    getRawFreq: function() {return this.get('rawFreq')},\n    getRelativeFreq: function() {return this.get('relativeFreq')},\n    getDistributions: function() {return this.get('distributions')}\n});","Ext.define('Voyant.data.model.PrincipalComponent', {\n    extend: 'Ext.data.Model',\n    fields: [\n        {name: 'eigenValue', type: 'number'},\n        {name: 'eigenVectors'}\n    ]\n});","/*\n * Related Term\n */\nExt.define('Voyant.data.model.RelatedTerm', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'source'},\n             {name: 'target'},\n             {name: 'rawFreq', type: 'int'}\n    ],\n    \n    /**\n     * Get the source term.\n     * @returns {String} Returns the term.\n     */\n    getSource: function() {\n    \treturn this.get('source');\n    },\n    \n    /**\n     * Get the source term.\n     * @returns {String} Returns the term.\n     */\n    getTarget: function() {\n    \treturn this.get('target');\n    },\n    \n\t/**\n\t * Show a one line summary of this term.\n\t */\n\tshow: function(config) {\n\t\tshow(this.getString(config))\n\t},\n\t\n\tgetString: function() {\n\t\treturn this.getSource()+\"-\"+this.getTarget();\n\t}\n});","Ext.define('Voyant.data.model.StatisticalAnalysis', {\n    extend: 'Ext.data.Model',\n    requires: ['Voyant.data.model.PrincipalComponent', 'Voyant.data.model.Dimension', 'Voyant.data.model.AnalysisToken'],\n    fields: [\n         {name: 'id'}\n//         ,{name: 'dimensions', reference: 'Voyant.data.model.Dimension'}\n//         ,{name: 'tokens', reference: 'Voyant.data.model.AnalysisToken'}\n    ]\n    \n\t// alternative access methods to \"reference\" or \"hasMany\"\n\t,getPrincipalComponents: function() {\n\t\tvar pcs = [];\n\t\tthis.data.principalComponents.forEach(function(pc) {\n\t\t\tpcs.push(Ext.create('Voyant.data.model.PrincipalComponent', pc));\n\t\t});\n\t\treturn pcs;\n\t}\n\t,getDimensions: function() {\n\t\tvar dimensions = [];\n\t\tthis.data.dimensions.forEach(function(dim) {\n\t\t\tdimensions.push(Ext.create('Voyant.data.model.Dimension', {percentage: dim}));\n\t\t});\n\t\treturn dimensions;\n\t}\n\t,getTokens: function() {\n\t\tvar tokens = [];\n\t\tthis.data.tokens.forEach(function(tok) {\n\t\t\ttokens.push(Ext.create('Voyant.data.model.AnalysisToken', tok));\n\t\t});\n\t\treturn tokens;\n\t}\n\n\n//    ,hasMany: [{\n//    \tname: 'dimensions', model: 'Voyant.data.model.Dimension'\n//    },{\n//    \tname: 'tokens', model: 'Voyant.data.model.AnalysisToken'\n//    }]\n});","Ext.define('Voyant.data.model.Token', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'id'},\n             {name: 'docId'},\n             {name: 'docIndex', type: 'int'},\n             {name: 'token'},\n             {name: 'rawFreq'},\n             {name: 'tokenType'},\n             {name: 'position', type: 'int'},\n             {name: 'startOffset', type: 'int'},\n             {name: 'endOffset', type: 'int'}\n        ],\n    statics: {\n    \tgetInfoFromElement: function(arg) {\n    \t\tif (arg && arg.getId) {\n    \t\t\tvar parts = arg.getId().split(\"_\");\n    \t\t\treturn {\n    \t\t\t\tdocIndex: parseInt(parts[1]),\n    \t\t\t\tposition: parseInt(parts[2])\n    \t\t\t};\n    \t\t}\n    \t}\n    },\n\tisWord: function() {\n\t\treturn this.getTokenType()=='lexical'; // maybe something else later?\n\t},\n\tisStopword: function() {\n\t\treturn this.get(\"stopword\")==\"true\";\n\t},\n\tgetTokenType: function() {\n\t\treturn this.get(\"tokenType\");\n\t},\n\tgetId: function() {\n\t\treturn [\"\",this.getDocIndex(),this.getPosition()].join(\"_\");\n\t},\n\tgetDocIndex: function() {\n\t\treturn this.get(\"docIndex\");\n\t},\n\tgetDocId: function() {\n\t\treturn this.get(\"docId\");\n\t},\n\tgetTerm: function() {\n\t\treturn this.get(\"term\");\n\t},\n\tgetTermWithLineSpacing: function(isPlainText) {\n\t\tvar term = this.getTerm().replace(/<\\/?\\w+\\b.*?>/g, \"<br /><br />\").replace(/>\\s+</g,\"><\").replace(/<br \\/><br \\/>(<br \\/>)+/g,\"<br \\/><br \\/>\");\n\t\tif (isPlainText) {term = term.replace(/(\\r\\n|\\r|\\n)\\s*/g,\"<br />\");};\n\t\treturn term;\n\t},\n\tgetPosition: function() {\n\t\treturn this.get(\"position\");\n\t},\n\tgetDocumentRawFreq: function() {\n\t\treturn this.get(\"rawFreq\");\n\t}\n});","/*\n * Related Term\n */\nExt.define('Voyant.data.model.TermCorrelation', {\n    extend: 'Ext.data.Model',\n    fields: [\n             {name: 'source'},\n             {name: 'target'},\n             {name: 'correlation', type: 'float'},\n             {name: 'significance', type: 'float'},\n             {name: 'source-term', calculate: function(data) {return data.source.term}},\n             {name: 'target-term', calculate: function(data) {return data.target.term}},\n             {name: 'source-distributions', calculate: function(data) {return data.source.distributions}},\n             {name: 'target-distributions', calculate: function(data) {return data.target.distributions}}\n    ],\n    \n    /**\n     * Get the source term.\n     * @returns {String} Returns the term.\n     */\n    getSource: function() {\n    \treturn this.get('source');\n    },\n    \n    /**\n     * Get the source term.\n     * @returns {String} Returns the term.\n     */\n    getTarget: function() {\n    \treturn this.get('target');\n    },\n    \n\t/**\n\t * Show a one line summary of this term.\n\t */\n\tshow: function(config) {\n\t\tshow(this.getString(config))\n\t},\n\t\n\tgetString: function() {\n\t\treturn this.getSource()+\"-\"+this.getTarget();\n\t}\n});","Ext.define('Voyant.data.store.VoyantStore', {\r\n\tmixins: ['Voyant.util.Localization','Voyant.notebook.util.Embed'],\r\n\tconfig: {\r\n\t\tcorpus: undefined,\r\n\t\tparentPanel: undefined\r\n\t},\r\n\tconstructor: function(config, extras) {\r\n\t\tvar me = this;\r\n\t\tconfig = config || {};\r\n\t\tExt.applyIf(config, {\r\n\t\t\tremoteSort: true,\r\n\t\t\tautoLoad: false,\r\n//\t\t\tlisteners: {\r\n//\t\t\t\tbeforeload: function(store, operation) {\r\n//\t\t\t\t\tvar parent = this.getParentPanel();\r\n//\t\t\t\t\tif (parent !== undefined) {\r\n//\t\t\t\t\t\tvar params = parent.getApiParams();\r\n//\t\t\t\t\t\toperation = operation ? (operation===1 ? {} : operation) : {};\r\n//\t\t\t\t\t\toperation.params = operation.params || {};\r\n//\t\t\t\t\t\tfor (var key in params) {\r\n//\t\t\t\t\t\t\toperation.params[key] = params[key];\r\n//\t\t\t\t\t\t}\r\n//\t\t\t\t\t}\r\n//\t\t\t\t}\r\n//\t\t\t},\r\n//\t\t\tscope: this,\r\n\t\t\t// define buffered configuration even if ignored when this isn't a buffered store\r\n\t\t\tpagePurgeCount : 0, // don't purge any data\r\n\t\t\tpageSize : 100, // each request is more intenstive, so do fewer of them then default\r\n\t\t\tleadingBufferZone : 200 // stay two pages ahead\r\n\t\t});\r\n\t\tconfig.proxy = config.proxy || {};\r\n\t\tExt.applyIf(config.proxy, {\r\n\t\t\ttype: 'ajax',\r\n\t\t\ttimeout: 120000,\r\n\t\t\turl: Voyant.application.getTromboneUrl(),\r\n\t\t\tactionMethods: {read: 'POST'},\r\n\t\t\treader: {\r\n\t\t\t\ttype: 'json',\r\n\t\t\t\trootProperty: extras['proxy.reader.rootProperty'],\r\n\t\t\t\ttotalProperty: extras['proxy.reader.totalProperty'],\r\n\t\t\t\tmetaProperty: extras['proxy.reader.metaProperty'] || 'metaData'\r\n\t\t\t},\r\n\t\t\tsimpleSortMode: true,\r\n\t\t\tlisteners: {\r\n\t\t\t\texception: function(proxy, request, operation) {\r\n\t\t\t\t\tif (me.parentPanel && me.parentPanel.showError) {\r\n\t\t\t\t\t\t// FIXME: this should probably send the request, not the operation\r\n\t\t\t\t\t\tme.parentPanel.showError(operation)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\tconfig.proxy.extraParams = config.proxy.extraParams || {};\r\n\t\tExt.applyIf(config.proxy.extraParams, {\r\n\t\t\ttool: extras['proxy.extraParams.tool']\r\n\t\t});\r\n\t\t\r\n\t\tif (config.parentPanel !== undefined) {\r\n\t\t\tExt.applyIf(config.proxy.extraParams, {\r\n\t\t\t\tforTool: config.parentPanel.xtype\r\n\t\t\t});\r\n\t\t\tthis.setParentPanel(config.parentPanel);\r\n\t\t\tconfig.parentPanel.on(\"loadedCorpus\", function(src, corpus) {\r\n\t\t\t\tthis.setCorpus(corpus);\r\n\t\t\t}, this);\r\n\t\t\tconfig.listeners = config.listeners || {};\r\n\t\t\tconfig.listeners.beforeload = {\r\n\t\t\t\t\tfn: function(store, operation) {\r\n\t\t\t\t\t\tvar parent = this.getParentPanel(), proxy = store.getProxy();\r\n\t\t\t\t\t\tif (parent !== undefined) {\r\n\r\n\t\t\t\t\t\t\tvar params = parent.getApiParams();\r\n\t\t\t\t\t\t\toperation = operation ? (operation===1 ? {} : operation) : {};\r\n\t\t\t\t\t\t\toperation.params = operation.params || {};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// unset any previously set extra params (only applies with proxy and buffered store)\r\n\t\t\t\t\t\t\tif (proxy && this.isBufferedStore) {\r\n\t\t\t\t\t\t\t\tExt.Array.from(this.previouslySetExtraParams).forEach(function(key) {\r\n\t\t\t\t\t\t\t\t\tproxy.setExtraParam(key, undefined);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.previouslySetExtraParams = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (var key in params) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/* TODO NOT SURE ABOUT THIS\r\n\t\t\t\t\t\t\t\t// don't sent stopList when there's a query\r\n\t\t\t\t\t\t\t\tif (key==\"stopList\" && \"query\" in params && params.query) {continue;}\r\n\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (proxy && this.isBufferedStore) { // also set proxy for automatic buffering calls\r\n\t\t\t\t\t\t\t\t\tthis.previouslySetExtraParams.push(key);\r\n\t\t\t\t\t\t\t\t\tproxy.setExtraParam(key, params[key]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\toperation.params[key] = params[key];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tExt.apply(this, config);\r\n\t},\r\n\tsetCorpus: function(corpus) {\r\n\t\tif (corpus && this.getProxy && this.getProxy()) {\r\n\t\t\tthis.getProxy().setExtraParam('corpus', Ext.isString(corpus) ? corpus : corpus.getId());\r\n\t\t}\r\n\t\tthis.callParent(arguments);\r\n\t},\r\n\tgetString: function(config) {\r\n\t\tvar count = this.getCount();\r\n\t\treturn \"This store contains \"+this.getCount()+\" items\"+(count>0 ? \" with these fields: \"+this.getAt(0).getFields().map(function(field) {return field.getName()}).join(\", \") : \"\")+\".\"\r\n\t},\r\n\t\r\n\tembed: function(cmp, config) {\r\n\t\tif (!config && Ext.isObject(cmp)) {\r\n\t\t\tconfig = cmp;\r\n\t\t\tcmp = this.embeddable[0];\r\n\t\t}\r\n\t\tconfig = config || {};\r\n\t\t\r\n\t\tvar data = [];\r\n\t\tthis.each(function(record) {\r\n\t\t\tdata.push(record.data);\r\n\t\t}, this);\r\n\t\t\r\n\t\tExt.apply(config, {\r\n\t\t\tstoreJson: JSON.stringify({\r\n\t\t\t\tstoreClass: Ext.getClassName(this),\r\n\t\t\t\tstoreData: data\r\n\t\t\t})\r\n\t\t});\r\n\t\t\r\n\t\tembed.call(this, cmp, config);\r\n\t}\r\n\t\r\n});","Ext.define('Voyant.data.store.CAAnalysisMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n\tembeddable: ['Voyant.panel.ScatterPlot'],\n    model: 'Voyant.data.model.StatisticalAnalysis',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.CA',\n\t\t\t'proxy.reader.rootProperty': 'correspondenceAnalysis',\n\t\t\t'proxy.reader.totalProperty': 'correspondenceAnalysis.totalTerms'\n\t\t}])\n\t\tconfig.proxy.extraParams.withDistributions = true;\n\t}\n});\n\nExt.define('Voyant.data.store.CAAnalysis', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.CAAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CAAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.CAAnalysisBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.CAAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CAAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.ContextsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.Context',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.DocumentContexts',\n\t\t\t'proxy.reader.rootProperty': 'documentContexts.contexts',\n\t\t\t'proxy.reader.totalProperty': 'documentContexts.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.Contexts', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.ContextsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.ContextsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.ContextsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.ContextsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.ContextsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.CorpusCollocatesMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.CorpusCollocate',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.CorpusCollocates',\n\t\t\t'proxy.reader.rootProperty': 'corpusCollocates.collocates',\n\t\t\t'proxy.reader.totalProperty': 'corpusCollocates.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.CorpusCollocates', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.CorpusCollocatesMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusCollocatesMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.CorpusCollocatesBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.CorpusCollocatesMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusCollocatesMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.CorpusFacetsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: Voyant.data.model.CorpusFacet,\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.CorpusFacets',\n\t\t\t'proxy.reader.rootProperty': 'corpusFacets.facets',\n\t\t\t'proxy.reader.totalProperty': 'corpusFacets.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.CorpusFacets', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.CorpusFacetsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusFacetsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.CorpusFacetsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.CorpusFacetsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusFacetsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n","Ext.define('Voyant.data.store.CorpusTermsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: Voyant.data.model.CorpusTerm,\n//    statics: {\n//    \ti18n: {\n//    \t\tgetString: \"This store has {0} terms with a total of {1} occurrences.\"\n//    \t}\n//    },\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.CorpusTerms',\n\t\t\t'proxy.reader.rootProperty': 'corpusTerms.terms',\n\t\t\t'proxy.reader.totalProperty': 'corpusTerms.total'\n\t\t}])\n\t},\n\n\tshow: function(config) {\n\t\tshow(this.getString(config))\n\t}\n\n});\n\n/*\n * Corpus Terms store.\n */\nExt.define('Voyant.data.store.CorpusTerms', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.CorpusTermsMixin'],\n    model: Voyant.data.model.CorpusTerm,\n\t\n\t/**\n\t * @method each\n\t * Iterate over each {@link Voyant.data.model.CorpusTerm corpus term} in this store.\n\t * \n\t * \tnew Corpus(\"Hello Voyant!\").loadCorpusTerms().then(function(corpusTerms) {\n\t * \t\tcorpusTerms.each(function(corpusTerm) {\n\t * \t\t\tcorpusTerm.show();\n\t * \t\t});\n\t * \t});\n\t * \n\t * @param {function} function The function to call for each corpus term.\n\t */\n\t\n\t/**\n\t * @method show\n\t * Shows a one line summary of the corpus terms.\n\t * \n\t * \tnew Corpus(\"Hello Voyant!\").loadCorpusTerms().then(function(corpusTerms) {\n\t * \t\tcorpusTerms.show();\n\t * \t});\n\t */\n\t\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusTermsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n\t\n});\n\nExt.define('Voyant.data.store.CorpusTermsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.CorpusTermsMixin'],\n    model: Voyant.data.model.CorpusTerm,\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusTermsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n","Ext.define('Voyant.data.store.DocumentQueryMatchesMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.DocumentQueryMatch',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.DocumentsFinder',\n\t\t\t'proxy.reader.rootProperty': 'documentsFinder.queries',\n\t\t\t'proxy.reader.totalProperty': undefined,\n\t\t\t'proxy.reader.metaProperty': 'documentsFinder.corpus'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.DocumentQueryMatches', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.DocumentQueryMatchesMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentQueryMatchesMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.DocumentQueryMatchesBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.DocumentQueryMatchesMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentQueryMatchesMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n","Ext.define('Voyant.data.store.DocumentTermsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.DocumentTerm',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.DocumentTerms',\n\t\t\t'proxy.reader.rootProperty': 'documentTerms.terms',\n\t\t\t'proxy.reader.totalProperty': 'documentTerms.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.DocumentTerms', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.DocumentTermsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentTermsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.DocumentTermsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.DocumentTermsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentTermsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n","Ext.define('Voyant.data.store.DocumentEntitiesMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.DocumentEntity',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.DocumentEntities',\n\t\t\t'proxy.reader.rootProperty': 'documentEntities.entities',\n\t\t\t'proxy.reader.totalProperty': 'documentEntities.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.DocumentEntities', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.DocumentEntitiesMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentEntitiesMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.DocumentEntitiesBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.DocumentEntitiesMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentEntitiesMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n","Ext.define('Voyant.data.store.DocumentsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.Document',\n    statics: {\n    \ti18n: {\n    \t}\n    },\n\tsorters: {\n        property: 'index',\n        direction: 'ASC'\n\t},\n\tremoteSort: true,\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.DocumentsMetadata',\n\t\t\t'proxy.reader.rootProperty': 'documentsMetadata.documents',\n\t\t\t'proxy.reader.totalProperty': 'documentsMetadata.total'\n\t\t}])\n\t},\n\tlisteners: {\n\t\t load: function(store, records, successful, opts) {\n\t\t\t if (successful) {\n\t\t\t\t var corpus = store.getCorpus();\n\t\t\t\t records.forEach(function(record) {\n\t\t\t\t\t record.set('corpus', corpus);\n\t\t\t\t });\n\t\t\t }\n\t\t }\n\t},\n\tgetDocument: function(config) {\n\t\treturn Ext.isNumber(config) ? this.getAt(config) : this.getById(config);\n\t}\n\t\n});\n\nExt.define('Voyant.data.store.Documents', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.DocumentsMixin'],\n    model: 'Voyant.data.model.Document',\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.DocumentsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.DocumentsMixin'],\n    model: 'Voyant.data.model.Document',\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocumentsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n","Ext.define('Voyant.data.store.PCAAnalysisMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n\tembeddable: ['Voyant.panel.ScatterPlot'],\n    model: 'Voyant.data.model.StatisticalAnalysis',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.PCA',\n\t\t\t'proxy.reader.rootProperty': 'pcaAnalysis',\n\t\t\t'proxy.reader.totalProperty': 'pcaAnalysis.totalTerms'\n\t\t}])\n\t\tconfig.proxy.extraParams.withDistributions = true;\n\t}\n});\n\nExt.define('Voyant.data.store.PCAAnalysis', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.PCAAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.PCAAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.PCAAnalysisBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.PCAAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.PCAAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.DocSimAnalysisMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.StatisticalAnalysis',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.DocumentSimilarity',\n\t\t\t'proxy.reader.rootProperty': 'documentSimilarity',\n\t\t\t'proxy.reader.totalProperty': 'documentSimilarity.total'\n\t\t}])\n\t\tconfig.proxy.extraParams.withDistributions = true;\n\t}\n});\n\nExt.define('Voyant.data.store.DocSimAnalysis', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.DocSimAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocSimAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.DocSimAnalysisBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.DocSimAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.DocSimAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.CorpusNgramsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.CorpusNgram',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.CorpusNgrams',\n\t\t\t'proxy.reader.rootProperty': 'corpusNgrams.ngrams',\n\t\t\t'proxy.reader.totalProperty': 'corpusNgrams.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.CorpusNgrams', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.CorpusNgramsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusNgramsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.CorpusNgramsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.CorpusNgramsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.CorpusNgramsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n","Ext.define('Voyant.data.store.RelatedTermsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.RelatedTerm',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.SemanticGraph',\n\t\t\t'proxy.reader.rootProperty': 'semanticGraph.edges',\n\t\t\t'proxy.reader.totalProperty': 'semanticGraph.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.RelatedTerms', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.RelatedTermsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.RelatedTermsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.RelatedTermsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.RelatedTermsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.RelatedTermsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.TermCorrelationsMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.TermCorrelation',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.CorpusTermCorrelations',\n\t\t\t'proxy.extraParams.withDistributions': 'true',\n\t\t\t'proxy.reader.rootProperty': 'termCorrelations.correlations',\n\t\t\t'proxy.reader.totalProperty': 'termCorrelations.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.TermCorrelations', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.TermCorrelationsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.TermCorrelationsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.TermCorrelationsBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.TermCorrelationsMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.TermCorrelationsMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.TokensMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n    model: 'Voyant.data.model.Token',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.DocumentTokens',\n\t\t\t'proxy.reader.rootProperty': 'documentTokens.tokens',\n\t\t\t'proxy.reader.totalProperty': 'documentTokens.total'\n\t\t}])\n\t}\n});\n\nExt.define('Voyant.data.store.Tokens', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.TokensMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.TokensMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.TokensBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.TokensMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.TokensMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","Ext.define('Voyant.data.store.TSNEAnalysisMixin', {\n\tmixins: ['Voyant.data.store.VoyantStore'],\n\tembeddable: ['Voyant.panel.ScatterPlot'],\n    model: 'Voyant.data.model.StatisticalAnalysis',\n\tconstructor : function(config) {\n\t\tthis.mixins['Voyant.data.store.VoyantStore'].constructor.apply(this, [config, {\n\t\t\t'proxy.extraParams.tool': 'corpus.TSNE',\n\t\t\t'proxy.reader.rootProperty': 'tsneAnalysis',\n\t\t\t'proxy.reader.totalProperty': 'tsneAnalysis.totalTerms'\n\t\t}])\n\t\tconfig.proxy.extraParams.withDistributions = true;\n\t\tconfig.proxy.extraParams.noCache = 1;\n\t}\n});\n\nExt.define('Voyant.data.store.TSNEAnalysis', {\n\textend: 'Ext.data.Store',\n\tmixins: ['Voyant.data.store.TSNEAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.TSNEAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});\n\nExt.define('Voyant.data.store.TSNEAnalysisBuffered', {\n\textend: 'Ext.data.BufferedStore',\n\tmixins: ['Voyant.data.store.TSNEAnalysisMixin'],\n\tconstructor : function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.data.store.TSNEAnalysisMixin'].constructor.apply(this, [config])\n\t\tthis.callParent([config]);\n\t}\n});","/*\n * @class NetworkGraph\n * \n * A NetworkGraph can facilitate working with network graph data structures, as well as\n * displaying results (especially with {@link #embed} and {@link show}). \n * Here's a simple example showing the Zipf-Law distribution of the top 20 frequency terms.\n * \n * \tnew Corpus(\"austen\").loadCorpusTerms(20).then(function(corpusTerms) {\n * \t\tvar table = new VoyantTable({rowKey: 0}); // use first column as row key\n * \t\tcorpusTerms.each(function(corpusTerm) {\n *\t\t\ttable.addRow([corpusTerm.getTerm(), corpusTerm.getRawFreq()]);\n * \t\t});\n * \t\ttable.embed(\"voyantchart\"); // graph table as line chart\n * \t});\n */\nExt.define('Voyant.data.util.NetworkGraph', {\n\talternateClassName: [\"NetworkGraph\"],\n\tmixins: ['Voyant.notebook.util.Embed','Voyant.notebook.util.Show'],\n\tembeddable: [\"Voyant.widget.VoyantNetworkGraph\"],\n\tconfig: {\n\t\t\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tedges: [],\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tnodes: []\n\n\t},\n\n\tconstructor: function(config, opts) {\n\t\tconfig = config || {};\n\t\tthis.setEdges(Ext.Array.from(config.edges));\n\t\tthis.setNodes(Ext.Array.from(config.nodes));\n\t\tthis.callParent([config]);\n\t},\n\taddEdge: function(src, target, value) {\n\t\tthis.getEdges().push(Ext.isObject(src) ? src : {source: src, target: target, value: value});\n\t},\n\tgetNode: function(term) {\n\t\treturn Ext.Array.binarySearch(this.getNodes(), term, undefined, undefined, function(lhs, rhs) {\n\t\t\treturn (lhs.term < rhs.term) ? -1 : ((lhs.term > rhs.term) ? 1 : 0);\n\t\t})\n\t},\n\tembed: function(cmp, config) {\n\t\tif (!config && Ext.isObject(cmp)) {\n\t\t\tconfig = cmp;\n\t\t\tcmp = this.embeddable[0];\n\t\t}\n\t\tconfig = config || {};\n\t\tvar json = {\n\t\t\t\tedges: this.getEdges(),\n\t\t\t\tnodes: this.getNodes(),\n\t\t\t\tconfig: config\n\t\t};\n\t\tif (config.limit && json.edges.length>config.limit) {\n\t\t\tjson.edges = json.edges.slice(0, config.limit);\n\t\t\tvar terms = {};\n\t\t\tjson.edges.forEach(function(edge) {\n\t\t\t\tterms[\"_\"+edge.source] = true;\n\t\t\t\tterms[\"_\"+edge.target] = true;\n\t\t\t})\n\t\t\tvar nodes = [];\n\t\t\tjson.nodes.forEach(function(node) {\n\t\t\t\tif (\"_\"+node.term in terms) {\n\t\t\t\t\tnodes.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\tjson.nodes = nodes;\n\t\t}\n\t\tExt.apply(config, {\n\t\t\tjsonData: JSON.stringify(json)\n\t\t})\n\t\tembed.call(this, cmp, config);\n\t},\n\t\n\tgetString: function(config) {\n\t\tconfig = config || {};\n\t\treturn this.getEdges().map(function(edge) {edge.source+\"-\"+edge.target}).join(\"; \");\n\t}\n});","Ext.define('Voyant.data.util.Geonames', {\n    mixins: ['Voyant.util.Localization'],\n    statics: {\n    \t\ti18n: {\n    \t\t}\n    },\n\n\tconfig: {\n\t\tdata: {},\n\t\tqueries: undefined,\n\t\tcorpus: undefined,\n\t\tisIncrementalLoadingOccurrences: false,\n\t\tpreviousParams: {}\n\t},\n\tconstructor: function(config, opts) {\n\t\tconfig = config || {};\n\t\tthis.callParent([config]);\n\t\tthis.setCorpus(config.corpus);\n\t},\n\tload: function(params, dfd) {\n\t\tthis.setPreviousParams(params);\n\t\tdfd = dfd || Voyant.application.getDeferred(this);\n\t\tvar me = this, localParams = {\n\t\t\tcorpus: this.getCorpus().getAliasOrId(),\n\t\t\tqueries: this.getQueries(),\n\t\t\ttool: 'corpus.Dreamscape',\n\t\t\tlimit: 200\n\t\t};\n\t\tExt.apply(localParams, params || {});\n\t\t\n\t\tif (!params.noOverwrite) {\n\t\t\tme.setData({});\n\t\t}\n\n\t\tExt.Ajax.request({\n\t\t\turl: Voyant.application.getTromboneUrl(),\n\t\t\tparams: localParams,\n\t\t\tscope: this\n\t\t}).then(function(response) {\n\t\t\tvar data = Ext.JSON.decode(response.responseText);\n\t\t\tif (data && data.dreamscape && data.dreamscape.progress) {\n\t\t\t\tnew Voyant.widget.ProgressMonitor({\n\t\t\t\t\tprogress: data.dreamscape.progress,\n\t\t\t\t\tmaxMillisSinceStart: 1000*60*60, // an hour (!)\n\t\t\t\t\ttool: 'corpus.Dreamscape',\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\tme.load.call(me, params, dfd);\n\t\t\t\t\t},\n\t\t\t\t\tfailure: function(responseOrProgress) {\n\t\t\t\t\t\tVoyant.application.showResponseError(me.localize(\"failedToFetchGeonames\"), responseOrProgress);\n\t\t\t\t\t},\n\t\t\t\t\tscope: me\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (data && data.dreamscape && !data.dreamscape.progress) {\n\t\t\t\tif (!params.noOverwrite) {\n\t\t\t\t\tme.setData(data.dreamscape);\n\t\t\t\t}\n\t\t\t\tdfd.resolve(data);\n\t\t\t}\n\t\t}, function(response) {\n\t\t\tVoyant.application.showResponseError(me.localize('failedToFetchGeonames'), response);\n\t\t});\n\t\treturn dfd.promise;\n\t},\n\tgetCitiesCount: function() {\n\t\treturn Object.keys(this.getData().locations.locations).length;\n\t},\n\tgetTotalCitiesCount: function() {\n\t\treturn this.getData().locations.total;\n\t},\n\thasMoreCities: function() {\n\t\treturn this.getCitiesCount()<this.getTotalCitiesCount();\n\t},\n\teachCity: function(fn, scope, max) {\n\t\tvar locations = this.getData().locations.locations, orderedLocations = [];\n\t\tfor (var id in locations) { // create a sortable list with id\n\t\t\torderedLocations.push(Ext.apply(locations[id], {id: id}))\n\t\t}\n\t\torderedLocations.sort(function(c1, c2) { // order by rawFreq (count)\n\t\t\treturn c1.rawFreq == c2.rawFreq ? c1.label - c2.label : c2.rawFreq - c1.rawFreq;\n\t\t});\n\t\tif (max && orderedLocations.length>max) {orderedLocations = orderedLocations.slice(0,max)}\n\t\torderedLocations.forEach(function(location) {fn.call(scope, location);});\n\t},\n\tgetConnectionsCount: function() {\n\t\treturn this.getData().connections.connections.length;\n\t},\n\tgetTotalConnectionsCount: function() {\n\t\treturn this.getData().connections.total;\n\t},\n\teachConnection: function(fn, scope, max) {\n\t\tvar connections = this.getData().connections.connections,\n\t\t\tlocations = this.getData().locations.locations;\n\t\t\torderedConnections = [];\n\t\tfor (var i=0, len=connections.length; i<len; i++) {\n\t\t\tfn.call(scope, {\n\t\t\t\tsource: Ext.apply({id: connections[i].source}, locations[connections[i].source]),\n\t\t\t\ttarget: Ext.apply({id: connections[i].target}, locations[connections[i].target]),\n\t\t\t\trawFreq: connections[i].rawFreq\n\t\t\t});\n\t\t\tif (i>max) {break;}\n\t\t}\n\t},\n\tgetConnectionOccurrence: function(index) {\n\t\tif (!this.getData().locations) {return undefined;}\n\t\tvar connectionOccurrencesData = this.getData().connectionOccurrences,\n\t\t\tconnectionOccurrences = connectionOccurrencesData.connectionOccurrences;\n\t\t\tlocations = this.getData().locations.locations;\n\t\tif (!this.getIsIncrementalLoadingOccurrences() && connectionOccurrences.length<connectionOccurrencesData.total && index+100>connectionOccurrences.length) {\n\t\t\tthis.setIsIncrementalLoadingOccurrences(true);\n\t\t\tvar me = this;\n\t\t\tvar params = {};\n\t\t\tExt.apply(params, this.getPreviousParams);\n\t\t\tExt.apply(params, {\n\t\t\t\tstart: connectionOccurrences.length,\n\t\t\t\tnoOverwrite: true,\n\t\t\t\tsuppressLocations: true,\n\t\t\t\tsuppressConnections: true\n\t\t\t});\n\t\t\tthis.load(params).then(function(data) {\n\t\t\t\tme.setIsIncrementalLoadingOccurrences(false);\n\t\t\t\tme.getData().connectionOccurrences.connectionOccurrences = connectionOccurrences.concat(data.dreamscape.connectionOccurrences.connectionOccurrences);\n\t\t\t})\n\t\t}\n\t\tif (connectionOccurrences && connectionOccurrences[index]) {\n\t\t\tvar occurrence = connectionOccurrences[index];\n\t\t\toccurrence.index = index;\n\t\t\tExt.apply(occurrence.source, locations[occurrence.source.location]);\n\t\t\tExt.apply(occurrence.target, locations[occurrence.target.location]);\n\t\t\treturn occurrence;\n\t\t}\n\t\treturn null;\n\t},\n    getAllConnectionOccurrences: function(sourceId, targetId) {\n    \tdebugger\n        // TODO return all occurences of connection with given source and target, including those not loaded yet\n        var occurences = [];\n        for (var i = 0; i < this.getTotalConnectionsCount(); i++) {\n            var occurence = this.getConnectionOccurrence(i);\n            if (occurence && occurence.target.id == targetId && occurence.source.id == sourceId) {\n                occurences.push(occurence);\n            }\n        }\n        return occurences\n    }\n});","/*\r\n * @class Corpus\r\n * Corpus is possibly the most important class since in most cases you'll first create/load a corpus and then\r\n * interact with data derived from the corpus. In the simplest scenario you can create/load a corpus with a\r\n * corpus ID, a text string, a URL, or an array of text strings or URLs (see the {@link #constructor} and \r\n * {@link #input} config for a bit more information).\r\n * \r\n * \tnew Corpus(\"austen\"); // load an existing corpus\r\n * \r\n * \tnew Corpus(\"Hello Voyant!\"); // load a corpus with the specified text string\r\n * \r\n * \tnew Corpus(\"http://hermeneuti.ca/\"); // load a corpus with a URL\r\n * \r\n * It's important to understand that the constructor actually returns a promise for a corpus, since the corpus\r\n * data is loaded asynchronously. All documented methods below handle the promise properly.\r\n * \r\n * \tnew Corpus(\"Hello Voyant!\").show(); // the show method is called when the promise is filled\r\n * \r\n * You can also handle the promise yourself using {@link Ext.promise.Promise#then then}.\r\n * \r\n * \tnew Corpus(\"Hello Voyant!\").then(function(corpus) {\r\n * \t\tcorpus.show(); // essentially the same as above (but more work:)\r\n * \t});\r\n * \r\n * There are many parameters that can be specified when creating a corpus:\r\n * \r\n * - **sources**: {@link #corpus}, {@link #input}\r\n * - **formats**:\r\n * \t- **Text**: {@link #inputRemoveFrom}, {@link #inputRemoveFromAfter}, {@link #inputRemoveUntil}, {@link #inputRemoveUntilAfter}\r\n * \t- **XML**: {@link #xmlAuthorXpath}, {@link #xmlCollectionXpath}, {@link #xmlContentXpath}, {@link #xmlExtraMetadataXpath}, {@link #xmlKeywordXpath}, {@link #xmlPubPlaceXpath}, {@link #xmlPublisherXpath}, {@link #xmlTitleXpath}\r\n * \t- **Tables**: {@link #tableAuthor}, {@link #tableContent}, {@link #tableDocuments}, {@link #tableNoHeadersRow}, {@link #tableTitle}\r\n * - **other**: {@link #inputFormat}, {@link #subTitle}, {@link #title}, {@link #tokenization}\r\n */\r\nExt.define('Voyant.data.model.Corpus', {\r\n\talternateClassName: [\"Corpus\"],\r\n    mixins: ['Voyant.notebook.util.Embed','Voyant.notebook.util.Show','Voyant.util.Transferable','Voyant.util.Localization','Voyant.util.Assignable'],\r\n    transferable: ['loadCorpusTerms','loadTokens','getPlainText','getText','getWords','getString','getLemmasArray'],\r\n//    transferable: ['getSize','getId','getDocument','getDocuments','getCorpusTerms','getDocumentsCount','getWordTokensCount','getWordTypesCount','getDocumentTerms'],\r\n    embeddable: ['Voyant.panel.Summary','Voyant.panel.Cirrus','Voyant.panel.Documents','Voyant.panel.CorpusTerms','Voyant.panel.Reader','Voyant.panel.Trends','Voyant.panel.TermsRadio','Voyant.panel.DocumentTerms','Voyant.panel.TermsBerry','Voyant.panel.CollocatesGraph','Voyant.panel.Contexts','Voyant.panel.WordTree','Voyant.panel.Veliza','Voyant.panel.ScatterPlot','Voyant.panel.Topics'],\r\n\trequires: ['Voyant.util.ResponseError','Voyant.data.store.CorpusTerms','Voyant.data.store.Documents'/*,'Voyant.panel.Documents'*/],\r\n    extend: 'Ext.data.Model',\r\n    config: {\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} corpus The ID of a previously created corpus.\r\n    \t * \r\n    \t * A corpus ID can be used to try to retrieve a corpus that has been previously created.\r\n    \t * Typically the corpus ID is used as a first string argument, with an optional second\r\n    \t * argument for other parameters (especially those to recreate the corpus if needed).\r\n    \t * \r\n    \t * \t\tnew Corpus(\"goldbug\");\r\n    \t * \r\n    \t * \t\tnew Corpus(\"goldbug\", {\r\n    \t *\t\t\t// if corpus ID \"goldbug\" isn't found, use the input\r\n    \t * \t\t\tinput: \"https://gist.githubusercontent.com/sgsinclair/84c9da05e9e142af30779cc91440e8c1/raw/goldbug.txt\",\r\n    \t * \t\t\tinputRemoveUntil: 'THE GOLD-BUG',\r\n    \t * \t\t\tinputRemoveFrom: 'FOUR BEASTS IN ONE'\r\n    \t * \t\t});\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String/String[]} input Input sources for the corpus.\r\n    \t * \r\n    \t * The input sources can be either normal text or URLs (starting with `http`).\r\n    \t * \r\n    \t * Typically input sources are specified as a string or an array in the first argument, with an optional second argument for other parameters.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"Hello Voyant!\"); // one document with this string\r\n    \t * \r\n    \t * \t\tnew Corpus([\"Hello Voyant!\", \"How are you?\"]); // two documents with these strings\r\n    \t * \r\n    \t * \t\tnew Corpus(\"http://hermeneuti.ca/\"); // one document from URL\r\n    \t * \r\n    \t * \t\tnew Corpus([\"http://hermeneuti.ca/\", \"https://en.wikipedia.org/wiki/Voyant_Tools\"]); // two documents from URLs\r\n    \t * \r\n    \t * \t\tnew Corpus(\"Hello Voyant!\", \"http://hermeneuti.ca/\"]); // two documents, one from string and one from URL\r\n    \t * \r\n    \t * \t\tnew Corpus(\"https://gist.githubusercontent.com/sgsinclair/84c9da05e9e142af30779cc91440e8c1/raw/goldbug.txt\", {\r\n    \t * \t\t\tinputRemoveUntil: 'THE GOLD-BUG',\r\n    \t * \t\t\tinputRemoveFrom: 'FOUR BEASTS IN ONE'\r\n    \t * \t\t});\r\n    \t * \r\n    \t * \t\t// use a corpus ID but also specify an input source if the corpus can't be found\r\n    \t * \t\tnew Corpus(\"goldbug\", {\r\n    \t * \t\t\tinput: \"https://gist.githubusercontent.com/sgsinclair/84c9da05e9e142af30779cc91440e8c1/raw/goldbug.txt\",\r\n    \t * \t\t\tinputRemoveUntil: 'THE GOLD-BUG',\r\n    \t * \t\t\tinputRemoveFrom: 'FOUR BEASTS IN ONE'\r\n    \t * \t\t});\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} inputFormat The input format of the corpus (the default is to auto-detect).\r\n    \t * \r\n    \t * The auto-detect format is usually reliable and inputFormat should only be used if the default\r\n    \t * behaviour isn't desired. Most of the relevant values are used for XML documents:\r\n    \t * \r\n    \t * - **DTOC**: Dynamic Table of Contexts XML format\r\n    \t * - **HTML**: Hypertext Markup Language\r\n    \t * - **RSS**: Really Simple Syndication XML format\r\n    \t * - **TEI**: Text Encoding Initiative XML format\r\n    \t * - **TEICORPUS**: Text Encoding Initiative Corpus XML format\r\n    \t * - **TEXT**: plain text\r\n    \t * - **XML**: treat the document as XML (sometimes overridding auto-detect of XML vocabularies like RSS and TEI)\r\n    \t * \r\n    \t * Other formats include **PDF**, **MSWORD**, **XLSX**, **RTF**, **ODT**, and **ZIP** (but again, these rarely need to be specified).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} tableDocuments Determine what is a document in a table (the entire table, by row, by column); only used for table-based documents.\r\n    \t * \r\n    \t * Possible values are:\r\n    \t * \r\n    \t * - **undefined or blank** (default): the entire table is one document\r\n    \t * - **rows**: each row of the table is a separate document\r\n    \t * - **columns**: each column of the table is a separate document\r\n    \t * \r\n    \t * See also [Creating a Corpus Tokenization](#!/guide/corpuscreator-section-tables).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} tableContent Determine how to extract body content from the table; only used for table-based documents.\r\n    \t * \r\n    \t * Columns are referred to by numbers, the first is column 1 (not 0).\r\n    \t * You can specify separate columns by using a comma or you can combined the contents of columns/cells by using a plus sign.\r\n    \t * \r\n    \t * Some examples:\r\n    \t * \r\n    \t * - **1**: use column 1\r\n    \t * - **1,2**: use columns 1 and 2 separately\r\n    \t * - **1+2,3**: combine columns 1 and two and use column 3 separately\r\n    \t * \r\n    \t * See also [Creating a Corpus Tokenization](#!/guide/corpuscreator-section-tables).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} tableAuthor Determine how to extract the author from each document; only used for table-based documents.\r\n    \t * \r\n    \t * Columns are referred to by numbers, the first is column 1 (not 0).\r\n    \t * You can specify separate columns by using a comma or you can combined the contents of columns/cells by using a plus sign.\r\n    \t * \r\n    \t * Some examples:\r\n    \t * \r\n    \t * - **1**: use column 1\r\n    \t * - **1,2**: use columns 1 and 2 separately\r\n    \t * - **1+2,3**: combine columns 1 and two and use column 3 separately\r\n    \t * \r\n    \t * See also [Creating a Corpus Tokenization](#!/guide/corpuscreator-section-tables).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} tableTitle Determine how to extract the title from each document; only used for table-based documents.\r\n    \t * \r\n    \t * Columns are referred to by numbers, the first is column 1 (not 0).\r\n    \t * You can specify separate columns by using a comma or you can combined the contents of columns/cells by using a plus sign.\r\n    \t * \r\n    \t * Some examples:\r\n    \t * \r\n    \t * - **1**: use column 1\r\n    \t * - **1,2**: use columns 1 and 2 separately\r\n    \t * - **1+2,3**: combine columns 1 and two and use column 3 separately\r\n    \t * \r\n    \t * See also [Creating a Corpus Tokenization](#!/guide/corpuscreator-section-tables).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} tableContent Determine how to extract body content from the table; only used for table-based documents.\r\n    \t * \r\n    \t * Columns are referred to by numbers, the first is column 1 (not 0).\r\n    \t * You can specify separate columns by using a comma or you can combined the contents of columns/cells by using a plus sign.\r\n    \t * \r\n    \t * Some examples:\r\n    \t * \r\n    \t * - **1**: use column 1\r\n    \t * - **1,2**: use columns 1 and 2 separately\r\n    \t * - **1+2,3**: combine columns 1 and two and use column 3 separately\r\n    \t * \r\n    \t * See also [Creating a Corpus Tokenization](#!/guide/corpuscreator-section-tables).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} tableNoHeadersRow Determine if the table has a first row of headers; only used for table-based documents.\r\n    \t * \r\n    \t * Provide a value of \"true\" if there is no header row, otherwise leave it blank or undefined (default).\r\n    \t * \r\n    \t * See also [Creating a Corpus Tokenization](#!/guide/corpuscreator-section-tables).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} tokenization The tokenization strategy to use\r\n    \t * \r\n    \t * This should usually be undefined, unless specific behaviour is required. These are the valid values:\r\n    \t * \r\n    \t * - **undefined or blank**: use the default tokenization (which uses Unicode rules for word segmentation)\r\n    \t * - **wordBoundaries**: use any Unicode character word boundaries for tokenization\r\n    \t * - **whitespace**: tokenize by whitespace only (punctuation and other characters will be kept with words)\r\n    \t * \r\n    \t * See also [Creating a Corpus Tokenization](#!/guide/corpuscreator-section-tokenization).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} xmlContentXpath The XPath expression that defines the location of document content (the body); only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><head>Hello world!</head><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlContentXpath: \"//body\"\r\n    \t * \t\t}); // document would be: \"This is Voyant!\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} xmlTitleXpath The XPath expression that defines the location of each document's title; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><title>Hello world!</title><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlTitleXpath: \"//title\"\r\n    \t * \t\t}); // title would be: \"Hello world!\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n\r\n    \t/**\r\n    \t * @cfg {String} xmlAuthorXpath The XPath expression that defines the location of each document's author; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><author>St\u00e9fan Sinclair</author><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlAuthorXpath: \"//author\"\r\n    \t * \t\t}); // author would be: \"St\u00e9fan Sinclair\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} xmlPubPlaceXpath The XPath expression that defines the location of each document's publication place; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><pubPlace>Montreal</pubPlace><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlPubPlaceXpath: \"//pubPlace\"\r\n    \t * \t\t}); // publication place would be: \"Montreal\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n\r\n    \t/**\r\n    \t * @cfg {String} xmlPublisherXpath The XPath expression that defines the location of each document's publisher; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><publisher>The Owl</publisher><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlPublisherXpath: \"//publisher\"\r\n    \t * \t\t}); // publisher would be: \"The Owl\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n\r\n    \t/**\r\n    \t * @cfg {String} xmlKeywordXpath The XPath expression that defines the location of each document's keywords; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><keyword>text analysis</keyword><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlKeywordXpath: \"//keyword\"\r\n    \t * \t\t}); // publisher would be: \"text analysis\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} xmlCollectionXpath The XPath expression that defines the location of each document's collection name; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><collection>documentation</collection><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlCollectionXpath: \"//collection\"\r\n    \t * \t\t}); // publisher would be: \"documentation\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} xmlGroupByXpath The XPath expression that defines the location of each document's collection name; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><sp s='Juliet'>Hello!</sp><sp s='Romeo'>Hi!</sp><sp s='Juliet'>Bye!</sp></doc>\", {\r\n    \t * \t\t\t xmlDocumentsXPath: '//sp',\r\n    \t *           xmlGroupByXpath: \"//@s\"\r\n    \t * \t\t}); // two docs: \"Hello! Bye!\" (Juliet) and \"Hi!\" (Romeo)\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} xmlExtraMetadataXpath A value that defines the location of other metadata; only used for XML-based documents.\r\n    \t * \r\n    \t * \t\tnew Corpus(\"<doc><tool>Voyant</tool><phase>1</phase><body>This is Voyant!</body></doc>\", {\r\n    \t * \t\t\t xmlExtraMetadataXpath: \"tool=//tool\\nphase=//phase\"\r\n    \t * \t\t}); // tool would be \"Voyant\" and phase would be \"1\"\r\n    \t * \r\n    \t * Note that `xmlExtraMetadataXpath` is a bit different from the other XPath expressions in that it's\r\n    \t * possible to define multiple values (each on its own line) in the form of name=xpath.\r\n    \t * \r\n    \t * See also [Creating a Corpus with XML](#!/guide/corpuscreator-section-xml).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} xmlExtractorTemplate Pass the XML document through the XSL template located at the specified URL before extraction (this is ignored in XML-based documents).\r\n    \t * \r\n    \t * This is an advanced parameter that allows you to define a URL of an XSL template that can\r\n    \t * be called *before* text extraction (in other words, the other XML-based parameters apply\r\n    \t * after this template has been processed).\r\n    \t */\r\n\r\n    \t/**\r\n    \t * @cfg {String} inputRemoveUntil Omit text up until the start of the matching regular expression (this is ignored in XML-based documents).\r\n    \t * \r\n    \t * \t\tnew Corpus(\"Hello world! This is Voyant!\", {\r\n    \t * \t\t\t inputRemoveUntil: \"This\"\r\n    \t * \t\t}); // document would be: \"This is Voyant!\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with Text](#!/guide/corpuscreator-section-text).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} inputRemoveUntilAfter Omit text up until the end of the matching regular expression (this is ignored in XML-based documents).\r\n    \t * \r\n    \t * \t\tnew Corpus(\"Hello world! This is Voyant!\", {\r\n    \t * \t\t\t inputRemoveUntilAfter: \"world!\"\r\n    \t * \t\t}); // document would be: \"This is Voyant!\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with Text](#!/guide/corpuscreator-section-text).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} inputRemoveFrom Omit text from the start of the matching regular expression (this is ignored in XML-based documents).\r\n    \t * \r\n    \t * \t\tnew Corpus(\"Hello world! This is Voyant!\", {\r\n    \t * \t\t\t inputRemoveFrom: \"This\"\r\n    \t * \t\t}); // document would be: \"Hello world!\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with Text](#!/guide/corpuscreator-section-text).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} inputRemoveFromAfter Omit text from the end of the matching regular expression (this is ignored in XML-based documents).\r\n    \t * \r\n    \t * \t\tnew Corpus(\"Hello world! This is Voyant!\", {\r\n    \t * \t\t\t inputRemoveFromAfter: \"world!\"\r\n    \t * \t\t}); // document would be: \"Hello world!\"\r\n    \t * \r\n    \t * See also [Creating a Corpus with Text](#!/guide/corpuscreator-section-text).\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} subTitle A sub-title for the corpus.\r\n    \t * \r\n    \t * This is currently not used, except in the Dynamic Table of Contexts skin. Still, it may be worth specifying a subtitle for later use.\r\n    \t */\r\n    \t\r\n    \t/**\r\n    \t * @cfg {String} title A title for the corpus.\r\n    \t * \r\n    \t * This is currently not used, except in the Dynamic Table of Contexts skin. Still, it may be worth specifying a title for later use.\r\n    \t */\r\n    \t \r\n    \t /**\r\n    \t * @cfg {String} curatorTsv a simple TSV of paths and labels for the DToC interface\r\n    \t *\r\n    \t * The DToC skin allows curation of XML tags and attributes in order to constrain the entries shown in the interface or to provide friendlier labels. This assumes plain text unicode input with one definition per line where the simple XPath expression is separated by a tab from a label.\r\n    \t *\r\n    \t *   \t p    \t paragraph\r\n    \t *   \t ref[@target*=\"religion\"]    \t religion\r\n    \t *\r\n    \t  * For more information see the DToC documentation on [Curating Tags](http://cwrc.ca/Documentation/public/index.html#DITA_Files-Various_Applications/DToC/CuratingTags.html)\r\n    \t */\r\n    \t \r\n    \t\r\n    \t\r\n    \tdocumentsStore: undefined\r\n    },\r\n    statics: {\r\n    \ti18n: {}\r\n    },\r\n    fields: [\r\n         {name: 'documentsCount', type: 'int'},\r\n         {name: 'lexicalTokensCount', type: 'int'},\r\n         {name: 'lexicalTypesCount', type: 'int'},\r\n         {name: 'createdTime', type: 'int'},\r\n         {name: 'createdDate', type: 'date', dateFormat: 'c'},\r\n         {name: 'title', type: 'string'},\r\n         {name: 'subTitle', type: 'string'},\r\n         {name: 'languagueCodes', type: 'string'}\r\n    ],\r\n    \r\n\t/**\r\n     * Create a promise for a new Corpus with relevant data loaded.\r\n     * \r\n     * The typical usage in Spyral is to call {@link #assign} in a first code block:\r\n     * \r\n     * \t\tnew Corpus(\"Hello Voyant!\").assign(\"corpus\");\r\n     * \r\n     * Then use the named variable in a subsequent code block:\r\n     * \r\n     * \t  corpus.show();\r\n     * \r\n     * Alternatively, the returned promise can be chained with {@link Ext.promise.Promise#then then}\r\n     * and a function argument that receives the Corpus as an argument.\r\n     * \r\n     * \tvar corpus;\r\n     * \tnew Corpus(\"Hello Voyant!\").then(function(data) {\r\n     * \t\tcorpus = data;\r\n     * \t\tcorpus.show();\r\n     * \t});\r\n     * \r\n     * The following scenarios are possible for the config argument:\r\n     * \r\n     * - a string that looks like a corpus ID (not a URL and no spaces): treated as a {@link #corpus} config\r\n     * - a string that doesn't look like a corpus ID: treated as an {@link #input} config\r\n     * - an array of strings: treated as an array of {@link #input} config values\r\n     * - an object: treated a normal config object\r\n     * \r\n     * As such, these two constructions do the same thing:\r\n     * \r\n     * \tnew Corpus(\"Hello World!\");\r\n     * \tnew Corpus({input: \"Hello World!\"});\r\n\t * @param  {String|String[]|Object} source The source document(s) as a text string, a URL, an array of text strings and URLs, or a config object.\r\n     * @param {String|String[]|Object} [config] An additional config to use with the source.\r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return a Corpus but a promise to return a Corpus when it's finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * Corpus as an argument, as per the example above).\r\n\t */\r\n\tconstructor : function(source, config) {\r\n\t\tsource = source || {};\r\n\t\tconfig = config || {};\r\n\t\t\t\t\r\n\t\tthis.callParent([]); // only send config, not source\r\n\t\t\r\n\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t\t\r\n\t\tif (Ext.isString(source)) { // a string could be a corpus ID or an input string (text or URL)\r\n\t\t\tif (/\\s/.test(source)==false && source.indexOf(\":\")==-1) { // looks like a corpus ID\r\n\t\t\t\tExt.apply(config, {\r\n\t\t\t\t\tcorpus: source\r\n\t\t\t\t});\r\n\t\t\t} else { // looks like input (text or URL)\r\n\t\t\t\tExt.apply(config, {\r\n\t\t\t\t\tinput: source\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if (Ext.isArray(source)) { // assume we have an array of texts or URLs\r\n\t\t\tExt.apply(config, {\r\n\t\t\t\tinput: source\r\n\t\t\t});\r\n\t\t} else if (Ext.isObject(source)) { // copy the source to the config\r\n\t\t\tExt.apply(config, source);\r\n\t\t} else {\r\n\t\t\tVoyant.application.showError(this.localize(\"badDataTypeCorpus\")+\": (\"+ (typeof source)+\") \"+source);\r\n\t\t\tExt.defer(function() {\r\n\t\t\t\tdfd.reject(this.localize(\"badDataTypeCorpus\")+\": (\"+ (typeof source)+\") \"+source)\r\n\t\t\t}, 50, this);\r\n\t\t\treturn dfd.promise;\r\n\t\t}\r\n\t\t\r\n\t\tif (Ext.isObject(config)) {\r\n\t\t\t\r\n\t\t\tif (!config.corpus && !config.input && !config.inlineData) {\r\n\t\t\t\tVoyant.application.showError(this.localize(\"noCorpusOrInput\")+\": \"+config);\r\n\t\t\t\tExt.defer(function() {\r\n\t\t\t\t\tdfd.reject(this.localize(\"noCorpusOrInput\")+\": \"+config)\r\n\t\t\t\t}, 50, this);\r\n\t\t\t\treturn dfd.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tExt.apply(config, {tool: 'corpus.CorpusMetadata'})\r\n\r\n\t\t\tvar me = this;\r\n\t\t\tvar promise = Ext.Ajax.request({\r\n\t\t\t\turl: Voyant.application.getTromboneUrl(),\r\n\t\t\t\tparams: config\r\n\t\t\t}).then(function(response) {\r\n\t\t\t\tme.set(Ext.JSON.decode(response.responseText).corpus.metadata);\r\n\t\t\t\t// removed calls to set title and subtitle which should now be in metadata\r\n\t\t\t\tif (config.title || config.subTitle) {\r\n\t\t\t\t\tme.set('title', config.title);\r\n\t\t\t\t\tme.set('subTitle', config.subTitle);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// (removed calls for title and subtitle which should now be part of metadata\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn me;\r\n\t\t\t}, function(response){\r\n\t\t\t\tVoyant.application.showResponseError(me.localize('failedCreateCorpus'), response);\r\n\t\t\t}).then(function(corpus) {\r\n\t\t\t\tif (corpus.getDocumentsCount()==0) {\r\n\t\t\t\t\tVoyant.application.showError(me.localize(\"thisCorpus\")+\" \"+me.localize(\"isEmpty\")+\".\");\r\n\t\t\t\t}\r\n\t\t\t\tif (!('docsLimit' in config) || (config.docsLimit!==false && config.docsLimit>0)) {\r\n\t\t\t\t\tme.getDocuments().load({\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tlimit: ('docsLimit' in config) ? config.docsLimit : me.getDocumentsCount()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcallback: function(records, operation, success) {\r\n\t\t\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\t\t\tme.setDocumentsStore(this);\r\n\t\t\t\t\t\t\t\tdfd.resolve(corpus)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdfd.reject(operation)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdfd.resolve(corpus)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn dfd.promise\r\n\t\t} else {\r\n\t\t\tVoyant.application.showError(this.localize(\"badDataTypeCorpus\")+\": (\"+ (typeof config)+\") \"+config);\r\n\t\t\tExt.defer(function() {\r\n\t\t\t\tdfd.reject(this.localize(\"badDataTypeCorpus\")+\": (\"+ (typeof config)+\") \"+config)\r\n\t\t\t}, 50, this);\r\n\t\t\treturn dfd.promise;\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetId: function() {\r\n\t\t// overrides the getId() function from the model to handle promises\r\n    \treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('id');\t\t\r\n\t},\r\n\t\r\n\t\r\n\tgetAliasOrId: function() {\r\n\t\t// overrides the getId() function from the model to handle promises\r\n    \treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : (this.get('alias') || this.get('id'));\t\t\r\n\t},\r\n\t\r\n\t/**\r\n     * Create a promise for {@link Voyant.data.store.CorpusTerms Corpus Terms}.\r\n     * \r\n     * The typical usage is to chain the returned promise with {@link Ext.promise.Promise#then then} and\r\n     * provide a function that receives the {@link Voyant.data.store.CorpusTerms Corpus Terms} as an argument.\r\n     * \r\n     * \tnew Corpus(\"Hello Voyant!\").loadCorpusTerms().then(function(corpusTerms) {\r\n     * \t\tcorpusTerms.show();\r\n     * \t});\r\n     * \r\n     * @param {Number/Object} config\r\n     * \r\n     * - when this is a number, it's the maximum number of corpus terms to load (see {@link Voyant.data.store.CorpusTerms#limit})\r\n     * - otherwise this is a regular config object\r\n     * \r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return corpus terms but a promise to return a corpus terms when they're finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * corpus terms as an argument, as per the example above).\r\n\t */\r\n\tloadCorpusTerms: function(config) {\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t\t\tconfig = config || {};\r\n\t\t\tif (Ext.isNumber(config)) {\r\n\t\t\t\tconfig = {limit: config};\r\n\t\t\t}\r\n\t\t\tExt.applyIf(config, {\r\n\t\t\t\tlimit: 0\r\n\t\t\t})\r\n\t\t\tvar corpusTerms = this.getCorpusTerms();\r\n\t\t\tcorpusTerms.load({\r\n\t\t\t\tparams: config,\r\n\t\t\t\tcallback: function(records, operation, success) {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tdfd.resolve(corpusTerms)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdfd.reject(operation)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn dfd.promise\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n     * Create a promise for {@link Voyant.data.store.Tokens Tokens}.\r\n     * \r\n     * The typical usage is to chain the returned promise with {@link Ext.promise.Promise#then then} and\r\n     * provide a function that receives the {@link Voyant.data.store.Tokens Tokens} as an argument.\r\n     * \r\n     * \tnew Corpus(\"Hello Voyant!\").loadTokens().then(function(tokens) {\r\n     * \t\ttokens.show();\r\n     * \t});\r\n     * \r\n     * @param {Number/Object} config\r\n     * \r\n     * - when this is a number, it's the maximum number of corpus terms to load (see {@link Voyant.data.store.CorpusTerms#limit})\r\n     * - otherwise this is a regular config object\r\n     * \t- **limit**: the maximum number of tokens to return (default is no limit)\r\n     * \t- **perDocLimit**: the maximum number of tokens to return per document\r\n     * \t- **start**: where to start (when pageing, default is 0)\r\n     * \t- **noOthers**: determine if only word tokens are returned (default is false)\r\n     * \t- **withPosLemmas**: try to populate pos (part-of-speech) tags and lemmas (only works in English for now)\r\n     * \t- **docIndex**: a comma-separated list of integers of document indices\r\n     * \t- **docId**: a comma-separated list of document IDs\r\n     * \t- **stopList**: the ID of an existing stopList resource or an array of words to skip\r\n     * \t- **whitelist**: the ID of an existing whitelist resource or an array of words to keep\r\n     * \r\n     * \r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return tokens but a promise to return tokens when they're finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * tokens as an argument, as per the example above).\r\n\t */\r\n\tloadTokens: function(config) {\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t\t\tconfig = config || {};\r\n\t\t\tif (Ext.isNumber(config)) {\r\n\t\t\t\tconfig = {limit: config};\r\n\t\t\t}\r\n\t\t\tExt.applyIf(config, {\r\n\t\t\t\tlimit: 0\r\n\t\t\t})\r\n\t\t\tvar tokens = this.getTokens();\r\n\t\t\ttokens.load({\r\n\t\t\t\tparams: config,\r\n\t\t\t\tcallback: function(records, operation, success) {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tdfd.resolve(tokens)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdfd.reject(operation)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn dfd.promise\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetCorpusTerms: function(config) {\r\n\t\treturn Ext.create(\"Voyant.data.store.CorpusTerms\", Ext.apply(config || {}, {corpus: this}));\r\n\t},\r\n\t\r\n\tgetTokens: function(config) {\r\n\t\treturn Ext.create(\"Voyant.data.store.Tokens\", Ext.apply(config || {}, {corpus: this}));\r\n\t},\r\n\t\r\n\teach: function(fn, scope) {\r\n\t\tthis.getDocuments().each(function(doc, i) {\r\n\t\t\tfn.call(scope || doc, doc, i);\r\n\t\t})\r\n\t},\r\n\t\r\n\tmap: function(fn, scope) {\r\n\t\treturn this.getDocuments().getRange().map(function(doc, i) {\r\n\t\t\treturn fn.call(scope || doc, doc, i)\r\n\t\t}, scope || this)\r\n\t},\r\n\t\r\n\tgetCorpusCollocates: function(config) {\r\n\t\treturn Ext.create(\"Voyant.data.store.CorpusCollocates\", Ext.apply(config || {}, {corpus: this}));\r\n\t},\r\n\t\r\n\tgetDocumentQueryMatches: function(config) {\r\n\t\t// not expected to be called before corpus is defined\r\n\t\treturn Ext.create(\"Voyant.data.store.DocumentQueryMatches\", Ext.apply(config || {}, {corpus: this}));\r\n\t},\r\n\t\r\n\tgetDocumentTerms: function(config) {\r\n\t\treturn Ext.create(\"Voyant.data.store.DocumentTerms\", Ext.apply(config || {}, {corpus: this}));\r\n\t},\r\n\t\r\n\tgetDocumentEntities: function(config) {\r\n\t\treturn Ext.create(\"Voyant.data.store.DocumentEntities\", Ext.apply(config || {}, {corpus: this}));\r\n\t},\r\n\t\r\n\tloadContexts: function(config) {\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t\t\tconfig = config || {};\r\n\t\t\tif (Ext.isNumber(config)) {\r\n\t\t\t\tconfig = {limit: config};\r\n\t\t\t}\r\n\t\t\tExt.applyIf(config, {\r\n\t\t\t\tlimit: 0\r\n\t\t\t})\r\n\t\t\tvar contexts = this.getContexts();\r\n\t\t\tcontexts.load({\r\n\t\t\t\tparams: config,\r\n\t\t\t\tcallback: function(records, operation, success) {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tdfd.resolve(contexts)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdfd.reject(operation)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn dfd.promise\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\tgetContexts: function(config) {\r\n\t\treturn Ext.create(\"Voyant.data.store.Contexts\", Ext.apply(config || {}, {corpus: this}));\r\n\t},\r\n\t\r\n\tgetDocuments: function(config) {\r\n\t\treturn this.getDocumentsStore() ? this.getDocumentsStore() : Ext.create(\"Voyant.data.store.Documents\", Ext.apply(config || {}, {corpus: this}));\r\n\t\t//this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.getDocumentsStore();\r\n\t},\r\n\t\r\n\tgetDocument: function(config) {\r\n\t\tif (this.getDocumentsStore()) {\r\n\t\t\tif (config instanceof Voyant.data.model.Document) {\r\n\t\t\t\treturn config;\r\n\t\t\t}\r\n\t\t\telse if (Ext.isNumeric(config)) {\r\n\t\t\t\treturn this.getDocumentsStore().getAt(parseInt(config))\r\n\t\t\t}\r\n\t\t\telse if (Ext.isString(config)) {\r\n\t\t\t\treturn this.getDocumentsStore().getById(config)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.getDocumentsStore().getDocument(config);\r\n\t},\r\n\t\r\n\tgetDocumentsCount: function() {\r\n\t\treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('documentsCount');\r\n\t},\r\n\t\r\n\tgetWordTokensCount: function() {\r\n    \treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('lexicalTokensCount');\r\n\t},\r\n\t\r\n\tgetWordTypesCount: function() {\r\n    \treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('lexicalTypesCount');\r\n\t},\r\n\t\r\n\tgetCreatedTime: function() {\r\n    \treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('createdTime');\t\t\r\n\t},\r\n\t\r\n\trequiresPassword: function() {\r\n\t\tvar noPasswordAccess = this.getNoPasswordAccess();\r\n\t\treturn noPasswordAccess=='NONE' || noPasswordAccess=='NONCONSUMPTIVE';\r\n\t},\r\n\t\r\n\tgetNoPasswordAccess: function() {\r\n\t\t// overrides the getId() function from the model to handle promises\r\n    \treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('noPasswordAccess');\t\t\r\n\t},\r\n\t\r\n\tgetTitle: function() {\r\n\t\treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('title');\t\t\r\n\t},\r\n\t\r\n\tgetSubTitle: function() {\r\n\t\treturn this.then ? Voyant.application.getDeferredNestedPromise(this, arguments) : this.get('subTitle');\t\t\r\n\t},\r\n\t\r\n\tgetRelatedWords : function(config) {\r\n\t\treturn Ext.create(\"Voyant.data.store.RelatedTerms\", Ext.apply(config || {}, {corpus: this}))\r\n\t},\r\n\t\r\n\tloadRelatedWords : function(config) {\r\n\t\tvar me = this;\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t\t\tconfig = config || {};\r\n\t\t\tif (Ext.isNumber(config)) {\r\n\t\t\t\tconfig = {limit: config};\r\n\t\t\t}\r\n\t\t\tExt.applyIf(config, {\r\n\t\t\t\tlimit: 0\r\n\t\t\t})\r\n\t\t\tvar relatedTerms = this.getRelatedWords();\r\n\t\t\trelatedTerms.load({\r\n\t\t\t\tparams: config,\r\n\t\t\t\tcallback: function(records, operation, success) {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tdfd.resolve(records)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdfd.reject(operation.error.response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn dfd.promise\r\n\t\t}\r\n\t},\r\n\t\t\r\n\t/**\r\n     * Create a promise for a text representation of all the document bodies in the corpus.\r\n     * \r\n     * This does NOT necessarily return the full original document, but rather the body or main\r\n     * content, as extracted by Voyant. You can also request a {@link #plainText} version with\r\n     * the tags stripped.\r\n     * \r\n     * The typical usage is to chain the returned promise with {@link Ext.promise.Promise#then then} and\r\n     * provide a function that receives the text as an argument.\r\n     * \r\n     * \tnew Corpus(\"http://hermeneuti.ca\").getText().then(function(text) {\r\n     * \t\tshow(text.replace(/</g, \"&lt;\")); // show the markup \r\n     * \t});\r\n     * \r\n     * @param {Number/Object} config\r\n     * \r\n     * - when this is a number, it's the maximum number of words to fetch (though there may be any number of other tokens, like punctuation and space (but no tags).\r\n     * - otherwise this is a regular config object that can contain the following:\r\n     * \t - `limit`: a limit on the total number of words (by default there's no limit)\r\n     * \t - `perDocLimit`: a limit on the number of words to fetch for each document (by default there's no limit)\r\n     * \t - `start`: start at this word index for each document\r\n     * \t - `stopList`: the ID of an existing stopList resource or an array of words to skip\r\n     * \t - `whitelist`: the ID of an existing whitelist resource or an array of words to keep\r\n     * \r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return text but a promise to return text when it's finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * text as an argument, as per the example above).\r\n\t */\r\n\tgetText: function(config) {\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments, this);\r\n\t\t} else {\r\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t    \tconfig = config || {};\r\n\t    \tif (Ext.isNumber(config)) {\r\n\t    \t\tconfig = {limit: config}\r\n\t    \t} else if (Ext.isString(config)) {\r\n\t    \t\tconfig = {limit: parseInt(config)}\r\n\t    \t};\r\n\t    \tExt.applyIf(config, {\r\n        \t\tlimit: 0,\r\n    \t\t\toutputFormat: \"text\",\r\n    \t\t\ttemplate: \"docTokens2text\"\r\n\t    \t});\r\n\t    \tExt.apply(config, {\r\n        \t\ttool: 'corpus.DocumentTokens',\r\n        \t\tcorpus: this.getAliasOrId()\r\n\t    \t});\r\n        \tExt.Ajax.request({\r\n        \t    url: Voyant.application.getTromboneUrl(),\r\n        \t    params: config,\r\n        \t    success: function(response, opts) {\r\n        \t    \tvar text = response.responseText.trim();\r\n        \t    \tif (config.transformCase) {\r\n        \t    \t\tif (config.transformCase.indexOf(\"lower\")>-1) {\r\n        \t    \t\t\ttext = text.toLowerCase();\r\n        \t    \t\t} else if (config.transformCase.indexOf(\"upper\")>-1) {\r\n        \t    \t\t\ttext = text.toUpperCase();\r\n        \t    \t\t}\r\n        \t    \t}\r\n        \t    \tdfd.resolve(text);\r\n        \t    },\r\n        \t    failure: function(response, opts) {\r\n        \t    \tdfd.reject(response);\r\n        \t    },\r\n        \t    scope: this\r\n        \t})\r\n\t    \treturn dfd.promise\r\n\t\t}\r\n    },\r\n    \r\n\t/**\r\n     * Create a promise for a plain text representation of all the text in the corpus.\r\n     * \r\n     * The typical usage is to chain the returned promise with {@link Ext.promise.Promise#then then} and\r\n     * provide a function that receives the text as an argument.\r\n     * \r\n     * \tnew Corpus(\"http://hermeneuti.ca\").getPlainText().then(function(text) {\r\n     * \t\tshow(text.trim().replace(/\\s+/g, \" \").substr(-150)); // show the end \r\n     * \t});\r\n     * \r\n     * @param {Number/Object} config\r\n     * \r\n     * - when this is a number, it's the maximum number of words to fetch (though there may be any number of other tokens, like punctuation and space (but no tags).\r\n     * - otherwise this is a regular config object \u2013 see {@link #getText} for more details.\r\n     * \r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return text but a promise to return text when it's finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * text as an argument, as per the example above).\r\n\t */\r\n    getPlainText: function(config) {\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t    \tconfig = config || {};\r\n\t    \tif (Ext.isNumber(config)) {\r\n\t    \t\tconfig = {limit: config}\r\n\t    \t} else if (Ext.isString(config)) {\r\n\t    \t\tconfig = {limit: parseInt(config)}\r\n\t    \t}\r\n\t    \tExt.apply(config, {\r\n    \t\t\ttemplate: \"docTokens2plainText\"\r\n\t    \t});\r\n\t\t\treturn this.getText(config);\r\n\t\t}\r\n    \t\r\n    },\r\n\r\n\t/**\r\n     * Create a promise for a string containing just the words from the corpus.\r\n     * \r\n     * The typical usage is to chain the returned promise with {@link Ext.promise.Promise#then then} and\r\n     * provide a function that receives the text as an argument.\r\n     * \r\n     * \tnew Corpus(\"http://hermeneuti.ca\").getWords().then(function(words) {\r\n     * \t\tshow(words); // show the words \r\n     * \t});\r\n     * \r\n     * @param {Number/Object} config\r\n     * \r\n     * - when this is a number, it's the maximum number of words to fetch (though there may be any number of other tokens, like punctuation and space (but no tags).\r\n     * - otherwise this is a regular config object \u2013 see {@link #getText} for more details.\r\n     * \r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return the words but a promise to return words when it's finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * words as a string argument, as per the example above).\r\n\t */\r\n    getWords: function(config) {\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t    \tconfig = config || {};\r\n\t    \tif (Ext.isNumber(config)) {\r\n\t    \t\tconfig = {limit: config}\r\n\t    \t} else if (Ext.isString(config)) {\r\n\t    \t\tconfig = {limit: parseInt(config)}\r\n\t    \t};\r\n\t    \tExt.applyIf(config, {\r\n    \t\t\ttemplate: \"docTokens2words\"\r\n\t    \t});\r\n\t\t\treturn this.getText(config);\r\n\t\t}\r\n    \t\r\n    },\r\n\t\r\n\t/**\r\n     * Create a promise for a string containing just the words from the corpus.\r\n     * \r\n     * The typical usage is to chain the returned promise with {@link Ext.promise.Promise#then then} and\r\n     * provide a function that receives the text as an argument.\r\n     * \r\n     * \tnew Corpus(\"http://hermeneuti.ca\").getWords().then(function(words) {\r\n     * \t\tshow(words); // show the words \r\n     * \t});\r\n     * \r\n     * @param {Number/Object} config\r\n     * \r\n     * - when this is a number, it's the maximum number of words to fetch (though there may be any number of other tokens, like punctuation and space (but no tags).\r\n     * - otherwise this is a regular config object \u2013 see {@link #getText} for more details.\r\n     * \r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return the words but a promise to return words when it's finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * words as a string argument, as per the example above).\r\n\t */\r\n    getWordsArray: function(config) {\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t    \tthis.getWords(config).then(function(text) {\r\n\t\t\t\tdfd.resolve(text.split(\" \"));\r\n\t\t\t})\r\n\t\t\treturn dfd.promise\r\n\t\t}\r\n    \t\r\n    },\r\n    \r\n\t/**\r\n     * Create a promise for an array of lemmas from the corpus (only works for English).\r\n     * \r\n     * The typical usage is to chain the returned promise with {@link Ext.promise.Promise#then then} and\r\n     * provide a function that receives the lemmas as an argument.\r\n     * \r\n\t * \tnew Corpus(\"Hello world, I like Spyral notebooks!\", {language: \"en\"}).getLemmasArray().then(function(lemmas) {\r\n\t\t\tshow(lemmas.join(\", \"))\r\n\t *  });\r\n     * \r\n     * @param {Number/Object} config\r\n     * \r\n     * - when this is a number, it's the maximum number of words to fetch (though there may be any number of other tokens, like punctuation and space (but no tags).\r\n     * - otherwise this is a regular config object \u2013 see {@link #getText} for more details.\r\n     * \r\n\t * @returns {Ext.promise.Promise} *Important*: This doesn't immediately return the words but a promise to return words when it's finished loading\r\n\t * (you should normally chain the promise with {@link Ext.promise.Promise#then then} and provide a function that receives the\r\n\t * words as a string argument, as per the example above).\r\n\t */\r\n    getLemmasArray: function(config) {\r\n    \tconfig = config || {};\r\n\t\tif (this.then) {\r\n\t\t\treturn Voyant.application.getDeferredNestedPromise(this, arguments);\r\n\t\t} else {\r\n\t\t\tvar dfd = Voyant.application.getDeferred(this);\r\n\t\t\tExt.applyIf(config, {\r\n\t\t\t\ttemplate: \"docTokens2lemmas\",\r\n\t\t\t\twithPosLemmas: true,\r\n\t\t\t\tnoOthers: true\r\n\t\t\t})\r\n\t    \tthis.getWords(config).then(function(text) {\r\n\t    \t\tvar lemmas = text.split(\" \").map(function(word) {return word.substring(0, word.indexOf(\"/\"))})\r\n\t\t\t\tdfd.resolve(lemmas);\r\n\t\t\t})\r\n\t\t\treturn dfd.promise\r\n\t\t}\r\n    \t\r\n    },\r\n    \r\n    /**\r\n\t * Shows a one-line summary of this corpus.\r\n\t * \r\n\t * \tnew Corpus(\"Hello World!\").show(true);\r\n\t * \r\n\t * @method show\r\n\t * @param {boolean} [withID] Includes the corpus ID in parentheses at the end, if true.\r\n\t */\r\n\t\r\n\t/**\r\n\t * @method embed\r\n\t * Embed the current corpus in the specified tool.\r\n\t * \r\n\t * Because embed knows about promises, you don't need to handle promises when calling embed on a corpus.\r\n\t * \r\n\t * \tnew Corpus(\"Hello Voyant!\").embed(); // use summary as a default\r\n\t * \tnew Corpus(\"Hello Voyant!\").embed(\"corpusterms\"); // specify corpus terms tool\r\n\t * \tnew Corpus(\"Hello Voyant!\").embed(\"cirrus\", {width: \"300px\"}); // with config\r\n\t *  \r\n\t * @param {String} [tool] Specify which tool to use for embedding this corpus.\r\n\t * The following are recognized tool values: {@link Voyant.panel.Summary summary} (default), {@link Voyant.panel.Cirrus cirrus}, {@link Voyant.panel.Documents documents}, {@link Voyant.panel.CorpusTerms corpusterms}.\r\n\t * @param {Object} [config] Additional configuration options to pass to the tool.\r\n\t * In addition to the configuration options available from each tool listed in the tool param (see above), options include:\r\n\t * \r\n\t * - **width**: a CSS width value for the embedded tool (e.g. \"500px\", \"80em\", \"50%\")\r\n\t * - **height**: a CSS height value for the embedded tool (e.g. \"300px\", \"10em\", \"30%\")\r\n\t */\r\n    getString: function(config) {\r\n\t\tvar size = this.getDocumentsCount();\r\n\t\tvar message = this.localize('thisCorpus');\r\n\t\tif (size==0) {message += ' '+this.localize('isEmpty')+'.';}\r\n\t\telse {\r\n\t\t\tmessage+=' ';\r\n\t\t\tif (size>1) {\r\n\t\t\t\tmessage+=new Ext.XTemplate(this.localize('hasNdocuments')).apply({count: Ext.util.Format.number(size,\"0,000\")});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmessage+=this.localize('has1document');\r\n\t\t\t}\r\n\t\t\tmessage+=' '+new Ext.XTemplate(this.localize('widthNwordsAndNTypes')).apply({words: Ext.util.Format.number(this.getWordTokensCount(),\"0,000\"), types: Ext.util.Format.number(this.getWordTypesCount(),\"0,000\")})+'.'\r\n\t\t\tmessage+=\" \"+this.localize('created')+\" \";\r\n\t\t\tvar createdDate = this.get('createdDate');\r\n\t\t\tvar now = new Date();\r\n\t\t\tif (Ext.Array.each([\r\n\t\t    \t\t\t\t['year', Ext.Date.YEAR],\r\n\t\t    \t\t\t\t['month', Ext.Date.MONTH],\r\n\t\t    \t\t\t\t['day', Ext.Date.DAY],\r\n\t\t    \t\t\t\t['hour', Ext.Date.HOUR],\r\n\t\t    \t\t\t\t['minute', Ext.Date.MINUTE],\r\n\t\t    \t\t\t\t['second', Ext.Date.SECOND]\r\n\t\t    \t], function(time) {\r\n        \t\t\tif (Ext.Date.diff(createdDate, now, time[1])>(time[0]=='second' ? 1 : 0)) {\r\n        \t\t\t\tvar count = Ext.Date.diff(createdDate, now, time[1]);\r\n        \t\t\t\tmessage+=\"<span class='info-tip' data-qtip='\"+Ext.Date.format(createdDate, \"Y-m-d, H:i:s\")+\"'>\";\r\n        \t\t\t\tif (count==1) {message+=new Ext.XTemplate(this.localize(time[0]+'Ago')).apply({count: count, date: createdDate})}\r\n        \t\t\t\telse {message+=new Ext.XTemplate(this.localize(time[0]+'sAgo')).apply({count: count, date: createdDate})}\r\n        \t\t\t\tmessage+=\"</span>\";\r\n        \t\t\t\treturn false\r\n        \t\t\t}\r\n\t\t\t\t}, this\r\n\t\t\t)===true) { // if array returns true, none of the conditions matched, so say now\r\n\t\t\t\tmessage+=this.localize('now');\r\n\t\t\t}\r\n\t\t\tmessage+='.';\r\n\t\t\t\r\n\t\t\tmessage+='';\r\n\t\t}\r\n\t\tif (config===true) {message+=' ('+this.getId()+\")\";}\r\n\t\treturn message;\r\n    }\r\n    \r\n    \r\n\r\n});","Ext.define('Voyant.widget.CorpusSelector', {\n    extend: 'Ext.form.field.ComboBox',\n    mixins: ['Voyant.util.Localization', 'Voyant.util.Api'],\n    alias: 'widget.corpusselector',\n    statics: {\n\t    \ti18n: {\n\t    \t},\n\t    \tapi: {\n\t    \t\topenMenu: undefined\n\t    \t}\n    },\n    \n    constructor: function(config) {\n        config = config || {};\n        \n        // need to call here to get openMenu\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n\n\t    \tvar data = [['shakespeare',\"Shakespeare's Plays\"],['austen',\"Austen's Novels\"]];\t\n\t    \t// check API and server option for open menu values\n\t    \tif (this.getApiParam(\"openMenu\")) {\n\t\t\t\tdata = this.getStoreItemsFromDefinition(this.getApiParam(\"openMenu\"));\n\t\t} else if (Voyant.application && Voyant.application.getOpenMenu && Voyant.application.getOpenMenu()) {\n\t\t\tvar arg = Voyant.application.getOpenMenu();\n\t\t\targ = decodeURIComponent(arg);\n\t\t\targ = arg.replace(/\\+/g,' ');\n\t\t\tif (arg.charAt(0)=='\"' && arg.charAt(arg.length-1)=='\"') {\n\t\t\t\targ = arg.substring(1, arg.length-1);\n\t\t\t}\n\t\t\tdata = this.getStoreItemsFromDefinition(arg);\n\t    \t}\n\t\n\t    \tExt.applyIf(config, {\n\t    \t\tfieldLabel: this.localize('chooseCorpus'),\n\t            labelWidth: 125,\n\t            labelAlign: 'right',\n\t            name:'corpus',\n\t            queryMode:'local',\n\t            store: data\n\t    \t});\n        this.callParent([config]);\n    },\n\n    \tinitComponent: function(config) {\n    \t\tconfig = config || {};\n        this.callParent([config]);\n    },\n    \n    getStoreItemsFromDefinition: function(definition) {\n\t    \tvar data = [], items = definition.split(\";\");\n\t    \tfor (var i=0; i<items.length; i++) {\n\t    \t\tvar nameValue = items[i].split(\":\");\n\t    \t\tif (nameValue[0]) {\n\t        \t\tdata.push([nameValue[0],nameValue[1] ? nameValue[1] : nameValue[0]]);\n\t    \t\t}\n\t    \t}\n\t    \treturn data;\n    }\n})","Ext.define('Voyant.widget.ListEditor', {\n    extend: 'Ext.container.Container',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.listeditor',\n    layout: 'hbox',\n    statics: {\n    \ti18n: {\n    \t}\n    },\n    initComponent: function(config) {\n    \tvar me = this;\n    \tvar value = this.up('window').panel.getApiParam(this.name);\n    \tvar data = value ? [{name: value, value: value}] : [];\n    \t\n    \tdata.splice(0, 0, {name : this.localize('none'),   value: ''},  {name : this.localize('new'),   value: 'new'})\n    \tExt.apply(me, {\n\t    \t\titems: [{\n\t    \t        xtype: 'combo',\n\t    \t        queryMode: 'local',\n\t    \t        value: value,\n\t    \t        triggerAction: 'all',\n\t    \t        editable: true,\n\t    \t        fieldLabel: this.localize(this.name+'Label'),\n\t    \t        labelAlign: 'right',\n\t    \t        name: this.name,\n\t    \t        displayField: 'name',\n\t    \t        valueField: 'value',\n\t    \t        store: {\n\t    \t            fields: ['name', 'value'],\n\t    \t            data: data\n\t    \t        }\n\t    \t\t}, {width: 10}, {xtype: 'tbspacer'}, {\n\t    \t\t\txtype: 'button',\n\t    \t\t\ttext: this.localize('editList'),\n\t\t            ui: 'default-toolbar',\n\t    \t\t\thandler: this.editList,\n\t    \t\t\tscope: this\n\t    \t\t}]\n    \t})\n        me.callParent(arguments);\n    },\n    \n    editList: function() {\n    \tvar win = this.up('window');\n    \tvar panel = win.panel;\n    \tvar value = this.down('combo').getValue();\n    \tExt.Ajax.request({\n    \t    url: panel.getTromboneUrl(),\n    \t    params: {\n        \t\ttool: 'resource.KeywordsManager',\n        \t\tlist: value\n    \t    },\n    \t    success: function(response){\n    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n    \t    \tvar keywords = json.keywords.keywords.sort().join(\"\\n\");\n    \t\t\tExt.Msg.show({\n\t    \t\t    title: this.localize('editListTitle'),\n\t    \t\t    message: this.localize('editListMessage'),\n\t    \t\t    buttons: Ext.Msg.OKCANCEL,\n\t    \t\t    buttonText: {\n\t    \t\t        ok: this.localize('ok'),\n\t    \t\t        cancel: this.localize('cancel')\n\t    \t\t    },\n\t    \t\t    icon: Ext.Msg.INFO,\n\t    \t\t    prompt: true,\n\t    \t        multiline: true,\n\t    \t        value: keywords,\n\t    \t        original: keywords,\n\t    \t        fn: function(btn,value,list) {\n\t    \t        \tif (btn=='ok' && list.original!=value) {\n\t    \t        \t\tvar combo = this.down('combo')\n\t    \t        \t\tif (Ext.String.trim(value).length==0) {\n\t    \t        \t\t\tcombo.setValue('empty');\n\t    \t        \t\t}\n\t    \t        \t\telse {\n\t    \t        \t    \tExt.Ajax.request({\n\t    \t        \t    \t    url: panel.getTromboneUrl(),\n\t    \t        \t    \t    params: {\n\t    \t        \t        \t\ttool: 'resource.StoredResource',\n\t    \t        \t    \t\t\tstoreResource: value\n\t    \t        \t    \t    },\n\t    \t        \t    \t    combo: combo,\n\t    \t        \t    \t    success: function(response, req) {\n\t    \t        \t    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n\t    \t        \t    \t    \tvar store = req.combo.getStore();\n\t    \t        \t    \t    \tvar value = 'keywords-'+json.storedResource.id;\n\t    \t        \t    \t    \tstore.add({name: value, value: value});\n\t    \t        \t    \t    \treq.combo.setValue(value)\n\t    \t        \t    \t    \treq.combo.updateLayout()\n\t    \t        \t    \t    },\n\t    \t        \t    \t    scope: this\n\t    \t        \t    \t})\n\t    \t        \t\t}\n\t    \t        \t}\n\t    \t        },\n\t    \t        scope: this\n    \t\t\t})\n    \t    },\n    \t    scope: this\n    \t});\n    }\n})","Ext.define('Voyant.widget.StopListOption', {\n    extend: 'Ext.container.Container',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.stoplistoption',\n    layout: 'hbox',\n    statics: {\n    \t\tstoplists: {\n    \t\t    ar: \"stop.ar.arabic-lucene.txt\",\n    \t\t\tbg: \"stop.bu.bulgarian-lucene.txt\",\n    \t\t\tbr: \"stop.br.breton-lucene.txt\",\n    \t\t\tca: \"stop.ca.catalan-lucene.txt\",\n    \t\t\tckb: \"stop.ckb-turkish-lucene.txt\",\n    \t\t\tcn: \"stop.cn.chinese-lawrence.txt\",\n    \t\t\tcz: \"stop.cz.czech-lucene.txt\",\n    \t\t\tde: \"stop.de.german.txt\",\n    \t\t\tel: \"stop.el.greek-lucene.txt\",\n    \t\t\ten: \"stop.en.taporware.txt\",\n    \t\t\tes: \"stop.es.spanish.txt\",\n    \t\t\teu: \"stop.eu.basque-lucene.txt\",\n    \t\t\tfa: \"stop.fa.farsi-lucene.txt\",\n    \t\t\tfr: \"stop.fr.veronis.txt\",\n    \t\t\tga: \"stop.ga-irish-lucene.txt\",\n    \t\t\tgl: \"stop.ga.galician-lucene.txt\",\n    \t\t\tgrc: \"stop.grc.ancient-greek.txt\",\n    \t\t\thi: \"stop.hi.hindi-lucene.txt\",\n    \t\t\thu: \"stop.hu.hungarian.txt\",\n    \t\t\thy: \"stop.hy.armenian-lucene.txt\",\n    \t\t\tid: \"stop.id.indonesian-lucene.txt\",\n    \t\t\tit: \"stop.it.italian.txt\",\n    \t\t\tja: \"stop.ja.japanese-lucene.txt\",\n    \t\t\tla: \"stop.la.latin.txt\",\n    \t\t\tlv: \"stop.lv.latvian-lucene.txt\",\n    \t\t\tlt: \"stop.lt.lithuanian-lucene.txt\",\n    \t\t\tmu: \"stop.mu.multi.txt\",\n    \t\t\tnl: \"stop.nl.dutch.txt\",\n    \t\t\tno: \"stop.no.norwegian.txt\",\n    \t\t\tpt: \"stop.pt.brazilian.txt\",\n    \t\t\tro: \"stop.ro.romanian-lucene.txt\",\n    \t\t\tru: \"stop.ru.russian.txt\",\n    \t\t\tse: \"stop.se.swedish-long.txt\",\n    \t\t\tth: \"stop.th.thai-lucene.txt\",\n    \t\t\ttr: \"stop.tr.turkish-lucene.txt\"\n    \t\t},\n\t    \ti18n: {\n\t    \t\t\n\t    \t}\n    },\n    initComponent: function(config) {\n    \tvar me = this;\n    \tvar value = this.up('window').panel.getApiParam('stopList');\n    \tvar data = [];\n    \tfor (id in Voyant.widget.StopListOption.stoplists) {\n    \t\tdata.push({name: this.localize(id), value: Voyant.widget.StopListOption.stoplists[id]})\n    \t}\n    \tdata.sort(function(a,b) { // sort by label\n    \t\treturn a.name < b.name ? -1 : 1;\n    \t})\n    \tdata.splice(0, 0, {name : this.localize('auto'),   value: 'auto'}, {name : this.localize('none'),   value: ''},  {name : this.localize('new'),   value: 'new'})\n    \tExt.apply(me, {\n\t    \t\titems: [{\n\t    \t        xtype: 'combo',\n\t    \t        queryMode: 'local',\n\t    \t        value: value,\n\t    \t        triggerAction: 'all',\n\t    \t        editable: true,\n\t    \t        fieldLabel: this.localize('label'),\n\t    \t        labelAlign: 'right',\n\t    \t        name: 'stopList',\n\t    \t        displayField: 'name',\n\t    \t        valueField: 'value',\n\t    \t        store: {\n\t    \t            fields: ['name', 'value'],\n\t    \t            data: data\n\t    \t        }\n\t    \t\t}, {width: 10}, {xtype: 'tbspacer'}, {\n\t    \t\t\txtype: 'button',\n\t    \t\t\ttext: this.localize('editList'),\n\t\t            ui: 'default-toolbar',\n\t    \t\t\thandler: this.editList,\n\t    \t\t\tscope: this\n\t    \t\t}, {width: 10}, {\n\t    \t\t\txtype: 'checkbox',\n\t    \t\t\tname: 'stopListGlobal',\n\t    \t\t\tchecked: true,\n\t    \t\t\tboxLabel: this.localize('applyGlobally')\n\t    \t\t}]\n    \t})\n        me.callParent(arguments);\n    },\n    \n    editList: function() {\n    \tvar win = this.up('window');\n    \tvar panel = win.panel;\n    \tvar value = this.down('combo').getValue();\n    \tvar corpusId = panel.getApplication && panel.getApplication().getCorpus ? panel.getApplication().getCorpus().getId() : undefined;\n    \tif (value=='auto' && !corpusId) {\n    \t\tExt.Msg.show({\n\t\t\t    title: this.localize('noEditAutoTitle'),\n\t\t\t    message: this.localize('noEditAutoMessage'),\n\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t    icon: Ext.Msg.ERROR\n\t\t\t});\n    \t\treturn\n    \t}\n    \tExt.Ajax.request({\n    \t    url: panel.getTromboneUrl(),\n    \t    params: {\n        \t\ttool: 'resource.KeywordsManager',\n    \t\t\tstopList: value,\n    \t\t\tcorpus: corpusId\n    \t    },\n    \t    success: function(response){\n    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n    \t    \tvar keywords = json.keywords.keywords.sort().join(\"\\n\");\n    \t\t\tExt.Msg.show({\n\t    \t\t    title: this.localize('editStopListTitle'),\n\t    \t\t    message: this.localize('editStopListMessage'),\n\t    \t\t    buttons: Ext.Msg.OKCANCEL,\n\t    \t\t    buttonText: {\n\t    \t\t        ok: this.localize('ok'),\n\t    \t\t        cancel: this.localize('cancel')\n\t    \t\t    },\n\t    \t\t    icon: Ext.Msg.INFO,\n\t    \t\t    prompt: true,\n\t    \t        multiline: true,\n\t    \t        value: keywords,\n\t    \t        original: keywords,\n\t    \t        fn: function(btn,value,stoplist) {\n\t    \t        \t// force lowercase for simple stopword list since it's lexical (this may change if the widget is used elsewhere)\t    \t        \tvalue = value.toLowerCase();\n\t    \t        \tvalue = value.toLowerCase();\n\t    \t        \tif (btn=='ok' && stoplist.original!=value) {\n\t    \t        \t\tvar combo = this.down('combo')\n\t    \t        \t\tif (Ext.String.trim(value).length==0) {\n\t    \t        \t\t\tcombo.setValue('empty');\n\t    \t        \t\t}\n\t    \t        \t\telse {\n\t    \t        \t    \tExt.Ajax.request({\n\t    \t        \t    \t    url: panel.getTromboneUrl(),\n\t    \t        \t    \t    params: {\n\t    \t        \t        \t\ttool: 'resource.StoredResource',\n\t    \t        \t    \t\t\tstoreResource: value,\n\t    \t        \t    \t\t\tcorpus: corpusId\n\t    \t        \t    \t    },\n\t    \t        \t    \t    combo: combo,\n\t    \t        \t    \t    success: function(response, req) {\n\t    \t        \t    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n\t    \t        \t    \t    \tvar store = req.combo.getStore();\n\t    \t        \t    \t    \tvar value = 'keywords-'+json.storedResource.id;\n\t    \t        \t    \t    \tstore.add({name: value, value: value});\n\t    \t        \t    \t    \treq.combo.setValue(value)\n\t    \t        \t    \t    \treq.combo.updateLayout()\n\t    \t        \t    \t    },\n\t    \t        \t    \t    scope: this\n\t    \t        \t    \t})\n\t    \t        \t\t}\n\t    \t        \t}\n\t    \t        },\n\t    \t        scope: this\n    \t\t\t})\n    \t    },\n    \t    scope: this\n    \t});\n    }\n})","Ext.define('Voyant.widget.QuerySearchField', {\n    extend: 'Ext.form.field.Tag',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.querysearchfield',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconfig: {\n\t\tcorpus: undefined,\n\t\ttokenType: 'lexical',\n\t\tisDocsMode: false,\n\t\tinDocumentsCountOnly: undefined,\n\t\tstopList: undefined,\n\t\tshowAggregateInDocumentsCount: false,\n\t\tclearOnQuery: false,\n\t\tparentPanel: undefined,\n\t\tcurrentOriginalRawQueryPlan: undefined\n\t},\n\thasCorpusLoadedListener: false,\n\tisClearing: false, // flag for clearOnQuery\n    \n    constructor: function(config) {\n    \t\n    \tconfig = config || {};\n    \tvar itemTpl = config.itemTpl ? config.itemTpl : (config.inDocumentsCountOnly ?\n    \t\t\t('<tpl><tpl if=\"term.charAt(0)==\\'@\\'\">{term}</tpl><tpl if=\"term.charAt(0)!=\\'@\\'\">{term} ({inDocumentsCount})</tpl></tpl>') :\n    \t\t\t('<tpl><tpl if=\"term.charAt(0)==\\'@\\'\">{term}</tpl><tpl if=\"term.charAt(0)!=\\'@\\'\">{term} ({rawFreq})</tpl></tpl>'))\n    \tExt.applyIf(config, {\n    \t\tminWidth: 100,\n    \t\tmaxWidth: 200,\n    \t\tmatchFieldWidth : false,\n    \t\tminChars: 2,\n    \t    displayField: 'term',\n    \t    valueField: 'term',\n    \t    filterPickList: true,\n    \t    createNewOnEnter: true,\n    \t    createNewOnBlur: false,\n    \t    autoSelect: false,\n//    \t    emptyText: this.localize('querySearch'),\n    \t    tpl: [\n    \t    \t'<ul class=\"x-list-plain\"><tpl for=\".\">',\n    \t    \t'<li role=\"option\" class=\"x-boundlist-item\" style=\"white-space: nowrap;\">'+itemTpl+'</li>',\n    \t    \t'</tpl></ul>'\n    \t    ],\n    \t    triggers: {\n    \t        help: {\n    \t            weight: 2,\n    \t            cls: 'fa-trigger form-fa-help-trigger',\n    \t            handler: function() {\n    \t            \tExt.Msg.show({\n    \t            \t    title: this.localize('querySearch'),\n    \t            \t    message: this.getIsDocsMode() ? this.localize('querySearchDocsModeTip') : this.localize('querySearchTip'),\n    \t            \t    buttons: Ext.OK,\n    \t            \t    icon: Ext.Msg.INFO\n    \t            \t});\n    \t            },\n    \t            scope: 'this'\n    \t        }\n    \t   }\n    \t})\n    \tif (config.showAggregateInDocumentsCount) {\n    \t\tconfig.triggers.count = {\n\t            cls: 'fa-trigger',\n\t            handler: 'onHelpClick',\n\t            scope: 'this',\n\t            hidden: true\n    \t\t}\n    \t}\n    \tif (config.clearOnQuery) {\n    \t\tthis.setClearOnQuery(config.clearOnQuery);\n    \t}\n        this.callParent(arguments);\n    },\n    initComponent: function(config) {\n\n    \tvar me = this;\n\n    \tme.on(\"beforequery\", function(queryPlan) {\n\n    \t\tif (queryPlan.query) {\n    \t\t\tqueryPlan.query = queryPlan.query.trim();\n    \t\t\t\n    \t\t\t// set it in the raw state because we use it in the load event to add categories\n    \t\t\tvar originalRawQueryPlan = queryPlan.query.toLowerCase();\n    \t\t\tthis.setCurrentOriginalRawQueryPlan(queryPlan.query)\n    \t\t\t\n    \t\t\tif (queryPlan.query.charAt(0)!=\"@\") {\n\t    \t\t\tif (queryPlan.query.charAt(0)==\"^\") {\n\t    \t\t\t\tqueryPlan.query=queryPlan.query.substring(1)\n\t    \t\t\t\tqueryPlan.cancel = queryPlan.query.length==0; // cancel if it's just that character\n\t    \t\t\t}\n\t    \t\t\tif (queryPlan.query.charAt(0)==\"*\") { // convert leading wildcard to regex\n\t    \t\t\t\tqueryPlan.query = \".\"+queryPlan.query;\n\t    \t\t\t}\n\t    \t\t\tif (queryPlan.query.charAt(queryPlan.query.length-1)=='*' || queryPlan.query.charAt(queryPlan.query.length-1)=='|') {\n\t    \t\t\t\tqueryPlan.query=queryPlan.query.substring(0,queryPlan.query.length-1)\n\t    \t\t\t\tqueryPlan.cancel = queryPlan.query.length==0; // cancel if it's just that character\n\t    \t\t\t}\n\t    \t\t\tif (queryPlan.query.charAt(0)==\".\") {\n\t    \t\t\t\tqueryPlan.cancel = queryPlan.query.length< (/\\W/.test(queryPlan.query.charAt(1)) ? 5 : 4) // cancel if we only have 3 or fewer after .\n\t    \t\t\t}\n\t    \t\t\ttry {\n\t                    new RegExp(queryPlan.query);\n\t\t            }\n\t\t            catch(e) {\n\t\t            \tqueryPlan.cancel = true;\n\t\t            }\n\t\t            if (queryPlan.query.indexOf('\"')>-1) { // deal with unfinished phrases\n\t\t            \tif (queryPlan.query.indexOf(\" \")==-1) {queryPlan.cancel=true} // no space in phrase\n\t\t            \tif ((queryPlan.query.match(/\"/) || []).length!=2) {queryPlan.cancel=true;} // not balanced quotes\n\t\t            }\n\t\t            if (queryPlan.query.indexOf(\"*\")>-1) {\n\t\t            \t// skip for multiword or pipes\n\t\t            \tif (queryPlan.query.indexOf(\" \")==-1 && queryPlan.query.indexOf(\"|\")==-1) {\n\t\t            \t\tqueryPlan.query += \",^\"+queryPlan.query;\n\t\t            \t}\n\t\t            } else {\n\t\t            \tqueryPlan.query = queryPlan.query+\"*\"+ (queryPlan.query.indexOf(\" \")==-1  && queryPlan.query.indexOf(\"|\")==-1 ? \",\"+\"^\"+queryPlan.query+\"*\" : \"\")\n\t\t            }\n    \t\t\t} else if (queryPlan.query==\"@\") { // no letters yet\n    \t\t\t\tqueryPlan.cancel = true;\n    \t\t\t}\n\t            \n\t            var parent = me.getParentPanel();\n\t            if (queryPlan.cancel==false && parent) {\n\t            \tvar originalRawQueryPlanWithoutAt = originalRawQueryPlan.charAt(0)==\"@\" ? originalRawQueryPlan.substring(1) : originalRawQueryPlan;\n\t\t            for (var cat in parent.getApplication().getCategoriesManager().getCategories()) {\n\t\t            \tif (cat.toLowerCase().indexOf(originalRawQueryPlanWithoutAt)>-1) {\n\t\t            \t\tqueryPlan.query = \"@\"+cat+(originalRawQueryPlan.charAt(0)==\"@\" ? \"\" : \",\"+queryPlan.query);\n\t\t            \t}\n\t\t            }\t\n\t            }\n    \t\t}\n\t            \n\t            \n    \t}, this);\n    \t\n    \tme.on(\"change\", function(tags, queries) {\n    \t\t\n    \t\tif (!me.isClearing) {\n\t    \t\tqueries = queries.map(function(query) {return query.replace(/^(\\^?)\\*/, \"$1.*\")});\n\t    \t\tme.up('panel').fireEvent(\"query\", me, queries);\n\t    \t\tif (me.getClearOnQuery()) {\n\t    \t\t\tme.isClearing = true;\n\t    \t\t\tme.removeValue(me.getValueRecords());\n\t    \t\t}\n\t    \t\tif (me.triggers.count) {\n\t    \t\t\tme.triggers.count.show();\n\t    \t\t\tme.triggers.count.getEl().setHtml('0');\n\t    \t\t\tif (queries.length>0) {\n\t    \t\t\t\tme.getCorpus().getCorpusTerms().load({\n\t    \t\t\t\t\tparams: {\n\t    \t\t\t\t\t\tquery: queries.map(function(q) {return '('+q+')'}).join(\"|\"),\n\t\t\t\t    \t\t\ttokenType: me.getTokenType(),\n\t\t\t\t    \t\t\tstopList: me.getStopList(),\n\t\t\t\t    \t\t\tinDocumentsCountOnly: true\n\t    \t\t\t\t\t},\n\t    \t\t\t\t\tcallback: function(records, operation, success) {\n\t    \t\t\t\t\t\tif (success && records && records.length==1) {\n\t    \t\t\t\t\t\t\tme.triggers.count.getEl().setHtml(records[0].getInDocumentsCount())\n\t    \t\t\t\t\t\t}\n\t    \t\t\t\t\t}\n\t    \t\t\t\t})\n\t    \t\t\t} else {\n\t    \t\t\t\tme.triggers.count.hide();\n\t    \t\t\t}\n\t    \t\t}\n    \t\t} else {\n    \t\t\tme.isClearing = false;\n    \t\t}\n    \t});\n\n    \t// we need to make sure the panel is a voyantpanel\n    \t// so that we get loadedCorpus event after a call to Voyant.util.Toolable.replacePanel\n    \tvar parentPanel = me.findParentBy(function(clz) {\n    \t\treturn clz.mixins[\"Voyant.panel.Panel\"];\n\t\t});\n    \tif (parentPanel != null) {\n    \t\tthis.setParentPanel(parentPanel);\n    \t\tif (parentPanel.getCorpus && parentPanel.getCorpus()) {\n    \t\t\tme.on(\"afterrender\", function(c) {\n    \t\t\t\tthis.doSetCorpus(parentPanel.getCorpus());\t\n    \t\t\t})\n    \t\t\tme.hasCorpusLoadedListener = true;    \t\t\t\n    \t\t} else {\n\t    \t    \tparentPanel.on(\"loadedCorpus\", function(src, corpus) {\n\t    \t    \t\tme.doSetCorpus(corpus);\n\t    \t    \t}, me);\n\t    \t    \tme.hasCorpusLoadedListener = true;    \t\t\t\n    \t\t}\n    \t}\n    \t\n    \tme.on(\"afterrender\", function(c) {\n    \t\t\n    \t\tif (me.hasCorpusLoadedListener === false) {\n    \t\t\tif (!me.getCorpus()) {\n    \t    \t\tparentPanel = me.findParentBy(function(clz) {\n    \t    \t\t\treturn clz.mixins[\"Voyant.panel.Panel\"];\n        \t\t\t});\n    \t    \t\tif (parentPanel == null) {\n    \t    \t\t\tparentPanel = me.up('window').panel;\n    \t    \t\t}\n    \t    \t\tvar corpus = parentPanel.getApplication().getCorpus();\n    \t\t\t\tif (corpus !== undefined) {\n    \t\t\t\t\tme.doSetCorpus(corpus);\n    \t\t\t\t} else {\n    \t\t\t\t\tparentPanel.on(\"loadedCorpus\", function(src, corpus) {\n    \t\t\t\t\t\tme.doSetCorpus(corpus);\n    \t\t\t    \t}, me);\n    \t\t\t\t\tme.hasCorpusLoadedListener = true;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n\t\t\t\n    \t\tif (me.triggers && me.triggers.help) {\n    \t\t\tExt.tip.QuickTipManager.register({\n    \t\t\t\ttarget: me.triggers.help.getEl(),\n    \t\t\t\ttext: me.getIsDocsMode() ? me.localize('querySearchDocsModeTip') : me.localize('querySearchTip')\n\t\t\t\t});\n\t\t\t}\n    \t\tif (me.triggers && me.triggers.count) {\n    \t\t\tExt.tip.QuickTipManager.register({\n    \t\t\t\ttarget: me.triggers.count.getEl(),\n    \t\t\t\ttext: me.localize('aggregateInDocumentsCount')\n\t\t\t\t});\n\t\t\t}\n    \t});\n    \t\n    \tme.on(\"beforedestroy\", function(c) {\n    \t\t\n    \t\tif (me.triggers && me.triggers.help) {\n    \t\t\tExt.tip.QuickTipManager.unregister(me.triggers.help.getEl());\n    \t\t}\n    \t\tif (me.triggers && me.triggers.count) {\n    \t\t\tExt.tip.QuickTipManager.unregister(me.triggers.count.getEl());\n    \t\t}\n    \t});\n    \t\n    \tme.callParent(arguments);\n    },\n    \n    doSetCorpus: function(corpus) {\n\t\t\n    \tif (corpus != null) {\n\t    \tthis.setCorpus(corpus);\n\t\t\tvar stopList = this.getStopList();\n\t\t\tif (stopList==undefined) {\n\t    \t\tif (this.getApiParam) {this.setStopList(this.getApiParam(\"stopList\"))}\n\t    \t\telse {\n\t    \t\t\tvar parent = this.up(\"panel\");\n\t    \t\t\twhile (parent) {\n\t    \t\t\t\tif (parent && parent.getApiParam) {\n\t\t    \t\t\t\tthis.setStopList(parent.getApiParam(\"stopList\"))\n\t\t    \t\t\t\tbreak;\n\t\t    \t\t\t}\n\t    \t\t\t\tparent = parent.up(\"panel\");\n\t    \t\t\t}\n\t    \t\t}\n\t\t\t}\n\n\t\t\tvar categories = this.getApiParam ? this.getApiParam(\"categories\") : undefined;\n\t\t\tif (!categories) {\n    \t\t\tvar parent = this.up(\"panel\");\n    \t\t\twhile (parent) {\n    \t\t\t\tif (parent && parent.getApiParam) {\n    \t\t\t\t\tcategories = parent.getApiParam('categories');\n\t    \t\t\t\tbreak;\n\t    \t\t\t}\n    \t\t\t\tparent = parent.up(\"panel\");\n    \t\t\t}\n\t\t\t}\n\t\t\tvar store = corpus.getCorpusTerms({\t\t\t\t\n\t\t\t\tcorpus: corpus.getAliasOrId(),\n\t\t\t\tproxy: {\n\t\t\t\t\textraParams: {\n\t\t\t    \t\t\tlimit: 10,\n\t\t\t    \t\t\ttokenType: this.tokenType,\n\t\t\t    \t\t\tstopList: this.getStopList(),\n\t\t\t    \t\t\tinDocumentsCountOnly: this.getInDocumentsCountOnly(),\n\t\t\t    \t\t\tcategories: categories\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n//\t\t\tstore.on(\"load\", function() {\n//\t\t\t\tthis.fireEvent.apply(this, [\"load\"].concat(Array.prototype.slice.call(arguments)));\n//\t\t\t}, this);\n\n\t\t\tthis.setStore(store);\n    \t}\n    }\n    \n});\n","Ext.define('Voyant.widget.TotalPropertyStatus', {\n    extend: 'Ext.Component',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.totalpropertystatus',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n    initComponent: function() {\n        var me = this;\n        Ext.applyIf(me, {\n            tpl: this.localize('totalPropertyStatus'),\n            itemId: 'totalpropertystatus',\n            style: 'margin-right:5px',\n            listeners: {\n            \tafterrender: function(cmp) {\n            \t\tvar grid = cmp.up('grid')\n            \t\tif (grid) {\n            \t\t\tvar store = grid.getStore();\n            \t\t\tcmp.updateStatus(store.getTotalCount()); // make sure we set this in case of lazy render\n            \t\t\tgrid.getStore().on(\"totalcountchange\", cmp.updateStatus, cmp) // bind changes to update\n            \t\t}\n            \t}\n            }\n        })\n        me.callParent(arguments);\n    },\n    updateStatus: function(count) {\n    \tthis.update({count: count})\n    }\n});\n","Ext.define('Voyant.widget.DocumentSelector', {\r\n    mixins: ['Voyant.util.Localization'],\r\n    alias: 'widget.documentselector',\r\n\tglyph: 'xf10c@FontAwesome',\r\n\tstatics: {\r\n\t\ti18n: {\r\n\t\t}\r\n\t},\r\n\r\n\tconfig: {\r\n\t\tdocs: undefined,\r\n\t\tcorpus: undefined,\r\n\t\tsingleSelect: false\r\n\t},\r\n\t\r\n    initComponent: function() {\r\n\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tthis.setSingleSelect(this.config.singleSelect == undefined ? this.getSingleSelect() : this.config.singleSelect);\r\n\t\t\r\n\t\tExt.apply(me, {\r\n\t\t\ttext: this.localize('documents'),\r\n\t\t\tmenu: {\r\n\t\t\t\twidth: 250,\r\n\t\t\t\tfbar: [{\r\n\t\t\t\t\txtype: 'checkbox',\r\n\t\t\t\t\thidden: this.getSingleSelect(),\r\n\t\t\t\t\tboxLabel: this.localize(\"all\"),\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tchange: {\r\n\t\t\t\t\t\t\tfn: function(item, checked) {\r\n\t\t\t\t\t\t\t\tthis.getMenu().items.each(function(item) {\r\n\t\t\t\t\t\t\t\t\titem.setChecked(checked);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},{xtype:'tbfill'},{\r\n\t\t    \t\txtype: 'button',\r\n\t\t    \t\ttext: this.localize('ok'),\r\n\t\t\t\t\thidden: this.getSingleSelect(),\r\n\t    \t    \tscale: 'small',\r\n\t\t    \t\thandler: function(button, e) {\r\n\t\t    \t\t\tvar docs = [];\r\n\t\t    \t\t\tthis.getMenu().items.each(function(item) {\r\n\t\t    \t\t\t\tif (item.checked) {\r\n\t\t\t    \t\t\t\tdocs.push(item.docId);\r\n\t\t    \t\t\t\t}\r\n\t\t    \t\t\t}, this);\r\n\t\t    \t\t\t\r\n\t\t    \t\t\t// tell parent tool\r\n\t\t\t\t\t\tvar panel = button.findParentBy(function(clz) {\r\n\t\t\t\t\t\t\treturn clz.mixins[\"Voyant.panel.Panel\"];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (panel) {\r\n\t\t\t    \t\t\tpanel.fireEvent('documentsSelected', button, docs);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t    \t\t\t// hide the opened menu\r\n\t\t    \t\t\tbutton.findParentBy(function(clz) {\r\n\t\t    \t\t\t\tif (clz.isXType(\"button\") && clz.hasVisibleMenu()) {\r\n\t\t    \t\t\t\t\tclz.hideMenu();\r\n\t\t    \t\t\t\t\treturn true;\r\n\t\t    \t\t\t\t}\r\n\t\t    \t\t\t\treturn false;\r\n\t\t    \t\t\t});\r\n\t\t    \t\t},\r\n\t\t    \t\tscope: this\r\n\t\t    \t},{\r\n\t\t    \t\txtype: 'button',\r\n\t\t    \t\ttext: this.localize('cancel'),\r\n\t    \t    \tscale: 'small',\r\n\t\t    \t\thandler: function(b, e) {\r\n\t\t    \t\t\tthis.findParentBy(function(clz) {\r\n\t\t    \t\t\t\tif (clz.isXType(\"button\") && clz.hasVisibleMenu()) {\r\n\t\t    \t\t\t\t\tclz.hideMenu();\r\n\t\t    \t\t\t\t\treturn true;\r\n\t\t    \t\t\t\t}\r\n\t\t    \t\t\t\treturn false;\r\n\t\t    \t\t\t}, this);\r\n\t\t    \t\t\tthis.hideMenu();\r\n\t\t    \t\t},\r\n\t\t    \t\tscope: this\r\n\t\t    \t}]\r\n\t\t\t},\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(selector) {\r\n\t\t\t\t\tselector.on(\"loadedCorpus\", function(src, corpus) {\r\n\t\t\t\t\t\tthis.setCorpus(corpus);\r\n\t\t\t\t\t\tif (corpus.getDocumentsCount()==1) {\r\n\t\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tselector.populate(corpus.getDocumentsStore().getRange(), true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, selector);\r\n\t\t\t\t\tvar panel = selector.findParentBy(function(clz) {\r\n\t\t\t\t\t\treturn clz.mixins[\"Voyant.panel.Panel\"];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (panel) {\r\n\t\t\t\t\t\tpanel.on(\"loadedCorpus\", function(src, corpus) {\r\n\t\t\t\t\t\t\tselector.fireEvent(\"loadedCorpus\", src, corpus);\r\n\t\t\t\t\t\t}, selector);\r\n\t\t\t\t\t\tif (panel.getCorpus && panel.getCorpus()) {selector.fireEvent(\"loadedCorpus\", selector, panel.getCorpus());}\r\n\t\t\t\t\t\telse if (panel.getStore && panel.getStore() && panel.getStore().getCorpus && panel.getStore().getCorpus()) {\r\n\t\t\t\t\t\t\tselector.fireEvent(\"loadedCorpus\", selector, panel.getStore().getCorpus());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n    },\r\n    \r\n    populate: function(docs, replace) {\r\n    \tthis.setDocs(docs);\r\n    \t\r\n    \tvar menu = this.getMenu();\r\n    \tif (replace) {\r\n    \t\tmenu.removeAll();\r\n    \t}\r\n    \t\r\n    \tvar isSingleSelect = this.getSingleSelect();\r\n    \t\r\n    \tvar groupId = 'docGroup'+Ext.id();\r\n    \tdocs.forEach(function(doc, index) {\r\n    \t\tmenu.add({\r\n    \t\t\txtype: 'menucheckitem',\r\n    \t\t\ttext: doc.getShortTitle(),\r\n    \t\t\tdocId: doc.get('id'),\r\n    \t\t\tchecked: isSingleSelect && index == 0 || !isSingleSelect,\r\n    \t\t\tgroup: isSingleSelect ? groupId : undefined,\r\n    \t\t\tcheckHandler: function(item, checked) {\r\n    \t\t\t\tif (this.getSingleSelect() && checked) {\r\n    \t\t\t\t\tvar panel = this.findParentBy(function(clz) {\r\n    \t\t\t\t\t\treturn clz.mixins[\"Voyant.panel.Panel\"];\r\n    \t\t\t\t\t});\r\n    \t\t\t\t\tif (panel) {\r\n\t    \t\t\t\t\tpanel.fireEvent('documentSelected', this, doc);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\tscope: this\r\n    \t\t});\r\n    \t}, this);\r\n    \t\r\n    }\r\n});\r\n\r\nExt.define('Voyant.widget.DocumentSelectorButton', {\r\n    extend: 'Ext.button.Button',\r\n    alias: 'widget.documentselectorbutton',\r\n    mixins: ['Voyant.widget.DocumentSelector'],\r\n    initComponent: function() {\r\n    \tthis.mixins[\"Voyant.widget.DocumentSelector\"].initComponent.apply(this, arguments);\r\n\t\tthis.callParent();\r\n    }\r\n})\r\n    \r\nExt.define('Voyant.widget.DocumentSelectorMenuItem', {\r\n    extend: 'Ext.menu.Item',\r\n    alias: 'widget.documentselectormenuitem',\r\n    mixins: ['Voyant.widget.DocumentSelector'],\r\n    initComponent: function() {\r\n    \tthis.mixins[\"Voyant.widget.DocumentSelector\"].initComponent.apply(this, arguments);\r\n\t\tthis.callParent();\r\n    }\r\n})\r\n","Ext.define('Voyant.widget.CorpusDocumentSelector', {\n    extend: 'Ext.button.Button',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.corpusdocumentselector',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconfig: {\n\t\tcorpus: undefined,\n\t\tsingleSelect: false\n\t},\n\t\n    initComponent: function() {\n\t\tvar me = this;\n\t\t\n\t\tthis.setSingleSelect(this.config.singleSelect == undefined ? this.getSingleSelect() : this.config.singleSelect);\n\t\t\n\t\tExt.apply(me, {\n\t\t\ttext: this.localize('scale'),\n\t\t\tglyph: 'xf059@FontAwesome',\n\t\t\tmenu: {\n\t\t\t\titems: [{\n\t\t\t\t\ttext: this.localize(\"corpus\"),\n\t\t\t\t\tglyph: 'xf111@FontAwesome',\n\t\t\t\t\thandler: function(button) {\n\t\t\t\t\t\tvar panel = this.findParentBy(function(clz) {\n\t\t\t\t\t\t\treturn clz.mixins[\"Voyant.panel.Panel\"];\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (panel) {\n\t\t\t\t\t\t\tbutton.nextSibling().menu.items.each(function(item) {\n\t\t\t\t\t\t\t\titem.setChecked(false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tpanel.fireEvent(\"corpusSelected\", this, this.getCorpus());\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t},{\n\t\t\t\t\txtype: 'documentselectormenuitem',\n\t\t\t\t\tsingleSelect: this.getSingleSelect()\n\t\t\t\t}]\n\t\t\t},\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function(selector) {\n\t\t\t\t\tselector.on(\"loadedCorpus\", function(src, corpus) {\n\t\t\t\t\t\tthis.setCorpus(corpus);\n\t\t\t\t\t\tif (corpus.getDocumentsCount()==1) {\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, selector);\n\t\t\t\t\tvar panel = selector.findParentBy(function(clz) {\n\t\t\t\t\t\treturn clz.mixins[\"Voyant.panel.Panel\"];\n\t\t\t\t\t});\n\t\t\t\t\tif (panel) {\n\t\t\t\t\t\tpanel.on(\"loadedCorpus\", function(src, corpus) {\n\t\t\t\t\t\t\tselector.fireEvent(\"loadedCorpus\", src, corpus);\n\t\t\t\t\t\t}, selector);\n\t\t\t\t\t\tif (panel.getCorpus && panel.getCorpus()) {selector.fireEvent(\"loadedCorpus\", selector, panel.getCorpus())}\n\t\t\t\t\t\telse if (panel.getStore && panel.getStore() && panel.getStore().getCorpus && panel.getStore().getCorpus()) {\n\t\t\t\t\t\t\tselector.fireEvent(\"loadedCorpus\", selector, panel.getStore().getCorpus());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tme.callParent(arguments);\t\n    }\n});","Ext.define('Voyant.widget.DownloadFilenameBuilder', {\n    extend: 'Ext.form.FieldContainer', //'Ext.container.Container',\n    mixins: ['Voyant.util.Localization', 'Ext.form.field.Field'],\n    alias: 'widget.downloadfilenamebuilder',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconfig: {\n\t    name: 'documentFilename',\n\t    itemId: 'documentFilename',\n\t\tfields: ['pubDate', 'title', 'author'],\n\t\tvalue: ['pubDate', 'title'],\n\t\twidth: 400\n\t},\n\t\n\n    initComponent: function(config) {\n    \tconfig = config || {};\n        var me = this;\n        \n        me.initField();\n\n        me.on('afterrender', function() {\n        \tthis.items.eachKey(function(key) {\n        \t\tnew Ext.dd.DropZone(this.items.get(key).getTargetEl(), {\n        \t\t\tddGroup: 'downloadfilename',\n        \t\t\tgetTargetFromEvent: function(e) {\n        \t\t\t\tvar target = e.getTarget();\n        \t\t\t\t// check that we're not dropping on another source\n        \t\t\t\treturn target.className && target.className.indexOf('dragsource')>-1 ? target.parentNode : target;\n        \t        },\n        \t        onNodeDrop : function(target, dd, e, data){\n        \t        \ttarget.appendChild(dd.el.dom);\n        \t            return true;\n        \t        }\n        \t\t});\n        \t}, this)\n        \t\n        \tthis.getFields().map(function(item) {\n        \t\titem = Ext.isString(item) ? {\n            \t\ttag: 'span',\n            \t\thtml: this.localize(item+\"Label\"),\n            \t\tvalue: item\n        \t\t} : item;\n        \t\tvar container = this.queryById(Ext.Array.contains(this.getValue(), item.value) ? 'enabled' : 'available')\n\t\t\t\tvar el = Ext.dom.Helper.append(container.getTargetEl(), Ext.apply(item, {cls: 'dragsource'}));\n    \t\t\tExt.create('Ext.dd.DragSource', el, {\n    \t\t\t\tddGroup: 'downloadfilename'\n                });\n        \t}, this)\n        }, me);\n        me.callParent(arguments);\n    }, \n    defaults: {\n    \txtype: 'container',\n    \twidth: '100%'\n    },\n    items: [{\n    \titemId: 'enabled',\n    \tcls: 'dropzone dropzone-enabled'\n    }, {\n    \titemId: 'available',\n    \tcls: 'dropzone dropzone-disabled'\n    }],\n    \n    \n    getValue: function() {\n    \treturn this.rendered ? this.getTargetEl().query('.dropzone-enabled .dragsource').map(function(source) {return source.getAttribute('value')}) : this.value;\n    },\n    \n    setValue: function(val) {\n    \tif (this.rendered) {\n        \tthis.getTargetEl().query(\".dragsource\", false).forEach(function(source) {\n        \t\tvar enabled = Ext.Array.contains(this.value, source.getAttribute('value'))\n        \t\tif (enabled && source.parent().hasCls('dropzone-disabled')) {\n        \t\t\tthis.queryById('enabled').getTargetEl().appendChild(source.dom);\n        \t\t} else if (!enabled && source.parent().hasCls('dropzone-enabled')) {\n        \t\t\tthis.queryById('available').getTargetEl().appendChild(source.dom);\n        \t\t}\n        \t}, this)\n    \t} else {\n    \t\tthis.value = val;\n    \t}\n    }\n    \n    \n});\n","Ext.define('Voyant.widget.DownloadFileFormat', {\n    extend: 'Ext.form.CheckboxGroup', //'Ext.container.Container',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.downloadfileformat',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n    initComponent: function(config) {\n    \tconfig = config || {};\n        var me = this;\n        \n        Ext.apply(this, {\n        \tlabelAlign: config.labelAlign ? config.labelAlign : 'right'\n        })\n\n        Ext.applyIf(this, {\n        \tfieldLabel: this.localize('fieldLabel'),\n        \titems: [\n\t            {boxLabel: this.localize('original'), name: 'documentFormat', inputValue: 'SOURCE'},\n\t            {boxLabel: this.localize('voyantXml'), name: 'documentFormat', inputValue: 'VOYANT'},\n                {boxLabel: this.localize('plainText'), name: 'documentFormat', inputValue: 'TXT'}\n        \t],\n        \twidth: 450\n        })\n        me.on('afterrender', function() {\n        \tthis.query('checkbox').forEach(function(cmp) {\n        \t\tvar tooltip = this.localize(cmp.inputValue+\"Tip\");\n        \t\tif (tooltip.indexOf(cmp.inputValue+\"Tip\")==-1) {\n\t\t        \tExt.tip.QuickTipManager.register({\n\t\t                 target:cmp.getEl(),\n\t\t                 text: tooltip\n\t\t             });\n        \t\t}\n        \t}, this)\n        }, this)\n        me.on('beforedestroy', function() {\n        \tthis.query('checkbox').forEach(function(cmp) {\n        \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n        \t}, this);\n        }, this);\n\n        me.callParent(arguments);\n    }\n});\n","Ext.define('Voyant.widget.DownloadOptions', {\n    extend: 'Ext.form.FieldSet',\n    mixins: ['Voyant.util.Localization'],\n    requires: ['Voyant.widget.DownloadFileFormat', 'Voyant.widget.DownloadFilenameBuilder'],\n    alias: 'widget.downloadoptions',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconfig: {\n\t\titems: [{xtype: 'downloadfileformat'}, {xtype: 'downloadfilenamebuilder'}]\n\t},\n    initComponent: function(config) {\n    \tconfig = config || {};\n    \tvar me = this;\n        Ext.apply(this, {\n        \ttitle: config.title ? config.title : this.localize('title')\n        })\n        me.callParent(arguments);\n    }\n});\n","Ext.define('Voyant.widget.FontFamilyOption', {\n    extend: 'Ext.container.Container',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.fontfamilyoption',\n    statics: {\n    \ti18n: {\n    \t},\n    \tfonts: [{name: \"Georgia\", value: 'Georgia, serif'},\n\t            {name: \"Palatino\", value: '\"Palatino Linotype\", \"Book Antiqua\", Palatino, serif'},\n\t            {name: \"Times New Roman\", value: '\"Times New Roman\", Times, serif'},\n\t            {name: \"Arial\", value: 'Arial, Helvetica, sans-serif'},\n\t            {name: \"Arial Black\", value: '\"Arial Black\", Gadget, sans-serif'},\n\t            {name: \"Comic Sans MS\", value: '\"Comic Sans MS\", cursive, sans-serif'},\n\t            {name: \"Impact\", value: 'Impact, Charcoal, sans-serif'},\n\t            {name: \"Lato\", value: 'LatoWeb'},\n\t            {name: \"Lucida\", value: '\"Lucida Sans Unicode\", \"Lucida Grande\", sans-serif'},\n\t            {name: \"Tahoma/Geneva\", value: 'Tahoma, Geneva, sans-serif'},\n\t            {name: \"Trebuchet MS/Helvetica\", value: '\"Trebuchet MS\", Helvetica, sans-serif'},\n\t            {name: \"Verdana/Geneva\", value: 'Verdana, Geneva, sans-serif'},\n\t            {name: \"Courrier New\", value: '\"Courier New\", Courier, monospace'},\n\t            {name: \"Lucida/Monaco\", value: '\"Lucida Console\", Monaco, monospace'}]\n    },\n    name: 'fontFamily',\n    initComponent: function(config) {\n    \tconfig = config || {};\n    \tvar me = this;\n    \tvar value = this.up('window').panel.getApiParam('fontFamily');\n    \tvar data = Ext.ClassManager.getClass(this).fonts;\n\n    \tif (!Ext.Array.contains(data.map(function(item) {return item.value}), value)) {\n        \tdata.splice(0, 0, {name : value, value: value});//\n    \t}\n    \t\n    \tExt.apply(me, {\n    \t\titems: {\n    \t\t\txtype: 'combo',\n    \t        queryMode: 'local',\n    \t        name: 'fontFamily',\n    \t        value: value,\n    \t        triggerAction: 'all',\n    \t        editable: true,\n    \t        fieldLabel: this.localize('label'),\n    \t        labelAlign: 'right',\n    \t        displayField: 'name',\n    \t        valueField: 'value',\n    \t        store: {\n    \t            fields: ['name', 'value'],\n    \t            data: data\n    \t        },\n    \t        width: 400\n    \t\t}\n    \t})\n        me.callParent(arguments);\n    }\n})","Ext.define('Voyant.widget.ColorPaletteOption', {\n    extend: 'Ext.container.Container',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.colorpaletteoption',\n    layout: 'hbox',\n    statics: {\n    \ti18n: {\n    \t}\n    },\n    \n    paletteTpl: new Ext.XTemplate(\n\t\t'<tpl for=\".\">',\n\t\t\t'<div class=\"color\" style=\"background-color: rgb({color});\"></div>',\n\t\t'</tpl>'\n\t),\n\tpaletteStore: new Ext.data.ArrayStore({\n        fields: ['id', 'color'],\n        listeners: {\n        \tupdate: function(store, record, op, mod, details) {\n        \t},\n        \tscope: this\n        } \n    }),\n    \n    editPaletteWin: null,\n    spectrum: null,\n    \n    initComponent: function(config) {\n    \tvar me = this;\n\n    \tvar app = this.up('window').panel.getApplication();\n    \tvar data = [];\n    \tfor (var key in app.getPalettes()) {\n    \t\tdata.push({name: key, value: key});\n    \t}\n    \tvar value = app.getApiParam('palette');\n    \t\n    \tExt.apply(me, {\n\t    \t\titems: [{\n\t    \t        xtype: 'combo',\n\t    \t        queryMode: 'local',\n\t    \t        value: value,\n\t    \t        triggerAction: 'all',\n\t    \t        editable: true,\n\t    \t        fieldLabel: me.localize('palette'),\n\t    \t        labelAlign: 'right',\n\t    \t        name: 'palette',\n\t    \t        displayField: 'name',\n\t    \t        valueField: 'value',\n\t    \t        store: {\n\t    \t            fields: ['name', 'value'],\n\t    \t            data: data\n\t    \t        }\n\t    \t\t}, {width: 10}, {xtype: 'tbspacer'}, {\n\t    \t\t\txtype: 'button',\n\t    \t\t\ttext: this.localize('editList'),\n\t\t            ui: 'default-toolbar',\n\t    \t\t\thandler: this.editPalette,\n\t    \t\t\tscope: this\n\t    \t\t}\n//\t    \t\t, {width: 10}, {\n//\t    \t\t\txtype: 'checkbox',\n//\t    \t\t\tname: 'paletteGlobal',\n//\t    \t\t\tchecked: true,\n//\t    \t\t\tboxLabel: this.localize('applyGlobally')\n//\t    \t\t}\n\t    \t\t]\n    \t});\n        me.callParent(arguments);\n    },\n    \n    editPalette: function() {\n    \tvar value = this.down('combo').getValue();\n    \tthis.loadPalette(value);\n    \t\n    \tthis.editPaletteWin = Ext.create('Ext.window.Window', {\n\t\t\ttitle: this.localize('paletteEditor'),\n\t\t\tmodal: true,\n\t\t\theight: 300,\n\t\t\twidth: 425,\n\t\t\tpadding: 5,\n\t\t\tlayout: {\n\t\t\t\ttype: 'hbox',\n\t\t\t\talign: 'stretch'\n\t\t\t},\n\t\t\titems:[{\n\t\t\t\tflex: 1,\n\t\t\t\tlayout: {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\talign: 'stretch'\n\t\t\t\t},\n\t\t\t\titems: [{\n\t\t\t\t\theight: 24,\n\t\t\t\t\tmargin: '0 0 5 0',\n\t\t\t\t\titems: [{\n\t\t\t\t\t\txtype: 'button',\n\t\t\t\t\t\ttext: this.localize('add'),\n\t\t\t\t\t\tmargin: '0 5 0 0',\n\t\t\t\t\t\thandler: function(btn) {\n\t\t\t\t\t\t\tvar color = this.spectrum.spectrum('get').toRgb();\n\t\t\t\t\t\t\tvar dv = this.editPaletteWin.down('dataview');\n\t\t\t\t\t\t\tthis.paletteStore.add([ [Ext.id(), [color.r, color.g, color.b]] ]);\n\t\t\t\t\t\t\tdv.refresh();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t},{\n\t\t\t\t\t\txtype: 'button',\n\t\t\t\t\t\ttext: this.localize('remove'),\n\t\t\t\t\t\tmargin: '0 5 0 0',\n\t\t\t\t\t\thandler: function(btn) {\n\t\t\t\t\t\t\tvar dv = this.editPaletteWin.down('dataview');\n\t\t\t\t\t\t\tvar sel = dv.getSelectionModel().getSelection()[0];\n\t\t\t\t\t\t\tif (sel != null) {\n\t\t\t\t\t\t\t\tthis.paletteStore.remove(sel);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdv.refresh();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t},{\n\t\t\t\t\t\txtype: 'button',\n\t\t\t\t\t\ttext: this.localize('clear'),\n\t\t\t\t\t\thandler: function(btn) {\n\t\t\t\t\t\t\tthis.paletteStore.removeAll();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}]\n\t\t\t\t},{\n\t\t\t\t\txtype: 'dataview',\n\t\t\t\t\tflex: 1,\n\t\t\t\t\tscrollable: 'y',\n\t\t        \tstore: this.paletteStore,\n\t\t        \ttpl: this.paletteTpl,\n\t\t        \titemSelector: 'div.color',\n\t\t        \toverItemCls: 'over',\n\t\t        \tselectedItemCls: 'selected',\n\t\t        \tselectionModel: {\n\t\t        \t\tmode: 'SINGLE'\n\t\t        \t},\n\t\t        \tlisteners: {\n\t\t        \t\tselectionchange: function(viewmodel, selected, opts) {\n\t\t        \t\t\tif (selected[0] != null) {\n\t\t\t\t\t\t\t\tvar color = selected[0].get('color');\n\t\t\t\t\t\t\t\tvar parentPanel = this.up('window').panel;\n\t\t\t\t\t\t\t\tvar hex = parentPanel.getApplication().rgbToHex(color);\n\t\t\t\t\t\t\t\tthis.spectrum.spectrum('set', hex);\n\t\t\t\t\t\t\t}\n\t\t        \t\t},\n\t\t        \t\tscope: this\n\t\t        \t}\n\t\t\t\t}]\n\t\t\t},{\n\t\t\t\titemId: 'colorEditor',\n\t\t\t\twidth: 200,\n\t\t\t\tmargin: '0 0 0 5',\n\t\t\t\thtml: '<input type=\"text\" style=\"display: none;\" />'\n\t\t\t}],\n\t\t\tbuttons: [{\n\t\t\t\ttext: this.localize('saveNewPalette'),\n\t\t\t\thandler: function(btn) {\n\t\t\t\t\tthis.savePalette();\n\t\t\t\t\tbtn.up('window').close();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t},{\n\t\t\t\ttext: this.localize('cancel'),\n\t\t\t\thandler: function(btn) {\n\t\t\t\t\tbtn.up('window').close();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}],\n\t\t\tlisteners: {\n\t\t\t\tclose: function(panel) {\n\t\t\t\t\tif (this.spectrum) {\n\t\t\t\t\t\tthis.spectrum.spectrum('destroy');\n\t\t\t\t\t\tthis.spectrum = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n    \t}).show();\n    \t\n    \tthis.initSpectrum();\n    },\n    \n    setColorForSelected: function(color) {\n    \tif (this.spectrum !== null) { // need check due to https://github.com/bgrins/spectrum/issues/387\n\t\t\tvar rgb = color.toRgb();\n\t\t\tvar rgbA = [rgb.r, rgb.g, rgb.b];\n\t\t\tvar dv = this.editPaletteWin.down('dataview');\n\t\t\tvar sel = dv.getSelectionModel().getSelection()[0];\n\t\t\tif (sel != null) {\n\t\t\t\tsel.set('color', rgbA);\n\t\t\t}\n    \t}\n\t},\n    \n\tinitSpectrum: function() {\n\t\tif (this.spectrum === null) {\n\t\t\tvar editor = this.editPaletteWin.down('#colorEditor');\n\t\t\tvar input = editor.el.down('input');\n\t\t\tthis.spectrum = $(input.dom).spectrum({\n\t\t\t\tflat: true,\n\t\t\t\tshowInput: true,\n\t\t\t\tshowButtons: false,\n\t\t\t\tpreferredFormat: 'hex',\n\t\t\t\tchange: this.setColorForSelected.bind(this),\n\t\t\t\tmove: this.setColorForSelected.bind(this)\n\t\t\t});\n\t\t}\n\t},\n\t\n    loadPalette: function(paletteId) {\n    \tvar parentPanel = this.up('window').panel;\n    \t\n    \tvar palette = parentPanel.getApplication().getColorPalette(paletteId);\n    \tvar paletteData = [];\n    \tpalette.forEach(function(c) {\n    \t\tpaletteData.push([Ext.id(), c]);\n    \t}, this);\n    \tthis.paletteStore.loadData(paletteData);\n    },\n    \n    savePalette: function() {\n    \tvar value = [];\n    \tthis.paletteStore.each(function(c) {\n    \t\tvalue.push(c.get('color'));\n    \t});\n    \tvar valueString = Ext.encode(value);\n    \tvar parentPanel = this.up('window').panel;\n    \tvar corpusId = parentPanel.getCorpus().getId();\n    \tExt.Ajax.request({\n    \t    url: parentPanel.getTromboneUrl(),\n    \t    params: {\n        \t\ttool: 'resource.StoredResource',\n    \t\t\tstoreResource: valueString,\n    \t\t\tcorpus: corpusId\n    \t    },\n    \t    success: function(response, req) {\n    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n    \t    \tvar id = json.storedResource.id;\n    \t    \tvar combo = this.down('combo');\n    \t    \tvar store = combo.getStore();\n    \t    \tstore.add({name: id, value: id});\n    \t    \tcombo.setValue(id);\n    \t    \tcombo.updateLayout();\n    \t    \t\n    \t    \tparentPanel.getApplication().addColorPalette(id, value);\n    \t    },\n    \t    scope: this\n    \t});\n    }\n});","Ext.define('Voyant.widget.VoyantChart', {\n    extend: 'Ext.chart.CartesianChart',\n    mixins: ['Voyant.util.Localization','Voyant.util.Api','Voyant.notebook.util.Embed'],\n    alias: 'widget.voyantchart',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\ttableJson: undefined\n    \t}\n    },\n    constructor: function(config) {\n    \tconfig = config || {};\n    \tvar me = this;\n    \tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n    \tthis.callParent(arguments)\n    \t\n    },\n    initComponent: function(config) {\n    \tconfig = config || {};\n    \tthis.on(\"afterrender\", function() {\n        \tif (config && \"tableJson\" in config) {\n        \t\tExt.apply(this, this.getConfigFromTableJson(config.tableJson));\n        \t}\n        \telse if (this.getApiParam('tableJson')) {\n        \t\tvar chart = this.getConfigFromTableJson();\n        \t\tthis.setAxes(chart.axes);\n        \t\tthis.setSeries(chart.series);\n        \t\tthis.setLegend(chart.legend);\n        \t\tthis.setStore(chart.store);\n        \t\tthis.redraw();\n        \t}\n    \t}, this)\n    \tthis.callParent(arguments)\n    },\n    \n    getConfigFromTableJson: function(jsonString) {\n    \tjsonString = jsonString || this.getApiParam('tableJson');\n    \tif (!jsonString) {return {}};\n    \t\n\t\tvar json = JSON.parse(jsonString);\n\t\t\n\t\tjson.headers = json.headers.map(function(header) {return header})\n\t\t// if we have only one column add a second column with a counter (as category)\n\t\tif (json.headers.length==1) {\n\t\t\tjson.headers.push(1);\n\t\t\tjson.rowKey = 1;\n\t\t\tjson.rows.forEach(function(row, i) {if (row) {row.push(i)}})\n\t\t}\n\t\t\n\t\t// data\n\t\tvar data = [];\n\t\tif (!json.rowKey) {json.rowKey=json.headers[0];}\n\t\tjson.rows.forEach(function(row, i) {\n\t\t\tif (row) {\n\t\t\t\tvar map = {};\n\t\t\t\tmap[json.rowKey] = i;\n\t\t\t\trow = row.forEach(function(cell, j) {\n\t\t\t\t\tmap[json.headers[j]] = cell\n\t\t\t\t})\n\t\t\t\tdata.push(map);\n\t\t\t}\n\t\t})\n\n\t\t// start chart\n\t\tif (!json.config) {json.config = {}}\n\t\tvar chart = {\n\t\t\tstore: {\n\t\t        fields: Object.keys(data[0]),\n\t\t        data: data\n\t\t\t},\n\t        axes: Ext.isArray(json.config.axes) ? json.config.axes : [{},{}],\n\t        series: [],\n    \t\tlegend: json.config.noLegend || Object.keys(data[0]).length<3 ? undefined : {docked:'top'}\n\n\t\t}\n\n\t\t// axes\n\t\tif (!json.config.axes) {json.config.axes = [{},{}]}\n\t\tchart.axes.forEach(function(axis, i) {\n\t\t\tif (Ext.isObject(json.config.axes)) {\n\t\t\t\tExt.apply(axis, json.config.axes);\n\t\t\t} else if (Ext.isArray(json.config.axes)) {\n\t\t\t\tExt.apply(axis, json.config.axes[i]);\n\t\t\t}\n\t\t\tExt.applyIf(axis, {\n\t        \ttype: i==0 ? 'numeric' : 'category',\n\t        \tposition: i==0 ? 'left' : 'bottom',\n\t        \tlabel: i==0 ? {} : {rotation: {degrees:-30}}\n\t        });\n\t\t})\n\n\t\t// series\n\t\tfor (var i=0, len=json.headers.length; i<len;i++) {\n\t\t\tif (json.headers[i]==json.rowKey) {continue;} // don't chart the row key, that's the x axis \n\t\t\tvar cfg = {};\n\t\t\tif (json.config.series) {\n\t\t\t\tif (Ext.isObject(json.config.series)) {\n\t\t\t\t\tExt.apply(cfg, json.config.series);\n\t\t\t\t} else if (Ext.isArray(json.config.series)) {\n\t\t\t\t\tExt.apply(cfg, json.config.series[chart.series.length]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tExt.applyIf(cfg, {\n\t\t        type: 'line',\n\t\t        xField: json.rowKey,\n\t\t        yField: json.headers[i],\n\t\t        marker: {\n\t\t        \tradius: 2\n\t\t        },\n\t\t        highlightCfg: {\n\t                scaling: 2\n\t            },\n\t            tooltip: {\n\t            \ttrackMouse: true,\n\t            \trenderer: function (tooltip, record, item) {\n\t                    tooltip.setHtml(record.get(item.series.getYField())+\": \"+record.get(item.series.getYField()));\n\t                }\n\t            }\n\t\t\t});\n\t\t\tchart.series.push(cfg);\n\t\t}\n\t\t\n\t\treturn chart;\n    \t\n    }\n\n})","Ext.define('Voyant.widget.LiveSearchGrid', {\n    extend: 'Ext.grid.Panel',\n    \n    /**\n     * @private\n     * search value initialization\n     */\n    searchValue: null,\n    \n    /**\n     * @private\n     * The matched positions from the most recent search\n     */\n    matches: [],\n    \n    /**\n     * @private\n     * The current index matched.\n     */\n    currentIndex: null,\n    \n    /**\n     * @private\n     * The generated regular expression used for searching.\n     */\n    searchRegExp: null,\n    \n    /**\n     * @private\n     * Case sensitive mode.\n     */\n    caseSensitive: false,\n    \n    /**\n     * @private\n     * Regular expression mode.\n     */\n    regExpMode: false,\n    \n    /**\n     * @cfg {String} matchCls\n     * The matched string css classe.\n     */\n    matchCls: 'keyword',\n    \n    // Component initialization override: adds the top and bottom toolbars and setup headers renderer.\n    initComponent: function() {\n        var me = this;\n        me.callParent(arguments);\n    },\n    \n    // detects html tag\n    tagsRe: /<[^>]*>/gm,\n    \n    // DEL ASCII code\n    tagsProtect: '\\x0f',\n    \n    /**\n     * Finds all strings that matches the searched value in each grid cells.\n     * @private\n     */\n     onTextFieldChange: function(field, val) {\n         var me = this,\n             count = 0,\n             view = me.view,\n             cellSelector = view.cellSelector,\n             innerSelector = view.innerSelector,\n             columns = me.visibleColumnManager.getColumns();\n\n         view.refresh();\n\n         me.searchValue = val;\n         me.matches = [];\n         me.currentIndex = null;\n\n         if (me.searchValue !== null) {\n             me.searchRegExp = new RegExp(val, 'g' + (me.caseSensitive ? '' : 'i'));\n\n             me.store.each(function(record, idx) {\n                var node = view.getNode(record);\n\n                if (node) {\n                    Ext.Array.forEach(columns, function(column) {\n                    \t\n                        var cell = Ext.fly(node).down(column.getCellInnerSelector(), true),\n                            matches, cellHTML,\n                            seen;\n\n                        if (cell && column.isXType('widgetcolumn')==false) {\n                            matches = cell.innerHTML.match(me.tagsRe);\n                            cellHTML = cell.innerHTML.replace(me.tagsRe, me.tagsProtect);\n\n                            // populate indexes array, set currentIndex, and replace wrap matched string in a span\n                            cellHTML = cellHTML.replace(me.searchRegExp, function(m) {\n                                ++count;\n                                if (!seen) {\n                                    me.matches.push({\n                                        record: record,\n                                        column: column\n                                    });\n                                    seen = true;\n                                }\n                                return '<span class=\"' + me.matchCls + '\">' + m + '</span>';\n                            }, me);\n                            // restore protected tags\n                            Ext.each(matches, function(match) {\n                                cellHTML = cellHTML.replace(me.tagsProtect, match);\n                            });\n                            // update cell html\n                            cell.innerHTML = cellHTML;\n                        }\n                    });\n                }\n             }, me);\n\n             // results found\n             if (count) {\n                me.currentIndex = 0;\n                me.gotoCurrent();\n             }\n         }\n\n         // no results found\n         if (me.currentIndex === null) {\n             me.getSelectionModel().deselectAll();\n         }\n         field.focus();\n     },\n\n    privates: {\n        gotoCurrent: function() {\n            var pos = this.matches[this.currentIndex];\n            this.getNavigationModel().setPosition(pos.record, pos.column);\n            this.getSelectionModel().select(pos.record);\n        }\n    }\n});\n","Ext.define('Voyant.widget.ProgressMonitor', {\n\textend: \"Ext.Base\",\n\tmixins: ['Voyant.util.Localization'],\n\tmsgbox: undefined,\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconfig: {\n\t\tprogress: undefined,\n\t\tscope: undefined,\n\t\tsuccess: undefined,\n\t\tfailure: undefined,\n\t\targs: undefined,\n\t\ttool: undefined,\n\t\tdelay: 1000,\n\t\tmaxMillisSinceStart: undefined\n\t},\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n\t\tthis.mixins['Voyant.util.Localization'].constructor.apply(this, arguments);\n\t\tif (!config || !config.progress || !config.progress.id) {\n\t\t\treturn Voyant.application.showError(this.localize(\"noProgress\"))\n\t\t}\n\t\tthis.initConfig(config);\n\t\tthis.callParent(arguments);\n\t\tthis.update();\n\t},\n\n\tupdate: function() {\n\t\tvar progress = this.getProgress(), scope = this.getScope();\n\t\tvar msg = scope.localize ? scope.localize(progress.code) : this.localize(progress.code);\n\t\tif (msg==\"[\"+progress.code+\"]\") {msg=progress.message}\n\t\tmsg+=\" (\"+(parseInt(progress.completion*100))+\"%)\";\n\t\tvar text = this.localize(progress.status.toLowerCase());\n\t\tif (!this.msgbox || this.msgbox.msg.html!=msg || !this.msgbox.progressBar || this.msgbox.progressBar.getText()!=text) {\n\t\t\tthis.msgbox = Ext.Msg.wait(msg, this.localize(\"progress\"), {\n\t\t\t\ttext: text\n\t\t\t});\n\t\t}\n\t\tif (progress.status==\"LAUNCH\" || progress.status==\"RUNNING\") {\n\t\t\tvar me = this;\n\t\t\tExt.defer(function() {\n\t\t\t\tExt.Ajax.request({\n\t\t\t\t     url: Voyant.application.getTromboneUrl(),\n\t\t\t\t     params: {\n\t\t\t\t    \t \ttool: \"progress.ProgressMonitor\",\n\t\t\t\t    \t \tid: progress.id,\n\t\t\t\t    \t \tmaxMillisSinceStart: me.getMaxMillisSinceStart()\n\t\t\t\t     }\n\t\t\t\t }).then(function(response, opt) {\n\t\t\t\t\t var data = Ext.decode(response.responseText);\n\t\t\t\t\t if (data && data.progress.progress) {\n\t\t\t\t\t\t me.setProgress(data.progress.progress);\n\t\t\t\t\t\t me.update();\n\t\t\t\t\t } else {\n\t\t\t\t\t\t me.finish(false, me.localize(\"badProgress\"))\n\t\t\t\t\t }\n\t\t\t\t }, function(response, opt) {\n\t\t\t\t\t me.finish(false, response);\n\t\t\t\t });\n\t\t\t}, this.getDelay(), this)\n\t\t} else {\n\t\t\tthis.finish(progress.status==\"FINISHED\", msg);\n\t\t}\n\t\tif (this.getDelay()<5000) {this.setDelay(this.getDelay()+500)} // longer delay, up to 5 secs\n\t},\n\t\n\tfinish: function(success, response) {\n\t\tvar callback = success ? this.getSuccess() : this.getFailure();\n\t\tvar args = this.getArgs(), progress = this.getProgress(), scope = this.getScope();\n\t\tthis.close();\n\t\tif (callback && callback.apply) {\n\t\t\tcallback.apply(scope, [success ? args : response || progress]);\n\t\t} else {\n\t\t\tVoyant.application.showError(response);\n\t\t}\n\t},\n\t\n\tclose: function() {\n\t\tif (this.msgbox) {\n\t\t\tthis.msgbox.close();\n\t\t}\n\t\tthis.destroy();\n\t}\n\n})","Ext.define('Voyant.widget.VoyantTableTransform', {\n\textend: 'Ext.panel.Panel',\n    mixins: ['Voyant.util.Localization','Voyant.util.Api','Voyant.notebook.util.Embed'],\n\talias: 'widget.voyanttabletransform',\n    statics: {\n    \ti18n: {},\n\t\tapi: {\n\t\t\ttableHtml: undefined,\n\t\t\ttableJson: undefined,\n\t\t\twidth: undefined,\n\t\t\tapi: undefined\n\t\t}\n    },\n    html: '',\n    config: {\n    \thiddenColumns: undefined\n    },\n\tconstructor: function(config) {\n    \tconfig = config || {};\n\t\tvar me = this;\n        me.callParent(arguments);\n\t},\n\tinitComponent: function(config) {\n    \tvar me = this, config = config || {};\n    \tme.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n    \tif (this.config.api && this.config.api.tableJson) {\n    \t\tthis.setApiParam(\"tableJson\", this.config.api.tableJson);\n    \t}\n\t\tme.on('afterrender', function() {\n\t    \tme.buildFromParams();\n\t\t\tvar table = this.getTargetEl().down('table');\n\t\t\tif (table) {\n\t\t\t\tvar parent = table.parent();\n\t\t\t\tvar grid = new Ext.ux.grid.TransformGrid(table, {\n\t\t\t\t\twidth: this.getApiParam('width') || parent.getWidth(),\n\t\t\t\t\theight: this.getApiParam('height') || 20+(table.query('tr').length*24) // based on grid heights in crisp\n\t\t\t\t});\n\t\t\t\tgrid.render(parent);\n\t\t\t\tif (this.getHiddenColumns()) {\n\t\t\t\t\tvar hides = {}; // map for speed\n\t\t\t\t\tExt.Array.from(this.getHiddenColumns()).forEach(function(header) {hides[header]=true})\n\t\t\t\t\tgrid.getColumns().forEach(function(column) {\n\t\t\t\t\t\tif (column.text in hides) {column.hide()}\n\t\t\t\t\t});\n\t\t\t\t\tExt.defer(function() {\n\t\t\t\t\t\tgrid.setWidth(grid.getEl().dom.parentNode.offsetWidth); // resize\n\t\t\t\t\t},10)\n\t\t\t\t}\n\t\t\t}\n\t\t}, me);\n\t\t\n    \tme.callParent(arguments);\n\t},\n\t\n\tbuildFromParams: function() {\n\t\tvar me = this, tableHtml = this.getApiParam('tableHtml'), tableJson = this.getApiParam('tableJson');\n\t\tif (tableHtml) {\n\t\t\tthis.setHtml(tableHtml);\n\t\t} else if (tableJson) {\n\t\t\tvar html = \"<table><thead><tr>\", json = JSON.parse(tableJson);\n\t\t\t\n\t\t\tif (json.headers) {\n\t\t\t\tjson.headers.forEach(function(header) {\n\t\t\t\t\thtml+=\"<th>\"+header+\"</th>\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tjson.rows[0].forEach(function(cell, i) {\n\t\t\t\t\thtml+=\"<th>\"+(i+1)+\"</th>\";\n\t\t\t\t})\n\t\t\t}\n\t\t\thtml+=\"</tr></thead><tbody>\";\n\t\t\tjson.rows.forEach(function(row) {\n\t\t\t\thtml+=\"<tr>\";\n\t\t\t\trow.forEach(function(cell) {\n\t\t\t\t\thtml+=\"<td>\"+cell+\"</td>\"\n\t\t\t\t})\n\t\t\t\thtml+=\"</tr>\";\n\t\t\t})\n\t\t\thtml+=\"</tbody></table>\";\n\t\t\tthis.setHtml(html);\n\t\t\tif (json.config && json.config.hidden) {this.setHiddenColumns(json.config.hidden)}\n\t\t}\n\t\t\n\t}\n\n})\n\n\n\n/**\n * A Grid which creates itself from an existing HTML table element.\n */\nExt.define('Ext.ux.grid.TransformGrid', {\n    extend: 'Ext.grid.Panel',\n\n    /**\n     * Creates the grid from HTML table element.\n     * @param {String/HTMLElement/Ext.Element} table The table element from which this grid will be created -\n     * The table MUST have some type of size defined for the grid to fill. The container will be\n     * automatically set to position relative if it isn't already.\n     * @param {Object} [config] A config object that sets properties on this grid and has two additional (optional)\n     * properties: fields and columns which allow for customizing data fields and columns for this grid.\n     */\n    constructor: function(table, config) {\n        config = Ext.apply({}, config);\n        this.table = Ext.get(table);\n\n        var configFields = config.fields || [],\n            configColumns = config.columns || [],\n            fields = [],\n            cols = [],\n            headers = table.query(\"thead th\"),\n            i = 0,\n            len = headers.length,\n            data = table.dom,\n            width,\n            height,\n            store,\n            col,\n            text,\n            name;\n\n        for (; i < len; ++i) {\n            col = headers[i];\n\n            text = col.innerHTML;\n            name = 'tcol-' + i;\n\n            fields.push(Ext.applyIf(configFields[i] || {}, {\n                name: name,\n                mapping: 'td:nth(' + (i + 1) + ')/@innerHTML'\n            }));\n\n            cols.push(Ext.applyIf(configColumns[i] || {}, {\n                text: text,\n                dataIndex: name,\n                //width: col.offsetWidth,\n                flex: 1,\n                tooltip: col.title,\n                sortable: true\n            }));\n        }\n\n        if (config.width) {\n            width = config.width;\n        } else {\n            width = table.getWidth() + 1;\n        }\n\n        if (config.height) {\n            height = config.height;\n        }\n\n        Ext.applyIf(config, {\n            store: {\n                data: data,\n                fields: fields,\n                proxy: {\n                    type: 'memory',\n                    reader: {\n                        record: 'tbody tr',\n                        type: 'xml'\n                    }\n                }\n            },\n            columns: cols,\n            width: width,\n            height: height\n        });\n        this.callParent([config]);\n        \n        if (config.remove !== false) {\n            // Don't use table.remove() as that destroys the row/cell data in the table in\n            // IE6-7 so it cannot be read by the data reader.\n            data.parentNode.removeChild(data);\n        }\n    },\n\n    doDestroy: function() {\n        this.table.remove();\n        this.tabl = null;\n        this.callParent();\n    }\n});\n","Ext.define('Voyant.widget.CategoriesOption', {\r\n\textend: 'Ext.container.Container',\r\n\tmixins: ['Voyant.util.Localization'],\r\n\talias: 'widget.categoriesoption',\r\n\tstatics: {\r\n\t\ti18n: {\r\n\t\t}\r\n\t},\r\n\tconfig: {\r\n\t\tbuilderWin: undefined\r\n\t},\r\n\tinitComponent: function() {\r\n\t\tvar value = this.up('window').panel.getApiParam('categories');\r\n    \tvar data = value ? [{name: value, value: value}] : [];\r\n\t\t\r\n\t\tExt.apply(this, {\r\n    \t\tlayout: 'hbox',\r\n    \t\titems: [{\r\n    \t\t\txtype: 'combo',\r\n    \t\t\tqueryMode: 'local',\r\n    \t\t\ttriggerAction: 'all',\r\n    \t\t\tfieldLabel: this.localize('categories'),\r\n    \t\t\tlabelAlign: 'right',\r\n    \t\t\tdisplayField: 'name',\r\n    \t\t\tvalueField: 'value',\r\n    \t\t\tstore: {\r\n    \t\t\t\tfields: ['name', 'value'],\r\n    \t\t\t\tdata: data\r\n    \t\t\t},\r\n    \t\t\tname: 'categories',\r\n    \t\t\tvalue: value\r\n    \t\t}, {width: 10}, {xtype: 'tbspacer'}, {\r\n    \t\t\txtype: 'button',\r\n    \t\t\ttext: this.localize('edit'),\r\n    \t\t\tui: 'default-toolbar',\r\n    \t\t\thandler: function() {\r\n    \t\t\t\tif (this.getBuilderWin() === undefined) {\r\n    \t\t\t\t\tvar panel = this.up('window').panel;\r\n    \t\t\t\t\tvar win = Ext.create('Voyant.widget.CategoriesBuilder', {\r\n    \t\t\t\t\t\tpanel: panel,\r\n    \t\t\t\t\t\theight: panel.getApplication().getViewport().getHeight()*0.75,\r\n    \t\t\t\t\t\twidth: panel.getApplication().getViewport().getWidth()*0.75\r\n    \t\t\t\t\t});\r\n    \t\t\t\t\twin.on('close', function(win) {\r\n    \t\t\t\t\t\tvar id = win.getCategoriesId();\r\n    \t\t\t\t\t\tif (id !== undefined) {\r\n\t    \t\t\t\t\t\tvar combo = this.down('combo');\r\n\t\t\t\t\t\t\t\tvar name = id;\r\n\t\t\t\t\t\t\t\tcombo.getStore().add({name: name, value: id});\r\n\t\t\t\t\t\t\t\tcombo.setValue(id);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.up('window').panel.setApiParam('categories', id);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}, this);\r\n    \t\t\t\t\tthis.setBuilderWin(win);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tvar categoriesId = this.down('combo').getValue();\r\n    \t\t\t\tthis.getBuilderWin().setCategoriesId(categoriesId);\r\n\t\t\t\t\tthis.getBuilderWin().show();\r\n    \t\t\t},\r\n    \t\t\tscope: this\r\n    \t\t}]\r\n    \t});\r\n\t\t\r\n\t\tthis.callParent(arguments);\r\n\t}\r\n});\r\n\r\nExt.define('Voyant.widget.CategoriesBuilder', {\r\n    extend: 'Ext.window.Window',\r\n    requires: ['Voyant.widget.FontFamilyOption'],\r\n    mixins: ['Voyant.util.Localization','Voyant.util.Api'],\r\n    alias: 'widget.categoriesbuilder',\r\n    statics: {\r\n    \ti18n: {\r\n    \t\ttitle: 'Categories Builder',\r\n    \t\tterms: 'Terms',\r\n    \t\tterm: 'Term',\r\n    \t\trawFreq: 'Count',\r\n    \t\trelativeFreq: 'Relative',\r\n    \t\tcategories: 'Categories',\r\n    \t\taddCategory: 'Add Category',\r\n    \t\tremoveCategory: 'Remove Category',\r\n    \t\tremoveTerms: 'Remove Selected Terms',\r\n    \t\tcategoryName: 'Category Name',\r\n    \t\tadd: 'Add',\r\n    \t\tcancel: 'Cancel',\r\n    \t\texists: 'Category already exists',\r\n    \t\tconfirmRemove: 'Are you sure you want to remove the category?',\r\n    \t\tsave: 'Save',\r\n    \t\tfeatures: 'Features',\r\n\t\t\tcategory: 'Category',\r\n\t\t\tincreaseCategory: 'Increase Category Priority',\r\n\t\t\tdecreaseCategory: 'Decrease Category Priority',\r\n    \t\t\r\n    \t\tcolor: 'Color',\r\n    \t\tfont: 'Font',\r\n    \t\torientation: 'Orientation'\r\n    \t},\r\n    \tapi: {\r\n    \t\tstopList: 'auto',\r\n    \t\tquery: undefined\r\n    \t},\r\n    \tfeatures: {\r\n        \tcolor: {\r\n        \t\txtype: 'colorfield',\r\n        \t\tformat: '#hex6'\r\n//        \t\t,listeners: {\r\n//        \t\t\trender: function(field) {\r\n//        \t\t\t\tfield.on('change', function(field, color) {\r\n//        \t\t\t\t\tfield.inputEl.setStyle('background-color', color);\r\n//        \t\t\t\t});\r\n//        \t\t\t}\r\n//        \t\t}\r\n        \t},\r\n        \tfont: {\r\n        \t\txtype: 'combobox',\r\n        \t\tqueryMode: 'local',\r\n        \t\tdisplayField: 'name',\r\n        \t\tvalueField: 'value',\r\n        \t\tstore: {\r\n        \t\t\tfields: ['name', 'value'],\r\n        \t\t\tdata: Voyant.widget.FontFamilyOption.fonts\r\n        \t\t}\r\n        \t},\r\n        \torientation: {\r\n        \t\txtype: 'combobox',\r\n        \t\tqueryMode: 'local',\r\n        \t\tdisplayField: 'name',\r\n        \t\tvalueField: 'value',\r\n        \t\tstore: {\r\n        \t\t\tfields: ['name', 'value'],\r\n        \t\t\tdata: [{name: 'Horizontal', value: 0}, {name: 'Vertical', value: 90}]\r\n        \t\t}\r\n        \t}\r\n        }\r\n    },\r\n    config: {\r\n    \tcorpus: undefined,\r\n    \tbuilderWin: undefined,\r\n    \taddCategoryWin: undefined,\r\n    \tcategoriesId: undefined\r\n    },\r\n    \r\n    // window defaults\r\n    closeAction: 'hide',\r\n    modal: true,\r\n\theight: 250,\r\n\twidth: 500,\r\n\r\n    constructor: function(config) {\r\n    \tconfig = config || {};\r\n    \t\r\n    \tif (config.panel) {\r\n    \t\tthis.panel = config.panel;\r\n\t\t\tthis.app = this.panel.getApplication();\r\n\t\t\tthis.categoriesManager = this.app.getCategoriesManager();\r\n    \t} else {\r\n    \t\tif (window.console) {\r\n    \t\t\tconsole.warn('can\\'t find panel!');\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\r\n    \tthis.callParent(arguments);\r\n    },\r\n    \r\n    initComponent: function() {\r\n    \tExt.apply(this, {\r\n    \t\theader: false,\r\n    \t\tlayout: 'fit',\r\n    \t\tonEsc: Ext.emptyFn,\r\n    \t\titems: {\r\n\t    \t\txtype: 'tabpanel',\r\n\t    \t\ttitle: this.localize('title'),\r\n\t    \t\ttabBarHeaderPosition: 1,\r\n\t    \t\titems: [{\r\n\t\t    \t\tlayout: 'border',\r\n\t\t    \t\ttitle: this.localize('categories'),\r\n\t\t    \t\titems: [{\r\n\t\t    \t\t\ttitle: this.localize('terms'),\r\n\t\t    \t\t\tsplit: true,\r\n\t\t    \t\t\twidth: 250,\r\n\t\t    \t\t\tregion: 'west',\r\n\t\t    \t\t\tlayout: 'fit',\r\n\t\t    \t\t\titems: {\r\n\t\t    \t\t\t\titemId: 'terms',\r\n\t\t    \t\t\t\txtype: 'grid',\r\n\t\t    \t\t\t\tstore: Ext.create('Voyant.data.store.CorpusTermsBuffered', {\r\n\t\t    \t\t        \tparentPanel: this\r\n\t\t    \t\t        }),\r\n\t\t    \t\t\t\tviewConfig: {\r\n\t\t    \t\t\t\t\tplugins: {\r\n\t\t    \t\t\t\t\t\tptype: 'gridviewdragdrop',\r\n\t\t    \t\t\t\t\t\tddGroup: 'terms',\r\n\t\t    \t\t\t\t\t\tcopy: true,\r\n\t\t    \t\t\t\t\t\tenableDrop: false, // can't drop on grid with buffered store\r\n\t\t    \t\t\t\t\t\tdragZone: {\r\n\t\t    \t\t\t\t\t\t\tgetDragText: function() {\r\n\t\t    \t\t\t\t\t\t\t\tvar text = '';\r\n\t\t    \t\t\t\t\t\t\t\tthis.dragData.records.forEach(function(d) {\r\n\t\t    \t\t\t\t\t\t\t\t\ttext += d.get('term')+', ';\r\n\t\t    \t\t\t\t\t\t\t\t});\r\n\t\t    \t\t\t\t\t\t\t\ttext = text.substr(0, text.length-2);\r\n\t\t    \t\t\t\t\t\t\t\tif (text.length > 20) {\r\n\t\t    \t\t\t\t\t\t\t\t\ttext = text.substr(0, 20) + '...';\r\n\t\t    \t\t\t\t\t\t\t\t}\r\n\t\t    \t\t\t\t\t\t\t\treturn text;\r\n\t\t    \t\t\t\t\t\t\t}\r\n\t\t    \t\t\t\t\t\t}\r\n\t\t    \t\t\t\t\t}\r\n\t\t    \t\t\t\t},\r\n\t\t    \t\t\t\tselModel: {\r\n\t\t    \t    \t\t\tmode: 'MULTI'\r\n\t\t    \t    \t\t},\r\n\t\t    \t\t\t\tcolumns: [{\r\n\t\t\t\t    \t\t\ttext: this.localize('term'),\r\n\t\t\t\t        \t\tdataIndex: 'term',\r\n\t\t\t\t        \t\tflex: 1,\r\n\t\t\t\t                sortable: true\r\n\t\t\t\t            },{\r\n\t\t\t\t            \ttext: this.localize('rawFreq'),\r\n\t\t\t\t            \tdataIndex: 'rawFreq',\r\n\t\t\t\t                width: 'autoSize',\r\n\t\t\t\t            \tsortable: true\r\n\t\t\t\t            },{\r\n\t\t\t\t            \ttext: this.localize('relativeFreq'),\r\n\t\t\t\t            \tdataIndex: 'relativeFreq',\r\n\t\t\t\t            \trenderer: function(val) {\r\n\t\t\t\t            \t\treturn Ext.util.Format.number(val*1000000, \"0,000\");\r\n\t\t\t\t            \t},\r\n\t\t\t\t                width: 'autoSize',\r\n\t\t\t\t                hidden: true,\r\n\t\t\t\t            \tsortable: true\r\n\t\t\t\t            }],\r\n\t\t\t\t            dockedItems: [{\r\n\t\t\t\t                dock: 'bottom',\r\n\t\t\t\t                xtype: 'toolbar',\r\n\t\t\t\t                overflowHandler: 'scroller',\r\n\t\t\t\t                items: [{\r\n\t\t\t\t                    xtype: 'querysearchfield'\r\n\t\t\t\t                }]\r\n\t\t\t\t            }],\r\n\t\t\t\t            listeners: {\r\n\t\t\t\t            \tquery: function(src, query) {\r\n\t\t\t\t            \t\tthis.setApiParam('query', query);\r\n\t\t\t\t            \t\tvar store = this.queryById('terms').getStore();\r\n\t\t\t\t            \t\tstore.removeAll();\r\n\t\t\t\t            \t\tstore.load();\r\n\t\t\t\t            \t},\r\n\t\t\t\t            \tscope: this\r\n\t\t\t\t            }\r\n\t\t    \t\t\t}\r\n\t\t    \t\t},{\r\n\t\t    \t\t\ttitle: this.localize('categories'),\r\n\t\t    \t\t\titemId: 'categories',\r\n\t\t    \t\t\tregion: 'center',\r\n\t\t    \t\t\txtype: 'panel',\r\n\t\t    \t\t\tlayout: {\r\n\t\t    \t\t\t\ttype: 'hbox',\r\n\t\t    \t\t\t\talign: 'stretch'\r\n\t\t    \t\t\t},\r\n\t\t    \t\t\tscrollable: 'x',\r\n\t\t    \t\t\tdockedItems: [{\r\n\t\t                    dock: 'bottom',\r\n\t\t                    xtype: 'toolbar',\r\n\t\t                    overflowHandler: 'scroller',\r\n\t\t                    items: [{\r\n\t\t                    \ttext: this.localize('addCategory'),\r\n\t\t                    \thandler: function() {\r\n\t\t                    \t\tthis.getAddCategoryWin().show();\r\n\t\t                    \t},\r\n\t\t                    \tscope: this\r\n\t\t                    },{\r\n\t\t                    \ttext: this.localize('removeTerms'),\r\n\t\t                    \thandler: function() {\r\n\t\t                    \t\tthis.queryById('categories').query('grid').forEach(function(grid) {\r\n\t\t\t\t\t\t\t\t\t\tvar sels = grid.getSelection();\r\n\t\t\t\t\t\t\t\t\t\tsels.forEach(function(sel) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.categoriesManager.removeTerm(grid.category, sel.getTerm());\r\n\t\t\t\t\t\t\t\t\t\t}, this);\r\n\t\t                    \t\t\tgrid.getStore().remove(sels);\r\n\t\t                    \t\t}, this);\r\n\t\t                    \t},\r\n\t\t                    \tscope: this\r\n\t\t                    }]\r\n\t\t    \t\t\t}],\r\n\t\t    \t\t\titems: []\r\n\t\t    \t\t}]\r\n\t    \t\t},{\r\n\t    \t\t\tlayout: 'fit',\r\n\t    \t\t\titemId: 'features',\r\n\t    \t\t\ttitle: this.localize('features'),\r\n\t    \t\t\txtype: 'grid',\r\n\t    \t\t\tscrollable: 'y',\r\n\t    \t\t\tstore: Ext.create('Ext.data.JsonStore', {\r\n\t\t    \t\t\tfields: ['category']\r\n\t\t    \t\t}),\r\n\t    \t\t\tcolumns: [{\r\n\t    \t\t\t\ttext: this.localize('category'),\r\n\t    \t\t\t\tdataIndex: 'category',\r\n\t    \t\t\t\tsortable: false,\r\n\t    \t\t\t\thideable: false,\r\n\t    \t\t\t\tflex: 1\r\n\t    \t\t\t}]\r\n\t    \t\t}]\r\n    \t\t},\r\n    \t\tbuttons: [{\r\n\t\t\t\ttext: this.localize('cancel'),\r\n\t\t\t\thandler: function(btn) {\r\n\t\t\t\t\tthis.setCategoriesId(undefined);\r\n\t\t\t\t\tbtn.up('window').close();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t},{\r\n\t\t\t\ttext: this.localize('save'),\r\n\t\t\t\thandler: function(btn) {\r\n\t\t\t\t\tthis.processFeatures();\r\n\t\t\t\t\tthis.setColorTermsFromCategoryFeatures();\r\n\t\t\t\t\tthis.app.saveCategoryData().then(function(id) {\r\n\t\t\t\t\t\tthis.setCategoriesId(id);\r\n\t\t\t\t\t\tbtn.up('window').close();\r\n\t\t\t\t\t}.bind(this), function() {\r\n\t\t\t\t\t\tthis.setCategoriesId(undefined);\r\n\t\t\t\t\t\tbtn.up('window').close();\r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}],\r\n\t\t\tlisteners: {\r\n\t\t\t\tshow: function() {\r\n\t\t\t\t\t// check to see if the widget value is different from the API\r\n\t\t\t\t\tif (this.getCategoriesId() && this.getCategoriesId()!=this.getApiParam(\"categories\")) {\r\n\t\t    \t\t\tthis.app.loadCategoryData(this.getCategoriesId()).then(function(data) {\r\n\t\t\t\t\t\t\tthis.setColorTermsFromCategoryFeatures();\r\n\t\t\t\t\t\t\tthis.buildCategories();\r\n\t\t\t\t\t\t\tthis.buildFeatures();\r\n\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.buildCategories();\r\n\t\t\t\t\t\tthis.buildFeatures();\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tthis.down('tabpanel').setActiveTab(0);\r\n\t\t\t\t},\r\n\t\t\t\tafterrender: function(builder) {\r\n\t\t\t\t\tbuilder.on('loadedCorpus', function(src, corpus) {\r\n\t\t    \t\t\tthis.setCorpus(corpus);\r\n\t\t\t    \t\tvar terms = this.queryById('terms');\r\n\t\t\t    \t\tterms.getStore().load();\r\n\t\t    \t\t}, builder);\r\n\t\t    \t\t\r\n\t\t\t\t\tthis.panel.on('loadedCorpus', function(src, corpus) {\r\n\t    \t\t\t\tbuilder.fireEvent('loadedCorpus', src, corpus);\r\n\t    \t\t\t}, builder);\r\n\t    \t\t\tif (this.panel.getCorpus && this.panel.getCorpus()) {builder.fireEvent('loadedCorpus', builder, this.panel.getCorpus());}\r\n\t    \t\t\telse if (this.panel.getStore && this.panel.getStore() && this.panel.getStore().getCorpus && this.panel.getStore().getCorpus()) {\r\n\t    \t\t\t\tbuilder.fireEvent('loadedCorpus', builder, this.panel.getStore().getCorpus());\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n    \t});\r\n    \t\r\n    \tthis.setAddCategoryWin(Ext.create('Ext.window.Window', {\r\n    \t\ttitle: this.localize('addCategory'),\r\n    \t\tmodal: true,\r\n    \t\tcloseAction: 'hide',\r\n    \t\tlayout: 'fit',\r\n    \t\titems: {\r\n    \t\t\txtype: 'form',\r\n    \t\t\twidth: 300,\r\n    \t\t\tdefaults: {\r\n    \t\t\t\tlabelAlign: 'right'\r\n    \t\t\t},\r\n\t    \t\titems: [{\r\n\t    \t\t\txtype: 'textfield',\r\n\t    \t\t\tfieldLabel: this.localize('categoryName'),\r\n\t    \t\t\tname: 'categoryName',\r\n\t    \t\t\tallowBlank: false,\r\n\t    \t\t\tvalidator: function(val) {\r\n\t    \t\t\t\treturn this.categoriesManager.getCategoryTerms(val) === undefined ? true : this.localize('exists');\r\n\t    \t\t\t}.bind(this),\r\n\t    \t\t\tenableKeyEvents: true,\r\n\t    \t\t\tlisteners: {\r\n\t    \t\t\t\tkeypress: function(field, evt) {\r\n\t    \t\t\t\t\tif (evt.getKey() === Ext.event.Event.ENTER) {\r\n\t    \t\t\t\t\t\tfield.up('form').queryById('addCategoryButton').click();\r\n\t    \t\t\t\t\t}\r\n\t    \t\t\t\t},\r\n\t    \t\t\t\tscope: this\r\n\t    \t\t\t}\r\n\t    \t\t}],\r\n\t    \t\tbuttons: [{\r\n\t    \t\t\ttext: this.localize('cancel'),\r\n\t    \t\t\thandler: function(btn) {\r\n\t    \t\t\t\tbtn.up('window').close();\r\n\t    \t\t\t}\r\n\t    \t\t},{\r\n\t    \t\t\titemId: 'addCategoryButton',\r\n\t    \t\t\ttext: this.localize('add'),\r\n\t    \t\t\thandler: function(btn) {\r\n\t    \t\t\t\tvar form = btn.up('form');\r\n\t    \t\t\t\tif (form.isValid()) {\r\n\t    \t\t\t\t\tvar name = form.getValues()['categoryName'];\r\n\t    \t\t\t\t\tthis.addCategory(name);\r\n\t    \t\t\t\t\tbtn.up('window').close();\r\n\t    \t\t\t\t}\r\n\t    \t\t\t},\r\n\t    \t\t\tscope: this\r\n\t    \t\t}]\r\n    \t\t},\r\n    \t\tlisteners: {\r\n    \t\t\tshow: function(win) {\r\n    \t\t\t\tvar form = win.down('form').getForm();\r\n    \t\t\t\tform.reset();\r\n\t\t\t\t\tform.clearInvalid();\r\n    \t\t\t}\r\n    \t\t}\r\n\t\t}));\r\n    \t\r\n    \tthis.callParent(arguments);\r\n    },\r\n    \r\n    addCategory: function(name) {\r\n    \tthis.categoriesManager.addCategory(name);\r\n    \t\r\n    \tthis.queryById('features').getStore().add({category: name});\r\n\r\n    \tvar termsData = [];\r\n    \tvar terms = this.categoriesManager.getCategoryTerms(name);\r\n    \tif (terms !== undefined) {\r\n    \t\tfor (var i = 0; i < terms.length; i++) {\r\n    \t\t\ttermsData.push({term: terms[i]});\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tvar grid = this.queryById('categories').add({\r\n    \t\txtype: 'grid',\r\n    \t\tcategory: name,\r\n    \t\ttitle: name,\r\n    \t\tframe: true,\r\n    \t\twidth: 150,\r\n    \t\tmargin: '10 0 10 10',\r\n    \t\tlayout: 'fit',\r\n    \t\ttools: [{\r\n    \t\t\ttype: 'close',\r\n    \t\t\ttooltip: this.localize('removeCategory'),\r\n    \t\t\tcallback: function(panel) {\r\n    \t\t\t\tExt.Msg.confirm(this.localize('removeCategory'), this.localize('confirmRemove'), function(btn) {\r\n    \t\t\t\t\tif (btn === 'yes') {\r\n    \t\t\t\t\t\tthis.removeCategory(name);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}, this);\r\n    \t\t\t},\r\n    \t\t\tscope: this\r\n\t\t\t}],\r\n\t\t\tbbar: [{\r\n\t\t\t\txtype: 'button',\r\n\t\t\t\ttext: '',\r\n\t\t\t\ttooltip: this.localize('increaseCategory'),\r\n\t\t\t\tglyph: 'xf067@FontAwesome',\r\n\t\t\t\thandler: function(b) {\r\n\t\t\t\t\tvar grid = b.findParentByType('grid');\r\n\t\t\t\t\tvar parent = this.queryById('categories');\r\n\t\t\t\t\tvar prev = parent.prevChild(grid);\r\n\t\t\t\t\tif (prev !== null) {\r\n\t\t\t\t\t\tparent.moveBefore(grid, prev);\r\n\t\t\t\t\t\tthis.app.getCategoriesManager().setCategoryRanking(grid.getTitle(), parent.items.indexOf(grid));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t},'->',{\r\n\t\t\t\txtype: 'button',\r\n\t\t\t\ttext: '',\r\n\t\t\t\ttooltip: this.localize('decreaseCategory'),\r\n\t\t\t\tglyph: 'xf068@FontAwesome',\r\n\t\t\t\thandler: function(b) {\r\n\t\t\t\t\tvar grid = b.findParentByType('grid');\r\n\t\t\t\t\tvar parent = this.queryById('categories');\r\n\t\t\t\t\tvar next = parent.nextChild(grid);\r\n\t\t\t\t\tif (next !== null) {\r\n\t\t\t\t\t\tparent.moveAfter(grid, next);\r\n\t\t\t\t\t\tthis.app.getCategoriesManager().setCategoryRanking(grid.getTitle(), parent.items.indexOf(grid));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}],\r\n    \t\t\r\n    \t\tstore: Ext.create('Ext.data.JsonStore', {\r\n    \t\t\tdata: termsData,\r\n    \t\t\tfields: ['term']\r\n    \t\t}),\r\n    \t\tviewConfig: {\r\n\t    \t\tplugins: {\r\n\t    \t\t\tptype: 'gridviewdragdrop',\r\n\t\t\t\t\tddGroup: 'terms',\r\n\t\t\t\t\tdragZone: {\r\n\t\t\t\t\t\tgetDragText: function() {\r\n\t\t\t\t\t\t\tvar text = '';\r\n\t\t\t\t\t\t\tthis.dragData.records.forEach(function(d) {\r\n\t\t\t\t\t\t\t\ttext += d.get('term')+', ';\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn text.substr(0, text.length-2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t    \t\t}\r\n    \t\t},\r\n    \t\tselModel: {\r\n    \t\t\tmode: 'MULTI'\r\n    \t\t},\r\n    \t\tcolumns: [{\r\n        \t\tdataIndex: 'term',\r\n        \t\tflex: 1,\r\n                sortable: true\r\n            }],\r\n    \t\tlisteners: {\r\n    \t\t\tbeforedrop: function(node, data) {\r\n\t\t\t\t\tvar categoriesManager = this.up('categoriesbuilder').categoriesManager;\r\n\t\t\t\t\tvar source = data.view.up('grid');\r\n\r\n\t\t\t\t\tif (source.category !== undefined) {\r\n\t\t\t\t\t\t// we're moving a term from one category to another\r\n\t\t\t\t\t\tfor (var i = data.records.length-1; i >= 0; i--) {\r\n\t\t\t\t\t\t\tvar term = data.records[i].get('term');\r\n\t\t\t\t\t\t\tcategoriesManager.removeTerm(source.category, term);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\tdrop: function(node, data) {\r\n    \t\t\t\tdata.view.getSelectionModel().deselectAll();\r\n    \t\t\t\tthis.getSelectionModel().deselectAll();\r\n    \t\t\t\t\r\n    \t\t\t\tvar categoriesManager = this.up('categoriesbuilder').categoriesManager;\r\n    \t\t\t\tvar terms = [];\r\n    \t\t\t\tfor (var i = 0; i < data.records.length; i++) {\r\n    \t\t\t\t\tvar term = data.records[i].get('term');\r\n    \t\t\t\t\tterms.push(term);\r\n    \t\t\t\t}\r\n    \t\t\t\tcategoriesManager.addTerms(name, terms);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\r\n    \t\r\n    \tvar titleEditor = new Ext.Editor({\r\n    \t\tupdateEl: true,\r\n    \t\talignment: 'l-l',\r\n    \t\tautoSize: {\r\n    \t\t\twidth: 'boundEl'\r\n    \t\t},\r\n    \t\tfield: {\r\n    \t\t\txtype: 'textfield',\r\n    \t\t\tallowBlank: false,\r\n    \t\t\tvalidator: function(val) {\r\n    \t\t\t\treturn this.categoriesManager.getCategoryTerms(val) === undefined || val ===  grid.getTitle() ? true : this.localize('exists');\r\n    \t\t\t}.bind(this)\r\n    \t\t},\r\n    \t\tlisteners: {\r\n    \t\t\tcomplete: function(ed, newvalue, oldvalue) {\r\n    \t\t\t\tthis.categoriesManager.renameCategory(oldvalue, newvalue);\r\n    \t\t\t\tthis.buildFeatures();\r\n    \t\t\t},\r\n    \t\t\tscope: this\r\n    \t\t}\r\n    \t});\r\n    \t\r\n    \tgrid.header.getTitle().textEl.on('dblclick', function(e, t) {\r\n    \t\ttitleEditor.startEdit(t);\r\n\t\t});\r\n    },\r\n    \r\n    removeCategory: function(name) {\r\n    \tvar categoriesParent = this.queryById('categories');\r\n    \tvar panel = categoriesParent.queryBy(function(cmp) {\r\n    \t\tif (cmp.category && cmp.category == name) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t});\r\n    \tcategoriesParent.remove(panel[0]);\r\n    \t\r\n    \tvar featuresStore = this.queryById('features').getStore();\r\n    \tfeaturesStore.removeAt(featuresStore.findExact('category', name));\r\n    \t\r\n\t\tthis.categoriesManager.removeCategory(name);\r\n    },\r\n    \r\n    addFeature: function(name) {\r\n\t\tthis.categoriesManager.addFeature(name);\r\n\t\tthis.buildFeatures();\r\n    },\r\n    \r\n    buildFeatures: function() {\r\n    \tthis.queryById('features').getStore().removeAll();\r\n    \t\r\n    \tvar fields = ['category'];\r\n\t\tvar columns = [{\r\n\t\t\tsortable: false,\r\n\t\t\ttext: this.localize('category'),\r\n\t\t\tdataIndex: 'category',\r\n\t\t\tflex: 1\r\n\t\t}];\r\n\t\tvar data = [];\r\n\t\t\r\n\t\tfor (var category in this.categoriesManager.getCategories()) {\r\n\t\t\tdata.push({category: category});\r\n\t\t}\r\n\t\t\r\n\t\tvar features = this.categoriesManager.getFeatures();\r\n\t\tvar featuresConfigs = Ext.ClassManager.getClass(this).features;\r\n\t\t\r\n\t\tfor (var feature in features) {\r\n\t\t\tfields.push(feature);\r\n\t\t\t\r\n\t\t\tvar featureConfig = featuresConfigs[feature];\r\n\t\t\tvar widgetConfig = Ext.applyIf({\r\n\t\t\t\tfeature: feature,\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tchange: function(cmp, newvalue) {\r\n\t\t\t\t\t\tif (cmp.rendered) {\r\n\t\t\t\t\t\t\tvar rowIndex = cmp.up('gridview').indexOf(cmp.el.up('table'));\r\n\t\t\t\t\t\t\tvar record = cmp.up('grid').getStore().getAt(rowIndex);\r\n\t\t\t\t\t\t\tif (record) {\r\n\t\t\t\t\t\t\t\trecord.set(cmp.feature, newvalue);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (window.console) {\r\n\t\t\t\t\t\t\t\t\tconsole.warn('no record for', rowIndex, cmp);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t}, featureConfig);\r\n\t\t\tif (featureConfig.listeners) {\r\n\t\t\t\tExt.applyIf(widgetConfig.listeners, featureConfig.listeners);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcolumns.push({\r\n\t\t\t\tsortable: false,\r\n\t\t\t\thideable: false,\r\n\t\t\t\ttext: this.localize(feature),\r\n\t\t\t\tdataIndex: feature,\r\n\t\t\t\tflex: 0.5,\r\n\t\t\t\txtype: 'widgetcolumn',\r\n\t\t\t\twidget: widgetConfig\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tfor (var category in this.categoriesManager.getCategories()) {\r\n\t\t\t\tvar value = this.categoriesManager.getCategoryFeature(category, feature);\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tif (data[i].category == category) {\r\n\t\t\t\t\t\tdata[i][feature] = value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar store = Ext.create('Ext.data.JsonStore', {\r\n\t\t\tfields: fields,\r\n\t\t\tdata: data\r\n\t\t});\r\n\t\tthis.queryById('features').reconfigure(store, columns);\r\n    },\r\n\t\r\n\tprocessFeatures: function() {\r\n\t\tvar store = this.queryById('features').getStore();\r\n\t\tvar features = Object.keys(this.categoriesManager.getFeatures());\r\n\t\tstore.each(function(record) {\r\n\t\t\tvar category = record.get('category');\r\n\t\t\tfeatures.forEach(function(feature) {\r\n\t\t\t\tvar featureValue = record.get(feature);\r\n\t\t\t\tif (featureValue !== undefined) {\r\n\t\t\t\t\tthis.categoriesManager.setCategoryFeature(category, feature, featureValue);\r\n\t\t\t\t}\r\n\t\t\t}, this)\r\n\t\t}, this)\r\n\t},\r\n\r\n\tsetColorTermsFromCategoryFeatures: function() {\r\n        for (var category in this.categoriesManager.getCategories()) {\r\n            var color = this.categoriesManager.getCategoryFeature(category, 'color');\r\n            if (color !== undefined) {\r\n                var rgb = this.app.hexToRgb(color);\r\n                var terms = this.categoriesManager.getCategoryTerms(category);\r\n                for (var i = 0; i < terms.length; i++) {\r\n                    this.app.setColorForTerm(terms[i], rgb);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    buildCategories: function() {\r\n\r\n    \tthis.queryById('categories').removeAll();\r\n    \t\r\n    \tvar cats = this.categoriesManager.getCategories();\r\n    \tfor (var key in cats) {\r\n    \t\tthis.addCategory(key);\r\n    \t}\r\n    }\r\n});","Ext.define('Voyant.widget.VoyantNetworkGraph', {\n    extend: 'Ext.panel.Panel',\n    mixins: ['Voyant.util.Localization','Voyant.util.Api','Voyant.notebook.util.Embed'],\n    embeddable: ['Voyant.widget.VoyantNetworkGraph'],\n    alias: 'widget.voyantnetworkgraph',\n    statics: {\n        i18n: {\n        },\n        api: {\n            jsonData: undefined,\n            docId: undefined,\n            docIndex: undefined,\n            json: undefined,\n            api: undefined\n        }\n    },\n    config: {\n        vis: undefined, // svg > g element\n        visLayout: undefined, // d3 layout algorithm\n        \n        // backing data. don't set through config, use config.nodes & config.edges\n        nodeData: undefined,\n        edgeData: undefined,\n        \n        nodeSelection: undefined, // d3 selection for nodes\n        edgeSelection: undefined, // d3 selection for edges\n        \n        currentNode: undefined,\n        currentEdge: undefined,\n        \n        zoom: undefined, // d3 zoom\n        zoomExtent: [0.25, 8],\n        \n        fixOnDrag: true, // fix node when dragged\n        \n        nodeScaling: {\n        \tminSize: 8,\n        \tmaxSize: 36,\n        \tscalingFunction: undefined\n        },\n        edgeScaling: {\n        \tminSize: 1,\n        \tmaxSize: 10,\n        \tscalingFunction: undefined\n        },\n        \n        graphStyle: {\n    \t\tnode: {\n    \t\t\tnormal: {\n    \t\t\t\tfill: '#c6dbef',\n    \t\t\t\tfillOpacity: 1,\n    \t\t\t\tstroke: '#6baed6',\n    \t\t\t\tstrokeOpacity: 1,\n    \t\t\t\tstrokeWidth: 1\n    \t\t\t},\n    \t\t\thighlight: {\n    \t\t\t\tfill: '#9ecae1',\n    \t\t\t\tfillOpacity: 1,\n    \t\t\t\tstroke: '#3182bd',\n    \t\t\t\tstrokeOpacity: 1,\n    \t\t\t\tstrokeWidth: 3\n    \t\t\t}\n    \t\t},\n    \t\tedge: {\n    \t\t\tnormal: {\n    \t\t\t\tstroke: '#000000',\n    \t\t\t\tstrokeOpacity: 0.25,\n    \t\t\t\tstrokeWidth: 1\n    \t\t\t},\n    \t\t\thighlight: {\n    \t\t\t\tstroke: '#000000',\n    \t\t\t\tstrokeOpacity: 0.5,\n    \t\t\t\tstrokeWidth: 3\n    \t\t\t}\n    \t\t}\n    \t},\n    \t\n    \tgraphPhysics: {\n    \t\tdamping: 0.4, // 0 = no damping, 1 = full damping\n    \t\tcentralGravity: 0.1, // 0 = no grav, 1 = high grav\n    \t\tnodeGravity: -50,  // negative = repel, positive = attract\n\t\t\tspringLength: 100,\n\t\t\tspringStrength: 0.25, // 0 = not strong, >1 = probably too strong\n\t\t\tcollisionScale: 1.25 // 1 = default, 0 = no collision \n    \t}\n    },\n    constructor: function(config) {\n        config = config || {};\n        \n        this.setNodeData([]);\n        this.setEdgeData([]);\n        \n        this.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n        this.callParent(arguments);\n        \n        var json = {};\n        if (this.getApiParam('jsonData')) {\n            json = Ext.decode(this.getApiParam('jsonData'));\n        } else if (this.getApiParam('json')) {\n        \tjson = this.getApiParam('json');\n        } else if (config.json) {\n        \tjson = config.json;\n        } else if (config.edges) {\n        \tjson.edges = config.edges;\n        \tif (config.nodes) {\n        \t\tjson.nodes = config.nodes;\n        \t}\n        } else if (config && config.jsonData) {\n        \tjson = JSON.parse(config.jsonData);\n        }\n        this.loadJson(json);\n    },\n    initComponent: function(config) {\n        this.on('boxready', function(src, corpus) {\n            this.initGraph();\n            this.refreshGraph();\n        }, this);\n        \n        this.on('resize', function(panel, width, height) {\n            var vis = this.body.down('svg');\n            if (vis) {\n                var el = this.body;\n                var elHeight = el.getHeight();\n                var elWidth = el.getWidth();\n                vis.dom.setAttribute('width', elWidth);\n                vis.dom.setAttribute('height', elHeight);\n                this.getVisLayout()\n                    .force('x', d3.forceX(elWidth/2))\n\t    \t\t\t.force('y', d3.forceY(elHeight/2));\n                \n                if (this.getVisLayout().alpha() < 0.075) {\n                \tthis.getVisLayout().alpha(-1); // trigger end/zoomToFit\n                }\n            }\n        }, this);\n        \n        this.callParent(arguments);\n    },\n    \n    processJson: function(json) {\n    \tif (!json || !json.edges) {\n            if (json && json.links) {\n                json.edges = json.links;\n                delete json.links;\n            }\n            if (!json || !json.edges) {\n                json = json || {};\n                json.edges = [];\n            }\n        }\n    \tif (!json.nodes) {\n    \t\tjson.nodes = [];\n    \t}\n        if (json.nodes.length === 0) {\n            var wordFreq = {};\n            json.edges.forEach(function(edge) {\n                ['source', 'target'].forEach(function(loc) {\n                \tvar term = edge[loc];\n                    if (term in wordFreq == false) {\n                        wordFreq[term] = 1;\n                        json.nodes.push({term: term});\n                    } else {\n                        wordFreq[term]++;\n                    }\n                    edge.value = 1;\n                });\n            }, this);\n            json.nodes.forEach(function(node) {\n            \tvar val = wordFreq[node.term] === undefined ? 1 : wordFreq[node.term];\n                Ext.applyIf(node, {value: val});\n            });\n        } else {\n        \tjson.nodes.forEach(function(node) {\n        \t\tExt.applyIf(node, {value: 1});\n        \t});\n        }\n        \n        return json;\n    },\n    \n    loadJson: function(json) {\n    \tthis.processJson(json);\n    \t\n    \tvar existingTerms = {};\n\t\tthis.getNodeData().forEach(function(node) {\n\t\t\texistingTerms[node.term] = true;\n\t\t}, this);\n\t\t\n    \tvar newNodes = [];\n    \tvar newEdges = [];\n    \t\n    \tjson.nodes.forEach(function(node) {\n            if (existingTerms[node.term] === undefined) {\n            \tnode.id = this.idGet(node.term);\n            \tnewNodes.push(node);\n            }\n        }, this);\n        json.edges.forEach(function(newedge) {\n            var sourceId = this.idGet(newedge.source);\n            var targetId = this.idGet(newedge.target);\n            var edges = this.getEdgeData();\n            var exists = false;\n            for (var i = 0; i < edges.length; i++) {\n            \tvar edge = edges[i];\n            \tif ((edge.source.id == sourceId && edge.target.id == targetId) || (edge.target.id == sourceId && edge.source.id == targetId)) {\n            \t\texists = true;\n            \t\tbreak;\n            \t}\n            }\n            if (!exists) {\n            \tnewedge.source = sourceId;\n            \tnewedge.target = targetId;\n            \tnewedge.id = sourceId+'-'+targetId;\n\t            newEdges.push(newedge);\n            }\n        }, this);\n        \n        this.setNodeData(this.getNodeData().concat(newNodes));\n        this.setEdgeData(this.getEdgeData().concat(newEdges));\n        \n        this.refreshGraph();\n    },\n    \n    // get a DOM appropriate id\n    idGet: function(term) {\n    \treturn term.replace(/\\W/g, '_');\n    },\n    \n    updateDataForNode: function(nodeId, dataObj) {\n    \tvar data = this.getNodeData();\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tif (data[i].id === nodeId) {\n\t\t\t\tExt.apply(data[i], dataObj);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n    },\n    \n    updateDataForEdge: function(edgeId, dataObj) {\n    \tvar data = this.getEdgeData();\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tif (data[i].id === edgeId) {\n\t\t\t\tExt.apply(data[i], dataObj);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n    },\n    \n    addNode: function(dataObj) {\n    \tif (Ext.isString(dataObj)) {\n    \t\tdataObj = {term: dataObj};\n    \t}\n    \tif (dataObj.term) {\n    \t\tthis.loadJson({nodes: [dataObj]});\n    \t}\n    },\n    \n    removeNode: function(nodeId, removeOrphans) {\n    \tvar data = this.getNodeData();\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tif (data[i].id === nodeId) {\n\t\t\t\tdata.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar potentialOrphans = {};\n\t\tdata = this.getEdgeData();\n\t\tfor (var i = data.length-1; i >= 0; i--) {\n\t\t\tvar match = false;\n\t\t\tif (data[i].source.id === nodeId) {\n\t\t\t\tmatch = true;\n\t\t\t\tpotentialOrphans[data[i].target.id] = true;\n\t\t\t}\n\t\t\tif (data[i].target.id === nodeId) {\n\t\t\t\tmatch = true;\n\t\t\t\tpotentialOrphans[data[i].source.id] = true;\n\t\t\t}\n\t\t\tif (match) {\n\t\t\t\tdata.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (removeOrphans) {\n\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\tif (potentialOrphans[data[i].source.id]) {\n\t\t\t\t\tdelete potentialOrphans[data[i].source.id];\n\t\t\t\t}\n\t\t\t\tif (potentialOrphans[data[i].target.id]) {\n\t\t\t\t\tdelete potentialOrphans[data[i].target.id];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var orphanId in potentialOrphans) {\n\t\t\t\tthis.removeNode(orphanId, true);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.refreshGraph();\n    },\n    \n    addEdge: function(dataObj) {\n    \tif (Ext.isObject(dataObj) && dataObj.source && dataObj.target) {\n    \t\tthis.loadJson({edges: [dataObj]});\n    \t}\n    },\n    \n    removeEdge: function(edgeId, removeOrphans) {\n    \tvar data = this.getEdgeData();\n    \tfor (var i = data.length-1; i >= 0; i--) {\n\t\t\tif (data[i].id === edgeId) {\n\t\t\t\tdata.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (removeOrphans) {\n\t\t\tvar potentialOrphans = {};\n\t\t\tdata = this.getNodeData();\n\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\tpotentialOrphans[data[i].id] = true;\n\t\t\t}\n\t\t\tdata = this.getEdgeData();\n\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\tif (potentialOrphans[data[i].source.id]) {\n\t\t\t\t\tdelete potentialOrphans[data[i].source.id];\n\t\t\t\t}\n\t\t\t\tif (potentialOrphans[data[i].target.id]) {\n\t\t\t\t\tdelete potentialOrphans[data[i].target.id];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var orphanId in potentialOrphans) {\n\t\t\t\tthis.removeNode(orphanId, true);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tthis.refreshGraph();\n    },\n    \n    initGraph: function() {\n        var el = this.getLayout().getRenderTarget();\n        el.update('');\n        var width = el.getWidth();\n        var height = el.getHeight();\n        \n        var physics = this.getGraphPhysics();\n        this.setVisLayout(d3.forceSimulation()\n        \t.velocityDecay(physics.damping)\n    \t\t.force('x', d3.forceX(width/2).strength(physics.centralGravity))\n    \t\t.force('y', d3.forceY(height/2).strength(physics.centralGravity))\n            .force('link', d3.forceLink().id(function(d) { return d.id; }).distance(physics.springLength).strength(physics.springStrength))\n            .force('charge', d3.forceManyBody().strength(physics.nodeGravity))\n            .force('collide', d3.forceCollide().radius(function(d) { return Math.sqrt(d.bbox.width * d.bbox.height)*physics.collisionScale; }))\n            .on('tick', function() {\n            \t this.getEdgeSelection()\n\t                .attr('x1', function(d) { return d.source.x; })\n\t                .attr('y1', function(d) { return d.source.y; })\n\t                .attr('x2', function(d) { return d.target.x; })\n\t                .attr('y2', function(d) { return d.target.y; });\n\t    \n            \t this.getNodeSelection()\n            \t \t.attr('transform', function(d) {\n            \t \t\tvar x = d.x - d.bbox.width*0.5;\n            \t \t\tvar y = d.y - d.bbox.height*0.5;\n            \t \t\treturn 'translate('+x+','+y+')';\n        \t \t\t});\n            \t \n            \t if (this.getVisLayout().alpha() < 0.075) {\n \t    \t\t\tthis.getVisLayout().alpha(-1); // trigger end event\n \t    \t\t}\n\t        }.bind(this))\n\t        .on('end', function() {\n\t    \t\tthis.zoomToFit();\n\t    \t}.bind(this))\n        );\n        \n        var svg = d3.select(el.dom).append('svg').attr('width', width).attr('height', height);\n        var g = svg.append('g');\n        \n        var zoom = d3.zoom()\n\t\t.scaleExtent(this.getZoomExtent())\n\t\t.on('zoom', function() {\n\t\t\tg.attr('transform', d3.event.transform);\n\t\t});\n\t\tthis.setZoom(zoom);\n\t\tsvg.call(zoom);\n        \n        this.setEdgeSelection(g.append('g').attr('class', 'edges').selectAll('.edge'));\n        this.setNodeSelection(g.append('g').attr('class', 'nodes').selectAll('.node'));\n        this.setVis(g);\n    },\n    \n    resetGraph: function() {\n\t    this.setNodeData([]);\n\t\tthis.setEdgeData([]);\n\t\tthis.refreshGraph();\n    },\n    \n    refreshGraph: function() {\n    \tif (this.getVisLayout() === undefined) return;\n    \t\n        var edgeData = this.getEdgeData();\n        var nodeData = this.getNodeData();\n        \n        var nodeExtent = d3.extent(nodeData, function(d) { return d.value; });\n        var nodeSum = d3.sum(nodeData, function(d) { return d.value; });\n        var edgeExtent = d3.extent(edgeData, function(d) { return d.value; });\n        var edgeSum = d3.sum(edgeData, function(d) { return d.value; });\n\n        var edgeScaling = this.getEdgeScaling();\n        if (edgeScaling.scalingFunction === undefined) {\n        \tedgeScaling.scalingFunction = d3.scaleLinear().domain(edgeExtent).range([edgeScaling.minSize, edgeScaling.maxSize]);\n        }\n        \n        var nodeScaling = this.getNodeScaling();\n        if (nodeScaling.scalingFunction === undefined) {\n        \tnodeScaling.scalingFunction = d3.scaleLog().domain(nodeExtent).range([nodeScaling.minSize, nodeScaling.maxSize]);\n        }\n        \n        var edge = this.getEdgeSelection().data(edgeData, function(d) { return d.id; });\n        edge.exit().remove();\n        var edgeEnter = edge.enter().append('line')\n        \t.attr('class', 'edge')\n        \t.attr('id', function(d) { return d.id; })\n        \t.style('cursor', 'pointer')\n        \t.style('stroke-width', function(d) { return edgeScaling.scalingFunction(d.value); })\n        \t.on('mouseover', this.edgeMouseOver.bind(this))\n            .on('mouseout', this.edgeMouseOut.bind(this))\n        \t.on('click', function(d) {\n        \t\td3.event.stopImmediatePropagation();\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tthis.setCurrentEdge(d);\n\t\t\t\tthis.fireEvent('edgeclicked', this, d);\n        \t}.bind(this));\n        \n        this.setEdgeSelection(edgeEnter.merge(edge));\n        \n        var node = this.getNodeSelection().data(nodeData, function(d) { return d.id; });\n        node.exit().remove();\n        var nodeEnter = node.enter().append('g')\n            .attr('class', 'node')\n            .attr('id', function(d) { return d.id; })\n            .style('cursor', 'pointer')\n            .on('mouseover', this.nodeMouseOver.bind(this))\n            .on('mouseout', this.nodeMouseOut.bind(this))\n            .on('click', function(d) {\n\t\t\t\td3.event.stopImmediatePropagation();\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tthis.setCurrentNode(d);\n\t\t\t\tthis.fireEvent('nodeclicked', this, d);\n\t\t\t}.bind(this))\n\t\t\t.on('dblclick', function(d) {\n\t\t\t\td3.event.stopImmediatePropagation();\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tthis.fireEvent('nodedblclicked', this, d);\n\t\t\t}.bind(this))\n\t\t\t.on('contextmenu', function(d) {\n\t\t\t\td3.event.stopImmediatePropagation();\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tthis.fireEvent('nodecontextclicked', this, d);\n\t\t\t}.bind(this))\n            .call(d3.drag()\n                .on('start', function(d) {\n                    if (!d3.event.active) this.getVisLayout().alphaTarget(0.3).restart();\n                    if (this.getFixOnDrag()) {\n\t                    d.fx = d.x;\n\t                    d.fy = d.y;\n                    }\n                    this.fireEvent('nodedragstart', this, d);\n            \t}.bind(this))\n                .on('drag', function(d) {\n                \tif (this.getFixOnDrag()) {\n\t                    d.fx = d3.event.x;\n\t                    d.fy = d3.event.y;\n                \t} else {\n                \t\td.x = d3.event.x;\n                \t\td.y = d3.event.y;\n                \t}\n                    this.fireEvent('nodedrag', this, d);\n                }.bind(this))\n                .on('end', function(d) {\n                \tif (!d3.event.active) this.getVisLayout().alphaTarget(0);\n                \tthis.fireEvent('nodedragend', this, d);\n                }.bind(this))\n            );\n\n        nodeEnter.append('rect');\n                \n        nodeEnter.append('text')\n            .text(function(d) { return d.term; })\n//            .attr('font-family', function(d) { return this.getApplication().getCategoriesManager().getFeatureForTerm('font', d.term); }.bind(this))\n            .attr('font-size', function(d) {return nodeScaling.scalingFunction(d.value)+'px';})\n//            .attr('text-anchor', 'middle')\n\t\t\t.attr('dominant-baseline', 'middle')\n\t\t\t.style('user-select', 'none')\n            .each(function(d) { d.bbox = this.getBBox(); });\n        \n        this.setNodeSelection(nodeEnter.merge(node));\n        \n        this.getNodeSelection().selectAll('rect')\n        \t.attr('width', function(d) { return d.bbox.width+16; })\n\t\t\t.attr('height', function(d) { return d.bbox.height+8; })\n\t\t\t.attr('rx', function(d) { return Math.max(2, d.bbox.height * 0.2); })\n\t\t\t.attr('ry', function(d) { return Math.max(2, d.bbox.height * 0.2); });\n        \n        this.getNodeSelection().selectAll('text')\n        \t.attr('dx', 8)\n\t\t\t.attr('dy', function(d) { return d.bbox.height*0.5+4; });\n        \n\n        this.getEdgeSelection().call(this.applyEdgeStyle.bind(this));\n        this.getNodeSelection().call(this.applyNodeStyle.bind(this));\n        \n        this.getVisLayout().nodes(nodeData);\n        this.getVisLayout().force('link').links(edgeData);\n        this.getVisLayout().alpha(1).restart();\n    },\n    \n    zoomToFit: function(paddingPercent, transitionDuration) {\n    \tvar bounds = this.getVis().node().getBBox();\n    \tvar width = bounds.width;\n    \tvar height = bounds.height;\n    \tvar midX = bounds.x + width/2;\n    \tvar midY = bounds.y + height/2;\n    \tvar svg = this.getVis().node().parentElement;\n    \tvar svgRect = svg.getBoundingClientRect();\n        var fullWidth = svgRect.width;\n        var fullHeight = svgRect.height;\n    \tvar scale = (paddingPercent || 0.8) / Math.max(width/fullWidth, height/fullHeight);\n    \tvar translate = [fullWidth/2 - scale*midX, fullHeight/2 - scale*midY];\n    \td3.select(svg)\n    \t\t.transition()\n    \t\t.duration(transitionDuration || 500)\n    \t\t.call(this.getZoom().transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale));\n    },\n    \n    nodeScaling: function(min, max, total, value) {\n    \tif (min === max) {\n    \t\treturn 0.5;\n    \t} else {\n    \t\tvar scale = 1 / (max - min);\n    \t\treturn Math.max(0, (value-min)*scale);\n    \t}\n    },\n    \n    applyNodeStyle: function(sel, nodeState) {\n\t\tvar state = nodeState === undefined ? 'normal' : nodeState;\n\t\tvar style = this.getGraphStyle().node[state];\n    \tsel.selectAll(':not(text)')\n    \t\t.style('fill', function(d) { return style.fill; }.bind(this))\n    \t\t.style('fill-opacity', function(d) { return style.fillOpacity; }.bind(this))\n    \t\t.style('stroke', function(d) { return style.stroke; }.bind(this))\n    \t\t.style('stroke-opacity', function(d) { return style.strokeOpacity; }.bind(this))\n    \t\t.style('stroke-width', function(d) { return style.strokeWidth; }.bind(this));\n    },\n    \n    applyEdgeStyle: function(sel, edgeState) {\n    \tvar state = edgeState === undefined ? 'normal' : edgeState;\n    \tvar style = this.getGraphStyle().edge[state];\n    \tsel.style('stroke', function(d) { return style.stroke; }.bind(this))\n\t    \t.style('stroke-opacity', function(d) { return style.strokeOpacity; }.bind(this));\n//\t    \t.style('stroke-width', function(d) { return style.strokeWidth; }.bind(this));\n    },\n\n    edgeMouseOver: function(d) {\n    \tthis.getEdgeSelection().call(this.applyEdgeStyle.bind(this));\n    \tthis.getVis().select('#'+d.id).call(this.applyEdgeStyle.bind(this), 'highlight');\n    },\n    \n    edgeMouseOut: function(d) {\n    \tthis.getEdgeSelection().call(this.applyEdgeStyle.bind(this));\n    },\n    \n    nodeMouseOver: function(d) {\n    \tthis.setCurrentNode(d);\n\t\t\n    \tthis.getNodeSelection().call(this.applyNodeStyle.bind(this));\n\t\t\n\t\tthis.getEdgeSelection().each(function(link) {\n\t\t\tvar id;\n\t\t\tif (link.source.id == d.id) {\n\t\t\t\tid = link.target.id;\n\t\t\t} else if (link.target.id == d.id) {\n\t\t\t\tid = link.source.id;\n\t\t\t}\n\t\t\tif (id !== undefined) {\n\t\t\t\tthis.getVis().select('#'+id).call(this.applyNodeStyle.bind(this), 'highlight');\n\t\t\t\tthis.getVis().select('#'+link.id).call(this.applyEdgeStyle.bind(this), 'highlight');\n\t\t\t}\n\t\t}.bind(this));\n\t\t\n\t\tthis.getVis().select('#'+d.id).call(this.applyNodeStyle.bind(this), 'highlight');\n    },\n    \n    nodeMouseOut: function(d) {\n    \tthis.getNodeSelection().call(this.applyNodeStyle.bind(this));\n    \tthis.getEdgeSelection().call(this.applyEdgeStyle.bind(this));\n    }\n});","Ext.define('Voyant.widget.ReaderGraph', {\n    extend: 'Ext.container.Container',\n    mixins: ['Voyant.util.Localization'],\n    alias: 'widget.readergraph',\n    statics: {\n        i18n: {\n        }\n    },\n    config: {\n        parentPanel: undefined,\n        corpus: undefined,\n        documentsStore: undefined,\n        documentTermsStore: undefined,\n    \tlocationMarker: undefined,\n    \tisDetailedGraph: true\n    },\n    \n    locationMarkerColor: '#157fcc',\n\n    DETAILED_GRAPH_DOC_LIMIT: 25, // upper limit on document count for showing detailed graphs\n    LOCATION_UPDATE_FREQ: 100,\n\n    SCROLL_UP: -1,\n    SCROLL_EQ: 0,\n    SCROLL_DOWN: 1,\n\n    constructor: function(config) {\n        this.callParent(arguments);\n    },\n\n    initComponent: function() {\n        Ext.apply(this, {\n            layout: {\n                type: 'hbox'\n            },\n            items: []\n        });\n\n        this.setDocumentTermsStore(Ext.create(\"Ext.data.Store\", {\n\t\t\tmodel: \"Voyant.data.model.DocumentTerm\",\n    \t\tautoLoad: false,\n    \t\tremoteSort: false,\n    \t\tproxy: {\n\t\t\t\ttype: 'ajax',\n\t\t\t\turl: Voyant.application.getTromboneUrl(),\n\t\t\t\textraParams: {\n\t\t\t\t\ttool: 'corpus.DocumentTerms',\n\t\t\t\t\twithDistributions: true,\n\t\t\t\t\t// TODO handle positions\n\t\t\t\t\twithPositions: true,\n\t\t\t\t\tbins: 25,\n\t\t\t\t\tforTool: 'reader'\n\t\t\t\t},\n\t\t\t\treader: {\n\t\t\t\t\ttype: 'json',\n\t\t            rootProperty: 'documentTerms.terms',\n\t\t            totalProperty: 'documentTerms.total'\n\t\t\t\t},\n\t\t\t\tsimpleSortMode: true\n   \t\t    },\n   \t\t    listeners: {\n                load: function(store, records, successful, opts) {\n                    store.sort('docIndex', 'ASC');\n                    var graphDatas = {};\n                    var maxValue = 0;\n                    store.each(function(r) {\n                        var graphData = [];\n                        var dist = r.get('distributions');\n                        var docId = r.get('docId');\n                        var docIndex = r.get('docIndex');\n                        var term = r.get('term');\n                        for (var i = 0; i < dist.length; i++) {\n                            var bin = i;//docIndex * dist.length + i;\n                            var val = dist[i];\n                            if (val > maxValue) maxValue = val;\n                            graphData.push([docId, docIndex, bin, val, term]);\n                        }\n                        graphDatas[docIndex] = graphData;\n                    }, this);\n                    \n                    if (this.getIsDetailedGraph()) {\n                        var graphs = this.query('cartesian');\n                        for (var i = 0; i < graphs.length; i++) {\n                            var graph = graphs[i];\n                            var data = graphDatas[i];\n                            if (data !== undefined) {\n                                graph.getAxes()[0].setMaximum(maxValue);\n                                graph.getStore().loadData(data);\n                            } else {\n                                graph.getStore().removeAll();\n                            }\n                        }\n                    }\n   \t\t    \t},\n   \t\t    \tscope: this\n   \t\t    }\n    \t}));\n\n        this.callParent(arguments);\n\n        var parentPanel = this.findParentBy(function(clz) {\n    \t\treturn clz.mixins[\"Voyant.panel.Panel\"];\n        });\n    \tif (parentPanel != null) {\n            this.setParentPanel(parentPanel);\n    \t\tif (parentPanel.getCorpus && parentPanel.getCorpus()) {\n    \t\t\tthis.on(\"afterrender\", function(c) {\n    \t\t\t\tthis.setCorpus(parentPanel.getCorpus());\t\n    \t\t\t}, this);\n    \t\t} else {\n                parentPanel.on(\"loadedCorpus\", function(src, corpus) {\n                    this.setCorpus(corpus);\n                }, this);\n                this.hasCorpusLoadedListener = true;\n    \t\t}\n        }\n        \n        this.on('boxready', function() {\n            if (this.getLocationMarker() == undefined) {\n                this.setLocationMarker(Ext.DomHelper.append(this.getEl(), {tag: 'div', style: 'background-color: '+this.locationMarkerColor+'; height: 100%; width: 2px; position: absolute; top: 0; left: 0;'}));\n            }\n        });        \n    },\n\n    updateCorpus: function(corpus) {\n        var docs = corpus.getDocuments();\n        this.setDocumentsStore(docs);\n        this.getDocumentTermsStore().getProxy().setExtraParam('corpus', corpus.getId());\n        this.setIsDetailedGraph(docs.getTotalCount() < this.DETAILED_GRAPH_DOC_LIMIT);\n\n        this.generateChart(corpus, this);\n    },\n\n    loadQueryTerms: function(queryTerms) {\n    \tif (queryTerms && queryTerms.length > 0) {\n\t\t\tthis.getDocumentTermsStore().load({\n\t\t\t\tparams: {\n\t\t\t\t\tquery: queryTerms\n    \t\t\t}\n\t\t\t});\n\t\t}\n    },\n\n    generateChart: function(corpus, container) {\n        function getColor(index, alpha) {\n            var c = this.getParentPanel().getApplication().getColor(index);\n            return 'rgba('+c[0]+','+c[1]+','+c[2]+','+alpha+')';\n        }\n        \n        function map(value, istart, istop, ostart, ostop) {\n            return ostart + (ostop - ostart) * ((value - istart) / (istop - istart));\n        }\n        \n        function addChart(docInfo) {\n            var index = docInfo.index;\n            var fraction = docInfo.fraction;\n            var height = docInfo.relativeHeight;\n            var bColor = getColor.call(this, index, 0.3);\n            var sColor = getColor.call(this, index, 1.0);\n            var chart = container.add({\n                xtype: 'cartesian',\n                plugins: {\n                    ptype: 'chartitemevents'\n                },\n                flex: fraction,\n                height: '100%',\n                insetPadding: 0,\n                background: {\n                    type: 'linear',\n                    degrees: 90,\n                    stops: [{\n                        offset: 0,\n                        color: bColor\n                    },{\n                        offset: height,\n                        color: bColor\n                    },{\n                        offset: height,\n                        color: 'white'\n                    },{\n                        offset: 1,\n                        color: 'white'\n                    }]\n                },\n                axes: [{\n                    type: 'numeric',\n                    position: 'left',\n                    fields: 'distribution',\n                    hidden: true\n                },{\n                    type: 'category',\n                    position: 'bottom',\n                    fields: 'bin',\n                    hidden: true\n                }],\n                series: [{\n                    type: 'line',\n                    xField: 'bin',\n                    yField: 'distribution',\n                    style: {\n                        lineWidth: 2,\n                        strokeStyle: sColor\n                    },\n                    tooltip: {\n                        corpus: corpus,\n                        trackMouse: true,\n                        style: 'background: #fff',\n                        showDelay: 0,\n                        dismissDelay: 500,\n                        hideDelay: 5,\n                        renderer: function(toolTip, record, ctx) {\n                            toolTip.setHtml(corpus.getDocument(record.get('docIndex')).getTitle()+\"<br>\"+record.get('term') + ': ' + record.get('distribution'));\n                        }\n                    }\n                }],\n                store: Ext.create('Ext.data.ArrayStore', {\n                    fields: ['docId', 'docIndex', 'bin', 'distribution', 'term'],\n                    data: []\n                }),\n                listeners: {\n                    itemclick: function(chart, item, event) {\n                        // var data = item.record.data;\n                        // var doc = this.getDocumentsStore().getAt(data.docIndex);\n                        // this.getParentPanel().getApplication().dispatchEvent('documentsClicked', this, [doc]);\n                    },\n                    scope: this\n                }\n            });\n            \n            chart.body.on('click', function(event, target) {\n                var el = Ext.get(target);\n                \n                var x = event.getX();\n                var box = el.getBox();\n                var fraction = (x - box.x) / box.width;\n\n                var chartContainer = el.parent('.x-panel');\n                var containerParent = chartContainer.parent();\n                var children = Ext.toArray(containerParent.dom.children);\n                var docIndex = children.indexOf(chartContainer.dom);\n\n                this.fireEvent('documentRelativePositionSelected', this, {docIndex: docIndex, fraction: fraction});\n            }, this);\n        }\n        \n        container.removeAll();\n        \n        var docs = corpus.getDocuments();\n        var tokensTotal = corpus.getWordTokensCount();\n        var docInfos = [];\n        var docMinSize = Number.MAX_VALUE;\n        var docMaxSize = -1;\n//      for (var i = 0; i < docs.getTotalCount(); i++) {\n        for (var i = 0; i < docs.getCount(); i++) {\n            var d = docs.getAt(i);\n            var docIndex = d.get('index');\n            var count = d.get('tokensCount-lexical');\n            if (count < docMinSize) docMinSize = count;\n            if (count > docMaxSize) docMaxSize = count;\n            var fraction = count / tokensTotal;\n            docInfos.push({\n                index: docIndex,\n                count: count,\n                fraction: fraction\n            });\n        }\n        \n        if (this.getIsDetailedGraph()) {\n            for (var i = 0; i < docInfos.length; i++) {\n                var d = docInfos[i];\n                d.relativeHeight = d.count==docMaxSize ? 1 : map(d.count, docMinSize, docMaxSize, 0.25, 1);\n                addChart.call(this, d);\n            }\n        } else {\n            var chart = container.add({\n                xtype: 'cartesian',\n                plugins: {\n                    ptype: 'chartitemevents'\n                },\n                flex: 1,\n                height: '100%',\n                insetPadding: 0,\n                axes: [{\n                    type: 'numeric',\n                    position: 'left',\n                    fields: 'count',\n                    hidden: true\n                },{\n                    type: 'category',\n                    position: 'bottom',\n                    fields: 'index',\n                    hidden: true\n                }],\n                series: [{\n                    type: 'bar',\n                    xField: 'index',\n                    yField: 'count',\n                    style: {\n                        minGapWidth: 0,\n                        minBarWidth: 1,\n                        lineWidth: 0,\n                        strokeStyle: 'none'\n                    },\n                    renderer: function (sprite, config, rendererData, index) {\n                        return {fillStyle: getColor.call(this, index, 0.3)};\n                    }.bind(this)\n                }],\n                store: Ext.create('Ext.data.JsonStore', {\n                    fields: [{name: 'index', type: 'int'}, {name: 'count', type: 'int'}, {name: 'fraction', type: 'float'}],\n                    data: docInfos\n                }),\n                listeners: {\n                    itemclick: function(chart, item, event) {\n                        var el = Ext.get(event.getTarget());\n                        var x = event.getX();\n                        var box = el.getBox();\n                        var docWidth = box.width / this.getCorpus().getDocuments().getCount();\n                        var docX = (x - box.x) % docWidth;\n                        var fraction = docX / docWidth;\n\n            \t\t\tvar data = item.record.data;\n                        var doc = this.getDocumentsStore().getAt(data.index);\n                        var docIndex = doc.getIndex();\n\n                        this.fireEvent('documentRelativePositionSelected', this, {docIndex: docIndex, fraction: fraction});\n                    },\n                    scope: this\n                }\n            });\n        }\n\n    },\n\n    moveLocationMarker: function(docIndex, fraction, scrollDir) {\n        var locMarkEl = Ext.get(this.getLocationMarker());\n        var locX = locMarkEl.getX();\n        if (this.getIsDetailedGraph()) {\n            var graph = this.query('cartesian')[docIndex];\n            if (graph) {\n                locX = graph.getX() + graph.getWidth()*fraction;\n            }\n        } else {\n            var graph = this.down('cartesian');\n            var docWidth = graph.getWidth() / this.getCorpus().getDocuments().getCount();\n            locX = graph.getX() + docWidth*docIndex + docWidth*fraction;\n        }\n        if (scrollDir != null) {\n            var currX = locMarkEl.getX();\n            // prevent location being set in opposite direction of scroll\n            if ((scrollDir == this.SCROLL_DOWN && currX > locX) || (scrollDir == this.SCROLL_UP && currX < locX)) locX = currX;\n        }\n        locMarkEl.setX(locX);\n    }\n});","Ext.define('Voyant.panel.Panel', {\n\tmixins: ['Voyant.util.Localization','Voyant.util.Api','Voyant.util.Toolable','Voyant.util.DetailedError'],\n\trequires: ['Voyant.widget.QuerySearchField','Voyant.widget.StopListOption','Voyant.widget.CategoriesOption','Voyant.widget.TotalPropertyStatus'],\n\talias: 'widget.voyantpanel',\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tconfig: {\n\t\t\tcorpusValidated: false\n\t\t},\n\t\tapi: {\n\t\t\tcorpus: undefined,\n\t\t\tinput: undefined,\n\t\t\tinputFormat: undefined,\n\t\t\tsubtitle: undefined\n\t\t}\n\t},\n\tconfig: {\n\t\tcorpus: undefined\n\t},\n\tconstructor: function(config) {\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n\t\tthis.mixins['Voyant.util.Toolable'].constructor.apply(this, arguments);\n\t\tif (!this.glyph) {\n\t\t\tthis.glyph = Ext.ClassManager.getClass(this).glyph\n\t\t}\n\t\t\n\t\tthis.on(\"afterrender\", function() {\n\t\t\tif (this.getXType()!='facet' && this.getApiParam('subtitle') && this.getTitle()) {\n\t\t\t\tthis.setTitle(this.getTitle()+\" <i style='font-size: smaller;'>\"+this.getApiParam('subtitle')+\"</i>\")\n\t\t\t}\n\t\t\tif (this.isXType(\"grid\")) {\n\t\t\t\tthis.getSelectionModel().on(\"selectionchange\", function(store, records) {\n//\t\t\t\t\tconsole.warn(records, this.selectedRecordsToRemember)\n//\t\t\t\t\tthis.selectedRecordsToRemember = records;\n\t\t\t\t}, this);\n\t\t\t\tthis.getStore().on(\"beforeload\", function() {\n\t\t\t\t\tthis.selectedRecordsToRemember = this.getSelection();\n\t\t\t\t}, this)\n\t\t\t\tthis.getStore().on(\"load\", function(store, records) {\n\t\t\t\t\tif (Ext.Array.from(this.selectedRecordsToRemember).length>0) {\n\t\t\t\t\t\t// combine contents of store with contents of remembered items, filtering out duplicates\n\t\t\t\t\t\tvar seen = {}\n\t\t\t\t\t\tvar mergedRecords = Ext.Array.merge(this.selectedRecordsToRemember, records).filter(function(item) {\n\t\t\t\t\t\t\tif (!(item.getId() in seen)) {\n\t\t\t\t\t\t\t\tseen[item.getId()]=true;\n\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (store.isBufferedStore) {\n\t\t\t\t\t\t\tif (store.currentPage==1) {\n\t\t\t\t\t\t\t\tstore.data.addAll(mergedRecords);\n\t\t\t\t\t\t\t\tstore.totalCount = mergedRecords.length;\n\t\t\t\t\t\t\t\tstore.fireEvent('refresh', store);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstore.loadRecords(mergedRecords);\n\t\t\t\t\t\t\tthis.getSelectionModel().select(this.selectedRecordsToRemember);\n\t\t\t\t\t\t\tstore.fireEvent('refresh', store);\n\t\t\t\t\t\t\tthis.selectedRecordsToRemember = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t}, this);\n\t\t\n\t\tthis.on({\n\t\t\tloadedCorpus: {\n\t\t\t\tfn: function(src, corpus) {\n\t\t    \t\t// make sure API is updated if we had a corpus and it's changed, this should be registered first, so hopefully be fired before tools receive notification\n\t\t    \t\tthis.setApiParam(\"corpus\", corpus.getAliasOrId());\n\t\t\t\t\tthis.setCorpus(corpus);\n\t\t\t\t},\n\t\t\t\tpriority: 999, // very high priority\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n\t},\n\t\n\tgetApplication: function() {\n\t\treturn Voyant.application;\n\t},\n\t\n\tgetBaseUrl: function() {\n\t\treturn this.getApplication().getBaseUrl();\n\t},\n\t\n\topenUrl: function(url) {\n\t\tthis.getApplication().openUrl.apply(this, arguments);\n\t},\n\t\n\tgetTromboneUrl: function() {\n\t\treturn this.getApplication().getTromboneUrl();\n\t},\n\t\n\tdispatchEvent: function() {\n\t\tvar application = this.getApplication();\n\t\tapplication.dispatchEvent.apply(application, arguments);\n\t},\n\t\n\tshowError: function(config, response) {\n\t\tif (Ext.isString(config)) {\n\t\t\tconfig = {\n\t\t\t\tmessage: config\n\t\t\t}\n\t\t}\n\t\tExt.applyIf(config, {\n\t\t\ttitle: this.localize(\"error\")+\" (\"+this.localize(\"title\")+\")\"\n\t\t})\n\t\tthis.getApplication().showError(config, response)\n\t},\n\t\n\tshowResponseError: function(config, response) {\n\t\tthis.getApplication().showResponseError(config, response)\n\t},\n\t\n\ttoastError: function(config) {\n\t\tif (Ext.isString(config)) {\n\t\t\tconfig = {html: config}\n\t\t}\n\t\tExt.applyIf(config, {\n\t\t\tglyph: 'xf071@FontAwesome',\n\t\t\ttitle: this.localize(\"error\")\n\t\t})\n\t\tthis.toast(config);\n\t},\n\t\n\ttoastInfo: function(config) {\n\t\tif (Ext.isString(config)) {\n\t\t\tconfig = {html: config}\n\t\t}\n\t\tExt.applyIf(config, {\n\t\t\tglyph: 'xf05a@FontAwesome',\n\t\t\ttitle: this.localize(\"info\")\n\t\t})\n\t\tthis.toast(config);\n\t},\n\t\n\ttoast: function(config) {\n\t\tif (Ext.isString(config)) {\n\t\t\tconfig = {html: config}\n\t\t}\n\t\tExt.applyIf(config, {\n\t\t\t slideInDuration: 500,\n\t\t\t shadow: true,\n\t\t\t align: 'b',\n\t\t\t anchor: this.getTargetEl()\t\t\t\n\t\t})\n\t\tExt.toast(config);\n\t},\n\n\t/**\n\t * Checks to see if we have access to this corpus, first by checking the application's\n\t * access setting for the corpus, then by checking the corpus setting.\n\t * \n\t * Assumes we're only calling this from a non-consumptive tool.\n\t */\n\thasCorpusAccess: function(corpus) {\n\t\tvar app = this.getApplication();\n\t\tif (app) {\n\t\t\tvar corpusAccess = app.getCorpusAccess();\n\t\t\tif (corpusAccess=='ADMIN' || corpusAccess=='ACCESS') {return true;}\n\t\t}\n\t\tif (!corpus) {\n\t\t\tif (this.getCorpus) {\n\t\t\t\tcorpus = this.getCorpus();\n\t\t\t}\n\t\t\tif (!corpus && app.getCorpus) {\n\t\t\t\tcorpus = app.getCorpus();\n\t\t\t}\n\t\t}\n\t\tif (corpus) {\n\t\t\treturn corpus.getNoPasswordAccess()!='NONCONSUMPTIVE' && corpus.getNoPasswordAccess()!='NONE';\n\t\t}\n\t\treturn false; // don't know if we ever get here\n\t}\n\t\n});","\nExt.define('Voyant.panel.VoyantTabPanel', {\n\textend: 'Ext.tab.Panel',\n\talias: 'widget.voyanttabpanel',\n\tmixins: ['Voyant.panel.Panel'],\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\t},\n\tinitComponent: function() {\n    \tthis.callParent(arguments);\n\t},\n\tlisteners: {\n\t\ttabchange: function(panel, newTab) {\n\t\t\tthis.tools = [];\n\t\t\tthis.getHeader().tools = [];\n\t\t\tthis.query(\"toolmenu\").forEach(function(toolMenu) {\n\t\t\t\ttoolMenu.destroy();\n\t\t\t})\n\t\t\tthis.addTool(newTab.tools)\n\t\t\tthis.getApplication().dispatchEvent(\"panelChange\", this)\n\t\t},\n\t\tafterrender: function(panel) {\n\t\t\tthis.fireEvent(\"tabchange\", this, this.getActiveTab())\n\t\t}\n\t},\n\tshowOptionsClick: function(panel) {\n\t\tvar tab = panel.getActiveTab();\n\t\tif (tab.showOptionsClick) {\n\t\t\ttab.showOptionsClick.apply(tab, arguments)\n\t\t}\n\t}\n});","Ext.define('Voyant.widget.Facet', {\n\textend: 'Ext.grid.Panel',\n    mixins: ['Voyant.panel.Panel'],\n    alias: 'widget.facet',\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tapi: {\n\t\t\tstopList: 'auto',\n\t\t\tquery: undefined\n\t\t}\n\t},\n\t\n\tconstructor: function(config) {\n        this.callParent(arguments);\n        Ext.applyIf(config || {}, {\n        \tincludeTools: [], // don't show tools in header\n        \trowLines: false,\n        \tcolumnLines: false, // ignored?\n        \tsubtitle: undefined\n        });\n        this.mixins['Voyant.panel.Panel'].constructor.apply(this, [config]);\n\t},\n\t\n\trowLines: false,\n\t\n    initComponent: function(){\n\n    \tvar me = this;\n    \tif (!this.store) {\n    \t\tthis.store = new Ext.create(\"Voyant.data.store.CorpusFacets\", {\n    \t\t\tproxy: {\n    \t\t\t\textraParams: {\n    \t\t\t\t\tfacet: this.facet\n    \t\t\t\t}\n    \t\t\t},\n    \t\t\tparentPanel: this\n    \t\t})\n    \t\tthis.store.getProxy().on(\"exception\", function(proxy, request, operation, eOpts) {\n\t\t    \tme.showResponseError(\"Unable to fetch facet: \"+me.facet, response);\n    \t\t})\n    \t}\n    \t\n        Ext.applyIf(this, {\n        \temptyText: this.localize(\"emptyText\"),\n        \thideHeaders: true,\n        \tselType: 'checkboxmodel',\n        \tcolumns: [\n        \t          { renderer: function(value, metaData, record) {return \"(\"+record.getInDocumentsCount()+\") \"+record.getLabel()}, flex: 1 }\n        \t]\n        });\n        this.callParent();\n        \n        if (this.corpus) {\n        \tthis.setStoreCorpus(this.corpus);\n        }\n        \n        this.on('loadedCorpus', function(src, corpus) {\n        \tthis.setStoreCorpus(corpus);\n        }, this);\n        \n        this.on(\"query\", function(src, query) {\n        \tthis.setApiParam(\"query\", query);\n        \t// not getting set from beforeload, so set params here\n        \tthis.store.load({\n        \t\tparams: this.getApiParams()\n        \t})\n        })\n    },\n    \n    setStoreCorpus: function(corpus) {\n//    \tthis.callParent(arguments)\n    \tif (this.getStore()) {\n        \tthis.getStore().setCorpus(corpus);\n        \tthis.getStore().load();\n    \t}\n    }\n});\n","// assuming Bubblelines library is loaded by containing page (via voyant.jsp)\nExt.define('Voyant.panel.Bubbles', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.bubbles',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\t/**\n    \t\t * @property stopList The stop list to use to filter results.\n    \t\t * Choose from a pre-defined list, or enter a comma separated list of words, or enter an URL to a list of stop words in plain text (one per line).\n    \t\t * @type String\n    \t\t * @private\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\t\n    \t\tdocIndex: 0,\n    \t\t\n    \t\tlimit: 100,\n    \t\t\n    \t\taudio: false,\n    \t\t\n    \t\tspeed: 30\n    \t\t\t\n    \t\t\t\n    \t},\n    \tglyph: 'xf06e@FontAwesome'\n\t},\n\tconfig: {\n    \toptions: {xtype: 'stoplistoption'},\n    \taudio: false\n\t},\n\t\n\t\n    constructor: function() {\n\n    \tthis.mixins['Voyant.util.Localization'].constructor.apply(this, arguments);\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n\t\t\thtml: '<canvas style=\"width: 100%; height: 100%\"></canvas>',\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n\t            \txtype: 'documentselectorbutton',\n\t            \tsingleSelect: true\n\t            },{\n\t\t\t\t\txtype: 'slider',\n\t\t\t\t\tfieldLabel: this.localize('speed'),\n\t\t\t\t\tlabelAlign: 'right',\n\t\t\t\t\tlabelWidth: 40,\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tincrement: 1,\n\t\t\t\t\tminValue: 1,\n\t\t\t\t\tmaxValue: 60,\n\t\t\t\t\tvalue: 30,\n\t\t\t\t\tlisteners: {\n\t                \trender: function(cmp) {\n\t                \t\tcmp.setValue(parseInt(this.getApiParam(\"speed\")));\n\t                \t\tif (this.bubbles) {this.bubbles.frameRate(cmp.getValue())}\n\t                \t\tthis.setAudio(cmp.getValue());\n\t    \t\t        \tExt.tip.QuickTipManager.register({\n\t    \t\t        \t\ttarget: cmp.getEl(),\n\t   \t\t                 \ttext: this.localize('speedTip')\n\t    \t\t        \t});\n\t                \t\t\n\t                \t},\n\t                \tbeforedestroy: function(cmp) {\n\t                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n\t                \t},\n\t                    changecomplete: function(cmp, val) {\n\t                    \tthis.setApiParam('speed', val);\n\t                \t\tif (this.bubbles) {this.bubbles.frameRate(val)}\n\t                    },\n\t                    scope: this\n\t\t\t\t\t}\n\t\t\t\t},{\n\t                xtype: 'checkbox',\n\t                boxLabel: this.localize('sound'),\n\t                listeners: {\n\t                \trender: function(cmp) {\n\t                \t\tcmp.setValue(this.getApiParam(\"audio\")===true ||  this.getApiParam(\"audio\")==\"true\");\n\t                \t\tthis.setAudio(cmp.getValue());\n\t    \t\t        \tExt.tip.QuickTipManager.register({\n\t    \t\t        \t\ttarget: cmp.getEl(),\n\t   \t\t                 \ttext: this.localize('soundTip')\n\t    \t\t        \t});\n\t                \t\t\n\t                \t},\n\t                \tbeforedestroy: function(cmp) {\n\t                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n\t                \t},\n\t                    change: function(cmp, val) {\n\t                    \tthis.setApiParam('audio', val);\n\t                    \tthis.setAudio(val);\n\t                    },\n\t                    scope: this\n\t                }\n\t            },{xtype: 'tbfill'}, {\n\t    \t\t\txtype: 'tbtext',\n\t    \t\t\thtml: this.localize('adaptation') //https://www.m-i-b.com.ar/letters/en/\n\t    \t\t}]\n    \t\t}]\n    \t});\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tvar canvas = this.getTargetEl().dom.querySelector(\"canvas\");\n    \t\tvar me = this;\n    \t\tExt.Ajax.request({\n    \t\t\turl: this.getBaseUrl()+'resources/voyant/current/bubbles/bubbles.pjs'\n    \t\t}).then(function(data) {\n    \t\t\tvar canvas = me.getTargetEl().dom.querySelector(\"canvas\");\n    \t\t\tme.bubbles = new Processing(canvas, data.responseText);\n    \t\t\tme.bubbles.size(me.getTargetEl().getWidth(),me.getTargetEl().getHeight());\n    \t\t\tme.bubbles.frameRate(me.getApiParam('speed'));\n    \t\t\tme.bubbles.bindJavascript(me);\n    \t\t\tme.bubbles.noLoop();\n    \t\t\tme.loadDocument();\n    \t\t})\n    \t}, this);\n    \t\n    \tthis.on(\"resize\", function() {\n    \t\tif (this.bubbles) {\n    \t\t\tthis.bubbles.size(this.body.getWidth(),this.body.getHeight());\n    \t\t}\n    \t});\n    \t\n    \tthis.on(\"documentselected\", function(src, doc) {\n    \t\tthis.setApiParam('docIndex', this.getCorpus().getDocument(doc).getIndex());\n    \t\tthis.loadDocument();\n    \t})\n    },\n    \n    setAudio: function(val) {\n    \tif (this.gainNode) {this.gainNode.gain.value=val ? 1 : 0;}\n    \tthis.callParent(arguments)\n    },\n\n    handleCurrentTerm: function(term) {\n    \tif (this.oscillator) {this.oscillator.frequency.value = this.terms[term] ? parseInt((this.terms[term]-this.minFreq) * 2000 / (this.maxFreq-this.minFreq)) : 0;}\n    },\n    \n    handleDocFinished: function() {\n    \tif (this.gainNode) {this.gainNode.gain.value = 0;}\n    \tvar index = parseInt(this.getApiParam('docIndex'));\n    \tif (index+1<this.getCorpus().getDocumentsCount()) {\n    \t\tthis.setApiParam('docIndex', index+1);\n    \t\tthis.loadDocument();\n    \t}\n    },\n    \n    loadDocument: function() {\n    \tvar me = this, doc = this.getCorpus().getDocument(parseInt(this.getApiParam('docIndex')));\n    \t// if we're not in a tab panel, set the document title as part of the header\n    \tif (!this.up(\"tabpanel\")) {\n        \tthis.setTitle(this.localize('title') + \" <span class='subtitle'>\"+doc.getFullLabel()+\"</span>\");\n    \t}\n\n    \tdoc.loadDocumentTerms(Ext.apply(this.getApiParams([\"stopList\"]), {\n    \t\tlimit: 100\n    \t})).then(function(documentTerms) {\n    \t\tme.terms = {};\n    \t\tdocumentTerms.each(function(documentTerm) {\n    \t\t\tme.terms[documentTerm.getTerm()] = documentTerm.getRawFreq();\n    \t\t})\n    \t\tvar values = Object.keys(me.terms).map(function(k){return me.terms[k]});\n    \t\tme.minFreq = Ext.Array.min(values);\n    \t\tme.maxFreq = Ext.Array.max(values);\n    \t\tme.getCorpus().loadTokens({whitelist: Object.keys(me.terms), noOthers: true, limit: 0, docIndex: me.getApiParam('docIndex')}).then(function(tokens) {\n    \t\t\tvar words = [];\n        \t\ttokens.each(function(token) {\n    \t\t\t\twords.push(token.getTerm().toLowerCase());\n        \t\t})\n        \t\tme.bubbles.setLines([doc.getTitle(),words.join(\" \")]);\n        \t\tme.bubbles.loop();\n        \t\tme.oscillator.frequency.value = 150;\n        \t\tme.gainNode.gain.value = me.getAudio() ? 1 : 0;\n    \t\t})\n    \t})\n    },\n    \n    initComponent: function() {\n    \t// make sure to load script\n\t\tExt.Loader.loadScript(this.getBaseUrl()+\"resources/processingjs/processing.min.js\");\n\t\t\n\t\tvar audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\n\t\tthis.oscillator = audioCtx.createOscillator();\n\t\tthis.gainNode = audioCtx.createGain();\n\t\tthis.oscillator.connect(this.gainNode);\n\t\tthis.gainNode.connect(audioCtx.destination);\n\t\tthis.oscillator.frequency.value = 0;\n\t\tthis.oscillator.start();\n\t\tthis.gainNode.gain.value = 0;\n\n    \tthis.callParent(arguments);\n    }\n});","// assuming Bubblelines library is loaded by containing page (via voyant.jsp)\r\nExt.define('Voyant.panel.Bubblelines', {\r\n\textend: 'Ext.panel.Panel',\r\n\tmixins: ['Voyant.panel.Panel'],\r\n\talias: 'widget.bubblelines',\r\n    statics: {\r\n    \ti18n: {\r\n    \t},\r\n    \tapi: {\r\n    \t\t/**\r\n    \t\t * @property bins How many \"bins\" to separate a document into.\r\n    \t\t * @type Integer\r\n    \t\t * @private\r\n    \t\t */\r\n    \t\tbins: 50,\r\n        \t/**\r\n        \t * @property query A string to search for in a document.\r\n        \t * @type String\r\n    \t\t * @private\r\n        \t */\r\n    \t\tquery: null,\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * @property stopList The stop list to use to filter results.\r\n    \t\t * Choose from a pre-defined list, or enter a comma separated list of words, or enter an URL to a list of stop words in plain text (one per line).\r\n    \t\t * @type String\r\n    \t\t * @private\r\n    \t\t */\r\n    \t\tstopList: 'auto',\r\n    \t\t/**\r\n    \t\t * @property docId The document ID to restrict results to.\r\n    \t\t * @type String\r\n    \t\t * @private\r\n    \t\t */\r\n    \t\tdocId: undefined,\r\n    \t\t/**\r\n    \t\t * @property docIndex The document index to restrict results to.\r\n    \t\t * @type Integer\r\n    \t\t * @private\r\n    \t\t */\r\n    \t\tdocIndex: undefined,\r\n    \t\t/**\r\n    \t\t * @property maxDocs The maximum number of documents to show.\r\n    \t\t * @type Integer\r\n    \t\t * @private\r\n    \t\t */\r\n    \t\tmaxDocs: 50\r\n    \t},\r\n    \tglyph: 'xf06e@FontAwesome'\r\n\t},\r\n\tconfig: {\r\n\t\tbubblelines: undefined,\r\n\t\ttermStore: undefined,\r\n\t\tdocTermStore: undefined,\r\n\t\tselectedDocs: undefined,\r\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'},{xtype: 'colorpaletteoption'}]\r\n\t},\r\n\t\r\n\ttermTpl: new Ext.XTemplate(\r\n\t\t'<tpl for=\".\">',\r\n\t\t\t'<div class=\"term\" style=\"color: rgb({color});float: left;padding: 3px;margin: 2px;\">{term}</div>',\r\n\t\t'</tpl>'\r\n\t),\r\n    \r\n    constructor: function() {\r\n        this.callParent(arguments);\r\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\r\n    \t\r\n    \tthis.on('loadedCorpus', function(src, corpus) {\r\n    \t\tthis.setDocTermStore(corpus.getDocumentTerms({\r\n    \t\t\tproxy: {\r\n\t    \t\t\textraParams: {\r\n\t\t\t\t\t\twithDistributions: 'raw',\r\n\t\t\t\t\t\twithPositions: true\r\n\t\t\t\t\t}\r\n    \t\t\t},\r\n\t\t\t\tlisteners: {\r\n\t   \t\t    \t load: function(store, records, successful, options) {\r\n\t   \t\t    \t\trecords.forEach(function(record) {\r\n\t   \t\t    \t\t\tvar termData = this.processTerms(record);\r\n\t   \t\t    \t\t\tvar docId = record.get('docId');\r\n\t   \t\t    \t\t\tvar term = record.get('term');\r\n\t   \t\t    \t\t\tvar termObj = {};\r\n\t   \t\t    \t\t\ttermObj[term] = termData;\r\n\t   \t\t    \t\t\tthis.getBubblelines().addTermsToDoc(termObj, docId);\r\n\t   \t\t    \t\t}, this);\r\n\t   \t\t    \t\tthis.getBubblelines().doBubblelinesLayout();\r\n\t   \t\t\t\t},\r\n\t   \t\t\t\tscope: this\r\n\t   \t\t     }\r\n    \t\t}));\r\n    \t\t\r\n    \t\tif (this.isVisible() && this.getBubblelines()) {\r\n    \t\t\tthis.initLoad();\r\n    \t\t}\r\n    \t}, this);\r\n    \t\r\n        this.on('activate', function() { // load after tab activate (if we're in a tab panel)\r\n        \tif (this.getCorpus()) {\r\n\t\t\t\tExt.Function.defer(this.initLoad, 100, this);\r\n\t\t\t}\r\n    \t}, this);\r\n        \r\n        this.on('query', function(src, query) {\r\n    \t\tif (query !== undefined && query != '') {\r\n    \t\t\tthis.getDocTermsFromQuery(query);\r\n    \t\t}\r\n    \t}, this);\r\n        \r\n        this.on('documentsSelected', function(src, docIds) {\r\n        \tthis.setApiParam('docId', docIds);\r\n        \tthis.getBubblelines().cache.each(function(d) {\r\n        \t\td.hidden = docIds.indexOf(d.id) === -1;\r\n        \t});\r\n        \tthis.getBubblelines().drawGraph();\r\n        }, this);\r\n    \t\r\n    \tthis.on('termsClicked', function(src, terms) {\r\n    \t\tif (src !== this) {\r\n\t    \t\tvar queryTerms = [];\r\n\t    \t\tterms.forEach(function(term) {\r\n        \t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\r\n        \t\t\telse if (term.term) {queryTerms.push(term.term);}\r\n        \t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\r\n        \t\t});\r\n\t    \t\tthis.getDocTermsFromQuery(queryTerms);\r\n    \t\t}\r\n\t\t}, this);\r\n    \t\r\n    \tthis.on('documentTermsClicked', function(src, terms) {\r\n    \t\tvar queryTerms = [];\r\n    \t\tterms.forEach(function(term) {\r\n    \t\t\tif (term.getTerm()) {queryTerms.push(term.getTerm());}\r\n    \t\t});\r\n    \t\tthis.getDocTermsFromQuery(queryTerms);\r\n    \t}, this);\r\n    \t\r\n    \tthis.down('#granularity').setValue(parseInt(this.getApiParam('bins')));\r\n    },\r\n    \r\n    initComponent: function() {\r\n    \tthis.setTermStore(Ext.create('Ext.data.ArrayStore', {\r\n            fields: ['term', 'color'],\r\n            listeners: {\r\n            \tload: function(store, records, successful, options) {\r\n            \t\tvar termsView = this.down('#termsView');\r\n            \t\tfor (var i = 0; i < records.length; i++) {\r\n            \t\t\tvar r = records[i];\r\n            \t\t\ttermsView.select(r, true);\r\n            \t\t}\r\n            \t},\r\n            \tscope: this\r\n            }\r\n        }));\r\n    \t\r\n    \tExt.apply(this, {\r\n    \t\ttitle: this.localize('title'),\r\n    \t\tdockedItems: [{\r\n                dock: 'bottom',\r\n                xtype: 'toolbar',\r\n                overflowHandler: 'scroller',\r\n                items: [{\r\n                \txtype: 'querysearchfield'\r\n                },{\r\n\t            \ttext: this.localize('clearTerms'),\r\n\t\t\t\t\tglyph: 'xf014@FontAwesome',\r\n\t            \thandler: function() {\r\n\t            \t\tthis.down('#termsView').getSelectionModel().deselectAll(true);\r\n\t            \t\tthis.getTermStore().removeAll();\r\n\t            \t\tthis.setApiParams({query: null});\r\n\t            \t\tthis.getBubblelines().removeAllTerms();\r\n\t            \t\tthis.getBubblelines().drawGraph();\r\n\t            \t},\r\n\t            \tscope: this                \t\t\t\r\n        \t\t},{\r\n\t            \txtype: 'documentselectorbutton'\r\n        \t\t},{\r\n\t            \txtype: 'slider',\r\n\t            \titemId: 'granularity',\r\n\t            \tfieldLabel: this.localize('granularity'),\r\n\t            \tlabelAlign: 'right',\r\n\t            \tlabelWidth: 70,\r\n\t            \twidth: 150,\r\n\t            \tincrement: 10,\r\n\t            \tminValue: 10,\r\n\t            \tmaxValue: 300,\r\n\t            \tlisteners: {\r\n\t            \t\tchangecomplete: function(slider, newvalue) {\r\n\t            \t\t\tthis.setApiParams({bins: newvalue});\r\n\t            \t\t\tthis.getBubblelines().bubbleSpacing = newvalue;\r\n\t            \t\t\tthis.reloadTermsData();\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n\t            },{\r\n\t            \txtype: 'checkbox',\r\n\t            \tboxLabel: this.localize('separateLines'),\r\n\t            \tboxLabelAlign: 'before',\r\n\t            \tchecked: false,\r\n\t            \thandler: function(checkbox, checked) {\r\n\t            \t\tthis.getBubblelines().SEPARATE_LINES_FOR_TERMS = checked;\r\n\t            \t\tthis.getBubblelines().lastClickedBubbles = {};\r\n\t            \t\tthis.getBubblelines().setCanvasHeight();\r\n\t    \t\t\t\tthis.getBubblelines().drawGraph();\r\n\t            \t},\r\n\t            \tscope: this\r\n\t            \t\r\n\t            }]\r\n    \t\t}],\r\n            border: false,\r\n            layout: 'fit',\r\n            items: {\r\n            \tlayout: {\r\n            \t\ttype: 'vbox',\r\n            \t\talign: 'stretch'\r\n            \t},\r\n            \tdefaults: {border: false},\r\n\t            items: [{\r\n\t            \theight: 30,\r\n\t            \titemId: 'termsView',\r\n\t            \txtype: 'dataview',\r\n\t            \tstore: this.getTermStore(),\r\n\t            \ttpl: this.termTpl,\r\n\t            \titemSelector: 'div.term',\r\n\t            \toverItemCls: 'over',\r\n\t            \tselectedItemCls: 'selected',\r\n\t            \tselectionModel: {\r\n\t            \t\tmode: 'SIMPLE'\r\n\t            \t},\r\n//\t            \tcls: 'selected', // default selected\r\n\t            \tfocusCls: '',\r\n\t            \tlisteners: {\r\n\t            \t\tbeforeitemclick: function(dv, record, item, index, event, opts) {\r\n\t            \t\t\tevent.preventDefault();\r\n\t            \t\t\tevent.stopPropagation();\r\n\t            \t\t\tdv.fireEvent('itemcontextmenu', dv, record, item, index, event, opts);\r\n\t            \t\t\treturn false;\r\n\t            \t\t},\r\n\t            \t\tbeforecontainerclick: function() {\r\n\t            \t\t\t// cancel deselect all\r\n\t            \t\t\tevent.preventDefault();\r\n\t            \t\t\tevent.stopPropagation();\r\n\t            \t\t\treturn false;\r\n\t            \t\t},\r\n\t            \t\tselectionchange: function(selModel, selections) {\r\n\t            \t\t\tvar dv = this.down('#termsView');\r\n\t            \t\t\tvar terms = [];\r\n\t            \t\t\t\r\n\t            \t\t\tdv.getStore().each(function(r) {\r\n\t            \t\t\t\tif (selections.indexOf(r) !== -1) {\r\n\t            \t\t\t\t\tterms.push(r.get('term'));\r\n\t            \t\t\t\t\tExt.fly(dv.getNodeByRecord(r)).removeCls('unselected').addCls('selected');\r\n\t            \t\t\t\t} else {\r\n\t            \t\t\t\t\tExt.fly(dv.getNodeByRecord(r)).removeCls('selected').addCls('unselected');\r\n\t            \t\t\t\t}\r\n\t            \t\t\t});\r\n\t            \t\t\t\r\n\t            \t\t\tfor (var index in this.getBubblelines().lastClickedBubbles) {\r\n\t            \t\t\t\tvar lcTerms = this.getBubblelines().lastClickedBubbles[index];\r\n\t            \t\t\t\tfor (var term in lcTerms) {\r\n\t            \t\t\t\t\tif (terms.indexOf(term) == -1) {\r\n\t            \t\t\t\t\t\tdelete this.getBubblelines().lastClickedBubbles[index][term];\r\n\t            \t\t\t\t\t}\r\n\t            \t\t\t\t}\r\n\t            \t\t\t\t\r\n\t            \t\t\t}\r\n\t            \t\t\tthis.getBubblelines().termsFilter = terms;\r\n\t            \t\t\tthis.getBubblelines().setCanvasHeight();\r\n\t            \t\t\tthis.getBubblelines().drawGraph();\r\n\t            \t\t},\r\n\t            \t\titemcontextmenu: function(dv, record, el, index, event) {\r\n\t            \t\t\tevent.preventDefault();\r\n\t            \t\t\tevent.stopPropagation();\r\n\t            \t\t\tvar isSelected = dv.isSelected(el);\r\n\t            \t\t\tvar menu = new Ext.menu.Menu({\r\n\t            \t\t\t\tfloating: true,\r\n\t            \t\t\t\titems: [{\r\n\t            \t\t\t\t\ttext: isSelected ? this.localize('hideTerm') : this.localize('showTerm'),\r\n\t            \t\t\t\t\thandler: function() {\r\n\t            \t\t\t\t\t\tif (isSelected) {\r\n\t            \t\t\t\t\t\t\tdv.deselect(index);\r\n\t            \t\t\t\t\t\t} else {\r\n\t            \t\t\t\t\t\t\tdv.select(index, true);\r\n\t            \t\t\t\t\t\t}\r\n\t            \t\t\t\t\t},\r\n\t            \t\t\t\t\tscope: this\r\n\t            \t\t\t\t},{\r\n\t            \t\t\t\t\ttext: this.localize('removeTerm'),\r\n\t            \t\t\t\t\thandler: function() {\r\n\t            \t\t\t\t\t\tdv.deselect(index);\r\n\t            \t\t\t\t\t\tvar term = this.getTermStore().getAt(index).get('term');\r\n\t            \t\t\t\t\t\tthis.getTermStore().removeAt(index);\r\n\t            \t\t\t\t\t\tdv.refresh();\r\n\t            \t\t\t\t\t\t\r\n\t            \t\t\t\t\t\tthis.getBubblelines().removeTerm(term);\r\n\t            \t\t\t\t\t\tthis.getBubblelines().setCanvasHeight();\r\n\t            \t\t\t\t\t\tthis.getBubblelines().drawGraph();\r\n\t            \t\t\t\t\t},\r\n\t            \t\t\t\t\tscope: this\r\n\t            \t\t\t\t}]\r\n\t            \t\t\t});\r\n\t            \t\t\tmenu.showAt(event.getXY());\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n\t            },{\r\n\t            \tflex: 1,\r\n\t            \txtype: 'container',\r\n\t            \tautoEl: 'div',\r\n\t            \titemId: 'canvasParent',\r\n\t            \tlayout: 'fit',\r\n\t            \toverflowY: 'auto',\r\n\t            \toverflowX: 'hidden'\r\n\t            }],\r\n\t            listeners: {\r\n\t            \trender: function(component) {\r\n\t            \t\tvar canvasParent = this.down('#canvasParent');\r\n\t                \tthis.setBubblelines(new Bubblelines({\r\n\t                \t\tcontainer: canvasParent,\r\n\t                \t\tclickHandler: this.bubbleClickHandler.bind(this)\r\n\t                \t}));\r\n\t                \tthis.getBubblelines().bubbleSpacing = parseInt(this.getApiParam('bins'));\r\n\t            \t},\r\n            \t\tafterlayout: function(container) {\r\n            \t\t\tif (this.getBubblelines().initialized === false) {\r\n            \t\t\t\tthis.getBubblelines().initializeCanvas();\r\n            \t\t\t}\r\n            \t\t},\r\n\t        \t\tresize: function(cnt, width, height) {\r\n\t        \t\t\tthis.getBubblelines().doBubblelinesLayout();\r\n\t        \t\t},\r\n            \t\tscope: this\r\n            \t}\r\n            }\r\n\t\t});\r\n    \t\r\n    \tthis.callParent(arguments);\r\n    },\r\n    \r\n    initLoad: function() {\r\n    \t// get doc info\r\n    \tvar docIds = [];\r\n\t\tthis.getCorpus().getDocuments().each(function(doc, index, total) {\r\n\t\t\tvar inLimit = index < this.getApiParam('maxDocs');\r\n\t\t\tthis.getBubblelines().addDocToCache({\r\n\t\t\t\tid: doc.getId(),\r\n\t\t\t\tindex: doc.getIndex(),\r\n\t\t\t\ttitle: doc.getShortTitle(),\r\n\t\t\t\ttotalTokens: doc.get('tokensCount-lexical'),\r\n\t\t\t\tterms: {},\r\n\t\t\t\thidden: !inLimit\r\n\t\t\t});\r\n\t\t\tif (inLimit) {\r\n\t\t\t\tdocIds.push(doc.getId());\r\n\t\t\t}\r\n\t\t}, this);\r\n\t\tthis.setApiParam('docId', docIds);\r\n\t\t\r\n\t\t// get top terms in corpus\r\n\t\tthis.getCorpus().getCorpusTerms({autoload: false}).load({\r\n\t\t\tcallback: function(records, operation, success) {\r\n\t\t    \tvar query = [];\r\n\t\t    \trecords.forEach(function(record, index) {\r\n\t\t\t\t\tquery.push(record.get('term'));\r\n\t\t\t\t}, this);\r\n\t\t    \tthis.getDocTermsFromQuery(query);\r\n\t\t    },\r\n\t\t    scope: this,\r\n\t\t    params: {\r\n\t\t    \tlimit: this.getApiParam('query') ? undefined : 5,\r\n\t\t    \tstopList: this.getApiParams('stopList'),\r\n\t\t    \tquery: this.getApiParam('query')\r\n\t\t    }\r\n\t\t});\r\n    },\r\n    \r\n    /**\r\n     * Get the results for the query(s) for each of the corpus documents.\r\n     * @param query {String|Array}\r\n     */\r\n    getDocTermsFromQuery: function(query) {\r\n    \tif (query) {this.setApiParam('query', query);} // make sure it's set for subsequent calls\r\n    \tif (this.getCorpus() && this.isVisible()) {\r\n\t\t\tthis.getDocTermStore().load({params: this.getApiParams()});\r\n    \t}\r\n\t},\r\n    \r\n\treloadTermsData: function() {\r\n\t\tvar terms = [];\r\n\t\tfor (var term in this.getBubblelines().currentTerms) {\r\n\t\t\tterms.push(term);\r\n\t\t}\r\n\t\tthis.getDocTermsFromQuery(terms);\r\n\t},\r\n\t\r\n    filterDocuments: function() {\r\n\t\tvar docIds = this.getApiParam('docId');\r\n\t\tif (docIds == '') {\r\n\t\t\tdocIds = [];\r\n\t\t\tthis.getCorpus().getDocuments().each(function(item, index) {\r\n\t\t\t\tdocIds.push(item.getId());\r\n\t\t\t});\r\n\t\t\tthis.setApiParams({docId: docIds});\r\n\t\t}\r\n\t\tif (typeof docIds == 'string') docIds = [docIds];\r\n\t\t\r\n\t\tif (docIds == null) {\r\n\t\t\tthis.setSelectedDocs(this.getCorpus().getDocuments().clone());\r\n\t\t\tvar count = this.getSelectedDocs().getCount();\r\n\t\t\tif (count > 10) {\r\n\t\t\t\tfor (var i = 10; i < count; i++) {\r\n\t\t\t\t\tthis.getSelectedDocs().removeAt(10);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocIds = [];\r\n\t\t\tthis.getSelectedDocs().eachKey(function(docId, doc) {\r\n\t\t\t\tdocIds.push(docId);\r\n\t\t\t}, this);\r\n\t\t\tthis.setApiParams({docId: docIds});\r\n\t\t} else {\r\n\t\t\tthis.setSelectedDocs(this.getCorpus().getDocuments().filterBy(function(doc, docId) {\r\n\t\t\t\treturn docIds.indexOf(docId) != -1;\r\n\t\t\t}, this));\r\n\t\t}\r\n\t},\r\n\t\r\n\tprocessTerms: function(termRecord) {\r\n\t\tvar termObj;\r\n\t\tvar term = termRecord.get('term');\r\n\t\tvar rawFreq = termRecord.get('rawFreq');\r\n\t\tvar positions = termRecord.get('positions');\r\n\t\tif (rawFreq > 0) {\r\n\t\t\tvar color = this.getApplication().getColorForTerm(term);\r\n\t\t\tif (this.getTermStore().find('term', term) === -1) {\r\n\t\t\t\tthis.getTermStore().loadData([[term, color]], true);\r\n\t\t\t\tvar index = this.getTermStore().find('term', term);\r\n\t\t\t\tthis.down('#termsView').select(index, true); // manually select since the store's load listener isn't triggered\r\n\t\t\t}\r\n\t\t\tvar distributions = termRecord.get('distributions');\r\n\t\t\ttermObj = {positions: positions, distributions: distributions, rawFreq: rawFreq, color: color};\r\n\t\t} else {\r\n\t\t\ttermObj = false;\r\n\t\t}\r\n\t\t\r\n\t\treturn termObj;\r\n\t},\r\n\t\r\n\tbubbleClickHandler: function(data) {\r\n\t\tthis.getApplication().dispatchEvent('termsClicked', this, data);\r\n\t}\r\n});","Ext.define('Voyant.panel.Catalogue', {\n\textend: 'Ext.panel.Panel',\n\trequires: ['Voyant.widget.Facet'],\n\tmixins: ['Voyant.panel.Panel','Voyant.util.Downloadable'],\n\t\n\talias: 'widget.catalogue',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tconfig: undefined,\n    \t\tstopList: 'auto',\n    \t\tfacet: ['facet.title','facet.author','facet.language'],\n    \t\ttitle: undefined,\n    \t\tsplash: undefined,\n    \t\treader: \"reader\"\n    \t},\n\t\tglyph: 'xf1ea@FontAwesome'\n    },\n    config: {\n    \tfacets: {},\n    \tmatchingDocIds: [],\n    \tcustomResultsHtml: undefined\n    },\n    \n    constructor: function(config) {\n    \tconfig = config || {};\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments); // we need api\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tlayout: 'hbox',\n    \t\titems: [\n    \t\t        {\n    \t\t        \tlayout: 'vbox',\n    \t\t        \theight: '100%',\n    \t\t        \talign: 'stretch',\n    \t\t        \titemId: 'facets',\n    \t\t        \tdefaults: {\n    \t\t        \t\twidth: 250,\n    \t\t        \t\tflex: 1,\n    \t\t        \t\txtype: 'facet',\n    \t\t        \t\tmargin: 5,\n    \t\t        \t\tborder: true,\n    \t\t        \t\tframe: true,\n    \t\t            \tincludeTools: {\n    \t\t            \t\tclose: {\n    \t\t            \t\t\ttype: 'close',\n    \t\t                \t\ttooltip: this.localize('closeFacetTip'),\n    \t\t                \t\tcallback: function(facetCmp) {\n    \t\t                \t\t\tdelete this.facets[facetCmp.facet]; // remove from facets map\n    \t\t                \t\t\tfacetCmp.destroy(); // remove this facet\n    \t\t                \t\t\tthis.updateResults();\n    \t\t                \t\t},\n    \t\t                \t\tscope: this\n    \t\t            \t\t},\n    \t\t            \t\tadd: {\n    \t\t            \t\t\ttype: 'plus',\n    \t\t                \t\ttooltip: this.localize('plusFacetTip'),\n    \t\t                \t\tcallback: function() {\n    \t\t                \t\t\tthis.addFacet();\n    \t\t                \t\t},\n    \t\t                \t\tscope: this\n    \t\t            \t\t}\n    \t\t            \t}\n    \t\t        \t},\n    \t\t        \titems: []\n    \t\t        },\n    \t\t        {\n    \t\t        \txtype: 'panel',\n    \t\t        \thtml: config.customResultsHtml || '',\n    \t\t        \tflex: 1,\n    \t\t        \titemId: 'results',\n    \t\t        \theight: '100%',\n    \t\t        \talign: 'stretch',\n    \t\t        \tscrollable: true,\n    \t\t        \tmargin: 5,\n    \t\t        \tgetCorpus: function() { // for query search field\n    \t\t        \t\treturn this.findParentByType('panel').getCorpus();\n    \t\t        \t},\n    \t\t        \tlisteners: {\n    \t\t        \t\tquery: function(src, query) {\n    \t\t        \t\t\tthis.findParentByType('panel').updateResults(Ext.isString(query) ? [query] : query)\n    \t\t        \t\t}\n    \t\t        \t},\n    \t\t    \t\tdockedItems: [{\n    \t\t                dock: 'bottom',\n    \t\t                xtype: 'toolbar',\n    \t\t                overflowHandler: 'scroller',\n    \t\t                items: [{\n\t    \t\t        \t\titemId: 'sendToVoyant',\n\t    \t\t        \t\ttext: this.localize('sendToVoyantButton'),\n\t    \t\t        \t\tdisabled: true,\n\t    \t\t        \t\thandler: function() {\n\t    \t\t        \t\t\tthis.mask(this.localize(\"exportInProgress\"));\n\t    \t\t        \t\t\tvar catalogue = this;\n\t    \t\t            \t\tExt.Ajax.request({\n\t    \t\t            \t\t\turl: this.getApplication().getTromboneUrl(),\n\t    \t\t            \t\t\tparams: {\n\t    \t\t            \t\t\t\tcorpus: this.getCorpus().getId(),\n\t    \t\t            \t\t\t\ttool: 'corpus.CorpusManager',\n\t    \t\t            \t\t\t\tkeepDocuments: true,\n\t    \t\t            \t\t\t\tdocId: this.getMatchingDocIds()\n\t    \t\t            \t\t\t},\n\t    \t\t            \t\t    success: function(response, opts) {\n\t    \t\t            \t\t    \tcatalogue.unmask();\n\t    \t\t            \t\t    \tvar json = Ext.JSON.decode(response.responseText);\n\t\t                    \t\t\t\tvar url = catalogue.getBaseUrl()+\"?corpus=\"+json.corpus.id;\n\t\t                    \t\t\t\tcatalogue.openUrl(url);\n\t    \t\t            \t\t    },\n\t    \t\t            \t\t    failure: function(response, opts) {\n\t    \t\t            \t\t    \tcatalogue.unmask();\n\t    \t\t            \t\t    \tme.showResponseError(\"Unable to export corpus: \"+catalogue.getCorpus().getId(), response);\n\t    \t\t            \t\t    }\n\t    \t\t            \t\t})\n\t\n\t    \t\t        \t\t},\n\t    \t\t        \t\tscope: this\n\t    \t\t        \t},{\n\t    \t\t        \t\titemId: 'export',\n\t    \t\t        \t\ttext: this.localize('downloadButton'),\n\t    \t\t        \t\tdisabled: true,\n\t    \t\t        \t\thandler: function() {\n\t    \t\t        \t\t\tthis.mask(this.localize(\"exportInProgress\"));\n\t    \t\t        \t\t\tvar catalogue = this;\n\t    \t\t            \t\tExt.Ajax.request({\n\t    \t\t            \t\t\turl: this.getApplication().getTromboneUrl(),\n\t    \t\t            \t\t\tparams: {\n\t    \t\t            \t\t\t\tcorpus: this.getCorpus().getId(),\n\t    \t\t            \t\t\t\ttool: 'corpus.CorpusManager',\n\t    \t\t            \t\t\t\tkeepDocuments: true,\n\t    \t\t            \t\t\t\tdocId: this.getMatchingDocIds()\n\t    \t\t            \t\t\t},\n\t    \t\t            \t\t    success: function(response, opts) {\n\t    \t\t            \t\t    \tcatalogue.unmask();\n\t    \t\t            \t\t    \tvar json = Ext.JSON.decode(response.responseText);\n\t    \t\t            \t\t    \tcatalogue.downloadFromCorpusId(json.corpus.id);\n\t    \t\t            \t\t    },\n\t    \t\t            \t\t    failure: function(response, opts) {\n\t    \t\t            \t\t    \tcatalogue.unmask();\n\t    \t\t            \t\t    \tme.showResponseError(\"Unable to export corpus: \"+catalogue.getCorpus().getId(), response);\n\t    \t\t            \t\t    }\n\t    \t\t            \t\t})\n\t\n\t    \t\t        \t\t},\n\t    \t\t        \t\tscope: this\n\t    \t\t        \t},{\n\t    \t\t        \t\txtype: 'querysearchfield',\n\t    \t\t        \t\twidth: 200,\n\t    \t\t        \t\tflex: 1\n\t    \t\t        \t},{\n\t    \t\t        \t\titemId: 'status',\n\t    \t\t        \t\txtype: 'tbtext'\n\t    \t\t        \t}]\n    \t\t    \t\t}]\n    \t\t        }, {\n    \t\t        \txtype: this.getApiParam(\"reader\"),\n    \t\t        \tflex: 1,\n    \t\t        \theight: '100%',\n    \t\t        \talign: 'stretch',\n    \t\t        \theader: false\n    \t\t        }]\n    \t});\n\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tthis.queryById('status').update(new Ext.XTemplate(this.localize('noMatches')).apply([corpus.getDocumentsCount()]))\n    \t\tif (!this.getCustomResultsHtml()) {\n    \t\t\tif (this.getApiParam(\"splash\")) {\n        \t\t\tthis.setCustomResultsHtml(this.getApiParam(\"splash\"));\n        \t\t\tthis.updateResults();\n        \t\t\treturn;\n    \t\t\t}\n    \t\t\tthis.setCustomResultsHtml(new Ext.XTemplate(this.localize('noMatches')).apply([corpus.getDocumentsCount()]));\n    \t\t\tthis.updateResults();\n    \t    \tExt.Ajax.request({\n    \t    \t    url: this.getTromboneUrl(),\n    \t    \t    params: {\n    \t        \t\ttool: 'resource.StoredResource',\n    \t        \t\tverifyResourceId: 'customhtml-'+corpus.getAliasOrId()\n    \t    \t    },\n    \t    \t    success: function(response, req) {\n    \t    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n    \t    \t    \tif (json && json.storedResource && json.storedResource.id) {\n    \t        \t    \tExt.Ajax.request({\n    \t        \t    \t    url: this.getTromboneUrl(),\n    \t        \t    \t    params: {\n    \t        \t        \t\ttool: 'resource.StoredResource',\n    \t        \t        \t\tretrieveResourceId: 'customhtml-'+corpus.getAliasOrId()\n    \t        \t    \t    },\n    \t        \t    \t    success: function(response, req) {\n    \t        \t    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n    \t        \t    \t    \tif (json && json.storedResource && json.storedResource.resource) {\n    \t        \t    \t    \t\tthis.setCustomResultsHtml(json.storedResource.resource);\n    \t        \t    \t    \t\tthis.updateResults()\n    \t        \t    \t    \t}\n    \t        \t    \t    },\n    \t        \t    \t    scope: this\n    \t        \t    \t})\n    \t    \t    \t}\n    \t    \t    },\n    \t    \t    scope: this\n    \t    \t})\n\n    \t\t}\n    \t});\n    \t\n    \tthis.on('afterrender', function(panel) {\n    \t\t\n    \t\tvar facetsCmp = this.queryById('facets');\n\t\t\tthis.addFacet({\n\t\t\t\tfacet: 'lexical',\n    \t\t\tincludeTools: {add: {\n        \t\t\ttype: 'plus',\n            \t\ttooltip: this.localize('plusFacetTip'),\n            \t\tcallback: function() {\n            \t\t\tthis.addFacet();\n            \t\t},\n            \t\tscope: this\n        \t\t}},\n\t\t\t\tstore: new Voyant.data.store.CorpusTerms({\n\t\t\t\t\tparentPanel: this,\n    \t\t\t\tproxy: {\n    \t\t\t\t\textraParams: {\n    \t    \t\t\t\tstopList: this.getApiParam(\"stopList\")\n    \t\t\t\t\t}\n    \t\t\t\t}\n\t\t\t\t})\n\t\t\t}, facetsCmp)\n    \t\t\n    \t\tvar facets = this.getApiParam('facet');\n    \t\tif (Ext.isString(facets)) {facets = facets.split(\",\")}\n    \t\tfacets.forEach(function(facet) {\n    \t\t\tthis.addFacet({facet: facet}, facetsCmp)\n    \t\t\t/*\n    \t\t\tfacetCmp.getSelectionModel().on('selectionchange', function(model, selected) {\n    \t\t\t\tvar labels = [];\n    \t\t\t\tselected.forEach(function(model) {\n    \t\t\t\t\tlabels.push({facet: model.getFacet(), label: model.getLabel()})\n    \t\t\t\t})\n    \t\t\t\tpanel.getFacets()[facet] = labels;\n    \t\t\t\tpanel.updateResults();\n    \t\t\t})\n    \t\t\tfacetCmp.on('query', function(model, selected) {\n    \t\t\t\tpanel.getFacets()[facetCmp.facet] = [];\n    \t\t\t\tpanel.updateResults();\n    \t\t\t})*/\n    \t\t}, this);\n\t\t\t\n\n\t\t\t\n    \t\t/*\n\t\t\tfacetCmp.getSelectionModel().on('selectionchange', function(model, selected) {\n\t\t\t\tvar labels = [];\n\t\t\t\tselected.forEach(function(model) {\n\t\t\t\t\tlabels.push({facet: 'lexical', label: model.getTerm()})\n\t\t\t\t})\n\t\t\t\tpanel.getFacets()['lexical'] = labels;\n\t\t\t\tpanel.updateResults();\n\t\t\t})*/\n    \t\t\n        \tvar title = this.getApiParam(\"title\");\n        \tif (title) {this.setTitle(title)}\n    \t});\n    \t\n    \t\n    },\n    \n    addFacet: function(config, facetsCmp) {\n    \tif (!config) {\n    \t\t// select first, then add\n    \t\treturn this.selectFacet(function(facet) {\n    \t\t\tthis.addFacet({facet: facet})\n    \t\t})\n    \t}\n\t\tfacetsCmp = facetsCmp || this.queryById('facets');\n    \tvar facet = config.facet,\n    \t\titemTpl = '<span style=\"font-size: smaller;\">(<span class=\"info-tip\" data-qtip=\"'+this.localize('matchingDocuments')+'\">{inDocumentsCount}</span>)</span> {term}'+'<span style=\"font-size: smaller;\"> (<span class=\"info-tip\" data-qtip=\"'+this.localize('rawFreqs')+'\">{rawFreq}</span>)</span>'\n\n\t\tvar title = this.localize(facet+\"Title\");\n\t\tif (title==\"[\"+facet+\"Title]\") {\n\t\t\ttitle = facet.replace(/^facet\\./,\"\").replace(/^extra./,\"\");\n\t\t}\n\t\tvar matchingDocumentsLabel = this.localize('matchingDocuments');\n\t\t\n\t\tExt.applyIf(config, {\n\t\t\ttitle: title,\n\t\t\tcollapsible: true,\n\t\t\tfacet: facet,\n\t\t\tcolumns: [{\n\t\t\t\trenderer: function(value, metaData, record) {\n\t\t\t\t\treturn '<span style=\"font-size: smaller;\">(<span class=\"info-tip\" data-qtip=\"'+this.localize('matchingDocuments')+'\">'+record.getInDocumentsCount()+\"</span>) </span>\"+\n\t\t\t\t\t\t(record.getLabel ? record.getLabel() : record.getTerm()+'<span style=\"font-size: smaller;\"> (<span class=\"info-tip\" data-qtip=\"'+this.localize('rawFreqs')+'\">'+record.getRawFreq()+\"</span>)</span>\")\n\t\t\t\t},\n\t\t\t\tflex: 1\n\t\t\t}],\n\t\t\tbbar: [{\n\t\t\t\txtype: 'querysearchfield',\n\t\t\t\twidth: '100%',\n\t\t\t\ttokenType: facet.replace(\"facet.\", \"\"),\n\t\t\t\titemTpl: itemTpl\n\t\t\t}],\n\t\t\tcorpus: this.getCorpus()\n\t\t})\n\t\t\n\t\tvar facetCmp = facetsCmp.add(config);\n\t\t\n\t\tfacetCmp.getSelectionModel().on('selectionchange', function(model, selected) {\n\t\t\tvar labels = [];\n\t\t\tselected.forEach(function(model) {\n\t\t\t\tlabels.push({facet: facetCmp.facet, label: model.getLabel ? model.getLabel() : model.getTerm()})\n\t\t\t})\n\t\t\tthis.getFacets()[facet] = labels;\n\t\t\tthis.updateResults();\n\t\t}, this)\n\t\tfacetCmp.on('query', function(model, selected) {\n\t\t\tthis.getFacets()[facetCmp.facet] = [];\n\t\t\tthis.updateResults();\n\t\t}, this)\n    \treturn facetCmp;\n    },\n    \n    updateResults: function(queries) {\n    \tvar facets = this.getFacets();\n    \tif (!queries) {\n\t    \tvar queries = [];\n\t    \tfor (facet in facets) {\n\t    \t\tfacets[facet].forEach(function(label) {\n\t        \t\tqueries.push(label.facet+\":\"+label.label);\n\t    \t\t})\n\t    \t}\n\t    \tif (queries) {\n\t\t    \treturn this.updateResults(queries)\n\t    \t}\n    \t}\n\t\tvar results = this.queryById(\"results\").getTargetEl();\n\t\tvar catalogue = this;\n\t\tresults.update(this.getCustomResultsHtml() ? this.getCustomResultsHtml() : new Ext.XTemplate(this.localize('noMatches')).apply([this.getCorpus().getDocumentsCount()]));\n\t\tthis.queryById('status').update(new Ext.XTemplate(this.localize('noMatches')).apply([this.getCorpus().getDocumentsCount()]))\n\t\tthis.queryById('sendToVoyant').setDisabled(true);\n\t\tthis.queryById('export').setDisabled(true);\n    \tif (queries && queries.length>0) {\n    \t\tthis.mask(this.localize(\"loading\"));\n    \t\tvar documentQueryMatches = this.getCorpus().getDocumentQueryMatches();\n    \t\tdocumentQueryMatches.load({\n    \t\t\tparams: {query: queries, includeDocIds: true},\n    \t\t\tcallback: function(records, operation, success) {\n    \t\t\t\tthis.unmask();\n    \t\t\t\tif (records && records.length>0) {\n    \t\t\t\t\tthis.queryById('status').setHtml(records.length)\n    \t\t\t\t\tvar list = \"<ul>\";\n    \t\t\t\t\tvar matchingDocIds = [];\n    \t\t\t\t\trecords.forEach(function(record) {\n    \t\t\t\t\t\trecord.getDocIds().forEach(function(docId) {\n    \t\t\t\t\t\t\tmatchingDocIds.push(docId);\n    \t\t\t\t\t\t\tvar doc = documentQueryMatches.getCorpus().getDocument(docId);\n    \t\t\t\t\t\t\tvar item = \"<li id='\"+results.getId()+'_'+docId+\"' class='cataloguedoc'>\";\n    \t\t\t\t\t\t\titem += \"<a href='#' class='cataloguedoctitle' data='\"+docId+\"'>\"+doc.getTitle()+\"</a>\";\n    \t\t\t\t\t\t\tfor (facet in facets) {\n    \t\t\t\t\t\t\t\tif (facets[facet].length==0) {continue;}\n    \t\t\t\t\t\t\t\tvar labelItems = \"\";\n    \t\t\t\t\t\t\t\tif (facet!='facet.title') {\n    \t\t\t\t\t\t\t\t\tvar suffix = facet.replace(/^.+?\\./,\"\");\n    \t\t\t\t\t\t\t\t\tvar label = doc.get(suffix);\n    \t\t\t\t\t\t\t\t\tif (label) {\n    \t\t\t\t\t\t\t\t\t\tvar isArray = Ext.isArray(label);\n    \t\t\t\t\t\t\t\t\t\tif (isArray) {\n    \t\t\t\t\t\t\t\t\t\t\tlabelItems+=\"<li>\"+suffix+\"<ul>\"\n    \t\t\t\t\t\t\t\t\t\t} else {\n    \t\t\t\t\t\t\t\t\t\t\tlabel = [label];\n    \t\t\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\t\t\tlabel.forEach(function(l) {\n    \t\t\t\t\t\t\t\t\t\t\tvar isMatch = false;\n    \t\t\t\t\t\t\t\t\t\t\tfacets[facet].forEach(function(f) {\n    \t\t\t\t\t\t\t\t\t\t\t\tif (f.label==l) {isMatch=true}\n    \t\t\t\t\t\t\t\t\t\t\t\telse if (f.facet.indexOf('facet')==-1) {\n    \t\t\t\t\t\t\t\t\t\t\t\t\tf.label.split(/\\W+/).forEach(function(part) {\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\tif (part.trim().length>0 && l.toLowerCase().indexOf(part.toLowerCase())>-1) {\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMatch=true;\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\t\t\t\t\t\t})\n    \t\t\t\t\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\t\t\t\t})\n    \t\t\t\t\t\t\t\t\t\t\tlabelItems+=\"<li>\"+(isArray ? '' : suffix.replace('extra.','')+\": \")+(isMatch ? '<span class=\"keyword\">'+l+'</span>' : l)+\"</li>\"\n    \t\t\t\t\t\t\t\t\t\t})\n    \t\t\t\t\t\t\t\t\t\tif (isArray) {\n    \t\t\t\t\t\t\t\t\t\t\tlabelItems+=\"</ul></li>\";\n    \t\t\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\tif (labelItems) {\n    \t\t\t\t\t\t\t\t\titem+=\"<ul>\"+labelItems+\"</ul>\";\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\titem += \"</li>\";\n    \t\t\t\t\t\t\tlist += item;\n    \t\t\t\t\t\t})\n    \t\t\t\t\t})\n    \t\t\t\t\tlist += \"</ul>\";\n    \t\t\t\t\tresults.update(list);\n    \t\t\t\t\tvar me = this;\n    \t\t\t\t\tvar lnks = results.query(\".cataloguedoctitle\");\n    \t\t\t\t\tlnks.forEach(function(lnk) {\n    \t\t\t\t\t\tExt.get(lnk).on(\"click\", function(e,el) {\n    \t\t\t\t\t\t\tthis.dispatchEvent(\"documentSelected\", me, el.getAttribute(\"data\"));\n    \t\t\t\t\t\t}, me)\n    \t\t\t\t\t});\n    \t\t\t\t\tif (lnks.length==1) {\n    \t\t\t\t\t\tthis.dispatchEvent(\"documentSelected\", me, lnks[0].getAttribute(\"data\"));\n    \t\t\t\t\t}\n    \t\t\t\t\tthis.queryById('status').update(new Ext.XTemplate(this.localize('queryMatches')).apply([matchingDocIds.length,this.getCorpus().getDocumentsCount()]))\n    \t\t\t\t\tthis.setMatchingDocIds(Ext.Array.clone(matchingDocIds));\n    \t\t\t\t\tif (matchingDocIds.length>0) {\n    \t\t\t\t\t\tthis.queryById('export').setDisabled(false);\n    \t\t\t\t\t\tthis.queryById('sendToVoyant').setDisabled(false);\n    \t\t\t\t\t}\n    \t\t\t\t\t\n    \t\t\t\t\t// now try to load some snippets, if need be\n    \t\t\t\t\tif (facets['lexical']) {\n    \t\t\t\t\t\tvar firstDocIds = matchingDocIds.splice(0,5);\n    \t\t\t\t\t\tthis.loadSnippets(firstDocIds, results.first().first());\n    \t\t\t\t\t\tif (matchingDocIds && matchingDocIds.length>0) {\n        \t\t\t\t\t\tthis.loadSnippets(matchingDocIds); // load the rest\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t},\n    \t\t\tscope: this\n    \t\t})    \t\t\n    \t}\n    },\n    \n    loadSnippets: function(docIds, elToMask) {\n\t\tvar results = this.queryById(\"results\").getTargetEl();\n    \tvar facets = this.getFacets();\n    \tif (facets['lexical']) {\n    \t\tvar queries = facets['lexical'].map(function(label) {return label.facet+\":\"+label.label});\n    \t\tvar contexts = this.getCorpus().getContexts({buffered: false});\n    \t\tif (elToMask) {\n    \t\t\telToMask.mask(this.localize(\"loadingSnippets\"));\n    \t\t}\n    \t\tcontexts.load({\n    \t\t\tmethod: 'POST',\n    \t\t\tparams: {\n                \tstripTags: \"all\",\n    \t\t\t\tquery: queries,\n    \t\t\t\tdocId: docIds,\n    \t\t\t\tperDocLimit: 3,\n    \t\t\t\tlimit: 100,\n    \t\t\t\taccurateTotalNotNeeded: true\n    \t\t\t},\n    \t\t\tscope: this,\n    \t\t\tcallback: function(records, operation, success) {\n    \t\t\t\tif (elToMask) {\n    \t\t\t\t\telToMask.unmask();\n    \t\t\t\t}\n    \t\t\t\tif (success && Ext.isArray(records) && records.length>0) {\n    \t\t\t\t\tvar snippets = {};\n    \t\t\t\t\trecords.forEach(function(record) {\n    \t\t\t\t\t\tif (!snippets[record.getDocIndex()]) {snippets[record.getDocIndex()]=[]}\n    \t\t\t\t\t\tsnippets[record.getDocIndex()].push(record);\n    \t\t\t\t\t})\n    \t\t\t\t\tfor (docIndex in snippets) {\n    \t\t\t\t\t\tvar id = this.getCorpus().getDocument(docIndex).getId();\n    \t\t\t\t\t\tvar html = '<li style=\"list-style-type: none; font-size: smaller;\">'+snippets[docIndex].map(function(snippet) {\n    \t\t\t\t\t\t\treturn snippet.getHighlightedContext();\n    \t\t\t\t\t\t}).join(\" \u2026 \")+'</li>'\n    \t\t\t\t\t\tvar docItem = results.down(\"#\"+results.getId()+\"_\"+id);\n    \t\t\t\t\t\tif (docItem.query(\"ul\")) {\n    \t\t\t\t\t\t\thtml=\"<ul>\"+html+\"</ul>\";\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\tdocItem.insertHtml('beforeEnd', html)\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t}\n        \t})        \t\t\n    \t}\n\t\n    },\n    \n    selectFacet: function(callback) {\n    \tif (!this.facetsSelectionStore) {\n    \t\tvar keys = {};\n    \t\tthis.getCorpus().getDocuments().each(function(doc) {\n    \t\t\tfor (var key in doc.getData()) {\n    \t\t\t\tif (key!=\"corpus\" && key.indexOf(\"parent\")!==0 && key.indexOf(\"-lexical\")==\"-1\") {\n        \t\t\t\tkeys[key] = true\n    \t\t\t\t}\n    \t\t\t}\n    \t\t});\n    \t\tkeys = Object.keys(keys);\n    \t\tkeys.sort();\n    \t\tthis.facetsSelectionStore = Ext.create('Ext.data.ArrayStore', {\n    \t\t    fields: ['text'],\n    \t\t    data: keys.map(function(key) {return [key]})\n    \t\t});\n    \t}\n    \t\n    \tvar existingFacets = {};\n    \tthis.queryById('facets').items.each(function(cmp) {\n    \t\texistingFacets[cmp.facet]=true;\n    \t})\n\n    \tthis.facetsSelectionStore.filterBy(function(record) {\n    \t\treturn !(\"facet.\"+record.get('text') in existingFacets)\n    \t})\n    \t\n\t\tvar win = Ext.create('Ext.window.Window', {\n\t\t\ttitle: this.localize(\"selectFacet\"),\n\t\t\tmodal: true,\n\t\t\titems: {\n\t\t\t\txtype: 'form',\n\t\t\t\twidth: 300,\n\t\t\t\titems: {\n\t\t\t\t\txtype: 'combo',\n\t\t\t\t\tstore: this.facetsSelectionStore,\n\t\t\t\t\tforceSelection: true,\n\t\t\t\t\twidth: 300\n\t\t\t\t},\n\t\t\t\tbuttons: [{\n\t            \ttext: this.localize(\"cancel\"),\n\t\t            ui: 'default-toolbar',\n\t                glyph: 'xf00d@FontAwesome',\n\t        \t\tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t}\n\t\t\t\t},{\n\t            \ttext: this.localize(\"select\"),\n\t\t\t\t\tglyph: 'xf00c@FontAwesome',\n\t            \tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tvar facet = btn.up('window').down('combo').getValue();\n\t        \t\t\tif (!facet) {\n\t        \t\t\t\treturn this.showError(this.localize('selectValidFacet'));\n\t        \t\t\t} else {\n\t        \t\t\t\tcallback.call(this, \"facet.\"+facet);\n\t\t        \t\t\tbtn.up('window').close();\n\t        \t\t\t}\n\t        \t\t},\n\t        \t\tscope: this\n\t            }]\n\t\t\t},\n\t\t\tbodyPadding: 5\n\t\t}).show()\n    }\n    \n});\n","// assuming Cirrus library is loaded by containing page (via voyant.jsp)\n/**\n * Cirrus tool, a wordcloud-like visuaization.\n * \n * \t// simple cirrus\n * \tloadCorpus(\"austen\").tool(\"cirrus\");\n *\n * \t// define stopwords list and styling\n * \tloadCorpus(\"austen\").tool(\"cirrus\", {\n * \t\tstopList: 'auto',\n * \t\tstyle: 'width: 500px; height: 400px'\n * \t});\n */\nExt.define('Voyant.panel.Cirrus', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.cirrus',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\t/**\n    \t\t * @cfg {String} stopList A comma-separated list of words, a named list or a URL to a plain text list, one word per line.\n    \t\t * @default auto\n    \t\t * \n    \t\t * By default this is set to 'auto' which auto-detects the document's language and loads an appropriate list (if available for that language). Set this to blank to not use the default stopList.\n    \t\t *  \n    \t\t * For more information see the <a href=\"#!/guide/search\">Stopwords documentation</a>.\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\tcategories: undefined,\n    \t\twhiteList: undefined, // specify a list of words to use\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} limit Specify the number of terms to load (which is separate from the number of {@link #visible} terms to show) at a time).\n    \t\t * @default 500\n    \t\t * \n    \t\t *  By default this is set to 'auto' which auto-detects the document's language and loads an appropriate list (if available for that language). Set this to blank to not use the default stopList.\n    \t\t */\n    \t\tlimit: 500,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} visible Specify the number of terms that are visible at a time.\n    \t\t * @default 50\n    \t\t */\n    \t\tvisible: 50,\n    \t\tterms: undefined,\n    \t\tdocId: undefined,\n    \t\tdocIndex: undefined,\n    \t\t\n    \t\tinlineData: undefined, // format should match CorpusTerm model, only term and rawFreq required\n\n    \t\tfontFamily: '\"Palatino Linotype\", \"Book Antiqua\", Palatino, serif',\n    \t\tcirrusForceFlash: false,\n    \t\tbackground: '0xffffff',\n    \t\tfade: true,\n    \t\tsmoothness: 2,\n    \t\tdiagonals: 'none' // all, bigrams, none\n    \t},\n\t\tglyph: 'xf06e@FontAwesome'\n    },\n    \n    config: {\n    \t/**\n    \t * @private\n    \t */\n    \tmode: undefined,\n    \t/**\n    \t * @private\n    \t */\n    \toptions: [\n    \t\t{xtype: 'stoplistoption'},\n    \t\t{\n\t    \t\txtype: 'listeditor',\n\t    \t\tname: 'whiteList'\n    \t    },\n    \t    {xtype: 'categoriesoption'},\n//    \t    {\n//    \t    \t// TODO this field does nothing\n//    \t        xtype: 'numberfield',\n//    \t        name: 'label',\n//    \t        fieldLabel: 'Max words',\n//    \t        labelAlign: 'right',\n//    \t        value: 500,\n//    \t        minValue: 50,\n//    \t        step: 50,\n//    \t        listeners: {\n//        \t        afterrender: function(field) {\n//        \t        \tvar win = field.up(\"window\");\n//        \t        \tif (win && win.panel) {field.setFieldLabel(win.panel.localize(\"maxTerms\"))}\n//        \t        }\n//    \t        }\n//    \t    },\n    \t    {xtype: 'fontfamilyoption'},\n    \t    {xtype: 'colorpaletteoption'}\n\n    \t],\n    \t/**\n    \t * @private\n    \t */\n    \trecords: undefined,\n    \t/**\n    \t * @private\n    \t */\n    \tterms: undefined,\n    \t/**\n    \t * @private\n    \t */\n    \tcirrusId: undefined,\n    \t/**\n    \t * @private\n    \t */\n    \tvisLayout: undefined, // cloud layout algorithm\n    \t/**\n    \t * @private\n    \t */\n    \tvis: undefined, // actual vis\n    \t/**\n    \t * @private\n    \t */\n    \ttip: undefined,\n    \t/**\n    \t * @private\n    \t */\n    \tsizeAdjustment: 100, // amount to multiply a word's relative size by\n    \t/**\n    \t * @private\n    \t */\n    \tminFontSize: 12,\n    \t/**\n    \t * @private\n    \t */\n    \tlargestWordSize: 0,\n    \t/**\n    \t * @private\n    \t */\n    \tsmallestWordSize: 1000000\n    },\n    \n    MODE_CORPUS: 'corpus',\n    MODE_DOCUMENT: 'mode_document',\n    \n    layout: 'fit',\n    \n\t/**\n\t * @private\n\t */\n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.getApplication().getCategoriesManager().addFeature('orientation', function() { return ~~(Math.random() * 2) * 90; });\n    \t\n    \tthis.setCirrusId(Ext.id(null, 'cirrus_'));\n    },\n    \n    initComponent: function (config) {\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n        \t\t\txtype: 'corpusdocumentselector',\n        \t\t\tsingleSelect: true\n        \t\t},{\n        \t\t\tfieldLabel: this.localize('visibleTerms'),\n        \t\t\tlabelWidth: 40,\n        \t\t\twidth: 120,\n        \t\t\txtype: 'slider',\n\t            \tincrement: 25,\n\t            \tminValue: 25,\n\t            \tmaxValue: 500,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.maxValue = this.getApiParam(\"limit\")\n\t            \t\t\tslider.increment = parseInt(slider.maxValue/50)\n\t            \t\t\tslider.setValue(this.getApiParam(\"visible\"))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({visible: newvalue});\n\t            \t\t\tthis.loadFromTermsRecords();\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n                }]\n    \t\t}]\n    \t});\n\n    \tthis.callParent(arguments);\n    \t\n    \t\n    },\n    \n    listeners: {\n    \tboxready: function() {\n\t\t\tthis.initVisLayout(); // force in case we've changed fontFamily from options\n\n\t\t\tvar dataString = this.getApiParam('inlineData');\n        \tif (dataString !== undefined) {\n        \t\tif (dataString.charAt(0)==\"[\") {\n            \t\tvar jsonData = Ext.decode(dataString, true);\n        \t\t} else {\n        \t\t\tif (dataString.indexOf(\":\")>-1) {\n        \t\t\t\tjsonData = [];\n        \t\t\t\tdataString.split(\",\").forEach(function(term) {\n        \t\t\t\t\tparts = term.split(\":\");\n        \t\t\t\t\tjsonData.push({\n        \t\t\t\t\t\ttext: parts[0],\n        \t\t\t\t\t\trawFreq: parseInt(parts[1])\n        \t\t\t\t\t})\n        \t\t\t\t})\n        \t\t\t} else {\n        \t\t\t\tvar terms = {}\n        \t\t\t\tjsonData = [];\n        \t\t\t\tdataString.split(\",\").forEach(function(term) {\n        \t\t\t\t\tif (term in terms) {\n        \t\t\t\t\t\tterms[term]++;\n        \t\t\t\t\t} else {\n        \t\t\t\t\t\tterms[term] = 1;\n        \t\t\t\t\t}\n        \t\t\t\t});\n        \t\t\t\tfor (term in terms) {\n        \t\t\t\t\tjsonData.push({\n        \t\t\t\t\t\ttext: term,\n        \t\t\t\t\t\trawFreq: terms[term]\n        \t\t\t\t\t})\n        \t\t\t\t}\n        \t\t\t}\n        \t\t}\n        \t\tif (jsonData !== null && jsonData.length>0) {\n        \t\t\tthis.setApiParam('inlineData', jsonData);\n\t        \t    this.setTerms(jsonData);\n\t        \t    this.buildFromTerms();\n        \t\t}\n        \t}\n    \t},\n    \tresize: function(panel, width, height) {\n    \t\tif (this.getVisLayout() && this.getCorpus()) {\n    \t\t\tthis.setAdjustedSizes();\n    \t\t\t\n    \t\t\tvar el = this.getLayout().getRenderTarget();\n    \t    \twidth = el.getWidth();\n    \t\t\theight = el.getHeight();\n    \t\t\t\n    \t\t\tel.down('svg').set({width: width, height: height});\n    \t\t\tif (this.getTerms()) {\n        \t\t\tthis.getVisLayout().size([width, height]).stop().words(this.getTerms()).start();\n    \t\t\t}\n    \t\t}\n    \t},\n    \t\n    \tloadedCorpus: function(src, corpus) {\n\t\t\tthis.getApplication().getCategoriesManager().addFeature('font', this.getApiParam('fontFamily')); // make sure the default for font is set from the api\n    \t\tthis.initVisLayout(); // force in case we've changed fontFamily from options\n    \t\tif (this.getApiParam(\"docIndex\")) {\n    \t\t\tthis.fireEvent(\"documentSelected\", this, corpus.getDocument(this.getApiParam(\"docIndex\")));\n    \t\t} else if (this.getApiParam(\"docId\")) {\n    \t\t\tthis.fireEvent(\"documentSelected\", this, corpus.getDocument(this.getApiParam(\"docId\")));\n    \t\t} else {\n        \t\tthis.loadFromCorpus(corpus);\n\t\t\t}\n    \t},\n    \t\n    \tcorpusSelected: function(src, corpus) {\n    \t\tthis.loadFromCorpus(corpus);\n    \t\t\n    \t},\n    \t\n    \tdocumentSelected: function(src, document) {\n    \t\tif (document) {\n        \t\tvar corpus = this.getCorpus();\n        \t\tvar document = corpus.getDocument(document);\n        \t\tthis.setApiParam('docId', document.getId());\n        \t\tvar documentTerms = document.getDocumentTerms({autoload: false, corpus: corpus, pageSize: this.getApiParam(\"maxVisible\"), parentPanel: this});\n        \t\tthis.loadFromDocumentTerms(documentTerms);\n    \t\t}\n    \t},\n    \t\n    \tensureCorpusView: function(src, corpus) {\n    \t\tif (this.getMode() != this.MODE_CORPUS) {this.loadFromCorpus(corpus);}\n    \t}\n    },\n    \n    loadFromCorpus: function(corpus) {\n    \tvar jsonData = this.getApiParam('inlineData');\n    \tif (jsonData === undefined) {\n\t\t\tthis.setApiParams({docId: undefined, docIndex: undefined});\n\t\t\tthis.loadFromCorpusTerms(corpus.getCorpusTerms({autoload: false, pageSize: this.getApiParam(\"maxVisible\"), parentPanel: this}));\n    \t} else {\n    \t\t// if (jsonData !== undefined) {\n    \t\t// \tvar records = [];\n    \t\t// \tfor (var i = 0; i < jsonData.length; i++) {\n\t\t\t// \t\tvar wordData = jsonData[i];\n\t\t\t// \t\twordData.term = wordData.text; // inlineData/CorpusTerm format mismatch\n    \t\t// \t\tvar record = Ext.create('Voyant.data.model.CorpusTerm', wordData);\n    \t\t// \t\trecords.push(record);\n    \t\t// \t}\n    \t\t// \tthis.setRecords(records);\n    \t\t// \tthis.setMode(this.MODE_CORPUS);\n    \t\t// \tthis.loadFromTermsRecords();\n    \t\t// }\n    \t}\n    },\n    \n    loadFromDocumentTerms: function(documentTerms) {\n    \tdocumentTerms.load({\n\t\t    callback: function(records, operation, success) {\n\t\t    \tthis.setMode(this.MODE_DOCUMENT);\n\t\t    \tthis.setRecords(operation.getRecords()); // not sure why operation.records is different from records\n\t\t    \tthis.loadFromTermsRecords();\n\t\t    },\n\t\t    scope: this,\n\t\t    params: this.getApiParams()\n    \t});\n    },\n    \n    loadFromCorpusTerms: function(corpusTerms) {\n\t\tcorpusTerms.load({\n\t\t    callback: function(records, operation, success) {\n\t\t    \tthis.setMode(this.MODE_CORPUS);\n\t\t    \tthis.setRecords(operation.getRecords()); // not sure why operation.records is different from records\n\t\t\t\tthis.loadFromTermsRecords();\n\t\t    },\n\t\t    scope: this,\n\t\t    params: this.getApiParams()\n    \t});\n    },\n    \n    loadFromTermsRecords: function() {\n    \tvar records = this.getRecords();\n    \tvar visible = this.getApiParam(\"visible\");\n    \tif (visible>records.length) {visible=records.length;}\n    \tvar terms = [];\n    \tfor (var i=0; i<visible; i++) {\n    \t\tif (records[i].get('rawFreq')>0) {\n        \t\tterms.push({text: records[i].get('term').replace(/\"/g,''), rawFreq: records[i].get('rawFreq')});\n    \t\t}\n    \t}\n    \tthis.setTerms(terms);\n    \tthis.buildFromTerms();\n    },\n    \n    initVisLayout: function(forceLayout) {\n    \tif (forceLayout || this.getVisLayout() == undefined) {\n    \t\tvar cirrusForceFlash = this.getApiParam('cirrusForceFlash');\n    \t\tif (cirrusForceFlash == 'true' || cirrusForceFlash === true) {\n    \t\t\tthis.setApiParam('cirrusForceFlash', true);\n    \t\t\tvar id = this.getCirrusId();\n    \t\t\tvar appVars = {\n    \t\t\t\tid: id\n    \t\t\t};\n    \t\t\tvar keys = ['background','fade','smoothness','diagonals'];\n    \t\t\tfor (var i = 0; i < keys.length; i++) {\n    \t\t\t\tappVars[keys[i]] = this.getApiParam(keys[i]);\n    \t\t\t}\n    \t\t\t\n    \t\t\tvar swfscript = '<script type=\"text/javascript\" src=\"'+this.getApplication().getBaseUrl()+'resources/swfobject/swfobject.js'+'\">\u003c/script>';\n    \t\t\tvar cirrusLinks = '<script type=\"text/javascript\">'+\n\t\t\t\t'cirrusClickHandler'+id+' = function(word, value) {\\n'+\n\t\t\t\t'\\tif (window.console && console.info) console.info(word, value);\\n'+\n\t\t\t\t'\\tvar cirrusTool = Ext.getCmp(\"'+this.id+'\");\\n'+\n\t\t\t\t'\\tcirrusTool.dispatchEvent(\"termsClicked\", cirrusTool, [word]);\\n'+\n\t\t\t\t'}\\n'+\n\t\t\t\t'cirrusLoaded'+id+' = function() {\\n'+\n\t\t\t\t'\\tif (window.console && console.info) console.info(\"cirrus flash loaded\");\\n'+\n\t\t\t\t'}\\n'+\n\t\t\t\t'cirrusPNGHandler'+id+' = function(base64String) {\\n'+\n\t\t\t\t'\\tvar cirrusTool = Ext.getCmp(\"'+this.id+'\");\\n'+\n\t\t\t\t'\\tcirrusTool.cirrusPNGHandler(base64String);\\n'+\n\t\t\t\t'}'+\n\t\t\t\t'\u003c/script>';\n    \t\t\t\n    \t\t\tthis.update(swfscript+cirrusLinks, true, function() {\n    \t\t\t\tfunction loadFlash(component) {\n    \t\t\t\t\tif (typeof swfobject !== 'undefined') {\n    \t\t\t\t\t\tvar el = component.getLayout().getRenderTarget();\n    \t\t\t\t\t\tvar width = el.getWidth();\n    \t\t\t\t\t\tvar height = el.getHeight();\n    \t\t    \t\t\t\n\t        \t\t\t\tvar cirrusFlash = component.getApplication().getBaseUrl()+'resources/cirrus/flash/Cirrus.swf';\n\t        \t\t\t\tcomponent.add({\n\t        \t\t\t\t\txtype: 'flash',\n\t        \t\t\t\t\tid: appVars.id,\n\t        \t\t\t\t\turl: cirrusFlash,\n\t        \t\t\t\t\twidth: width,\n\t        \t\t\t\t\theight: height,\n\t        \t\t\t\t\tflashVars: appVars,\n\t        \t\t\t\t\tflashParams: {\n\t\t\t\t\t\t\t\t\tmenu: 'false',\n\t\t\t\t\t\t\t\t\tscale: 'showall',\n\t\t\t\t\t\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\t\t\t\t\t\tbgcolor: '#222222',\n\t\t\t\t\t\t\t\t\twmode: 'opaque'\n\t        \t\t            }\n\t        \t\t\t\t});\n\t        \t\t\t\t\n\t        \t\t\t\tcomponent.cirrusFlashApp = Ext.get(appVars.id).first().dom;\n    \t\t\t\t\t} else {\n    \t\t\t\t\t\tsetTimeout(loadFlash, 50, component);\n    \t\t\t\t\t}\n        \t\t\t}\n    \t\t\t\tloadFlash(this);\n    \t\t\t\t\n    \t\t\t}, this);\n    \t\t} else {\n    \t\t\tvar el = this.getLayout().getRenderTarget();\n    \t\t\tel.update(\"\"); // make sure to clear existing contents (especially for re-layout)\n    \t    \tvar width = el.getWidth();\n\t\t\t\tvar height = el.getHeight();\n\t\t\t\tthis.setVisLayout(\n\t\t\t\t\td3.layoutCloud()\n\t\t\t\t\t\t.size([width, height])\n\t\t\t\t\t\t.overflow(true)\n\t\t\t\t\t\t.padding(1)\n\t\t\t\t\t\t.rotate(function(d) { return this.getApplication().getCategoriesManager().getFeatureForTerm('orientation', d.text); }.bind(this))\n\t\t\t\t\t\t.spiral('archimedean')\n\t\t\t\t\t\t.font(function(d) { return this.getApplication().getCategoriesManager().getFeatureForTerm('font', d.text); }.bind(this))\n\t\t\t\t\t\t.fontSize(function(d) {return d.fontSize; }.bind(this))\n\t\t\t\t\t\t.text(function(d) { return d.text; })\n\t\t\t\t\t\t.on('end', this.draw.bind(this))\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\tvar svg = d3.select(el.dom).append('svg').attr('id',this.getCirrusId()).attr('class', 'cirrusGraph').attr('width', width).attr('height', height);\n\t\t\t\tthis.setVis(svg.append('g').attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')'));\n\t\t\t\t\n\t\t\t\tif (this.getTip() === undefined) {\n\t\t\t\t\tthis.setTip(Ext.create('Ext.tip.Tip', {}));\n\t\t\t\t}\n    \t\t}\n    \t}\n    },\n    \n    buildFromTerms: function() {\n\t\tvar terms = this.getTerms();\n    \tif (this.rendered && terms) {\n    \t\tif (this.getApiParam('cirrusForceFlash') === true) {\n    \t\t\tif (this.cirrusFlashApp !== undefined && this.cirrusFlashApp.clearAll !== undefined) {\n\t    \t\t\tvar words = [];\n\t    \t\t\tfor (var i = 0; i < terms.length; i++) {\n\t    \t\t\t\tvar t = terms[i];\n\t    \t\t\t\tif (!t.text && t.term) {t.text=t.term;}\n\t    \t\t\t\twords.push({word: t.text, size: t.rawFreq, label: t.rawFreq});\n\t    \t\t\t}\n\t    \t\t\tthis.cirrusFlashApp.clearAll();\n\t    \t\t\tthis.cirrusFlashApp.addWords(words);\n\t    \t\t\tthis.cirrusFlashApp.arrangeWords();\n    \t\t\t} else {\n    \t\t\t\tExt.defer(this.buildFromTerms, 50, this);\n    \t\t\t}\n    \t\t} else {\n\t    \t\tvar minSize = 1000;\n\t    \t\tvar maxSize = -1;\n\t    \t\tfor (var i = 0; i < terms.length; i++) {\n\t    \t\t\tvar size = terms[i].rawFreq;\n\t    \t\t\tif (size < minSize) minSize = size;\n\t    \t\t\tif (size > maxSize) maxSize = size;\n\t    \t\t}\n\t    \t\tthis.setSmallestWordSize(minSize);\n\t    \t\tthis.setLargestWordSize(maxSize);\n\t    \t\t\n\t    \t\t// set the relative sizes for each word (0.0 to 1.0), then adjust based on available area\n\t    \t\tthis.setRelativeSizes();\n\t    \t\tthis.setAdjustedSizes();\n\n\t//    \t\tvar fontSizer = d3.scalePow().range([10, 100]).domain([minSize, maxSize]);\n\n\t    \t\tthis.getVisLayout().words(terms).start();\n    \t\t}\n    \t} else {\n    \t\tExt.defer(this.buildFromTerms, 50, this);\n    \t}\n    },\n    \n    draw: function(words, bounds) {\n    \tvar panel = this;\n    \tvar el = this.getLayout().getRenderTarget();\n    \tvar width = this.getVisLayout().size()[0];\n    \tvar height = this.getVisLayout().size()[1];\n    \t\n    \tvar scale = bounds ? Math.min(\n\t\t\twidth / Math.abs(bounds[1].x - width / 2),\n\t\t\twidth / Math.abs(bounds[0].x - width / 2),\n\t\t\theight / Math.abs(bounds[1].y - height / 2),\n\t\t\theight / Math.abs(bounds[0].y - height / 2)\n    \t) / 2 : 1;\n    \t\n\t\tvar t = d3.transition().duration(1000);\n\t\t\t\n\t\tvar nodes = this.getVis().selectAll('text').data(words, function(d) {return d.text;});\n\t\t\n\t\tnodes.exit().transition(t)\n\t\t\t.style('font-size', '1px')\n\t\t\t.remove();\n\n\t\tvar nodesEnter = nodes.enter().append('text')\n\t\t\t.text(function(d) { return d.text; })\n\t\t\t.attr('text-anchor', 'middle')\n\t\t\t.attr('data-freq', function(d) { return d.rawFreq; })\n\t\t\t.attr('transform', function(d) { return 'translate(' + [d.x, d.y] + ')rotate(' + d.rotate + ')'; })\n\t\t\t.style('font-family', function(d) { return panel.getApplication().getCategoriesManager().getFeatureForTerm('font', d.text); })\n\t\t\t.style('fill', function(d) { return panel.getApplication().getColorForTerm(d.text, true); })\n\t\t\t.style('font-size', '1px')\n\t\t\t.on('click', function(obj) {panel.dispatchEvent('termsClicked', panel, [obj.text]);})\n\t\t\t.on('mouseover', function(obj) {\n\t\t\t\tthis.getTip().show();\n\t\t\t}.bind(this))\n\t\t\t.on('mousemove', function(obj) {\n\t\t\t\tvar tip = this.getTip();\n\t\t\t\ttip.update(obj.text+': '+obj.rawFreq);\n\t\t\t\tvar container = Ext.get(this.getCirrusId()).dom;\n\t\t\t\tvar coords = d3.mouse(container);\n\t\t\t\tcoords[1] += 30;\n\t\t\t\ttip.setPosition(coords);\n\t\t\t}.bind(this))\n\t\t\t.on('mouseout', function(obj) {\n\t\t\t\tthis.getTip().hide();\n\t\t\t}.bind(this));\n\t\t\n\t\tvar nodesUpdate = nodes.merge(nodesEnter);\n\t\t\n\t\tnodesUpdate.transition(t)\n\t\t\t.style('font-family', function(d) { return panel.getApplication().getCategoriesManager().getFeatureForTerm('font', d.text); })\n\t\t\t.style('fill', function(d) { return panel.getApplication().getColorForTerm(d.text, true); })\n\t\t\t.attr('transform', function(d) { return 'translate(' + [d.x, d.y] + ')rotate(' + d.rotate + ')'; })\n\t\t\t.style('font-size', function(d) { return d.fontSize + 'px'; });\n\t\t\n\t\tthis.getVis().transition(t).attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')scale(' + scale + ')');\n    },\n    \n    map: function(value, istart, istop, ostart, ostop) {\n\t\treturn ostart + (ostop - ostart) * ((value - istart) / (istop - istart));\n\t},\n\t\n\tcalculateSizeAdjustment: function() {\n\t\tvar terms = this.getTerms();\n        if (terms !== undefined) {\n\t\t\tvar el = this.getLayout().getRenderTarget();\n\t\t\t\n\t        var stageArea = el.getWidth() * el.getHeight();\n\t        if (stageArea < 100000) this.setMinFontSize(8);\n\t        else this.setMinFontSize(12);\n        \n\t        var pixelsPerWord = stageArea / terms.length;\n\t        var totalWordsSize = 0;\n\t        for (var i = 0; i < terms.length; i++) {\n\t            var word = terms[i];\n\t            var wordArea = this.calculateWordArea(word);\n\t            totalWordsSize += wordArea;\n\t        }\n\n\t        this.setSizeAdjustment(stageArea / totalWordsSize);\n        }\n    },\n    \n    calculateWordArea: function(word) {\n        var baseSize = Math.log(word.relativeSize * 10) * Math.LOG10E; // take the relativeSize (0.1 to 1.0), multiply by 10, then get the base-10 log of it\n        var height = (baseSize + word.relativeSize) / 2; // find the average between relativeSize and the log\n        var width = 0; //(baseSize / 1.5) * word.text.length;\n        for (var i = 0; i < word.text.length; i++ ) {\n            var letter = word.text.charAt(i);\n            if (letter == 'f' || letter == 'i' || letter == 'j' || letter == 'l' || letter == 'r' || letter == 't') width += baseSize / 3;\n            else if (letter == 'm' || letter == 'w') width += baseSize / (4 / 3);\n            else width += baseSize / 1.9;\n        }\n        var wordArea = height * width;\n        return wordArea;\n    },\n    \n    setAdjustedSizes: function() {\n    \tthis.calculateSizeAdjustment();\n    \tvar terms = this.getTerms();\n    \tif (terms !== undefined) {\n\t\t\tfor (var i = 0; i < terms.length; i++) {\n\t\t\t\tvar term = terms[i];\n\t\t\t\tvar adjustedSize = this.findNewRelativeSize(term);\n\t\t\t\tterm.fontSize = adjustedSize > this.getMinFontSize() ? adjustedSize : this.getMinFontSize();\n\t\t\t}\n    \t}\n    },\n    \n    setRelativeSizes: function() {\n    \tvar terms = this.getTerms();\n    \tif (terms !== undefined) {\n\t    \tfor (var i = 0; i < terms.length; i++) {\n\t            var word = terms[i];\n\t            word.relativeSize = this.map(word.rawFreq, this.getSmallestWordSize(), this.getLargestWordSize(), 0.1, 1);\n\t        }\n    \t}\n    },\n    \n    findNewRelativeSize: function(word) {\n    \tvar areaMultiplier = this.getSizeAdjustment();\n        var area = this.calculateWordArea(word) * areaMultiplier;\n        // given the area = (x+6)*(2*x/3*y), solve for x\n        var newRelativeSize = (Math.sqrt(6) * Math.sqrt(6 * Math.pow(word.text.length, 2) + area * word.text.length) - 6 * word.text.length) / (2 * word.text.length);\n        return newRelativeSize;\n    }\n});","Ext.define('Voyant.panel.CollocatesGraph', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.collocatesgraph',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tquery: undefined,\n    \t\tmode: undefined,\n    \t\tlimit: 5,\n    \t\tstopList: 'auto',\n    \t\tterms: undefined,\n    \t\tcontext: 5,\n    \t\tcentralize: undefined\n    \t},\n\t\tglyph: 'xf1e0@FontAwesome'\n    },\n    \n    config: {\n    \toptions: [{xtype: 'stoplistoption'},{\n    \t\txtype: 'categoriesoption'\n    \t}],\n    \t\n    \tnodeData: undefined,\n    \tlinkData: undefined,\n    \t\n    \tvisId: undefined,\n    \tvis: undefined,\n    \tvisLayout: undefined,\n    \tnodes: undefined,\n    \tlinks: undefined,\n    \tzoom: undefined,\n    \t\n    \tdragging: false,\n    \t\n    \tcontextMenu: undefined,\n    \t\n    \tcurrentNode: undefined,\n    \t\n    \tnetworkMode: undefined,\n    \t\n    \tgraphStyle: {\n    \t\tkeywordNode: {\n    \t\t\tnormal: {\n    \t\t\t\tfill: '#c6dbef',\n    \t\t\t\tstroke: '#6baed6'\n    \t\t\t},\n    \t\t\thighlight: {\n    \t\t\t\tfill: '#9ecae1',\n    \t\t\t\tstroke: '#3182bd'\n    \t\t\t}\n    \t\t},\n    \t\tcontextNode: {\n    \t\t\tnormal: {\n    \t\t\t\tfill: '#fdd0a2',\n    \t\t\t\tstroke: '#fdae6b'\n    \t\t\t},\n    \t\t\thighlight: {\n    \t\t\t\tfill: '#fd9a53',\n    \t\t\t\tstroke: '#e6550d'\n    \t\t\t}\n    \t\t},\n    \t\tlink: {\n    \t\t\tnormal: {\n    \t\t\t\tstroke: '#000000',\n    \t\t\t\tstrokeOpacity: 0.1\n    \t\t\t},\n    \t\t\thighlight: {\n    \t\t\t\tstroke: '#000000',\n    \t\t\t\tstrokeOpacity: 0.5\n    \t\t\t}\n    \t\t}\n    \t},\n    \t\n    \tgraphPhysics: {\n    \t\tdefaultMode: {\n\t    \t\tdamping: 0.4, // 0 = no damping, 1 = full damping\n\t    \t\tcentralGravity: 0.1, // 0 = no grav, 1 = high grav\n\t    \t\tnodeGravity: -50,  // negative = repel, positive = attract\n\t\t\t\tspringLength: 100,\n\t\t\t\tspringStrength: 0.25, // 0 = not strong, >1 = probably too strong\n\t\t\t\tcollisionScale: 1.25 // 1 = default, 0 = no collision \n    \t\t},\n    \t\tcentralizedMode: {\n    \t\t\tdamping: 0.4, // 0 = no damping, 1 = full damping\n    \t\t\tcentralGravity: 0.1, // 0 = no grav, 1 = high grav\n\t    \t\tnodeGravity: -1,  // negative = repel, positive = attract\n\t\t\t\tspringLength: 200,\n\t\t\t\tspringStrength: 1, // 0 = not strong, >1 = probably too strong\n\t\t\t\tcollisionScale: 1 // 1 = default, 0 = no collision \n    \t\t}\n    \t}\n    },\n\n    DEFAULT_MODE: 0,\n    CENTRALIZED_MODE: 1,\n    \n    constructor: function(config) {\n    \tthis.setNodeData([]);\n    \tthis.setLinkData([]);\n    \t\n    \tthis.setVisId(Ext.id(null, 'links_'));\n\n    \tthis.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n        var me = this;\n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                   xtype: 'querysearchfield'\n                },{\n                \ttext: me.localize('clearTerms'),\n\t\t\t\t\tglyph: 'xf014@FontAwesome',\n                \thandler: this.resetGraph,\n                \tscope: me\n                },this.localize('context'),{\n                \txtype: 'slider',\n                \titemId: 'contextSlider',\n                \tminValue: 3,\n                \tvalue: 5,\n                \tmaxValue: 30,\n                \tincrement: 2,\n                \twidth: 50,\n                \tlisteners: {\n                \t\trender: function(slider) {\n                \t\t\tslider.setValue(this.getApiParam('context'));\n                \t\t},\n                \t\tchangecomplete: function(slider, newValue) {\n                \t\t\tthis.setApiParam('context', slider.getValue());\n                \t\t\tif (this.getNetworkMode() === this.DEFAULT_MODE) {\n                    \t\t\tvar terms = this.getNodeData().map(function(node) { return node.term; });\n                \t\t\t\tif (terms.length > 0) {\n                \t\t\t\t\tthis.setNodeData([]);\n                \t\t\t\t\tthis.setLinkData([]);\n                \t\t\t\t\tthis.refresh();\n                \t\t\t\t\t\n                \t\t\t\t\tthis.loadFromQuery(terms);\n                \t\t\t\t}\n                \t\t\t}\n                \t\t},\n                \t\tscope: me\n                \t}\n                }]\n            }]\n        });\n        \n        this.setContextMenu(Ext.create('Ext.menu.Menu', {\n\t\t\trenderTo: Ext.getBody(),\n\t\t\titems: [{\n\t\t\t\txtype: 'box',\n\t\t\t\titemId: 'label',\n\t\t\t\tmargin: '5px 0px 5px 5px',\n\t\t\t\thtml: ''\n\t\t\t},{\n\t\t        xtype: 'menuseparator'\n\t\t\t},{\n\t\t\t\txtype: 'menucheckitem',\n\t\t\t\ttext: 'Fixed',\n\t\t\t\titemId: 'fixed',\n\t\t\t\tlisteners: {\n\t\t\t\t\tcheckchange: function(c, checked, e) {\n\t\t\t\t\t\tvar node = this.getCurrentNode();\n\t\t\t\t\t\tif (node !== undefined) {\n\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\tfixed: checked\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (checked) {\n\t\t\t\t\t\t\t\tdata.fx = node.x;\n\t\t\t\t\t\t\t\tdata.fy = node.y;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdata.fx = null;\n\t\t\t\t\t\t\t\tdata.fy = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.updateDataForNode(node.id, data);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t},{\n\t\t\t\txtype: 'button',\n\t\t\t\ttext: 'Fetch Collocates',\n\t\t\t\tstyle: 'margin: 5px;',\n\t\t\t\thandler: function(b, e) {\n\t\t\t\t\tvar node = this.getCurrentNode();\n\t\t\t\t\tif (node !== undefined) {\n\t\t\t\t\t\tif (this.getNetworkMode() === this.CENTRALIZED_MODE) {\n\t\t\t\t\t\t\tthis.resetGraph();\n\t\t\t\t\t\t\tthis.setNetworkMode(this.DEFAULT_MODE);\n\t\t\t\t\t\t\tthis.setApiParam('centralize', undefined);\n\t\t\t\t\t\t\tnode.start = 0;\n\t\t\t\t\t\t\tnode.limit = this.getApiParam('limit');\n\t\t\t\t\t\t}\n\t\t    \t\t\tthis.fetchCollocatesForNode(node);\n\t\t    \t\t}\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t},{\n\t\t\t\txtype: 'button',\n\t\t\t\ttext: 'Centralize',\n\t\t\t\tstyle: 'margin: 5px;',\n\t\t\t\thandler: function(b, e) {\n\t\t\t\t\tvar node = this.getCurrentNode();\n\t\t\t\t\tif (node !== undefined) {\n\t\t    \t\t\tthis.doCentralize(node.term);\n\t\t    \t\t}\n\t\t\t\t\tthis.getContextMenu().hide();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t},{\n\t\t\t\txtype: 'button',\n\t\t\t\ttext: 'Remove',\n\t\t\t\tstyle: 'margin: 5px;',\n\t\t\t\thandler: function(b, e) {\n\t\t\t\t\tvar node = this.getCurrentNode();\n\t\t\t\t\tif (node !== undefined) {\n\t\t\t\t\t\tthis.removeNode(node.id);\n\t\t\t\t\t}\n\t\t\t\t\tb.up('menu').hide();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}]\n\t\t}));\n        \n        this.on('loadedCorpus', function(src, corpus) {\n\t\t\tif (this.isVisible()) {\n\t\t\t\tthis.initLoad();\n\t\t\t}\n        }, this);\n        \n        this.on('activate', function() { // load after tab activate (if we're in a tab panel)\n\t\t\tif (this.getCorpus()) {\n\t\t\t    if (this.getNodeData().length === 0) { // only initLoad if there isn't already data\n\t\t\t        Ext.Function.defer(this.initLoad, 100, this);\n\t\t\t    }\n\t\t\t}\n    \t}, this);\n        \n        this.on('query', function(src, query) {this.loadFromQuery(query);}, this);\n        \n        this.on('resize', function(panel, width, height) {\n        \tvar vis = Ext.get(this.getVisId());\n        \tif (vis) {\n        \t\tvar el = this.body;//this.getLayout().getRenderTarget();\n            \tvar elHeight = el.getHeight();\n            \tvar elWidth = el.getWidth();\n            \t\n        \t\tvis.el.dom.setAttribute('width', elWidth);\n        \t\tvis.el.dom.setAttribute('height', elHeight);\n        \t\tthis.getVisLayout()\n        \t\t\t.force('x', d3.forceX(elWidth/2))\n\t    \t\t\t.force('y', d3.forceY(elHeight/2));\n//        \t\t\t.alpha(0.5).restart(); // restarting physics messes up zoomToFit\n        \t\t\n        \t\tExt.Function.defer(this.zoomToFit, 100, this);\n //       \t\tthis.zoomToFit();\n        \t}\n\t\t}, this);\n        \n        me.callParent(arguments);\n\n    },\n    \n    initLoad: function() {\n\t\tthis.initGraph();\n\t\tthis.setNetworkMode(this.DEFAULT_MODE);\n\t\t\n\t\tif (this.getApiParam('centralize')) {\n\t\t\tthis.setNetworkMode(this.CENTRALIZED_MODE);\n\t\t\tvar term = this.getApiParam('centralize');\n\t\t\tthis.doCentralize(term);\n\t\t} else {\n\t\t\tvar limit = 3;\n\t\t\tvar query = this.getApiParam('query');\n\t\t\tif (query !== undefined) {\n\t\t\t\tlimit = Ext.isArray(query) ? query.length : query.split(',').length;\n\t\t\t}\n\t\t\tthis.getCorpus().getCorpusTerms({autoLoad: false}).load({\n\t\t\t\tparams: {\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\tquery: query,\n\t\t\t\t\tstopList: this.getApiParam('stopList'),\n\t\t\t\t\tcategories: this.getApiParam(\"categories\")\n\t\t\t\t},\n\t\t\t    callback: function(records, operation, success) {\n\t\t\t    \tif (success) {\n\t\t\t    \t\tthis.loadFromCorpusTermRecords(records);\n\t\t\t    \t}\n\t\t\t    },\n\t\t\t    scope: this\n\t    \t});\n\t\t}\n    },\n    \n    loadFromQuery: function(query) {\n    \tif (Ext.isArray(query) && query.length==0) {\n    \t\tthis.setApiParam(\"query\", undefined);\n    \t\tthis.resetGraph();\n    \t\treturn;\n    \t}\n    \tthis.setApiParams({\n    \t\tmode: 'corpus',\n    \t\tquery: query\n    \t});\n    \tvar params = this.getApiParams();\n    \tparams.noCache=true;\n    \t(Ext.isString(query) ? [query] : query).forEach(function(q) {\n        \tthis.getCorpus().getCorpusCollocates({autoLoad: false}).load({\n        \t\tparams: Ext.apply(Ext.clone(params), {query: q}),\n        \t\tcallback: function(records, operations, success) {\n        \t\t\tif (success) {\n        \t\t\t\tthis.loadFromCorpusCollocateRecords(records);\n        \t\t\t}\n        \t\t},\n        \t\tscope: this\n        \t});\n    \t}, this);\n    },\n    \n    loadFromCorpusTermRecords: function(corpusTerms) {\n    \tif (Ext.isArray(corpusTerms) && corpusTerms.length>0) {\n    \t\tvar terms = [];\n    \t\tcorpusTerms.forEach(function(corpusTerm) {\n    \t\t\tterms.push(corpusTerm.getTerm());\n    \t\t});\n    \t\tthis.loadFromQuery(terms);\n    \t}\n    },\n    \n    loadFromCorpusCollocateRecords: function(records, keywordId) {\n    \tif (Ext.isArray(records)) {\n    \t\tvar start = this.getApiParam('limit');\n    \t\t\n    \t\tvar el = this.getLayout().getRenderTarget();\n    \t\tvar cX = el.getWidth()/2;\n    \t\tvar cY = el.getHeight()/2;\n    \t\t\n    \t\tvar existingKeys = {};\n    \t\tthis.getNodeData().forEach(function(item) {\n    \t\t\texistingKeys[item.id] = true;\n    \t\t}, this);\n    \t\t\n    \t\tvar newNodes = [];\n    \t\tvar newLinks = [];\n    \t\t\n    \t\trecords.forEach(function(corpusCollocate, index) {\n    \t\t\tvar term = corpusCollocate.getTerm();\n    \t\t\tvar contextTerm = corpusCollocate.getContextTerm();\n    \t\t\tvar termFreq = corpusCollocate.getKeywordRawFreq();\n    \t\t\tvar contextFreq = corpusCollocate.getContextTermRawFreq();\n    \t\t\t\n    \t\t\tvar termValue = termFreq;\n    \t\t\tvar contextValue = contextFreq;\n    \t\t\tif (this.getNetworkMode() === this.CENTRALIZED_MODE) {\n    \t\t\t\ttermValue = 0;\n    \t\t\t\tcontextValue = Math.log(contextFreq);\n    \t\t\t}\n    \t\t\t\n    \t\t\tvar termEntry = undefined;\n    \t\t\tvar contextTermEntry = undefined;\n    \t\t\t\n    \t\t\tif (index == 0) { // only process keyword once\n    \t\t\t\tif (keywordId === undefined) keywordId = this.idGet(term);\n\t    \t\t\tif (existingKeys[keywordId] !== undefined) {\n\t    \t\t\t\tthis.updateDataForNode(keywordId, {\n\t    \t\t\t\t\ttitle: term+' ('+termFreq+')',\n\t    \t\t\t\t\ttype: 'keyword',\n\t    \t\t\t\t\tvalue: termValue\n\t    \t\t\t\t});\n\t    \t\t\t} else {\n\t    \t\t\t\texistingKeys[keywordId] = true;\n\t    \t\t\t\t\n\t    \t\t\t\ttermEntry = {\n\t\t    \t\t\t\tid: keywordId,\n\t    \t\t\t\t\tterm: term,\n\t    \t\t\t\t\ttitle: term+' ('+termFreq+')',\n\t    \t\t\t\t\ttype: 'keyword',\n\t    \t\t\t\t\tvalue: termValue,\n\t    \t\t\t\t\tstart: start,\n\t    \t\t\t\t\tfixed: false,\n\t    \t\t\t\t\tx: cX,\n\t    \t\t\t\t\ty: cY\n\t\t\t\t\t\t};\n\t    \t\t\t\tnewNodes.push(termEntry);\n\t    \t\t\t}\n\t\t\t\t}\n    \t\t\t\n    \t\t\tif (term != contextTerm) {\n\t    \t\t\tvar contextId = this.idGet(contextTerm);\n\t    \t\t\tif (existingKeys[contextId] !== undefined) {\n\t    \t\t\t} else {\n\t    \t\t\t\texistingKeys[contextId] = true;\n\t    \t\t\t\t\n\t    \t\t\t\tcontextTermEntry = {\n    \t    \t\t\t\tid: contextId,\n    \t    \t\t\t\tterm: contextTerm,\n        \t\t\t\t\ttitle: contextTerm+' ('+contextFreq+')',\n        \t\t\t\t\ttype: 'context',\n        \t\t\t\t\tvalue: contextValue,\n        \t\t\t\t\tstart: 0,\n        \t\t\t\t\tfixed: false,\n\t    \t\t\t\t\tx: cX,\n\t    \t\t\t\t\ty: cY\n    \t\t\t\t\t};\n\t    \t\t\t\tnewNodes.push(contextTermEntry);\n\t    \t\t\t}\n\t    \t\t\t\n\t    \t\t\tvar existingLink = null;\n\t    \t\t\tvar linkData = this.getLinkData();\n\t    \t\t\tfor (var i = 0; i < linkData.length; i++) {\n\t    \t\t\t\tvar link = linkData[i];\n\t    \t\t\t\tif ((link.source.id == keywordId && link.target.id == contextId) || (link.source.id == contextId && link.target.id == keywordId)) {\n\t    \t\t\t\t\texistingLink = link;\n\t    \t\t\t\t\tbreak;\n\t    \t\t\t\t}\n\t    \t\t\t}\n\n\t    \t\t\tvar linkValue = corpusCollocate.getContextTermRawFreq();\n\t    \t\t\tif (existingLink === null) {\n\t    \t\t\t\tnewLinks.push({source: keywordId, target: contextId, value: linkValue, id: keywordId+'-'+contextId});\n\t    \t\t\t} else if (existingLink.value < linkValue) {\n//\t    \t\t\t\texistingLink.value = linkValue;\n\t    \t\t\t}\n    \t\t\t}\n    \t\t}, this);\n    \t\t\n    \t\tthis.setNodeData(this.getNodeData().concat(newNodes));\n    \t\tthis.setLinkData(this.getLinkData().concat(newLinks));\n    \t\t\n    \t\tthis.refresh();\t\t\n    \t}\n    },\n    \n    idGet: function(term) {\n    \treturn term.replace(/\\W/g, '_');\n    },\n    \n    updateDataForNode: function(nodeId, dataObj) {\n    \tvar data = this.getNodeData();\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tif (data[i].id === nodeId) {\n\t\t\t\tExt.apply(data[i], dataObj);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n    },\n    \n    removeNode: function(nodeId, removeOrphans) {\n    \tvar data = this.getNodeData();\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tif (data[i].id === nodeId) {\n\t\t\t\tdata.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tdata = this.getLinkData();\n\t\tfor (var i = data.length-1; i >= 0; i--) {\n\t\t\tif (data[i].source.id === nodeId || data[i].target.id === nodeId) {\n\t\t\t\tdata.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tthis.setApiParam(\"query\", Ext.Array.remove(Ext.Array.from(this.getApiParam(\"query\")), nodeId));\n\t\t\n\t\tif (removeOrphans) {\n\t\t\t// TODO\n\t\t}\n\t\t\n\t\tthis.refresh();\n    },\n    \n    doCentralize: function(term) {\n    \tthis.setApiParam(\"centralize\",term);\n    \tthis.resetGraph();\n    \t\n    \tthis.setNetworkMode(this.CENTRALIZED_MODE);\n    \t\n    \tvar data = {\n\t\t\tid: this.idGet(term),\n\t\t\tterm: term,\n\t\t\ttitle: term+' ('+1+')',\n\t\t\ttype: 'keyword',\n\t\t\tvalue: 1000,\n\t\t\tstart: 0\n\t\t};\n\t\tthis.setNodeData([data]);\n\t\tthis.refresh();\n\t\t\n\t\tvar centralizeLimit = 150;\n\t\tvar limit = this.getApiParam('limit');\n\t\tthis.setApiParam('limit', centralizeLimit);\n\t\tthis.fetchCollocatesForNode(data);\n\t\tthis.setApiParam('limit', limit);\n    },\n    \n    // called by setNetworkMode\n    applyNetworkMode: function(mode) {\n    \tif (this.getVisLayout()) {\n\t    \tif (mode === this.DEFAULT_MODE) {\n\t    \t\tvar physics = this.getGraphPhysics().defaultMode;\n\t    \t\tthis.getVisLayout()\n\t    \t\t\t.velocityDecay(physics.damping)\n\t\t    \t\t.force('link', d3.forceLink().id(function(d) { return d.id; }).distance(physics.springLength).strength(physics.springStrength))\n\t\t\t\t\t.force('charge', d3.forceManyBody().strength(physics.nodeGravity))\n\t\t\t\t\t.force('collide', d3.forceCollide(function(d) { return Math.sqrt(d.bbox.width * d.bbox.height) * physics.collisionScale; }));\n\t    \t\tthis.getVisLayout().force('x').strength(physics.centralGravity);\n\t    \t\tthis.getVisLayout().force('y').strength(physics.centralGravity);\n\t    \t} else {\n\t    \t\tvar physics = this.getGraphPhysics().centralizedMode;\n\t    \t\tthis.getVisLayout()\n\t    \t\t\t.velocityDecay(physics.damping)\n\t\t    \t\t.force('link', d3.forceLink().id(function(d) { return d.id; }).distance(physics.springLength).strength(physics.springStrength))\n\t\t\t\t\t.force('charge', d3.forceManyBody().strength(function(d) {\n\t\t\t\t\t\tif (d.type === 'keyword') {\n\t\t\t\t\t\t\treturn -10000;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}))\n\t\t\t\t\t.force('collide', d3.forceCollide(function(d) {\n\t\t\t\t\t\tif (d.type === 'keyword') {\n\t\t\t\t\t\t\treturn d.value;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn Math.sqrt(d.bbox.width * d.bbox.height) * physics.collisionScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t    \t\tthis.getVisLayout().force('x').strength(physics.centralGravity);\n\t    \t\tthis.getVisLayout().force('y').strength(physics.centralGravity);\n\t    \t}\n    \t}\n    \t\n    \treturn mode; // need to return mode for it to actually be set\n    },\n    \n    initGraph: function() {\n    \tvar el = this.getLayout().getRenderTarget();\n    \tel.update('');\n    \tvar width = el.getWidth();\n    \tvar height = el.getHeight();\n    \t\n    \tthis.setVisLayout(d3.forceSimulation()\n    \t\t.force('x', d3.forceX(width/2))\n    \t\t.force('y', d3.forceY(height/2))\n\t\t\t.on('tick', function() {\n\t    \t\tthis.getLinks()\n\t    \t\t\t.attr('x1', function(d) { return d.source.x; })\n\t    \t\t\t.attr('y1', function(d) { return d.source.y; })\n\t    \t\t\t.attr('x2', function(d) { return d.target.x; })\n\t    \t\t\t.attr('y2', function(d) { return d.target.y; });\n\t//    \t\tthis.getLinks().attr('d', function(d) {\n\t//\t\t\t\treturn 'M' + d[0].x + ',' + d[0].y\n\t//\t\t\t\t\t\t+ 'S' + d[1].x + ',' + d[1].y\n\t//\t\t\t\t\t\t+ ' ' + d[2].x + ',' + d[2].y;\n\t//\t\t\t});\n\t    \t\tthis.getNodes().attr('transform', function(d) {\n\t    \t\t\tvar x = d.x;\n\t    \t\t\tvar y = d.y;\n\t    \t\t\tif (this.getNetworkMode() === this.DEFAULT_MODE || d.type !== 'keyword') {\n\t\t    \t\t\tx -= d.bbox.width*0.5;\n\t\t    \t\t\ty -= d.bbox.height*0.5;\n\t    \t\t\t} else {\n\t    \t\t\t\t\n\t    \t\t\t}\n\t    \t\t\treturn 'translate('+x+','+y+')';\n\t    \t\t}.bind(this));\n\t    \t\t\n\t    \t\tif (!this.getDragging() && this.getVisLayout().alpha() < 0.075) {\n\t    \t\t\tthis.getVisLayout().alpha(-1); // trigger end event\n\t    \t\t}\n\t    \t}.bind(this))\n\t    \t.on('end', function() {\n        \t\tExt.Function.defer(this.zoomToFit, 100, this);\n\t    \t}.bind(this))\n\t\t);\n    \t\n    \tvar svg = d3.select(el.dom).append('svg').attr('id',this.getVisId()).attr('class', 'linksGraph').attr('width', width).attr('height', height);\n    \tvar g = svg.append('g');\n    \t\n    \tvar zoom = d3.zoom()\n    \t\t.scaleExtent([1/4, 4])\n    \t\t.on('zoom', function() {\n\t\t\t\tg.attr('transform', d3.event.transform);\n\t\t\t});\n    \tthis.setZoom(zoom);\n\t\tsvg.call(zoom);\n\t\t\n\t\tsvg.on('click', function() {\n    \t\tthis.getContextMenu().hide();\n    \t}.bind(this));\n    \t\n    \tthis.setLinks(g.append('g').attr('class', 'links').selectAll('.link'));\n    \tthis.setNodes(g.append('g').attr('class', 'nodes').selectAll('.node'));\n\t\tthis.setVis(g);\n    },\n    \n    resetGraph: function() {\n\t\tthis.setNodeData([]);\n    \tthis.setLinkData([]);\n\t\tthis.setNetworkMode(this.DEFAULT_MODE); // ? there was another version of this function without this\n\t\tthis.refresh();\n    },\n    \n    refresh: function() {\n    \tvar me = this;\n    \t\n    \tvar nodeData = this.getNodeData();\n    \tvar linkData = this.getLinkData();\n    \t\n//    \tvar nodeMap = d3.map(nodeData, function(d) { return d.id; });\n//    \tvar bilinks = [];\n//    \tlinkData.forEach(function(link) {\n//    \t\tvar s = link.source = nodeMap.get(link.source);\n//    \t\tvar t = link.target = nodeMap.get(link.target);\n//    \t\tvar i = {};\n//    \t\tnodeData.push(i);\n//    \t\tlinkData.push({source: s, target: i}, {source: i, target: t});\n//    \t\tbilinks.push([s,i,t]);\n//    \t});\n    \t\n    \tvar link = this.getLinks().data(linkData, function(d) { return d.id; });\n    \tlink.exit().remove();\n\t\tvar linkEnter = link.enter().append('line')\n\t\t\t.attr('class', 'link')\n\t\t\t.attr('id', function(d) { return d.id; })\n\t\t\t.on('mouseover', me.linkMouseOver.bind(me))\n\t\t\t.on('mouseout', me.linkMouseOut.bind(me))\n\t\t\t.on('click', function(data) {\n\t\t\t\td3.event.stopImmediatePropagation();\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tthis.dispatchEvent('termsClicked', this, ['\"'+data.source.term+' '+data.target.term+'\"~'+this.getApiParam('context')]);\n\t\t\t}.bind(me))\n//\t\t\t.style('fill', 'none')\n\t\t\t.style('cursor', 'pointer')\n\t\t\t.style('stroke-width', function(d) {\n\t\t\t\tif (me.getNetworkMode() === me.DEFAULT_MODE) {\n\t\t\t\t\treturn Math.max(1, Math.min(15, Math.sqrt(d.value)));\n\t\t\t\t} else {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\tthis.setLinks(linkEnter.merge(link));\n\n    \tvar node = this.getNodes().data(nodeData, function(d) { return d.id; });\n    \tnode.exit().remove();\n    \tvar nodeEnter = node.enter().append('g')\n\t\t\t.attr('class', function(d) { return 'node '+d.type; })\n\t\t\t.attr('id', function(d) { return d.id; })\n\t\t\t.on('mouseover', me.nodeMouseOver.bind(me))\n\t\t\t.on('mouseout', me.nodeMouseOut.bind(me))\n\t\t\t.on('click', function(data) {\n\t\t\t\td3.event.stopImmediatePropagation();\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tthis.dispatchEvent('termsClicked', this, [data.term]);\n\t\t\t}.bind(me))\n\t\t\t.on('dblclick', function(data) {\n\t\t\t\td3.event.stopImmediatePropagation();\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tthis.fetchCollocatesForNode(data);\n\t\t\t}.bind(me))\n\t\t\t.on('contextmenu', function(d, i) {\n\t\t\t\td3.event.preventDefault();\n//\t\t\t\tme.getTip().hide();\n\t\t\t\tvar menu = me.getContextMenu();\n\t\t\t\tmenu.queryById('label').setHtml(d.term);\n    \t\t\tmenu.queryById('fixed').setChecked(d.fixed);\n\t\t\t\tmenu.showAt(d3.event.pageX+10, d3.event.pageY-50);\n\t\t\t})\n\t\t\t.call(d3.drag()\n\t\t\t\t.on('start', function(d) {\n\t\t\t\t\tme.setDragging(true);\n\t\t\t\t\tif (!d3.event.active) me.getVisLayout().alpha(0.3).restart();\n\t\t\t\t\td.fx = d.x;\n\t\t\t\t\td.fy = d.y;\n\t\t\t\t\td.fixed = true;\n\t\t\t\t})\n\t\t\t\t.on('drag', function(d) {\n\t\t\t\t\tme.getVisLayout().alpha(0.3); // don't let simulation end while the user is dragging\n\t\t\t\t\td.fx = d3.event.x;\n\t\t\t\t\td.fy = d3.event.y;\n\t\t\t\t\tif (me.isMasked()) {\n\t\t\t    \t\tif (!me.isOffCanvas(d3.event.x, d3.event.y)) {\n\t\t\t    \t\t\tme.unmask();\n\t\t\t    \t\t}\n\t\t\t    \t} else if (me.isOffCanvas(d3.event.x, d3.event.y)) {\n\t\t\t    \t\tme.mask(me.localize('releaseToRemove'));\n\t\t\t    \t}\n\t\t\t\t})\n\t\t\t\t.on('end', function(d) {\n\t\t\t\t\tme.setDragging(false);\n//\t\t\t\t\tif (!d3.event.active) me.getVisLayout().alpha(0);\n\t\t\t\t\tif (d.fixed != true) {\n\t\t\t\t\t\td.fx = null;\n\t\t\t\t\t\td.fy = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (me.isOffCanvas(d3.event.x, d3.event.y)) {\n\t    \t    \t\tme.unmask();\n\t    \t    \t\tme.mask(me.localize('cleaning'));\n\t    \t    \t\tme.removeNode(d.id);\n\t    \t    \t\tme.unmask();\n\t    \t    \t}\n\t\t\t\t})\n\t\t\t);\n    \t\n    \tnodeEnter.append('title').text(function(d) { return d.title; });\n    \t\n    \tif (this.getNetworkMode() === this.DEFAULT_MODE) {\n    \t\tnodeEnter.append('rect')\n\t\t\t\t.style('stroke-width', 1)\n\t\t\t\t.style('stroke-opacity', 1);\n    \t} else {\n    \t\tnodeEnter.filter(function(d) { return d.type === 'keyword'; }).append('circle')\n    \t\t\t.style('stroke-width', 1)\n    \t\t\t.style('stroke-opacity', 1);\n    \t}\n    \t\n    \tnodeEnter.append('text')\n\t\t\t.attr('font-family', function(d) { return me.getApplication().getCategoriesManager().getFeatureForTerm('font', d.term); })\n\t\t\t.attr('font-size', function(d) { return Math.max(10, Math.sqrt(d.value)); })\n\t\t\t.text(function(d) { return d.term; })\n\t\t\t.each(function(d) { d.bbox = this.getBBox(); }) // set bounding box for later use\n\t\t\t.style('cursor', 'pointer')\n\t\t\t.style('user-select', 'none')\n\t\t\t.attr('dominant-baseline', 'middle');\n    \t\n    \tthis.setNodes(nodeEnter.merge(node));\n    \t\n    \tif (this.getNetworkMode() === this.DEFAULT_MODE) {\n\t    \tthis.getVis().selectAll('rect')\n\t    \t\t.attr('width', function(d) { return d.bbox.width+16; })\n\t\t\t\t.attr('height', function(d) { return d.bbox.height+8; })\n\t\t\t\t.attr('rx', function(d) { return Math.max(2, d.bbox.height * 0.2); })\n\t\t\t\t.attr('ry', function(d) { return Math.max(2, d.bbox.height * 0.2); })\n\t\t\t\t.call(this.applyNodeStyle.bind(this));\n\t    \tthis.getVis().selectAll('text')\n\t\t    \t.attr('dx', 8)\n\t\t\t\t.attr('dy', function(d) { return d.bbox.height*0.5+4; });\n    \t} else {\n    \t\tthis.getVis().selectAll('circle')\n    \t\t\t.attr('r', function(d) { return Math.min(150, d.bbox.width); })\n    \t\t\t.call(this.applyNodeStyle.bind(this));\n    \t\tthis.getVis().selectAll('text')\n\t\t    \t.attr('dx', function(d) {\n\t\t    \t\tif (d.type === 'keyword') {\n\t\t    \t\t\treturn -d.bbox.width*0.5;\n\t\t\t    \t} else {\n\t\t\t    \t\treturn 8;\n\t\t\t    \t}\n\t    \t\t})\n\t\t\t\t.attr('dy', function(d) {\n\t\t\t\t\tif (d.type === 'keyword') {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn d.bbox.height*0.5+4;\n\t\t\t\t\t}\n\t\t\t\t});\n    \t}\n    \tthis.getVis().selectAll('line').call(this.applyLinkStyle.bind(this));\n    \t\n    \t\n    \tthis.getVisLayout().nodes(nodeData);\n    \tthis.getVisLayout().force('link').links(linkData);\n    \tthis.getVisLayout().alpha(1).restart();\n    },\n    \n    isOffCanvas: function(x, y) {\n    \tvar vis = Ext.get(this.getVisId());\n    \treturn x < 0 || y < 0 || x > vis.getWidth() || y > vis.getHeight();\n    },\n    \n    zoomToFit: function(paddingPercent, transitionDuration) {\n    \tvar bounds = this.getVis().node().getBBox();\n    \tvar width = bounds.width;\n    \tvar height = bounds.height;\n    \tvar midX = bounds.x + width/2;\n    \tvar midY = bounds.y + height/2;\n    \tvar svg = this.getVis().node().parentElement;\n    \tvar svgRect = svg.getBoundingClientRect();\n    \tvar fullWidth = svgRect.width;\n    \tvar fullHeight = svgRect.height;\n    \tvar scale = (paddingPercent || 0.8) / Math.max(width/fullWidth, height/fullHeight);\n    \tvar translate = [fullWidth/2 - scale*midX, fullHeight/2 - scale*midY];\n    \tif (width<1) {return} // FIXME: something strange with spyral\n     \t\n    \td3.select(svg)\n    \t\t.transition()\n    \t\t.duration(transitionDuration || 500)\n    \t\t.call(this.getZoom().transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale));\n    },\n \n    applyNodeStyle: function(sel, nodeState) {\n\t\tvar state = nodeState === undefined ? 'normal' : nodeState;\n    \tsel.style('fill', function(d) { var type = d.type+'Node'; return this.getGraphStyle()[type][state].fill; }.bind(this));\n    \tsel.style('stroke', function(d) { var type = d.type+'Node'; return this.getGraphStyle()[type][state].stroke; }.bind(this));\n    },\n    \n    applyLinkStyle: function(sel, linkState) {\n    \tvar state = linkState === undefined ? 'normal' : linkState;\n    \tsel.style('stroke', function(d) { return this.getGraphStyle().link[state].stroke; }.bind(this));\n    \tsel.style('stroke-opacity', function(d) { return this.getGraphStyle().link[state].strokeOpacity; }.bind(this));\n    },\n    \n    linkMouseOver: function(d) {\n    \tthis.getVis().selectAll('line').call(this.applyLinkStyle.bind(this));\n    \tthis.getVis().select('#'+d.id).call(this.applyLinkStyle.bind(this), 'highlight');\n    },\n    \n    linkMouseOut: function(d) {\n    \tthis.getVis().selectAll('line').call(this.applyLinkStyle.bind(this));\n    },\n    \n    nodeMouseOver: function(d) {\n    \tthis.setCurrentNode(d);\n\t\t\n\t\tthis.getVis().selectAll('rect').call(this.applyNodeStyle.bind(this));\n\t\t\n\t\tthis.getLinks().each(function(link) {\n\t\t\tvar id;\n\t\t\tif (link.source.id == d.id) {\n\t\t\t\tid = link.target.id;\n\t\t\t} else if (link.target.id == d.id) {\n\t\t\t\tid = link.source.id;\n\t\t\t}\n\t\t\tif (id !== undefined) {\n\t\t\t\tthis.getVis().select('#'+id+' rect').call(this.applyNodeStyle.bind(this), 'highlight');\n\t\t\t\tthis.getVis().select('#'+link.id).call(this.applyLinkStyle.bind(this), 'highlight');\n\t\t\t}\n\t\t}.bind(this));\n\t\t\n\t\tthis.getVis().select('#'+d.id+' rect')\n\t\t\t.style('stroke-width', 3)\n\t\t\t.call(this.applyNodeStyle.bind(this), 'highlight');\n    },\n    \n    nodeMouseOut: function(d) {\n    \tif (!this.getContextMenu().isVisible()) {\n\t\t\tthis.setCurrentNode(undefined);\n\t\t}\n\t\t\n\t\tthis.getVis().selectAll('rect')\n\t\t\t.style('stroke-width', 1)\n\t\t\t.call(this.applyNodeStyle.bind(this));\n\t\t\n\t\tthis.getVis().selectAll('line')\n\t\t\t.call(this.applyLinkStyle.bind(this));\n    },\n    \n    fetchCollocatesForNode: function(d) {\n    \tvar limit = this.getApiParam('limit');\n    \tvar query = this.getApiParam(\"query\");\n    \t\n    \tvar query = Ext.Array.from(this.getApiParam(\"query\"));\n    \tExt.Array.include(query, d.term)\n\t\tthis.setApiParam(\"query\", query);\n\n    \tvar corpusCollocates = this.getCorpus().getCorpusCollocates({autoLoad: false});\n    \tcorpusCollocates.load({\n    \t\tparams: Ext.apply(this.getApiParams(), {query: d.term, start: d.start, limit: limit}),\n    \t\tcallback: function(records, operation, success) {\n    \t\t\tif (success) {\n    \t\t\t\tthis.updateDataForNode(d.id, {\n    \t\t\t\t\tstart: d.start+limit\n    \t\t\t\t});\n    \t    \t\t\n    \t    \t\tthis.loadFromCorpusCollocateRecords(records, d.id);\n    \t\t\t}\n    \t\t},\n    \t\tscope: this\n    \t});\n    }\n    \n});","Ext.define('Voyant.panel.Contexts', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\trequires: ['Voyant.data.store.Contexts'],\n\talias: 'widget.contexts',\n\tisConsumptive: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tquery: undefined,\n    \t\tdocId: undefined,\n    \t\tdocIndex: undefined,\n    \t\tstopList: 'auto',\n    \t\tcontext: 5,\n    \t\texpand: 50\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    config: {\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}]\n    },\n    constructor: function() {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n        var me = this;\n\n        Ext.apply(me, { \n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n            store : Ext.create(\"Voyant.data.store.ContextsBuffered\", {\n            \tparentPanel: this,\n            \tproxy: {\n            \t\textraParams: {\n                    \tstripTags: \"all\"            \t\t\t\n            \t\t}\n            \t}\n//            \tsortOnLoad: true,\n//            \tsorters: {\n//                    property: 'position',\n//                    direction: 'ASC'\n//            \t}\n            }),\n    \t\tselModel: {\n    \t\t\ttype: 'rowmodel',\n                listeners: {\n                    selectionchange: {\n                    \tfn: function(sm, selections) {\n                    \t\tthis.getApplication().dispatchEvent('termLocationClicked', this, selections);\n                    \t},\n                    \tscope: this\n                    }\n                }\n            },\n            plugins: [{ // the expander slider assumes there's only one plugin, needs to be updated if changed\n                ptype: 'rowexpander',\n                rowBodyTpl : new Ext.XTemplate('')\n            }],\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'querysearchfield'\n                }, {\n                    xtype: 'totalpropertystatus'\n                }, this.localize('context'), {\n                \txtype: 'slider',\n                \tminValue: 5,\n                \tvalue: 5,\n                \tmaxValue: 50,\n                \tincrement: 5,\n                \twidth: 50,\n                \tlisteners: {\n                \t\trender: function(slider) {\n                \t\t\tslider.setValue(me.getApiParam('context'));\n                \t\t},\n                \t\tchangecomplete: function(slider, newValue) {\n                \t\t\tme.setApiParam(\"context\", slider.getValue());\n           \t\t        \tme.getStore().clearAndLoad({params: me.getApiParams()});\n                \t\t}\n                \t}\n                }, this.localize('expand'), {\n                \txtype: 'slider',\n                \tminValue: 5,\n                \tvalue: 5,\n                \tmaxValue: 500,\n                \tincrement: 10,\n                \twidth: 50,\n                \tlisteners: {\n                \t\trender: function(slider) {\n                \t\t\tslider.setValue(me.getApiParam('expand'));\n                \t\t},\n                \t\tchangecomplete: function(slider, newValue) {\n                \t\t\tme.setApiParam('expand', newValue);\n                \t\t\tvar view = me.getView();\n                \t\t\tvar recordsExpanded = me.plugins[0].recordsExpanded;\n                \t\t\tvar store = view.getStore();\n                \t\t\tfor (var id in recordsExpanded) {\n                \t\t\t\tvar record = store.getByInternalId(id);\n            \t\t\t\t\tvar row = view.getRow(record);\n            \t\t\t\t\tvar expandRow = row.parentNode.childNodes[1];\n                \t\t\t\tif (recordsExpanded[id]) {\n                \t\t\t\t\tview.fireEvent(\"expandbody\", row, record, expandRow, {force: true});\n                \t\t\t\t} else {\n                \t\t\t\t\tExt.fly(expandRow).down('.x-grid-rowbody').setHtml('');\n                \t\t\t\t}\n                \t\t\t}\n                \t\t}\n                \t}\n                },{\n        \t\t\txtype: 'corpusdocumentselector'\n        \t\t}]\n            }],\n    \t\tcolumns: [{\n    \t\t\ttext: this.localize(\"document\"),\n    \t\t\ttoolTip: this.localize(\"documentTip\"),\n                width: 'autoSize',\n        \t\tdataIndex: 'docIndex',\n                sortable: true,\n                renderer: function (value, metaData, record, rowIndex, colIndex, store) {\n                \treturn store.getCorpus().getDocument(value).getTinyLabel();\n                }\n            },{\n    \t\t\ttext: this.localize(\"left\"),\n    \t\t\ttooltip: this.localize(\"leftTip\"),\n    \t\t\talign: 'right',\n        \t\tdataIndex: 'left',\n                sortable: true,\n                flex: 1\n            },{\n    \t\t\ttext: this.localize(\"term\"),\n    \t\t\ttooltip: this.localize(\"termTip\"),\n        \t\tdataIndex: 'term',\n                sortable: true,\n                width: 'autoSize'\n            },{\n    \t\t\ttext: this.localize(\"right\"),\n    \t\t\ttooltip: this.localize(\"rightTip\"),\n        \t\tdataIndex: 'right',\n                sortable: true,\n                flex: 1\n            },{\n    \t\t\ttext: this.localize(\"position\"),\n    \t\t\ttooltip: this.localize(\"positionTip\"),\n        \t\tdataIndex: 'position',\n                sortable: true,\n                hidden: true,\n                flex: 1\n            }],\n            listeners: {\n            \tscope: this,\n\t\t\t\tcorpusSelected: function() {\n\t\t\t\t\tif (this.getStore().getCorpus()) {\n\t\t\t\t\t\tthis.setApiParams({docId: undefined, docIndex: undefined})\n\t\t\t\t\t\tthis.getStore().clearAndLoad()\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tdocumentsSelected: function(src, docs) {\n\t\t\t\t\tvar docIds = [];\n\t\t\t\t\tvar corpus = this.getStore().getCorpus();\n\t\t\t\t\tdocs.forEach(function(doc) {\n\t\t\t\t\t\tdocIds.push(corpus.getDocument(doc).getId())\n\t\t\t\t\t}, this);\n\t\t\t\t\tthis.setApiParams({docId: docIds, docIndex: undefined})\n\t\t\t\t\tthis.getStore().clearAndLoad()\n\t\t\t\t},\n\n            \tdocumentSegmentTermClicked: {\n\t           \t\t fn: function(src, documentSegmentTerm) {\n\t           \t\t\t if (!documentSegmentTerm.term) {return;}\n\t           \t\t\t params = {query: documentSegmentTerm.term};\n\t           \t\t\t if (documentSegmentTerm.docId) {\n\t           \t\t\t\t params.docId = documentSegmentTerm.docId;\n\t           \t\t\t }\n\t           \t\t\t else {\n\t           \t\t\t\t // default to first document\n\t           \t\t\t\t params.docIndex = documentSegmentTerm.docIndex ?  documentSegmentTerm.docIndex : 0;\n\t           \t\t\t }\n\t           \t\t\t this.setApiParams(params);\n\t       \t        \tif (this.isVisible()) {\n\t       \t\t        \tthis.getStore().clearAndLoad()\n\t       \t        \t}\n\t           \t\t },\n\t           \t\t scope: this\n            \t},\n\t           \t documentIndexTermsClicked: {\n\t           \t\t fn: function(src, documentIndexTerms) {\n\t           \t\t\t// this isn't quite right, since we want every term associated with a docIndex, but for now it will do\n\t           \t\t\tvar queriesHash = {};\n\t           \t\t\tvar queries = [];\n\t           \t\t\tvar docIndexHash = {};\n\t           \t\t\tvar docIndex = [];\n\t           \t\t\tdocumentIndexTerms.forEach(function(item) {\n\t           \t\t\t\tif (!queriesHash[item.term]) {\n\t           \t\t\t\t\tqueries.push(item.term);\n\t           \t\t\t\t\tqueriesHash[item.term]=true;\n\t           \t\t\t\t}\n\t           \t\t\t\tif (!docIndexHash[item.docIndex]) {\n\t           \t\t\t\t\tdocIndex.push(item.docIndex);\n\t           \t\t\t\t\tdocIndexHash[item.docIndex]=true;\n\t           \t\t\t\t}\n\t           \t\t\t});\n\t       \t        \tthis.setApiParams({\n\t       \t        \t\tdocId: undefined,\n\t       \t        \t\tdocIndex: docIndex,\n\t       \t        \t\tquery: queries\n\t       \t        \t});\n\t       \t        \tif (this.isVisible()) {\n\t       \t\t        \tthis.getStore().clearAndLoad({params: this.getApiParams()});\n\t       \t        \t}\n\t           \t\t },\n\t           \t\t scope: this\n\t           \t },\n                 afterrender: function(me) {\n                \t me.getView().on('expandbody', function( rowNode, record, expandRow, eOpts ) {\n                \t\t if (expandRow.textContent===\"\" || (eOpts && eOpts.force)) {\n                \t            var store = Ext.create(\"Voyant.data.store.Contexts\", {\n                \t            \tstripTags: \"all\",\n                \t            \tcorpus: me.getStore().getCorpus()\n                \t            });\n                \t            var data = record.getData();\n                \t            store.load({\n                \t            \tparams: {\n                    \t            \tquery: data.query,\n                    \t            \tdocIndex: data.docIndex,\n                    \t            \tposition: data.position,\n                    \t            \tlimit: 1,\n                    \t            \tcontext: me.getApiParam('expand')\n                \t            \t},\n                \t                callback: function(records, operation, success) {\n                \t                \tif (success && records.length==1) {\n                \t                \t\tdata = records[0].getData();\n                \t                \t\tExt.fly(operation.expandRow).down('.x-grid-rowbody').setHtml(data.left + \" <span class='word keyword'>\" + data.middle + \"</span> \" + data.right);\n                \t                \t}\n                \t                },\n                \t                expandRow: expandRow\n                \t            });\n                \t            \n                \t\t }\n                \t });\n                 }\n\n            }\n        });\n        \n        me.on(\"loadedCorpus\", function(src, corpus) {\n        \tif (this.hasCorpusAccess(corpus)==false) {\n        \t\tthis.mask(this.localize('limitedAccess'), 'mask-no-spinner');\n        \t}\n        \telse {\n        \t\tvar corpusTerms = corpus.getCorpusTerms({autoLoad: false});\n        \t\tcorpusTerms.load({\n        \t\t    callback: function(records, operation, success) {\n        \t\t    \tif (success && records.length>0) {\n        \t\t    \t\tthis.setApiParam(\"query\", [records[0].getTerm()]);\n        \t\t    \t\tthis.getStore().clearAndLoad({params: this.getApiParams()});\n        \t\t    \t}\n        \t\t    },\n        \t\t    scope: me,\n        \t\t    params: {\n        \t\t\t\tlimit: 1,\n        \t\t\t\tquery: this.getApiParam(\"query\"),\n        \t\t\t\tstopList: this.getApiParam(\"stopList\"),\n        \t\t\t\tforTool: 'contexts'\n        \t\t\t}\n            \t});\n        \t}\n        });\n        \n        me.on(\"query\", function(src, query) {\n        \tthis.setApiParam('query', query);\n        \tthis.getStore().clearAndLoad({params: this.getApiParams()});\n        }, me);\n        \n        me.on(\"documentTermsClicked\", function(src, documentTerms) {\n        \tvar documentIndexTerms = [];\n        \tdocumentTerms.forEach(function(documentTerm) {\n        \t\tdocumentIndexTerms.push({\n        \t\t\tterm: documentTerm.getTerm(),\n        \t\t\tdocIndex: documentTerm.getDocIndex()\n        \t\t});\n        \t});\n        \tthis.fireEvent(\"documentIndexTermsClicked\", this, documentIndexTerms);\n        });\n        \n        me.on(\"termsClicked\", function(src, terms) {\n        \tvar documentIndexTerms = [];\n        \tif (Ext.isString(terms)) {terms = [terms];}\n        \tterms.forEach(function(term) {\n        \t\tif (term.docIndex !== undefined) {\n            \t\tdocumentIndexTerms.push({\n            \t\t\tterm: term.term,\n            \t\t\tdocIndex: term.docIndex\n            \t\t});\n        \t\t}\n        \t});\n        \tif (documentIndexTerms.length > 0) {\n        \t\tthis.fireEvent(\"documentIndexTermsClicked\", this, documentIndexTerms);\n        \t}\n        });\n\n    \tme.callParent(arguments);\n     }\n     \n});","Ext.define('Voyant.panel.CorpusCollocates', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.corpuscollocates',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstopList: 'auto',\n    \t\tcontext: 5,\n    \t\tquery: undefined,\n    \t\tdocId: undefined,\n    \t\tdocIndex: undefined,\n    \t\tsort: 'contextTermRawFreq'\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    config: {\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}]\n    },\n    constructor: function(config) {\n    \t\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tif (this.isVisible()) {\n    \t\t\tthis.loadFromApis();\n    \t\t}\n    \t});\n    \t\n    \tif (config.embedded) {\n//    \t\tvar cls = Ext.getClass(config.embedded).getName();\n//    \t\tif (cls==\"Voyant.data.store.DocumentTerms\" || cls==\"Voyant.data.model.Document\") {\n//    \t\t\tthis.fireEvent('loadedCorpus', this, config.embedded.getCorpus())\n//    \t\t}\n    \t}\n    \telse if (config.corpus) {\n    \t\tthis.fireEvent('loadedCorpus', this, config.corpus)\n    \t}\n    \t\n    \tthis.on(\"corpusTermsClicked\", function(src, terms) {\n    \t\tif (this.getStore().getCorpus()) { // make sure we have a corpus\n        \t\tvar query = [];\n        \t\tterms.forEach(function(term) {\n        \t\t\tquery.push(term.get(\"term\"));\n        \t\t})\n        \t\tthis.setApiParams({\n        \t\t\tquery: query,\n        \t\t\tdocId: undefined,\n        \t\t\tdocIndex: undefined\n        \t\t});\n        \t\tif (this.isVisible()) {\n            \t\tthis.loadFromApis();\n        \t\t}\n    \t\t}\n    \t});\n    \t\n    \tthis.on(\"documentsClicked\", function(src, documents) {\n    \t\tvar docIds = [];\n    \t\tdocuments.forEach(function(doc) {docIds.push(doc.get('id'))});\n    \t\tthis.setApiParams({\n    \t\t\tdocId: docIds,\n    \t\t\tdocid: undefined,\n    \t\t\tquery: undefined\n    \t\t})\n    \t\tif (this.isVisible()) {\n        \t\tthis.loadFromApis();\n    \t\t}\n    \t});\n    \t\n    \tthis.on(\"activate\", function() { // load after tab activate (if we're in a tab panel)\n    \t\tif (this.getStore().getCorpus()) {this.loadFromApis()}\n    \t}, this)\n    \t\n    \tthis.on(\"query\", function(src, query) {\n    \t\tthis.setApiParam(\"query\", query);\n    \t\tthis.getStore().getProxy().setExtraParam(\"query\", query);\n    \t\tthis.loadFromApis();\n    \t}, this)\n    },\n    \n    loadFromApis: function() {\n    \tif (this.getStore().getCorpus()) {\n    \t\tif (this.getApiParam('query')) {\n    \t\t\tthis.getStore().clearAndLoad({params: this.getApiParams()});\n    \t\t}\n    \t\telse {\n\t\t\t\tvar corpusTerms = this.getStore().getCorpus().getCorpusTerms({\n\t\t\t\t\tleadingBufferZone: 0,\n\t\t\t\t\tautoLoad: false\n\t\t\t\t});\n        \t\tcorpusTerms.load({\n        \t\t    callback: function(records, operation, success) {\n        \t\t    \tif (success) {\n        \t\t    \t\tvar terms = [];\n        \t\t    \t\trecords.forEach(function(term) {\n        \t\t    \t\t\tterms.push(term.getTerm());\n        \t\t    \t\t})\n        \t\t    \t\tthis.getStore().getProxy().setExtraParam(\"query\", terms);\n        \t\t    \t\tthis.setApiParam('query', terms);\n        \t\t    \t\tthis.loadFromApis();\n        \t\t    \t}\n        \t\t    },\n        \t\t    scope: this,\n        \t\t    params: {\n        \t\t\t\tlimit: 10,\n        \t\t\t\tstopList: this.getApiParam(\"stopList\")\n        \t\t\t}\n            \t});\n\n    \t\t}\n    \t}\n    },\n    \n    initComponent: function() {\n        var me = this;\n\n        var store = Ext.create(\"Voyant.data.store.CorpusCollocatesBuffered\", {parentPanel: this});\n        \n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n            store : store,\n    \t\tselModel: Ext.create('Ext.selection.CheckboxModel', {\n                listeners: {\n                    selectionchange: {\n                    \tfn: function(sm, selections) {\n                    \t\tvar terms = [];\n                    \t\tvar context = this.getApiParam(\"context\")\n                    \t\tselections.forEach(function(selection) {\n                    \t\t\tterms.push('\"'+selection.getKeyword()+\" \"+selection.getContextTerm()+'\"~'+context)\n                    \t\t})\n                    \t\tthis.getApplication().dispatchEvent('termsClicked', this, terms);\n                    \t},\n                    \tscope: this\n                    }\n                }\n            }),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'querysearchfield'\n                }, {\n                    xtype: 'totalpropertystatus'\n                }, this.localize('context'), {\n                \txtype: 'slider',\n                \tminValue: 1,\n                \tvalue: 5,\n                \tmaxValue: 30,\n                \tincrement: 2,\n                \twidth: 50,\n                \tlisteners: {\n                \t\trender: function(slider) {\n                \t\t\tslider.setValue(me.getApiParam('context'))\n                \t\t},\n                \t\tchangecomplete: function(slider, newValue) {\n                \t\t\tme.setApiParam(\"context\", slider.getValue());\n\t\t\t\t\t\t\tme.loadFromApis();\n                \t\t}\n                \t}\n                },{\n        \t\t\txtype: 'corpusdocumentselector'\n        \t\t}]\n            }],\n    \t\tcolumns: [{\n    \t\t\ttext: this.localize(\"term\"),\n        \t\tdataIndex: 'term',\n            \ttooltip: this.localize(\"termTip\"),\n                sortable: true,\n                flex: 1\n            },{\n    \t\t\ttext: this.localize(\"rawFreq\"),\n        \t\tdataIndex: 'rawFreq',\n            \ttooltip: this.localize(\"termRawFreqTip\"),\n                sortable: true,\n                width: 'autoSize',\n                hidden: true\n            },{\n            \ttext: this.localize(\"contextTerm\"),\n            \tdataIndex: 'contextTerm',\n            \ttooltip: this.localize(\"contextTermTip\"),\n            \tflex: 1,\n            \tsortable: true\n            },{\n            \ttext: this.localize(\"contextTermRawFreq\"),\n            \ttooltip: this.localize(\"contextTermRawFreqTip\"),\n            \tdataIndex: 'contextTermRawFreq',\n            \twidth: 'autoSize',\n            \tsortable: true\n            }/*,{\n                xtype: 'widgetcolumn',\n                text: this.localize(\"trend\"),\n                tooltip: this.localize('trendTip'),\n                width: 120,\n                dataIndex: 'distributions',\n                widget: {\n                    xtype: 'sparklineline'\n                }\n            }*/],\n            \n            listeners: {\n\t\t\t\tscope: this,\n            \ttermsClicked: function(src, terms) {\n\t\t\t\t\tif (this.getStore().getCorpus()) { // make sure we have a corpus\n\t\t\t\t\t\tvar queryTerms = [];\n\t\t\t\t\t\tterms.forEach(function(term) {\n\t\t\t\t\t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\n\t\t\t\t\t\t\telse if (term.term) {queryTerms.push(term.term);}\n\t\t\t\t\t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (queryTerms.length > 0) {\n\t\t\t\t\t\t\tthis.setApiParams({\n\t\t\t\t\t\t\t\tdocIndex: undefined,\n\t\t\t\t\t\t\t\tdocId: undefined,\n\t\t\t\t\t\t\t\tquery: queryTerms\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\t\t\t\tthis.loadFromApis();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcorpusSelected: function() {\n\t\t\t\t\tif (this.getStore().getCorpus()) {\n\t\t\t\t\t\tthis.setApiParams({docId: undefined, docIndex: undefined})\n\t\t\t\t\t\tthis.loadFromApis();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tdocumentsSelected: function(src, docs) {\n\t\t\t\t\tvar docIds = [];\n\t\t\t\t\tvar corpus = this.getStore().getCorpus();\n\t\t\t\t\tdocs.forEach(function(doc) {\n\t\t\t\t\t\tdocIds.push(corpus.getDocument(doc).getId())\n\t\t\t\t\t}, this);\n\t\t\t\t\tthis.setApiParams({docId: docIds, docIndex: undefined});\n\t\t\t\t\tthis.loadFromApis();\n\t\t\t\t}\n            }\n        });\n\n        me.callParent(arguments);\n        \n        me.getStore().getProxy().setExtraParam(\"withDistributions\", true);\n        \n    }\n    \n})","Ext.define('Voyant.widget.CorpusTermSummary', {\n    extend: 'Ext.panel.Panel',\n    mixins: ['Voyant.panel.Panel'],\n    alias: 'widget.corpustermsummary',\n    statics: {\n        i18n: {\n        },\n        api: {\n            stopList: 'auto',\n            query: undefined,\n            limit: 5\n        }\n    },\n    config: {\n        corpus: undefined,\n        record: undefined, // Voyant.data.model.CorpusTerm\n        collocatesStore: undefined,\n        correlationsStore: undefined,\n        phrasesStore: undefined,\n        documentTermsStore: undefined\n    },\n    cls: 'corpus-term-summary',\n\n    constructor: function(config) {\n        if (config.record === undefined) {\n            console.warn('CorpusTermSummary: no config.record!');\n            return false;\n        }\n        \n        Ext.apply(this, {\n            items: {\n                itemId: 'main',\n                minHeight: 200,\n                scrollable: true,\n                margin: 5\n            },\n            dockedItems: {\n                dock: 'bottom',\n                xtype: 'toolbar',\n                items: {\n                    fieldLabel: this.localize('items'),\n                    labelWidth: 40,\n                    width: 120,\n                    xtype: 'slider',\n                    increment: 5,\n                    minValue: 5,\n                    maxValue: 59,\n                    listeners: {\n                        boxready: function(slider) {\n                            slider.setValue(this.getApiParam('limit'));\n                        },\n                        changecomplete: function(slider, newvalue) {\n                            this.setApiParam('limit', newvalue);\n                            this.loadStuff();\n                        },\n                        scope: this\n                    }\n                }\n            },\n            listeners: {\n                boxready: function() {\n                    this.body.on('click', function(e) {\n                        var target = e.getTarget(null, null, true);\n                        if (target && target.dom.tagName == 'A') {\n                            if (target.hasCls('corpus-type')) {\n                                this.dispatchEvent('termsClicked', this, [target.getHtml()]);\n                            }\n                        }\n                    }, this, {stopPropagation: true});\n                    \n                    this.getDockedItems().forEach(function(i) {\n                       i.getEl().on('click', null, this, {stopPropagation: true}); // stop owner container from receiving clicks\n                    });\n                    \n                    this.loadStuff();\n                },\n                scope: this\n            }\n        });\n        \n        Ext.applyIf(config, {\n            title: this.localize('title')+config.record.getTerm()\n        });\n\n        this.callParent(arguments);\n        this.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n        \n        var corpus = this.getRecord().store.getCorpus();\n        this.setCorpus(corpus);\n\n        this.setApiParam('query', this.getRecord().getTerm());\n        \n        this.setCollocatesStore(Ext.create('Voyant.data.store.CorpusCollocates', { corpus: corpus }));\n        this.setCorrelationsStore(Ext.create('Voyant.data.store.TermCorrelations', { corpus: corpus }));\n        this.setPhrasesStore(Ext.create('Voyant.data.store.CorpusNgrams', { corpus: corpus }));\n        this.setDocumentTermsStore(Ext.create('Voyant.data.store.DocumentTerms', { corpus: corpus }));\n        \n    },\n\n    loadStuff: function() {\n        this.getComponent('main').removeAll();\n        \n        var docIndexes = [];\n        for (var i = 0; i < this.getCorpus().getDocumentsCount(); i++) {\n            docIndexes[i] = i;\n        }\n        this.getComponent('main').add({\n            xtype: 'container',\n            cls: 'section',\n            layout: 'hbox',\n            align: 'bottom',\n            items: [{\n                xtype: 'container',\n                html: '<div class=\"header\">'+this.localize('distribution')+'</div>'\n            },{\n                itemId: 'distLine',\n                xtype: 'sparklineline',\n                values: [],\n                height: 20,\n                width: 200\n            }],\n            listeners: {\n                afterrender: function(container) {\n                    container.mask(this.localize('loading'));\n                    // TODO make distribution bins reflective of doc sizes\n                    this.getDocumentTermsStore().load({\n                        params: {\n                            query: this.getApiParam('query'),\n                            docIndex: docIndexes,\n                            withDistributions: true,\n                            bins: parseInt(this.getApiParam('limit'))*2\n                        },\n                        callback: function(records, op, success) {\n                            if (success && records && records.length>0) {\n                                var arrays = records.map(function(r) { return r.getDistributions(); });\n                                var values = arrays.reduce(function(a,b) { return a.concat(b); });\n                                this.down('#distLine').setValues(values);\n                                container.unmask();\n                            }\n                        },\n                        scope: this\n                    });\n                },\n                scope: this\n            }\n        });\n        \n        this.addSection(\n            this.localize('collocates'), this.getCollocatesStore(), this.getApiParams(),\n            '<tpl for=\".\" between=\"; \"><a href=\"#\" onclick=\"return false\" class=\"corpus-type keyword\" voyant:recordId=\"{term}\">{term}</a><span style=\"font-size: smaller\"> ({val})</span></tpl>',\n            function(r) {\n                return {term: r.getContextTerm(), val: r.getContextTermRawFreq()}\n            }\n        );\n        \n        this.addSection(\n            this.localize('correlations'), this.getCorrelationsStore(), this.getApiParams(),\n            '<tpl for=\".\" between=\"; \"><a href=\"#\" onclick=\"return false\" class=\"corpus-type keyword\" voyant:recordId=\"{term}\">{term}</a><span style=\"font-size: smaller\"> ({val})</span></tpl>',\n            function(r) {\n                return {term: r.get('source-term'), val: r.get('source').rawFreq}\n            }\n        );\n        \n        this.addSection(\n            this.localize('phrases'), this.getPhrasesStore(), Ext.apply({minLength: 3, sort: 'length'}, this.getApiParams()),\n            '<tpl for=\".\"><div>&ldquo;{phrase}&rdquo;</div></tpl>',\n            function(r) {\n                return {phrase: r.getTerm()}\n            }\n        );\n    },\n    \n    addSection: function(title, store, params, template, mapping) {\n        return this.getComponent('main').add({\n            xtype: 'container',\n            html: '<div class=\"header\">'+title+'</div>',\n            cls: 'section',\n            listeners: {\n                afterrender: function(container) {\n                    container.mask(this.localize('loading'));\n                    store.load({\n                        params: params,\n                        callback: function(records, op, success) {\n                            if (success && records && records.length>0) {\n                                container.unmask();\n                                Ext.dom.Helper.append(container.getTargetEl().first().first(),\n                                    new Ext.XTemplate('<div class=\"contents\">'+template+'</div>').apply(records.map(mapping))\n                                );\n                            }\n                        }\n                    });\n                },\n                scope: this\n            }\n        });\n    }\n});\n","Ext.define('Voyant.panel.Correlations', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.correlations',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tquery: undefined,\n    \t\tdocId: undefined,\n    \t\tdocIndex: undefined,\n    \t\tstopList: 'auto',\n    \t\tminInDocumentsCountRatio: 100\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    config: {\n    \toptions: [{\n    \t\txtype: 'stoplistoption'\n    \t},\n        \t{xtype: 'categoriesoption'}\n        ]\n    },\n    constructor: function() {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n        var me = this;\n\n        Ext.apply(me, { \n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n    \t\tstore: Ext.create(\"Voyant.data.store.TermCorrelationsBuffered\", {\n            \tparentPanel: this\n\t        }),\n\n    \t\tcolumns: [{\n    \t\t\ttext: this.localize(\"source\"),\n    \t\t\ttooltip: this.localize(\"sourceTip\"),\n        \t\tdataIndex: 'source-term',\n        \t\tsortable: false\n    \t\t},{\n                xtype: 'widgetcolumn',\n                tooltip: this.localize(\"trendTip\"),\n                width: 100,\n                dataIndex: 'source-distributions',\n                widget: {\n                    xtype: 'sparklineline'\n                },\n                text: '\u2190'\n            },{\n                xtype: 'widgetcolumn',\n                tooltip: this.localize(\"trendTip\"),\n                width: 100,\n                dataIndex: 'target-distributions',\n                widget: {\n                    xtype: 'sparklineline'\n                },\n                text: '\u2192',\n                align: 'right'\n            },{\n    \t\t\ttext: this.localize(\"target\"),\n    \t\t\ttooltip: this.localize(\"targetTip\"),\n        \t\tdataIndex: 'target-term',\n        \t\tsortable: false\n    \t\t},{\n    \t\t\ttext: this.localize(\"correlation\"),\n    \t\t\ttooltip: this.localize(\"correlationTip\"),\n        \t\tdataIndex: 'correlation'\n    \t\t},{\n    \t\t\ttext: this.localize(\"significance\"),\n    \t\t\ttooltip: this.localize(\"significanceTip\"),\n        \t\tdataIndex: 'significance'\n    \t\t}],\n    \t\t\n\n            listeners: {\n            \tscope: this,\n\t\t\t\tcorpusSelected: function() {\n\t\t\t\t\tthis.setApiParams({docIndex: undefined, docId: undefined});\n\t        \t\tthis.getStore().getProxy().setExtraParam('tool', 'corpus.CorpusTermCorrelations');\n\t        \t\tthis.getStore().load();\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tdocumentsSelected: function(src, docs) {\n\t\t\t\t\tvar docIds = [];\n\t\t\t\t\tvar corpus = this.getStore().getCorpus();\n\t\t\t\t\tdocs.forEach(function(doc) {\n\t\t\t\t\t\tdocIds.push(corpus.getDocument(doc).getId())\n\t\t\t\t\t}, this);\n\t\t\t\t\tthis.setApiParams({docId: docIds, docIndex: undefined})\n\t        \t\tthis.getStore().getProxy().setExtraParam('tool', 'corpus.DocumentTermCorrelations');\n\t        \t\tthis.getStore().load();\n\t\t\t\t}\n\n            },\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'querysearchfield'\n                },{\n                    xtype: 'totalpropertystatus'\n                }, {\n                \txtype: 'tbspacer'\n                }, {\n                \txtype: 'tbtext',\n                \titemId: 'minInDocumentsCountRatioLabel',\n                \ttext: me.localize('minInDocumentsCountRatioLabel')\n                }, {\n        \t\t\txtype: 'slider',\n\t            \tincrement: 5,\n\t            \tminValue: 0,\n\t            \tmaxValue: 100,\n\t            \twidth: 75,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(this.getApiParam(\"minInDocumentsCountRatio\"))\n\t            \t\t\tslider.up('toolbar').getComponent(\"minInDocumentsCountRatioLabel\").setText(new Ext.XTemplate(me.localize(\"minInDocumentsCountRatioLabel\")).apply([this.getApiParam(\"minInDocumentsCountRatio\")]));\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({minInDocumentsCountRatio: newvalue});\n\t            \t\t\tslider.up('toolbar').getComponent(\"minInDocumentsCountRatioLabel\").setText(new Ext.XTemplate(me.localize(\"minInDocumentsCountRatioLabel\")).apply([newvalue]));\n\t            \t\t\tthis.getStore().load();\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n                },{\n        \t\t\txtype: 'corpusdocumentselector'\n        \t\t}]\n            }]\n        });\n        \n        me.on(\"loadedCorpus\", function(src, corpus) {\n        \tif (corpus.getDocumentsCount()==1) { // switch to documents mode\n        \t\tthis.getStore().getProxy().setExtraParam('tool', 'corpus.DocumentTermCorrelations');\n        \t}\n        \tif (this.isVisible()) {\n        \t\tthis.getStore().load();\n        \t}\n        });\n        \n    \tme.on(\"activate\", function() { // load after tab activate (if we're in a tab panel)\n    \t\tif (this.getStore().getCorpus()) {this.getStore().load();}\n    \t}, this)\n\n    \tme.on(\"query\", function(src, query) {\n        \tthis.setApiParam(\"query\", query);\n        \tthis.getStore().load();\n        }, me);\n        \n        me.callParent(arguments);\n     }\n     \n});","Ext.define('Voyant.panel.CorpusCreator', {\n\textend: 'Ext.form.Panel',\n\trequires: ['Ext.form.field.File'],\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.corpuscreator',\n\tisConsumptive: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tinputFormat: undefined,\n    \t\tlanguage: undefined,\n    \t\txmlDocumentsXpath: undefined,\n    \t\txmlGroupByXpath: undefined,\n    \t\txmlContentXpath: undefined,\n    \t\txmlTitleXpath: undefined,\n    \t\txmlAuthorXpath: undefined,\n    \t\txmlPubDateXpath: undefined,\n    \t\txmlPublisherXpath: undefined,\n    \t\txmlPubPlaceXpath: undefined,\n    \t\txmlKeywordsXpath: undefined,\n    \t\txmlCollectionXpath: undefined,\n    \t\txmlExtraMetadataXpath: undefined,\n    \t\thtmlGroupByQuery: undefined,\n    \t\thtmlDocumentsQuery: undefined,\n    \t\thtmlContentQuery: undefined,\n    \t\thtmlTitleQuery: undefined,\n    \t\thtmlAuthorQuery: undefined,\n    \t\thtmlPubDateQuery: undefined,\n    \t\thtmlPublisherQuery: undefined,\n    \t\thtmlPubPlaceQuery: undefined,\n    \t\thtmlKeywordsQuery: undefined,\n    \t\thtmlCollectionQuery: undefined,\n    \t\thtmlExtraMetadataQuery: undefined,\n    \t\t//jsonGroupByPointer: undefined,\n    \t\tjsonDocumentsPointer: undefined,\n    \t\tjsonContentPointer: undefined,\n    \t\tjsonTitlePointer: undefined,\n    \t\tjsonAuthorPointer: undefined,\n    \t\tjsonPubDatePointer: undefined,\n    \t\tjsonPublisherPointer: undefined,\n    \t\tjsonPubPlacePointer: undefined,\n    \t\tjsonKeywordsPointer: undefined,\n    \t\tjsonCollectionPointer: undefined,\n    \t\tjsonExtraMetadataPointer: undefined,\n    \t\ttokenization: undefined,\n    \t\tadminPassword: undefined,\n    \t\taccessPassword: undefined,\n    \t\tnoPasswordAccess: undefined,\n    \t\ttableDocuments: undefined,\n    \t\ttableContent: undefined,\n    \t\ttableTitle: undefined,\n    \t\ttableAuthor: undefined,\n    \t\ttitle: undefined,\n    \t\tsubTitle: undefined,\n    \t\tinputRemoveFrom: undefined,\n    \t\tinputRemoveFromAfter: undefined,\n    \t\tinputRemoveUntil: undefined,\n    \t\tinputRemoveUntilAfter: undefined,\n    \t\tsort: undefined\n    \t}\n    },\n    \n    constructor: function(config) {\n        this.callParent(arguments);\n        config = config || {};\n        var me = this;\n    \tthis.mixins['Voyant.panel.Panel'].constructor.call(this, \n    \t\t\tExt.apply(config, {\n    \t\t\t\tincludeTools: {\n    \t\t\t\t\tgear: true,\n    \t\t\t\t\thelp: true,\n    \t\t\t\t\tlanguage: this.getLanguageToolMenu()\n    \t\t\t\t}\n    \t\t\t})\n    \t);\n    \t\n    },\n    \n    initComponent: function() {\n        var me = this;\n\n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n    \t\twidth: 800,\n    \t\tframe: true,\n    \t\tpadding: 10,\n    \t\tstyle: {\n    \t\t    borderColor: '#aaa',\n    \t\t    borderStyle: 'solid'\n    \t\t},\n    \t\tframeHeader: true,\n    \t\tlayout: {\n    \t\t\ttype: 'vbox',\n    \t\t\talign: 'stretch'\n    \t\t},\n\t    \tdockedItems: [{\n\t    \t\txtype: 'toolbar',\n                overflowHandler: 'scroller',\n                dock: 'bottom',\n    \t    \tbuttonAlign: 'right',\n//    \t    \tdefaultButtonUI : 'default',\n\t    \t\titems: [{\n\t    \t\t\ttext: me.localize('Open'),\n                    glyph: 'xf115@FontAwesome', // not visible\n\t    \t\t\ttooltip: me.localize('SelectExisting'),\n\t    \t\t\thidden: this.getCorpus()!=undefined,\n\t    \t\t\thandler: function() {\n\t    \t\t\t\tExt.create('Ext.window.Window', {\n\t    \t\t\t\t    title: me.localize('Open'),\n\t    \t\t\t\t    layout: 'fit',\n\t    \t\t\t\t    modal: true,\n\t    \t\t\t\t    items: {  // Let's put an empty grid in just to illustrate fit layout\n\t    \t\t\t\t        xtype: 'form',\n\t    \t\t\t\t        submitEmptyText: false,\n\t    \t\t\t\t        margin: '5,5,5,5',\n\t    \t\t\t\t        items: {\n\t    \t\t\t\t        \txtype: 'corpusselector'\n//\t    \t\t\t\t            xtype:'combo',\n//\t    \t\t\t\t            labelWidth: 150,\n//\t    \t\t\t\t            fieldLabel:'Choose a corpus:',\n//\t    \t\t\t\t            name:'corpus',\n//\t    \t\t\t\t            queryMode:'local',\n//\t    \t\t\t\t            store:[['shakespeare',\"Shakespeare's Plays\"],['austen',\"Austen's Novels\"]],\t\t\t\t            \n//\t    \t\t\t\t            forceSelection:true\n\t    \t\t\t\t        },\n\t    \t\t\t\t        buttons: [\n\t    \t\t\t\t        \t{\n\t    \t\t\t\t        \t\ttext: me.localize('Open'),\n\t    \t\t\t                    glyph: 'xf00c@FontAwesome',\n\t    \t\t\t\t        \t\thandler: function(btn) {\n\t    \t\t\t\t        \t\t\tvar form = btn.up('form').getForm();\n\t    \t\t\t\t        \t\t\tvar corpus = btn.up('form').getForm().getValues().corpus;\n\t    \t\t\t\t        \t\t\tif (corpus!='') {\n\t    \t\t\t\t        \t\t\t\tme.loadCorpus({corpus: corpus});\n\t\t    \t\t\t\t        \t\t\tbtn.up('window').close();\n\t    \t\t\t\t        \t\t\t}\n\t    \t\t\t\t        \t\t\telse {\n\t    \t\t\t\t    \t        \t\tExt.Msg.show({\n\t    \t\t\t\t    \t        \t\t    title: me.localize('SelectExisting'),\n\t    \t\t\t\t    \t        \t\t    message: me.localize('PleaseSelectExisting'),\n\t    \t\t\t\t    \t        \t\t    buttons: Ext.Msg.OK,\n\t    \t\t\t\t    \t        \t\t    icon: Ext.Msg.ERROR\n\t    \t\t\t\t    \t        \t\t});\n\t    \t\t\t\t        \t\t\t}\n\t    \t\t\t\t        \t\t},\n\t    \t\t\t\t        \t\tflex: 1\n\t    \t\t\t\t            },{\n\t    \t\t\t\t        \t\ttext: me.localize('cancel'),\n\t    \t\t\t                    glyph: 'xf00d@FontAwesome',\n\t    \t\t\t\t        \t\tflex: 1,\n\t    \t\t\t\t        \t\thandler: function(btn) {\n\t    \t\t\t\t        \t\t\tbtn.up('window').close();\n\t    \t\t\t\t        \t\t}\n\t    \t\t\t\t        \t}\n\t    \t\t\t\t        ]\n\t    \t\t\t\t    }\n\t    \t\t\t\t}).show();\n\t    \t\t\t}\n\t    \t\t},{\n    \t        \txtype: 'fileuploadfield',\n                    glyph: 'xf093@FontAwesome',\n    \t        \tname: 'upload',\n        \t    \tbuttonOnly: true,\n        \t    \thideLabel: true,\n\t\t            ui: 'default-toolbar',\n        \t    \tbuttonText: me.localize('Upload'),\n        \t    \tlisteners: {\n        \t    \t\trender: function(filefield) {\n        \t    \t\t\tfilefield.fileInputEl.dom.setAttribute('multiple', true);\n        \t\t        \tExt.tip.QuickTipManager.register({\n       \t\t                 target: filefield.getEl(),\n       \t\t                 text: me.localize('UploadLocal')\n       \t\t             \t});\n        \t            },\n        \t            beforedestroy: function(cmp) {\n\t                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n\t                \t},\n        \t            change: function(filefield, value) {\n        \t            \tif (value) {\n            \t            \tvar form = filefield.up('form').getForm();\n            \t            \tif (form.isValid()) {\n            \t            \t\tvar files = filefield.fileInputEl.dom.files;\n            \t            \t\tvar badFilesRe = /\\.(png|gif|jpe?g|xls|mp[234a]|mpeg|exe|wmv|avi|ppt|mpg|tif|wav|mov|psd|wma|ai|bmp|pps|aif|pub|dwg|indd|swf|asf|mbd|dmg|flv)$/i;\n            \t            \t\tvar goodFilesRe = /\\.(txt|pdf|html?|xml|docx?|rtf|pages|epub|odt|zip|jar|tar|gz|ar|cpio|bzip2|bz2|gzip|xlsx?)$/i;\n            \t            \t\tvar badFiles = [];\n            \t            \t\tvar unknownFiles = [];\n            \t            \t\tfor (var i = 0, len = files.length; i<len; i++) {\n            \t            \t\t\tvar filename = files[i].name;\n            \t            \t\t\tif (badFilesRe.test(filename)) {\n            \t            \t\t\t\tbadFiles.push(filename.split(\"/\").pop());\n            \t            \t\t\t}\n            \t            \t\t\telse if (!goodFilesRe.test(filename)) {\n            \t            \t\t\t\tunknownFiles.push(filename.split(\"/\").pop());\n            \t            \t\t\t}\n            \t            \t\t}\n            \t            \t\tif (badFiles.length>0 || unknownFiles.length>0) {\n            \t            \t\t\tvar file = filefield;\n            \t            \t\t\tExt.Msg.show({\n            \t            \t\t\t\ttitle: me.localize(\"fileTypesWarning\"),\n            \t            \t\t\t\ticon: Ext.MessageBox.ERROR,\n            \t            \t\t\t\tmessage: me.localize('fileTypesMessage')+'<ul>' +\n            \t            \t\t\t\t\t(badFiles.length > 0 ? ('<li>'+me.localize(\"badFiles\") + badFiles.slice(0, 5).join(\", \") + (badFiles.length>5 ? '\u2026' : '') + '</li>') : '') +\n            \t            \t\t\t\t\t(unknownFiles.length>0 ? ('<li>' +me.localize(\"unknownFiles\") + unknownFiles.slice(0, 5).join(\", \") + (unknownFiles.length>5 ? '\u2026' : '') +'</li>') : '')+\n            \t            \t\t\t\t\t'</ul>'+me.localize('sureContinue'),\n            \t            \t\t\t\tbuttons: Ext.Msg.YESNO,\n            \t            \t\t\t\tfn: function(btn) {\n            \t            \t\t\t        if (btn === 'yes') {\n            \t            \t\t\t        \tme.loadForm(form);\n            \t            \t\t\t        }\n            \t            \t\t\t        else {\n            \t            \t\t\t        \tfile.reset(); // make sure we can trigger a change next time\n            \t            \t\t\t        \tfile.fileInputEl.dom.setAttribute('multiple', true);\n            \t            \t\t\t        }\n            \t            \t\t\t    },\n            \t            \t\t\t\tscope: form\n            \t            \t\t\t});\n            \t            \t\t}\n            \t            \t\telse {\n            \t            \t\t\tme.loadForm(form);\n            \t            \t\t}\n            \t            \t}\n        \t            \t}\n        \t            }\n        \t    \t}\n\t    \t\t},'->', {\n\t    \t    \txtype: 'button',\n\t    \t    \tscale: 'large',\n        \t\t\tglyph: 'xf00d@FontAwesome',\n\t    \t    \ttext: this.localize('cancel'),\n\t    \t    \thidden: this.getCorpus()==undefined,\n\t    \t    \thandler: function(btn) {\n\t    \t        \tvar win = this.up(\"window\");\n\t    \t        \tif (win && win.isFloating()) {\n\t    \t        \t\twin.close();\n\t    \t        \t}\n\t    \t    \t}\n\t    \t    }, {\n\t    \t    \txtype: 'button',\n\t    \t    \tscale: 'large',\n                    glyph: 'xf00c@FontAwesome',\n\t    \t    \ttext: this.localize('reveal'),\n\t    \t    \tui: 'default',\n\t    \t    \twidth: 200,\n\t    \t    \thandler: function(btn) {\n\t    \t        \tvar input = btn.up('form').down('#input').getValue();\n\t    \t        \tif (input !== '') {\n\t    \t        \t\tvar api = me.getApiParams();\n\t    \t            \tdelete api.view;\n\t    \t            \tdelete api.stopList;\n\t    \t        \t\tif (api.inputFormat && input.trim().indexOf(\"<\")!==0) {\n\t    \t        \t\t\tExt.Msg.confirm(me.localize('error'), me.localize('errorNotXmlContinue'), function(buttonId) {\n\t    \t        \t\t\t\tif (buttonId=='yes') {\n\t\t\t\t    \t        \t\tme.loadCorpus(Ext.apply(api, {input: input}));\n\t    \t        \t\t\t\t}\n\t    \t        \t\t\t}, me);\n\t    \t        \t\t}\n\t    \t        \t\telse {\n\t\t    \t        \t\tme.loadCorpus(Ext.apply(api, {input: input}));\n\t    \t        \t\t}\n\t    \t        \t}\n\t    \t        \telse {\n\t    \t        \t\tExt.Msg.show({\n\t    \t        \t\t    title: me.localize('noTextProvided'),\n\t    \t        \t\t    message: me.localize('pleaseProvideText'),\n\t    \t        \t\t    buttons: Ext.Msg.OK,\n\t    \t        \t\t    icon: Ext.Msg.ERROR\n\t    \t        \t\t});\n\t    \t        \t}\n\t    \t    \t}\n\t    \t    }]\n\t    \t}],\n\t    \titems: [{\n\t    \t\thtml: this.getInitialConfig().addTextLabel,\n\t    \t\thidden: this.getInitialConfig().addTextLabel==undefined\n\t    \t},{\n//\t    \t\tlayout: 'fit',\n\t    \t\theight: 100,\n    \t    \txtype: 'textareafield',\n    \t    \titemId: 'input',\n    \t    \temptyText: this.localize('emptyInput')\n\t    \t}]\n        });\n        \n        me.on(\"boxready\", function(panel) {\n        \tvar app = this.getApplication();\n        \tif (app.getAllowInput && app.getAllowInput()==\"false\") {\n        \t\tif (app.getNoAllowInputText && app.getNoAllowInputText().trim().length>0) {\n        \t\t\tExt.defer(function() {\n            \t\t\tvar parent = panel.up(\"container\");\n            \t\t\tparent.removeAll(); // input box and copyright message\n            \t\t\tparent.add({\n            \t    \t\tframe: false,\n            \t    \t\tpadding: 10,\n            \t    \t\tstyle: {\n            \t    \t\t    borderColor: '#aaa',\n            \t    \t\t    borderStyle: 'solid'\n            \t    \t\t},\n            \t\t\t\thtml: app.getNoAllowInputText()\n            \t\t\t})\n        \t\t\t}, 100);\n        \t\t} else {\n            \t\tpanel.hide();\n            \t\tExt.create('Ext.window.Window', {\n            \t\t    layout: 'fit',\n            \t\t    header: false,\n            \t\t    modal: true,\n            \t\t    bodyPadding: 10,\n            \t\t    items: {  // Let's put an empty grid in just to illustrate fit layout\n            \t\t        html: \"<p style='color: red;'>\"+panel.localize('noAllowInputMessage')+\"</p>\"\n            \t\t    }\n            \t\t}).show();\n        \t\t}\n        \t}\n        })\n\n        me.callParent(arguments);\n        \n    },\n    \n    loadForm: function(form) {\n    \tvar params = {tool: this.getCorpus() ? 'corpus.CorpusMetadata' : 'corpus.CorpusCreator'};\n    \tif (this.getCorpus()) {\n    \t\tExt.apply(params, {\n    \t\t\tcorpus: this.getCorpus().getId(),\n    \t\t\taddDocuments: true\n    \t\t})\n    \t};\n    \tvar apiParams = this.getApiParams();\n    \tdelete apiParams.view;\n    \tdelete apiParams.stopList;\n    \tExt.apply(params, apiParams);\n    \tvar view = this.getApplication().getViewport();\n\t\tview.mask(this.localize('uploadingCorpus'));\n\t\tform.submit({\n\t\t\turl: this.getTromboneUrl(),\n\t\t\tparams: params,\n\t\t\tfailure: function(form, action) { // we always fail because of content-type\n            \tview.unmask();\n\t\t\t\tif (action.result && (action.result.corpus || action.result.stepEnabledCorpusCreator)) {\n\t\t\t\t\tvar corpusParams = {corpus: action.result.corpus ? action.result.corpus.metadata.id : action.result.stepEnabledCorpusCreator.storedId};\n\t\t\t\t\tExt.applyIf(corpusParams, apiParams); // adding title & subTitle here\n\t\t\t\t\tthis.setCorpus(undefined)\n\t\t\t\t\tthis.loadCorpus(corpusParams);\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tthis.showResponseError(\"Unable to load corpus.\", action.response)\n\t\t\t\t}\n\t\t\t},\n\t\t\tscope: this\n\t\t});\n    },\n   \n    loadCorpus: function(params) {\n    \tif (this.getCorpus()) {\n    \t\tExt.apply(params, {\n    \t\t\tcorpus: this.getCorpus().getId(),\n    \t\t\taddDocuments: true\n    \t\t})\n    \t};\n    \t\n    \tvar win = this.up(\"window\");\n    \tif (win && win.isFloating()) {\n    \t\twin.close();\n    \t}\n    \t\n\t\tthis.getApplication().loadCorpusFromParams(params);\n    },\n    \n    showOptionsClick: function(panel) {\n    \tvar me = panel;\n    \tif (me.optionsWin === undefined) {\n    \t\tme.optionsWin = Ext.create('Ext.window.Window', {\n    \t\t\ttitle: me.localize('gearWinTitle'),\n    \t\t\tcloseAction: 'hide',\n//    \t\t\twidth: 500,\n    \t\t\tlayout: 'fit',\n    \t\t\tbodyPadding: 10,\n    \t\t\tanchor: '100% 100%',\n//    \t\t\tshrinkWrap: 3,\n    \t\t\titems: [{\n    \t\t\t\txtype: 'form',\n    \t\t\t\tdefaultType: 'textfield',\n        \t\t\tmaxHeight: me.getApplication().getViewport().getHeight()-120,\n        \t\t\tscrollable: true,\n    \t\t\t\tfieldDefaults: {\n    \t\t\t\t\tlabelAlign: 'right',\n    \t\t\t\t\tlabelWidth: 110,\n    \t\t\t\t\twidth: 350\n    \t\t\t\t},\n    \t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t    xtype:'combo',\n\t\t\t\t\t\t    fieldLabel: me.localize('inputFormat'),\n\t\t\t\t\t\t    labelWidth: 90, // try to align with fieldset\n\t\t\t\t\t\t    name: 'inputFormat',\n\t\t\t\t\t\t    queryMode:'local',\n\t\t\t\t\t\t    store:[['',me.localize('inputFormatAuto')],['dtoc','DToC: Dynamic Table of Contexts'],['TEI',\"TEI: Text Encoding Initative\"],['TEI',\"TEI Corpus\"],['RSS',\"Really Simple Syndication: RSS\"]],\n\t\t\t\t\t\t    value: '',\n\t\t\t\t\t\t    listeners: {\n\t\t\t\t\t\t    \tafterrender: {\n\t\t\t\t\t\t    \t\tfn: function(combo) {\n\t\t\t\t\t\t    \t\t\tvar inputFormat = this.getApiParam('inputFormat');\n\t\t\t\t\t\t    \t\t\tif (inputFormat) {\n\t\t\t\t\t\t    \t\t\t\tcombo.setValue(inputFormat);\n\t\t\t\t\t\t    \t\t\t}\n\t\t\t\t\t\t    \t\t},\n\t\t\t\t\t\t    \t\tscope: me\n\t\t\t\t\t\t    \t}\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\txtype: 'container',\n\t\t\t\t\t\t\thtml: '<p><i>'+new Ext.Template(me.localize('advancedOptionsText')).applyTemplate([me.getBaseUrl()+'docs/#!/guide/corpuscreator-section-xml'])+'</i></p>',\n\t\t\t\t\t\t\twidth: 375\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-titles' target='voyantdocs'>\"+me.localize('corpusOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        defaultType: 'textfield',\n\t                        items: [\n\t                            {\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('corpusTitle'),\n\t\t\t\t\t\t\t\t\tname: 'title'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('corpusSubTitle'),\n\t\t\t\t\t\t\t\t\tname: 'subTitle'\n\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize(\"corpusSort\"),\n\t\t\t\t\t\t\t\t\tname: 'sort',\n\t\t\t\t\t\t\t\t    xtype:'combo',\n\t\t\t\t\t\t\t\t    queryMode:'local',\n\t\t\t\t\t\t\t\t    store:[['',me.localize('corpusSortAuto')],['TITLEASC',me.localize('corpusSortTitle')],['AUTHORASC',me.localize('corpusSortAuthor')],['PUBDATEASC',me.localize('corpusSortPubDate')]],\n\t\t\t\t\t\t\t\t    value: '',\n\t\t\t\t\t\t\t\t    listeners: {\n\t\t\t\t\t\t\t\t    \tafterrender: {\n\t\t\t\t\t\t\t\t    \t\tfn: function(combo) {\n\t\t\t\t\t\t\t\t    \t\t\tvar inputFormat = this.getApiParam('sort');\n\t\t\t\t\t\t\t\t    \t\t\tif (inputFormat) {\n\t\t\t\t\t\t\t\t    \t\t\t\tcombo.setValue(inputFormat);\n\t\t\t\t\t\t\t\t    \t\t\t}\n\t\t\t\t\t\t\t\t    \t\t},\n\t\t\t\t\t\t\t\t    \t\tscope: me\n\t\t\t\t\t\t\t\t    \t}\n\t\t\t\t\t\t\t\t    }\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-text' target='voyantdocs'>\"+me.localize('textOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        defaultType: 'textfield',\n\t                        items: [\n\t                            {\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+me.localize(\"textOptionsText\")+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('inputRemoveUntil'),\n\t\t\t\t\t\t\t\t\tname: 'inputRemoveUntil'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('inputRemoveUntilAfter'),\n\t\t\t\t\t\t\t\t\tname: 'inputRemoveUntilAfter'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('inputRemoveFrom'),\n\t\t\t\t\t\t\t\t\tname: 'inputRemoveFrom'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('inputRemoveFromAfter'),\n\t\t\t\t\t\t\t\t\tname: 'inputRemoveFromAfter'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-xml' target='voyantdocs'>\"+me.localize('xmlOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        defaultType: 'textfield',\n\t                        items: [\n\t                            {\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+me.localize(\"xmlOptionsText\")+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathContent'),\n\t\t\t\t\t\t\t\t\tname: 'xmlContentXpath'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathTitle'),\n\t\t\t\t\t\t\t\t\tname: 'xmlTitleXpath'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathAuthor'),\n\t\t\t\t\t\t\t\t\tname: 'xmlAuthorXpath'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathDocuments'),\n\t\t\t\t\t\t\t\t\tname: 'xmlDocumentsXpath'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathGroupBy'),\n\t\t\t\t\t\t\t\t\tname: 'xmlGroupByXpath'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\txtype: 'fieldset',\n\t\t\t                        title: me.localize('xmlAdditionalOptions'),\n\t\t\t                        collapsible: true,\n\t\t\t                        collapsed: true,\n\t\t\t                        defaultType: 'textfield',\n\t\t\t                        items: [{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPubDate'),\n\t\t\t\t\t\t\t\t\t\tname: 'xmlPubDateXpath'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPublisher'),\n\t\t\t\t\t\t\t\t\t\tname: 'xmlPublisherXpath'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPubPlace'),\n\t\t\t\t\t\t\t\t\t\tname: 'xmlPubPlaceXpath'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathKeywords'),\n\t\t\t\t\t\t\t\t\t\tname: 'xmlKeywordsXpath'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathCollection'),\n\t\t\t\t\t\t\t\t\t\tname: 'xmlCollectionXpath'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\txtype: 'textareafield',\n\t\t\t\t\t\t\t\t\t\tgrow: true,\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathExtra'),\n\t\t\t\t\t\t\t\t\t\tname: 'xmlExtraMetadataXpath'\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-html' target='voyantdocs'>\"+me.localize('htmlOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        defaultType: 'textfield',\n\t                        items: [\n\t                            {\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+new Ext.Template(me.localize('htmlOptionsText')).applyTemplate([me.getBaseUrl()+'docs/#!/guide/corpuscreator-section-html'])+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathContent'),\n\t\t\t\t\t\t\t\t\tname: 'htmlContentQuery'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathTitle'),\n\t\t\t\t\t\t\t\t\tname: 'htmlTitleQuery'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathAuthor'),\n\t\t\t\t\t\t\t\t\tname: 'htmlAuthorQuery'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathDocuments'),\n\t\t\t\t\t\t\t\t\tname: 'htmlDocumentsQuery'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathGroupBy'),\n\t\t\t\t\t\t\t\t\tname: 'htmlGroupByQuery'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\txtype: 'fieldset',\n\t\t\t                        title: me.localize('xmlAdditionalOptions'),\n\t\t\t                        collapsible: true,\n\t\t\t                        collapsed: true,\n\t\t\t                        defaultType: 'textfield',\n\t\t\t                        items: [{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPubDate'),\n\t\t\t\t\t\t\t\t\t\tname: 'htmlPubDateQuery'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPublisher'),\n\t\t\t\t\t\t\t\t\t\tname: 'htmlPublisherQuery'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPubPlace'),\n\t\t\t\t\t\t\t\t\t\tname: 'htmlPubPlaceQuery'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathKeywords'),\n\t\t\t\t\t\t\t\t\t\tname: 'htmlKeywordsQuery'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathCollection'),\n\t\t\t\t\t\t\t\t\t\tname: 'htmlCollectionQuery'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\txtype: 'textareafield',\n\t\t\t\t\t\t\t\t\t\tgrow: true,\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathExtra'),\n\t\t\t\t\t\t\t\t\t\tname: 'htmlExtraMetadataQuery'\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-json' target='voyantdocs'>\"+me.localize('jsonOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        defaultType: 'textfield',\n\t                        items: [\n\t                            {\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+new Ext.Template(me.localize('jsonOptionsText')).applyTemplate([me.getBaseUrl()+'docs/#!/guide/corpuscreator-section-json'])+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathContent'),\n\t\t\t\t\t\t\t\t\tname: 'jsonContentPointer'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathTitle'),\n\t\t\t\t\t\t\t\t\tname: 'jsonTitlePointer'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathAuthor'),\n\t\t\t\t\t\t\t\t\tname: 'jsonAuthorPointer'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathDocuments'),\n\t\t\t\t\t\t\t\t\tname: 'jsonDocumentsPointer'\n\t\t\t\t\t\t\t\t},/*{ \n\t\t\t\t\t\t\t\t\t// groupBy is tricky because documents are combined in ways that may conflict \n\t\t\t\t\t\t\t\t\t// with the other extraction options (especially since Pointer expects absolute\n\t\t \t\t\t\t\t\t\t// addresses from root). So for now we'll skip.\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathGroupBy'),\n\t\t\t\t\t\t\t\t\tname: 'jsonGroupByPointer'\n\t\t\t\t\t\t\t\t},*/{\n\t\t\t\t\t\t\t\t\txtype: 'fieldset',\n\t\t\t                        title: me.localize('xmlAdditionalOptions'),\n\t\t\t                        collapsible: true,\n\t\t\t                        collapsed: true,\n\t\t\t                        defaultType: 'textfield',\n\t\t\t                        items: [{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPubDate'),\n\t\t\t\t\t\t\t\t\t\tname: 'jsonPubDatePointer'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPublisher'),\n\t\t\t\t\t\t\t\t\t\tname: 'jsonPublisherPointer'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathPubPlace'),\n\t\t\t\t\t\t\t\t\t\tname: 'jsonPubPlacePointer'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathKeywords'),\n\t\t\t\t\t\t\t\t\t\tname: 'jsonKeywordsPointer'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathCollection'),\n\t\t\t\t\t\t\t\t\t\tname: 'jsonCollectionPointer'\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\txtype: 'textareafield',\n\t\t\t\t\t\t\t\t\t\tgrow: true,\n\t\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('xpathExtra'),\n\t\t\t\t\t\t\t\t\t\tname: 'jsonExtraMetadataPointer'\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-tables' target='voyantdocs'>\"+me.localize('tableOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        defaultType: 'textfield',\n\t                        items: [{\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+new Ext.Template(me.localize('tableOptionsText')).applyTemplate([me.getBaseUrl()+'docs/#!/guide/corpuscreator-section-tables'])+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                        \t},{\n\t\t\t\t\t\t\t\t    xtype:'combo',\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('tableDocuments'),\n\t\t\t\t\t\t\t\t    name: 'tableDocuments',\n\t\t\t\t\t\t\t\t    queryMode:'local',\n\t\t\t\t\t\t\t\t    store:[['',me.localize('tableDocumentsTable')],['rows',me.localize('tableDocumentsRows')],['columns',me.localize(\"tableDocumentsColumns\")]],\n\t\t\t\t\t\t\t\t    forceSelection:true,\n\t\t\t\t\t\t\t\t    value: ''\n\t\t\t\t\t\t\t\t},{\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+me.localize(\"tableNoHeadersRowText\")+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize(\"tableNoHeadersRow\"),\n\t\t\t\t\t\t\t\t\txtype: 'checkboxfield',\n\t\t\t\t\t\t\t\t\tname: 'tableNoHeadersRow',\n\t\t\t\t\t\t\t\t\tinputValue: \"true\"\n\t\t\t\t\t\t\t\t},{\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+me.localize(\"tableContentText\")+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('tableContent'),\n\t\t\t\t\t\t\t\t\tvalidator: function(val) {return me.validatePositiveNumbersCsv.call(me, val)},\n\t\t\t\t\t\t\t\t\tname: 'tableContent'\n\t\t\t\t\t\t\t\t},{\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+me.localize(\"tableMetadataText\")+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('tableAuthor'),\n\t\t\t\t\t\t\t\t\tvalidator: function(val) {return me.validatePositiveNumbersCsv.call(me, val)},\n\t\t\t\t\t\t\t\t\tname: 'tableAuthor'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('tableTitle'),\n\t\t\t\t\t\t\t\t\tvalidator: function(val) {return me.validatePositiveNumbersCsv.call(me, val)},\n\t\t\t\t\t\t\t\t\tname: 'tableTitle'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-processing' target='voyantdocs'>\"+me.localize('processingOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        items: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t    xtype:'combo',\n\t\t\t\t\t\t\t\t    fieldLabel: me.localize(\"language\"),\n\t\t\t\t\t\t\t\t    name: 'language',\n\t\t\t\t\t\t\t\t    queryMode:'local', //?\n\t\t\t\t\t\t\t\t    store:[['',me._localizeClass(Voyant.widget.StopListOption, \"auto\")],['cn',me._localizeClass(Voyant.widget.StopListOption, \"cn\")],['bo',me._localizeClass(Voyant.widget.StopListOption, \"bo\")],['grc',me._localizeClass(Voyant.widget.StopListOption, \"grc\")]],\n\t\t\t\t\t\t\t\t    forceSelection:true,\n\t\t\t\t\t\t\t\t    value: ''\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t    xtype:'combo',\n\t\t\t\t\t\t\t\t    fieldLabel: me.localize('tokenization'),\n\t\t\t\t\t\t\t\t    name: 'tokenization',\n\t\t\t\t\t\t\t\t    queryMode:'local', //?\n\t\t\t\t\t\t\t\t    store:[['',me.localize('tokenizationAuto')],['wordBoundaries',me.localize(\"tokenizationWordBoundaries\")],['whitespace',me.localize(\"tokenizationWhitespace\")]],\n\t\t\t\t\t\t\t\t    forceSelection:true,\n\t\t\t\t\t\t\t\t    value: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},{\n\t        \t\t\t\txtype: 'fieldset',\n\t                        title: \"<a href='\"+me.getBaseUrl()+\"docs/#!/guide/corpuscreator-section-access-management' target='voyantdocs'>\"+me.localize('accessOptions')+\"</a>\",\n\t                        collapsible: true,\n\t                        collapsed: true,\n\t                        defaultType: 'textfield',\n\t                        items: [\n\t                            {\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+me.localize(\"accessOptionsText\")+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('adminPassword'),\n\t\t\t\t\t\t\t\t\tname: 'adminPassword'\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('accessPassword'),\n\t\t\t\t\t\t\t\t\tname: 'accessPassword'\n\t\t\t\t\t\t\t\t},{\n\t    \t\t\t\t\t\t\txtype: 'container',\n\t    \t\t\t\t\t\t\thtml: '<p><i>'+me.localize(\"accessModeWithoutPasswordText\")+'</i></p>',\n\t    \t\t\t\t\t\t\twidth: 375\n\t                            },{\n\t\t\t\t\t\t\t\t    xtype:'combo',\n\t\t\t\t\t\t\t\t\tfieldLabel: me.localize('accessModeWithoutPassword'),\n\t\t\t\t\t\t\t\t    name: 'noPasswordAccess',\n\t\t\t\t\t\t\t\t    queryMode:'local',\n\t\t\t\t\t\t\t\t    store:[['',me.localize('accessModeNonConsumptive')],['none',me.localize(\"accessModeNone\")]],\n\t\t\t\t\t\t\t\t    forceSelection:true,\n\t\t\t\t\t\t\t\t    value: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t]\n    \t\t\t}],\n    \t\t\tbuttons: [{\n    \t\t\t\ttext: me.localize('ok'),\n    \t\t\t\thandler: function(button, event) {\n    \t\t\t\t\tvar win = button.findParentByType('window');\n    \t\t\t\t\tvar form = win.down('form');\n    \t\t\t\t\tif (form.isValid()) {\n        \t\t\t\t\tvar params = form.getValues();\n        \t\t\t\t\tme.setApiParams(params);\n        \t\t\t\t\twin.hide();\n    \t\t\t\t\t}\n    \t\t\t\t\telse {\n    \t\t\t\t\t\tme.showError({\n    \t\t\t\t\t\t\tmessage: me.localize(\"invalidForm\")\n    \t\t\t\t\t\t})\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t},{\n    \t\t\t\ttext: me.localize('cancel'),\n    \t\t\t\thandler: function(button, event) {\n    \t\t\t\t\tbutton.findParentByType('window').hide();\n    \t\t\t\t}\n    \t\t\t}]\n    \t\t});\n    \t}\n    \tme.optionsWin.showAt((me.getApplication().getViewport().getWidth()/2)-200,10);\n    },\n    \n    validatePositiveNumbersCsv: function(val) {\n    \tval = val.trim();\n    \tif (val.length>0) {\n        \tif (/[^\\d,+ ]/.test(val)) {\n        \t\treturn this.localize(\"numbersCommasOnly\");\n        \t}\n        \tif (/\\d\\s+\\d/.test(val)) {\n        \t\treturn this.localize(\"numbersNeedCommas\");\n        \t}\n        \tvar numbers = val.split(/\\s*[,+]\\s*/), number;\n        \tfor (var i=0, len=numbers.length; i<len; i++) {\n        \t\tnumber = numbers[i];\n        \t\tif (number.length==0) {\n        \t\t\treturn this.localize(\"numberEmpty\")\n        \t\t}\n        \t\tif (parseInt(number)==0) {\n        \t\t\treturn this.localize(\"numberZero\")\n        \t\t}\n        \t}\n    \t}\n    \treturn true;\n\t}\n    \n});","Ext.define('Voyant.panel.DreamScape', {\n    extend: 'Ext.Panel',\n    xtype: 'dreamscape',\n    mixins: ['Voyant.panel.Panel'],\n    statics: {\n        i18n: {\n        },\n        api: {\n            stopList: 'auto',\n            hide: [],\n            author: undefined,\n            title: undefined,\n            keyword: undefined,\n            pubDate: undefined,\n            citiesMaxCount: 500,\n            minPopulation: 10000,\n            citiesMinFreq: 1,\n            connectionsMaxCount: 2500,\n            connectionsMinFreq: 1,\n            millisPerAnimation: 2000,\n            annotationsId: undefined,\n            source: undefined,\n            overridesId: undefined,\n            filterHasLowerCaseForm: true,\n            filterIsPersonName: true,\n            preferredCoordinates: undefined\n        },\n        glyph: 'xf124@FontAwesome'\n    },\n    config: {\n        map: undefined, // OL object, should be set during init\n        overlay: undefined, // OL object, should be set during init\n        contentEl: undefined, // EXTJS Element, where info is shown\n        isOpenLayersLoaded: false,\n        isArcLoaded: false,\n        animationDelay: 25, // determines the delay between animation calls\n        isProj4Loaded: false,\n        projection: undefined,\n        filterWidgets: new Ext.util.MixedCollection(),\n        drawInteraction: undefined,\n        drawMode: false,\n        //currentAnnotation: undefined,\n        baseLayers: {},\n        annotations: undefined, // set during init if any values are stored, shouldn't be looked up (getAnnotations) after init\n        annotationsLoadedIfAvailable: false, // check api and local storage,\n        overrides: {}\n    },\n\n    html: '<div class=\"map\"></div><div class=\"ticker\"></div>',\n\n    cls: 'dreamscape',\n\n    constructor: function(config) {\n        this.callParent(arguments);\n        this.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n        Ext.Loader.loadScript({\n            url: this.getBaseUrl()+\"resources/openlayers/ol.js\",\n            onLoad: function() {\n                // Utility function to get layer by id\n                if (ol.Map.prototype.getLayer === undefined) {\n                    ol.Map.prototype.getLayer = function (id) {\n                        var layer = undefined;\n                        this.getLayers().forEach(function(lyr) {\n                            if (id === lyr.get('id')) {\n                                layer = lyr;\n                            }\n                        });\n                        return layer;\n                    }\n                }\n                this.setIsOpenLayersLoaded(true);\n            },\n            scope: this\n        });\n        Ext.Loader.loadScript({\n            url: this.getBaseUrl()+\"resources/dreamscape/arc.js\",\n            onLoad: function() {\n                this.setIsArcLoaded(true);\n            },\n            scope: this\n        });\n        Ext.Loader.loadScript({\n            url: \"https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4.js\",\n            onLoad: function() {\n                this.setIsProj4Loaded(true);\n            },\n            scope: this\n        });\n        var annotationsId = this.getApiParam(\"annotationsId\");\n        if (annotationsId) {\n            var me = this;\n            Ext.Ajax.request({\n                url: this.getTromboneUrl(),\n                params: {\n                    tool: 'resource.StoredResource',\n                    retrieveResourceId: annotationsId\n                },\n                scope: this\n            }).then(function(response) {\n                var data = Ext.JSON.decode(response.responseText);\n                if (data.storedResource.resource) {\n                    var annotations = Ext.JSON.decode(data.storedResource.resource)\n                    if (Ext.isString(annotations)) {\n                        annotations = Ext.JSON.decode(annotations);\n                        me.setAnnotations(annotations)\n                    }\n                }\n                if (!me.getAnnotations()) {\n                    me.showError(me.localize(\"annotationsLoadFailed\"));\n                }\n                me.setAnnotationsLoadedIfAvailable(true);\n            }, function(response) {\n                me.showResponseError(me.localize(\"annotationsLoadFailed\"), response);\n                me.setAnnotationsLoadedIfAvailable(true);\n            });\n        } else {\n            this.setAnnotationsLoadedIfAvailable(true);\n        }\n    },\n    initComponent: function() {\n        var me = this;\n        this.mixins['Voyant.util.Api'].constructor.apply(this, arguments); // we need api\n        var hide = this.getApiParam(\"hide\");\n        if (Ext.isString(hide)) {\n            hide = hide.split(',');\n            this.setApiParam('hide');\n        }\n        var iconBase = this.getApplication().getBaseUrl()+\"resources/dreamscape/\";\n        Ext.apply(this, {\n            title: this.localize('title'),\n            bodyBorder: true,\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                itemId: 'bottomToolbar',\n                overflowHandler: 'scroller',\n                items: [\n                    {\n                        text: this.localize('display'),\n                        tooltip: this.localize('displayTip'),\n                        glyph: 'xf013@FontAwesome',\n                        menu: {\n                            defaults: { // these are intended for the radiogroups after the separator (and should be ignored by the menu items above the separator)\n                                xtype: 'menucheckitem',\n                                checkHandler: function(item, checked) {\n                                    var map = this.getMap(), id = item.getItemId();\n                                    this.getFilterWidgets().each(function(filter) {\n                                        map.getLayer(filter.getId()+\"-\"+id).setVisible(checked);\n                                    })\n                                    var hide = Ext.Array.from(this.getApiParam('hide'));\n                                    if (checked) {\n                                        hide = Ext.Array.remove(hide, id);\n                                    } else {\n                                        hide.push(id);\n                                        hide = Ext.Array.unique(hide);\n                                    }\n                                    this.setApiParam(\"hide\", hide);\n                                    item.getMenu().setDisabled(checked==false);\n                                },\n                                scope: this,\n                                checked: true\n                            },\n                            items: [{\n                                xtype: 'menuitem',\n                                text: this.localize('baseLayer'),\n                                tooltip: this.localize('baseLayerTip'),\n                                glyph: 'xf279@FontAwesome',\n                                menu: {\n                                    items: [{\n                                        xtype: 'radiogroup',\n                                        columns: 1,\n                                        vertical: true,\n                                        defaults: {\n                                            cls: 'map-menu-item',\n                                            handler: function(item, checked) {\n                                                if(checked){\n                                                    var panel = this;\n                                                    id = item.getItemId();\n                                                    var layer = this.getBaseLayers()[id];\n                                                    if (layer) {\n                                                        layer.setOpacity(1);\n                                                        this.getMap().getLayers().setAt(0, layer);\n                                                    }\n                                                    if(id == 'osm' || id == 'arcGIS') {\n                                                        this.getMap().getLayer(\"overlayLayer\").setVisible(false);\n                                                    } else {\n                                                        this.getMap().getLayer(\"overlayLayer\").setVisible(true);\n                                                    }\n                                                }\n                                            },\n                                            listeners: {\n                                                afterrender: function(item) {\n                                                    Ext.create('Ext.tip.ToolTip', {\n                                                        target: item,\n                                                        html: '<div class=\"map-menu-item-tooltip '+item.getItemId()+'\"></div>',\n                                                        anchor: 'right'\n                                                    });\n                                                }\n                                            },\n                                            scope: this\n                                        },\n                                        items: [\n                                            {\n                                                boxLabel: this.localize('watercolor'),\n                                                itemId: 'watercolor',\n                                                cls: ['map-menu-item','watercolor'],\n                                                checked: true\n                                            },{\n                                                boxLabel: this.localize('wms4326'),\n                                                cls: ['map-menu-item','wms4326'],\n                                                itemId: 'wms4326'\n                                            },{\n                                                boxLabel: this.localize('osm'),\n                                                cls: ['map-menu-item','osm'],\n                                                itemId: 'osm'\n                                            },{\n                                                boxLabel: this.localize('arcGIS'),\n                                                cls: ['map-menu-item','arcGIS'],\n                                                itemId: 'arcGIS'\n                                            }\n                                        ]\n                                    }]\n                                }\n                            },{\n                                xtype: 'menuitem',\n                                text: this.localize('projection'),\n                                tooltip: this.localize('projectionTip'),\n                                glyph: 'xf0ac@FontAwesome',\n                                menu: {\n                                    items: [{\n                                        xtype: 'radiogroup',\n                                        columns: 1,\n                                        vertical: true,\n                                        defaults: {\n                                            handler: function(item, checked) {\n                                                if(checked){\n                                                    var panel = this;\n                                                    id = item.getItemId();\n                                                    var view = undefined\n                                                    if (id === \"webMercatorProjection\") {\n                                                        this.setProjection(ol.proj.get('EPSG:3857'));\n                                                    } else if (id === \"mercatorProjection\") {\n                                                        this.setProjection(ol.proj.get('EPSG:4326'));\n                                                    } else if (id === \"gallPetersProjection\") {\n                                                        proj4.defs('cea',\"+proj=cea +lon_0=0 +lat_ts=45 +x_0=0 +y_0=0 +ellps=WGS84 +units=m +no_defs\");\n                                                        var gallPetersProjection = ol.proj.get('cea');\n                                                        this.setProjection(gallPetersProjection);\n                                                    } else if (id === \"sphereMollweideProjection\") {\n                                                        proj4.defs('ESRI:54009', '+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs');\n                                                        var sphereMollweideProjection = ol.proj.get('ESRI:54009');\n                                                        sphereMollweideProjection.setExtent([-18e6, -9e6, 18e6, 9e6]);\n                                                        this.setProjection(sphereMollweideProjection);\n                                                    }\n                                                    var newProjExtent = this.getProjection().getExtent();\n                                                    // If using Mercator projection, earth with is measured in degrees, otherwise it's in meters\n                                                    var earthWidth = this.getProjection() == ol.proj.get(\"EPSG:4326\") ? 360 : 40075016.68557849;\n                                                    var newView = new ol.View({\n                                                        projection: this.getProjection(),\n                                                        center: ol.extent.getCenter(newProjExtent || [0, 0, 0, 0]),\n                                                        maxResolution: earthWidth / panel.body.dom.offsetWidth,\n                                                        zoom: 0\n                                                    });\n                                                    var map = this.getMap();\n                                                    var layers = map.getLayers();\n                                                    layers.forEach(function(layer) {\n                                                        if(layer.getSource().getFeatures){\n                                                            var features = layer.getSource().getFeatures();\n                                                            features.forEach(function(feature){\n                                                                var newGeometry = feature.getGeometry().transform(map.getView().getProjection(), panel.getProjection());\n                                                                feature.setGeometry(newGeometry);\n                                                            })\n                                                        }\n                                                    });\n\n                                                    map.setView(newView);\n                                                }\n                                            },\n                                            listeners: {\n                                                afterrender: function(item) {\n                                                    Ext.create('Ext.tip.ToolTip', {\n                                                        target: item,\n                                                        html: '<div class=\"map-menu-item-tooltip '+item.getItemId()+'\"></div>',\n                                                        anchor: 'right'\n                                                    });\n                                                }\n                                            },\n                                            scope: this\n                                        },\n                                        items: [\n                                            {\n                                                boxLabel: this.localize('webMercatorProjection'),\n                                                itemId: 'webMercatorProjection',\n                                                cls: ['map-menu-item','webMercatorProjection'],\n                                                checked: true\n                                            },{\n                                                boxLabel: this.localize('mercatorProjection'),\n                                                cls: ['map-menu-item','mercatorProjection'],\n                                                itemId: 'mercatorProjection'\n                                            },{\n                                                boxLabel: this.localize('gallPetersProjection'),\n                                                cls: ['map-menu-item','gallPetersProjection'],\n                                                itemId: 'gallPetersProjection'\n                                            },{\n                                                boxLabel: this.localize('sphereMollweideProjection'),\n                                                cls: ['map-menu-item','sphereMollweideProjection'],\n                                                itemId: 'sphereMollweideProjection'\n                                            }\n                                        ]\n                                    }]\n\n                                }\n                            },'-',{\n                                text: this.localize('cities'),\n                                checked: Ext.Array.contains(hide, \"cities\")==false,\n                                itemId: 'cities',\n                                menu: {\n                                    defaults: {\n                                        labelAlign: 'right',\n                                        labelWidth: 140\n                                    },\n                                    items: [{\n                                        xtype: 'numberfield',\n                                        fieldLabel: this.localize('citiesMaxCount'),\n                                        minValue: 1,\n                                        value: parseInt(this.getApiParam('citiesMaxCount')),\n                                        listeners: {\n                                            change: function(cmp, newVal, oldVal) {\n                                                this.getFilterWidgets().each(function(filter) {\n                                                    this.setApiParam('citiesMaxCount', newVal);\n                                                    var currentCitiesCount = filter.getGeonames().getCitiesCount();\n                                                    if (newVal<oldVal || newVal<=currentCitiesCount) {\n                                                        this.filterUpdate(filter);\n                                                    } else if (filter.getGeonames().hasMoreCities()) {\n                                                        filter.loadGeonames()\n                                                    } else {\n                                                        cmp.setValue(currentCitiesCount); // will call change\n                                                        this.toastInfo(new Ext.XTemplate(this.localize(\"allNCitiesShown\")).apply([currentCitiesCount]))\n                                                    }\n                                                }, this);\n                                            },\n                                            scope: this\n                                        }\n                                    },{\n                                        xtype: 'numberfield',\n                                        fieldLabel: this.localize('citiesMinPopulation'),\n                                        minValue: 1,\n                                        value: parseInt(this.getApiParam('minPopulation')),\n                                        listeners: {\n                                            change: function(cmp, newVal, oldVal) {\n                                                this.setApiParam('minPopulation', newVal);\n                                                this.getFilterWidgets().each(function(filter) {\n                                                    if (newVal>oldVal) {\n                                                        this.filterUpdate(filter);\n                                                    } else {\n                                                        filter.loadGeonames()\n                                                    }\n                                                }, this);\n                                            },\n                                            scope: this\n                                        }\n                                    },{\n                                        xtype: 'numberfield',\n                                        fieldLabel: this.localize('citiesMinFreq'),\n                                        minValue: 1,\n                                        value: parseInt(this.getApiParam('citiesMinFreq')),\n                                        listeners: {\n                                            change: function(cmp, newVal, oldVal) {\n                                                this.getFilterWidgets().each(function(filter) {\n                                                    this.setApiParam('citiesMinFreq', newVal);\n                                                    if (newVal>oldVal) {\n                                                        this.filterUpdate(filter);\n                                                    } else {\n                                                        filter.loadGeonames()\n                                                    }\n                                                }, this);\n                                            },\n                                            scope: this\n                                        }\n                                    }]\n                                }\n                            },{\n                                text: this.localize('connections'),\n                                checked: Ext.Array.contains(hide, \"connections\")==false,\n                                itemId: 'connections',\n                                menu: {\n                                    defaults: {\n                                        labelWidth: 140,\n                                        labelAlign: 'right'\n                                    },\n                                    items: [{\n                                        xtype: 'numberfield',\n                                        fieldLabel: this.localize('connectionsMaxCount'),\n                                        minValue: 1,\n                                        value: parseInt(this.getApiParam('connectionsMaxCount')),\n                                        listeners: {\n                                            change: function(cmp, newVal, oldVal) {\n                                                this.getFilterWidgets().each(function(filter) {\n                                                    this.setApiParam('connectionsMaxCount', newVal);\n                                                    if (newVal>oldVal) {\n                                                        this.filterUpdate(filter);\n                                                    } else {\n                                                        filter.loadGeonames()\n                                                    }\n                                                }, this);\n                                            },\n                                            scope: this\n                                        }\n                                    },{\n                                        xtype: 'numberfield',\n                                        fieldLabel: this.localize('connectionsMinFreq'),\n                                        minValue: 1,\n                                        value: parseInt(this.getApiParam('connectionsMinFreq')),\n                                        listeners: {\n                                            change: function(cmp, newVal, oldVal) {\n                                                this.getFilterWidgets().each(function(filter) {\n                                                    this.setApiParam('connectionsMinFreq', newVal);\n                                                    if (newVal>oldVal) {\n                                                        this.filterUpdate(filter);\n                                                    } else {\n                                                        filter.loadGeonames()\n                                                    }\n                                                }, this);\n                                            },\n                                            scope: this\n                                        }\n                                    }]\n                                }\n\n                            },{\n                                xtype: 'menucheckitem',\n                                checked: Ext.Array.contains(hide, \"animation\")==false,\n                                text: this.localize('animations'),\n                                itemId: 'animation',\n                                menu: {\n                                    defaults: {\n                                        labelWidth: 170,\n                                        labelAlign: 'right',\n                                        width: 280\n                                    },\n                                    items: [{\n                                        xtype: 'sliderfield',\n                                        fieldLabel: this.localize('millisPerAnimation'),\n                                        value: parseInt(this.getApiParam('millisPerAnimation')),\n                                        minValue: this.getAnimationDelay(),\n                                        maxValue: 10000,\n                                        listeners: {\n                                            change: function(cmp, newVal, oldVal) {\n                                                this.getFilterWidgets().each(function(filter) {\n                                                    filter.setMillisPerAnimation(newVal);\n                                                    filter.animate();\n                                                }, this);\n                                            },\n                                            scope: this\n                                        }\n                                    }]\n                                }\n                            }]\n                        }\n                    }, '-', {\n                        text: this.localize('add'),\n                        itemId: 'addFilter',\n                        glyph: 'xf067@FontAwesome',\n                        handler: function(cmp) {\n                            var colors = this.getApplication().getColorPalette(this.getApiParam('palette'), true),\n                                color = colors[0]; // default to first\n\n                            // find an available color\n                            for (var i=0, len=colors.length; i<len; i++) {\n                                var hasMatch = false;\n                                this.getFilterWidgets().each(function(filter) {\n                                    if (filter.getColor()==colors[i]) {\n                                        hasMatch = true;\n                                        return false;\n                                    }\n                                })\n                                if (hasMatch==false) {\n                                    color = colors[i];\n                                    break;\n                                }\n                            }\n                            var filter = cmp.ownerCt.add({\n                                xtype: 'geonamesfilter',\n                                corpus: this.getCorpus(),\n                                color: color,\n                                listeners: {\n                                    removeFilterWidget: function(filter) {\n                                        var map = this.getMap(), id = filter.getItemId(), filters = this.getFilterWidgets();\n                                        [\"connections\",\"cities\",\"animation\"].forEach(function(layer) {\n                                            map.removeLayer(map.getLayer(id+\"-\"+layer));\n                                        })\n                                        filters.remove(filter);\n                                        if (filters.getCount()==0) { // we always want at least one filter\n                                            // simulate adding a filter\n                                            this.getDockedComponent('bottomToolbar').getComponent('addFilter').click();\n                                        }\n                                    },\n                                    filterUpdate: this.filterUpdate,\n                                    scope: this\n                                }\n                            })\n                            this.getFilterWidgets().add(filter.getId(), filter);\n\n                            var map = this.getMap();\n\n                            var connectionsLayer = new ol.layer.Vector({\n                                source: new ol.source.Vector({\n                                    wrapX: false,\n                                    useSpatialIndex: true // needed to call getExtent()\n                                }),\n                                id: filter.getId()+\"-connections\",\n                                visible: true,\n                                opacity: 0.2,\n                                style: this.travelStyleFunction.bind(this),\n                                updateWhileAnimating: true, // optional, for instant visual feedback\n                                updateWhileInteracting: true // optional, for instant visual feedback\n                            });\n                            map.addLayer(connectionsLayer);\n\n                            var citiesLayer = new ol.layer.Vector({\n                                source: new ol.source.Vector({\n                                    wrapX: false,\n                                    useSpatialIndex: true // needed to call getExtent()\n                                }),\n                                id: filter.getId()+\"-cities\",\n                                opacity: 0.5,\n                                style: this.cityStyleFunction.bind(this)\n                            });\n                            map.addLayer(citiesLayer);\n\n                            var animationLayer = new ol.layer.Vector({\n                                source: new ol.source.Vector({\n                                    wrapX: false,\n                                    useSpatialIndex: true // needed to call getExtent()\n                                }),\n                                id: filter.getId()+\"-animation\",\n                                style:  this.animationStyleFunction.bind(this)\n                            });\n                            map.addLayer(animationLayer);\n                        },\n                        scope: this\n                    }]\n            }]\n        });\n\n        this.on(\"loadedCorpus\", function(src, corpus) {\n            this.tryInit();\n        }, this);\n\n        this.callParent();\n    },\n\n    tryInit: function() {\n        if (this.getIsOpenLayersLoaded() && this.getIsArcLoaded() && this.getIsProj4Loaded() && this.getAnnotationsLoadedIfAvailable()) {\n            var el = this.body.down('.map').setId(Ext.id());\n            /*\n            var overlayEl = this.body.down('.ol-popup');\n            var overlay = new ol.Overlay({\n                element: overlayEl.dom,\n                autoPan: true,\n                autoPanAnimation: {\n                    duration: 250\n                }\n            });\n            this.setOverlay(overlay);\n            */\n            var panel = this;\n            // Add a click handler to hide the popup\n            /*\n            var closer = overlayEl.down(\".ol-popup-closer\").dom;\n            closer.onclick = function() {\n                overlay.setPosition(undefined);\n                closer.blur();\n                panel.getMap().getLayer(\"preview\").getSource().clear();\n\n//                if(panel.getDrawMode()) {\n//                    panel.getDockedComponent('bottomToolbar').getComponent('annotate').click();\n//                }\n                return false;\n            };\n            */\n\n            var baseLayers = this.getBaseLayers();\n            baseLayers['wms4326'] = new ol.layer.Tile({\n                preload: Infinity,\n                source: new ol.source.TileWMS({\n                    url: 'https://ahocevar.com/geoserver/wms',\n                    crossOrigin: '',\n                    params: {\n                        'LAYERS': 'ne:NE1_HR_LC_SR_W_DR',\n                        'TILED': true\n                    },\n                    projection: 'EPSG:4326'\n                })\n            });\n\n            baseLayers['watercolor'] =  new ol.layer.Tile({\n                preload: Infinity,\n                source: new ol.source.Stamen({\n                    //cacheSize: 2048,\n                    layer: 'watercolor',\n                    projection: \"EPSG:3857\"\n                })\n            });\n\n            baseLayers['osm'] = new ol.layer.Tile({\n                preload: Infinity,\n                source: new ol.source.OSM({\n                    projection: \"EPSG:3857\"\n                })\n            });\n\n            baseLayers['arcGIS'] = new ol.layer.Tile({\n                preload: Infinity,\n                source: new ol.source.TileArcGISRest({\n                    url: \"https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer\",\n                    projection: \"EPSG:3857\"\n                })\n            });\n\n//            this.setContentEl(overlayEl.down('.popup-content'));\n            var map = new ol.Map({\n                layers: [\n                    baseLayers['watercolor'],\n\n                    new ol.layer.Tile({\n                        preload: Infinity,\n                        source: new ol.source.Stamen({\n                            cacheize: 2048,\n                            layer: 'toner-hybrid',\n                            projection: \"EPSG:3857\"\n                        }),\n                        id: 'overlayLayer'\n                    })\n                ],\n//                overlays: [overlay],\n                target: el.getId(),\n                loadTilesWhileInteracting: true,\n                view: new ol.View({\n                    center: [0, 0],\n                    maxResolution: 40075016.68557849 / panel.body.dom.offsetWidth,\n                    zoom: 0\n                })\n            });\n\n            map.on('singleclick', this.handleSingleClick, this);\n            // Add a click handler to the map to render the popup\n            map.on('singleclicking', function(event) {\n                var pixel = event.pixel;\n                var features = map.getFeaturesAtPixel(pixel);\n                if (features) {\n                \t\tfor (var i=0; i<features.length; i++) {\n                \t\t\tvar feature = features[i];\n                \t\t\tif (feature.get(\"type\")=='city') {\n                \t\t\t\tthis.handleLocationClick(feature);\n                \t\t\t}\n                \t\t}\n                \t\tvar feature = features[0];\n                \t\tdebugger\n                }\n                \n                if(features) {\n                    var foundFeature = false;\n                    features.forEach( function(feature) {\n                        if( feature.get(\"type\") === \"city\" && feature.get(\"selected\")) { // city\n                            panel.dispatchEvent(\"termsClicked\", panel, [feature.get(\"forms\").join(\"|\")])\n                            foundFeature = true;\n                        } else if (feature.get(\"type\") === \"connection\" && feature.get(\"selected\") && !foundFeature) { // connection\n                            panel.getFilterWidgets().each(function (filter) {\n                                var geonames = filter.getGeonames();\n                                if (geonames != null) {\n                                    var occurrences = geonames.getAllConnectionOccurrences(feature.get(\"source\"), feature.get(\"target\"));\n                                    var infos = \"<ul>\";\n                                    var docIndex = -1;\n                                    occurrences.forEach(function(occ) {\n                                        if(occ.docIndex != docIndex) {\n                                            docIndex = occ.docIndex;\n                                            infos += '<h4>' + panel.getCorpus().getDocument(docIndex).getFullLabel() + ':</h4>';\n                                        }\n                                        infos += '<li>'+ occ.source.left+'<a href=\"http://www.geonames.org/' + occ.source.id + '\" target=\"_blank\" docIndex='+occ.docIndex +' offset='+occ.source.position+\n                                            ' location='+occ.source.form + ' cityId=' + occ.source.id + ' coordinates=' + JSON.stringify(sourceCoordinates) + ' class=\"termLocationLink\">' + occ.source.form + '</a> '+occ.source.right + ' [...] ' +\n                                            occ.target.left+'<a href=\"http://www.geonames.org/' + occ.target.id + '\" target=\"_blank\" docIndex='+occ.docIndex+' offset='+occ.target.position+\n                                            ' location='+occ.target.form+ ' cityId=' + occ.target.id + ' coordinates=' + JSON.stringify(targetCoordinates) + ' class=\"termLocationLink\">' + occ.target.form + '</a> '+occ.target.right + '</li>';\n                                    });\n                                    var header = feature.get(\"text\");\n                                    infos += \"</ul>\";\n                                    panel.getContentEl().setHtml('<h3>' + header + '</h3>' + infos);\n                                    panel.getOverlay().setPosition(event.coordinate);\n                                    var links = Ext.select('.termLocationLink');\n\n//                                    function contextMenuListener(el) {\n//                                        el.addEventListener( \"contextmenu\", function(e) {\n//                                            e.preventDefault();\n//                                            panel.openContextMenu(e.layerX, e.layerY, el);\n//                                            return false;\n//                                        }, false);\n//                                    }\n\n                                    links.elements.forEach(function(link) {\n//                                        contextMenuListener(link);\n                                        link.onmouseover = function(){panel.showTermInCorpus(link.getAttribute(\"docIndex\"), link.getAttribute(\"offset\"), link.getAttribute('location'))};\n                                    });\n                                }\n                            });\n                            foundFeature = true\n                        } /*else if (feature.get(\"type\") === \"annotation\" && !foundFeature) { //annotation\n                            panel.setCurrentAnnotation(feature);\n                            panel.getContentEl().setHtml('<textarea class=\"annotation-text\" rows=\"5\" cols=\"60\">'+(feature.get(\"text\")?feature.get(\"text\"):\"\")+'</textarea>' +\n                                '<button class=\"saveAnnotation\">Save</button><button class=\"deleteAnnotation\">Delete</button>');\n                            panel.getOverlay().setPosition(event.coordinate);\n                            panel.getContentEl().down('.deleteAnnotation').dom.onclick = function() {panel.deleteAnnotation()};\n                            panel.getContentEl().down('.saveAnnotation').dom.onclick = function() {panel.saveAnnotation()};\n                            panel.getContentEl().down('.annotation-text').dom.focus();\n                        } */\n                    }, this);\n                }\n            });\n\n            // Layer for selected vector\n            var selectedLayer = new ol.layer.Vector({\n                map: map,\n                source: new ol.source.Vector({\n                    wrapX: false,\n                    useSpatialIndex: false // optional, might improve performance\n                }),\n                zIndex: 10,\n                selected: true,\n                style: function(feature) {\n                    if(feature.get(\"type\") === \"city\")\n                    {\n                        return panel.cityStyleFunction(feature, map.getView().getResolution());\n                    } else if(feature.get(\"type\") === \"connection\") {\n                        return panel.travelStyleFunction(feature, map.getView().getResolution());\n                    }\n                },\n                updateWhileAnimating: true, // optional, for instant visual feedback\n                updateWhileInteracting: true // optional, for instant visual feedback\n            });\n\n            // Layer for edit preview\n            var previewLayer = new ol.layer.Vector({\n                map: map,\n                source: new ol.source.Vector({\n                    wrapX: false,\n                    useSpatialIndex: false // optional, might improve performance\n                }),\n                preview: true,\n                zIndex: 15,\n                id: \"preview\",\n                style: function(feature) {\n                    if(feature.get(\"type\") === \"city\")\n                    {\n                        return panel.cityStyleFunction(feature, map.getView().getResolution());\n                    } else if(feature.get(\"type\") === \"connection\") {\n                        return panel.travelStyleFunction(feature, map.getView().getResolution());\n                    }\n                },\n                updateWhileAnimating: true, // optional, for instant visual feedback\n                updateWhileInteracting: true // optional, for instant visual feedback\n            });\n            map.addLayer(previewLayer);\n\n            // Add handler to update selected vector when mouse is moved\n            map.on('pointermove', function(event) {\n            \t\n            \t// set cursoe to pointer if we have a feature\n            \t  var pixel = map.getEventPixel(event.originalEvent);\n            \t  var hit = map.hasFeatureAtPixel(pixel);\n            \t  map.getViewport().style.cursor = hit ? 'pointer' : '';\n            \t  \n                if(!panel.getDrawMode()) {\n                    selectedLayer.getSource().clear();\n                    var coordinate = event.coordinate;\n                    var pixel = event.pixel;\n                    var features = map.getFeaturesAtPixel(pixel);\n                    if(features) {\n                        var i = 0;\n                        while(features[i].get(\"selected\")){\n                            i++;\n                            if (i === features.length) break;\n                        }\n                        if (i < features.length) {\n                            var feature = features[i];\n\n                            var baseTextStyle = {\n                                font: '12px Calibri,sans-serif',\n                                textAlign: 'center',\n                                offsetY: -15,\n                                fill: new ol.style.Fill({\n                                    color: [0,0,0,1]\n                                }),\n                                stroke: new ol.style.Stroke({\n                                    color: [255,255,255,0.5],\n                                    width: 4\n                                })\n                            };\n\n                            baseTextStyle.text = feature.get(\"text\");\n\n                            var textOverlayStyle = new ol.style.Style({\n                                text: new ol.style.Text(baseTextStyle),\n                                zIndex: 1\n                            });\n\n                            if (!(feature.get(\"type\") === \"annotation\")) {\n                                var selectedFeature = new ol.Feature({\n                                    text: feature.get(\"text\"),\n                                    geometry: feature.getGeometry(),\n                                    forms: feature.get(\"forms\"),\n                                    selected: true,\n                                    coordinates: feature.get(\"coordinates\"),\n                                    width: feature.get(\"width\"),\n                                    visible: feature.get(\"visible\"),\n                                    color: feature.get(\"color\"),\n                                    type: feature.get(\"type\"),\n                                    confidence: feature.get(\"confidence\"),\n                                    source: feature.get(\"source\"),\n                                    target: feature.get(\"target\"),\n                                    cityId: feature.get(\"cityId\")\n                                });\n                                selectedLayer.getSource().addFeature(selectedFeature);\n                            }\n                            var geometry = feature.getGeometry();\n                            var point = event.coordinate;\n                            var textFeature = new ol.Feature({\n                                geometry: new ol.geom.Point(point),\n                                selected: true\n                            });\n                            textFeature.setStyle(textOverlayStyle);\n                            selectedLayer.getSource().addFeature(textFeature);\n\n                            // Highlight all connection where selected city is source or target\n\n                            if(feature.get(\"type\") === \"city\") {\n                                var layers = panel.getMap().getLayers();\n                                layers.forEach(function (layer) {\n                                    var layerId = layer.get(\"id\");\n                                    if (layerId && layerId.indexOf(\"connections\") !== -1) {\n                                        connections = layer.getSource().getFeatures();\n                                        connections.forEach(function (connection) {\n                                            if(connection.get(\"target\") === feature.get(\"cityId\") || connection.get(\"source\") === feature.get(\"cityId\")) {\n                                                selectedLayer.getSource().addFeature(new ol.Feature({\n                                                    geometry: connection.getGeometry(),\n                                                    selected: true,\n                                                    coordinates: connection.get(\"coordinates\"),\n                                                    width: connection.get(\"width\"),\n                                                    visible: connection.get(\"visible\"),\n                                                    color: connection.get(\"color\"),\n                                                    type: connection.get(\"type\")\n                                                }));\n                                            }\n                                        })\n                                    }\n                                })\n                            }\n                        }\n                    }\n                }\n            });\n            var source = new ol.source.Vector({wrapX: false});\n\n            var annotations = new ol.layer.Vector({\n                source: source,\n                id: \"annotations\"\n            });\n\n            var annotationsObj = this.getAnnotations();\n            if (annotationsObj) {\n                var geojson = new ol.format.GeoJSON();\n                var features = geojson.readFeatures(annotationsObj);\n                source.addFeatures(features);\n            }\n\n            map.addLayer(annotations);\n\n            this.setDrawInteraction(\n                new ol.interaction.Draw({\n                    source: source,\n                    type: \"Polygon\",\n                    freehand: true,\n                    alias: \"draw\"\n                })\n            );\n            this.getDrawInteraction().on('drawend', function (evt) {\n                evt.feature.set('type', 'annotation');\n//                panel.setCurrentAnnotation(evt.feature);\n                panel.editAnnotation(evt.feature);\n//                panel.getContentEl().setHtml('<textarea class=\"annotation-text\" rows=\"5\" cols=\"60\"></textarea>'+\n//                    '<button class=\"saveAnnotation\">Save</button><button class=\"deleteAnnotation\">Cancel</button>');\n//                panel.getContentEl().down('.deleteAnnotation').dom.onclick = function() {panel.deleteAnnotation()};\n//                panel.getContentEl().down('.saveAnnotation').dom.onclick = function() {panel.saveAnnotation()};\n//                panel.getOverlay().setPosition(evt.feature.getGeometry().getLastCoordinate());\n//                panel.getContentEl().down('.annotation-text').dom.focus();\n            });\n\n            /*\n            map.getViewport().addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n                panel.openContextMenu(e.layerX, e.layerY);\n                return false;\n            }, false);\n            */\n\n            this.setMap(map);\n\n            var zoom = this.getTargetEl().down(\".ol-zoom\");\n            Ext.create('Ext.Button', {\n                glyph:'xf075@FontAwesome',\n                cls: 'annotate',\n                renderTo: this.getTargetEl().down(\".ticker\").parent(),\n                tooltip: this.localize('annotateTip'),\n                enableToggle: true,\n                toggleHandler: function(cmp, state) {\n                    if (state) {\n                        this.getMap().addInteraction(this.getDrawInteraction());\n                    } else {\n                        this.getMap().removeInteraction(this.getDrawInteraction());\n                    }\n                },\n                scope: this\n            })\n\n            // simulate adding a filter\n            this.getDockedComponent('bottomToolbar').getComponent('addFilter').click();\n        } else {\n            Ext.defer(this.tryInit, 500, this); // try again in a half second\n        }\n    },\n    \n    editAnnotation: function(feature) {\n    \t\tvar text = feature.get(\"text\"), buttons = [];\n    \t\tExt.Msg.show({\n    \t\t\ttitle: this.localize(\"editAnnotation\"),\n    \t\t\tmessage: this.localize(\"editAnnotationMessage\"),\n    \t\t\tbuttons: Ext.Msg.OKCANCEL,\n            multiline: true,\n            value: text,\n            scope: this,\n            callback: function(btn, val) {\n            \t\tif (btn=='ok') {\n            \t\t\tif (val==\"\") {\n            \t\t\t\tthis.getMap().getLayer(\"annotations\").getSource().removeFeature(feature);\n            \t\t\t} else {\n            \t\t\t\tfeature.set(\"text\", val);\n            \t\t\t}\n            \t        var geojson  = new ol.format.GeoJSON;\n            \t        var features = this.getMap().getLayer(\"annotations\").getSource().getFeatures();\n            \t        var transformedFeatures = [];\n            \t        var projection = this.getProjection();\n            \t        features.forEach(function (feature) {\n            \t            transformedFeature = feature.clone();\n            \t            transformedFeature.getGeometry().transform(projection?projection:'EPSG:3857', 'EPSG:3857');\n            \t            transformedFeatures.push(transformedFeature);\n            \t        })\n            \t        var json = geojson.writeFeatures(transformedFeatures);\n            \t        this.storeAnnotations(json);\n            \t\t}\n            }\n    \t\t})\n\n    },\n\n    /*\n    deleteAnnotation: function() {\n        this.body.down('.ol-popup').down(\".ol-popup-closer\").dom.click();\n        this.getMap().getLayer(\"annotations\").getSource().removeFeature(this.getCurrentAnnotation());\n        var geojson  = new ol.format.GeoJSON;\n        var features = this.getMap().getLayer(\"annotations\").getSource().getFeatures();\n        var transformedFeatures = [];\n        var projection = this.getProjection();\n        features.forEach(function (feature) {\n            transformedFeature = feature.clone();\n            transformedFeature.getGeometry().transform(projection?projection:'EPSG:3857', 'EPSG:3857');\n            transformedFeatures.push(transformedFeature);\n        })\n        var json = geojson.writeFeatures(transformedFeatures);\n        this.storeAnnotations(json);\n//        localStorage['annotations'] = JSON.stringify(json);\n    },\n    */\n\n    storeAnnotations: function(json) {\n        this.mask(\"storingAnnotations\");\n        var me = this;\n        Ext.Ajax.request({\n            url: this.getTromboneUrl(),\n            params: {\n                tool: 'resource.StoredResource',\n                storeResource: JSON.stringify(json)\n            },\n            scope: this\n        }).then(function(response) {\n            me.unmask();\n            var data = Ext.JSON.decode(response.responseText);\n            me.setApiParam(\"annotationsId\", data.storedResource.id);\n            me.toastInfo(me.localize('annotationsUpdated'));\n        }, function(response) {\n            me.unmask();\n            me.showResponseError(me.localize(\"annotationsUpdateFailed\"), response);\n        });\n    },\n\n    /*\n    saveAnnotation: function() {\n        this.getCurrentAnnotation().set(\"text\", this.getContentEl().down('.annotation-text').dom.value);\n        this.getOverlay().setPosition(undefined);\n//        if(this.getDrawMode()) {\n//            this.getDockedComponent('bottomToolbar').getComponent('annotate').click();\n//        }\n        var geojson  = new ol.format.GeoJSON;\n        var features = this.getMap().getLayer(\"annotations\").getSource().getFeatures();\n        var transformedFeatures = [];\n        var projection = this.getProjection();\n        features.forEach(function (feature) {\n            transformedFeature = feature.clone();\n            transformedFeature.getGeometry().transform(projection?projection:'EPSG:3857', 'EPSG:3857');\n            transformedFeatures.push(transformedFeature);\n        })\n        var json = geojson.writeFeatures(transformedFeatures);\n        this.storeAnnotations(json);\n//        localStorage['annotations'] = JSON.stringify(json);\n    },\n    */\n\n    // Style for vector after animation\n    travelStyleFunction: function(feature, resolution) {\n\n        var stroke = new ol.style.Stroke({\n            color: feature.get('color'),\n            width: feature.get('width')\n        });\n\n        var styles = [\n            new ol.style.Style({\n                stroke: stroke\n            })];\n\n        // Add arrow at the end of vectors\n        var geometry = feature.getGeometry();\n        var end = geometry.getLastCoordinate();\n        var beforeEnd = geometry.getCoordinateAt(0.9);\n        var dx = end[0] - beforeEnd[0];\n        var dy = end[1] - beforeEnd[1];\n        var rotation = Math.atan2(dy, dx);\n\n        var lineStr1 = new ol.geom.LineString([end, [end[0] - 10 * resolution, end[1] + 10 * resolution]]);\n        lineStr1.rotate(rotation, end);\n        var lineStr2 = new ol.geom.LineString([end, [end[0] - 10 * resolution, end[1] - 10 * resolution]]);\n        lineStr2.rotate(rotation, end);\n\n        styles.push(new ol.style.Style({\n            geometry: lineStr1,\n            stroke: stroke\n        }));\n        styles.push(new ol.style.Style({\n            geometry: lineStr2,\n            stroke: stroke\n        }));\n\n        return styles;\n    },\n\n    // Style for cities\n    cityStyleFunction: function(feature, resolution) {\n        if(feature.get(\"visible\")) {\n            var diameter = Math.PI * 2 * feature.get(\"width\");\n            var confArc = feature.get(\"confidence\") ? diameter * feature.get(\"confidence\") : diameter;\n            return (new ol.style.Style({\n                image: new ol.style.Circle({\n                    radius: feature.get(\"width\"),\n                    fill: new ol.style.Fill({\n                        color: feature.get(\"color\")\n                    }),\n                    stroke: new ol.style.Stroke({\n                        lineDash: [confArc, diameter - confArc],\n                        color: 'rgb(255, 255, 255)',\n                        width: 2\n                    })\n                })\n            }));\n        } else {\n            return false;\n        }\n    },\n\n    // Style for vector during animation\n    animationStyleFunction: function (feature) {\n        return [new ol.style.Style({\n            stroke: new ol.style.Stroke({\n                color: feature.get(\"color\"),\n                width: 5\n            })\n        }), new ol.style.Style({\n            geometry: new ol.geom.Circle(feature.getGeometry().getFirstCoordinate()),\n            stroke: new ol.style.Stroke({\n                color: \"white\",\n                width: 10\n            })\n        }), new ol.style.Style({\n            geometry: new ol.geom.Circle(feature.getGeometry().getLastCoordinate()),\n            stroke: new ol.style.Stroke({\n                color: \"white\",\n                width: 10\n            })\n        })];\n    },\n\n    showTermInCorpus: function(docIndex, position, location) {\n        var term = Ext.create(\"Voyant.data.model.Context\", {\n            docIndex: docIndex,\n            position: position,\n            term: location\n        });\n        this.getApplication().dispatchEvent('termLocationClicked', this, [term]);\n    },\n   \n    /**\n     * Update all filters\n     */\n    reloadFilters: function() {\n        this.getFilterWidgets().each(function(filter) {\n        \t\tfilter.loadGeonames();\n        }, this);\n    },\n\n    filterUpdate: function(filter) {\n        var panel = this;\n        filter.clearAnimation();\n\n        var map = this.getMap(), color = filter.getColor();\n\n        var citiesMaxCount = parseInt(this.getApiParam(\"citiesMaxCount\"));\n\n        // determine max rawFreq for sizing\n        var max = 0;\n        filter.getGeonames().eachCity(function(city) {if (city.rawFreq>max) {max=city.rawFreq;}}, this, citiesMaxCount);\n\n        // generate cities\n        var layerSource = map.getLayer(filter.getId()+\"-cities\").getSource();\n\n        var hide = Ext.Array.from(this.getApiParam(\"hide\"));\n\n        layerSource.clear();\n        var minPopulation = parseInt(this.getApiParam(\"minPopulation\"));\n        var citiesMinFreq = parseInt(this.getApiParam(\"citiesMinFreq\"));\n        var validCitiesHash = {};\n\n        filter.getGeonames().eachCity(function(city) {\n\n            if ((!minPopulation || city.population>=minPopulation) && (!citiesMinFreq || city.rawFreq>=citiesMinFreq)) {\n                validCitiesHash[city.id]=true;\n                var coordinates = [parseFloat(city.lng), parseFloat(city.lat)]\n                var feature = new ol.Feature({\n\n                    geometry: new ol.geom.Point(coordinates).transform(ol.proj.get('EPSG:4326'), panel.getProjection()?panel.getProjection():ol.proj.get('EPSG:3857')),\n                    text: city.label + \" (\"+city.rawFreq+\")\",\n                    description: city.label,\n                    color: color,\n                    selected: false,\n                    width: 3+ (Math.sqrt(city.rawFreq/max)*20),\n                    visible: true,\n                    coordinates: coordinates,\n                    forms: city.forms,\n                    cityId: city.id,\n                    type: \"city\",\n                    confidence: city.confidence ? city.confidence*100 : undefined\n                });\n                layerSource.addFeature(feature);\n            }\n        }, this, citiesMaxCount);\n\n        if (layerSource.getFeatures().length>0) {\n            map.getView().fit(layerSource.getExtent());\n        }\n\n        map.getLayer(filter.getId()+\"-cities\").setVisible(Ext.Array.contains(hide, \"cities\")==false);\n\n        layerSource = map.getLayer(filter.getId()+\"-connections\").getSource();\n        layerSource.clear();\n\n        if (Object.keys(validCitiesHash).length==0) {\n            this.toastInfo(\"No cities available for current criteria.\");\n        }\n\n        max = 0;\n        filter.getGeonames().eachConnection(function(connection) {\n            if (connection.rawFreq>max) {max=connection.rawFreq;}\n        }, this);\n\n        // we'll go through all collections to see if we have valid cities\n        var counter = 0,\n            maxConnectionsCount = parseInt(this.getApiParam('connectionsMaxCount')),\n            connectionsMinFreq = parseInt(this.getApiParam('connectionsMinFreq'));\n        filter.getGeonames().eachConnection(function(connection) {\n            if ((!connectionsMinFreq || connection.rawFreq>=connectionsMinFreq) && (!maxConnectionsCount || counter<maxConnectionsCount) && connection.source.id in validCitiesHash && connection.target.id in validCitiesHash && (!minPopulation || (connection.source.population>=minPopulation && connection.target.population>=minPopulation))) {\n                var arcGenerator = new arc.GreatCircle(\n                    {x: connection.source.lng, y: connection.source.lat},\n                    {x: connection.target.lng, y: connection.target.lat});\n                var arcLine = arcGenerator.Arc(100, {offset: 100});\n                var label = connection.source.label+\" -> \"+connection.target.label + \" (\"+connection.rawFreq+\")\"\n                arcLine.geometries.forEach(function(geometry) {\n                    var line = new ol.geom.LineString(geometry.coords);\n                    line.transform(ol.proj.get('EPSG:4326'), panel.getProjection()?panel.getProjection():ol.proj.get('EPSG:3857'));\n                    var feature = new ol.Feature({\n                        geometry: line,\n                        text: label,\n                        color: color,\n                        width: 3+ (Math.sqrt(connection.rawFreq/max)*10),\n                        source: connection.source.id,\n                        target: connection.target.id,\n                        type: \"connection\"\n                    });\n                    layerSource.addFeature(feature);\n                }, this);\n                counter++;\n            }\n        }, this);\n\n        map.getLayer(filter.getId()+\"-connections\").setVisible(Ext.Array.contains(hide, \"connections\")==false)\n\n        filter.animate();\n\n    },\n    \n    handleSingleClick: function(event) {\n        var features = this.getMap().getFeaturesAtPixel(event.pixel);\n        if (features) {\n        \t\tfor (var i=0; i<features.length; i++) {\n        \t\t\tvar feature = features[i];\n        \t\t\tvar featureType = feature.get(\"type\")\n        \t\t\tif (featureType=='city') {\n        \t\t\t\tthis.handleLocationClick(event, feature);\n        \t\t\t\tbreak;\n        \t\t\t} else if (featureType==\"connection\") {\n        \t\t\t\tthis.handleConnectionClick(feature, event.pixel[0], event.pixel[1]);\n        \t\t\t\tbreak;\n        \t\t\t}else if (featureType==\"annotation\") {\n        \t\t\t\tthis.editAnnotation(feature);\n        \t\t\t\tbreak;\n        \t\t\t}\n        \t\t}\n        }\n\n    },\n    \n    handleConnectionClick: function(feature, x, y) {\n\t\tExt.create('Ext.menu.Menu', {\n\t\t\titems: [{\n    \t\t\t\ttext: this.localize(\"viewConnections\"),\n    \t\t\t\ttooltip: this.localize(\"viewConnectionsTip\"),\n    \t\t\t\tglyph: 'xf02d@FontAwesome',\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tthis.mask(\"loadingConnections\");\n    \t\t\t\t\tvar me = this;\n    \t\t            Ext.Ajax.request({\n    \t\t                url: this.getTromboneUrl(),\n    \t\t                params: {\n    \t\t                    tool: 'corpus.Dreamscape',\n    \t\t                    corpus: this.getCorpus().getId(),\n    \t\t                    suppressLocations: true,\n    \t\t                    suppressConnections: true,\n    \t\t                    sourceId: feature.get(\"source\"),\n    \t\t                    targetId: feature.get(\"target\"),\n    \t\t                    context: 2,\n    \t\t                    limit: 25\n    \t\t                },\n    \t\t                scope: this\n    \t\t            }).then(function(response) {\n\t                \t\tme.unmask();\n    \t\t                var data = Ext.JSON.decode(response.responseText);\n    \t\t                if (data && data.dreamscape && data.dreamscape.connectionOccurrences) {\n    \t\t                \t\tvar out = \"<table style='font-size:smaller'>\";\n    \t\t                \t\tdata.dreamscape.connectionOccurrences.connectionOccurrences.forEach(function(occurrence) {\n    \t\t                \t\t\tout+=\"<tr><td style='text-align: right'>\"+occurrence.source.left+\"</td><td class='keyword' style='text-align: center'>\"+\n    \t\t                \t\t\t\toccurrence.source.term+\"</td><td>\"+occurrence.source.right+\"</td><td>\u2026</td><td style='text-align: right'>\"+occurrence.target.left+\"</td><td class='keyword' style='text-align: center'>\"+\n    \t\t                \t\t\t\toccurrence.target.term+\"</td><td>\"+occurrence.target.right+\"</td></tr>\";\n    \t\t                \t\t})\n    \t\t                \t\tout += \"</table>\";\n    \t\t                \t\tExt.Msg.alert(me.localize(\"occurrences\"), out);\n    \t\t                }\n    \t\t            }, function(response) {\n\t                \t\tme.unmask();\n                \t\t\treturn me.showError(me.localize(\"occurrencesNotLoaded\"))\t    \t\t                \t\t\t\n    \t\t            });\n    \t\t\t\t},\n    \t\t\t\tscope: this\n\t\t\t\t}]\n\t\t}).showAt(x, y)\n    },\n    \n    \n    handleLocationClick: function(event, feature) {\n\t\tvar currentGeonameId = feature.get(\"cityId\");\n\t\tvar e = Ext.create('Ext.menu.Menu', {\n\t\t\titems: [{\n    \t\t\t\ttext: this.localize(\"viewOccurrences\"),\n    \t\t\t\ttooltip: this.localize(\"viewOccurrencesTip\"),\n    \t\t\t\tglyph: 'xf02d@FontAwesome',\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tthis.mask(\"loadingOccurrences\");\n    \t\t\t\t\tvar me = this;\n    \t\t            Ext.Ajax.request({\n    \t\t                url: this.getTromboneUrl(),\n    \t\t                params: {\n    \t\t                    tool: 'corpus.Dreamscape',\n    \t\t                    corpus: this.getCorpus().getId(),\n    \t\t                    suppressLocations: true,\n    \t\t                    suppressConnections: true,\n    \t\t                    suppressConnectionOccurrences: true,\n    \t\t                    locationId: currentGeonameId,\n    \t\t                    limit: 25\n    \t\t                },\n    \t\t                scope: this\n    \t\t            }).then(function(response) {\n\t                \t\tme.unmask();\n    \t\t                var data = Ext.JSON.decode(response.responseText);\n    \t\t                if (data && data.dreamscape && data.dreamscape.occurrences) {\n    \t\t                \t\tvar out = \"<table style='font-size:smaller'>\";\n    \t\t                \t\tdata.dreamscape.occurrences.occurrences.forEach(function(occurrence) {\n    \t\t                \t\t\tout+=\"<tr><td style='text-align: right'>\"+occurrence.left+\"</td><td class='keyword' style='text-align: center'>\"+occurrence.term+\"</td><td>\"+occurrence.right+\"</td></tr>\";\n    \t\t                \t\t})\n    \t\t                \t\tout += \"</table>\";\n    \t\t                \t\tExt.Msg.alert(me.localize(\"occurrences\"), out);\n    \t\t                }\n    \t\t            }, function(response) {\n\t                \t\tme.unmask();\n                \t\t\treturn me.showError(me.localize(\"occurrencesNotLoaded\"))\t    \t\t                \t\t\t\n    \t\t            });\n    \t\t\t\t},\n    \t\t\t\tscope: this\n\t\t\t\t},{\n    \t\t\t\ttext: this.localize(\"openInVoyant\"),\n    \t\t\t\ttooltip: this.localize(\"openInVoyantTip\"),\n    \t\t\t\tglyph: 'xf08e@FontAwesome',\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tthis.dispatchEvent('termsClicked', this, feature.get(\"forms\"));\n    \t\t\t\t},\n    \t\t\t\tscope: this\n\t\t\t\t},{\n    \t\t\t\ttext: this.localize(\"editLocation\"),\n    \t\t\t\ttooltip: this.localize(\"editLocationTip\"),\n    \t\t\t\tglyph: 'xf124@FontAwesome',\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tthis.mask(\"loadingAlternatives\");\n    \t\t\t\t\tvar me = this;\n    \t\t            Ext.Ajax.request({\n    \t\t                url: this.getTromboneUrl(),\n    \t\t                params: {\n    \t\t                    tool: 'util.Geonames',\n    \t\t                    query: feature.get(\"forms\")\n    \t\t                },\n    \t\t                scope: this\n    \t\t            }).then(function(response) {\n\t                \t\tme.unmask();\n    \t\t                var data = Ext.JSON.decode(response.responseText);\n    \t\t                if (data && data.geonames && data.geonames.locations) {\n    \t\t                \t\tvar items = []; \t\t \n    \t\t                \t\tObject.values(data.geonames.locations.locations).forEach(function(location) {\n    \t\t                \t\t\titems.push({\n    \t\t                \t\t\t\tboxLabel: location.label+\" (\"+location.population+\")\",\n    \t\t                \t\t\t\tname: 'id',\n    \t\t                \t\t\t\tinputValue: location.id,\n    \t\t                \t\t\t\tchecked: location.id==currentGeonameId\n    \t\t                \t\t\t})\n    \t\t                \t\t})\n    \t\t                \t\tif (items.length==0) {\n    \t\t                \t\t\treturn me.showError(me.localize(\"editLocationNoLocationsFound\"))\n    \t\t                \t\t} else if (items.length==1 && items[0].inputValue==currentGeonameId) {\n    \t\t                \t\t\treturn me.showError(me.localize(\"editLocationNoAlternativesFound\"))\t    \t\t                \t\t\t\n    \t\t                \t\t}\n\t    \t\t                \tExt.create('Ext.window.Window', {\n\t\t\t\t\t\t\t\ttitle: me.localize(\"editLocation\"),\n\t\t\t\t\t\t\t\tmodal: true,\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype: 'form',\n\t\t\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\t        xtype: 'radiogroup',\n\t\t\t\t\t\t\t\t        columns: 1,\n\t\t\t\t\t\t\t\t        vertical: true,\n\t\t\t\t\t\t\t\t        items: items\n\t\t\t\t\t\t\t\t    }],\n\t\t\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\t\t\tafterrender: function(form) {\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbuttons: [{\n\t\t\t\t\t\t\t\t\t\ttext: me.localize(\"cancel\"),\n\t\t\t\t\t\t\t            ui: 'default-toolbar',\n\t\t\t\t\t\t                glyph: 'xf00d@FontAwesome',\n\t\t\t\t\t\t        \t\t\tflex: 1,\n\t\t\t\t\t\t        \t\t\thandler: function(btn) {\n\t\t\t\t\t\t        \t\t\t\tbtn.up('window').destroy();\n\t\t\t\t\t\t        \t\t\t}\n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\ttext: me.localize(\"confirmTitle\"),\n\t\t\t\t\t\t\t\t\t\tglyph: 'xf00c@FontAwesome',\n\t\t\t\t\t            \t\t\tflex: 1,\n\t\t\t\t\t            \t\t\thandler: function(btn) {\n\t\t\t\t\t            \t\t\t\tvar newId = btn.up(\"form\").getValues().id;\n\t\t\t\t\t            \t\t\t\tif (newId && newId!=currentGeonameId) {\n\t\t\t\t\t    \t\t\t\t\t\t\tvar config = {};\n\t\t\t\t\t    \t\t\t\t\t\t\tconfig[currentGeonameId] = newId;\n\t\t\t\t\t    \t\t\t\t\t\t\tme.appendOverrides(config);\n\t\t\t\t\t            \t\t\t\t}\n\t\t\t\t\t\t        \t\t\t\tbtn.up('window').destroy();\n\t\t\t\t\t            \t\t\t}\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).show();\n    \t\t                }\n    \t\t            }, function(response) {\n\t                \t\tme.unmask();\n    \t\t                me.showResponseError(me.localize(\"editLocationServerError\"), response);\n\n    \t\t            });\n    \t\t\t\t},\n    \t\t\t\tscope: this\n\t\t\t},{\n    \t\t\t\ttext: this.localize(\"removeLocation\"),\n    \t\t\t\ttooltip: this.localize(\"removeLocationTip\"),\n    \t\t\t\tglyph: 'xf00d@FontAwesome',\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tExt.Msg.confirm(\n\t    \t\t\t\t\tthis.localize(\"removeLocationConfirmTitle\"),\n\t    \t\t\t\t\tthis.localize(\"removeLocationConfirm\"),\n\t    \t\t\t\t\tfunction(btn) {\n\t    \t\t\t\t\t\tif (btn==\"yes\") {\n\t    \t\t\t\t\t\t\tvar config = {};\n\t    \t\t\t\t\t\t\tconfig[currentGeonameId] = \"\";\n\t    \t\t\t\t\t\t\tthis.appendOverrides(config);\n\t    \t\t\t\t\t\t}\n\t    \t\t\t\t\t},\n\t    \t\t\t\t\tthis\n    \t\t\t\t\t)\n    \t\t\t\t},\n    \t\t\t\tscope: this\n\t\t\t}    \t\t\t\t\n\n\t\t\t],\n\t\t\tlisteners: {\n\t\t\t\tfocusleave : function(menu) {\n\t\t\t\t\tmenu.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}).showAt(event.pixel[0], event.pixel[1])    \t\t\n    },\n    \n    appendOverrides: function(config, isAll) {\n    \t\t// if we have overridesId defined but we haven't loaded all IDs yet\n    \t\tif (this.getApiParam(\"overridesId\") && !isAll) {\n    \t\t\tvar me = this;\n    \t\t\tExt.Ajax.request({\n                url: this.getTromboneUrl(),\n                params: {\n                    tool: 'resource.StoredResource',\n                    retrieveResourceId: this.getApiParam(\"overridesId\")\n                },\n                scope: this\n            }).then(function(response) {\n                var data = Ext.JSON.decode(response.responseText);\n                if (data && data.storedResource && data.storedResource.resource) {\n                \t\tvar newConfig = Ext.decode(data.storedResource.resource);\n                \t\tExt.apply(newConfig, config);\n                \t\t// call again, this time specifying that we have all\n                \t\tme.appendOverrides(newConfig, true);\n                } else {\n                    me.showResponseError(me.localize(\"overidesRetrieveError\"), response);\n                }\n            \t\n            }, function(response) {\n                me.showResponseError(me.localize(\"overidesRetrieveError\"), response);\n            });\n    \t\t} else {\n    \t\t\tvar me = this;\n    \t\t\tExt.Ajax.request({\n                url: this.getTromboneUrl(),\n                params: {\n                    tool: 'resource.StoredResource',\n                    storeResource: Ext.encode(config)\n                },\n                scope: this\n            }).then(function(response) {\n                var data = Ext.JSON.decode(response.responseText);\n                if (data && data.storedResource && data.storedResource.id) {\n                    me.setApiParam(\"overridesId\", data.storedResource.id);\n                    me.reloadFilters();\n                } else {\n                    me.showResponseError(me.localize(\"overidesRetrieveError\"), response);\n                }\n            }, function(response) {\n                me.showResponseError(me.localize(\"overidesStorageError\"), response);\n            });\n    \t\t}\n    }    \n\n});\n\nExt.define('Voyant.widget.GeonamesFilter', {\n    extend: 'Ext.Button',\n    xtype: 'geonamesfilter',\n    mixins: ['Voyant.util.Localization'],\n    statics: {\n        i18n: {\n            filter: 'Filter',\n            authorLabel: 'authors',\n            titleLabel: 'titles',\n            keywordLabel: 'full text',\n            pubDateLabel: \"dates\",\n            loading: \"Loading geographical information\u2026\",\n//            loadedAll: \"All available cities and connections have been loaded (see options under the <i>Show</i> menu in the toolbar).\",\n//            loadedSome: \"Loaded {currentCitiesCount} of {totalCitiesCount} available locations and {currentConnectionsCount} of {totalConnectionsCount} available connections (see options under the <b>Show</b> menu in the toolbar).\",\n//            disclaimer: \"Please note that geographical information is generated automatically and may be inaccurate (<a href='{url}' target='_blank'>more information</a>).</p>\",\n            disclaimer: \"This is an experimental tool and the accuracy of the data is variable (<a href='{url}' target='_blank'>see help</a>).\",\n            noDataForField: \"No data seems to be available for this field so it will be disabled.\",\n            close: \"Close\"\n        }\n    },\n    config: {\n        corpus: undefined, // used by querysearchfields among other things\n        geonames: undefined,\n        color: \"#f00\",\n        timeout: undefined,\n        currentConnectionOccurrence: undefined,\n        animationLayer: undefined,\n        millisPerAnimation: 2000,\n        stepByStepMode: false,\n        keepAnimationInFrame: false\n    },\n    constructor: function(config) {\n        config = config || {};\n        var geonames = new Voyant.data.util.Geonames({\n            corpus: config.corpus\n        });\n        this.setGeonames(geonames);\n        var me = this;\n        Ext.applyIf(config,\n            {\n                tooltip: this.localize('filterTip'),\n                style: \"background-color: white; color: \"+config.color,\n                glyph: 'xf0b0@FontAwesome',\n                menu: {\n                    defaults: {\n                        xtype: 'querysearchfield',\n                        labelWidth: 60,\n                        labelAlign: 'right',\n                        width: 250,\n                        maxWidth: 250,\n                        padding: 2,\n                        listeners: { // don't set scope to this so that load keeps the widget scope\n                            change: function(cmp, vals) {\n                                me.loadGeonames();\n                            },\n                            load: function(store, records, success, operation) {\n                                if (records.length==0 && operation.getParams().query==\"\") {\n                                    Ext.Msg.show({\n                                        buttonText: {ok: me.localize('close')},\n                                        icon: Ext.MessageBox.INFO,\n                                        message: me.localize(\"noDataForField\"),\n                                        buttons: Ext.Msg.OK\n                                    });\n                                    this.disable();\n                                }\n                            }\n                        }\n\n                    },\n                    items: [{\n                        fieldLabel: this.localize('authorLabel'),\n                        tokenType: 'author',\n                        itemId: 'author'\n                    },{\n                        fieldLabel: this.localize('titleLabel'),\n                        itemId: 'title',\n                        tokenType: 'title'\n                    },{\n                        fieldLabel: this.localize('keywordLabel')\n                    },{\n                        xtype: 'multislider',\n                        fieldLabel: this.localize('pubDateLabel'),\n                        itemId: 'pubDate',\n                        tokenType: 'pubDate',\n                        values: [0,1],\n                        hidden: true,\n                        listeners: {\n                            afterrender: function(cmp) {\n                                this.getCorpus().getCorpusTerms().load({\n                                    params: {\n                                        tokenType: 'pubDate',\n                                        limit: 1,\n                                        sort: \"TERMASC\"\n                                    },\n                                    callback: function(records) {\n                                        if (records.length==0) {\n                                            // no pubDate, see if we can parse from titles\n                                            var vals = [];\n                                            this.getCorpus().each(function(doc) {\n                                                var val = parseInt(doc.getTitle());\n                                                if (isNaN(val)==false) {\n                                                    vals.push(parseInt(doc.getTitle()))\n                                                }\n                                            }, this);\n                                            if (vals.length>1) {\n                                                cmp.setMinValue(vals[0]);\n                                                cmp.setMaxValue(vals[vals.length-1]);\n                                                cmp.tokenType = 'title';\n                                                cmp.suspendEvent('changecomplete');\n                                                cmp.setValue([vals[0], vals[vals.length-1]]);\n                                                cmp.resumeEvent('changecomplete');\n                                                cmp.setVisible(true);\n                                            }\n                                        } else {\n                                            cmp.setMinValue(parseInt(records[0].getTerm()))\n                                            this.getCorpus().getCorpusTerms().load({\n                                                params: {\n                                                    tokenType: 'pubDate',\n                                                    limit: 1,\n                                                    sort: \"TERMDESC\"\n                                                },\n                                                callback: function(records) {\n                                                    cmp.setMaxValue(parseInt(records[0].getTerm())),\n                                                        cmp.setVisible(true);\n                                                },\n                                                scope: this\n                                            });\n                                        }\n                                    },\n                                    scope: this\n                                })\n                            },\n                            changecomplete: function(cmp, newVal) {\n                                this.loadGeonames();\n                            },\n                            scope: this\n                        }\n                    }, {\n                        xtype: 'fieldset',\n                        title: \"Animation\",\n                        items: [{\n                            xtype: 'container',\n                            layout: 'hbox',\n                            defaults: {\n                                xtype: 'button',\n                                text: \"\",\n                                ui: 'default-toolbar'\n                            },\n                            items: [{\n                                glyph: 'xf048@FontAwesome', // step back\n                                handler: function() {\n                                    this.getAnimationLayer().getSource().clear();\n                                    this.clearAnimation();\n                                    var currentConnectionOccurrence = this.getCurrentConnectionOccurrence();\n                                    currentConnectionOccurrence = this.getGeonames().getConnectionOccurrence(currentConnectionOccurrence ? currentConnectionOccurrence.index-1 : 0);\n                                    this.setCurrentConnectionOccurrence(currentConnectionOccurrence);\n                                    this.animate();\n                                },\n                                scope: this\n                            },{\n                                glyph: 'xf04c@FontAwesome', // play\n                                handler: function(cmp) {\n                                    if (cmp.getGlyph().glyphConfig==\"xf04b@FontAwesome\") {\n                                        this.clearAnimation();\n                                        cmp.setGlyph(new Ext.Glyph('xf04c@FontAwesome'));\n                                        this.setStepByStepMode(false);\n                                        this.animate();\n                                    } else {\n                                        cmp.setGlyph(new Ext.Glyph('xf04b@FontAwesome'));\n//                                         this.clearAnimation();\n//                                         this.getAnimationLayer().getSource().clear();\n                                        this.setStepByStepMode(true);\n                                    }\n//                                     this.setCurrentConnectionOccurrence(this.getGeonames().getConnectionOccurrence(0));\n                                },\n                                scope: this\n\n                            },{\n                                glyph: 'xf051@FontAwesome', // step forward\n                                handler: function() {\n                                    this.getAnimationLayer().getSource().clear();\n                                    this.clearAnimation();\n                                    var currentConnectionOccurrence = this.getCurrentConnectionOccurrence();\n                                    currentConnectionOccurrence = this.getGeonames().getConnectionOccurrence(currentConnectionOccurrence ? currentConnectionOccurrence.index+1 : 0);\n                                    this.setCurrentConnectionOccurrence(currentConnectionOccurrence);\n                                    this.animate();\n                                },\n                                scope: this\n                            }, {\n                                xtype: 'tbtext',\n                                text: \"&nbsp;&nbsp;\"\n                            }, {\n                                glyph: 'xf01e@FontAwesome', // reset\n                                handler: function() {\n                                    this.getAnimationLayer().getSource().clear();\n                                    this.clearAnimation();\n                                    this.setCurrentConnectionOccurrence(this.getGeonames().getConnectionOccurrence(0));\n                                    this.animate();\n                                },\n                                scope: this\n                            }]\n                        }, {\n                            xtype: 'checkbox',\n                            checked: false,\n                            handler: function(item, checked) {\n                                me.setKeepAnimationInFrame(checked);\n                            },\n                            boxLabel: \"Keep animation in frame\"\n                        }]\n\n                    },{\n                        xtype: \"container\",\n                        text: \"&nbsp;\"\n                    },{\n                        xtype: 'button',\n                        text: 'remove',\n                        scope:this,\n                        //margin: 3,\n                        handler: function(cmp) {\n                            // assumes coupling with dreamscape\n                            this.fireEvent(\"removeFilterWidget\", this);\n                            cmp.ownerCt.ownerCmp.destroy();\n                        }\n                    }]\n                }\n            });\n        this.callParent([config]);\n        this.on(\"afterrender\", function(cmp) {\n            cmp.getTargetEl().down('.x-btn-glyph').setStyle('color', this.getColor());\n            var panel = cmp.up(\"panel\")\n            panel.mask(cmp.localize(\"loading\"));\n            cmp.loadGeonames().then(function(geonames) {\n                panel.unmask();\n                if (panel.getFilterWidgets().getCount()==1) {\n                    var currentCitiesCount = geonames.getCitiesCount(),\n                        totalCitiesCount = geonames.getTotalCitiesCount(),\n                        currentConnectionsCount = geonames.getConnectionsCount(),\n                        totalConnectionsCount = geonames.getTotalConnectionsCount();\n                    message = cmp.localize(currentCitiesCount==totalCitiesCount && currentConnectionsCount==totalConnectionsCount ? \"loadedAll\" : \"loadedSome\") +\n                        \"<br><br>\"+cmp.localize(\"disclaimer\");\n                    panel.toastInfo({\n                        autoCloseDelay: 5000,\n\n                        closable: true,\n                        maxWidth: '90%',\n                        html: new Ext.Template(cmp.localize(\"disclaimer\")).apply({\n                            currentCitiesCount: currentCitiesCount,\n                            totalCitiesCount: totalCitiesCount,\n                            currentConnectionsCount: currentConnectionsCount,\n                            totalConnectionsCount: totalConnectionsCount,\n                            url: panel.getBaseUrl()+\"docs/#!/guide/dreamscape\"\n                        })\n\n                    });\n                }\n            })\n        }, this);\n    },\n    loadGeonames: function(params) {\n        var me = this;\n        params = params || {};\n\n        // add queries\n        var queries  = [];\n        this.query('querysearchfield').forEach(function(querysearchfield) {\n            var id = querysearchfield.getItemId();\n            querysearchfield.getValue().forEach(function(query) {\n                queries.push(id+\":\"+query);\n            })\n        });\n        var pubDateSlider = this.down(\"multislider\");\n        if (pubDateSlider && pubDateSlider.isVisible()) {\n            var vals = pubDateSlider.getValue();\n            queries.push(pubDateSlider.tokenType+\":[\"+vals[0]+\"-\"+vals[1]+\"]\")\n        }\n        if (queries.length>0 && !(\"query\" in params)) {params.query=queries;}\n\n        // add params from tool\n        var panel  = this.up('panel');\n        if (panel && panel.getApiParams) {\n            Ext.applyIf(params, panel.getApiParams([\"minPopulation\",\"connectionsMaxCount\",\"connectionsMinFreq\",\"source\",\"overridesId\",\"filterHasLowerCaseForm\",\"filterIsPersonName\",\"preferredCoordinates\"]))\n        }\n\n        this.mask(\"\u2026\");\n        var geonames = this.getGeonames();\n        return geonames.load(params).then(function() {\n            me.unmask();\n            me.fireEvent(\"filterUpdate\", me, geonames);\n            return geonames;\n        });\n    },\n\n    clearAnimation: function() {\n        if (this.getTimeout()) {clearTimeout(this.getTimeout());}\n    },\n\n    animate: function() {\n        var panel = this.up('panel');\n        if (!panel) {return;}\n        this.clearAnimation();\n        var currentConnectionOccurrence = this.getCurrentConnectionOccurrence();\n        if (currentConnectionOccurrence) {\n            var animationLayer = this.getAnimationLayer();\n            if (!animationLayer) {\n                animationLayer = this.up('panel').getMap().getLayer(this.getId()+\"-animation\");\n                this.setAnimationLayer(animationLayer);\n            }\n            if (animationLayer) {\n                var features = animationLayer.getSource().getFeatures();\n                if (features.length==0) {\n                    if (!panel) {return;}\n                    var connectionsLayerSource = panel.getMap().getLayer(this.getId()+\"-connections\").getSource();\n                    var connectionsFeatures = connectionsLayerSource.getFeatures();\n                    var hasMatch = false;\n                    for (var i=0, len=connectionsFeatures.length; i<len; i++) {\n                        if (currentConnectionOccurrence.source.id==connectionsFeatures[i].get(\"source\") && currentConnectionOccurrence.target.id==connectionsFeatures[i].get(\"target\")) {\n                            hasMatch = connectionsFeatures[i];\n                            break;\n                        }\n                    }\n                    if (hasMatch) {\n                        // check to see if we need to reposition the map, use displayed feature as basis for extent\n                        if(this.getKeepAnimationInFrame()) {\n                            var map = panel.getMap();\n                            var extent = panel.getMap().getView().calculateExtent(map.getSize());\n                            var isVisible = ol.extent.containsExtent(extent, hasMatch.getGeometry().getExtent());\n                            if(!isVisible) {\n                                newExtent = ol.extent.extend(extent, hasMatch.getGeometry().getExtent());\n                                map.getView().fit(newExtent);\n                            }\n                        }\n\n                        var arcGenerator = new arc.GreatCircle(\n                            {x: currentConnectionOccurrence.source.lng, y: currentConnectionOccurrence.source.lat},\n                            {x: currentConnectionOccurrence.target.lng, y: currentConnectionOccurrence.target.lat});\n                        var arcLine = arcGenerator.Arc(100, {offset: 100});\n                        var label = currentConnectionOccurrence.source.label+\" -> \"+currentConnectionOccurrence.target.label;\n                        arcLine.geometries.forEach(function(geometry) {\n                            var line = new ol.geom.LineString([]); // can be empty since we generate a line during next animate call\n                            line.transform(ol.proj.get('EPSG:4326'), panel.getProjection()?panel.getProjection():ol.proj.get('EPSG:3857'));\n                            var feature = new ol.Feature({\n                                geometry: line,\n                                allcoords: geometry.coords ,\n                                text: label,\n                                color: this.getColor(),\n                                width: 5,\n                                start: new Date().getTime()\n                            });\n                            animationLayer.getSource().addFeature(feature);\n                        }, this);\n\n                        var ticker = panel.body.down(\".ticker\");\n\n                        panel.body.down(\".ticker\").setHtml(\n                            currentConnectionOccurrence.source.left+\" <span class='keyword'>\"+currentConnectionOccurrence.source.term+\"</span> \"+currentConnectionOccurrence.source.right+\" \u2026 \"+\n                            currentConnectionOccurrence.target.left+\" <span class='keyword'>\"+currentConnectionOccurrence.target.term+\"</span> \"+currentConnectionOccurrence.target.right\n                        );\n                        return this.setTimeout(setTimeout(this.animate.bind(this), 1));\n\n                    } else {\n                        if (!this.getGeonames()) {return;}\n                        currentConnectionOccurrence = this.getGeonames().getConnectionOccurrence(currentConnectionOccurrence.index+1);\n                        this.setCurrentConnectionOccurrence(currentConnectionOccurrence);\n                        animationLayer.getSource().clear();\n                        return this.setTimeout(setTimeout(this.animate.bind(this), 1));\n\n                    }\n                } else if (features.length>0) {\n\n                    var coords = features[0].getGeometry().getCoordinates(),\n                        allcoords = features[0].get(\"allcoords\");\n                    if (coords.length<allcoords.length) {\n                        var elapsed = new Date().getTime()-features[0].get('start'),\n                            len = elapsed*allcoords.length/this.getMillisPerAnimation()\n                        line = new ol.geom.LineString(allcoords.slice(0,len));\n                        line.transform(ol.proj.get('EPSG:4326'), panel.getProjection()?panel.getProjection():ol.proj.get('EPSG:3857'));\n                        features[0].set(\"geometry\", line);\n                        return this.setTimeout(setTimeout(this.animate.bind(this), 25));\n\n                    }\n                    // if we get here, all features should have been changed\n                    currentConnectionOccurrence = this.getGeonames().getConnectionOccurrence(currentConnectionOccurrence.index+1);\n                    if(!this.getStepByStepMode()) {\n                        this.setCurrentConnectionOccurrence(currentConnectionOccurrence);\n                        animationLayer.getSource().clear();\n                        return this.setTimeout(setTimeout(this.animate.bind(this), 1));\n                    }\n                }\n            }\n        } else {\n            if (!this.getGeonames()) {return;}\n            currentConnectionOccurrence = this.getGeonames().getConnectionOccurrence(0);\n            if (currentConnectionOccurrence) {\n                this.setCurrentConnectionOccurrence(currentConnectionOccurrence);\n                return this.setTimeout(setTimeout(this.animate.bind(this), 1));\n            }\n        }\n    }\n});\n","// assuming Knots library is loaded by containing page (via voyant.jsp)\r\nExt.define('Voyant.panel.Knots', {\r\n\textend: 'Ext.panel.Panel',\r\n\tmixins: ['Voyant.panel.Panel'],\r\n\talias: 'widget.knots',\r\n    statics: {\r\n    \ti18n: {\r\n    \t},\r\n    \tapi: {\r\n    \t\t/**\r\n        \t * @property query A string to search for in a document.\r\n        \t * @type String\r\n    \t\t * @private\r\n        \t */\r\n    \t\tquery: null,\r\n    \t\t/**\r\n    \t\t * @property stopList The stop list to use to filter results.\r\n    \t\t * Choose from a pre-defined list, or enter a comma separated list of words, or enter an URL to a list of stop words in plain text (one per line).\r\n    \t\t * @type String\r\n    \t\t * @private\r\n    \t\t */\r\n    \t\tstopList: 'auto',\r\n    \t\t/**\r\n    \t\t * @property docId The document ID to restrict results to.\r\n    \t\t * @type String\r\n    \t\t * @private\r\n    \t\t */\r\n    \t\tdocId: undefined,\r\n    \t\t\r\n    \t\taudio: false\r\n    \t},\r\n    \tglyph: 'xf06e@FontAwesome'\r\n\t},\r\n\tconfig: {\r\n\t\tknots: undefined,\r\n\t\ttermStore: undefined,\r\n\t\tdocTermStore: undefined,\r\n\t\ttokensStore: undefined,\r\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'},{xtype: 'colorpaletteoption'}],\r\n    \trefreshInterval: 100,\r\n    \tstartAngle: 315,\r\n    \tangleIncrement: 15,\r\n    \tcurrentTerm: undefined\r\n\t},\r\n\t\r\n\ttermTpl: new Ext.XTemplate(\r\n\t\t'<tpl for=\".\">',\r\n\t\t\t'<div class=\"term\" style=\"color: rgb({color});float: left;padding: 3px;margin: 2px;\">{term}</div>',\r\n\t\t'</tpl>'\r\n\t),\r\n\t\r\n    constructor: function() {\r\n        this.callParent(arguments);\r\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\r\n    \t\r\n    \tthis.on('loadedCorpus', function(src, corpus) {\r\n    \t\tvar firstDoc = corpus.getDocument(0);\r\n    \t\tvar pDoc = this.processDocument(firstDoc);\r\n    \t\tthis.getKnots().setCurrentDoc(pDoc);\r\n    \t\t\r\n    \t\tthis.setApiParams({docId: firstDoc.getId()});\r\n    \t\tthis.getDocTermStore().getProxy().setExtraParam('corpus', corpus.getId());\r\n    \t\tthis.getTokensStore().setCorpus(corpus);\r\n    \t\tthis.getDocTermStore().load({params: {\r\n\t\t    \tlimit: 5,\r\n\t\t    \tstopList: this.getApiParams('stopList')\r\n\t\t    }});\r\n    \t}, this);\r\n    \t\r\n        this.on('activate', function() { // load after tab activate (if we're in a tab panel)\r\n\t\t\tif (this.getCorpus()) {\t\t\t\t\r\n\t\t\t\tExt.Function.defer(function() {\r\n\t\t\t\t\tthis.getDocTermStore().load({params: {\r\n\t\t\t\t    \tlimit: 5,\r\n\t\t\t\t    \tstopList: this.getApiParams('stopList')\r\n\t\t\t\t    }});\r\n\t\t\t\t}, 100, this);\r\n\t\t\t}\r\n    \t}, this);\r\n        \r\n        this.on('query', function(src, query) {\r\n    \t\tif (query !== undefined && query != '') {\r\n    \t\t\tthis.getDocTermsFromQuery(query);\r\n    \t\t}\r\n    \t}, this);\r\n        \r\n        this.on('documentSelected', function(src, doc) {\r\n        \t\r\n        \tvar document = this.getCorpus().getDocument(doc)\r\n        \tthis.setApiParam('docId', document.getId());\r\n        \t\r\n        \tvar terms = this.getKnots().currentDoc.terms;\r\n        \tvar termsToKeep = [];\r\n        \tfor (var t in terms) {\r\n        \t\ttermsToKeep.push(t);\r\n        \t}\r\n        \t\r\n//        \tthis.getTermStore().removeAll();\r\n    \t\tthis.setApiParams({query: termsToKeep});\r\n    \t\t\r\n    \t\tvar limit = termsToKeep.length;\r\n    \t\tif (limit === 0) {\r\n    \t\t\tlimit = 5;\r\n    \t\t}\r\n        \t\r\n        \tthis.getKnots().setCurrentDoc(this.processDocument(document));\r\n        \t\r\n        \tthis.getDocTermStore().load({params: {\r\n\t\t    \tquery: termsToKeep,\r\n\t\t    \tlimit: limit,\r\n\t\t    \tstopList: this.getApiParams('stopList')\r\n\t\t    }});\r\n        }, this);\r\n        \r\n        this.on('termsClicked', function(src, terms) {\r\n    \t\tvar queryTerms = [];\r\n    \t\tterms.forEach(function(term) {\r\n    \t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\r\n    \t\t\telse if (term.term) {queryTerms.push(term.term);}\r\n    \t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\r\n    \t\t});\r\n    \t\tif (queryTerms.length > 0) {\r\n    \t\t\tthis.getDocTermsFromQuery(queryTerms);\r\n    \t\t}\r\n\t\t}, this);\r\n        \r\n\t\tthis.on('corpusTermsClicked', function(src, terms) {\r\n\t\t\tvar queryTerms = [];\r\n    \t\tterms.forEach(function(term) {\r\n    \t\t\tif (term.getTerm()) {queryTerms.push(term.getTerm());}\r\n    \t\t});\r\n    \t\tthis.getDocTermsFromQuery(queryTerms);\r\n\t\t}, this);\r\n\t\t\r\n\t\tthis.on('documentTermsClicked', function(src, terms) {\r\n\t\t\tvar queryTerms = [];\r\n    \t\tterms.forEach(function(term) {\r\n    \t\t\tif (term.getTerm()) {queryTerms.push(term.getTerm());}\r\n    \t\t});\r\n    \t\tthis.getDocTermsFromQuery(queryTerms);\r\n\t\t}, this);\r\n    },\r\n    \r\n    initComponent: function() {\r\n    \tthis.setTermStore(Ext.create('Ext.data.ArrayStore', {\r\n\t        fields: ['term', 'color']\r\n\t    }));\r\n    \t\r\n    \tthis.setDocTermStore(Ext.create(\"Ext.data.Store\", {\r\n\t\t\tmodel: \"Voyant.data.model.DocumentTerm\",\r\n    \t\tautoLoad: false,\r\n    \t\tremoteSort: false,\r\n    \t\tproxy: {\r\n\t\t\t\ttype: 'ajax',\r\n\t\t\t\turl: Voyant.application.getTromboneUrl(),\r\n\t\t\t\textraParams: {\r\n\t\t\t\t\ttool: 'corpus.DocumentTerms',\r\n\t\t\t\t\twithDistributions: 'raw',\r\n\t\t\t\t\twithPositions: true\r\n\t\t\t\t},\r\n\t\t\t\treader: {\r\n\t\t\t\t\ttype: 'json',\r\n\t\t            rootProperty: 'documentTerms.terms',\r\n\t\t            totalProperty: 'documentTerms.total'\r\n\t\t\t\t},\r\n\t\t\t\tsimpleSortMode: true\r\n   \t\t     },\r\n   \t\t     listeners: {\r\n   \t\t    \t beforeload: function(store) {\r\n   \t\t    \t\t store.getProxy().setExtraParam('docId', this.getApiParam('docId'));\r\n   \t\t    \t },\r\n   \t\t    \t load: function(store, records, successful, options) {\r\n   \t\t    \t\tvar termObj = {};\r\n   \t\t    \t\tif (records && records.length>0) {\r\n   \t   \t\t    \t\trecords.forEach(function(record) {\r\n   \t   \t\t    \t\t\tvar termData = this.processTerms(record);\r\n   \t   \t\t    \t\t\tvar docId = record.get('docId');\r\n   \t   \t\t    \t\t\tvar term = record.get('term');\r\n   \t   \t\t    \t\t\ttermObj[term] = termData;\r\n   \t   \t\t    \t\t}, this);\r\n   \t   \t\t    \t\tthis.getKnots().addTerms(termObj);\r\n   \t   \t\t    \t\tthis.getKnots().buildGraph();\r\n   \t\t    \t\t}\r\n   \t\t    \t\telse {\r\n   \t\t    \t\t\tthis.toastInfo({\r\n   \t\t    \t\t\t\thtml: this.localize(\"noTermsFound\"),\r\n   \t\t    \t\t\t\talign: 'bl'\r\n   \t\t    \t\t\t})\r\n   \t\t    \t\t}\r\n   \t\t\t\t},\r\n   \t\t\t\tscope: this\r\n   \t\t     }\r\n    \t}));\r\n    \t\r\n    \tthis.setTokensStore(Ext.create(\"Voyant.data.store.Tokens\", {\r\n        \tstripTags: \"all\",\r\n        \tlisteners: {\r\n        \t\tbeforeload: function(store) {\r\n  \t\t    \t\t store.getProxy().setExtraParam('docId', this.getApiParam('docId'));\r\n  \t\t    \t},\r\n        \t\tload: function(store, records, successful, options) {\r\n        \t\t\tvar context = '';\r\n        \t\t\tvar currTerm = this.getCurrentTerm();\r\n        \t\t\trecords.forEach(function(record) {\r\n        \t\t\t\tif (record.getPosition() == currTerm.tokenId) {\r\n        \t\t\t\t\tcontext += '<strong>'+record.getTerm()+'</strong>';\r\n        \t\t\t\t} else {\r\n        \t\t\t\t\tcontext += record.getTerm();\r\n        \t\t\t\t}\r\n        \t\t\t});\r\n        \t\t\t\r\n        \t\t\tExt.Msg.show({\r\n        \t\t\t\ttitle: this.localize('context'),\r\n        \t\t\t\tmessage: context,\r\n        \t\t\t\tbuttons: Ext.Msg.OK,\r\n        \t\t\t    icon: Ext.Msg.INFO\r\n        \t\t\t});\r\n        \t\t},\r\n   \t\t\t\tscope: this\r\n        \t}\r\n        }));\r\n    \t\r\n    \tExt.apply(this, {\r\n    \t\ttitle: this.localize('title'),\r\n    \t\tdockedItems: [{\r\n                dock: 'bottom',\r\n                xtype: 'toolbar',\r\n                overflowHandler: 'scroller',\r\n                items: [{\r\n                \txtype: 'querysearchfield'\r\n                },{\r\n\t            \ttext: this.localize('clearTerms'),\r\n\t            \tglyph: 'xf00d@FontAwesome',\r\n\t            \thandler: function() {\r\n\t            \t\tthis.down('#termsView').getSelectionModel().deselectAll(true);\r\n\t            \t\tthis.getTermStore().removeAll();\r\n\t            \t\tthis.setApiParams({query: null});\r\n\t            \t\tthis.getKnots().removeAllTerms();\r\n\t            \t\tthis.getKnots().drawGraph();\r\n\t            \t},\r\n\t            \tscope: this\r\n\t            },{\r\n\t            \txtype: 'documentselectorbutton',\r\n\t            \tsingleSelect: true\r\n\t            },{\r\n\t\t\t\t\txtype: 'slider',\r\n\t\t\t\t\titemId: 'speed',\r\n\t\t\t\t\tfieldLabel: this.localize(\"speed\"),\r\n\t\t\t\t\tlabelAlign: 'right',\r\n\t\t\t\t\tlabelWidth: 50,\r\n\t\t\t\t\twidth: 100,\r\n\t\t\t\t\tincrement: 50,\r\n\t\t\t\t\tminValue: 0,\r\n\t\t\t\t\tmaxValue: 500,\r\n\t\t\t\t\tvalue: 500-this.getRefreshInterval(),\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tchangecomplete: function(slider, newvalue) {\r\n\t\t\t\t\t\t\tthis.setRefreshInterval(500-newvalue);\r\n\t\t\t\t\t\t\tif (this.getKnots()) {this.getKnots().buildGraph();}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t}\r\n\t\t\t\t},{\r\n\t\t\t\t\txtype: 'slider',\r\n\t\t\t\t\titemId: 'startAngle',\r\n\t\t\t\t\tfieldLabel: this.localize('startAngle'),\r\n\t\t\t\t\tlabelAlign: 'right',\r\n\t\t\t\t\tlabelWidth: 35,\r\n\t\t\t\t\twidth: 85,\r\n\t\t\t\t\tincrement: 15,\r\n\t\t\t\t\tminValue: 0,\r\n\t\t\t\t\tmaxValue: 360,\r\n\t\t\t\t\tvalue: this.getStartAngle(),\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tchangecomplete: function(slider, newvalue) {\r\n\t\t\t\t\t\t\tthis.setStartAngle(newvalue);\r\n\t\t\t\t\t\t\tif (this.getKnots()) {this.getKnots().buildGraph();}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t}\r\n\t\t\t\t},{\r\n\t\t\t\t\txtype: 'slider',\r\n\t\t\t\t\titemId: 'tangles',\r\n\t\t\t\t\tfieldLabel: this.localize('tangles'),\r\n\t\t\t\t\tlabelAlign: 'right',\r\n\t\t\t\t\tlabelWidth: 30,\r\n\t\t\t\t\twidth: 80,\r\n\t\t\t\t\tincrement: 5,\r\n\t\t\t\t\tminValue: 5,\r\n\t\t\t\t\tmaxValue: 90,\r\n\t\t\t\t\tvalue: this.getAngleIncrement(),\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tchangecomplete: function(slider, newvalue) {\r\n\t\t\t\t\t\t\tthis.setAngleIncrement(newvalue);\r\n\t\t\t\t\t\t\tif (this.getKnots()) {this.getKnots().buildGraph();}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t}\r\n\t\t\t\t},{\r\n\t                xtype: 'checkbox',\r\n\t                boxLabel: this.localize('sound'),\r\n\t                listeners: {\r\n\t                \trender: function(cmp) {\r\n\t                \t\tcmp.setValue(this.getApiParam(\"audio\")===true ||  this.getApiParam(\"audio\")==\"true\")\r\n\t    \t\t        \tExt.tip.QuickTipManager.register({\r\n\t    \t\t        \t\ttarget: cmp.getEl(),\r\n\t   \t\t                 \ttext: this.localize('soundTip')\r\n\t    \t\t        \t});\r\n\t                \t\t\r\n\t                \t},\r\n\t                \tbeforedestroy: function(cmp) {\r\n\t                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\r\n\t                \t},\r\n\t                    change: function(cmp, val) {\r\n\t                    \tif (this.getKnots()) {\r\n\t\t                    \tthis.getKnots().setAudio(val);\r\n\t                    \t}\r\n\t                    },\r\n\t                    scope: this\r\n\t                }\r\n\t            }]\r\n    \t\t}],\r\n            border: false,\r\n            layout: 'fit',\r\n            items: {\r\n            \tlayout: {\r\n            \t\ttype: 'vbox',\r\n            \t\talign: 'stretch'\r\n            \t},\r\n            \tdefaults: {border: false},\r\n\t            items: [{\r\n\t            \theight: 30,\r\n\t            \titemId: 'termsView',\r\n\t            \txtype: 'dataview',\r\n\t            \tstore: this.getTermStore(),\r\n\t            \ttpl: this.termTpl,\r\n\t            \titemSelector: 'div.term',\r\n\t            \toverItemCls: 'over',\r\n\t            \tselectedItemCls: 'selected',\r\n\t            \tselectionModel: {\r\n\t            \t\tmode: 'SIMPLE'\r\n\t            \t},\r\n//\t            \tcls: 'selected', // default selected\r\n\t            \tfocusCls: '',\r\n\t            \tlisteners: {\r\n\t            \t\tbeforeitemclick: function(dv, record, item, index, event, opts) {\r\n\t            \t\t\tevent.preventDefault();\r\n\t            \t\t\tevent.stopPropagation();\r\n\t            \t\t\tdv.fireEvent('itemcontextmenu', dv, record, item, index, event, opts);\r\n\t            \t\t\treturn false;\r\n\t            \t\t},\r\n\t            \t\tbeforecontainerclick: function() {\r\n\t            \t\t\t// cancel deselect all\r\n\t            \t\t\tevent.preventDefault();\r\n\t            \t\t\tevent.stopPropagation();\r\n\t            \t\t\treturn false;\r\n\t            \t\t},\r\n\t            \t\tselectionchange: function(selModel, selections) {\r\n\t            \t\t\tvar dv = this.down('#termsView');\r\n\t            \t\t\tvar terms = [];\r\n\t            \t\t\t\r\n\t            \t\t\tdv.getStore().each(function(r) {\r\n\t            \t\t\t\tif (selections.indexOf(r) !== -1) {\r\n\t            \t\t\t\t\tterms.push(r.get('term'));\r\n\t            \t\t\t\t\tExt.fly(dv.getNodeByRecord(r)).removeCls('unselected').addCls('selected');\r\n\t            \t\t\t\t} else {\r\n\t            \t\t\t\t\tExt.fly(dv.getNodeByRecord(r)).removeCls('selected').addCls('unselected');\r\n\t            \t\t\t\t}\r\n\t            \t\t\t});\r\n\t            \t\t\t\r\n\t            \t\t\tthis.getKnots().termsFilter = terms;\r\n\t            \t\t\tthis.getKnots().drawGraph();\r\n\t            \t\t},\r\n\t            \t\titemcontextmenu: function(dv, record, el, index, event) {\r\n\t            \t\t\tevent.preventDefault();\r\n\t            \t\t\tevent.stopPropagation();\r\n\t            \t\t\tvar isSelected = dv.isSelected(el);\r\n\t            \t\t\tvar menu = new Ext.menu.Menu({\r\n\t            \t\t\t\tfloating: true,\r\n\t            \t\t\t\titems: [{\r\n\t            \t\t\t\t\ttext: isSelected ? this.localize('hideTerm') : this.localize('showTerm'),\r\n\t            \t\t\t\t\thandler: function() {\r\n\t            \t\t\t\t\t\tif (isSelected) {\r\n\t            \t\t\t\t\t\t\tdv.deselect(index);\r\n\t            \t\t\t\t\t\t} else {\r\n\t            \t\t\t\t\t\t\tdv.select(index, true);\r\n\t            \t\t\t\t\t\t}\r\n\t            \t\t\t\t\t},\r\n\t            \t\t\t\t\tscope: this\r\n\t            \t\t\t\t},{\r\n\t            \t\t\t\t\ttext: this.localize('removeTerm'),\r\n\t            \t\t\t\t\thandler: function() {\r\n\t            \t\t\t\t\t\tdv.deselect(index);\r\n\t            \t\t\t\t\t\tvar term = this.getTermStore().getAt(index).get('term');\r\n\t            \t\t\t\t\t\tthis.getTermStore().removeAt(index);\r\n\t            \t\t\t\t\t\tdv.refresh();\r\n\t            \t\t\t\t\t\t\r\n\t            \t\t\t\t\t\tthis.getKnots().removeTerm(term);\r\n\t            \t\t\t\t\t\tthis.getKnots().drawGraph();\r\n\t            \t\t\t\t\t},\r\n\t            \t\t\t\t\tscope: this\r\n\t            \t\t\t\t}]\r\n\t            \t\t\t});\r\n\t            \t\t\tmenu.showAt(event.getXY());\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n\t            },{\r\n\t            \tflex: 1,\r\n\t            \txtype: 'container',\r\n\t            \tautoEl: 'div',\r\n\t            \titemId: 'canvasParent',\r\n\t            \tlayout: 'fit',\r\n\t            \toverflowY: 'auto',\r\n\t            \toverflowX: 'hidden'\r\n\t            }],\r\n\t            listeners: {\r\n\t            \trender: function(component) {\r\n\t            \t\tvar canvasParent = this.down('#canvasParent');\r\n\t                \tthis.setKnots(new Knots({\r\n\t                \t\tcontainer: canvasParent,\r\n\t                \t\tclickHandler: this.knotClickHandler.bind(this),\r\n\t                \t\taudio: this.getApiParam(\"audio\")===true ||  this.getApiParam(\"audio\")==\"true\"\r\n\t                \t}));\r\n\t            \t},\r\n            \t\tafterlayout: function(container) {\r\n            \t\t\tif (this.getKnots().initialized === false) {\r\n            \t\t\t\tthis.getKnots().initializeCanvas();\r\n            \t\t\t}\r\n            \t\t},\r\n\t        \t\tresize: function(cnt, width, height) {\r\n\t        \t\t\tthis.getKnots().doLayout();\r\n\t        \t\t},\r\n            \t\tscope: this\r\n            \t}\r\n            }\r\n\t\t});\r\n    \t\r\n    \tthis.callParent(arguments);\r\n    },\r\n    \r\n    updateRefreshInterval: function(value) {\r\n    \tif (this.getKnots()) {\r\n    \t\tif (value < 50) {\r\n    \t\t\tvalue = 50;\r\n    \t\t\tthis.getKnots().progressiveDraw = false;\r\n    \t\t} else {\r\n    \t\t\tthis.getKnots().progressiveDraw = true;\r\n    \t\t}\r\n    \t\tthis.getKnots().refreshInterval = value;\r\n\t\t\tthis.getKnots().buildGraph(this.getKnots().drawStep);\r\n    \t}\r\n    },\r\n    \r\n    updateStartAngle: function(value) {\r\n    \tif (this.getKnots()) {\r\n\t\t\tthis.getKnots().startAngle = value;\r\n\t\t\tthis.getKnots().recache();\r\n\t\t\tthis.getKnots().buildGraph();\r\n    \t}\r\n    },\r\n    \r\n    updateAngleIncrement: function(value) {\r\n    \tif (this.getKnots()) {\r\n\t    \tthis.getKnots().angleIncrement = value;\r\n\t\t\tthis.getKnots().recache();\r\n\t\t\tthis.getKnots().buildGraph();\r\n    \t}\r\n    },\r\n    \r\n    loadFromCorpusTerms: function(corpusTerms) {\r\n    \tif (this.getKnots()) { // get rid of existing terms\r\n    \t\tthis.getKnots().removeAllTerms();\r\n    \t\tthis.getTermStore().removeAll(true);\r\n    \t}\r\n\t\tcorpusTerms.load({\r\n\t\t    callback: function(records, operation, success) {\r\n\t\t    \tvar query = []; //this.getApiParam('query') || [];\r\n\t\t\t\tif (typeof query == 'string') query = [query];\r\n\t\t    \trecords.forEach(function(record, index) {\r\n\t\t\t\t\tquery.push(record.get('term'));\r\n\t\t\t\t}, this);\r\n\t\t    \tthis.getDocTermsFromQuery(query);\r\n\t\t    },\r\n\t\t    scope: this,\r\n\t\t    params: {\r\n\t\t    \tlimit: 5,\r\n\t\t    \tstopList: this.getApiParams('stopList')\r\n\t\t    }\r\n    \t});\r\n    },\r\n    \r\n    /**\r\n     * Get the results for the query(s) for each of the corpus documents.\r\n     * @param query {String|Array}\r\n     * @private\r\n     */\r\n    getDocTermsFromQuery: function(query) {\r\n    \tif (query) {this.setApiParam(\"query\", query);} // make sure it's set for subsequent calls\r\n    \tvar corpus = this.getCorpus();\r\n    \tif (corpus && this.isVisible()) {\r\n    \t\tthis.setApiParams({query: query}); // assumes docId already set\r\n\t\t\tthis.getDocTermStore().load({params: this.getApiParams()});\r\n    \t}\r\n\t},\r\n    \r\n\treloadTermsData: function() {\r\n\t\tvar terms = [];\r\n\t\tfor (var term in this.bubblelines.currentTerms) {\r\n\t\t\tterms.push(term);\r\n\t\t}\r\n\t\tthis.getDocTermsFromQuery(terms);\r\n\t},\r\n\t\r\n    filterDocuments: function() {\r\n\t\tvar docIds = this.getApiParam('docId');\r\n\t\tif (docIds == '') {\r\n\t\t\tdocIds = [];\r\n\t\t\tthis.getCorpus().getDocuments().each(function(item, index) {\r\n\t\t\t\tdocIds.push(item.getId());\r\n\t\t\t});\r\n\t\t\tthis.setApiParams({docId: docIds});\r\n\t\t}\r\n\t\tif (typeof docIds == 'string') docIds = [docIds];\r\n\t\t\r\n\t\tif (docIds == null) {\r\n\t\t\tthis.selectedDocs = this.getCorpus().getDocuments().clone();\r\n\t\t\tvar count = this.selectedDocs.getCount();\r\n\t\t\tif (count > 10) {\r\n\t\t\t\tfor (var i = 10; i < count; i++) {\r\n\t\t\t\t\tthis.selectedDocs.removeAt(10);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocIds = [];\r\n\t\t\tthis.selectedDocs.eachKey(function(docId, doc) {\r\n\t\t\t\tdocIds.push(docId);\r\n\t\t\t}, this);\r\n\t\t\tthis.setApiParams({docId: docIds});\r\n\t\t} else {\r\n\t\t\tthis.selectedDocs = this.getCorpus().getDocuments().filterBy(function(doc, docId) {\r\n\t\t\t\treturn docIds.indexOf(docId) != -1;\r\n\t\t\t}, this);\r\n\t\t}\r\n\t},\r\n\t\r\n\t// produce format that knots can use\r\n\tprocessDocument: function(doc) {\r\n\t\tvar title = doc.getShortTitle();\r\n\t\ttitle = title.replace('&hellip;', '...');\r\n\t\r\n\t\treturn {\r\n\t\t\tid: doc.getId(),\r\n\t\t\tindex: doc.get('index'),\r\n\t\t\ttitle: title,\r\n\t\t\ttotalTokens: doc.get('tokensCount-lexical'),\r\n\t\t\tterms: {},\r\n\t\t\tlineLength: undefined\r\n\t\t};\r\n\t},\r\n\t\r\n\tprocessTerms: function(termRecord) {\r\n\t\tvar termObj;\r\n\t\tvar term = termRecord.get('term');\r\n\t\tvar rawFreq = termRecord.get('rawFreq');\r\n\t\tvar positions = termRecord.get('positions');\r\n\t\tif (rawFreq > 0) {\r\n\t\t\tvar color = this.getApplication().getColorForTerm(term);\r\n\t\t\tif (this.getTermStore().find('term', term) === -1) {\r\n\t\t\t\tthis.getTermStore().loadData([[term, color]], true);\r\n\t\t\t\tvar index = this.getTermStore().find('term', term);\r\n\t\t\t\tthis.down('#termsView').select(index, true); // manually select since the store's load listener isn't triggered\r\n\t\t\t}\r\n\t\t\tvar distributions = termRecord.get('distributions');\r\n\t\t\ttermObj = {term: term, positions: positions, distributions: distributions, rawFreq: rawFreq, color: color};\r\n\t\t} else {\r\n\t\t\ttermObj = false;\r\n\t\t}\r\n\t\t\r\n\t\treturn termObj;\r\n\t},\r\n\t\r\n\tknotClickHandler: function(data) {\r\n\t\tthis.setCurrentTerm(data);\r\n\t\tvar start = data.tokenId - 10;\r\n\t\tif (start < 0) start = 0;\r\n\t\tthis.getTokensStore().load({\r\n\t\t\tstart: start,\r\n\t\t\tlimit: 21\r\n\t\t});\r\n\t\t\r\n\t\tdata = [data].map(function(item) {return item.term}); // make an array for the event dispatch\r\n\t\tthis.getApplication().dispatchEvent('termsClicked', this, data);\r\n\t}\r\n});","Ext.define('Voyant.panel.Phrases', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.phrases',\n\tisConsumptive: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstopList: 'auto',\n    \t\tquery: undefined,\n    \t\tdocId: undefined,\n    \t\tdocIndex: undefined,\n    \t\tsort: 'length',\n    \t\tdir: 'desc',\n    \t\tminLength: 2,\n    \t\tmaxLength: 50,\n    \t\toverlapFilter: 'length'\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    config: {\n    \t/**\n    \t * @private\n    \t */\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\n    },\n    constructor: function(config) {\n    \t\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tif (this.isVisible()) {\n            \tif (this.hasCorpusAccess(corpus)==false) {\n            \t\tthis.mask(this.localize('limitedAccess'), 'mask-no-spinner');\n            \t} else {\n        \t\t\tthis.loadFromApis();\n            \t}\n    \t\t}\n    \t\t\n    \t});\n    \t\n    \tif (config.embedded) {\n//    \t\tvar cls = Ext.getClass(config.embedded).getName();\n//    \t\tif (cls==\"Voyant.data.store.DocumentTerms\" || cls==\"Voyant.data.model.Document\") {\n//    \t\t\tthis.fireEvent('loadedCorpus', this, config.embedded.getCorpus())\n//    \t\t}\n    \t}\n    \telse if (config.corpus) {\n    \t\tthis.fireEvent('loadedCorpus', this, config.corpus)\n    \t}\n    \t\n    \tthis.on(\"corpusTermsClicked\", function(src, terms) {\n    \t\tif (this.getStore().getCorpus()) { // make sure we have a corpus\n        \t\tvar query = [];\n        \t\tterms.forEach(function(term) {\n        \t\t\tquery.push(term.get(\"term\"));\n        \t\t})\n        \t\tthis.setApiParams({\n        \t\t\tquery: query,\n        \t\t\tdocId: undefined,\n        \t\t\tdocIndex: undefined\n        \t\t});\n        \t\tif (this.isVisible()) {\n            \t\tthis.getStore().load({params: this.getApiParams()});\n        \t\t}\n    \t\t}\n    \t});\n    \t\n    \tthis.on(\"activate\", function() { // load after tab activate (if we're in a tab panel)\n    \t\tif (this.getStore().getCorpus()) {this.loadFromApis()}\n    \t}, this)\n    \t\n    \tthis.on(\"query\", function(src, query) {\n    \t\tthis.setApiParam(\"query\", query);\n    \t\tthis.getStore().getProxy().setExtraParam(\"query\", query);\n    \t\tthis.loadFromApis();\n    \t}, this)\n    },\n    \n    loadFromApis: function() {\n    \tif (this.getStore().getCorpus()) {\n    \t\t\tthis.getStore().load({params: this.getApiParams()});\n    \t}\n    },\n    \n    initComponent: function() {\n        var me = this;\n\n        var store = Ext.create(\"Voyant.data.store.CorpusNgramsBuffered\", {\n        \tparentPanel: me\n        });\n        \n        store.on(\"beforeload\", function(store) {\n    \t\treturn me.hasCorpusAccess(store.getCorpus());\n        });\n        me.on(\"sortchange\", function( ct, column, direction, eOpts ) {\n        \tthis.setApiParam('sort', column.dataIndex);\n        \tthis.setApiParam('dir', direction);\n        \tvar api = this.getApiParams([\"stopList\", \"query\", \"docId\", \"docIndex\", \"sort\", \"dir\", \"minLength\", \"maxLength\", \"overlapFilter\"]);\n        \tvar proxy = this.getStore().getProxy();\n        \tfor (var key in api) {proxy.setExtraParam(key, api[key]);}\n        }, me)\n\n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n            store : store,\n    \t\tselModel: Ext.create('Ext.selection.CheckboxModel', {\n                listeners: {\n                    selectionchange: {\n                    \tfn: function(sm, selections) {\n                    \t\tvar terms = [];\n                    \t\tvar context = this.getApiParam(\"context\")\n                    \t\tselections.forEach(function(selection) {\n                    \t\t\tterms.push('\"'+selection.getTerm()+'\"')\n                    \t\t})\n                    \t\tthis.getApplication().dispatchEvent('termsClicked', this, terms);\n                    \t},\n                    \tscope: this\n                    }\n                }\n            }),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'querysearchfield'\n                }, {\n                    xtype: 'totalpropertystatus'\n                }, '-', {\n                \ttext: me.localize('length'),\n                \ttooltip: 'test',\n                \txtype: 'label'\n                }, {\n                \txtype: 'slider',\n                \tminValue: 2,\n                \tvalues: [2, 30],\n                \tmaxValue: 30,\n                \tincrement: 1,\n                \twidth: 75,\n                \ttooltip: this.localize(\"lengthTip\"),\n                \tlisteners: {\n                \t\trender: {\n                \t\t\tfn: function(slider) {\n                \t\t\t\tvar values = slider.getValues();\n                \t\t\t\tslider.setValue(0, parseInt(this.getApiParam(\"minLength\", values[0])))\n                \t\t\t\tslider.setValue(1, parseInt(this.getApiParam(\"maxLength\", values[1])))\n\t                \t\t},\n\t                \t\tscope: me\n                \t\t},\n                \t\tchangecomplete: {\n                \t\t\tfn: function(slider, newValue) {\n                \t\t\t\tvar values = slider.getValues();\n                \t\t\t\tthis.setApiParam(\"minLength\", parseInt(values[0]));\n                \t\t\t\tthis.setApiParam(\"maxLength\", parseInt(values[1]));\n                        \t\tthis.getStore().load({params: this.getApiParams()});\n                    \t\t},\n                    \t\tscope: me\n                \t\t}\n                \t}\n                }, {\n        \t\t\txtype: 'corpusdocumentselector'\n        \t\t}, '-', {\n                    xtype: 'button',\n                    text: this.localize('overlap'),\n                    tooltip: this.localize('overlapTip'),\n                    menu: {\n                    \titems: [\n                           {\n                        \t   xtype: 'menucheckitem',\n                               text: this.localize(\"overlapNone\"),\n                               group: 'overlap',\n                               inputValue: 'none',\n                               checkHandler: function() {\n                            \t   this.setApiParam('overlapFilter', 'none')\n                            \t   this.getStore().load({params: this.getApiParams()})\n                               },\n                               scope: this\n                           }, {\n                        \t   xtype: 'menucheckitem',\n                               text: this.localize(\"overlapLength\"),\n                               group: 'overlap',\n                               inputValue: 'length',\n                               checkHandler: function() {\n                            \t   this.setApiParam('overlapFilter', 'length')\n                            \t   this.getStore().load({params: this.getApiParams()})\n                               },\n                               scope: this\n                           }, {\n                        \t   xtype: 'menucheckitem',\n                               text: this.localize(\"overlapFreq\"),\n                               group: 'overlap',\n                               inputValue: 'rawFreq',\n                               checkHandler: function() {\n                            \t   this.setApiParam('overlapFilter', 'rawfreq')\n                            \t   this.getStore().load({params: this.getApiParams()})\n                               },\n                               scope: this\n                           }\n\t                   ],\n\t                   listeners: {\n\t                \t   afterrender: {\n\t                \t\t   fn: function(menu) {\n\t                \t\t\t   var overlapFilter = this.getApiParam('overlapFilter');\n\t                \t\t\t   menu.items.each(function(item) {\n\t                \t\t\t\t   if (item.group) {\n\t                \t\t\t\t\t   item.setChecked(item.inputValue==overlapFilter);\n\t                \t\t\t\t   }\n\t                \t\t\t   }, this)\n\t                \t\t   },\n\t                \t\t   scope: this\n\t                \t   }\n                \n\t                   }\n                    }\n                }]\n            }],\n    \t\tcolumns: [{\n    \t\t\ttext: this.localize(\"term\"),\n        \t\tdataIndex: 'term',\n            \ttooltip: this.localize(\"termTip\"),\n                sortable: true,\n                flex: 1\n            },{\n    \t\t\ttext: this.localize(\"rawFreq\"),\n        \t\tdataIndex: 'rawFreq',\n            \ttooltip: this.localize(\"termRawFreqTip\"),\n                sortable: true,\n                width: 'autoSize'\n            },{\n            \ttext: this.localize(\"length\"),\n            \tdataIndex: 'length',\n            \ttooltip: this.localize(\"lengthTip\"),\n            \tsortable: true,\n                width: 'autoSize'\n            },{\n                xtype: 'widgetcolumn',\n                text: this.localize(\"trend\"),\n                tooltip: this.localize('trendTip'),\n                width: 120,\n                dataIndex: 'distributions',\n                widget: {\n                    xtype: 'sparklineline'\n                }\n            }],\n            \n            listeners: {\n\t\t\t\tcorpusSelected: function() {\n\t\t\t\t\tthis.setApiParams({docIndex: undefined, docId: undefined});\n\t\t\t\t\tthis.loadFromApis();\n\t\t\t\t},\n\t\t\t\tdocumentsSelected: function(src, docs) {\n\t\t\t\t\tvar docIds = [];\n\t\t\t\t\tvar corpus = this.getStore().getCorpus();\n\t\t\t\t\tdocs.forEach(function(doc) {\n\t\t\t\t\t\tdocIds.push(corpus.getDocument(doc).getId())\n\t\t\t\t\t}, this);\n\t\t\t\t\tthis.setApiParams({docId: docIds, docIndex: undefined})\n\t\t\t\t\tthis.loadFromApis();\n\t\t\t\t},\n            \ttermsClicked: {\n            \t\tfn: function(src, terms) {\n                \t\tif (this.getStore().getCorpus()) { // make sure we have a corpus\n                    \t\tvar queryTerms = [];\n                    \t\tterms.forEach(function(term) {\n                    \t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\n                    \t\t\telse if (term.term) {queryTerms.push(term.term);}\n                    \t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\n                    \t\t});\n                    \t\tif (queryTerms.length > 0) {\n                    \t\t\tthis.setApiParams({\n                    \t\t\t\tdocIndex: undefined,\n                    \t\t\t\tdocId: undefined,\n                    \t\t\t\tquery: queryTerms\n                    \t\t\t});\n                        \t\tif (this.isVisible()) {\n                            \t\tif (this.isVisible()) {\n                                \t\tthis.getStore().clearAndLoad({params: this.getApiParams()});\n                            \t\t}\n                        \t\t}\n                    \t\t}\n                \t\t}\n                \t},\n                \tscope: this\n            \t}\n            }\n        });\n\n        me.callParent(arguments);\n        \n        me.getStore().getProxy().setExtraParam(\"withDistributions\", true);\n        \n    }\n    \n})","/**\n * Corpus Terms tool, a grid that shows the terms in the corpus.\n * \n * <iframe src=\"../?corpus=austen&view=corpusterms\" style=\"max-width: 500px; height: 300px\"></iframe>\n * \n * The typical use is not to instantiate this class directly, but to embed the tool from a corpus.\n * \n * \t\tvar austen;\n * \t\tnew Corpus(\"austen\").then(function(corpus) {\n * \t\t\tausten = corpus;\n * \t\t\tausten.embed('CorpusTerms'); // simply embed\n * \t\t\tausten.embed('CorpusTerms', {query: '^lov*'}); // embed with query\n * \t\t});\n */\nExt.define('Voyant.panel.CorpusTerms', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.corpusterms',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String} stopList A comma-separated list of words, a named list or a URL to a plain text list, one word per line.\n    \t\t * \n    \t\t *  By default this is set to 'auto' which auto-detects the document's language and loads an appropriate list (if available for that language). Set this to blank to not use the default stopList.\n    \t\t *  \n    \t\t * For more information see the <a href=\"#!/guide/search\">Stopwords documentation</a>.\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String/String[]} query A query or array of queries (queries can be separated by a comma).\n    \t\t * \n    \t\t * For query syntax, see the <a href=\"#!/guide/search\">search documentation</a>.\n    \t\t */\n    \t\tquery: undefined,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} maxBins The maximum number of bins to use for distributions in Trend.\n    \t\t * \n    \t\t * By default this is set to 100 (in other words, if there are more than 100 documents in the corpus, they will be forced into 100 bins).\n    \t\t * Higher values are possible but it can cause performance issues and necessitate more data transfer (values for each one of the bins for each one of the terms).\n    \t\t * @cfg\n    \t\t */\n    \t\tmaxBins: 100,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String} comparisonCorpus An existing corpus to be used for comparison purposes.\n    \t\t * \n    \t\t * None of the columns visible by default use comparisonCorpus so this is an advanced parameter used when the \"Comparison\" column is shown.\n    \t\t * The comparison column shows the relative frequency of the term in the corpus compared to the relative frequency of the same term in a comparison corpus.\n    \t\t */\n    \t\tcomparisonCorpus: undefined\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    config: {\n    \t/**\n    \t * @private\n    \t */\n    \toptions: [{\n    \t\txtype: 'stoplistoption'\n    \t},{xtype: 'categoriesoption'},{\n    \t\txtype: 'corpusselector',\n    \t\tname: 'comparisonCorpus',\n    \t\tfieldLabel: 'comparison corpus'\n    \t}]\n    },\n\t/**\n\t * @private\n\t */\n    constructor: function(config) {\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    \n    initComponent: function() {\n        var me = this;\n\n        var store = Ext.create(\"Voyant.data.store.CorpusTermsBuffered\", {\n        \tparentPanel: this,\n        \tproxy: {\n        \t\textraParams: {\n        \t\t\twithDistributions: 'relative',\n        \t\t\tforTool: 'corpusterms'\n        \t\t}\n        \t}\n        });\n        \n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n            store : store,\n    \t\tselModel: Ext.create('Ext.selection.CheckboxModel', {\n                pruneRemoved: false,\n                listeners: {\n                    selectionchange: {\n                    \tfn: function(sm, selections) {\n                    \t\tif (selections && selections.length>0) {\n                        \t\tthis.getApplication().dispatchEvent('corpusTermsClicked', this, selections);\n                    \t\t}\n                    \t},\n                    \tscope: this\n                    }\n                },\n                mode: 'SIMPLE'\n            }),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'querysearchfield'\n                }, {\n                    xtype: 'totalpropertystatus'\n                }]\n            }],\n            \n            plugins: [{\n                ptype: 'rowexpander',\n                rowBodyTpl: new Ext.XTemplate('')\n            }],\n            viewConfig: {\n                listeners: {\n                    // TODO widget disappears when scrolled off screen\n                    expandbody: function(rowNode, record, expandRow, eOpts) {\n                        if (expandRow.textContent==='' || (eOpts && eOpts.force)) {\n                            Ext.create('Voyant.widget.CorpusTermSummary', {\n                                record: record,\n                                header: false,\n                                renderTo: expandRow.querySelector('div')\n                            });\n                        }\n                    },\n                    scope: this\n                }\n            },\n\n    \t\tcolumns: [{\n                xtype: 'rownumberer',\n                width: 'autoSize',\n                sortable: false\n            },{\n    \t\t\ttext: this.localize(\"term\"),\n            \ttooltip: this.localize(\"termTip\"),\n        \t\tdataIndex: 'term',\n        \t\tflex: 1,\n                sortable: true\n            },{\n            \ttext: this.localize(\"rawFreq\"),\n            \ttooltip: this.localize(\"rawFreqTip\"),\n            \tdataIndex: 'rawFreq',\n                width: 'autoSize',\n            \tsortable: true\n            },{\n            \ttext: this.localize(\"relativeFreq\"),\n            \ttooltip: this.localize(\"relativeFreqTip\"),\n            \tdataIndex: 'relativeFreq',\n            \trenderer: function(val) {\n            \t\tvar percent = val*100;\n            \t\treturn Ext.util.Format.number(val*1000000, \"0,000\")/* + \" (%\"+\n            \t\t\t(val*100 <  .1 ? \"<0.1\" : Ext.util.Format.number(val*100, \"0.0\"))+\")\"*/\n            \t},\n                width: 'autoSize',\n                hidden: true,\n            \tsortable: true\n            },{\n            \ttext: this.localize(\"relativePeakedness\"),\n            \ttooltip: this.localize(\"relativePeakednessTip\"),\n            \tdataIndex: 'relativePeakedness',\n            \trenderer: Ext.util.Format.numberRenderer(\"0,000.0\"),\n                width: 'autoSize',\n                hidden: true,\n            \tsortable: true\n            },{\n            \ttext: this.localize(\"relativeSkewness\"),\n            \ttooltip: this.localize(\"relativeSkewnessTip\"),\n            \tdataIndex: 'relativeSkewness',\n            \trenderer: Ext.util.Format.numberRenderer(\"0,000.0\"),\n                width: 'autoSize',\n                hidden: true,\n            \tsortable: true\n            },{\n            \ttext: this.localize(\"corpusComparisonDifference\"),\n            \ttooltip: this.localize(\"corpusComparisonDifferenceTip\"),\n            \tdataIndex: 'comparisonRelativeFreqDifference',\n            \trenderer: Ext.util.Format.numberRenderer(\"0,000.00000\"),\n                width: 'autoSize',\n                hidden: !this.getApiParam('comparisonCorpus'),\n            \tsortable: true,\n            \tlisteners: {\n            \t\tshow: function(ct, column, eopts) {\n            \t\t\tif (!me.getApiParam('comparisonCorpus')) {\n            \t\t\t\tme.showError(me.localize('noCorpusComparison'))\n            \t\t\t}\n            \t\t}\n            \t}\n            },{\n                xtype: 'widgetcolumn',\n                text: this.localize(\"trend\"),\n                tooltip: this.localize(\"trendTip\"),\n                flex: 1,\n                dataIndex: 'distributions',\n                widget: {\n                    xtype: 'sparklineline',\n                    tipTpl: new Ext.XTemplate('{[this.getDocumentTitle(values.x,values.y)]}', {\n                    \tgetDocumentTitle: function(docIndex, relativeFreq) {\n                    \t\treturn this.panel.store.getCorpus().getDocument(docIndex).getTitle()+\"<br>\"+this.panel.localize(\"relativeFreqLabel\")+\" \"+Ext.util.Format.number(relativeFreq*1000000, \"0,000\")\n                    \t},\n                    \tpanel: me \n                    })\n                }\n            }]\n        });\n        \n    \tme.on('loadedCorpus', function(src, corpus) {\n//    \t\tthis.setApiParam('query', undefined);\n    \t\tif (corpus.getDocumentsCount()>100) {\n    \t\t\tthis.getStore().getProxy().setExtraParam('bins', this.getApiParam('maxBins'));\n    \t\t}\n    \t\tif (this.isVisible()) {\n        \t\tthis.getStore().load()\n    \t\t}\n    \t}, me);\n    \t\n    \tme.on(\"activate\", function() { // load after tab activate (if we're in a tab panel)\n    \t\tif (me.getStore().getCorpus()) {\n    \t\t\tme.getStore().load({params: this.getApiParams()});\n    \t\t}\n    \t}, me);\n\n    \t\n    \tme.on(\"query\", function(src, query) {\n    \t\tthis.setApiParam('query', query);\n    \t\tthis.getStore().removeAll();\n    \t\tthis.getStore().load();\n    \t}, me);\n\n\n        me.callParent(arguments);\n        \n    }\n})\n","Ext.define('Voyant.panel.DocumentTerms', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\trequires: ['Voyant.data.store.DocumentTerms'],\n\talias: 'widget.documentterms',\n\tconfig: {\n\t\toptions: [{\n    \t\txtype: 'stoplistoption'\n    \t},{xtype: 'categoriesoption'}]\n    },\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstopList: 'auto',\n    \t\tquery: undefined,\n    \t\tdocId: undefined,\n    \t\tdocIndex: undefined,\n    \t\tbins: 10\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    constructor: function(config) {\n    \t\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tvar store = this.getStore();\n    \t\tstore.setCorpus(corpus);\n    \t\tif (this.isVisible()) {\n        \t\tstore.load();\n    \t\t}\n    \t});\n    \t\n    \tif (config.embedded) {\n    \t\tif (window.console) {\n    \t\t\tconsole.warn(config.embedded.then);\n    \t\t}\n    \t\tvar cls = Ext.getClass(config.embedded).getName();\n    \t\tif (cls==\"Voyant.data.store.DocumentTerms\" || cls==\"Voyant.data.model.Document\") {\n    \t\t\tthis.fireEvent('loadedCorpus', this, config.embedded.getCorpus());\n    \t\t}\n    \t}\n    \telse if (config.corpus) {\n    \t\tthis.fireEvent('loadedCorpus', this, config.corpus);\n    \t}\n    \t\n    \tthis.on(\"query\", function(src, query) {\n    \t\tthis.fireEvent(\"corpusTermsClicked\", src, query);\n    \t}, this);\n    \t\n    \tthis.on(\"corpusTermsClicked\", function(src, terms) {\n    \t\tif (this.getStore().getCorpus()) { // make sure we have a corpus\n        \t\tvar query = [];\n        \t\tterms.forEach(function(term) {\n        \t\t\tquery.push(Ext.isString(term) ? term : term.get(\"term\"));\n        \t\t});\n        \t\tthis.setApiParams({\n        \t\t\tquery: query,\n        \t\t\tdocId: undefined,\n        \t\t\tdocIndex: undefined\n        \t\t});\n        \t\tif (this.isVisible()) {\n            \t\tthis.getStore().load({params: this.getApiParams()});\n        \t\t}\n    \t\t}\n    \t});\n    \t\n    \tthis.on(\"documentsClicked\", function(src, documents) {\n    \t\tvar docIds = [];\n    \t\tdocuments.forEach(function(doc) {docIds.push(doc.get('id'));});\n    \t\tthis.setApiParams({\n    \t\t\tdocId: docIds,\n    \t\t\tquery: undefined\n    \t\t});\n    \t\tif (this.isVisible()) {\n        \t\tthis.getStore().load({params: this.getApiParams()});\n    \t\t}\n    \t});\n    \t\n    \tthis.on(\"activate\", function() { // load after tab activate (if we're in a tab panel)\n    \t\tif (this.getStore().getCorpus()) {\n    \t\t\tthis.getStore().load({params: this.getApiParams()});\n    \t\t}\n    \t}, this);\n    },\n    \n    initComponent: function() {\n        var me = this;\n\n        var store = Ext.create(\"Voyant.data.store.DocumentTermsBuffered\", {parentPanel: this});\n        \n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n            store : store,\n    \t\tselModel: Ext.create('Ext.selection.CheckboxModel', {\n                listeners: {\n                    selectionchange: {\n                    \tfn: function(sm, selections) {\n                    \t\tthis.getApplication().dispatchEvent('documentTermsClicked', this, selections);\n                    \t},\n                    \tscope: this\n                    }\n                },\n                pruneRemoved: false,\n    \t\t\tmode: 'SIMPLE'\n            }),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'querysearchfield'\n                }, {\n                    xtype: 'totalpropertystatus'\n                },{\n        \t\t\txtype: 'corpusdocumentselector'\n        \t\t}]\n            }],\n    \t\tcolumns: [{\n    \t\t\ttext: '#',\n    \t\t\twidth: 30,\n        \t\tdataIndex: 'docIndex',\n                sortable: true,\n                renderer: function(v) {return v+1;} // 0-based to 1-based\n            },{\n    \t\t\ttext: this.localize(\"term\"),\n        \t\tdataIndex: 'term',\n            \ttooltip: this.localize(\"termTip\"),\n                sortable: true,\n                flex: 1\n            },{\n            \ttext: this.localize(\"rawFreq\"),\n            \tdataIndex: 'rawFreq',\n            \ttooltip: this.localize(\"rawFreqTip\"),\n            \twidth: 'autoSize',\n            \tsortable: true\n            },{\n            \ttext: this.localize(\"relativeFreq\"),\n            \ttooltip: this.localize(\"relativeFreqTip\"),\n            \tdataIndex: 'relativeFreq',\n            \twidth: 'autoSize',\n            \tsortable: true,\n            \trenderer: Ext.util.Format.numberRenderer('0,000')\n            },{\n            \ttext: this.localize(\"tfidf\"),\n            \ttooltip: this.localize(\"tfidfTip\"),\n            \tdataIndex: 'tfidf',\n            \twidth: 'autoSize',\n            \tsortable: true,\n            \thidden: true,\n            \trenderer: Ext.util.Format.numberRenderer('0,000.000')\n            },{\n            \ttext: this.localize(\"zscore\"),\n            \ttooltip: this.localize(\"zscoreTip\"),\n            \tdataIndex: 'zscore',\n            \twidth: 'autoSize',\n            \tsortable: true,\n            \thidden: true,\n            \trenderer: Ext.util.Format.numberRenderer('0,000.000')\n            },{\n                xtype: 'widgetcolumn',\n                text: this.localize(\"trend\"),\n                tooltip: this.localize('trendTip'),\n                flex: 1,\n                dataIndex: 'distributions',\n                widget: {\n                    xtype: 'sparklineline'\n                }\n            }],\n            \n            listeners: {\n            \ttermsClicked: {\n            \t\tfn: function(src, terms) {\n                \t\tif (this.getStore().getCorpus()) { // make sure we have a corpus\n                    \t\tvar queryTerms = [];\n                    \t\tterms.forEach(function(term) {\n                    \t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\n                    \t\t\telse if (term.term) {queryTerms.push(term.term);}\n                    \t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\n                    \t\t});\n                    \t\tif (queryTerms.length > 0) {\n                    \t\t\tthis.setApiParams({\n                    \t\t\t\tdocIndex: undefined,\n                    \t\t\t\tdocId: undefined,\n                    \t\t\t\tquery: queryTerms\n                    \t\t\t});\n                        \t\tif (this.isVisible()) {\n                            \t\tif (this.isVisible()) {\n                                \t\tthis.getStore().load({params: this.getApiParams()});\n                            \t\t}\n                        \t\t}\n                    \t\t}\n                \t\t}\n                \t},\n                \tscope: this\n            \t}\n            }\n        });\n\n        me.callParent(arguments);\n        \n        me.getStore().getProxy().setExtraParam(\"withDistributions\", true);\n        \n    }\n    \n});\n","Ext.define('Voyant.panel.Documents', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel','Voyant.util.Downloadable'],\n\talias: 'widget.documents',\n\tisConsumptive: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tquery: undefined,\n    \t\tdocIndex: undefined,\n    \t\tdocId: undefined\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    \n    MODE_EDITING: 'editing',\n    MODE_NORMAL: 'normal',\n    config: {\n    \toptions: [{\n    \t\txtype: 'stoplistoption'\n    \t},\n        \t{xtype: 'categoriesoption'}\n        ],\n    \tmode: this.MODE_NORMAL\n    },\n\n    constructor: function(config) {\n    \t\n    \tvar store = Ext.create(\"Voyant.data.store.Documents\", {\n    \t    selModel: {pruneRemoved: false},\n    \t    proxy: {\n    \t    \textraParams: {\n    \t    \t\tforTool: 'documents'\n    \t    \t}\n    \t    }\n    \t});\n    \t\n    \tvar dockedItemsItems = [{\n            xtype: 'querysearchfield'\n        }, {\n            xtype: 'totalpropertystatus'\n        }]\n    \t\n    \tvar me = this;\n    \t\n    \tif (!config || config.mode!=this.MODE_EDITING) {\n    \t\tdockedItemsItems.push({\n            \ttext: this.localize(\"modify\"),\n            \ttooltip: this.localize(\"modifyTip\"),\n    \t\t\tglyph: 'xf044@FontAwesome',\n    \t\t\tscope: this,\n    \t\t\titemId: 'modifyButton',\n            \thandler: function(btn) {\n            \t\tvar win = Ext.create('Ext.window.Window', {\n            \t\t    title: this.localize(\"title\"),\n            \t\t    modal: true,\n            \t\t    width: \"80%\",\n            \t\t    minWidth: 300,\n            \t\t    minHeight: 200,\n            \t\t    height: \"80%\",\n            \t\t    layout: 'fit',\n            \t\t    frame: true,\n            \t\t    border: true,\n            \t\t    items: {\n            \t\t    \txtype: 'documents',\n            \t\t    \tmode: this.MODE_EDITING,\n            \t\t    \tcorpus: this.getStore().getCorpus(),\n            \t\t    \theader: false,\n            \t\t    \tviewConfig: {\n            \t\t            plugins:{\n            \t\t                ptype:'gridviewdragdrop'\n            \t\t            },\n            \t\t            listeners: {\n            \t\t            \tbeforedrop: function(node, data, overModel, dropPosition, dropHandlers) {\n            \t\t            \t\tif (this.getStore().getCount()<this.getStore().getCorpus().getDocumentsCount()) {\n            \t\t            \t\t\tvar panel = this.up(\"panel\");\n            \t\t        \t\t\t\tExt.Msg.show({\n            \t\t        \t\t\t\t    title: panel.localize('error'),\n            \t\t        \t\t\t\t    message: panel.localize('reorderFilteredError'),\n            \t\t        \t\t\t\t    buttons: Ext.Msg.OK,\n            \t\t        \t\t\t\t    icon: Ext.Msg.ERROR\n            \t\t        \t\t\t\t});\n            \t\t            \t\t\treturn false;\n            \t\t            \t\t}\n            \t\t            \t\treturn true;\n            \t\t            \t}\n            \t\t            }\n            \t\t    \t}\n            \t\t    },\n            \t\t    buttons: [{\n                \t\t\ttext: this.localize('add'),\n                \t\t\ttooltip: this.localize(\"addTip\"),\n                \t\t\tglyph: 'xf067@FontAwesome',\n                \t\t\thandler: function(btn) {\n                \t\t\t\tbtn.up(\"window\").close();\n                \t\t\t\tExt.create('Ext.window.Window', {\n                \t\t\t\t\theader: false,\n                        \t\t    modal: true,\n                        \t\t    layout: 'fit',\n                        \t\t    items: {\n                        \t\t    \txtype: 'corpuscreator',\n                        \t\t    \tcorpus: this.getStore().getCorpus()\n                        \t\t    }\n                        \t\t}).show();\n                \t\t\t},\n                \t\t\tscope: this\n                \t\t}, {\n                \t\t\ttext: this.localize('remove'),\n                \t\t\ttooltip: this.localize(\"removeTip\"),\n                \t\t\tglyph: 'xf05e@FontAwesome',\n                \t\t\thidden: this.getStore().getCorpus().getDocumentsCount()==1,\n                \t\t\thandler: this.keepRemoveReorderHandler,\n                \t\t\titemId: 'remove',\n                \t\t\tscope: this\n                \t\t}, {\n                \t\t\ttext: this.localize('keep'),\n                \t\t\ttooltip: this.localize(\"keepTip\"),\n                \t\t\tglyph: 'xf00c@FontAwesome',\n                \t\t\thidden: this.getStore().getCorpus().getDocumentsCount()==1,\n                \t\t\thandler: this.keepRemoveReorderHandler,\n                \t\t\titemId: 'keep',\n                \t\t\tscope: this\n                \t\t}, {\n                \t\t\ttext: this.localize('reorder'),\n                \t\t\ttooltip: this.localize(\"reorderTip\"),\n                \t\t\tglyph: 'xf0dc@FontAwesome',\n                \t\t\thidden: this.getStore().getCorpus().getDocumentsCount()==1,\n                \t\t\thandler: this.keepRemoveReorderHandler,\n                \t\t\titemId: 'reorder',\n                \t\t\tscope: this\n                \t\t},{\n            \t\t        text: 'Cancel',\n                \t\t\tglyph: 'xf00d@FontAwesome',\n            \t\t        handler: function(btn) {\n            \t\t        \tbtn.up(\"window\").close();\n            \t\t        }\n            \t\t    }]\n            \t\t}).show();\n\n            \t}\n    \t\t}, {\n    \t\t\ttext: this.localize('downloadButton'),\n\t\t    \tglyph: 'xf019@FontAwesome',\n    \t\t\titemId: 'downloadButton',\n    \t\t\thandler: function() {\n    \t\t\t\tme.downloadFromCorpusId(me.getStore().getCorpus().getId())\n    \t\t\t}\n    \t\t})\n    \t}\n    \t\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n\t    \tcolumns:[\n\t    \t   {\n\t    \t\t   xtype: 'rownumberer',\n\t    \t        renderer: function(value, metaData, record) {return record.getIndex()+1},\n\t    \t        sortable: false\n\t    \t    },{\n\t    \t        text: this.localize('documentTitle'),\n\t    \t        dataIndex: 'title',\n\t    \t        sortable: true,\n\t    \t        renderer: function(val, metadata, record) {return record.getTitle();},\n\t    \t        flex: 3\n\t    \t    },{\n\t    \t        text: this.localize('documentAuthor'),\n\t    \t        dataIndex: 'author',\n\t    \t        sortable: true,\n\t    \t        hidden: true,\n\t    \t        renderer: function(val, metadata, record) {return record.getAuthor();},\n\t    \t        flex: 2\n\t    \t    },{\n\t    \t        text: this.localize('documentPubDate'),\n\t    \t        dataIndex: 'pubDate',\n\t    \t        sortable: true,\n\t    \t        hidden: true,\n\t    \t        renderer: function(val, metadata, record) {return record.getPubDate();},\n\t    \t        flex: 2\n\t    \t    },{\n\t    \t        text: this.localize('documentPublisher'),\n\t    \t        dataIndex: 'publisher',\n\t    \t        sortable: false,\n\t    \t        hidden: true,\n\t    \t        renderer: function(val, metadata, record) {return record.getPublisher();},\n\t    \t        flex: 2\n\t    \t    },{\n\t    \t        text: this.localize('documentPubPlace'),\n\t    \t        dataIndex: 'pubPlace',\n\t    \t        sortable: false,\n\t    \t        hidden: true,\n\t    \t        renderer: function(val, metadata, record) {return record.getPubPlace();},\n\t    \t        flex: 2\n\t    \t    },{\n\t    \t        text: this.localize('documentKeyword'),\n\t    \t        dataIndex: 'keyword',\n\t    \t        sortable: false,\n\t    \t        hidden: true,\n\t    \t        renderer: function(val, metadata, record) {return record.getKeyword();},\n\t    \t        flex: 2\n\t    \t    },{\n\t    \t        text: this.localize('documentCollection'),\n\t    \t        dataIndex: 'collection',\n\t    \t        sortable: false,\n\t    \t        hidden: true,\n\t    \t        renderer: function(val, metadata, record) {return record.getCollection();},\n\t    \t        flex: 2\n\t    \t    },{\n\t    \t        text: this.localize('tokensCountLexical'),\n\t    \t        dataIndex: 'tokensCount-lexical',\n\t    \t        renderer: Ext.util.Format.numberRenderer('0,000'),\n\t    \t        sortable: true,\n\t    \t        width: 'autoSize'\n\t    \t    },{\n\t    \t        text: this.localize('typesCountLexical'),\n\t    \t        dataIndex: 'typesCount-lexical',\n\t    \t        renderer: Ext.util.Format.numberRenderer('0,000'),\n\t    \t        width: 'autoSize'\n\t    \t    },{\n\t    \t        text: this.localize('typeTokenRatioLexical'),\n\t    \t        dataIndex: 'typeTokenRatio-lexical',\n\t    \t        renderer: function(val) {return Ext.util.Format.percent(val)},\n\t    \t        width: 'autoSize'\n\t    \t    },{\n\t    \t        text: this.localize('averageWordsPerSentence'),\n\t    \t        dataIndex: 'averageWordsPerSentence',\n\t    \t        renderer: Ext.util.Format.numberRenderer('0,000.0'),\n\t            \ttooltip: this.localize(\"averageWordsPerSentenceTip\"),\n\t    \t        width: 'autoSize'\n\t    \t    },{\n\t    \t        text: this.localize('language'),\n\t    \t        dataIndex: 'language',\n\t    \t        hidden: true,\n\t    \t        renderer: function(val, metaData, record, rowIndex, colIndex, store, view) {return view.ownerCt.getLanguage(val);},\n\t    \t        width: 'autoSize'\n\t    \t    }\n\t    \t],\n\t    \t\n\t        store: store,\n\t    \t\n\t    \tselModel: {\n\t    \t\ttype: 'rowmodel',\n\t    \t\tmode: 'MULTI',\n                listeners: {\n                    selectionchange: {\n                    \tfn: function(sm, selections) {\n                    \t\tthis.getApplication().dispatchEvent('documentsClicked', this, selections, this.getStore().getCorpus());\n                    \t},\n                    \tscope: this\n                    }\n                }\n            },\n            \n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: dockedItemsItems\n            }]\n    \t});\n    \t\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n        \n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n\n    \t\tthis.store.setCorpus(corpus);\n\n    \t\tif (this.isVisible()) {\n        \t\tthis.store.load({params: this.getApiParams()});\n    \t\t} else {\n    \t\t\tthis.on('afterrender', function() {\n            \t\tthis.store.load({params: this.getApiParams()});\n    \t\t\t}, this);\n    \t\t}\n    \t\tif (this.hasCorpusAccess(corpus)==false) {\n    \t\t\tthis.queryById('modifyButton').hide();\n    \t\t\tthis.queryById('downloadButton').hide();\n    \t\t}\n    \t\t/*\n    \t\tvar me = this;\n    \t\tExt.Ajax.request({\n    \t\t\turl: this.getApplication().getTromboneUrl(),\n    \t\t\tparams: {\n    \t\t\t\tcorpus: corpus.getId(),\n    \t\t\t\ttool: 'corpus.CorpusManager',\n    \t\t\t\tgetAccess: true\n    \t\t\t},\n    \t\t    success: function(response, opts) {\n    \t\t        var obj = Ext.decode(response.responseText);\n    \t\t        if (obj && obj)\n    \t\t        debugger\n    \t\t        console.dir(obj);\n    \t\t        me\n    \t\t    },\n    \t\t    failure: function(response, opts) {\n    \t\t    \tme.showError(response);\n    \t\t    }\n    \t\t})\n    \t\t*/\n    \t})\n    \t\n    \tthis.on(\"activate\", function() { // load after tab activate (if we're in a tab panel)\n    \t\tif (this.getStore().getCorpus()) {\n    \t\t\tthis.getStore().load({params: this.getApiParams()});\n    \t\t}\n    \t}, this);\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('query', function(src, query) {\n    \t\tthis.setApiParam('query', query);\n    \t\tthis.store.load({params: this.getApiParams()});\n    \t})\n    \t\n    \tif (config.embedded) {\n        \tif (Ext.getClass(config.embedded).getName() == \"Voyant.data.model.Corpus\") {\n        \t\tconfig.corpus = config.embedded\n        \t}\n        \telse if (Ext.getClass(config.embedded).getName() == \"Voyant.data.store.Documents\") {\n        \t\tthis.store.setRecords(config.embedded.getData())\n        \t\tconfig.corpus = config.embedded.getCorpus()\n        \t}\n    \t\t\n    \t}\n    \t\n    \t// if we have a corpus, load it\n    \tif (config.corpus) {\n    \t\tthis.fireEvent('loadedCorpus', this, config.corpus)\n    \t}\n    },\n    \n    keepRemoveReorderHandler: function(btn) {\n    \t// we're not sure which scope we're in, so ensure we're talking about this buttons panel\n\t\tvar panel = btn.up(\"window\").down(\"documents\");\n\t\tvar selection = panel.getSelection();\n\t\tvar docs = panel.getStore().getCorpus().getDocumentsCount();\n\t\tvar btnMode = btn.getItemId();\n\t\t// if reordering, check to make sure that we're not looking at a subset\n\t\tif (btnMode=='reorder') {\n\t\t\tif (panel.getStore().getCount()<docs) {\n\t\t\t\treturn Ext.Msg.show({\n\t\t\t\t    title: this.localize('error'),\n\t\t\t\t    message: this.localize('reorderFilteredError'),\n\t\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t\t    icon: Ext.Msg.ERROR\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdocIndex = [];\n\t\t\t\tpanel.getStore().each(function(doc) {\n\t\t\t\t\tdocIndex.push(doc.getIndex())\n\t\t\t    }, this);\n\t\t\t\tfor (var i=1; i<docIndex.length; i++) {\n\t\t\t\t\tif (docIndex[i-1]>docIndex[i]) {\n\t\t\t\t\t\treturn Ext.Msg.confirm(panel.localize('newCorpus'), new Ext.Template(panel.localize(btnMode+'Documents')).applyTemplate([selection.length]), function(confirmBtn){\n\t\t\t\t\t\t\tif (confirmBtn==='yes') {\n\t\t\t\t\t\t\t\tdocIndex = [];\n\t\t\t\t\t\t\t\tthis.getStore().each(function(doc) {\n\t\t\t\t\t\t\t\t\tdocIndex.push(doc.getIndex())\n\t\t\t\t\t\t\t    }, this);\n\t\t\t\t\t\t\t\tvar params = {docIndex: docIndex};\n\t\t\t\t\t\t\t\tparams[btnMode+\"Documents\"] = true;\n\t\t\t\t\t\t\t\tthis.editCorpus(params)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, panel);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// if we get here it's because nothing's been reordered\n\t\t\t\treturn Ext.Msg.show({\n\t\t\t\t    title: this.localize('error'),\n\t\t\t\t    message: this.localize('reorderOriginalError'),\n\t\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t\t    icon: Ext.Msg.ERROR\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif (selection.length>0) {\n\t\t\tif (selection.length==docs) {\n\t\t\t\tif (docs==1) {\n\t\t\t\t\treturn Ext.Msg.show({\n\t\t\t\t\t    title: this.localize('error'),\n\t\t\t\t\t    message: this.localize('onlyOneError'),\n\t\t\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t\t\t    icon: Ext.Msg.ERROR\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn Ext.Msg.show({\n\t\t\t\t\t    title: this.localize('error'),\n\t\t\t\t\t    message: this.localize('allSelectedError'),\n\t\t\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t\t\t    icon: Ext.Msg.ERROR\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Ext.Msg.confirm(this.localize('newCorpus'), new Ext.Template(this.localize(btnMode+'SelectedDocuments')).applyTemplate([selection.length]), function(confirmBtn){\n\t\t\t\t\tif (confirmBtn==='yes') {\n\t\t\t\t\t\tdocIndex = [];\n\t\t\t\t\t\tselection.forEach(function(doc){\n\t\t\t\t\t\t\tdocIndex.push(doc.getIndex())\n\t\t\t\t\t\t})\n\t\t\t\t\t\tvar params = {docIndex: docIndex};\n\t\t\t\t\t\tparams[btnMode+\"Documents\"] = true;\n\t\t\t\t\t\tthis.editCorpus(params)\n\t\t\t\t\t}\n\t\t\t\t}, panel);\n\t\t\t}\n\t\t}\n\t\telse if (panel.getApiParam(\"query\") && panel.getStore().getCount()<docs) {\n\t\t\treturn Ext.Msg.confirm(this.localize('newCorpus'), new Ext.Template(this.localize(btnMode+'FilteredDocuments')).applyTemplate([selection.length]), function(confirmBtn){\n\t\t\t\tif (confirmBtn==='yes') {\n\t\t\t\t\tdocIndex = [];\n\t\t\t\t\tthis.getStore().each(function(doc) {\n\t\t\t\t\t\tdocIndex.push(doc.getIndex())\n\t\t\t\t    }, this);\n\t\t\t\t\tvar params = {docIndex: docIndex};\n\t\t\t\t\tparams[btnMode+\"Documents\"] = true;\n\t\t\t\t\tthis.editCorpus(params)\n\t\t\t\t}\n\t\t\t}, panel);\n\t\t}\n\t\telse {\n\t\t\treturn Ext.Msg.show({\n\t\t\t    title: this.localize('error'),\n\t\t\t    message: this.localize('selectOrFilterError'),\n\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t    icon: Ext.Msg.ERROR\n\t\t\t});\n\t\t}    \t\n    },\n    \n    editCorpus: function(params) {\n    \t\n    \tExt.apply(params, {\n    \t\ttool: 'corpus.CorpusManager',\n    \t\tcorpus: this.getStore().getCorpus().getId()\n    \t})\n\n    \t// mask main viewport while we create a new corpus\n    \tvar app = this.getApplication();\n    \tvar view = app.getViewport();\n\t\tview.mask(this.localize(\"Creating new corpus\u2026\"));\n    \tExt.Ajax.request({\n    \t\turl: this.getApplication().getTromboneUrl(),\n    \t\tmethod: 'POST',\n    \t\tparams: params,\n    \t\tsuccess: function(response) {\n    \t\t\tview.unmask();\n    \t\t\tvar obj = Ext.decode(response.responseText);\n\t\t\t\tapp.openUrl(app.getBaseUrl()+\"?corpus=\"+obj.corpus.id);\n//    \t\t\tview.mask(\"Loading new corpus\u2026\")\n//    \t\t\tnew Voyant.data.model.Corpus({corpus: obj.corpus.id}).then(function(corpus) {\n//    \t\t\t\tview.unmask();\n//    \t\t\t\tapp.openUrl(app.getBaseUrl()+\"/?corpus=\"+obj.corpus.id)\n//    \t\t\t\tapp.dispatchEvent('loadedCorpus', app, corpus);\n//    \t\t\t}).fail(function(message, response) {\n//    \t\t\t\tview.unmask();\n//    \t\t\t\tapp.showErrorResponse({message: message}, response);\n//    \t\t\t});\n    \t\t}\n    \t});\n    \t\n    \t// close editing window if we're in modal mode, should happen asynchronously while new corpus is created\n    \tvar win = this.up(\"window\");\n    \tif (win && win.isFloating()) {win.close()}\n    }\n})","Ext.define('Voyant.panel.DocumentsFinder', {\n\textend: 'Ext.grid.Panel',\n\trequire: ['Voyant.data.store.DocumentQueryMatches','Ext.grid.plugin.CellEditing'],\n\tmixins: ['Voyant.panel.Panel'/*,'Voyant.util.Localization'*/],\n\talias: 'widget.documentsfinder',\n    statics: {\n    \ti18n: {\n    \t}\n    },\n    config: {\n    \texportGridAll: false // prevents export all options from grid\n    },\n\n    constructor: function(config) {\n    \t\n        this.cellEditing = Ext.create(\"Ext.grid.plugin.CellEditing\", {\n            clicksToEdit: 1\n        });\n\n        this.cellEditing.on('edit', this.onEditComplete, this);\n    \t\n    \tvar me = this;\n    \t\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\temptyText: this.localize(\"emptyText\"),\n    \t\tplugins: [this.cellEditing],\n    \t\tbbar: [\n    \t\t       {\n                       text: this.localize('addRow'),\n                       glyph: 'xf055@FontAwesome',\n                       handler: this.addRow,\n                       scope: this\n    \t\t       },{\n                       text: this.localize('exportNewCorpus'),\n                       disabled: true,\n                       glyph: 'xf08e@FontAwesome',\n                       tooltip: this.localize('exportNewCorpusTip'),\n                       handler: function() {\n                    \t   var query = this.getQueryFromStore();\n                    \t   if (query) {\n                    \t\t   this.setLoading(true);\n\t   \t               \t\t\tvar documentQueryMatches = this.getCorpus().getDocumentQueryMatches();\n\t\t            \t\t\tdocumentQueryMatches.load({\n\t\t            \t\t\t\tparams: {query: query, createNewCorpus: true},\n\t\t            \t\t\t\tcallback: function(records, operation, success) {\n\t\t                     \t\t   this.setLoading(false);\n\t\t            \t\t\t\t\tif (success) {\n\t\t            \t\t\t\t\t\tvar corpus = operation.getProxy().getReader().rawData.documentsFinder.corpus;\n\t\t            \t\t\t\t\t\tvar url = this.getBaseUrl()+'?corpus='+corpus;\n\t\t                         \t\t   Ext.Msg.alert({\n\t\t                        \t\t\t   title: this.localize('title'),\n\t\t                        \t\t\t   message: \"<a href='\"+url+\"' target='_blank'>New Corpus</a>\"\n\t\t                        \t\t   })\n\t\t            \t\t\t\t\t}\n\t\t            \t\t\t\t\telse {\n\t\t            \t\t\t\t\t\tExt.create(\"Voyant.util.ResponseError\", {\n\t\t            \t\t\t\t\t\t\tmsg: this.localize(\"unsuccessfulQuery\"),\n\t\t            \t\t\t\t\t\t\tresponse: operation.getError().response\n\t\t            \t\t\t\t\t\t}).show();\n\t\t            \t\t\t\t\t}\n\t\t            \t\t\t\t},\n\t\t            \t\t\t\tscope: this\n\t\t            \t\t\t})\n                    \t\t   \n                    \t   }\n                    \t   else {\n                    \t\t   Ext.Msg.alert({\n                    \t\t\t   title: this.localize('title'),\n                    \t\t\t   message: this.localize('noMatches')\n                    \t\t   })\n                    \t   }\n                       },\n                       scope: this,\n                       cls: 'exportBtn'\n    \t\t       },{\n    \t\t    \t   xtype: 'tbtext',\n    \t\t    \t   name: 'status',\n    \t\t    \t   cls: 'status'\n    \t\t       }\n    \t\t],\n\t    \tcolumns:[\n \t    \t    {\n\t    \t        text: this.localize('query'),\n\t    \t        dataIndex: 'query',\n\t    \t        renderer: function(value) {\n\t    \t        \treturn Ext.isEmpty(value) ? '<span class=\"placeholder\">'+me.localize('emptyQuery') + '</span>' : value;\n\t    \t        },\n\t    \t        editor: true,\n\t    \t        minWidth: 150,\n\t    \t        maxWidth: 300\n\t    \t    },{\n\t    \t        text: this.localize('field'),\n\t    \t        dataIndex: 'field',\n\t    \t        editor: {\n\t    \t        \txtype: 'combo',\n\t                    typeAhead: true,\n\t                    triggerAction: 'all',\n\t                    forceSelection: true,\n\t                    value: '',\n\t                    valueField: 'value',\n\t                    listeners: {\n\t                    \tchange:function() {\n\t                    \t  if (Ext.isEmpty(this.getValue())) {\n\t\t                    \t    this.reset();\n\t\t                    \t  }\n\t\t                    \t}\n\t                    },\n\t                    store: new Ext.data.Store({\n\t                        fields: ['text','value'],\n\t                \t\tdata: [[this.localize('textField'),'text'],[this.localize('advancedField'),'advanced']]\n\t                    })\n\t    \t        },\n\t    \t        width: 150,\n                    renderer: function(v) {return Ext.isEmpty(v) ? '' : me.localize(v+\"Field\")}\n\t    \t    },{\n\t    \t        text: this.localize('operator'),\n\t    \t        dataIndex: 'operator',\n\t    \t        editor: {\n\t    \t        \txtype: 'combo',\n\t                    forceSelection: true,\n\t                    store: new Ext.data.Store({\n\t                        autoDestroy: true,\n\t                        fields: ['text','value'],\n\t                        displayField:  'text',\n\t                        valueField: 'value',\n\t                \t\tdata: [{text:'AND',value:'+'},{text:'OR',value:''}]\n\t                    })\n\t    \t        },\n\t    \t        minWidth: 75,\n\t    \t        maxWidth: 75\n\t    \t    },{\n\t    \t        text: this.localize('count'),\n\t    \t        dataIndex: 'count',\n\t    \t        renderer: function(value, metadata, record) {\n\t    \t        \treturn Ext.isEmpty(record.get('query')) ? '' : Ext.util.Format.number(value, '0,000')\n\t    \t        },\n\t    \t        minWidth: 100,\n\t    \t        maxWidth: 100\n\t    \t    },{\n\t    \t    \txtype: 'actioncolumn',\n\t                width: 25,\n\t                getGlyph: 'xf014@FontAwesome',\n\t                tooltip: this.localize('deleteQueryTip'),\n\t                menuDisabled: true,\n\t                sortable: false,\n\t                handler: this.removeRow,\n\t                scope: this\n\t    \t    }\n\t    \t],\n\t    \t\n\t    \tstore: new Ext.data.Store({\n                // destroy the store if the grid is destroyed\n                autoDestroy: true,\n                fields: ['id','operator','field','query','count'],\n\t    \t\tdata: [['','','','',0]]\n            })\n      \t});\n    \t\t\t\n        this.callParent(arguments);\n        \n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n        \n  \n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tvar docs = corpus.getDocuments();\n    \t\tif (docs && docs.getCount()>0) {\n    \t\t\tvar doc = docs.getDocument(0);\n    \t\t\tvar records = [];\n    \t\t\t[\"title\",\"author\",\"pubDate\",\"publisher\",\"pubPlace\"].forEach(function(field) {\n    \t\t\t\tif (!Ext.isEmpty(doc.get(field))) {\n    \t\t\t\t\trecords.push([this.localize(field+'Field'),field])\n    \t\t\t\t}\n    \t\t\t}, this);\n    \t\t\tif (records) {\n    \t\t\t\tvar editor = this.getColumnManager().getHeaderByDataIndex(\"field\").getEditor();\n    \t\t\t\tvar store = editor.getStore();\n    \t\t\t\tstore.each(function(record) {\n    \t\t\t\t\trecords.push([record.get('text'), record.get('value')]);\n    \t\t\t\t}, this);\n    \t\t\t\teditor.setStore(Ext.create(\"Ext.data.Store\",{\n    \t\t\t\t\tfields: ['text','value'],\n    \t\t\t\t\tdata: records\n    \t\t\t\t}))\n    \t\t\t}\n    \t\t\tthis.updateStatus(0);\n    \t\t\tthis.setLoading(false);\n    \t\t}\n    \t})\n    \t\n    },\n    \n    removeRow:function(grid, rowIndex) {\n    \tthis.getStore().removeAt(rowIndex);\n    \tif (this.getStore().getCount()==0) {this.addRow();}\n    \tthis.updateAggregate();\n    },\n    \n    addRow: function() {\n    \tthis.store.loadData([['','','','',0]], true);\n    },\n    \n    onEditComplete: function(editor, context) {\n    \t\n    \t\n    \tvar query = this.getQueryFromRecord(context.record);\n\t\tif (Ext.isEmpty(query)) {\n\t\t\tcontext.record.set('count','');\n\t\t\tthis.updateAggregate();\n\t\t}\n\t\telse {\n\t\t\tvar cell = context.view.getCell(context.record, this.getColumnManager().getHeaderByDataIndex(\"count\"));\n\t\t\tcell.mask(\"loading\");\n\t\t\tvar documentQueryMatches = this.getCorpus().getDocumentQueryMatches();\n\t\t\tdocumentQueryMatches.load({\n\t\t\t\tparams: {\n\t\t\t\t\tquery: query\n\t\t\t\t},\n\t\t\t\tcallback: function(records, operation, success) {\n\t\t\t\t\tcell.unmask();\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tcontext.record.set('count', records.length==0 ? 0 : records[0].get('count'))\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tExt.create(\"Voyant.util.ResponseError\", {\n\t\t\t\t\t\t\tmsg: this.localize(\"unsuccessfulQuery\"),\n\t\t\t\t\t\t\tresponse: operation.getError().response\n\t\t\t\t\t\t}).show();\n\t\t\t\t\t\tcontext.record.set('count',0);\n\t\t\t\t\t}\n\t\t\t\t\tthis.updateAggregate();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t})\n\t\t}\n\n    },\n    \n    getQueryFromRecord: function(record) {\n\t\tif (Ext.isEmpty(record) || Ext.isEmpty(record.get('query'))) {return \"\"}\n\t\tvar query = record.get('query').trim();\n\t\tif (Ext.isEmpty(query)) {return \"\"}\n\t\tvar field = record.get('field');\n\t\treturn Ext.isEmpty(field ? field.trim() : field) ? query : field+\":\"+query\n    },\n    \n    getQueryFromStore: function() {\n    \tvar query = \"\";\n \t\tthis.getStore().each(function(record) {\n \t\t\tvar q = this.getQueryFromRecord(record);\n \t\t\tif (!Ext.isEmpty(q)) {\n \t\t\t\tif (!Ext.isEmpty(query)) {\n \t\t\t\t\tvar op = record.get('operator');\n \t\t\t\t\tquery += op== 'AND' ? ' + ' : ' | '\n \t\t\t\t}\n \t\t\t\tquery+=q\n \t\t\t}\n \t\t}, this)\n \t\tconsole.warn(query)\n \t\treturn query;\n    },\n    \n    updateAggregate: function() {\n    \tvar count = this.getStore().sum('count');\n    \tif (!count || typeof count == 'string') {\n    \t\tthis.updateStatus(0);\n    \t}\n    \telse if (count==1) {\n    \t\tvar count = this.getStore().getAt(0).get('count');\n    \t\tthis.updateStatus(this.getStore().getAt(0).get('count'))\n    \t}\n    \telse {\n    \t\t\n    \t\tvar query = this.getQueryFromStore();\n    \t\tif (!Ext.isEmpty(query)) {\n            \tif (!this.status) {this.status=this.down(\"[cls~=status]\")} // make sure we have status for masking\n    \t\t\tthis.status.mask(this.localize(\"loading\"));\n    \t\t\tvar documentQueryMatches = this.getCorpus().getDocumentQueryMatches();\n    \t\t\tdocumentQueryMatches.load({\n    \t\t\t\tparams: {query: query},\n    \t\t\t\tcallback: function(records, operation, success) {\n    \t\t\t\t\t\n    \t\t\t\t\tthis.status.unmask();\n    \t\t\t\t\tif (success) {\n    \t\t\t\t\t\tthis.updateStatus(records[0].get('count'));\n    \t\t\t\t\t}\n    \t\t\t\t\telse {\n    \t\t\t\t\t\tExt.create(\"Voyant.util.ResponseError\", {\n    \t\t\t\t\t\t\tmsg: this.localize(\"unsuccessfulQuery\"),\n    \t\t\t\t\t\t\tresponse: operation.getError().response\n    \t\t\t\t\t\t}).show();\n    \t\t\t\t\t\tthis.updateStatus(0);\n    \t\t\t\t\t}\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t})\n    \t\t}\n    \t}\n    },\n    \n    updateStatus: function(count) {\n    \tif (!this.status) {this.status=this.down(\"[cls~=status]\")}\n    \tif (!this.exportBtn) {this.exportBtn=this.down(\"[cls~=exportBtn]\")}\n    \tif (count==0) {\n        \tthis.status.update(new Ext.XTemplate(this.localize('noMatches')).apply([this.getCorpus().getDocumentsCount()]))\n    \t}\n    \telse {\n    \t\tthis.status.update(new Ext.XTemplate(this.localize('queryMatches')).apply([count,this.getCorpus().getDocumentsCount()]))\n    \t}\n    \tthis.exportBtn.setDisabled(count==0);\n    \t\n    }\n    \n})","Ext.define('Voyant.panel.Embedder', {\n\textend: 'Ext.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.embedder',\n\tstatics: {\n\t\ti18n: {\n\t\t\ttitle: 'Embedded',\n\t\t\turl: 'URL',\n\t\t\tgo: 'Go'\n\t\t},\n\t\tapi: {\n\t\t\turl: undefined\n\t\t},\n\t\tglyph: 'xf0c1@FontAwesome'\n\t},\n\tconstructor: function(config) {\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n\t\tthis.setApiParam('url', config.url);\n\n        this.callParent(arguments);\n\t\t\n\t\tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n\tinitComponent: function() {\n\t\tExt.apply(this, {\n\t\t\ttitle: this.localize('title'),\n\t\t\tlayout: {\n\t\t\t\ttype: 'fit'\n\t\t\t},\n\t\t\titems: {\n\t\t\t\txtype: 'uxiframe',\n\t\t\t\tsrc: this.getApiParam('url')\n\t\t\t},\n\t\t\ttbar: [{\n\t\t\t\txtype: 'textfield',\n\t\t\t\tvalue: this.getApiParam('url'),\n\t\t\t\temptyText: this.localize('url'),\n\t\t\t\tlisteners: {\n\t\t\t\t\tspecialkey: function(field, e){\n\t\t\t\t\t\tif (e.getKey() == e.ENTER) {\n\t\t\t\t\t\t\tfield.up('panel').down('uxiframe').load(field.getValue());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},{\n\t\t\t\txtype: 'button',\n\t\t\t\ttext: this.localize('go'),\n\t\t\t\thandler: function(btn) {\n\t\t\t\t\tvar url = btn.prev('textfield').getValue();\n\t\t\t\t\tbtn.up('panel').down('uxiframe').load(url);\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t\t\n\t\tthis.callParent();\n\t},\n\tloadUrl: function(url) {\n\t\tthis.down('uxiframe').load(url);\n\t}\n});","// assuming Bubblelines library is loaded by containing page (via voyant.jsp)\nExt.define('Voyant.panel.Fountain', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.fountain',\n    statics: {\n    \ti18n: {\n    \t\ttitle: \"FountainMeter\"\n    \t},\n    \tapi: {\n    \t\t/**\n    \t\t * @property stopList The stop list to use to filter results.\n    \t\t * Choose from a pre-defined list, or enter a comma separated list of words, or enter an URL to a list of stop words in plain text (one per line).\n    \t\t * @type String\n    \t\t * @private\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\t\n    \t\tdocIndex: 0,\n    \t\t\n    \t\tspeed: 30,\n    \t\t\n    \t\tgroups: undefined\n    \t\t\t\n    \t},\n    \tglyph: 'xf06e@FontAwesome'\n\t},\n\tconfig: {\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\n    \taudio: false,\n    \twords: [],\n    \tgroups: {},\n    \tmoveWordsTimeout: undefined\n\t},\n\t\n\t\n    constructor: function() {\n\n    \tthis.mixins['Voyant.util.Localization'].constructor.apply(this, arguments);\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tlayout: {\n    \t\t\ttype: 'hbox',\n    \t\t\talign: 'stretch'\n    \t\t},\n    \t\titems: [{\n        \t\thtml: '<svg></svg>',\n        \t\titemId: 'fountain',\n        \t\tflex: 2\n    \t\t},{\n    \t\t\tflex: 1,\n    \t\t\tlayout:  'vbox',\n    \t\t\titems: [{\n    \t\t\t\t   xtype: 'polar',\n    \t\t\t\t   itemId: 'gauge',\n    \t\t\t\t   width: 300,\n    \t\t\t\t   flex: 1,\n    \t\t\t\t   store: {\n    \t\t\t\t       fields: ['mph', 'fuel', 'temp', 'rpm'],\n    \t\t\t\t       data: [{val: 10}]\n    \t\t\t\t   },\n    \t\t\t\t   series: {\n    \t\t\t\t       type: 'gauge',\n    \t\t\t\t       colors: this.getApplication().getColorPalette(this.getApplication().getApiParam('palette'), true),\n    \t\t\t\t       angleField: 'val',\n    \t\t\t\t       donut: 20\n    \t\t\t\t   }\n    \t\t\t\t},{\n\t\t    \t\t\twidth: 300,\n\t\t    \t\t\theight: 16,\n    \t\t\t\t\titems: {\n    \t\t    \t\t\txtype: 'sparklineline',\n        \t\t\t\t    itemId: 'gaugsparkline',\n    \t\t    \t\t\tvalues: [0,1,2,34],\n    \t\t    \t\t\theight: 16,\n    \t\t    \t\t\twidth: 300\n    \t\t\t\t\t},\n\t\t    \t\t\tlisteners: {\n\t\t    \t\t\t\tafterrender: function(cmp) {\n\t\t    \t\t\t\t\tcmp.getTargetEl().setStyle(\"cursor\", \"pointer\");\n\t\t\t    \t\t\t\tcmp.getTargetEl().on(\"click\", function(e, t, eOpts) {\n\t    \t\t\t\t\t    \tclearTimeout(this.getMoveWordsTimeout());\n\t\t    \t\t\t\t\t\tthis.getWords().forEach(function(word) {\n\n\t\t    \t\t\t\t\t\t\tif (word.svg) {\n\t\t    \t\t\t\t\t\t\t\tword.svg.remove();\n\t\t    \t\t\t\t\t\t\t\tdelete word.svg;\n\t\t    \t\t\t\t\t\t\t}\n\t\t    \t\t\t\t\t\t\tword.direction = -1; // reset\n\t\t    \t\t\t\t\t\t})\n\t\t    \t\t\t\t\t\tvar pos = Math.floor(e.event.offsetX * this.getWords().length / t.offsetWidth)\n\t\t    \t\t\t\t\t\tthis.moveWords(pos);\n\t\t    \t\t\t\t\t}, this);\n\t\t    \t\t\t\t},\n\t\t    \t\t\t\tscope: this\n\t\t    \t\t\t}\n    \t\t\t\t}]\n    \t\t}],\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n\t            \txtype: 'documentselectorbutton',\n\t            \tsingleSelect: true\n\t            },{\n\t\t\t\t\txtype: 'slider',\n\t\t\t\t\tfieldLabel: this.localize('speed'),\n\t\t\t\t\tlabelAlign: 'right',\n\t\t\t\t\tlabelWidth: 40,\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tincrement: 1,\n\t\t\t\t\tminValue: 1,\n\t\t\t\t\tmaxValue: 60,\n\t\t\t\t\tvalue: 30,\n\t\t\t\t\tlisteners: {\n\t                \trender: function(cmp) {\n\t                \t\tcmp.setValue(parseInt(this.getApiParam(\"speed\")));\n\t                \t\tif (this.bubbles) {this.bubbles.frameRate(cmp.getValue())}\n\t                \t\tthis.setAudio(cmp.getValue());\n\t    \t\t        \tExt.tip.QuickTipManager.register({\n\t    \t\t        \t\ttarget: cmp.getEl(),\n\t   \t\t                 \ttext: this.localize('speedTip')\n\t    \t\t        \t});\n\t                \t\t\n\t                \t},\n\t                \tbeforedestroy: function(cmp) {\n\t                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n\t                \t},\n\t                    changecomplete: function(cmp, val) {\n\t                    \tthis.setApiParam('speed', val);\n\t                \t\tif (this.bubbles) {this.bubbles.frameRate(val)}\n\t                    },\n\t                    scope: this\n\t\t\t\t\t}\n\t\t\t\t}]\n    \t\t}]\n    \t});\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tthis.loadDocument();\n    \t}, this);\n    \t\n    },\n    \n    loadDocument: function() {\n    \tvar me = this;\n    \tvar docIndex = parseInt(this.getApiParam('docIndex')) || 0;\n    \tthis.getCorpus().getWordsArray({docIndex: docIndex, stopList: 'auto'}).then(function(words) {\n\n    \t\t// fold to lower case\n    \t\tvar lcwords = words.map(function(w) {return w.toLowerCase()});\n    \t\t\n    \t\t// if we don't have any groups of words, form them based on words that are longer than four letters\n    \t\tif (me.getApiParam(\"groups\")==undefined) {\n    \t\t\tvar group = {};\n    \t\t\tlcwords.forEach(function(w) {\n    \t\t\t\tif (w.length>5 && !(w in group)) {\n    \t\t\t\t\tgroup[w] = w.length;\n    \t\t\t\t} \n    \t\t\t});\n    \t\t\tvar maxLen = Math.max.apply(this, Object.values(group))\n    \t\t\tvar lenVal = d3.scaleLinear().domain([4,maxLen]).range([.5,1])\n    \t\t\tfor (var w in group) {\n    \t\t\t\tgroup[w] = lenVal(group[w]); // convert length to val between 0 and 1\n    \t\t\t}\n    \t\t\tme.setGroups({length: {\n    \t\t\t\tcolor: me.getApplication().getColorForTerm(\"length\"),\n    \t\t\t\tterms: group\n    \t\t\t}})\n    \t\t}\n\n    \t\tvar el = me.getComponent('fountain').getTargetEl();\n\t\t\tvar svgEl = el.down(\"svg\");\n    \t\tsvgEl.set({width: el.getWidth(), height: el.getHeight()});\n    \t\tvar svgDom = svgEl.dom\n    \t\tvar svg = d3.select(svgDom);\n    \t\tsvg.selectAll(\"*\").remove(); // clear\n    \t\t\n    \t\t// create words and set min height (highest point)\n    \t\tvar types = {};\n    \t\tvar groups = me.getGroups();\n\n    \t\tme.setWords(words.slice(0,1000).map(function(w) {\n    \t\t\tvar word = new me.FountainWord(w.toLowerCase());\n    \t\t\tif (word.word in types) {types[word.word]++}\n    \t\t\telse {types[word.word]=1;}\n    \t\t\tword.min = parseInt(Math.random()*svgDom.clientHeight*.05);\n    \t\t\tvar yshift = Math.sqrt(Math.random()*10)\n    \t\t\tword.yshift = Math.random()*2<1 ? - yshift : yshift;\n    \t\t\tword.jump = svgDom.clientHeight/10\n    \t\t\tword.groupVals = {};\n    \t\t\tfor (var g in groups) {\n    \t\t\t\tif (word.word in groups[g].terms) {\n    \t\t\t\t\tword.groupVals[g] = groups[g].terms[word.word]\n    \t\t\t\t}\n    \t\t\t}\n    \t\t\treturn word;\n    \t\t}));\n    \t\tvar max = Math.max.apply(this, Object.values(types));\n    \t\tvar fontSize = d3.scaleLog().domain([1,Math.max.apply(this, Object.values(types))]).range([4,12]);\n    \t\tme.getWords().forEach(function(word) {\n    \t\t\tword.fontSize = fontSize(types[word.word])\n    \t\t})\n    \t\tme.moveWords();\n    \t})\n    },\n    \n    FountainWord: function(word) {\n    \tthis.word = word;\n    \tthis.direction = -1;\n    },\n    \n    moveWords: function(until) {\n\n    \tvar words = this.getWords(),\n    \t\tsvg = this.getComponent('fountain').getTargetEl().down(\"svg\").dom,\n\t\t\theight = svg.clientHeight,\n\t\t\twidth = svg.clientWidth,\n\t\t\tgroups = this.getGroups();\n\t\tvar opacity = d3.scaleLinear().domain([0,height]).range([1,0]);\n\n\t\tvar gaugeVals = [];\n\t\tvar seen = 0;\n    \tfor (var i=0; i<words.length; i++) {\n    \t\tseen++;\n    \t\t\n\t\t\t// make sure to count group hits for all words since start to current point\n\t\t\tif (Object.keys(words[i].groupVals).length==0) {\n\t\t\t\tgaugeVals.push(0)\n\t\t\t} else {\n\t\t\t\tObject.values(words[i].groupVals).forEach(function(val) {\n\t\t\t\t\tgaugeVals.push(val);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n    \t\tif (words[i].direction<0) { // going up\n    \t\t\t\n\t\t\t\t\n    \t\t\tif (!words[i].svg) {\n    \t    \t\tvar word = d3.select(svg)\n    \t    \t\t\t.append(\"text\")\n    \t    \t\t\t.text(words[i].word)\n    \t    \t\t\t.attr(\"font-size\", words[i].fontSize)\n    \t    \t\t\t.attr(\"text-anchor\", \"middle\")\n    \t    \t\t\t.attr(\"x\", width/2)\n    \t    \t\t\t.attr(\"y\", height-(Math.random()*height)/5)\n    \t    \t\t\t.attr(\"fill\", Object.keys(words[i].groupVals).length==0 ? \"black\" : this.getApplication().getColorForTerm(Object.keys(words[i].groupVals).shift(), true));\n    \t    \t\twords[i].ys = [height];\n    \t    \t\twords[i].svg = word;\n    \t    \t\tif (!until || i>until) {\n    \t    \t\t\tbreak;\n    \t    \t\t}\n    \t\t\t} else {\n    \t\t\t\tvar y = parseInt(words[i].svg.attr(\"y\"));\n        \t\t\tvar delta = y-words[i].min;\n        \t\t\tvar change = delta/5\n        \t\t\twords[i].svg.attr(\"y\", y-change);\n        \t\t\twords[i].svg.attr(\"x\", parseInt(words[i].svg.attr(\"x\"))+words[i].yshift);\n        \t\t\ty = parseInt(words[i].svg.attr(\"y\"))\n        \t\t\twords[i].ys.push(y);\n        \t\t\tif (y<=words[i].min) {\n        \t\t\t\twords[i].direction = 1;\n        \t\t\t}\n    \t\t\t}\n    \t\t\t\n    \t\t} else if (words[i].direction>0) { // going down\n    \t\t\tif (words[i].svg && words[i].ys.length>0) {\n        \t\t\twords[i].svg.attr(\"y\", words[i].ys.pop());\n        \t\t\twords[i].svg.attr(\"x\", parseInt(words[i].svg.attr(\"x\"))+words[i].yshift);\n        \t\t\twords[i].svg.attr(\"opacity\", opacity(parseInt(words[i].svg.attr(\"y\"))));\n    \t\t\t\t\n    \t\t\t} else {\n    \t\t\t\twords[i].direction = 0;\n    \t\t\t}\n    \t\t} else {\n    \t\t\tif (\"svg\" in words[i]) {\n    \t\t\t\twords[i].svg.remove()\n    \t\t\t\tdelete words[i].svg\n    \t\t\t}\n    \t\t}\n    \t\t\n    \t}\n\n    \tvar avg = gaugeVals.length==0 ? 0 : Ext.mean(gaugeVals)*100;\n    \tvar polar = this.down(\"polar\")\n    \tpolar.getStore().getAt(0).set(\"val\", avg)\n    \tpolar.setSprites({\n            type: 'text',\n            text: Ext.util.Format.number(avg, '%0.0'),\n            x: 145,\n            y: 240\n        });\n    \tvar sparkline = this.down(\"sparklineline\");\n    \tsparkline.setValues(gaugeVals.length>100 ? this.chunkify(gaugeVals, 100, true).map(function(vals) {return Ext.mean(vals)}) : gaugeVals);\n    \tsparkline.setWidth(seen*sparkline.ownerCt.getWidth()/words.length)\n    \t\n    \tthis.setMoveWordsTimeout(Ext.defer(this.moveWords, 100, this));\n    },\n    \n    // https://stackoverflow.com/questions/8188548/splitting-a-js-array-into-n-arrays\n    chunkify: function(a, n, balanced) {\n        if (n < 2)\n            return [a];\n\n        var len = a.length,\n                out = [],\n                i = 0,\n                size;\n\n        if (len % n === 0) {\n            size = Math.floor(len / n);\n            while (i < len) {\n                out.push(a.slice(i, i += size));\n            }\n        }\n\n        else if (balanced) {\n            while (i < len) {\n                size = Math.ceil((len - i) / n--);\n                out.push(a.slice(i, i += size));\n            }\n        }\n\n        else {\n\n            n--;\n            size = Math.floor(len / n);\n            if (len % size === 0)\n                size--;\n            while (i < size * n) {\n                out.push(a.slice(i, i += size));\n            }\n            out.push(a.slice(size * n));\n\n        }\n\n        return out;    \t\n    },\n    \n    initComponent: function() {\n    \tthis.callParent(arguments);\n    }\n});","Ext.define('Voyant.panel.RezoViz', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.rezoviz',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tquery: undefined,\n    \t\tlimit: 25,\n    \t\tstopList: 'auto',\n    \t\ttype: ['organization','location','person'],\n    \t\tminEdgeCount: 2\n    \t},\n\t\tglyph: 'xf1cb@FontAwesome'\n    },\n    \n    config: {\n    \tnetwork: undefined, // the vis network graph\n    \tnodesStore: undefined, // used by combo\n    \tnodesDataSet: undefined, // used by vis\n    \tedgesDataSet: undefined, // used by vis\n    \tisNetworkBounded: true,\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}]\n    },\n\n    categorizedNodeOptions: {\n    \tlocation: {\n    \t\tfont: {\n    \t\t\tcolor: 'green'\n    \t\t}\n    \t},\n    \tperson: {\n    \t\tfont: {\n    \t\t\tcolor: 'maroon'\n    \t\t}\n    \t},\n    \torganization: {\n    \t\tfont: {\n    \t\t\tcolor: 'purple'\n    \t\t}\n    \t}\n    },\n    nodeOptions: {\n\t\tshape: 'box',\n\t\tcolor: {\n\t\t\tborder: 'rgba(0,0,0,0.1)',\n\t\t\tbackground: 'rgba(255,255,255,1)'\n\t\t},\n\t\tscaling:{\n            label: {\n              min: 8,\n              max: 20\n            }\n          }\n\t},\n\tedgeOptions: {\n\t\tcolor: {\n\t\t\tcolor: 'rgba(0,0,0,0.1)',\n\t\t\thighlight: 'black',\n\t\t\thover: 'red'\n\t\t},\n\t\tlabelHighlightBold: false\n\t},\n\thighlightOptions: {\n\t\tfont: {\n\t\t\tcolor: 'white'\n\t\t},\n\t\tcolor: {\n\t\t\tbackground: 'black'/*,\n\t\t\thover: {\n\t\t\t\tborder: '#CB157F',\n\t\t\t\tbackground: '#EB42A5'\n\t\t\t}*/\n\t\t}\n\t},\n    \n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n        var me = this;\n        \n        this.setNodesStore(Ext.create('Ext.data.Store', {\n        \tfields: ['id', 'term', 'type', 'rawFreq'],\n        \tsortOnLoad: true,\n        \tsorters: 'term'\n        }));\n        \n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'combo',\n                    queryMode: 'local',\n                    valueField: 'term',\n                    displayField: 'term',\n                    store: this.getNodesStore(),\n                    listeners: {\n\t\t\t\t\t\tselect: function(combo, record) {\n\t\t\t\t\t\t\tthis.getNetwork().selectNodes([record.get('id')]);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n                    }\n                },{\n                \txtype: 'button',\n\t                text: this.localize('categories'),\n\t                menu: {\n\t                \titems: [{\n\t                \t\txtype: 'menucheckitem',\n\t                \t\ttext: this.localize('people'),\n\t                \t\titemId: 'person',\n\t                \t\tchecked: true\n\t                \t},{\n\t                \t\txtype: 'menucheckitem',\n\t                \t\ttext: this.localize('locations'),\n\t                \t\titemId: 'location',\n\t                \t\tchecked: true\n\t                \t},{\n\t                \t\txtype: 'menucheckitem',\n\t                \t\ttext: this.localize('organizations'),\n\t                \t\titemId: 'organization',\n\t                \t\tchecked: true\n\t                \t},{\n\t                \t\txtype: 'button',\n\t                \t\ttext: this.localize('reload'),\n\t                \t\tstyle: 'margin: 5px;',\n\t                \t\thandler: this.categoriesHandler,\n\t                \t\tscope: this\n\t                \t}]\n\t                }\n                },{\n\t\t\t\t\txtype: 'numberfield',\n\t\t\t\t\titemId: 'minEdgeCount',\n\t\t\t\t\tfieldLabel: this.localize('minEdgeCount'),\n\t\t\t\t\tlabelAlign: 'right',\n\t\t\t\t\tlabelWidth: 120,\n\t\t\t\t\twidth: 170,\n\t\t\t\t\tmaxValue: 10,\n\t\t\t\t\tminValue: 1,\n\t\t\t\t\tallowDecimals: false,\n\t\t\t\t\tallowExponential: false,\n\t\t\t\t\tallowOnlyWhitespace: false,\n\t\t\t\t\tlisteners: {\n\t\t\t\t\t\trender: function(field) {\n\t\t\t\t\t\t\tfield.setRawValue(this.getApiParam('minEdgeCount'));\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchange: function(field, newVal) {\n\t\t\t\t\t\t\tif (field.isValid()) {\n\t\t\t\t\t\t\t\tthis.setApiParam('minEdgeCount', newVal);\n\t\t\t\t\t\t\t\tthis.getEntities();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}\n                },{ xtype: 'tbseparator' },{\n                \txtype: 'slider',\n                \tfieldLabel: this.localize('repulsion'),\n                \tlabelAlign: 'right',\n                \tlabelWidth: 70,\n                \twidth: 150,\n                \tvalue: 100,\n                \tincrement: 10,\n                \tminValue: 0,\n                \tmaxValue: 500,\n                \tlisteners: {\n                \t\tchangecomplete: function(slider, val) {\n                \t\t\tthis.getNetwork().physics.options.repulsion.nodeDistance = val;\n                \t\t\tthis.getNetwork().startSimulation();\n                \t\t},\n                \t\tscope: this\n                \t}\n                },{\n                \txtype: 'slider',\n                \tfieldLabel: this.localize('stiffness'),\n                \tlabelAlign: 'right',\n                \tlabelWidth: 70,\n                \twidth: 150,\n                \tvalue: 4,\n                \tincrement: 1,\n                \tminValue: 0,\n                \tmaxValue: 10,\n                \tlisteners: {\n                \t\tchangecomplete: function(slider, val) {\n                \t\t\tval /= 100;\n                \t\t\tthis.getNetwork().physics.options.repulsion.springConstant = val;\n                \t\t\tthis.getNetwork().startSimulation();\n                \t\t},\n                \t\tscope: this\n                \t}\n                },{\n                \txtype: 'slider',\n                \tfieldLabel: this.localize('friction'),\n                \tlabelAlign: 'right',\n                \tlabelWidth: 55,\n                \twidth: 150,\n                \tvalue: 9,\n                \tincrement: 10,\n                \tminValue: 0,\n                \tmaxValue: 100,\n                \tlisteners: {\n                \t\tchangecomplete: function(slider, val) {\n                \t\t\tval /= 100;\n                \t\t\tthis.getNetwork().physics.options.repulsion.damping = val;\n                \t\t\tthis.getNetwork().startSimulation();\n                \t\t},\n                \t\tscope: this\n                \t}\n                }]\n            }]\n        });\n        \n        this.on('loadedCorpus', function(src, corpus) {\n        \tif (corpus.getDocumentsCount()==1) {\n        \t\tthis.setApiParam(\"minEdgeCount\", 1);\n        \t}\n        \tthis.getEntities();\n        }, this);\n        \n        this.on('resize', function(panel, width, height) {\n\n\t\t}, this);\n        \n        me.callParent(arguments);\n    },\n    \n    getEntities: function() {\n    \tvar corpusId = this.getCorpus().getId();\n    \tvar el = this.getLayout().getRenderTarget();\n    \tel.mask(this.localize('loadingEntities'));\n    \tExt.Ajax.request({\n    \t\turl: this.getApplication().getTromboneUrl(),\n    \t\tmethod: 'POST',\n    \t\tparams: {\n    \t\t\ttool: 'corpus.EntityCollocationsGraph',\n    \t\t\ttype: this.getApiParam('type'),\n    \t\t\tlimit: this.getApiParam('limit'),\n    \t\t\tminEdgeCount: this.getApiParam(\"minEdgeCount\"),\n    \t\t\tcorpus: corpusId\n\t\t\t},\n\t\t\ttimeout: 60000,\n    \t\tsuccess: function(response) {\n    \t\t\tel.unmask();\n    \t\t\tvar obj = Ext.decode(response.responseText);\n    \t\t\tif (obj.entityCollocationsGraph.edges.length==0) {\n    \t\t\t\tthis.showError({msg: this.localize('noEntities')});\n    \t\t\t\tExt.Msg.confirm(this.localize('error'), this.localize('noEntitiesForEdgeCount'), function(button) {\n    \t\t\t\t\tif (button === 'yes') {\n    \t\t\t\t\t\tvar newEdgeCount = Math.max(1, this.getApiParam('minEdgeCount')-1);\n    \t\t\t\t\t\tthis.queryById('minEdgeCount').setRawValue(newEdgeCount);\n    \t\t\t\t\t\tthis.setApiParam('minEdgeCount', newEdgeCount);\n    \t\t\t\t\t\tthis.getEntities();\n    \t\t\t\t\t}\n    \t\t\t\t}, this);\n    \t\t\t}\n    \t\t\telse {\n        \t\t\tthis.processEntities(obj.entityCollocationsGraph);\n        \t\t\tthis.initGraph();\n    \t\t\t}\n    \t\t},\n    \t\tscope: this\n    \t});\n    },\n    \n    processEntities: function(entityParent) {\n    \tvar nodes = entityParent.nodes;\n    \tvar edges = entityParent.edges;\n    \t\n    \t// we need to calculate the font size because the scaling option doesn't seem to work as advertised\n    \tvar extent = d3.extent(nodes, function(node) {return node.rawFreq;});\n    \tvar min = extent[0];\n    \tvar max = extent[1];    \t\n    \tvar scaleFont = d3.scaleLinear()\n                    .domain([min, max])\n                    .range([10, 24]);\n    \t\n    \tvar visNodes = [];\n    \tfor (var i = 0; i < nodes.length; i++) {\n    \t\tvar n = nodes[i];\n    \t\tn.id = i;\n    \t\tvisNodes.push({id: i, label: n.term, value: nodes[i].rawFreq, font: {size: scaleFont(n.rawFreq), color: this.categorizedNodeOptions[n.type].font.color}, type: n.type, rawFreq: n.rawFreq, title: n.term + (n.rawFreq ? ' ('+n.rawFreq+')':'')});\n    \t}\n    \t\n    \tthis.getNodesStore().loadData(nodes);\n    \t\n    \tvar visEdges = [];\n    \tfor (var i = 0; i < edges.length; i++) {\n    \t\tvar link = edges[i].nodes;\n    \t\tvisEdges.push({from: link[0], to: link[1], title: edges[i].count, value: 200*edges[i].count});\n    \t}\n    \t\n    \tthis.setNodesDataSet(new vis.DataSet(visNodes));\n    \tthis.setEdgesDataSet(new vis.DataSet(visEdges));\n    },\n    \n    initGraph: function() {\n    \tvar el = this.getLayout().getRenderTarget();\n    \tel.update(''); // clear\n    \t\n    \t// explicitly set dimensions\n    \tel.setWidth(el.getWidth());\n    \tel.setHeight(el.getHeight());\n\n    \tvar options = {\n\t\t\tinteraction: {\n    \t\t\thover: true,\n    \t\t\thoverConnectedEdges: true,\n    \t\t\tmultiselect: false\n    \t\t},\n    \t\tphysics: {\n    \t\t\tsolver: 'repulsion',\n    \t\t\trepulsion: {\n    \t\t\t\tcentralGravity: 0.1\n    \t\t\t}\n    \t\t},\n    \t\tnodes: this.nodeOptions,\n    \t\tedges: this.edgeOptions\n    \t};\n    \t\n    \t\n    \tvar network = new vis.Network(el.dom, {\n    \t\tnodes: this.getNodesDataSet(),\n    \t\tedges: this.getEdgesDataSet()\n    \t}, options);\n\n    \tif (this.getIsNetworkBounded()) {\n\t    \tnetwork.on('beforeDrawing', function (ctx) {\n\t    \t\tvar el = this.getLayout().getRenderTarget();\n\t    \t\tvar width = el.getWidth();\n\t    \t\tvar height = el.getHeight();\n\t    \t\t\n\t    \t    var nodePositions = network.getPositions();\n\t    \t    for (var id in nodePositions) {\n\t    \t    \tvar node = nodePositions[id];\n\t    \t    \tvar xy = network.canvasToDOM(node);\n\t    \t    \tvar boundedX = Math.max(0, Math.min(width, xy.x));\n\t    \t    \tvar boundedY = Math.max(0, Math.min(height, xy.y));\n\t    \t    \tvar bXY = network.DOMtoCanvas({x: boundedX, y: boundedY});\n\t    \t    \tnetwork.body.nodes[id].x = bXY.x;\n\t    \t    \tnetwork.body.nodes[id].y = bXY.y;\n\t    \t    }\n\t    \t}.bind(this));\n    \t}\n    \t\n    \tnetwork.on('selectNode', function(params) {\n    \t\tvar node = params.nodes[0];\n    \t\tthis.doNodeSelect(node);\n    \t}.bind(this));\n    \tnetwork.on('deselectNode', function(params) {\n    \t\tnetwork.unselectAll(); // need this due to our custom selecting code\n    \t\t\n    \t\tvar node = params.nodes[0];\n    \t\tif (node !== undefined) {\n    \t\t\t// select clicked node after deselection is finished\n    \t\t\tsetTimeout(this.doNodeSelect.bind(this), 5, node);\n    \t\t}\n    \t}.bind(this));\n    \tnetwork.on('selectEdge', function(params) {\n    \t\t// prevent edge selection\n    \t\tnetwork.unselectAll();\n    \t});\n    \t\n    \tthis.setNetwork(network);\n    },\n    \n    doNodeSelect: function(node) {\n\t\tvar term = this.getNodesDataSet().get(node).label;\n\t\tthis.dispatchEvent(\"termsClicked\", this, [term]);\n    \tvar network = this.getNetwork();\n\t\tvar nodes = network.getConnectedNodes(node);\n\t\tnodes.push(node);\n\t\tvar edges = network.getConnectedEdges(node);\n\t\t\n\t\t// custom selection to avoid selecting edges between the secondary/connected nodes\n\t\tnetwork.unselectAll();\n\t\tfor (var i = 0; i < nodes.length; i++) {\n\t\t\tvar n = nodes[i];\n\t\t\tvar nodeObj = network.body.nodes[n];\n\t\t\tnetwork.selectionHandler.selectObject(nodeObj, false);\n\t\t}\n\t\tfor (var i = 0; i < edges.length; i++) {\n\t\t\tvar e = edges[i];\n\t\t\tvar edgeObj = network.body.edges[e];\n\t\t\tnetwork.selectionHandler.selectObject(edgeObj, false);\n\t\t}\n\t\t\n\t\tnetwork.redraw(); // need to force redraw if coming from deselect\n    },\n    \n    categoriesHandler: function(item) {\n    \tvar categories = [];\n    \titem.up('menu').items.each(function(checkitem) {\n    \t\tif (checkitem.checked) {\n    \t\t\tcategories.push(checkitem.itemId);\n    \t\t}\n    \t});\n    \t\n    \tthis.setApiParam('type', categories);\n    \tthis.getEntities();\n    },\n    \n    map: function(value, istart, istop, ostart, ostop) {\n\t\treturn ostart + (ostop - ostart) * ((value - istart) / (istop - istart));\n\t}\n});","Ext.define('Voyant.panel.Loom', {\n    extend: 'Ext.panel.Panel',\n    mixins: ['Voyant.panel.Panel'],\n    alias: 'widget.loom',\n    statics: {\n        i18n: {\n        \ttitle: \"Loom\",\n        \tcontrols: \"Controls\",\n        \tfrequenciesGroup: \"Frequencies\",\n        \tcoverageGroup: \"Coverage\",\n        \tdistributionsGroup: \"Distribution\",\n        \ttermsGroup: \"Terms\",\n        \tinDocumentsLabel: \"in documents\",\n        \tinDocumentsLabelTip: \"each term must be present in the number of documents defined by this range\",\n        \tspanSomeLabel: \"some documents\",\n        \tspanSomeLabelTip: \"each term must be present in at least one document defined by this range\",\n        \tspanAllLabel: \"all documents\",\n        \tspanAllLabelTip: \"each term must be present in all documents defined by this range\",\n        \tspanOnlyLabel: \"only documents\",\n        \tspanOnlyLabelTip: \"each term must be present in only the documents defined by this range\",\n        \trawFreqLabel: \"raw frequency\",\n        \trawFreqLabelTip: \"raw term frequencies for the term must be between these values (inclusively)\",\n        \trawFreqPercentileLabel: \"raw frequency percentile\",\n        \trawFreqPercentileLabelTip: \"raw term frequencies for the term must be between these percentile values (inclusively), this is useful for saying something like terms in the top 90th percentile which will provide 10% of words regardless of the variation in values.\",\n        \tdistributionsStdDevLabel: \"standard deviation of distributions\",\n        \tdistributionsStdDevLabelTip: \"the standard deviation of term distribution scores must be between the defined range of values (lower will be for values that are more consistent, higher will be for values that have greater variability)\",\n        \tdistributionsStdDevPercentileLabel: \"percentile of standard deviations of distributions\",\n        \tdistributionsStdDevPercentileLabelTip: \"the percentile of standard deviations of distributions must be between the defined range of values (lower will be for values that are more consistent, higher will be for values that have greater variability)\",\n        \ttermsLengthLabel: \"term length\",\n        \ttermsLengthLabelTip: \"the length (number of characters) of the term (word)\",\n        \ttermsLengthPercentileLabel: \"term length percentile\",\n        \ttermsLengthPercentileLabelTip: \"the percentile of the length (number of characters) of the term (word)\",\n        \tdistributionIncreasesLabel: \"increases in distribution values\",\n        \tdistributionIncreasesLabelTip: \"the number of increases of the distribution values must be between the defined range (inclusively)\",\n        \tdistributionConsecutiveIncreasesLabel: \"consecutive decreases in distribution values\",\n        \tdistributionConsecutiveIncreasesLabelTip: \"the number of consecutive decreases of the distribution values must be between the defined range (inclusively)\",\n        \tdistributionDecreasesLabel: \"decreases in distribution values\",\n        \tdistributionDecreasesLabelTip: \"the number of decreases of the distribution values must be between the defined range (inclusively)\",\n        \tdistributionConsecutiveDecreasesLabel: \"consecutive decreases in distribution values\",\n        \tdistributionConsecutiveDecreasesLabelTip: \"the number of consecutive decreases of the distribution values must be between the defined range (inclusively)\",\n        \tdistributionMaxLabel: \"distribution maximum\",\n        \tdistributionMaxLabelTip: \"the maximum of the distribution values must be between the defined range (inclusively)\",\n        \tdistributionMinLabel: \"distribution minimum\",\n        \tdistributionMinLabelTip: \"the minimum of the distribution values must be between the defined range (inclusively)\",\n        \tpresetsGroup: \"pre-sets\",\n        \tpresetHighFreq: \"terms that are high frequency\",\n        \tpresetHighFreqLonger: \"terms that are longer and high frequency\",\n        \tpresetSingleDoc: \"higher frequency terms that only occur once\",\n        \tpresetIncreaseDistributions: \"terms that generally increase in frequency\",\n        \tpresetDecreaseDistributions: \"terms that generally decrease in frequency \",\n        \tpresetNearStartDistributions: \"terms that peak in distribution toward the beginning \",\n        \tpresetNearEndDistributions: \"terms that peak in distribution toward the end \",\n        \tpresetSporadicDistributions: \"terms whose distributions vary the most\",\n        \tvisibleTerms: \"max terms\",\n        \tscaling: \"scaling\",\n        \tscaleLinear: \"linear\",\n        \tscaleLog: \"logarithmic\",\n        \tscaleSqrt: \"square root\"\n        \t\n        },\n        api: {\n            limit: 500,\n            stopList: 'auto',\n            inDocuments: undefined,\n            spanSome: undefined,\n            spanAll: undefined,\n            spanOnly: undefined,\n            termLength: undefined,\n            termsLengthPercentile: undefined,\n            rawFreq: undefined,\n            rawFreqPercentile: undefined,\n            distributionsStdDev: undefined,\n            distributionsStdDevPercentile: undefined,\n            distributionIncreases: undefined,\n            distributionDecreases: undefined,\n            distributionConsecutiveIncreases: undefined,\n            distributionConsecutiveDecreases: undefined,\n            distributionMax: undefined,\n            distributionMin: undefined,\n            scaling: 'linear'\n        },\n        glyph: 'xf1e0@FontAwesome'\n    },\n    \n    config: {\n    \tstore: undefined,\n    \tterms: undefined,\n    \toptions: [\n    \t\t{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}\n    \t],\n    \tcontrols: undefined\n    },\n\n\n    constructor: function(config) {\n        this.callParent(arguments);\n        this.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n        \n    initComponent: function() {\n    \t\n        this.mixins['Voyant.util.Api'].constructor.apply(this, arguments); // we need api\n        \n    \tvar controls = new Ext.util.MixedCollection({\n    \t\tallowFunctions: true\n    \t});\n    \tcontrols.addAll({\n    \t\tinDocuments: new Voyant.util.LoomControl({\n\t    \t\tgroup: 'coverage',\n\t    \t\tname: 'inDocuments',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMin(1);\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar count = record.getDistributions().filter(function(val) {return val>0}).length;\n\t        \t\treturn count >= this.getLow() && count <= this.getHigh();\n\t        \t}\n    \t\t}),\n    \t\tspanSome :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'coverage',\n\t    \t\tname: 'spanSome',\n\t    \t\toffsetTipText: true,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length-1);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions();\n\t        \t\tfor (var i=low; i<high+1; i++) {\n\t        \t\t\tif (vals[i]>0) {return true}\n\t        \t\t}\n\t        \t\treturn false;\n\t        \t}\n    \t\t}),\n    \t\tspanAll :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'coverage',\n\t    \t\tname: 'spanAll',\n\t    \t\toffsetTipText: true,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length-1);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions();\n\t        \t\tfor (var i=low; i<high+1; i++) {\n\t        \t\t\tif (vals[i]==0) {return false}\n\t        \t\t}\n\t        \t\treturn true;\n\t        \t}\n    \t\t}),\n    \t\tspanOnly :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'coverage',\n\t    \t\tname: 'spanOnly',\n\t    \t\toffsetTipText: true,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length-1);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions();\n\t        \t\tfor (var i=0; i<vals.length; i++) {\n\t        \t\t\tif (i<low || i>high) {\n\t        \t\t\t\tif (vals[i]>0) {return false}\n\t        \t\t\t} else {\n\t        \t\t\t\tif (vals[i]==0) {return false}\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\treturn true;\n\t        \t}\n    \t\t}),\n    \t\trawFreq :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'frequencies',\n\t    \t\tname: 'rawFreq',\n\t    \t\toffsetTipText: true,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tvar vals = store.getRange().map(function(r) {return r.get('rawFreq')});\n\t    \t\t\tthis.setMin(Ext.Array.min(vals))\n\t    \t\t\tthis.setMax(Ext.Array.max(vals))\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), val = record.get(\"rawFreq\");\n\t        \t\treturn val>=low && val <= high;\n\t        \t}\n    \t\t}),\n    \t\trawFreqPercentile :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'frequencies',\n\t    \t\tname: 'rawFreqPercentile',\n\t    \t\tmin: 0,\n\t    \t\tmax: 100,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.vals = store.getRange().map(function(r) {return r.get('rawFreq')});\n\t    \t\t\tthis.vals.sort(function (a, b) {  return a - b;  });\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(),\n\t        \t\t\tind = Ext.Array.indexOf(this.vals, record.get(\"rawFreq\")),\n\t        \t\t\tval = Math.round(ind*100/this.vals.length)\n\t        \t\treturn val>=low && val <= high;\n\t        \t}\n    \t\t}),\n    \t\tdistributionsStdDev :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'frequencies',\n\t    \t\tname: 'distributionsStdDev',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tvar allvals = Ext.Array.flatten(store.getRange().map(function(r) {return r.getDistributions()}));\n\t    \t\t\t// we'll scale to all available distributions, otherwise we're not making similar comparisons\n\t    \t\t\tvar scale = d3.scaleLinear().domain([d3.min(allvals),d3.max(allvals)]).range([0,100]);\n\t    \t\t\tstore.each(function(record) {\n\t    \t\t\t\tif (record.get(\"distributionsStdDev\")===undefined) {\n\t    \t\t\t\t\t// https://derickbailey.com/2014/09/21/calculating-standard-deviation-with-array-map-and-array-reduce-in-javascript/\n\t    \t\t\t\t\t// https://gist.github.com/Daniel-Hug/7273430\n\t\t    \t\t\t\tvar vals = record.getDistributions();\n\t\t    \t\t\t\tvar scaledVals = vals.map(function(v) {return scale(v)});\n\t\t    \t\t\t\tvar avg = Ext.Array.mean(scaledVals);\n\t\t\t\t\t\t\tvar squareDiffs = vals.map(function(value){\n\t\t\t\t\t\t\t\t    var diff = value - avg;\n\t\t\t\t\t\t\t\t    var sqrDiff = diff * diff;\n\t\t\t\t\t\t\t\t    return sqrDiff;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar avgSquareDiff = Ext.Array.mean(squareDiffs);\n\t\t\t\t\t\t\tvar stdDev = Math.sqrt(avgSquareDiff);\n\t\t\t\t\t\t\trecord.set(\"distributionsStdDev\", stdDev);\n\t    \t\t\t\t}\n\t    \t\t\t})\n\t    \t\t\tvar vals = store.getRange().map(function(r) {return r.get('distributionsStdDev')});\n\t    \t\t\tthis.setMin(Ext.Array.min(vals))\n\t    \t\t\tthis.setMax(Ext.Array.max(vals))\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(),\n\t        \t\t\tval = record.get(\"distributionsStdDev\");\n\t        \t\treturn val>=low && val <= high;\n\t        \t}\n    \t\t}),\n    \t\tdistributionsStdDevPercentile :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'frequencies',\n\t    \t\tname: 'distributionsStdDevPercentile',\n\t    \t\tmin: 0,\n\t    \t\tmax: 100,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.vals = store.getRange().map(function(r) {return r.get('distributionsStdDev')});\n\t    \t\t\tthis.vals.sort(function (a, b) {  return a - b;  });\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(),\n        \t\t\t\tind = Ext.Array.indexOf(this.vals, record.get(\"distributionsStdDev\")),\n        \t\t\t\tval = Math.round(ind*100/this.vals.length)\n        \t\t\treturn val>=low && val <= high;\n\t        \t}\n    \t\t}),\n    \t\ttermsLength :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'terms',\n\t    \t\tname: 'termsLength',\n\t    \t\toffsetTipText: true,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tvar vals = store.getRange().map(function(r) {return r.get('term').length});\n\t    \t\t\tthis.setMin(Ext.Array.min(vals))\n\t    \t\t\tthis.setMax(Ext.Array.max(vals))\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), val = record.get(\"term\").length;\n\t        \t\treturn val>=low && val <= high;\n\t        \t}\n    \t\t}),\n    \t\ttermsLengthPercentile :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'terms',\n\t    \t\tname: 'termsLengthPercentile',\n\t    \t\tmin: 0,\n\t    \t\tmax: 100,\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.vals = store.getRange().map(function(r) {return r.get('term').length});\n\t    \t\t\tthis.vals.sort(function (a, b) {  return a - b;  });\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(),\n        \t\t\t\tind = Ext.Array.indexOf(this.vals, record.get(\"term\").length),\n        \t\t\t\tval = Math.round(ind*100/this.vals.length)\n        \t\t\treturn val>=low && val <= high;\n\t        \t}\n    \t\t}),\n    \t\tdistributionIncreases :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'distributions',\n\t    \t\tname: 'distributionIncreases',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions();\n\t        \t\tvar increases = 0;\n\t        \t\tfor (var i=1;i<vals.length;i++) {\n\t        \t\t\tif (vals[i]>vals[i-1]) {\n\t        \t\t\t\tincreases++;\n\t        \t\t\t\tif (increases>high) {return false}\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\treturn increases>=low;\n\t        \t}\n    \t\t}),\n    \t\tdistributionConsecutiveIncreases :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'distributions',\n\t    \t\tname: 'distributionConsecutiveIncreases',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions();\n\t        \t\tvar increases = 0;\n\t        \t\tfor (var i=1;i<vals.length;i++) {\n\t        \t\t\tif (vals[i]>vals[i-1]) {\n\t        \t\t\t\tincreases++;\n\t        \t\t\t\tif (increases>high) {return false}\n\t        \t\t\t} else {\n\t        \t\t\t\tincreases=0;\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\treturn increases>=low;\n\t        \t}\n    \t\t}),\n    \t\tdistributionDecreases :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'distributions',\n\t    \t\tname: 'distributionDecreases',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions();\n\t        \t\tvar decreases = 0;\n\t        \t\tfor (var i=1;i<vals.length;i++) {\n\t        \t\t\tif (vals[i]<vals[i-1]) {\n\t        \t\t\t\tdecreases++;\n\t        \t\t\t\tif (decreases>high) {return false}\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\treturn decreases>=low;\n\t        \t}\n    \t\t}),\n    \t\tdistributionConsecutiveDecreases :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'distributions',\n\t    \t\tname: 'distributionConsecutiveDecreases',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions();\n\t        \t\tvar decreases = 0;\n\t        \t\tfor (var i=1;i<vals.length;i++) {\n\t        \t\t\tif (vals[i]<vals[i-1]) {\n\t        \t\t\t\tdecreases++;\n\t        \t\t\t\tif (decreases>high) {return false}\n\t        \t\t\t} else {\n\t        \t\t\t\tdecreases = 0;\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\treturn decreases>=low;\n\t        \t}\n    \t\t}),\n    \t\tdistributionMax :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'distributions',\n\t    \t\tname: 'distributionMax',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions(), val = Ext.Array.max(vals);\n\t        \t\tfor (var i=low;i<high;i++) { // look at every value in case there are duplicate values\n\t        \t\t\tif (vals[i]==val) {return true}\n\t        \t\t}\n\t        \t\treturn false;\n\t        \t}\n    \t\t}),\n    \t\tdistributionMin :new Voyant.util.LoomControl({\n\t    \t\tgroup: 'distributions',\n\t    \t\tname: 'distributionMin',\n\t    \t\tinitControl: function(store) {\n\t    \t\t\tthis.setMax(store.getAt(0).getDistributions().length);\n\t        \t},\n\t        \tvalidateRecord: function(record) {\n\t        \t\tvar low = this.getLow(), high = this.getHigh(), vals = record.getDistributions(), val = Ext.Array.min(vals);\n\t        \t\tfor (var i=low;i<high;i++) { // look at every value in case there are duplicate values\n\t        \t\t\tif (vals[i]==val) {return true}\n\t        \t\t}\n\t        \t\treturn false;\n\t        \t}\n    \t\t})\n    \t});\n\n    \tcontrols.each(function(control) {\n    \t\tvar val = this.getApiParam(control.getName()), vals = (val || \"\").split(\",\");\n    \t\tcontrol.setEnabled(val!==undefined);\n    \t\tif (vals.length==2) {\n    \t\t\tcontrol.setLow(parseInt(vals[0]))\n    \t\t\tcontrol.setHigh(parseInt(vals[1]))\n    \t\t}\n    \t\tcontrol.on(\"change\", function(control) {\n    \t\t\tif (control.getEnabled()) {\n    \t\t\t\tthis.setApiParam(control.getName(), control.getLow()+\",\"+control.getHigh());\n    \t\t\t} else {\n    \t\t\t\tthis.setApiParam(control.getName(), undefined);\n    \t\t\t}\n    \t\t\tthis.filterRecords();\n    \t\t}, this);\n    \t}, this);\n\n    \tthis.setControls(controls);\n    \t\n    \t// used below in preset handlers\n    \tvar me = this;\n    \tvar clearApiParamsForControls = function() {\n    \t\tvar currentParams = me.getApiParams();\n    \t\tvar params = {};\n    \t\tme.controls.each(function(control) {\n    \t\t\tcontrol.setEnabled(false, true);\n    \t\t\tvar name = control.getName();\n    \t\t\tif (name in currentParams) {\n    \t\t\t\tme.setApiParam(name, undefined)\n    \t\t\t}\n    \t\t})\n    \t}\n\n    \t\n    \tvar tbitems = [{\n    \t\ttext: this.localize(\"presetsGroup\"),\n    \t\tmenu: {\n    \t\t\titems: [{\n    \t\t\t\ttext: this.localize('presetHighFreq'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t    \tthis.filterRecords();\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t},{\n    \t\t\t\ttext: this.localize('presetHighFreqLonger'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t\t\tthis.controls.getByKey(\"termsLengthPercentile\").setEnabled(true, true).setValues(50,100, true);\n    \t\t\t\t\tthis.controls.getByKey(\"rawFreqPercentile\").setEnabled(true, true).setValues(50,100);\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t},{\n    \t\t\t\ttext: this.localize('presetSingleDoc'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t\t\tthis.controls.getByKey(\"inDocuments\").setEnabled(true, true).setValues(1,1);\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t},{\n    \t\t\t\ttext: this.localize('presetIncreaseDistributions'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t\t\tvar control = this.controls.getByKey(\"distributionIncreases\");\n    \t\t\t\t\tvar max = control.getMax();\n    \t\t\t\t\tcontrol.setEnabled(true, true).setValues(Math.round(max*.75),max);\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t},{\n    \t\t\t\ttext: this.localize('presetDecreaseDistributions'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t\t\tvar control = this.controls.getByKey(\"distributionDecreases\");\n    \t\t\t\t\tvar max = control.getMax();\n    \t\t\t\t\tcontrol.setEnabled(true, true).setValues(Math.round(max*.75),max);\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t},{\n    \t\t\t\ttext: this.localize('presetNearStartDistributions'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t\t\tvar control = this.controls.getByKey(\"distributionMax\");\n    \t\t\t\t\tvar max = control.getMax();\n    \t\t\t\t\tcontrol.setEnabled(true, true).setValues(0, Math.round(max*.2));\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t},{\n    \t\t\t\ttext: this.localize('presetNearEndDistributions'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t\t\tvar control = this.controls.getByKey(\"distributionMax\");\n    \t\t\t\t\tvar max = control.getMax();\n    \t\t\t\t\tcontrol.setEnabled(true, true).setValues(Math.round(max*.8), max);\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t},{\n    \t\t\t\ttext: this.localize('presetSporadicDistributions'),\n    \t\t\t\thandler: function() {\n    \t\t\t\t\tclearApiParamsForControls();\n    \t\t\t\t\tthis.controls.getByKey(\"distributionsStdDevPercentile\").setEnabled(true, true).setValues(80, 100);\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t}]\n    \t\t}\n    \t}, {\n    \t\txtype: 'tbspacer'\n    \t}];\n    \t[\"frequencies\",\"coverage\",\"distributions\",\"terms\"].map(function(group) {\n    \t\ttbitems.push({\n    \t\t\ttext: this.localize(group+\"Group\"),\n    \t\t\tmenu: {\n    \t\t\t\titems: controls.filterBy(function(control) {return control.getGroup()==group}).getRange().map(function(control) {\n    \t\t\t\t\treturn {\n    \t\t\t\t\t\txtype: 'menucheckitem',\n    \t\t\t\t\t\tchecked: control.getEnabled(),\n\t\t\t\t\t\t\ttext: this.localize(control.getName()+\"Label\"),\n\t\t\t\t\t\t\ttooltip: this.localize(control.getName()+\"LabelTip\"),\n\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\tbeforerender: function(cmp) {\n\t\t\t\t\t\t\t\t\tcmp.setChecked(control.getEnabled());\n\t\t\t\t\t\t\t\t\tcontrol.on(\"change\", function() {\n\t\t\t\t\t\t\t\t\t\tcmp.setChecked(control.getEnabled());\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tclick: function(cmp) {\n\t\t\t\t\t\t\t\t\tcontrol.setEnabled(cmp.checked)\n\t\t\t\t\t\t\t\t\tcmp.getMenu().setDisabled(!cmp.checked)\n\t\t\t\t\t\t\t\t\tif (cmp.checked) {cmp.getMenu().show();}\n\t\t\t\t\t\t\t\t\telse {cmp.getMenu().hide()}\n\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t},\n\t\t\t\t\t\t\tmenu: {\n\t\t\t\t\t\t\t\tdisabled: !control.getEnabled(),\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype: 'multislider',\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\tminValue: control.getMin() || 0,\n\t\t\t\t\t\t\t\t\tmaxValue: control.getMax() || 0,\n\t\t\t\t\t\t\t\t\tvalues: [(control.getLow() || 0), (control.getHigh() || 0)],\n\t\t\t\t\t\t\t\t\ttipText: function(t) {\n\t\t\t\t\t\t\t\t\t\treturn control.getOffsetTipText() ? t.value+1 : t.value;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tlisteners: {\n    \t\t\t\t\t\t\t\t\tbeforerender: function(slider) {\n    \t\t\t\t\t\t\t\t\t\tslider.updateFromControl(control);\n    \t\t\t\t\t\t\t\t\t\tcontrol.on(\"change\", function() {\n    \t\t\t\t\t\t\t\t\t\t\tslider.updateFromControl(control);\n    \t\t\t\t\t\t\t\t\t\t})\n    \t\t\t\t\t\t\t\t\t},\n    \t\t\t\t\t\t\t\t\tchangecomplete: function(slider) {\n    \t\t\t\t\t\t\t\t\t\tcontrol.setValues(slider.getValues());\n    \t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tupdateFromControl: function(control) {\n\t\t\t\t\t\t\t\t\t\tthis.setMinValue(control.getMin() || 0);\n\t\t\t\t\t\t\t\t\t\tthis.setMaxValue(control.getMax());\n\t\t\t\t\t\t\t\t\t\tthis.setValue(0, control.getLow() || 0)\n\t\t\t\t\t\t\t\t\t\tthis.setValue(1, control.getHigh()===undefined ? (control.getMax() || 0) : control.getHigh())\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t}, this)\n    \t\t\t}\n    \t\t});\n    \t}, this);\n    \t\n        Ext.apply(this, {\n            title: this.localize('title'),\n            layout: {\n            \ttype: 'hbox',\n            \talign: 'stretch'\n            },\n            listeners: {\n            \tafterrender: function() {\n            \t\tvar terms = this.getComponent(\"terms\"), threads = this.getComponent(\"threads\");\n            \t\t\n            \t\t// this is a quick and dirty implementation to mirror actions in the terms panel to the threads panel,\n            \t\t// but it should probably redone locally to the threads logic and using the tips\n            \t\tterms.on(\"termHovered\", function(src, term) {\n            \t\t\tvar thick = threads.getTargetEl().dom.querySelector(\"path[term=\"+term+\"]\");\n            \t\t\tif (thick) {\n                \t\t\tvar fadeIt = function(node, time) {\n                \t\t\t\topacity = node.getAttribute(\"opacity\");\n                \t\t\t\tif (opacity>0) {\n                \t\t\t\t\topacity-=.01;\n                \t\t\t\t\tnode.setAttribute(\"opacity\", opacity)\n                \t\t\t\t\ttime=time/2\n                \t\t\t\t\tExt.defer(fadeIt, time, this, [node, time]);\n                \t\t\t\t}\n                \t\t\t}   \n                \t\t\tthick.setAttribute(\"opacity\", 1);\n                \t\t\tfadeIt(thick, 1000);\n            \t\t\t}\n            \t\t})\n            \t}\n            },\n            items: [{\n            \titemId: 'terms',\n            \twidth: 100,\n            \tlayout: 'fit',\n            \tlisteners: {\n            \t\tfilterchange: function(store) {\n            \t\t\tvar el = this.getTargetEl(), width = el.getWidth(), height = el.getHeight(), len = store.getCount();\n            \t\t\tel.setHtml(\" \")\n            \t\t\tterms = store.getRange().map(function(r,i) {\n            \t\t\t\treturn {\n            \t\t\t\t\tterm: r.getTerm(),\n            \t\t\t\t\tcol: Voyant.application.getColorForTerm(r.getTerm(), true),\n            \t\t\t\t\tx: width/2,\n            \t\t\t\t\ty: i*height/len\n            \t\t\t\t}\n            \t\t\t});\n            \t\t\tterms.sort(function(a, b) {return a.term.localeCompare(b.term)});\n            \t\t\t\n            \t\t\t// attempts to use fisheye code failed with larger number or words http://bl.ocks.org/jczaplew/8603055\n\n            \t\t\t\n            \t\t\t\n          \t\t\t  var svg = d3.select(el.dom).append(\"svg\")\n      \t\t\t    .attr(\"width\", width)\n      \t\t\t    .attr(\"height\", height)\n      \t\t\t  .append(\"g\")\n      \t\t\t    .attr(\"transform\", \"translate(-.5,-.5)\");\n          \t\t\t  \n          \t\t\tvar textHeight = Math.ceil(height/terms.length);\n        \t\t\t  var text = svg.selectAll(\"ytext\")\n      \t\t\t    .data(terms)\n      \t\t\t  .enter().append(\"text\")\n      \t\t\t    .text(function(d,i){return d.term})\n      \t\t\t    .attr(\"class\", \"ytext\") \n      \t\t\t    .attr(\"text-anchor\", \"middle\")\n    \t\t\t  \t.attr(\"x\", width/2)\n    \t\t\t  \t.attr(\"y\", function(t, i) {return textHeight*i})\n      \t\t\t    .attr(\"fill\", function(d) {return Voyant.application.getColorForTerm(d.term, true)})\n\n            \t\t\tvar textHeight = Math.ceil(height/terms.length);\n\n            \t\t\t\n            \t\t\tvar fisheye = d3.fisheye.circular()\n\t            \t\t    .radius(50)\n\t            \t\t    .distortion(2);\n            \t\t\t\n            \t\t\tyFisheye = d3.fisheye.scale(d3.scaleIdentity).domain([0, height]);\n            \t\t\t\n            \t\t\tvar me = this;\n            \t\t\tsvg.on(\"mousemove\", function() {\n            \t\t\t\tvar mouse = d3.mouse(this);\n            \t\t\t\t\tcurrentItem = Math.round(mouse[1]*terms.length/height),\n            \t\t\t\t\tcurrentItem = Math.min(currentItem, terms.length-1);\n            \t\t\t\tfisheye.focus(mouse[1]);\n            \t\t\t\tyFisheye.focus(mouse[1]);\n            \t\t\t\t\n            \t\t\tvar nodes = text.nodes();\n            \t\t\tif (nodes[currentItem]) {\n                \t\t\tme.fireEvent(\"termHovered\", me, nodes[currentItem].textContent)\n            \t\t\t}\n            \t\t\t\n            \t\t\tvar fs = 14, y=Math.max(mouse[1],fs), fo=1;\n            \t\t\td3.select(nodes[currentItem])\n            \t\t\t\t.attr(\"y\", function(d) { return y })\n            \t\t\t\t.attr(\"font-size\", fs)\n            \t\t\t\t.attr(\"fill-opacity\", fo)\n            \t\t\t\t\n            \t\t\tvar yin = undefined;\n            \t\t\tfor (var i=currentItem-1;i>-1;i--) {\n            \t\t\t\tif (fs>=8) {\n            \t\t\t\t\ty-=fs\n            \t\t\t\t\tfs-=.5\n            \t\t\t\t} else {\n            \t\t\t\t\tif (yin==undefined) {\n            \t\t\t\t\t\tyin = y/i\n            \t\t\t\t\t}\n            \t\t\t\t\ty-=yin;\n            \t\t\t\t}\n            \t\t\t\tif (fo>.1) {fo-=.05}\n                \t\t\td3.select(nodes[i])\n            \t\t\t\t.attr(\"y\", function(d) { return y })\n            \t\t\t\t.attr(\"font-size\", fs)\n            \t\t\t\t.attr(\"fill-opacity\", fo)\n            \t\t\t}\n            \t\t\t\n            \t\t\tfs = 14, y=Math.max(mouse[1],fs), fo=1, yin=undefined;\n            \t\t\t\n\n            \t\t\tfor (var i=currentItem+1,len=terms.length;i<len;i++) {\n            \t\t\t\tif (fs>=8) {\n            \t\t\t\t\ty+=fs\n            \t\t\t\t\tfs-=.5\n            \t\t\t\t} else {\n            \t\t\t\t\tif (yin==undefined) {\n            \t\t\t\t\t\tyin = (height-y)/(len-i)\n            \t\t\t\t\t}\n            \t\t\t\t\ty+=yin;\n            \t\t\t\t}\n            \t\t\t\tif (fo>.1) {fo-=.05}\n                \t\t\td3.select(nodes[i])\n            \t\t\t\t.attr(\"y\", function(d) { return y })\n            \t\t\t\t.attr(\"font-size\", fs)\n            \t\t\t\t.attr(\"fill-opacity\", fo)\n            \t\t\t}\n\n            \t\t\t})\n\n            \t\t}\n            \t}\n            },{\n            \titemId: 'threads',\n//                html: '<canvas></canvas>',\n                layout: 'fit',\n                flex: 1,\n                listeners: {\n//                \tboxready: function() {\n//                \t\tthis.body.down(\"canvas\").dom.width=this.getTargetEl().getWidth();\n//                \t\tthis.body.down(\"canvas\").dom.height=this.getTargetEl().getHeight();\n//                \t},\n            \t\tfilterchange: function(store) {\n            \t\t\tvar el = this.getTargetEl(), width = el.getWidth(), height = el.getHeight();\n            \t\t\tel.setHtml(\" \"); // empty\n            \t\t\tterms = store.getRange().map(function(r) {return {\n            \t\t\t\tterm: r.getTerm(),\n            \t\t\t\tvals: r.getDistributions()\n            \t\t\t}})\n            \t\t\tvar svg = d3.select(el.dom).append(\"svg\")\n            \t\t      .attr(\"width\", el.getWidth())\n            \t\t      .attr(\"height\", el.getHeight());\n            \t\t\t\n            \t\t\tif (terms.length==0) {\n            \t\t\t\treturn this.up(\"panel\").toastInfo(\"No hits\")\n            \t\t\t}\n            \t\t\t\n            \t\t\tvar xincrement = width/terms[0].vals.length;\n            \t\t\t\n            \t\t\tvar scale, scaleApi = this.up('loom').getApiParam(\"scaling\");\n            \t\t\tif (scaleApi==\"sqrt\") {scale = d3.scaleSqrt()}\n            \t\t\telse if (scaleApi==\"log\") {scale = d3.scaleLog();}\n            \t\t\telse {scale = d3.scaleLinear();}\n            \t\t\t\n            \t\t\tvar yscale = scale\n            \t\t\t\t.domain([\n            \t\t\t\t\tMath.max(1e-6, Ext.Array.min(terms.map(function(t) {return Ext.Array.min(t.vals)}))),\n            \t\t\t\t\tMath.max(1e-6, Ext.Array.max(terms.map(function(t) {return Ext.Array.max(t.vals)})))\n            \t\t\t\t\t]).range([1e-6, height-2]);\n            \t\t\t\n//            \t\t\tconsole.warn(\n//            \t\t\t\t\tMath.max(1e-6, Ext.Array.min(terms.map(function(t) {return Ext.Array.min(t.vals)}))),\n//            \t\t\t\t\tMath.max(1e-6, Ext.Array.max(terms.map(function(t) {return Ext.Array.max(t.vals)})))\n//            \t\t\t\t\t);\n            \t\t\t\n            \t\t\tvar valueline = d3.line()\n            \t\t\t\t.curve(d3.curveCardinal)\n\t            \t\t    .x(function(d, i) { return (xincrement/2)+(xincrement*i)})\n\t            \t\t    .y(function(d) { return height-1-yscale(d)});\n            \t\t\t\n        \t\t\t    var tooltip = svg.append(\"g\")\n        \t\t\t    \t.attr(\"opacity\", 0);\n        \t\t\t    \n        \t\t\t    var tooltipbox = tooltip.append(\"rect\")\n        \t\t\t    \t.attr(\"fill\", \"white\")\n        \t\t\t    \t.attr(\"text-anchor\", \"middle\")\n        \t\t\t    \t.attr(\"alignment-baseline\", \"middle\")\n        \t\t\t    \t.attr(\"stroke\", \"rgba(0,0,0,.05)\")\n        \t\t\t    \t.attr(\"class\", \"rect\")\n        \t\t\t    \t.attr(\"x\", 100)\n        \t\t\t    \t.attr(\"y\", 100)\n        \t\t\t    \t.attr(\"width\", 70)\n        \t\t\t    \t.attr(\"height\", 16)\n        \t\t\t    \t.attr(\"opacity\", 1)\n        \t\t\t    \t\n        \t\t\t    var tooltiptext = tooltip\n        \t\t\t    \t.append(\"text\")\n        \t\t\t    \t.attr(\"text-anchor\", \"middle\")\n        \t\t\t    \t.attr(\"alignment-baseline\", \"middle\")\n        \t\t\t    \t.attr(\"x\", 100)\n        \t\t\t    \t.attr(\"y\", 100)\n//        \t\t\t    \t.attr(\"width\", 100)\n//        \t\t\t    \t.attr(\"height\", 12)\n        \t\t\t    \t.text(\"testing\")\n\n            \t\t\tterms.forEach(function(term) {\n            \t\t\t\tvar color = Voyant.application.getColorForTerm(term.term, true)\n            \t\t\t\t\n            \t\t\t\t// draw a first line, always visible\n            \t\t\t\tsvg.append(\"path\")\n            \t\t\t      .datum(term.vals)\n\t\t\t\t\t\t      .attr(\"fill\", \"none\")\n\t\t\t\t\t\t      .attr(\"stroke\", color)\n\t\t\t\t\t\t      .attr(\"opacity\", .5)\n\t\t\t\t\t\t      .attr(\"stroke-linejoin\", \"round\")\n\t\t\t\t\t\t      .attr(\"stroke-linecap\", \"round\")\n\t\t\t\t\t\t      .attr(\"stroke-width\", 1)\n\t\t\t\t\t\t      .attr(\"class\", \"line\")\n            \t\t\t      .attr(\"d\", valueline)\n\n            \t\t\t\t\n            \t\t\t    // draw a second line to make it easier to hover (line width 1 is harder to find)\n            \t\t\t\tsvg.append(\"path\")\n            \t\t\t      .datum(term.vals)\n\t\t\t\t\t\t      .attr(\"fill\", \"none\")\n\t\t\t\t\t\t      .attr(\"stroke\", color)\n\t\t\t\t\t\t      .attr(\"opacity\", 0)\n\t\t\t\t\t\t      .attr(\"stroke-width\", 3)\n\t\t\t\t\t\t      .attr(\"class\", \"line\")\n            \t\t\t      .attr(\"term\", term.term)\n            \t\t\t      .attr(\"d\", valueline)\n\t\t\t\t\t\t      .on('mouseover', function() { // on mouse out hide line, circles and text\n\t\t\t\t\t\t    \t  d3.select(this)\n\t\t\t\t\t\t    \t  \t.attr(\"opacity\", 1);\n\t\t\t\t\t\t    \t  \n\t\t\t\t\t\t    \t  var coords = d3.mouse(this);\n\t\t\t\t\t\t    \t  \n\t\t\t\t\t\t    \t  tooltip\n\t\t\t\t\t\t    \t  \t.attr(\"opacity\", 1)\n\t\t\t\t\t\t    \t  \t\n\t\t\t\t\t\t    \t  tooltipbox\n\t\t\t\t\t\t    \t  \t.attr(\"x\", coords[0]-35)\n\t\t\t\t\t\t    \t  \t.attr(\"y\", coords[1] -8+ (coords[1]>height/2 ? -18 : 18))\n\t\t\t\t\t\t\t    \t \n\t\t\t\t\t\t    \t  tooltiptext\n\t\t\t\t\t\t\t    \t  \t.text(term.term)\n\t\t\t\t\t\t\t    \t  \t.attr(\"fill\", color)\n\t\t\t\t\t\t\t    \t  \t.attr(\"x\", coords[0])\n\t\t\t\t\t\t\t    \t  \t.attr(\"y\", coords[1] + (coords[1]>height/2 ? -18 : 18))\n\n\t\t\t\t\t\t      })\n\t\t\t\t\t\t      .on('mouseout', function() { // on mouse out hide line, circles and text\n\t\t\t\t\t\t    \t  d3.select(this)\n\t\t\t\t\t\t    \t  \t.attr(\"opacity\", 0);\n\t\t\t\t\t\t    \t  tooltip.attr(\"opacity\", 0)\n\t\t\t\t\t\t      })\n\t\t\t\t\t\t      \n\t\t\t\t\t\t      tooltip.raise(); // make sure this is at top level for legibility\n\n            \t\t\t}, this)\n            \t\t}\n\n                }\n            }],\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [tbitems[0], tbitems[2], tbitems[3], tbitems[4], tbitems[5]/*, {\n                \ttext: this.localize(\"controls\"),\n                \ttooltip: this.localize(\"controlsTip\"),\n                \tmenu: {\n                    \titems: tbitems\n                \t}\n                }*/,{\n        \t\t\tfieldLabel: this.localize('visibleTerms'),\n        \t\t\tlabelWidth: 70,\n        \t\t\twidth: 120,\n        \t\t\txtype: 'slider',\n\t            \tincrement: 25,\n\t            \tminValue: 25,\n\t            \tmaxValue: 5000,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam(\"limit\")));\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({limit: newvalue});\n\t            \t\t\t// maybe not necessary when value is smaller\n\t            \t\t\tthis.fireEvent(\"loadedCorpus\", this, this.getCorpus())\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n                },{\n                \ttext: this.localize(\"scaling\"),\n                \tmenu: {\n                \t\tdefaults: {\n                \t\t\txtype: 'menucheckitem',\n                \t\t\thandler: function(cmp) {\n                \t\t\t\tthis.setApiParam(\"scaling\", cmp.getItemId());\n                        \t\tthis.getComponent(\"threads\").fireEventArgs(\"filterchange\", [this.getStore()]);\n                \t\t\t},\n                \t\t\tscope: this,\n                \t\t\tlisteners: {\n                \t\t\t\tafterrender: function(cmp) {\n                \t\t\t\t\tcmp.setChecked(cmp.getItemId()==this.getApiParam(\"scaling\"))\n                \t\t\t\t},\n                \t\t\t\tscope: this\n                \t\t\t},\n                \t\t\tgroup: 'scaling'\n                \t\t},\n                \t\titems: [{\n                \t\t\ttext: this.localize(\"scaleLinear\"),\n                \t\t\titemId: 'linear'\n                \t\t},{\n                \t\t\ttext: this.localize(\"scaleLog\"),\n                \t\t\titemId: 'log'\n                \t\t},{\n                \t\t\ttext: this.localize(\"scaleSqrt\"),\n                \t\t\titemId: 'sqrt'\n                \t\t}]\n                \n                \t}\n                }]\n              }]\n        });\n        \n        this.on('loadedCorpus', function(src, corpus) {\n        \tvar store = corpus.getDocumentsCount()==1 ? corpus.getDocumentTerms() : corpus.getCorpusTerms();\n        \tstore.on(\"load\", function() {\n        \t    this.updateControlsFromStore();\n\t\t    \tthis.filterRecords();\n        \t}, this);\n        \tstore.on(\"filterchange\", function() {\n        \t\tthis.getComponent(\"terms\").fireEventArgs(\"filterchange\", arguments);\n        \t\tthis.getComponent(\"threads\").fireEventArgs(\"filterchange\", arguments);\n        \t\t\n        \t}, this);\n        \tthis.setStore(store);\n        \tparams = this.getApiParams();\n        \tExt.apply(params, {\n        \t\twithDistributions: true\n        \t});\n        \tstore.load({\n    \t\t    callback: function(records, operation, success) {\n    \t\t    \tthis.filterRecords();\n    \t\t    },\n    \t\t    scope: this,\n    \t\t    params: params\n        \t});\n\n        }, this);\n        \n        this.callParent(arguments);\n    },\n\n    filterRecords: function() {\n    \tvar store = this.getStore();\n    \tstore.clearFilter();\n    \tvar limit = parseInt(this.getApiParam(\"limit\")), hit = 0;\n    \tstore.filterBy(function(record) {\n    \t\tvar keep = Ext.Array.every(this.getControls().getRange(), function(control) {\n    \t\t\treturn control.getEnabled()==false || control.getValidateRecord().call(control, record);\n    \t\t}, this);\n    \t\treturn keep && hit++<limit;\n    \t}, this)\n    },\n    \n    updateControlsFromStore: function() {\n    \tvar store = this.getStore();\n    \tthis.getControls().each(function(control) {\n    \t\tcontrol.suspendEvent(\"change\");\n    \t\tcontrol.initControl.call(this, store);\n    \t\tif (control.getMin()===undefined) {control.setMin(0);}\n    \t\tif (control.getLow()==undefined) {control.setLow(control.getMin())}\n    \t\tif (control.getMax()===undefined) {control.setMax(1);} // shouldn't happen\n    \t\tif (control.getHigh()==undefined) {control.setHigh(control.getMax())}\n    \t\tcontrol.resumeEvent(\"change\");\n    \t})\n    },\n    \n    revalidate: function() {\n    \tvar canvas = this.body.down('canvas').dom, ctx = canvas.getContext(\"2d\");\n    \tctx.clearRect(0,0,canvas.width,canvas.height);\n\n    \tvar controls = this.query('loomcontrol');\n    \t\n    \tvar loomTermRecords = new Voyant.panel.LoomTermRecords();\n    \tthis.getStore().each(function(record) {\n    \t\tvar vals = record.getDistributions().map(function(v) {return true;})\n    \t\tExt.Array.each(controls, function(control) {\n    \t\t\tif (control.getChecked()) {\n    \t\t\t\tif (control.validateRecord) {\n    \t\t\t\t\tvar newvals = control.validateRecord.call(this, control.getField(), record, record.getDistributions());\n//    \t\t\t\t\tconsole.warn(control.getName(), newvals)\n    \t\t\t\t\tif (Ext.isBoolean(newvals) && !newvals) {\n    \t\t\t\t\t\tvals = false;\n    \t\t\t\t\t\treturn false;\n    \t\t\t\t\t} else if (Ext.isArray(newvals)) {\n        \t\t\t\t\tfor (var i=0; i<vals.length; i++) {\n        \t\t\t\t\t\tvals[i] = vals[i] && newvals[i];\n        \t\t\t\t\t}\n        \t\t\t\t\treturn Ext.Array.some(vals, function(v) {return v})\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t}\n    \t\t});\n    \t\tif (Ext.isArray(vals) && Ext.Array.some(vals, function(v) {return v})) {\n    \t\t\tloomTermRecords.add(record);\n    \t\t}\n    \t})\n    \t\n    \tloomTermRecords.update(canvas, ctx);\n    }\n    \n});\n\nExt.define('Voyant.panel.LoomTermRecords', {\n\tconfig: {\n\t\ttermRecords: []\n\t},\n\tconstructor: function(config) {\n\t\tthis.setTermRecords([])\n\t    this.callParent(arguments);\n\t},\n\tadd: function(record) {\n\t\tthis.getTermRecords().push(new Voyant.panel.LoomTermRecord(record));\n\t},\n\tupdate: function(canvas, ctx) {\n\t\tvar min = Ext.Array.min(this.getTermRecords().map(function(r) {return Ext.Array.min(r.getValues())}))\n\t\tvar max = Ext.Array.max(this.getTermRecords().map(function(r) {return Ext.Array.max(r.getValues())}))\n\t\tthis.getTermRecords().forEach(function(r) {\n\t\t\tr.update(canvas, ctx, min, max)\n\t\t})\n\t}\n})\n\nExt.define('Voyant.panel.LoomTermRecord', {\n\tconfig: {\n\t\trecord: undefined,\n\t\tvalues: undefined,\n\t\tterm: undefined,\n\t\ttexts: undefined\n\t},\n\tconstructor: function(config) {\n\t\tthis.setRecord(config);\n\t\tthis.setValues(config.getDistributions());\n\t\tvar term = config.getTerm();\n\t\tthis.setTerm(term);\n\t\tthis.setTexts(config.getDistributions().map(function(v) {\n\t\t\treturn new Ext.draw.sprite.Text({\n\t\t\t\ttype: 'text',\n\t\t\t\ttext: term\n\t\t\t})\n\t\t}))\n\t    this.callParent(arguments);\n\t},\n\tupdate: function(canvas, ctx, min, max) {\n\t\tvar values = this.getValues(), columnWidth = canvas.offsetWidth/(values.length),\n\t\t\theight = canvas.offsetHeight, term = this.getTerm();\n\t\tthis.getTexts().forEach(function(text, i) {\n\t\t\tvar y = values[i]*height/max;\n\t\t    ctx.fillText(term, (columnWidth/2)+(i*columnWidth), height-y);\n\t\t})\n\t}\n})\n\nExt.define('Voyant.util.LoomControl', {\n    extend: 'Ext.Base',\n    mixins: ['Ext.mixin.Observable'],\n    constructor: function(config) {\n    \tthis.mixins.observable.constructor.call(this, config);\n        this.callParent(arguments);\n    },\n    config: {\n    \tgroup: undefined,\n    \tname: undefined,\n    \tenabled: false,\n    \tmin: undefined,\n    \tmax: undefined,\n    \tlow: undefined,\n    \thigh: undefined,\n    \tinitControls: Ext.emptyFn,\n    \tvalidateRecord: Ext.emptyFn,\n\t\toffsetTipText: false\n    },\n    setMin: function() {\n    \tthis.callParent(arguments);\n    \tthis.fireEvent(\"change\", this);\n    \treturn this;\n    },\n    setMax: function() {\n    \tthis.callParent(arguments);\n    \tthis.fireEvent(\"change\", this);\n    \treturn this;\n    },\n    setLow: function() {\n    \tthis.callParent(arguments);\n    \tthis.fireEvent(\"change\", this);\n    \treturn this;\n    },\n    setHigh: function() {\n    \tthis.callParent(arguments);\n    \tthis.fireEvent(\"change\", this);\n    \treturn this;\n    },\n    setValues: function(low, high) {\n    \tthis.suspendEvent(\"change\");\n    \tif (Ext.isArray(low)) {\n        \tthis.setLow(low[0]);\n        \tthis.setHigh(low[1]);\n    \t} else {\n        \tthis.setLow(low);\n        \tthis.setHigh(high);\n    \t}\n    \tthis.resumeEvent(\"change\");\n    \tif (arguments.length < 3 || !arguments[2]) {this.fireEvent(\"change\", this);}\n    \treturn this;\n    },\n    setEnabled: function() {\n    \tthis.callParent(arguments);\n    \tif (arguments.length < 2 || !arguments[1]) {this.fireEvent(\"change\", this);}\n    \treturn this;\n    }\n    \n})","Ext.define('Voyant.panel.MicroSearch', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.microsearch',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstopList: 'auto',\n    \t\tquery: undefined\n    \t},\n\t\tglyph: 'xf1ea@FontAwesome'\n    },\n    config: {\n    \t/**\n    \t * @private\n    \t */\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\n    \t\n    \t/**\n    \t * @private\n    \t */\n    \tmaxTokens: 0,\n    \t\n    \t/**\n    \t * @private\n    \t */\n    \ttokensPerSegment: 0,\n    \t\n    \t/**\n    \t * @private\n    \t */\n    \tmaxVerticalLines: 0,\n    \t\n    \t/**\n    \t * @private\n    \t */\n    \tmaxSegments: 0\n    },\n    constructor: function(config ) {\n\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                \txtype: 'querysearchfield'\n                }]\n    \t\t}]\n    \t});\n\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tif (this.rendered) {\n    \t\t\tthis.initialize();\n    \t\t}\n    \t\telse {\n    \t\t\tthis.on(\"afterrender\", function() {\n    \t\t\t\tthis.initialize();\n    \t\t\t}, this)\n    \t\t}\n\n    \t});\n    \t\n    \tthis.on('query', function(src, query) {\n    \t\tthis.setApiParam('query', query);\n    \t\tthis.updateSearchResults();\n    \t})\n    \t\n    },\n    \n    initialize: function() {\n\n    \tvar el = this.getTargetEl(), corpus = this.getCorpus();\n    \t\n\t\tvar lineSize = 5; // pixels, including margins below and above\n\t\tthis.setMaxVerticalLines(Math.floor((el.getHeight() - 10 /* margin of 5px */) / lineSize));\n\t\t\n\t\t// max segments\n\t\tvar gutterSize = 10;\n\t\tvar corpusSize = corpus.getDocumentsCount();\n\t\tvar gutter = corpusSize * gutterSize;\n\t\tvar columnSize = Math.floor((el.getWidth() - gutter - 10 /* margin of 5px */) / corpusSize);\n\t\tif (columnSize>200) {columnSize=200;}\n\t\tvar segmentWidth = 3; // each segment is 3 pixels\n\t\tvar maxSegmentsPerLine = Math.floor(columnSize / segmentWidth);\n\t\tif (maxSegmentsPerLine<1) {maxSegmentsPerLine=1;}\n\t\t\n\t\t// and the answer is...\n\t\tthis.setMaxSegments(maxSegmentsPerLine * this.getMaxVerticalLines());\n\t\t\n\t\tvar documentsStore = corpus.getDocuments();\n\t\tthis.setMaxTokens(documentsStore.max('tokensCount-lexical'));\n\n\t\tthis.setTokensPerSegment(this.getMaxTokens() < this.getMaxSegments() ? 1 : Math.ceil(this.getMaxTokens()/this.getMaxSegments()));\n\t\t\n\n\t\tvar canvas = \"<table cellpadding='0' cellspacing='0' style='height: 100%'><tr>\";\n\t\tthis.segments = [];\n\t\tdocumentsStore.each(function(document) {\n\t\t\tdocIndex = document.getIndex();\n\t\t\tcanvas+='<td style=\"overflow: hidden; vertical-align: top; width: '+columnSize+'px;\">'+\n\t\t\t\t'<div class=\"docLabel\" style=\"white-space: nowrap; width: '+columnSize+'px;\" data-qtip=\"'+document.getFullLabel()+'\">'+document.getFullLabel()+\"</div>\"+\n\t\t\t\t'<canvas style=\"display: block;\" width=\"'+columnSize+'\" height=\"'+el.getHeight()+'\" id=\"'+this.body.id+'-'+docIndex+'\">'+\n\t\t\t\t'</td>';\n\t\t\tif (docIndex+1<corpusSize) {canvas+='<td style=\"width: '+gutterSize+'px;\">&nbsp;</td>';}\n\t\t}, this);\n\t\tcanvas+='</tr></table>';\n\t\tel.update(canvas);\n\t\t\n\t\tthis.updateSearchResults();\n\t\t\n    \tif (!this.getApiParam('query')) {\n    \t\tvar me = this;\n    \t\treturn this.getCorpus().loadCorpusTerms({limit: 1, stopList: this.getApiParam('stopList'), categories: this.getApiParam(\"categories\")}).then(function(corpusTerms) {\n    \t\t\tvar term = corpusTerms.getAt(0).getTerm();\n    \t\t\tvar q = me.down('querysearchfield');\n    \t\t\tq.addValue(new Voyant.data.model.CorpusTerm({term: term}));\n    \t\t\tme.fireEvent(\"query\", me, [term])\n    \t\t});\n    \t}\n\n    },\n    \n    updateSearchResults: function() {\n    \tquery = this.getApiParam('query');\n    \tif (Ext.Array.from(query).length==0) { // draw simple lines\n        \tthis.getCorpus().getDocuments().each(function(document) {\n        \t\tvar distributions = this.redistributeDistributions(document, new Array(this.getMaxSegments()));\n        \t\tthis.drawDocumentDistributions(document, distributions);\n        \t}, this)\n    \t} else {\n    \t\tthis.mask(this.localize('loading'))\n    \t\tthis.getCorpus().getDocumentTerms().load({\n    \t\t\tparams: {\n    \t\t\t\tquery: Ext.Array.from(query).join('|'), // treat as one query\n        \t\t\twithDistributions: 'relative',\n        \t\t\tbins: this.getMaxSegments(),\n        \t\t\tcategories: this.getApiParam('categories')\n    \t\t\t},\n    \t\t\tcallback: function(records, operation, success) {\n    \t\t\t\tthis.unmask();\n    \t\t\t\tvar max = 0, min = Number.MAX_VALUE, docs = [], m;\n    \t\t\t\trecords.forEach(function(record) {\n    \t\t\t\t\tvar doc = this.getCorpus().getDocument(record.getDocIndex());\n    \t\t\t\t\tvar distributions = this.redistributeDistributions(doc, record.getDistributions())\n    \t\t\t\t\tm = Ext.Array.max(distributions);\n    \t\t\t\t\tif (m>max) {max=m;}\n    \t\t\t\t\tdistributions.forEach(function(d) {\n    \t\t\t\t\t\tif (d && d<min) {\n    \t\t\t\t\t\t\tmin = d;\n    \t\t\t\t\t\t}\n    \t\t\t\t\t})\n    \t\t\t\t\tdocs[record.getDocIndex()] = this.redistributeDistributions(doc, record.getDistributions());\n    \t\t\t\t}, this);\n    \t\t\t\tdocs.forEach(function(distributions, i) {\n                    \tthis.drawDocumentDistributions(this.getCorpus().getDocument(i), distributions, min || Ext.Array.min(distributions), max || Ext.Array.max(distributions));\n    \t\t\t\t}, this)\n    \t\t\t},\n    \t\t\tscope: this\n    \t\t})\n    \t}\n    },\n    \n    redistributeDistributions: function(doc, distributions) {\n\t\tvar segments = Math.ceil(doc.getLexicalTokensCount() / this.getTokensPerSegment());\n\n\t\t// redistribute if needed, we'll take the mean of the distribution values to maintain comparison across segments\n    \tif (distributions.length>segments) {\n    \t\tvar newdistributions = [];\n    \t\tfor (var i=0; i<distributions.length; i++) {\n    \t\t\tvar a = parseInt(i*segments/distributions.length);\n    \t\t\tif (newdistributions[a]) {newdistributions[a].push(distributions[i])}\n    \t\t\telse {newdistributions[a]=[distributions[i]];}\n    \t\t}\n\t\t\tdistributions = newdistributions\n    \t\tfor (var i=0; i<distributions.length; i++) {\n    \t\t\tdistributions[i] = Ext.Array.mean(distributions[i]);\n    \t\t}\n    \t}\n    \treturn distributions;\n    },\n    \n    drawDocumentDistributions: function(doc, distributions, min, max) {\n    \tvar canvas = this.getTargetEl().dom.querySelector(\"#\"+this.body.id+\"-\"+doc.getIndex());\n    \tvar c = canvas.getContext('2d');\n    \tvar x = 0, w = canvas.clientWidth, y = 0;\n    \tfor (var j=0; j<distributions.length;j++) {\n    \t\tc.fillStyle = distributions[j] ? \"rgba(250,0,0,\"+(((distributions[j]-min)*.8/(max-min))+.2)+\")\" : \"rgb(230,230,230)\";\n    \t\tc.fillRect(x,y,3,3)\n    \t\tx+=3;\n    \t\tif (x>=w) {x=0; y+=5}\n    \t}\n    \t\n    }\n});","Ext.define('Voyant.panel.Mandala', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.mandala',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\t/**\n    \t\t * @property stopList The stop list to use to filter results.\n    \t\t * Choose from a pre-defined list, or enter a comma separated list of words, or enter an URL to a list of stop words in plain text (one per line).\n    \t\t * @type String\n    \t\t * @private\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\t\n    \t\tquery: undefined,\n    \t\t\n    \t\tlabels: true\n    \t\t\n    \t},\n    \tglyph: 'xf1db@FontAwesome'\n\t},\n\t\n\tgutter: 5,\n\t\n\ttextFont: '12px sans-serif',\n\t\n\tconfig: {\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}]\n\t},\n\t\n    constructor: function() {\n\n    \tthis.mixins['Voyant.util.Localization'].constructor.apply(this, arguments);\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n\t\t\thtml: '<div style=\"text-align: center\"><canvas width=\"800\" height=\"600\"></canvas></div>',\n\t\t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                \ttext: this.localize('add'),\n        \t\t\tglyph: 'xf067@FontAwesome',\n                \thandler: function() {\n                \t\tthis.editMagnet();\n                \t},\n                \tscope: this\n                },{\n                \ttext: this.localize('clear'),\n\t\t\t\t\tglyph: 'xf014@FontAwesome',\n                \thandler: function() {\n                \t\tthis.setApiParam('query', undefined);\n                \t\tthis.updateFromQueries(true);\n                \t\tthis.editMagnet();\n                \t},\n                \tscope: this\n\t            },{\n\t                xtype: 'checkbox',\n\t                boxLabel: this.localize('labels'),\n\t                listeners: {\n\t                \trender: function(cmp) {\n\t                \t\tcmp.setValue(this.getApiParam(\"labels\")===true);\n\t    \t\t        \tExt.tip.QuickTipManager.register({\n\t    \t\t        \t\ttarget: cmp.getEl(),\n\t   \t\t                 \ttext: this.localize('labelsTip')\n\t    \t\t        \t});\n\t                \t\t\n\t                \t},\n\t                \tbeforedestroy: function(cmp) {\n\t                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n\t                \t},\n\t                    change: function(cmp, val) {\n\t                    \tthis.setApiParam('labels', val);\n\t                    \tthis.draw();\n\t                    },\n\t                    scope: this\n\t                }\n\t            }]\n    \t\t}]\t\t\t\n    \t});\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.on('boxready', function(cmp) {\n\t\t\tvar canvas = this.getTargetEl().dom.querySelector(\"canvas\");\n\t\t\tvar me = this;\n    \t\tcanvas.addEventListener('mousemove', function(evt) {\n    \t\t\tvar rect = canvas.getBoundingClientRect(), x =  evt.clientX - rect.left, y = evt.clientY - rect.top,\n\t\t\t\tchange = false, docRadius = parseInt(me.textFont)/2;\n    \t\t\tif (me.documents) {\n    \t\t\t\tme.documents.forEach(function(doc) {\n    \t\t\t\t\tvar isHovering = x > doc.x-docRadius && x < doc.x+docRadius && y > doc.y-docRadius && y < doc.y+docRadius;    \t\t\t\t\t\n    \t\t\t\t\tif (isHovering!=doc.isHovering) {change = true;}\n    \t\t\t\t\tdoc.isHovering = isHovering;\n    \t\t\t\t})\n    \t\t\t}\n\t\t\t\tradius = parseInt(me.textFont)/2;\n\t\t\t\tfor (term in me.magnets) {\n\t\t\t\t\tvar isHovering = x > me.magnets[term].x-radius && x < me.magnets[term].x+radius && y > me.magnets[term].y-radius && y < me.magnets[term].y+radius;    \t\t\t\t\t\n\t\t\t\t\tif (isHovering!=me.magnets[term].isHovering) {change = true;}\n\t\t\t\t\tme.magnets[term].isHovering = isHovering;\n\t\t\t\t}\n\t\t\t\tif (change) {\n\t\t\t\t\tme.draw();\n\t\t\t\t}\n    \t    }, false);\n    \t\tcanvas.addEventListener('click', function(evt) {\n    \t\t\tvar rect = canvas.getBoundingClientRect(), x =  evt.clientX - rect.left, y = evt.clientY - rect.top,\n\t\t\t\t\tdocRadius = parseInt(me.textFont)/2;\n\t\t\t\tfor (term in me.magnets) {\n\t\t\t\t\tif (x > me.magnets[term].x-radius && x < me.magnets[term].x+radius && y > me.magnets[term].y-radius && y < me.magnets[term].y+radius) {\n\t\t\t\t\t\tme.editMagnet(term);\n\t\t\t\t\t}\n\t\t\t\t}\n    \t    }, false);\n    \t})\n    \t\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tthis.documents = [];\n    \t\tvar canvas = this.getTargetEl().dom.querySelector(\"canvas\"), ctx = canvas.getContext(\"2d\"), radius = canvas.width/2;\n    \t\tctx.font = this.textFont;\n    \t\tcorpus.getDocuments().each(function(document) {\n    \t\t\tvar label = document.getTinyTitle();\n    \t\t\tthis.documents.push({\n    \t\t\t\tdoc: document,\n    \t\t\t\tlabel: label,\n    \t\t\t\twidth: ctx.measureText(label).width,\n    \t\t\t\tx: radius,\n    \t\t\t\ty: radius,\n    \t\t\t\tmatches: [],\n    \t\t\t\tisHovering: false\n    \t\t\t});\n    \t\t}, this);\n    \t\tthis.updateDocs(canvas);\n    \t\tthis.draw();\n    \t\tthis.updateFromQueries();\n    \t}, this);\n    \t\n    \tthis.on(\"resize\", function() {\n    \t\tvar canvas = this.getTargetEl().dom.querySelector(\"canvas\"),\n    \t\t\tdiam = Math.min(this.getTargetEl().getWidth(), this.getTargetEl().getHeight());\n    \t\tcanvas.width = diam;\n    \t\tcanvas.height = diam;\n\t    \tthis.updateMagnets();\n\t    \tthis.updateDocs();\n    \t\tthis.draw(canvas)\n    \t})\n    },\n    \n    editMagnet: function(term) {\n    \tvar me = this, currentTerms = Ext.Array.from(me.getApiParam('query'));\n\t\tExt.create('Ext.window.Window', {\n\t\t\ttitle: this.localize(\"EditMagnet\"),\n\t\t\tmodal: true,\n\t\t\titems: {\n\t\t\t\txtype: 'form',\n\t\t\t\twidth: 300,\n\t\t\t\titems: [{\n\t\t\t\t\txtype: 'querysearchfield',\n\t\t\t\t\tcorpus: this.getCorpus(),\n\t\t\t\t\tstore: this.getCorpus().getCorpusTerms({\n\t\t\t\t\t\tproxy: {\n\t\t\t\t\t\t\textraParams: {\n\t\t\t\t\t\t\t\tstopList: this.getApiParam('stopList')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tstopList: this.getApiParam('stopList'),\n\t\t\t\t\tlisteners: {\n\t\t\t\t\t\tafterrender: function(field) {\n\t\t\t\t\t\t\tif (term) {\n\t\t\t\t\t\t\t\tvar termObj = new Ext.create(\"Voyant.data.model.CorpusTerm\", {\n\t\t\t\t\t\t\t\t\tterm: term\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tfield.getStore().loadData(termObj, true)\n\t\t\t\t\t\t\t\tfield.setValue(termObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},{\n\t\t\t\t\txtype: \"numberfield\",\n\t\t\t\t    fieldLabel: me.localize('rotateClockwise'),\n\t\t\t\t    minValue: 0,\n\t\t\t\t    maxValue: currentTerms.length-1,\n\t\t\t\t    value: 0,\n\t\t\t\t    stepValue: 1,\n\t\t\t\t    width: 200,\n\t\t\t\t    name: \"rotate\"\n\t\t\t\t}],\n\t\t\t\tbuttons: [{\n\t            \ttext: this.localize(\"remove\"),\n\t\t\t\t\tglyph: 'xf0e2@FontAwesome',\n\t            \tflex: 1,\n\t\t            ui: 'default-toolbar',\n\t        \t\thandler: function(btn) {\n\t        \t\t\tvar queries = Ext.Array.filter(Ext.Array.from(me.getApiParam('query')), function(query) {\n\t        \t\t\t\treturn query!=term\n\t        \t\t\t});\n\t        \t\t\tme.setApiParam('query', queries);\n\t        \t\t\tme.updateFromQueries(queries.length==0);\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t},\n\t        \t\tscope: this\n\t\t\t\t},{xtype: 'tbfill'}, {\n\t            \ttext: this.localize(\"cancel\"),\n\t\t            ui: 'default-toolbar',\n\t                glyph: 'xf00d@FontAwesome',\n\t        \t\tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t}\n\t\t\t\t},{\n\t            \ttext: this.localize(\"update\"),\n\t\t\t\t\tglyph: 'xf00c@FontAwesome',\n\t            \tflex: 1,\n\t        \t\thandler: function(btn) {\n\t        \t\t\tvar val = btn.up('window').down('querysearchfield').getValue().join(\"|\")\n\t        \t\t\tif (val) {\n\n\t        \t\t\t\t// start by updating the term in place\n\t\t        \t\t\tvar position = -1;\n\t\t        \t\t\tfor (var i=0; i<currentTerms.length; i++) {\n\t\t        \t\t\t\tif (term==currentTerms[i]) {\n\t\t        \t\t\t\t\tposition=i;\n\t\t        \t\t\t\t\tcurrentTerms[i]=val;\n\t\t        \t\t\t\t\t\n\t\t\t\t        \t\t\t// see if we need to shift\n\t\t\t\t        \t\t\tvar rotate = btn.up('window').down('numberfield').getValue();\n\t\t\t\t        \t\t\tif (rotate) {\n\t\t\t\t        \t\t\t\tcurrentTerms.splice(i, 1);\n\t\t\t\t        \t\t\t\tvar newpos = i+rotate;\n\t\t\t\t        \t\t\t\tif (newpos>currentTerms.length) {newpos-=currentTerms.length+1;}\n\t\t\t\t        \t\t\t\tcurrentTerms.splice(newpos, 0, val);\n\t\t\t\t        \t\t\t}\n\t\t\t\t        \t\t\tbreak\n\t\t\t\t        \t\t\t\n\t\t        \t\t\t\t}\n\t\t        \t\t\t}\n\t\t        \t\t\tif (position==-1) { // not sure why it couldn't be found\n\t\t        \t\t\t\tcurrentTerms.push(val);\n\t\t        \t\t\t}\t\t        \t\t\t\n\t        \t\t\t}\n\t        \t\t\t\n\t        \t\t\tme.setApiParam('query', currentTerms);\n\t        \t\t\tme.updateFromQueries(currentTerms.length==0);\n\t        \t\t\tbtn.up('window').close();\n\t        \t\t},\n\t        \t\tscope: this\n\t            }]\n\t\t\t},\n\t\t\tbodyPadding: 5\n\t\t}).show()\n    },\n    \n    updateFromQueries: function(allowEmpty) {\n\t\tthis.magnets = undefined;\n\t\tthis.documents.forEach(function(doc) {doc.matches=[]})\n\t\tthis.updateDocs();\n\t\tthis.draw();\n    \tif (this.documents) {\n    \t\tvar params = this.getApiParams();\n    \t\tif (!params.query) {params.limit=10;}\n        \tvar queries = Ext.Array.from(this.getApiParam('query'));\n        \tif (!allowEmpty || queries.length>0) {\n        \t\tthis.getCorpus().getCorpusTerms().load({\n        \t\t\tparams: Ext.apply(params, {withDistributions: true}),\n        \t\t\tcallback: function(records) {\n        \t\t    \tvar canvas = this.getTargetEl().dom.querySelector(\"canvas\"), ctx = canvas.getContext(\"2d\");\n        \t\t    \t\tdiam = canvas.width, rad = diam /2;\n        \t\t    \tctx.font = this.textFont;\n        \t\t    \tvar magnets = {};\n        \t\t    \tfor (var i=0, len=records.length; i<len; i++) {\n        \t\t    \t\tvar term = records[i].getTerm();\n        \t\t    \t\trecords[i].getDistributions().forEach(function(val, i) {\n        \t\t    \t\t\tif (val>0) {\n        \t\t    \t\t\t\tthis.documents[i].matches.push(term)\n        \t\t    \t\t\t}\n        \t\t    \t\t}, this);\n        \t\t    \t\tmagnets[term] = {\n        \t\t    \t\t\trecord: records[i],\n        \t\t    \t\t\tcolour: this.getApplication().getColor(i),\n        \t\t    \t\t\twidth: ctx.measureText(term).width,\n        \t\t    \t\t\tisHovering: false\n        \t\t    \t\t}\n        \t\t    \t}\n\n        \t\t    \tthis.magnets = {};\n        \t\t    \t\n        \t\t    \t// try ordering by queries\n        \t\t    \tqueries.forEach(function(query) {\n        \t\t    \t\tif (magnets[query]) {\n            \t\t    \t\tthis.magnets[query] = magnets[query]\n            \t\t    \t\tdelete magnets[query]\n        \t\t    \t\t}\n        \t\t    \t}, this);\n        \t\t    \t\n        \t\t    \t// now for any leftovers\n        \t\t    \tfor (term in magnets) {\n        \t\t    \t\tthis.magnets[term] = magnets[term]\n        \t\t    \t}\n        \t\t    \t\n        \t\t    \tthis.setApiParam('query', Object.keys(this.magnets))\n        \t\t    \tthis.updateMagnets();\n        \t\t    \tthis.updateDocs();\n        \t\t    \tthis.draw();\n        \t\t\t},\n        \t\t\tscope: this\n        \t\t})\n        \t}\n    \t}\n    },\n    \n    updateMagnets: function(canvas) {\n    \tvar canvas = this.getTargetEl().dom.querySelector(\"canvas\"), diam = canvas.width, rad = diam /2;\n    \tvar len = Object.keys(this.magnets || {}).length;\n    \tvar i = 0;\n    \tfor (var term in this.magnets) {\n    \t\tExt.apply(this.magnets[term], {\n\t\t\t\tx:  rad+((rad-this.gutter-50) * Math.cos(2 * Math.PI * i / len)),\n\t\t\t\ty:  rad+((rad-this.gutter-50) * Math.sin(2 * Math.PI * i / len))\n    \t\t})\n    \t\ti++;\n    \t}\n    },\n    \n    updateDocs: function(canvas) {\n    \tcanvas = canvas ||  this.getTargetEl().dom.querySelector(\"canvas\"), diam = canvas.width, rad = diam /2;\n    \tvar notMatching = [];\n    \tif (this.documents) {\n        \tthis.documents.forEach(function(doc, i) {\n        \t\tif (Ext.Array.from(doc.matches).length==0) {notMatching.push(i);} // will be set around perimeter below\n        \t\telse if (Ext.Array.from(doc.matches).length==1) { // try to set it away from magnet\n        \t\t\tvar x = (Math.random()*15)+15, y = (Math.random()*15)+15;\n        \t\t\tdoc.targetX = this.magnets[doc.matches[0]].x + (Math.round(Math.random())==0 ? x : -x);\n        \t\t\tdoc.targetY = this.magnets[doc.matches[0]].y + (Math.round(Math.random())==0 ? y : -y);\n        \t\t} else {\n        \t\t\t// determine the weighted position\n        \t\t\tvar x = 0, y = 0,\n        \t\t\t\tvals = doc.matches.map(function(term) {return this.magnets[term].record.getDistributions()[i]}, this),\n        \t\t\t\tmin = Ext.Array.min(vals), max = Ext.Array.max(vals);\n        \t\t\tvar weights = 0;\n        \t\t\tdoc.matches.forEach(function(term, j) {\n        \t\t\t\tweight = max==min ? 1 : ((vals[j]-min)+min)/((max-min)+min);\n        \t\t\t\tweights += weight;\n        \t\t\t\tx += this.magnets[term].x*weight;\n        \t\t\t\ty += this.magnets[term].y*weight;\n        \t\t\t\t\n        \t\t\t}, this)\n        \t\t\tdoc.targetX = x/weights\n        \t\t\tdoc.targetY = y/weights\n        \t\t}\n        \t}, this);\n        \t\n        \t// set around perimeter\n        \tfor (var i=0, len=notMatching.length; i<len; i++) {\n        \t\tExt.apply(this.documents[i], {\n    \t\t\t\ttargetX:  rad+((rad-this.gutter) * Math.cos(2 * Math.PI * i / len)),\n    \t\t\t\ttargetY:  rad+((rad-this.gutter) * Math.sin(2 * Math.PI * i / len))\n        \t\t})\n        \t}\n    \t}\n    },\n    \n    draw: function(canvas, ctx) {\n    \tcanvas = canvas ||  this.getTargetEl().dom.querySelector(\"canvas\");\n    \tctx = ctx || canvas.getContext(\"2d\");\n    \tctx.font = this.textFont;\n    \tvar radius = canvas.width/2;\n    \tctx.clearRect(0,0,canvas.width,canvas.height);\n    \tvar labels = this.getApiParam('labels');\n    \t\n    \t// draw circle\n    \tctx.beginPath();\n    \tctx.strokeStyle = \"rgba(0,0,0,.1)\"\n        ctx.fillStyle = \"rgba(0,0,0,.02)\"\n    \tctx.arc(radius, radius, radius-this.gutter, 0, 2 * Math.PI, false);\n    \tctx.fill();\n    \tctx.lineWidth = 2;\n    \tctx.stroke();\n    \t\n    \t// determine if we're animating a move and need to come back\n    \tvar needRedraw = false;\n    \t\n    \t// draw documents\n    \t\n    \tif (this.documents && this.documents.length>0) {\n    \t\tvar needMove = false;\n    \t\t\n    \t\tvar noHovering = Ext.Array.each(this.documents, function(doc) {\n    \t\t\treturn !doc.isHovering\n    \t\t}, this);\n    \t\t\n    \t\tif (noHovering===true) {\n    \t\t\tnoHovering = Ext.Array.each(Object.keys(this.magnets || {}), function(term) {\n        \t\t\treturn !this.magnets[term].isHovering\n        \t\t}, this);\n    \t\t}\n\t\t\t// go through a first time to draw connecting lines underneath\n    \t\tvar hoveringTerms = {}; hoveringDocs = [];\n    \t\tthis.documents.forEach(function(document, j) {\n\t        \tdocument.matches.forEach(function(term, i) {\n\t        \t\tctx.beginPath();\n\t        \t\tctx.moveTo(document.x, document.y);\n\t        \t\tctx.lineTo(this.magnets[term].x, this.magnets[term].y);\n\t        \t\tif (noHovering===true) {\n\t\t        \t\tctx.strokeStyle = \"rgba(\"+this.magnets[term].colour.join(\",\")+\",.1)\";\n\t        \t\t} else {\n\t        \t\t\tif (document.isHovering || this.magnets[term].isHovering) {\n\t        \t\t\t\thoveringDocs[j]=true;\n\t        \t\t\t\thoveringTerms[term]=true;\n\t\t\t        \t\tctx.strokeStyle = \"rgba(\"+this.magnets[term].colour.join(\",\")+\",.5)\";\n\t        \t\t\t} else {\n\t\t        \t\t\tctx.strokeStyle = \"rgba(0,0,0,.02)\";\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\tctx.stroke();\n\t        \t}, this);\n    \t\t}, this);\n    \t\t\t\n\t\t\t// now a second time for labels/markers\n    \t\tvar halfSize = parseInt(this.textFont)/2, height = parseInt(this.textFont)+4;\n    \t\tthis.documents.forEach(function(document, i) {\n    \t\t\t\n    \t\t\t// draw marker/label\n    \t\t\tif (labels || document.isHovering || hoveringDocs[i]==true) {\n\t    \t\t    var width = document.width+4;\n\t\t\t        ctx.fillStyle = document.isHovering || hoveringDocs[i]==true || noHovering===true ? \"white\" : \"rgba(255,255,255,.05)\"\n\t    \t\t    ctx.fillRect(document.x-(width/2), document.y-(height/2), width, height);\n\t\t\t        ctx.strokeStyle = document.isHovering || hoveringDocs[i]==true || noHovering===true ? \"rgba(0,0,0,.2)\" : \"rgba(0,0,0,.05)\"\n\t    \t\t    ctx.strokeRect(document.x-(width/2), document.y-(height/2), width, height);\n\t\t\t        ctx.textAlign = \"center\";\n\t\t\t        ctx.fillStyle = document.isHovering || hoveringDocs[i]==true || noHovering===true ? \"rgba(0,0,0,.8)\" : \"rgba(0,0,0,.05)\";\n\t    \t\t    ctx.fillText(document.label, document.x, document.y);\n    \t\t\t} else {\n    \t\t    \tctx.beginPath();\n    \t\t        ctx.fillStyle = \"rgba(0,0,0,.8)\"\n    \t\t    \tctx.arc(document.x, document.y, halfSize, 0, 2 * Math.PI);\n    \t        \tctx.fill();\n    \t\t    \tctx.stroke();\n    \t\t\t}\n\t        \t\n\t        \t// determine if we need to move\n\t\t    \tvar dx = Math.abs(document.x - document.targetX), dy = Math.abs(document.y- document.targetY)\n\t\t    \tif (dx!=0 || dy!=0) {\n\t\t    \t\tif (dx<1) {document.x = document.targetX}\n\t\t    \t\telse {\n\t\t    \t\t\tdx/=2;\n\t\t    \t\t\tdocument.x = document.x > document.targetX ? document.x-dx : document.x+dx;\n\t\t    \t\t}\n\t\t    \t\tif (dy<1) {document.y = document.targetY}\n\t\t    \t\telse {\n\t\t    \t\t\tdy/=2;\n\t\t    \t\t\tdocument.y = document.y > document.targetY ? document.y-dy : document.y+dy;\n\t\t    \t\t}\n\t\t    \t\tneedRedraw = true;\n\t\t    \t}\n    \t\t}, this);\n    \t\t\n    \t\t// now magnets\n    \t\tvar i = 0, height = parseInt(this.textFont)+4;\n\t        ctx.textAlign = \"center\";\n\t        ctx.textBaseline=\"middle\";\n\t        for (var term in this.magnets) {\n\t        \tif (labels || term in hoveringTerms || this.magnets[term].isHovering) {\n\t    \t\t    var width = this.magnets[term].width+4;\n\t\t\t        ctx.fillStyle = term in hoveringTerms || this.magnets[term].isHovering || noHovering===true ? \"white\" : \"rgba(255,255,255,.05)\";\n\t    \t\t    ctx.fillRect(this.magnets[term].x-(width/2), this.magnets[term].y-(height/2), width, height);\n\t\t\t        ctx.strokeStyle = term in hoveringTerms || this.magnets[term].isHovering || noHovering===true ? \"rgb(\"+this.magnets[term].colour.join(\",\")+\")\" : \"rgba(0,0,0,.05)\";\n\t    \t\t    ctx.strokeRect(this.magnets[term].x-(width/2), this.magnets[term].y-(height/2), width, height);\n\t\t\t        ctx.textAlign = \"center\";\n\t\t\t        ctx.fillStyle = term in hoveringTerms || this.magnets[term].isHovering || noHovering===true ?\"rgba(0,0,0,.8)\" : \"rgba(0,0,0,.05)\";\n\t    \t\t    ctx.fillText(term, this.magnets[term].x, this.magnets[term].y);\n\t        \t} else {\n\t\t\t    \tctx.beginPath();\n\t\t\t        ctx.fillStyle = \"rgb(\"+this.magnets[term].colour.join(\",\")+\")\"\n\t\t\t        ctx.strokeStyle = \"rgb(\"+this.magnets[term].colour.join(\",\")+\")\"\n\t\t\t    \tctx.arc(this.magnets[term].x, this.magnets[term].y, 12, 0, 2 * Math.PI);\n\t\t        \tctx.fill();\n\t\t\t    \tctx.stroke();\n\t        \t}\n    \t\t}\n    \t}\n    \t\n\t\tif (needRedraw) {\n\t\t\tvar me = this;\n\t\t\tsetTimeout(function() {\n\t\t\t\tme.draw();\n\t\t\t}, 100);\n\t\t} else if (this.documents) {\n\t\t\tvar minDist = Math.max(radius/this.documents.length, 50), spring = .1\n\t\t\tfor (var i=0, len=this.documents.length; i<len; i++) {\n\t\t\t\tfor (var j=0; j<len; j++) {\n\t\t\t\t\tif (i<j) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar dx = this.documents[i].x  - this.documents[j].x,\n\t\t\t\t\t\t\tdy = this.documents[i].y - this.documents[j].y,\n\t\t\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\t\t\tif (dist < minDist) {\n\t\t\t\t\t\t\tvar ax = dx * spring, ay = dy * spring;\n\t\t\t\t\t\t\tthis.documents[i].targetX += ax;\n\t\t\t\t\t\t\tthis.documents[j].targetX -= ax;\n\t\t\t\t\t\t\tthis.documents[i].targetY += ay;\n\t\t\t\t\t\t\tthis.documents[j].targetY -= ay;\n\t\t\t\t\t\t\tneedRedraw = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (needRedraw) {\n\t\t\t\tvar me = this;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tme.draw();\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t}\n    }\n    \n});","Ext.define('Voyant.panel.MicroOcp', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.microocp',\n    statics: {\n    \ti18n: {\n    \t\ttitle: \"MicroOCP\"\n    \t},\n    \tapi: {\n    \t\tconfig: undefined,\n    \t\tstopList: 'auto',\n    \t\turi: undefined\n    \t},\n\t\tglyph: 'xf1ea@FontAwesome'\n    },\n    config: {\n    \teditor: undefined\n    },\n    \n    constructor: function(config) {\n    \tconfig = config || {};\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments); // we need api\n\t\t\n\t\t\n\t    var store = Ext.create('Ext.data.Store', {\n\t        fields: [{\n\t            name: 'cocoa',\n\t            type: 'string'\n\t        }]});\n\t    \n\t    var microocp = this;\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tlayout: 'border',\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                groupId: 'tbar',\n                items: [{\n                \ttext: \"Create New Voyant Corpus\",\n                \thandler: function() {\n                \t\tvar items = this.down('grid').getSelectionModel().getSelection().map(function(item) {return item.get(\"cocoa\")});\n              // items = [\"one\",\"one two\",\"two\"]\n                \t\tif (items.length==0) {\n                \t\t\treturn this.showError({title: \"Error\", msg: \"No items are selected in the grid (on the right).\"})\n                \t\t}\n                \t\t// convert to map for faster lookup\n                \t\titemsMap = {};\n                \t\titems.forEach(function(item) {itemsMap[item]=true})\n                \t\t\n                \t\t\n\t\t\t\t\t\tvar str = this.getEditor().getValue();\n               // str = \"<one>this<one two>is<two>a</one>sentence<two> <one>another\"\n\t\t\t\t\t\tvar tags = /<(\\/)?(\\w+)(\\s(\\w+))?>/g;\n\t\t\t\t\t\tvar matches;\n\t\t\t\t\t\tvar tagsMap = {}\n\t\t\t\t\t\twhile ((matches = tags.exec(str)) != null) {\n\t\t\t\t\t\t\tvar isClose = matches[1]==\"/\", tag = matches[2], attr = matches[4],\n\t\t\t\t\t\t\t\titem = (matches[4] ? matches[2]+\" \"+matches[4] : matches[2]);\n\t\t\t\t\t\t\tif (isClose || item in itemsMap) {\n\t\t\t\t\t\t\t\tif (tag in tagsMap) {\n\t\t\t\t\t\t\t\t\ttagsMap[tag][tagsMap[tag].length-1].end = matches.index\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!isClose) {\n\t\t\t\t\t\t\t\t\tif (!(tag in tagsMap)) {tagsMap[tag] = []}\n\t\t\t\t\t\t\t\t\ttagsMap[tag].push({\n\t\t\t\t\t\t\t\t\t\tstart: matches.index+matches[0].length,\n\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\tattr: attr\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (item in itemsMap) {\n\t\t\t\t\t\t\t\tif (tag in tagsMap) {\n\t\t\t\t\t\t\t\t\ttagsMap[tag][tagsMap[tag].length-1].end = matches.index\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n                \t\t// this should be more robust\n                \t\tisGroupItems = this.getDockedComponent(1).down('checkbox').checked;\n\n                \t\tvar documents = [];\n                \t\tif (isGroupItems) {\n                \t\t\tvar docs = {};\n    \t\t\t\t\t\tfor (var tag in tagsMap) {\n    \t\t\t\t\t\t\ttagsMap[tag].forEach(function(entry,i) {\n    \t\t\t\t\t\t\t\tvar text = str.substring(entry.start, entry.end).replace(/<\\/?\\w+(\\s+\\w)*>/g, \"\").trim();\n    \t\t\t\t\t\t\t\tif (text) {\n    \t\t\t\t\t\t\t\t\tvar item = entry.tag+(entry.attr ? \" \"+entry.attr : \"\");\n    \t\t\t\t\t\t\t\t\tif (item in docs) {\n    \t\t\t\t\t\t\t\t\t\tdocs[item]+= text;\n    \t\t\t\t\t\t\t\t\t} else {\n    \t\t\t\t\t\t\t\t\t\tdocs[item] = text;\n    \t\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t})\n    \t\t\t\t\t\t}\n    \t\t\t\t\t\tfor (var item in docs) {\n    \t\t\t\t\t\t\tdocuments.push({\n    \t\t\t\t\t\t\t\ttitle: item,\n    \t\t\t\t\t\t\t\ttext: docs[item]\n    \t\t\t\t\t\t\t})\n    \t\t\t\t\t\t}\n                \t\t} else {\n    \t\t\t\t\t\tfor (var tag in tagsMap) {\n    \t\t\t\t\t\t\ttagsMap[tag].forEach(function(entry,i) {\n    \t\t\t\t\t\t\t\tvar text = str.substring(entry.start, entry.end).replace(/<\\/?\\w+(\\s+\\w)*>/g, \"\").trim();\n    \t\t\t\t\t\t\t\tif (text) {\n    \t\t\t\t\t\t\t\t\tdocuments.push({\n    \t\t\t\t\t\t\t\t\t\ttitle: entry.tag+(entry.attr ? \" \"+entry.attr : \"\")+\" \"+(i+1),\n    \t\t\t\t\t\t\t\t\t\ttext: text\n    \t\t\t\t\t\t\t\t\t})\n    \t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t})\n    \t\t\t\t\t\t}\n                \t\t}\n\n                \t\tif (documents.length==0) {\n                \t\t\treturn this.showError({title: \"Error\", msg: \"No documents found.\"})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.mask();\n\t\t\t\t\t\tvar progress = Ext.Msg.progress(\"Creating\", \"Creating new corpus.\");\n\t\t\t\t\t\t// create new corpus\n\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\tnew Corpus({\n\t\t\t\t\t\t\tinputFormat: 'json',\n\t\t\t\t\t\t\tinput: Ext.JSON.encode({documents: documents}),\n\t\t\t\t\t\t\tjsonDocumentsPointer: \"/documents\",\n\t\t\t\t\t\t\tjsonTitlePointer: \"/title\",\n\t\t\t\t\t\t\tjsonContentPointer: \"/text\"\n\t\t\t\t\t\t}).then(function (corpus) {\n\t\t\t\t\t\t\tprogress.close();\n\t\t\t\t\t\t\tme.unmask();\n\t\t\t\t\t\t\tvar app = me.getApplication();\n\t\t\t\t\t\t\tme.openUrl(app.getBaseUrl()+\"?corpus=\"+corpus.getAliasOrId())\n\t\t\t\t\t\t});\n\n                \t\t\n                \t},\n                \tscope: this\n                },{\n                \txtype: 'checkbox',\n                \tboxLabel: \"Combine documents with the same tag attribute.\",\n                \tchecked: true\n                }]\n            }],\n    \t\titems: [{\n\t\t        \txtype: 'panel',\n    \t\t    \tautoScroll: true,\n\t\t        \tflex: 1,\n\t\t        \theight: '100%',\n\t\t        \talign: 'stretch',\n\t\t        \theader: false,\n\t\t        \tregion: 'center',\n\t\t        \tlisteners: {\n\t\t        \t\tboxready: function() {\n\t\t        \t\t\tvar me = this;\n\t\t        \t\t\tvar editor = ace.edit(Ext.getDom(this.getEl()));\n\t\t        \t\t\tmicroocp.setEditor(editor); // set to the containing panel\n//\t\t        \t\t\teditor.setOptions({enableBasicAutocompletion: false, enableLiveAutocompletion: false});\n//\t\t        \t\t\teditor.setTheme(\"ace/theme/monokai\");\n\t\t        \t\t\teditor.getSession().setMode(\"ace/mode/xml\")\n//\t\t        \t\t\teditor.$blockScrolling = Infinity;\n//\t\t        \t\t\teditor.getSession().setUseWorker(true);\n//\t\t        \t\t\teditor.setTheme(this.getTheme());\n//\t\t        \t\t\teditor.getSession().setMode(this.getMode());\n//\t\t        \t\t\teditor.setOptions({minLines: 6, maxLines: this.getMode().indexOf(\"javascript\")>-1 ? Infinity : 10, autoScrollEditorIntoView: true, scrollPastEnd: true});\n//\t\t        \t\t\teditor.setHighlightActiveLine(false);\n\t\t        \t\t\teditor.renderer.setShowPrintMargin(false);\n\t\t        \t\t\teditor.renderer.setShowGutter(false);\n//\t\t        \t\t\teditor.setValue(this.getContent() ? this.getContent() : this.localize('emptyText'));\n//\t\t        \t\t\teditor.clearSelection();\n//\t\t        \t\t    editor.on(\"focus\", function() {\n//\t\t        \t\t    \tme.getEditor().renderer.setShowGutter(true);\n//\t\t        \t\t    }, this);\n\t\t        \t\t\teditor.$blockScrolling = Infinity\n\t\t        \t\t\teditor.setOptions({autoScrollEditorIntoView: true});\n\t\t        \t\t\teditor.setBehavioursEnabled(false); // disable auto-complete\n\t\t        \t\t\teditor.on(\"change\", function(delta) {\n\t\t        \t\t\t\treparse = false;\n\t\t        \t\t\t\tif (delta.action==\"insert\") {\n\t\t        \t\t\t\t\tif (delta.lines[0].indexOf(\">\")==0) { // close tag\n\t\t        \t\t\t\t\t\treparse = true\n\t\t        \t\t\t\t\t}\n\t\t        \t\t\t\t} else if (delta.action==\"remove\") {\n\t\t        \t\t\t\t\tfor (var i=0; i<delta.lines.length; i++) {\n\t\t        \t\t\t\t\t\tif (delta.lines[i].indexOf(\">\")>-1) {\n\t\t        \t\t\t\t\t\t\treparse = true;\n\t\t        \t\t\t\t\t\t\tbreak;\n\t\t        \t\t\t\t\t\t}\n\t\t        \t\t\t\t\t}\n\t\t        \t\t\t\t}\n\t\t        \t\t\t\tif (reparse) {\n\t\t        \t\t\t\t\tExt.defer(function() {\n\t\t        \t\t\t\t\t\tvar str = editor.getValue();\n\t\t        \t\t\t\t\t\tvar tags = /<(\\w+)(\\s(\\w+))?>/g;\n\t\t        \t\t\t\t\t\tvar matches;\n\t\t        \t\t\t\t\t\tvar expressions = {}\n\t\t        \t\t\t\t\t\twhile ((matches = tags.exec(str)) != null) {\n\t\t        \t\t\t\t\t\t\tif (matches[3]) {expressions[matches[1]+\" \"+matches[3]]=true}\n\t\t        \t\t\t\t\t\t\telse {expressions[matches[1]]=true}\n\t\t        \t\t\t\t\t\t}\n\t\t        \t\t\t\t\t\t\n\t\t        \t\t\t\t\t\tvar store = this.up(\"panel\").down(\"grid\").getStore();\n\t\t        \t\t\t\t\t\tvar inStoreItems = {};\n\t\t        \t\t\t\t\t\tstore.getRange().forEach(function(item) {inStoreItems[item.get(\"cocoa\")]=true;});\n\t\t        \t\t\t\t\t\t\n\t\t        \t\t\t\t\t\tfor (item in expressions) {\n\t\t        \t\t\t\t\t\t\tif (!(item in inStoreItems)) {\n\t\t        \t\t\t\t\t\t\t\tstore.add({cocoa: item});\n\t\t        \t\t\t\t\t\t\t}\n\t\t        \t\t\t\t\t\t}\n\t\t        \t\t\t\t\t\tfor (inStoreItem in inStoreItems) {\n\t\t        \t\t\t\t\t\t\tif (!(inStoreItem in expressions)) {\n\t\t        \t\t\t\t\t\t\t\tvar rec = store.findRecord(\"cocoa\", inStoreItem)\n\t\t        \t\t\t\t\t\t\t\tstore.remove(rec);\n\t\t        \t\t\t\t\t\t\t}\n\t\t        \t\t\t\t\t\t}\n\t\t        \t\t\t\t\t\t\n\t\t        \t\t\t\t\t\t\n\t\t        \t\t\t\t\t}, 100, me)\n\t\t        \t\t\t\t}\n\t\t        \t\t\t})\n\t\t            \t\tif (microocp.getApiParam(\"uri\")) {\n\t\t            \t\t\tNotebook.loadDataFromUrl(microocp.getApiParam(\"uri\")).then(function(data) {\n\t\t            \t\t\t\tmicroocp.getEditor().setValue(data);\n\t\t            \t\t\t})\n\t\t            \t\t}\n\n\t\t        \t\t}\n\n\t\t        \t}\n\t\t        }, {\n\t\t        \txtype: 'grid',\n\t\t        \tregion: 'east',\n\t\t        \theight: '100%',\n\t\t        \talign: 'stretch',\n//    \t\t    \tautoScroll: true,\n    \t\t    \tscrollable: true,\n    \t\t    \theader: false,\n\n\t\t        \twidth: 200,\n\t\t    \t\tselModel: Ext.create('Ext.selection.CheckboxModel', {\n\t\t    \t\t\tmode: 'SIMPLE'\n\t\t            }),\n\t\t            store: store,\n\t\t            columns: [ {\n\t\t                text: 'COCOA',\n\t\t                flex: 1,\n\t\t                dataIndex: 'cocoa'\n\t\t            }]\n\t\t        }]\n    \t});\n\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tif (this.getApiParam('uri')) {return;}\n    \t\tvar me = this;\n    \t\tcorpus.getPlainText().then(function(text) {\n    \t\t\ttext = text.replace(/(\\r\\n|\\r|\\n)(\\r\\n|\\r|\\n)(\\r\\n|\\r|\\n)+/g,\"\\n\\n\")\n    \t\t\tvar editor = me.getEditor();\n    \t\t\teditor.setValue(text).trim();\n    \t\t\teditor.scrollToLine(1, true, true, function () {});\n    \t\t})\n    \t}, this);\n    \t\n    \tthis.on('afterrender', function(panel) {\n    \t\tExt.Msg.alert(\"MicroOCP\", \"MicroOCP is an experimental prototype that is intended to give a taste of working with the COCOA markup format (COunt and COncordance on the Atlas). Cocoa tags are like switches, you can place one and that tag remains in effect until the next instance of the tag, which can have an optional attribute (single word). As an enhancement to COCOA, you can also close a tag.<pre>&lt;speaker jack&gt;I'm falling &lt;speaker jill&gt;down the hill.&lt;/speaker&gt;</pre>\")\n    \t});\n    \t\n    \t\n    }\n        \n});\n","Ext.define('Voyant.panel.Reader', {\n\textend: 'Ext.panel.Panel',\n\trequires: ['Voyant.data.store.Tokens'],\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.reader',\n\tisConsumptive: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstart: 0,\n    \t\tlimit: 1000,\n    \t\tskipToDocId: undefined,\n    \t\tquery: undefined\n    \t},\n    \tglyph: 'xf0f6@FontAwesome'\n\t},\n    config: {\n    \tinnerContainer: undefined,\n    \ttokensStore: undefined,\n    \tdocumentsStore: undefined,\n    \tdocumentTermsStore: undefined,\n    \texportVisualization: false,\n    \tlastScrollTop: 0,\n\t\tscrollIntoView: false,\n\t\tinsertWhere: 'beforeEnd',\n    \tlastLocationUpdate: new Date(),\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}]\n    },\n    \n    SCROLL_UP: -1,\n    SCROLL_EQ: 0,\n    SCROLL_DOWN: 1,\n    \n\tLOCATION_UPDATE_FREQ: 100,\n\t\n\tINITIAL_LIMIT: 1000, // need to keep track since limit can be changed when scrolling,\n    \n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function(config) {\n    \tvar tokensStore = Ext.create(\"Voyant.data.store.Tokens\", {\n    \t\tparentTool: this,\n    \t\tproxy: {\n    \t\t\textraParams: {\n    \t\t\t\tforTool: 'reader'\n    \t\t\t}\n    \t\t}\n    \t})\n    \tvar me = this;\n    \ttokensStore.on(\"beforeload\", function(store) {\n    \t\treturn me.hasCorpusAccess(store.getCorpus());\n    \t})\n    \ttokensStore.on(\"load\", function(s, records, success) {\n    \t\tif (success) {\n\t    \t\tvar contents = \"\";\n\t    \t\tvar documentFrequency = this.localize(\"documentFrequency\");\n\t    \t\tvar isPlainText = false;\n\t    \t\tvar docIndex = -1;\n\t    \t\tvar isLastNewLine = false;\n\t    \t\trecords.forEach(function(record) {\n\t    \t\t\tif (record.getPosition()==0) {\n\t    \t\t\t\tcontents+=\"<h3>\"+this.getDocumentsStore().getById(record.getDocId()).getFullLabel()+\"</h3>\";\n\t    \t\t\t}\n\t    \t\t\tif (record.getDocIndex()!=docIndex) {\n\t    \t\t\t\tisPlainText = this.getDocumentsStore().getById(record.getDocId()).isPlainText();\n\t    \t\t\t\tdocIndex = record.getDocIndex();\n\t    \t\t\t}\n\t    \t\t\tif (record.isWord()) {\n\t    \t\t\t\tisLastNewLine = false;\n\t    \t\t\t\tcontents += \"<span class='word' id='\"+ record.getId() + \"' data-qtip='\"+documentFrequency+\" \"+record.getDocumentRawFreq()+\"'>\"+ record.getTerm() + \"</span>\";\n\t    \t\t\t}\n\t    \t\t\telse {\n\t    \t\t\t\tvar newContents = record.getTermWithLineSpacing(isPlainText);\n\t    \t\t\t\tvar isNewLine = newContents.indexOf(\"<br />\")==0;\n\t    \t\t\t\tif (isLastNewLine && (isNewLine || newContents.trim().length==0)) {}\n\t    \t\t\t\telse {\n\t    \t\t\t\t\tcontents += newContents;\n\t    \t\t\t\t\tisLastNewLine = isNewLine;\n\t    \t\t\t\t}\n\t    \t\t\t}\n\t    \t\t}, this);\n\t    \t\tthis.updateText(contents);\n\t    \t\t\n\t    \t\tvar keyword = this.down('querysearchfield').getValue();\n\t    \t\tif (keyword != '') {\n//\t    \t\t\tthis.highlightKeywords(keyword);\n\t    \t\t}\n    \t\t}\n    \t}, this);\n    \tthis.setTokensStore(tokensStore);\n    \t\n    \tthis.on(\"query\", function(src, queries) {\n    \t\tthis.loadQueryTerms(queries);\n    \t}, this);\n    \t\n    \tthis.setDocumentTermsStore(Ext.create(\"Ext.data.Store\", {\n\t\t\tmodel: \"Voyant.data.model.DocumentTerm\",\n    \t\tautoLoad: false,\n    \t\tremoteSort: false,\n    \t\tproxy: {\n\t\t\t\ttype: 'ajax',\n\t\t\t\turl: Voyant.application.getTromboneUrl(),\n\t\t\t\textraParams: {\n\t\t\t\t\ttool: 'corpus.DocumentTerms',\n\t\t\t\t\twithDistributions: true,\n\t\t\t\t\t// TODO handle positions\n\t\t\t\t\twithPositions: true,\n\t\t\t\t\tbins: 25,\n\t\t\t\t\tforTool: 'reader'\n\t\t\t\t},\n\t\t\t\treader: {\n\t\t\t\t\ttype: 'json',\n\t\t            rootProperty: 'documentTerms.terms',\n\t\t            totalProperty: 'documentTerms.total'\n\t\t\t\t},\n\t\t\t\tsimpleSortMode: true\n   \t\t    },\n   \t\t    listeners: {\n   \t\t    load: function(store, records, successful, opts) {\n   \t\t    \t\tstore.sort('docIndex', 'ASC');\n   \t\t    \t\tvar term; // store last accessed term\n   \t\t    \t\tstore.each(function(r) {\n   \t\t    \t\t\tterm = r.get('term');\n   \t\t    \t\t}, this);\n   \t\t    \t\t \n   \t\t    \t\tthis.highlightKeywords(term);\n//   \t\t    \t\t this.down('querysearchfield').setValue(term);\n   \t\t    \t},\n   \t\t    \tscope: this\n   \t\t    }\n    \t}));\n    \t\n    \tthis.on(\"afterrender\", function() {\n    \t\tvar centerPanel = this.down('panel[region=\"center\"]');\n    \t\tthis.setInnerContainer(centerPanel.getLayout().getRenderTarget());\n    \t\t\n    \t\t// scroll listener\n    \t\tcenterPanel.body.on(\"scroll\", function(event, target) {\n    \t\t\tvar scrollDir = this.getLastScrollTop() < target.scrollTop ? this.SCROLL_DOWN\n    \t\t\t\t\t\t\t\t: this.getLastScrollTop() > target.scrollTop ? this.SCROLL_UP\n\t\t\t\t\t\t\t\t\t: this.SCROLL_EQ;\n    \t\t\t\n    \t\t\t// scroll up\n    \t\t\tif (scrollDir == this.SCROLL_UP && target.scrollTop < 1) {\n    \t\t\t\tthis.fetchPrevious(true);\n    \t\t\t// scroll down\n    \t\t\t} else if (scrollDir == this.SCROLL_DOWN && target.scrollHeight - target.scrollTop < target.offsetHeight*1.5) {//target.scrollTop+target.offsetHeight>target.scrollHeight/2) { // more than half-way down\n    \t\t\t\tthis.fetchNext(false);\n    \t\t\t} else {\n    \t\t\t\tvar amount;\n    \t\t\t\tif (target.scrollTop == 0) {\n    \t\t\t\t\tamount = 0;\n    \t\t\t\t} else if (target.scrollHeight - target.scrollTop == target.clientHeight) {\n    \t\t\t\t\tamount = 1;\n    \t\t\t\t} else {\n    \t\t\t\t\tamount = (target.scrollTop + target.clientHeight * 0.5) / target.scrollHeight;\n    \t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar now = new Date();\n        \t\t\tif (now - this.getLastLocationUpdate() > this.LOCATION_UPDATE_FREQ || amount == 0 || amount == 1) {\n        \t\t\t\tthis.updateLocationMarker(amount, scrollDir);\n        \t\t\t}\n    \t\t\t}\n    \t\t\tthis.setLastScrollTop(target.scrollTop);\n    \t\t}, this);\n    \t\t\n    \t\t// click listener\n    \t\tcenterPanel.body.on(\"click\", function(event, target) {\n    \t\t\ttarget = Ext.get(target);\n    \t\t\tif (target.hasCls('word')) {\n    \t\t\t\tvar info = Voyant.data.model.Token.getInfoFromElement(target);\n    \t\t\t\tvar term = target.getHtml();\n    \t\t\t\tvar data = [{\n    \t\t\t\t\tterm: term,\n    \t\t\t\t\tdocIndex: info.docIndex\n    \t\t\t\t}];\n    \t\t\t\tthis.loadQueryTerms([term]);\n    \t\t\t\tthis.getApplication().dispatchEvent('termsClicked', this, data);\n    \t\t\t}\n    \t\t}, this);\n    \t\t\n    \t\tif (this.getCorpus()) {\n    \t\t\tthis.load();\n\t    \t\tvar query = this.getApiParam('query');\n\t    \t\tif (query) {\n\t    \t\t\tthis.loadQueryTerms(Ext.isString(query) ? [query] : query);\n\t    \t\t}\n    \t\t}\n\t\t\tthis.on(\"loadedCorpus\", function() {\n    \t\t\tthis.load(true); // make sure to clear in case we're replacing the corpus\n\t    \t\tvar query = this.getApiParam('query');\n\t    \t\tif (query) {\n\t    \t\t\tthis.loadQueryTerms(Ext.isString(query) ? [query] : query);\n\t    \t\t}\n\t\t\t}, this);\n    \t}, this);\n    \t\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tcls: 'voyant-reader',\n    \t    layout: 'fit',\n    \t    items: {\n    \t    \tlayout: 'border',\n    \t    \titems: [{\n    \t\t    \tbodyPadding: 10,\n    \t\t    \tregion: 'center',\n    \t\t    \tborder: false,\n    \t\t    \tautoScroll: true,\n    \t\t    \thtml: '<div class=\"readerContainer\"></div>'\n    \t\t    },{\n\t\t\t\t\txtype: 'readergraph',\n    \t\t    \tregion: 'south',\n    \t\t    \theight: 40,\n    \t\t    \tsplit: {\n    \t\t    \t\tsize: 2\n    \t\t    \t},\n    \t\t    \tsplitterResize: true,\n\t\t\t\t\tborder: false,\n\t\t\t\t\tlisteners: {\n\t\t\t\t\t\tdocumentRelativePositionSelected: function(src, data) {\n\t\t\t\t\t\t\tvar doc = this.getDocumentsStore().getAt(data.docIndex);\n\t\t\t\t\t\t\tvar totalTokens = doc.get('tokensCount-lexical');\n\t\t\t\t\t\t\tvar position = Math.floor(totalTokens * data.fraction);\n\t\t\t\t\t\t\tvar bufferPosition = position - (this.getApiParam('limit')/2);\n\t\t\t\t\t\t\tthis.setApiParams({'skipToDocId': doc.getId(), start: bufferPosition < 0 ? 0 : bufferPosition});\n\t\t\t\t\t\t\tthis.load(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}\n    \t\t    }]\n    \t    },\n    \t\t// TODO clearing search loads default document terms into chart but probably shouldn't\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                \tglyph: 'xf060@FontAwesome',\n            \t\thandler: function() {\n            \t\t\tthis.fetchPrevious(true);\n            \t\t},\n            \t\tscope: this\n            \t},{\n            \t\tglyph: 'xf061@FontAwesome',\n            \t\thandler: function() {\n            \t\t\tthis.fetchNext(true);\n            \t\t},\n            \t\tscope: this\n            \t},{xtype: 'tbseparator'},{\n                    xtype: 'querysearchfield'\n                }]\n    \t\t}],\n    \t\tlisteners: {\n    \t\t\tloadedCorpus: function(src, corpus) {\n    \t    \t\tthis.getTokensStore().setCorpus(corpus);\n    \t    \t\tthis.getDocumentTermsStore().getProxy().setExtraParam('corpus', corpus.getId());\n    \t    \t\t\n    \t    \t\tvar docs = corpus.getDocuments();\n    \t    \t\tthis.setDocumentsStore(docs);\n    \t    \t\t\n    \t    \t\tif (this.rendered) {\n    \t    \t\t\tthis.load();\n        \t    \t\tif (this.hasCorpusAccess(corpus)==false) {\n        \t    \t\t\tthis.mask(this.localize(\"limitedAccess\"), 'mask-no-spinner')\n        \t    \t\t}\n        \t    \t\tvar query = this.getApiParam('query');\n        \t    \t\tif (query) {\n        \t    \t\t\tthis.loadQueryTerms(Ext.isString(query) ? [query] : query);\n        \t    \t\t}\n    \t    \t\t}\n    \t    \t\t\n    \t\t\t},\n            \ttermsClicked: function(src, terms) {\n            \t\tvar queryTerms = [];\n            \t\tterms.forEach(function(term) {\n            \t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\n            \t\t\telse if (term.term) {queryTerms.push(term.term);}\n            \t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\n            \t\t});\n            \t\tif (queryTerms.length > 0) {\n            \t\t\tthis.loadQueryTerms(queryTerms);\n            \t\t}\n        \t\t},\n        \t\tcorpusTermsClicked: function(src, terms) {\n        \t\t\tvar queryTerms = [];\n            \t\tterms.forEach(function(term) {\n            \t\t\tif (term.getTerm()) {queryTerms.push(term.getTerm());}\n            \t\t});\n            \t\tthis.loadQueryTerms(queryTerms);\n        \t\t},\n        \t\tdocumentTermsClicked: function(src, terms) {\n        \t\t\tvar queryTerms = [];\n            \t\tterms.forEach(function(term) {\n            \t\t\tif (term.getTerm()) {queryTerms.push(term.getTerm());}\n            \t\t});\n            \t\tthis.loadQueryTerms(queryTerms);\n        \t\t},\n        \t\tdocumentSelected: function(src, document) {\n        \t\t\tvar corpus = this.getTokensStore().getCorpus();\n        \t\t\tvar doc = corpus.getDocument(document);\n        \t\t\tthis.setApiParams({'skipToDocId': doc.getId(), start: 0});\n\t\t\t\t\tthis.load(true);\n        \t\t},\n        \t\tdocumentsClicked: function(src, documents, corpus) {\n        \t\t\tif (documents.length > 0) {\n            \t\t\tvar doc = documents[0];\n            \t\t\tthis.setApiParams({'skipToDocId': doc.getId(), start: 0});\n\t\t\t\t\t\tthis.load(true);\n            \t\t}\n        \t\t},\n        \t\ttermLocationClicked: function(src, terms) {\n    \t\t\t\tif (terms[0] !== undefined) {\n    \t\t\t\t\tvar term = terms[0];\n    \t\t\t\t\tvar docIndex = term.get('docIndex');\n    \t\t\t\t\tvar position = term.get('position');\n    \t\t\t\t\tvar bufferPosition = position - (this.getApiParam('limit')/2);\n    \t\t\t\t\tvar doc = this.getCorpus().getDocument(docIndex);\n    \t\t\t\t\tthis.setApiParams({'skipToDocId': doc.getId(), start: bufferPosition < 0 ? 0 : bufferPosition});\n    \t\t\t\t\tthis.load(true, {\n    \t\t\t\t\t\tcallback: function() {\n    \t\t\t\t\t\t\tvar el = this.body.dom.querySelector(\"#_\" + docIndex + \"_\" + position);\n    \t\t\t\t\t\t\tif (el) {\n    \t\t\t\t\t\t\t\tel.scrollIntoView();\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\tthis.highlightKeywords(term.get('term'), false);\n    \t\t\t\t\t\t},\n    \t\t\t\t\t\tscope: this\n    \t\t\t\t\t});\n    \t\t\t\t};\n        \t\t},\n        \t\tdocumentIndexTermsClicked: function(src, terms) {\n        \t\t\tif (terms[0] !== undefined) {\n    \t\t\t\t\tvar term = terms[0];\n    \t\t\t\t\tvar termRec = Ext.create('Voyant.data.model.Token', term);\n    \t\t\t\t\tthis.fireEvent('termLocationClicked', this, [termRec]);\n        \t\t\t}\n        \t\t},\n        \t\tscope: this\n    \t\t}\n    \t});\n    \t\n        this.callParent(arguments);\n    },\n    \n    loadQueryTerms: function(queryTerms) {\n    \tif (queryTerms && queryTerms.length > 0) {\n\t\t\tthis.getDocumentTermsStore().load({\n\t\t\t\tparams: {\n\t\t\t\t\tquery: queryTerms/*,\n    \t\t\t\tdocIndex: undefined,\n    \t\t\t\tdocId: undefined,\n    \t\t\t\tpage: undefined,\n    \t\t\t\tstart: undefined,\n    \t\t\t\tlimit: undefined*/\n    \t\t\t}\n\t\t\t});\n\t\t\tthis.down('readergraph').loadQueryTerms(queryTerms);\n\t\t}\n    },\n    \n    highlightKeywords: function(query, doScroll) {\n\t\tif (!Ext.isArray(query)) query = [query];\n\t\t\n\t\tthis.getInnerContainer().first().select('span[class*=keyword]').removeCls('keyword');\n\t\t\n\t\tvar spans = [];\n\t\tvar caseInsensitiveQuery = new RegExp('^'+query[0]+'$', 'i');\n\t\tvar nodes = this.getInnerContainer().first().select('span.word');\n\t\tnodes.each(function(el, compEl, index) {\n\t\t\tif (el.dom.firstChild && el.dom.firstChild.nodeValue.match(caseInsensitiveQuery)) {\n\t\t\t\tel.addCls('keyword');\n\t\t\t\tspans.push(el.dom);\n\t\t\t}\n\t\t});\n\t\t\n//\t\tif (doScroll && spans[0] !== undefined) {\n//\t\t\tExt.get(nodes[0]).scrollIntoView(reader).frame(\"ff0000\", 1, { duration: 2 });\n//\t\t}\n\t},\n    \n\tfetchPrevious: function(scroll) {\n\t\tvar readerContainer = this.getInnerContainer().first();\n\t\tvar first = readerContainer.first('.word');\n\t\tif (first != null && first.hasCls(\"loading\")===false) {\n\t\t\twhile(first) {\n\t\t\t\tif (first.hasCls(\"word\")) {\n\t\t\t\t\tvar info = Voyant.data.model.Token.getInfoFromElement(first);\n\t\t\t\t\tvar docIndex = info.docIndex;\n\t\t\t\t\tvar start = info.position;\n\t\t\t\t\tvar doc = this.getDocumentsStore().getAt(docIndex);    \t\t\t\t\t\t\n\t\t\t\t\tvar limit = this.getApiParam('limit');\n\t\t\t\t\tvar getPrevDoc = false;\n\t\t\t\t\tif (docIndex === 0 && start === 0) {\n\t\t\t\t\t\tvar scrollContainer = this.down('panel[region=\"center\"]').body;\n\t\t\t\t\t\tvar scrollNeeded = first.getScrollIntoViewXY(scrollContainer, scrollContainer.dom.scrollTop, scrollContainer.dom.scrollLeft);\n\t\t\t\t\t\tif (scrollNeeded.y != 0) {\n\t\t\t\t\t\t\tfirst.dom.scrollIntoView();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfirst.frame(\"red\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (docIndex > 0 && start === 0) {\n\t\t\t\t\t\tgetPrevDoc = true;\n\t\t\t\t\t\tdocIndex--;\n\t\t\t\t\t\tdoc = this.getDocumentsStore().getAt(docIndex);\n\t\t\t\t\t\tvar totalTokens = doc.get('tokensCount-lexical');\n\t\t\t\t\t\tstart = totalTokens-limit;\n\t\t\t\t\t\tif (start < 0) {\n\t\t\t\t\t\t\tstart = 0;\n\t\t\t\t\t\t\tthis.setApiParam('limit', totalTokens);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlimit--; // subtract one to limit for the word we're removing. need to do this to account for non-lexical tokens before/after first word.\n\t\t\t\t\t\tstart -= limit;\n\t\t\t\t\t}\n\t\t\t\t\tif (start < 0) start = 0;\n\t\t\t\t\t\n\t\t\t\t\tvar mask = first.insertSibling(\"<div class='loading'>\"+this.localize('loading')+\"</div>\", 'before', false).mask();\n\t\t\t\t\tif (!getPrevDoc) {\n\t\t\t\t\t\tfirst.destroy();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar id = doc.getId();\n\t\t\t\t\tthis.setApiParams({'skipToDocId': id, start: start});\n\t\t\t\t\tthis.setInsertWhere('afterBegin')\n\t\t\t\t\tthis.setScrollIntoView(scroll);\n\t\t\t\t\tthis.load();\n\t\t\t\t\tthis.setApiParam('limit', this.INITIAL_LIMIT);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfirst.destroy(); // remove non word\n\t\t\t\tfirst = readerContainer.first();\n\t\t\t}\n\t\t}\n\t},\n\t\n\tfetchNext: function(scroll) {\n\t\tvar readerContainer = this.getInnerContainer().first();\n\t\tvar last = readerContainer.last();\n\t\tif (last.hasCls(\"loading\")===false) {\n\t\t\twhile(last) {\n\t\t\t\tif (last.hasCls(\"word\")) {\n\t\t\t\t\tvar info = Voyant.data.model.Token.getInfoFromElement(last);\n\t\t\t\t\tvar docIndex = info.docIndex;\n\t\t\t\t\tvar start = info.position;\n\t\t\t\t\tvar doc = this.getDocumentsStore().getAt(info.docIndex);\n\t\t\t\t\tvar id = doc.getId();\n\t\t\t\t\t\n\t\t\t\t\tvar totalTokens = doc.get('tokensCount-lexical');\n\t\t\t\t\tif (start + this.getApiParam('limit') >= totalTokens && docIndex == this.getCorpus().getDocumentsCount()-1) {\n\t\t\t\t\t\tvar limit = totalTokens - start;\n\t\t\t\t\t\tif (limit <= 1) {\n\t\t\t\t\t\t\tlast.dom.scrollIntoView();\n\t\t\t\t\t\t\tlast.frame(\"red\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.setApiParam('limit', limit);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// remove any text after the last word\n\t\t\t\t\tvar nextSib = last.dom.nextSibling;\n\t\t\t\t\twhile(nextSib) {\n\t\t\t\t\t\tvar oldNext = nextSib;\n\t\t\t\t\t\tnextSib = nextSib.nextSibling;\n\t\t\t\t\t\toldNext.parentNode.removeChild(oldNext);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar mask = last.insertSibling(\"<div class='loading'>\"+this.localize('loading')+\"</div>\", 'after', false).mask();\n\t\t\t\t\tlast.destroy();\n\t\t\t\t\tthis.setApiParams({'skipToDocId': id, start: info.position});\n\t\t\t\t\tthis.setInsertWhere('beforeEnd');\n\t\t\t\t\tthis.setScrollIntoView(scroll);\n\t\t\t\t\tthis.load(); // callback not working on buffered store\n\t\t\t\t\tthis.setApiParam('limit', this.INITIAL_LIMIT);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlast.destroy(); // remove non word\n\t\t\t\tlast = readerContainer.last();\n\t\t\t}\n\t\t}\n\t},\n\t\n    load: function(doClear, config) {\n    \tif (doClear) {\n    \t\tthis.getInnerContainer().first().destroy(); // clear everything\n    \t\tthis.getInnerContainer().setHtml('<div class=\"readerContainer\"><div class=\"loading\">'+this.localize('loading')+'</div></div>');\n\t\t\tthis.getInnerContainer().first().first().mask();\n\t\t}\n    \tthis.getTokensStore().load(Ext.apply(config || {}, {\n    \t\tparams: Ext.apply(this.getApiParams(), {\n    \t\t\tstripTags: 'blocksOnly',\n    \t\t\tstopList: '' // token requests shouldn't have stopList\n    \t\t})\n    \t}));\n    },\n    \n    updateText: function(contents) {\n    \tvar loadingMask = this.getInnerContainer().down('.loading');\n    \tif (loadingMask) loadingMask.destroy();\n    \t// FIXME: something is weird here in tool/Reader mode, this.getInnerContainer() seems empty but this.getInnerContainer().first() gets the canvas?!?\n    \tvar inserted = this.getInnerContainer().first().insertHtml(this.getInsertWhere()/* where is this defined? */, contents, true); // return Element, not dom\n    \tif (inserted && this.getScrollIntoView()) {\n    \t\tinserted.dom.scrollIntoView(); // use dom\n    \t\t// we can't rely on the returned element because it can be a transient fly element, but the id is right in a deferred call\n    \t\tExt.Function.defer(function() {\n    \t\t\tvar el = Ext.get(inserted.id); // re-get el\n    \t\t\tif (el) {el.frame(\"red\")}\n    \t\t}, 100);\n    \t}\n    \tvar target = this.down('panel[region=\"center\"]').body.dom;\n    \tvar amount;\n\t\tif (target.scrollTop == 0) {\n\t\t\tamount = 0;\n\t\t} else if (target.scrollHeight - target.scrollTop == target.clientHeight) {\n\t\t\tamount = 1;\n\t\t} else {\n\t\t\tamount = (target.scrollTop + target.clientHeight * 0.5) / target.scrollHeight;\n\t\t}\n    \tthis.updateLocationMarker(amount);\n\t},\n\t\n\tupdateLocationMarker: function(amount, scrollDir) {\n\t\tvar readerWords = Ext.DomQuery.select('.word', this.getInnerContainer().down('.readerContainer', true));\n\t\tvar firstWord = readerWords[0];\n\t\tvar lastWord = readerWords[readerWords.length-1];\n\t\tif (firstWord !== undefined && lastWord !== undefined) {\n\t\t\tvar corpus = this.getCorpus();\n\t\t\tvar partialFirstDoc = false;\n\t\t\t\n\t\t\tvar info1 = Voyant.data.model.Token.getInfoFromElement(Ext.get(firstWord));\n\t\t\tvar info2 = Voyant.data.model.Token.getInfoFromElement(Ext.get(lastWord));\n\t\t\tif (info1.position !== 0) {\n\t\t\t\tpartialFirstDoc = true;\n\t\t\t}\n\n\t\t\tvar docTokens = {};\n\t\t\tvar totalTokens = 0;\n\t\t\tvar currIndex = info1.docIndex;\n\t\t\twhile (currIndex <= info2.docIndex) {\n\t\t\t\tvar tokens = corpus.getDocument(currIndex).get('tokensCount-lexical');\n\t\t\t\tif (currIndex === info2.docIndex) {\n\t\t\t\t\ttokens = info2.position; // only count tokens up until last displayed word\n\t\t\t\t}\n\t\t\t\tif (currIndex === info1.docIndex) {\n\t\t\t\t\ttokens -= info1.position; // subtract missing tokens, if any\n\t\t\t\t}\n\t\t\t\ttotalTokens += tokens;\n\t\t\t\tdocTokens[currIndex] = tokens;\n\t\t\t\tcurrIndex++;\n\t\t\t}\n\t\t\t\n\t\t\tvar tokenPos = Math.round(totalTokens * amount);\n\t\t\tvar docIndex = 0;\n\t\t\tvar currToken = 0;\n\t\t\tfor (var i = info1.docIndex; i <= info2.docIndex; i++) {\n\t\t\t\tdocIndex = i;\n\t\t\t\tcurrToken += docTokens[i];\n\t\t\t\tif (currToken >= tokenPos) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar remains = (currToken - tokenPos);\n\t\t\tvar tokenPosInDoc = docTokens[docIndex] - remains;\n\t\t\t\n\t\t\tif (partialFirstDoc && docIndex === info1.docIndex) {\n\t\t\t\ttokenPosInDoc += info1.position;\n\t\t\t}\n\t\t\t\t\n\t\t\tvar fraction = tokenPosInDoc / corpus.getDocument(docIndex).get('tokensCount-lexical');\n\n\t\t\tthis.down('readergraph').moveLocationMarker(docIndex, fraction, scrollDir);\n\t\t}\n\t},\n    \n    updateChart: function() {\n    \t\n    }\n});\n","Ext.define('Voyant.panel.SimpleDocReader', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.simpledocreader',\n\tisConsumptive: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tdocIndex: undefined,\n    \t\tdocId: undefined\n    \t},\n    \tglyph: 'xf0f6@FontAwesome'\n\t},\n    config: {\n    },\n    \n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function(config) {\n    \tvar me = this;\n    \tExt.apply(this, {\n    \t\thtml: '<iframe style=\"width: 100%; height: 100%; border: none;\"></iframe>',\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                \tglyph: 'xf060@FontAwesome',\n            \t\thandler: this.fetchPrevious,\n            \t\tscope: this\n            \t},{\n            \t\tglyph: 'xf061@FontAwesome',\n            \t\thandler: this.fetchNext,\n            \t\tscope: this\n                }]\n    \t\t}],\n    \t\tlisteners: {\n    \t\t\tloadedCorpus: function(src, corpus) {\n    \t\t\t\t\n    \t\t\t\t// we can keep the reader blank to begin\n    \t\t\t\tif (this.getApiParam(\"autoLoadOnLoadedCorpus\", \"false\")===\"true\") {return;}\n    \t\t\t\t\n    \t\t\t\tthis.fireEvent(\"documentSelected\", this, 0);\n    \t\t\t\t\n    \t\t\t},\n        \t\tdocumentSelected: function(src, document) {\n        \t\t\tthis.setApiParams({\n        \t\t\t\tdocIndex: this.getCorpus().getDocument(document).getIndex(),\n        \t\t\t\tdocId: undefined\n        \t\t\t});\n        \t\t\tthis.fetch();\n        \t\t},\n        \t\tscope: this\n    \t\t}\n    \t});\n    \t\n        this.callParent(arguments);\n    },\n    \n\tfetchPrevious: function() {\n\t\tvar doc;\n\t\tif (this.getApiParam(\"docIndex\")!==undefined) {doc = this.getCorpus().getDocument(this.getApiParam(\"docIndex\"));}\n\t\telse if (this.getApiParam(\"docId\")!==undefined) {doc = this.getCorpus().getDocument(this.getApiParam(\"docId\"));}\n\t\telse {doc = this.getCorpus().getDocument(1);}\n\t\tif (doc.getIndex()>0) {\n\t\t\tthis.setApiParams({docIndex: doc.getIndex()-1, docId: undefined});\n\t\t\tthis.fetch();\n\t\t} else {\n\t\t\tthis.toastInfo(this.localize('noPrevious'))\n\t\t}\n\t},\n\t\n\tfetchNext: function() {\n\t\tvar doc;\n\t\tif (this.getApiParam(\"docIndex\")!==undefined) {doc = this.getCorpus().getDocument(this.getApiParam(\"docIndex\"));}\n\t\telse if (this.getApiParam(\"docId\")!==undefined) {doc = this.getCorpus().getDocument(this.getApiParam(\"docId\"));}\n\t\telse {\n\t\t\tthis.setApiParams({docIndex: 0, docId: undefined});\n\t\t\treturn this.fetch();\n\t\t}\n\t\tif (doc.getIndex()<this.getCorpus().getDocumentsCount()-1) {\n\t\t\tthis.setApiParams({docIndex: doc.getIndex()+1, docId: undefined});\n\t\t\tthis.fetch();\n\t\t} else {\n\t\t\tthis.toastInfo(this.localize('noNext'))\n\t\t}\n\t},\n\t\n\tfetch: function() {\n\t\tvar doc;\n\t\tif (this.getApiParam(\"docIndex\")!==undefined) {doc = this.getCorpus().getDocument(this.getApiParam(\"docIndex\"));}\n\t\telse if (this.getApiParam(\"docId\")!==undefined) {doc = this.getCorpus().getDocument(this.getApiParam(\"docId\"));}\n\t\telse {doc = this.getCorpus().getDocument(0);}\n\t\tvar iframe = this.getTargetEl().down(\"iframe\", true);\n\t\tiframe.setAttribute(\"src\", \"about:blank\")\n\t\tif (this.getApiParam(\"originalUrlMetadataKey\")) {\n\t\t\tvar url = doc.get(this.getApiParam(\"originalUrlMetadataKey\"));\n\t\t\tif (url) {\n\t\t\t\tiframe.setAttribute(\"src\", url)\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar params = {\n\t\t\tcorpus: this.getCorpus().getId(),\n\t\t\tdocIndex: doc.getIndex(),\n\t\t\ttool: 'corpus.DocumentTokens',\n\t\t\ttemplate: 'docTokensPlusStructure2html',\n\t\t\toutputFormat: 'html',\n\t\t\tlimit: 0\n\t\t}\n\t\tvar url = this.getTromboneUrl() + \"?\" + Ext.Object.toQueryString(params);\n\t\tiframe.setAttribute(\"src\", url);\n\n\t}\n});\n","Ext.define('Voyant.panel.ScatterPlot', {\r\n\textend: 'Ext.panel.Panel',\r\n\tmixins: ['Voyant.panel.Panel'],\r\n\trequires: ['Ext.chart.CartesianChart'],\r\n\talias: 'widget.scatterplot',\r\n    statics: {\r\n    \ti18n: {\r\n    \t},\r\n    \tapi: {\r\n    \t\tdocId: undefined,\r\n    \t\tanalysis: 'ca',\r\n    \t\tlimit: 50,\r\n    \t\tdimensions: 3,\r\n    \t\tbins: 10,\r\n    \t\tclusters: 3,\r\n    \t\tperplexity: 15,\r\n    \t\titerations: 1500,\r\n    \t\tcomparisonType: 'relative',\r\n    \t\tstopList: 'auto',\r\n    \t\ttarget: undefined,\r\n    \t\tterm: undefined,\r\n    \t\tquery: undefined,\r\n    \t\twhitelist: undefined,\r\n    \t\tlabel: ['summary', 'docs', 'terms'],\r\n    \t\tstoreJson: undefined\r\n    \t},\r\n\t\tglyph: 'xf06e@FontAwesome'\r\n    },\r\n\tconfig: {\r\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\r\n    \tcaStore: null,\r\n    \tpcaStore: null,\r\n    \ttsneStore: null,\r\n    \tdocSimStore: null,\r\n    \ttermStore: null,\r\n    \tchartMenu: null,\r\n    \tnewTerm: null,\r\n    \ttermsTimeout: null,\r\n    \thighlightData: {x: 0, y: 0, r: 0},\r\n        highlightTask: null\r\n\t},\r\n    \r\n    tokenFreqTipTemplate: null,\r\n    docFreqTipTemplate: null,\r\n    \r\n    constructor: function(config) {\r\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\r\n\t\tif (\"storeJson\" in config) {\r\n    \t\tvar json = JSON.parse(config.storeJson);\r\n    \t\tExt.apply(config, json);\r\n    \t}\r\n\t\tthis.callParent(arguments);\r\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\r\n    },\r\n    \r\n    initComponent: function() {\r\n    \tthis.setCaStore(Ext.create('Voyant.data.store.CAAnalysis', {\r\n    \t\tlisteners: {load: this.maskAndBuildChart, scope: this}\r\n    \t}));\r\n    \tthis.setPcaStore(Ext.create('Voyant.data.store.PCAAnalysis', {\r\n    \t\tlisteners: {load: this.maskAndBuildChart, scope: this}\r\n    \t}));\r\n    \tthis.setTsneStore(Ext.create('Voyant.data.store.TSNEAnalysis', {\r\n    \t\tlisteners: {load: this.maskAndBuildChart, scope: this}\r\n    \t}));\r\n    \tthis.setDocSimStore(Ext.create('Voyant.data.store.DocSimAnalysis', {\r\n    \t\tlisteners: {load: this.maskAndBuildChart, scope: this}\r\n    \t}));\r\n    \t\r\n    \tthis.setTermStore(Ext.create('Ext.data.JsonStore', {\r\n\t\t\tfields: [\r\n\t\t\t\t{name: 'term'},\r\n\t\t\t\t{name: 'rawFreq', type: 'int'},\r\n\t\t\t\t{name: 'relativeFreq', type: 'number'},\r\n\t\t\t\t{name: 'coordinates', mapping : 'vector'},\r\n\t\t\t\t{name: 'category'}\r\n\t\t\t],\r\n\t\t\tsorters: [{property: 'rawFreq', direction: 'DESC'}],\r\n\t\t\tgroupField: 'category'\r\n\t\t}));\r\n    \t\r\n    \tthis.setChartMenu(Ext.create('Ext.menu.Menu', {\r\n    \t\titems: [\r\n    \t\t\t{text: this.localize('remove'), itemId: 'remove', glyph: 'xf068@FontAwesome'},\r\n    \t\t\t{text: this.localize('nearby'), itemId: 'nearby', glyph: 'xf0b2@FontAwesome'}\r\n    \t\t],\r\n    \t\tlisteners: {\r\n    \t\t\thide: function() {\r\n    \t\t\t\tvar series = this.down('#chart').getSeries();\r\n    \t\t\t\tseries[0].enableToolTips();\r\n    \t\t\t\tseries[1].enableToolTips();\r\n    \t\t\t},\r\n    \t\t\tscope: this\r\n    \t\t}\r\n    \t}));\r\n    \t\r\n    \tthis.tokenFreqTipTemplate = new Ext.Template(this.localize('tokenFreqTip'));\r\n    \tthis.docFreqTipTemplate = new Ext.Template(this.localize('docFreqTip'));\r\n    \t\r\n        Ext.apply(this, {\r\n        \ttitle: this.localize('title'),\r\n        \tlayout: 'border',\r\n        \tautoDestroy: true,\r\n        \titems: [{\r\n    \t\t\titemId: 'chartParent',\r\n    \t\t\tregion: 'center',\r\n    \t\t\tlayout: 'fit',\r\n        \t\ttbar: {\r\n        \t\t\toverflowHandler: 'scroller',\r\n        \t\t\titems: [{\r\n        \t\t\t\txtype: 'querysearchfield',\r\n        \t\t\t\titemId: 'filterTerms',\r\n        \t\t\t\twidth: 150\r\n        \t\t\t},{\r\n                \t\ttext: this.localize('labels'),\r\n                \t\titemId: 'labels',\r\n                \t\tglyph: 'xf02b@FontAwesome',\r\n                \t\tmenu: {\r\n                \t\t\titems: [\r\n                \t\t\t    {text: this.localize(\"summaryLabel\"), itemId: 'summary', xtype: 'menucheckitem'},\r\n                \t\t\t    {text: this.localize(\"docsLabel\"), itemId: 'docs', xtype: 'menucheckitem'},\r\n                \t\t\t    {text: this.localize(\"termsLabel\"), itemId: 'terms', xtype: 'menucheckitem'}\r\n                \t\t\t],\r\n        \t\t\t\t\tlisteners: {\r\n        \t\t\t\t\t\tafterrender: function(menu) {\r\n        \t\t\t\t\t\t\tvar labels = this.getApiParam('label');\r\n        \t\t\t\t\t\t\tmenu.items.each(function(item) {\r\n        \t\t\t\t\t\t\t\titem.setChecked(labels.indexOf(item.getItemId())>-1)\r\n        \t\t\t\t\t\t\t})\r\n        \t\t\t\t\t\t},\r\n        \t\t\t\t\t\tclick: function(menu, item) {\r\n        \t\t\t\t\t\t\tvar labels = this.getApiParam(\"label\");\r\n        \t\t\t\t\t\t\tvar label = item.getItemId();\r\n        \t\t\t\t\t\t\tif (Ext.isString(labels)) {labels = [labels]}\r\n        \t\t\t\t\t\t\tif (item.checked && labels.indexOf(label)==-1) {\r\n        \t\t\t\t\t\t\t\tlabels.push(label)\r\n        \t\t\t\t\t\t\t} else if (!item.checked && labels.indexOf(label)>-1) {\r\n        \t\t\t\t\t\t\t\tlabels = labels.filter(function(item) {return item!=label})\r\n        \t\t\t\t\t\t\t}\r\n        \t\t\t\t\t\t\tthis.setApiParam(\"label\", labels);\r\n        \t\t\t\t\t\t\tthis.doLabels();\r\n        \t\t\t\t\t\t\tthis.queryById('chart').redraw();\r\n        \t\t\t\t\t\t},\r\n        \t\t\t\t\t\tscope: this\r\n        \t\t\t\t\t}\r\n                \t\t}\r\n                \t}]\r\n        \t\t\t\r\n        \t\t},\r\n        \t\tlisteners: {\r\n        \t\t\tquery: function(component, value) {\r\n        \t\t\t\tthis.getTermStore().filter([{property: 'term', value: value, anyMatch: true}]);\r\n        \t\t\t\tthis.filterChart(value);\r\n        \t\t\t},\r\n        \t\t\tscope: this\r\n        \t\t}\r\n    \t\t},{\r\n    \t\t\titemId: 'optionsPanel',\r\n        \t\ttitle: this.localize('options'),\r\n        \t\tregion: 'west',\r\n        \t\tsplit: true,\r\n        \t\tcollapsible: true,\r\n        \t\tcollapseMode: 'header',\r\n        \t\twidth: 135,\r\n        \t\tscrollable: 'y',\r\n        \t\tlayout: {\r\n        \t\t\ttype: 'vbox',\r\n        \t\t\talign: 'stretch'\r\n        \t\t},\r\n        \t\tdefaults: {\r\n        \t\t\txtype: 'button',\r\n        \t\t\tmargin: '5',\r\n        \t\t\tlabelAlign: 'top'\r\n        \t\t},\r\n        \t\titems: [{\r\n        \t\t\txtype: 'label',\r\n        \t\t\ttext: this.localize('input')\r\n        \t\t},{\r\n    \t\t\t\txtype: 'documentselectorbutton'\r\n    \t\t\t},{\r\n\t            \ttext: this.localize('freqsMode'),\r\n\t            \titemId: 'comparisonType',\r\n\t\t\t\t\tglyph: 'xf201@FontAwesome',\r\n\t\t\t\t    tooltip: this.localize('freqsModeTip'),\r\n\t\t\t\t    menu: {\r\n\t\t\t\t    \titems: [\r\n\t\t\t               {text: this.localize(\"rawFrequencies\"), itemId: 'comparisonType_raw', group: 'freqsMode', xtype: 'menucheckitem'},\r\n\t\t\t               {text: this.localize(\"relativeFrequencies\"), itemId: 'comparisonType_relative', group: 'freqsMode', xtype: 'menucheckitem'},\r\n\t\t\t               {text: this.localize(\"tfidf\"), itemId: 'comparisonType_tfidf', group: 'freqsMode', xtype: 'menucheckitem'}\r\n\t\t\t            ],\r\n       \t\t\t\t\tlisteners: {\r\n    \t\t\t\t\t\tclick: function(menu, item) {\r\n    \t\t\t\t\t\t\tif (item !== undefined) {\r\n    \t\t\t\t\t\t\t\tvar type = item.getItemId().split('_')[1];\r\n    \t\t\t\t\t\t\t\tif (type !== this.getApiParam('comparisonType')) {\r\n\t    \t\t\t\t\t\t\t\tthis.setApiParam('comparisonType', type);\r\n\t    \t\t\t\t\t\t\t\tthis.loadFromApis(true);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\tscope: this\r\n    \t\t\t\t    }\r\n\t\t\t\t    }\r\n        \t\t},{\r\n        \t\t\tfieldLabel: this.localize('numTerms'),\r\n        \t\t\titemId: 'limit',\r\n        \t\t\txtype: 'numberfield',\r\n        \t\t\tminValue: 5,\r\n        \t\t\tlisteners: {\r\n        \t\t\t\tchange: function(numb, newValue, oldValue) {\r\n        \t\t\t\t\tfunction doLoad() {\r\n        \t\t\t\t\t\tthis.setApiParam('limit', newValue);\r\n            \t\t\t\t\tthis.loadFromApis();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (oldValue !== null) {\r\n\t\t\t\t\t\t\t\tif (this.getTermsTimeout() !== null) {\r\n\t\t\t\t\t\t\t\t\tclearTimeout(this.getTermsTimeout());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (numb.isValid()) {\r\n\t\t\t\t\t\t\t\t\tthis.setTermsTimeout(setTimeout(doLoad.bind(this), 500));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n        \t\t\t\t},\r\n        \t\t\t\tscope: this\r\n        \t\t\t}\r\n        \t\t},{\r\n        \t\t\txtype: 'container',\r\n        \t\t\thtml: '<hr style=\"border: none; border-top: 1px solid #cfcfcf;\"/>'\r\n        \t\t},{\r\n        \t\t\txtype: 'label',\r\n        \t\t\ttext: this.localize('output')\r\n        \t\t},{\r\n            \t\ttext: this.localize('analysis'),\r\n            \t\titemId: 'analysis',\r\n            \t\tglyph: 'xf1ec@FontAwesome',\r\n                    overflowHandler: 'scroller',\r\n        \t\t\tmenu: {\r\n    \t\t\t\t\titems: [\r\n    \t\t\t\t\t    {text: this.localize('pca'), itemId: 'analysis_pca', group:'analysis', xtype: 'menucheckitem'},\r\n    \t\t\t\t\t    {text: this.localize('ca'), itemId: 'analysis_ca', group:'analysis', xtype: 'menucheckitem'},\r\n    \t\t\t\t\t    {text: this.localize('tsne'), itemId: 'analysis_tsne', group:'analysis', xtype: 'menucheckitem'},\r\n    \t\t\t\t\t    {text: this.localize('docSim'), itemId: 'analysis_docSim', group:'analysis', xtype: 'menucheckitem'}\r\n    \t\t\t\t\t],\r\n    \t\t\t\t\tlisteners: {\r\n    \t\t\t\t\t\tclick: function(menu, item) {\r\n    \t\t\t\t\t\t\tif (item !== undefined) {\r\n    \t\t\t\t\t\t\t\tvar analysis = item.getItemId().split('_')[1];\r\n    \t\t\t\t\t\t\t\tif (analysis !== this.getApiParam('analysis')) {\r\n    \t\t\t\t\t\t\t\t\tthis.doAnalysisChange(analysis);\r\n    \t\t\t\t\t\t\t\t\tthis.loadFromApis(true);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\tscope: this\r\n    \t\t\t\t\t}\r\n        \t\t\t}\r\n\t            },{\r\n\t            \tfieldLabel: this.localize('perplexity'),\r\n\t            \titemId: 'perplexity',\r\n\t            \txtype: 'slider',\r\n\t            \tminValue: 5,\r\n\t            \tmaxValue: 100,\r\n\t            \tincrement: 1,\r\n\t            \tlisteners: {\r\n\t            \t\tchangecomplete: function(slider, newValue) {\r\n\t            \t\t\tthis.setApiParam('perplexity', newValue);\r\n\t            \t\t\tthis.loadFromApis(true);\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n\t            },{\r\n\t            \tfieldLabel: this.localize('iterations'),\r\n\t            \titemId: 'iterations',\r\n\t            \txtype: 'slider',\r\n\t            \tminValue: 100,\r\n\t            \tmaxValue: 5000,\r\n\t            \tincrement: 100,\r\n\t            \tlisteners: {\r\n\t            \t\tchangecomplete: function(slider, newValue) {\r\n\t            \t\t\tthis.setApiParam('iterations', newValue);\r\n\t            \t\t\tthis.loadFromApis(true);\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n\t            },{\r\n            \t\ttext: this.localize('clusters'),\r\n            \t\titemId: 'clusters',\r\n            \t\tglyph: 'xf192@FontAwesome',\r\n            \t\tmenu: {\r\n            \t\t\titems: [\r\n            \t\t\t    {text: '1', itemId: 'clusters_1', group: 'clusters', xtype: 'menucheckitem'},\r\n            \t\t\t    {text: '2', itemId: 'clusters_2', group: 'clusters', xtype: 'menucheckitem'},\r\n            \t\t\t    {text: '3', itemId: 'clusters_3', group: 'clusters', xtype: 'menucheckitem'},\r\n            \t\t\t    {text: '4', itemId: 'clusters_4', group: 'clusters', xtype: 'menucheckitem'},\r\n            \t\t\t    {text: '5', itemId: 'clusters_5', group: 'clusters', xtype: 'menucheckitem'}\r\n            \t\t\t],\r\n    \t\t\t\t\tlisteners: {\r\n    \t\t\t\t\t\tclick: function(menu, item) {\r\n    \t\t\t\t\t\t\tif (item !== undefined) {\r\n    \t\t\t\t\t\t\t\tvar clusters = parseInt(item.getItemId().split('_')[1]);\r\n    \t\t\t\t\t\t\t\tif (clusters !== this.getApiParam('clusters')) {\r\n        \t\t\t\t\t\t\t\tthis.setApiParam('clusters', clusters);\r\n        \t\t\t\t\t\t\t\tthis.loadFromApis(true);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\tscope: this\r\n    \t\t\t\t\t}\r\n            \t\t}\r\n            \t},{\r\n            \t\ttext: this.localize('dimensions'),\r\n            \t\titemId: 'dimensions',\r\n            \t\tglyph: 'xf1b2@FontAwesome',\r\n            \t\tmenu: {\r\n            \t\t\titems: [\r\n            \t\t\t    {text: '2', itemId: 'dimensions_2', group: 'dimensions', xtype: 'menucheckitem'},\r\n            \t\t\t    {text: '3', itemId: 'dimensions_3', group: 'dimensions', xtype: 'menucheckitem'}\r\n            \t\t\t],\r\n    \t\t\t\t\tlisteners: {\r\n    \t\t\t\t\t\tclick: function(menu, item) {\r\n    \t\t\t\t\t\t\tif (item !== undefined) {\r\n    \t\t\t\t\t\t\t\tvar dims = parseInt(item.getItemId().split('_')[1]);\r\n    \t\t\t\t\t\t\t\tif (dims !== this.getApiParam('dimensions')) {\r\n        \t\t\t\t\t\t\t\tif (dims == 3 && this.getApiParam('analysis') == 'ca' && this.getCorpus().getDocumentsCount() == 3) {\r\n        \t\t\t\t\t\t\t\t\tdims = 2;\r\n        \t\t\t\t\t\t\t\t\t// TODO add info message 'Because of the nature of Correspondence Analysis, you can only use 2 dimensions with 3 documents.'\r\n        \t\t\t\t\t\t\t\t\treturn false;\r\n        \t\t\t\t\t\t\t\t}\r\n        \t\t\t\t\t\t\t\t\r\n        \t\t\t\t\t\t\t\tthis.setApiParam('dimensions', dims);\r\n        \t\t\t\t\t\t\t\tthis.loadFromApis(true);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\tscope: this\r\n    \t\t\t\t\t}\r\n            \t\t}\r\n        \t\t},{\r\n        \t\t\titemId: 'reloadButton',\r\n        \t\t\ttext: this.localize('reload'),\r\n        \t\t\tglyph: 'xf021@FontAwesome',\r\n        \t\t\thandler: function() {\r\n        \t\t\t\tthis.loadFromApis();\r\n        \t\t\t},\r\n        \t\t\tscope: this\r\n        \t\t}]\r\n        \t},{\r\n        \t\titemId: 'termsGrid',\r\n        \t\txtype: 'grid',\r\n        \t\ttitle: this.localize('terms'),\r\n        \t\tregion: 'east',\r\n        \t\twidth: 250,\r\n        \t\tsplit: true,\r\n        \t\tcollapsible: true,\r\n        \t\tcollapseMode: 'header',\r\n        \t\tforceFit: true,\r\n        \t\tfeatures: [{\r\n        \t\t\tftype: 'grouping',\r\n        \t\t\thideGroupedHeader: true,\r\n                    enableGroupingMenu: false\r\n        \t\t}],\r\n        \t\tbbar: {\r\n                    overflowHandler: 'scroller',\r\n        \t\t\titems: [{\r\n        \t\t\t\titemId: 'nearbyButton',\r\n                        xtype: 'button',\r\n                        text: this.localize('nearby'),\r\n                        glyph: 'xf0b2@FontAwesome',\r\n                        flex: 1,\r\n                        handler: function(btn) {\r\n                        \tvar sel = btn.up('panel').getSelection()[0];\r\n                        \tif (sel === undefined) {\r\n                        \t\tthis.toastError({\r\n                        \t\t\thtml: this.localize(\"noTermSelected\"),\r\n                        \t\t     anchor: btn.up(\"panel\").getTargetEl()\r\n                        \t\t });\r\n                        \t}\r\n                        \telse {\r\n\t                        \tvar term = sel.get('term');\r\n\t                        \tthis.getNearbyForTerm(term);\r\n                        \t}\r\n                        },\r\n                        scope: this\r\n                    },{\r\n                    \titemId: 'removeButton',\r\n                        xtype: 'button',\r\n                        text: this.localize('remove'),\r\n                        glyph: 'xf068@FontAwesome',\r\n                        flex: 1,\r\n                        handler: function(btn) {\r\n                        \tvar sel = btn.up('panel').getSelection()[0];\r\n                        \tif (sel === undefined) {\r\n                        \t\tthis.toastError({\r\n                        \t\t\thtml: this.localize(\"noTermSelected\"),\r\n                        \t\t     anchor: btn.up(\"panel\").getTargetEl()\r\n                        \t\t });\r\n                        \t}\r\n                        \telse {\r\n\t                        \tvar term = sel.get('term');\r\n\t                        \tthis.removeTerm(term);\r\n                        \t}\r\n                        },\r\n                        scope: this\r\n                    }]\r\n        \t\t\t\r\n        \t\t},\r\n        \t\ttbar: {\r\n                    overflowHandler: 'scroller',\r\n                    items: [{\r\n                    \txtype: 'querysearchfield',\r\n                    \titemId: 'addTerms',\r\n//                    \temptyText: this.localize('addTerm'),\r\n                    \tflex: 1\r\n                    }]\r\n                },\r\n        \t\tcolumns: [{\r\n        \t\t\ttext: this.localize('term'),\r\n    \t\t\t\tdataIndex: 'term',\r\n    \t\t\t\tflex: 1,\r\n                    sortable: true\r\n    \t\t\t},{\r\n    \t\t\t\ttext: this.localize('rawFreq'),\r\n    \t\t\t\tdataIndex: 'rawFreq',\r\n    \t\t\t\tflex: 0.75,\r\n    \t\t\t\tminWidth: 70,\r\n                    sortable: true\r\n    \t\t\t},{\r\n    \t\t\t\ttext: this.localize('relFreq'),\r\n    \t\t\t\tdataIndex: 'relativeFreq',\r\n    \t\t\t\tflex: 0.75,\r\n    \t\t\t\tminWidth: 70,\r\n                    sortable: true,\r\n                    hidden: true\r\n    \t\t\t}],\r\n    \t\t\tselModel: {\r\n    \t\t\t\ttype: 'rowmodel',\r\n    \t\t\t\tmode: 'SINGLE',\r\n    \t\t\t\tallowDeselect: true,\r\n    \t\t\t\ttoggleOnClick: true,\r\n                    listeners: {\r\n                        selectionchange: {\r\n                        \tfn: function(sm, selections) {\r\n//                        \t\tthis.getApplication().dispatchEvent('corpusTermsClicked', this, selections);\r\n                        \t\tvar sel = selections[0];\r\n                        \t\tif (sel !== undefined) {\r\n\t                        \t\tvar term = sel.get('term');\r\n\t                        \t\tvar isDoc = sel.get('category') === 'document';\r\n\t                        \t\tthis.selectTerm(term, isDoc);\r\n\t                        \t\t\r\n\t                        \t\tif (isDoc) {\r\n\t                        \t\t\tthis.queryById('nearbyButton').disable();\r\n\t                        \t\t\tthis.queryById('removeButton').disable();\r\n\t                        \t\t} else {\r\n\t                        \t\t\tthis.queryById('nearbyButton').enable();\r\n\t                        \t\t\tthis.queryById('removeButton').enable();\r\n\t                        \t\t}\r\n                        \t\t} else {\r\n                        \t\t\tthis.selectTerm();\r\n                        \t\t}\r\n                        \t},\r\n                        \tscope: this\r\n                        }\r\n                    }\r\n                },\r\n        \t\tstore: this.getTermStore(),\r\n        \t\tlisteners: {\r\n        \t\t\texpand: function(panel) {\r\n        \t\t\t\tpanel.getView().refresh();\r\n        \t\t\t},\r\n        \t\t\tquery: function(component, value) {\r\n        \t\t\t\tif (value.length > 0 && this.getTermStore().findExact('term', value[0]) === -1) {\r\n\t                \t\tthis.setNewTerm(value);\r\n\t                \t\tthis.loadFromApis();\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tthis.setNewTerm(null);\r\n    \t\t\t\t\t}\r\n        \t\t\t},\r\n        \t\t\tscope: this\r\n        \t\t}\r\n        \t}]\r\n        });\r\n        \r\n        this.on('boxready', function(component, width, height) {\r\n\t\t\tif (width < 400) {\r\n\t\t\t\tthis.queryById('optionsPanel').collapse();\r\n\t\t\t\tthis.queryById('termsGrid').collapse();\r\n\t\t\t}\r\n\t\t\tif (this.config.storeClass && this.config.storeData) {\r\n\t\t\t\tthis.loadStoreFromJson(this.config.storeClass, this.config.storeData);\r\n\t\t\t}\r\n\t\t}, this);\r\n        \r\n        this.on('beforedestroy', function(component) {\r\n        \tvar oldChart = this.queryById('chart');\r\n        \tif (oldChart !== null) {\r\n        \t\tthis.queryById('chartParent').remove(oldChart);\r\n        \t}\r\n        }, this);\r\n        \r\n        // create a listener for corpus loading (defined here, in case we need to load it next)\r\n    \tthis.on('loadedCorpus', function(src, corpus) {\r\n    \t\tfunction setCheckItemFromApi(apiParamName) {\r\n    \t\t\tvar value = this.getApiParam(apiParamName);\r\n    \t\t\tvar menu = this.queryById(apiParamName);\r\n    \t\t\tvar item = menu.down('#'+apiParamName+'_'+value);\r\n    \t\t\titem.setChecked(true);\r\n    \t\t}\r\n    \t\tvar setCheckBound = setCheckItemFromApi.bind(this);\r\n    \t\t\r\n    \t\tsetCheckBound('analysis');\r\n    \t\tthis.doAnalysisChange(this.getApiParam('analysis'));\r\n    \t\t\r\n    \t\tsetCheckBound('comparisonType');\r\n    \t\tsetCheckBound('clusters');\r\n\r\n    \t\tthis.queryById('perplexity').setValue(this.getApiParam('perplexity'));\r\n    \t\tthis.queryById('iterations').setValue(this.getApiParam('iterations'));\r\n    \t\t\r\n    \t\tif (corpus.getDocumentsCount() == 3) {\r\n    \t\t\tthis.setApiParam('dimensions', 2);\r\n    \t\t}\r\n    \t\tsetCheckBound('dimensions');\r\n\r\n    \t\tthis.getCaStore().setCorpus(corpus);\r\n    \t\tthis.getPcaStore().setCorpus(corpus);\r\n    \t\tthis.getDocSimStore().setCorpus(corpus);\r\n    \t\tthis.loadFromApis();\r\n    \t}, this);\r\n    \t\r\n    \tthis.on('documentsSelected', function(src, docIds) {\r\n    \t\tthis.setApiParam('docId', docIds);\r\n    \t\tthis.loadFromApis();\r\n    \t}, this);\r\n        \r\n    \tthis.callParent(arguments);\r\n    },\r\n    \r\n    doAnalysisChange: function(analysis) {\r\n    \tthis.setApiParam('analysis', analysis);\r\n\t\tthis.queryById('nearbyButton').setDisabled(analysis === 'tsne');\r\n\t\tthis.queryById('reloadButton').setVisible(analysis === 'tsne');\r\n\t\tthis.queryById('perplexity').setVisible(analysis === 'tsne');\r\n\t\tthis.queryById('iterations').setVisible(analysis === 'tsne');\r\n\t\tif (analysis === 'ca') {\r\n\t\t\t// TODO handling for when there's no corpus\r\n\t\t\tif (this.getCorpus().getDocumentsCount() == 3) {\r\n\t\t\t\tthis.setApiParam('dimensions', 2);\r\n\t\t\t\tthis.queryById('dimensions').menu.items.get(0).setChecked(true); // need 1-2 docs or 4+ docs for 3 dimensions\r\n\t\t\t}\r\n\t\t}\r\n    },\r\n    \r\n    loadStoreFromJson: function(storeClass, storeData) {\r\n\t\tif (storeClass == 'Voyant.data.store.CAAnalysis') {\r\n\t\t\tthis.getCaStore().loadRawData(storeData);\r\n\t\t\tthis.doAnalysisChange('ca');\r\n\t\t\tthis.maskAndBuildChart.call(this, this.getCaStore());\r\n\t\t} else if (storeClass == 'Voyant.data.store.PCAAnalysis') {\r\n\t\t\tthis.getPcaStore().loadRawData(storeData);\r\n\t\t\tthis.doAnalysisChange('pca');\r\n\t\t\tthis.maskAndBuildChart.call(this, this.getPcaStore());\r\n\t\t} else if (storeClass == 'Voyant.data.store.TSNEAnalysis') {\r\n\t\t\tthis.getTsneStore().loadRawData(storeData);\r\n\t\t\tthis.doAnalysisChange('tsne');\r\n\t\t\tthis.maskAndBuildChart.call(this, this.getTsneStore());\r\n\t\t} else if (storeClass == 'Voyant.data.store.DocSimAnalysis') {\r\n\t\t\tthis.getDocSimStore().loadRawData(storeData);\r\n\t\t\tthis.doAnalysisChange('docSim');\r\n\t\t\tthis.maskAndBuildChart.call(this, this.getDocSimStore());\r\n\t\t}\r\n    },\r\n    \r\n    maskAndBuildChart: function(store) {\r\n    \tthis.queryById('chartParent').mask(this.localize('plotting'));\r\n    \tExt.defer(this.buildChart, 50, this, [store]);\r\n    },\r\n\r\n    buildChart: function(store) {\r\n    \tvar that = this; // needed for tooltip renderer\r\n    \t\r\n    \tvar oldChart = this.queryById('chart');\r\n    \tif (oldChart !== null) {\r\n    \t\tthis.queryById('chartParent').remove(oldChart);\r\n    \t}\r\n    \t\r\n    \tthis.queryById('termsGrid').getSelectionModel().deselectAll();\r\n    \t\r\n    \tvar rec = store.getAt(0);\r\n        var numDims = this.getApiParam('dimensions');\r\n        \r\n    \tvar summary = '';    \t\r\n    \tif (this.getApiParam('analysis') === 'pca') {\r\n    \t\t// calculate the percentage of original data represented by the dominant principal components\r\n\t\t\tvar pcs = rec.getPrincipalComponents();\r\n\t\t\tvar eigenTotal = 0;\r\n\t\t\tfor (var i = 0; i < pcs.length; i++) {\r\n\t\t\t\tvar pc = pcs[i];\r\n\t\t\t\teigenTotal += parseFloat(pc.get('eigenValue'));\r\n\t\t\t}\r\n\t\t\tif (eigenTotal == 0) {\r\n\t\t\t\t// do nothing\r\n\t\t\t} else {\r\n\t\t\t\tsummary = this.localize('pcTitle')+'\\n';\r\n\t\t\t\tvar pcMapping = ['xAxis', 'yAxis', 'fill'];\r\n\t\t\t\tfor (var i = 0; i < pcs.length; i++) {\r\n\t\t\t\t\tif (i >= numDims) break;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar eigenValue = pcs[i].get('eigenValue');\r\n\t\t\t\t\tvar percentage = eigenValue / eigenTotal * 100;\r\n\t\t\t\t\tsummary += this.localize('pc')+' '+(i+1)+' ('+this.localize(pcMapping[i])+'): '+Math.round(percentage*100)/100+'%\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n    \t} else if (this.getApiParam('analysis') === 'tsne') {\r\n    \t\t\r\n    \t} else {\r\n    \t\tsummary = this.localize('caTitle')+'\\n';\r\n    \t\tvar pcMapping = ['xAxis', 'yAxis', 'fill'];\r\n    \t\t\r\n    \t\tvar dimensions = rec.getDimensions();\r\n    \t\tfor (var i = 0; i < dimensions.length; i++) {\r\n    \t\t\tif (i >= numDims) break;\r\n    \t\t\t\r\n    \t\t\tvar percentage = dimensions[i].get('percentage');\r\n    \t\t\tsummary += this.localize('dimension')+' '+(i+1)+' ('+this.localize(pcMapping[i])+'): '+Math.round(percentage*100)/100+'%\\n';\r\n    \t\t}\r\n    \t}\r\n        \r\n        var maxFreq = 0;\r\n        var minFreq = Number.MAX_VALUE;\r\n        var maxFill = 0;\r\n        var minFill = Number.MAX_VALUE;\r\n        \r\n        \r\n        if (this.getApiParam('analysis') !== 'docSim') { // docSim doesn't return terms so keep the current ones\r\n\t        this.getTermStore().removeAll();\r\n        }\r\n\t        \r\n        var tokens = rec.getTokens();\r\n        var termData = [];\r\n        var docData = [];\r\n        tokens.forEach(function(token) {\r\n        \tvar freq = token.get('rawFreq');\r\n        \tvar category = token.get('category');\r\n        \tif (category === undefined) {\r\n        \t\tcategory = 'term'; // some analyses don't define categories\r\n        \t\ttoken.set('category', 'term');\r\n        \t}\r\n        \tvar isTerm = category === 'term';\r\n        \tif (isTerm) {\r\n\t        \tif (freq > maxFreq) maxFreq = freq;\r\n\t        \tif (freq < minFreq) minFreq = freq;\r\n        \t}\r\n        \tif (this.getTermStore().findExact('term', token.get('term') === -1)) {\r\n        \t\tthis.getTermStore().addSorted(token);\r\n        \t}\r\n        \tif (numDims === 3) {\r\n\t\t\t\tvar z = token.get('vector')[2];\r\n\t\t\t\tif (z !== undefined) {\r\n\t\t\t\t\tif (z < minFill) minFill = z;\r\n\t\t\t\t\tif (z > maxFill) maxFill = z;\r\n\t\t\t\t}\r\n\t\t\t}\r\n        \tvar tokenData = {\r\n        \t\tx: token.get('vector')[0], y: token.get('vector')[1] || 0, z: token.get('vector')[2] || 0,\r\n    \t\t\tterm: token.get('term'), rawFreq: freq, relativeFreq: token.get('relativeFreq'), cluster: token.get('cluster'), category: category,\r\n    \t\t\tdisabled: false\r\n        \t};\r\n        \tif (!isTerm) {\r\n        \t\tif (token.get('category') === 'bin') {\r\n        \t\t\ttokenData.term = tokenData.title = \"Bin \"+token.get('docIndex');\r\n        \t\t} else {\r\n\t        \t\ttokenData.docIndex = token.get('docIndex');\r\n\t        \t\tvar doc = this.getCorpus().getDocument(tokenData.docIndex);\r\n\t        \t\tif (doc !== null) {\r\n\t\t        \t\ttokenData.term = doc.getShortTitle();\r\n\t\t        \t\ttokenData.title = doc.getTitle();\r\n\t        \t\t}\r\n        \t\t}\r\n        \t\tdocData.push(tokenData);\r\n        \t} else {\r\n        \t\ttermData.push(tokenData);\r\n        \t}\r\n        }, this);\r\n        \r\n        var newCount = this.getTermStore().getCount();\r\n        this.queryById('limit').setRawValue(newCount);\r\n        this.setApiParam('limit', newCount);\r\n        \r\n        \r\n    \tvar termSeriesStore = Ext.create('Ext.data.JsonStore', {\r\n    \t\tfields: ['term', 'x', 'y', 'z', 'rawFreq', 'relativeFreq', 'cluster', 'category', 'docIndex', 'disabled'],\r\n    \t\tdata: termData\r\n    \t});\r\n    \tvar docSeriesStore = Ext.create('Ext.data.JsonStore', {\r\n    \t\tfields: ['term', 'x', 'y', 'z', 'rawFreq', 'relativeFreq', 'cluster', 'category', 'docIndex', 'disabled'],\r\n    \t\tdata: docData\r\n    \t});\r\n    \t\r\n    \tvar config = {\r\n        \titemId: 'chart',\r\n        \txtype: 'cartesian',\r\n        \tinteractions: ['crosszoom','panzoom','itemhighlight'],\r\n        \tplugins: {\r\n                ptype: 'chartitemevents'\r\n            },\r\n        \taxes: [{\r\n        \t\ttype: 'numeric',\r\n        \t\tposition: 'bottom',\r\n        \t\tfields: ['x'],\r\n        \t\tlabel: {\r\n                    rotate:{degrees:-30}\r\n            \t}\r\n        \t},{\r\n        \t\ttype: 'numeric',\r\n        \t\tposition: 'left',\r\n        \t\tfields: ['y']\r\n        \t}],\r\n        \tsprites: [{\r\n        \t\ttype: 'text',\r\n        \t\ttext: summary,\r\n        \t\tx: 70,\r\n        \t\ty: 70\r\n        \t}],\r\n        \tinnerPadding: {top: 25, right: 25, bottom: 25, left: 25},\r\n        \tseries: [{\r\n        \t\ttype: 'customScatter',\r\n        \t\txField: 'x',\r\n        \t\tyField: 'y',\r\n        \t\tstore: termSeriesStore,\r\n        \t\tlabel: {\r\n        \t\t\tfont: '14px Helvetica',\r\n        \t\t\tfield: 'term',\r\n        \t\t\tdisplay: 'over'\r\n        \t\t},\r\n        \t\ttooltip: {\r\n        \t\t\ttrackMouse: true,\r\n        \t\t\tstyle: 'background: #fff',\r\n        \t\t\trenderer: function (toolTip, record, ctx) {\r\n        \t\t\t\ttoolTip.setHtml(that.tokenFreqTipTemplate.apply([record.get('term'),record.get('rawFreq'),record.get('relativeFreq')]));\r\n        \t\t\t}\r\n        \t\t},\r\n        \t\tmarker: {\r\n        \t\t    type: 'circle'\r\n        \t\t},\r\n        \t\thighlight: {\r\n        \t\t\tfillStyle: 'yellow',\r\n                    strokeStyle: 'black'\r\n        \t\t},\r\n        \t\trenderer: function (sprite, config, rendererData, index) {\r\n    \t\t\t\tvar store = rendererData.store;\r\n    \t\t\t\tvar item = store.getAt(index);\r\n    \t\t\t\tif (item !== null) {\r\n\t    \t\t\t\tvar clusterIndex = item.get('cluster');\r\n\t    \t\t\t\tvar scatterplot = that;\r\n\t    \t\t\t\t\r\n\t    \t\t\t\tif (clusterIndex === -1) {\r\n\t    \t\t\t\t\t// no clusters were specified in initial call\r\n\t    \t\t\t\t\tclusterIndex = 0;\r\n\t    \t\t\t\t}\r\n\t    \t\t\t\t\r\n\t    \t\t\t\tvar fillAlpha = 0.65;\r\n\t    \t\t\t\tvar strokeAlpha = 1;\r\n\t    \t\t\t\tif (item.get('disabled') === true) {\r\n\t    \t\t\t\t\tfillAlpha = 0.1;\r\n\t    \t\t\t\t\tstrokeAlpha = 0.1;\r\n\t    \t\t\t\t} else if (numDims === 3 && item.get('z')) {\r\n\t    \t\t\t\t\tfillAlpha = scatterplot.interpolate(item.get('z'), minFill, maxFill, 0, 1);\r\n\t    \t\t\t\t}\r\n\t    \t\t\t\tvar color = scatterplot.getApplication().getColor(clusterIndex);\r\n\t    \t\t\t\tconfig.fillStyle = 'rgba('+color.join(',')+','+fillAlpha+')';\r\n\t    \t\t\t\tconfig.strokeStyle = 'rgba('+color.join(',')+','+strokeAlpha+')';\r\n\t    \t\t\t\t\r\n\t    \t\t\t\tvar freq = item.get('rawFreq');\r\n\t    \t\t\t\tvar radius = scatterplot.interpolate(freq, minFreq, maxFreq, 2, 20);\r\n\t    \t\t\t\tconfig.radius = radius;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\tscope: this\r\n        \t},{\r\n        \t\ttype: 'customScatter',\r\n        \t\txField: 'x',\r\n        \t\tyField: 'y',\r\n        \t\tstore: docSeriesStore,\r\n        \t\tlabel: {\r\n        \t\t\tfont: '14px Helvetica',\r\n        \t\t\tfield: 'term',\r\n        \t\t\tdisplay: 'over',\r\n        \t\t\tcolor: this.getDefaultDocColor(true)\r\n        \t\t},\r\n        \t\ttooltip: {\r\n        \t\t\ttrackMouse: true,\r\n        \t\t\tstyle: 'background: #fff',\r\n        \t\t\trenderer: function (toolTip, record, ctx) {\r\n        \t\t\t\ttoolTip.setHtml(that.docFreqTipTemplate.apply([record.get('title'),record.get('rawFreq')]));\r\n        \t\t\t}\r\n        \t\t},\r\n        \t\tmarker: {\r\n        \t\t    type: 'diamond'\r\n        \t\t},\r\n        \t\thighlight: {\r\n        \t\t\tfillStyle: 'yellow',\r\n                    strokeStyle: 'black'\r\n        \t\t},\r\n        \t\trenderer: function (sprite, config, rendererData, index) {\r\n    \t\t\t\tvar store = rendererData.store;\r\n    \t\t\t\tvar item = store.getAt(index);\r\n    \t\t\t\tif (item !== null) {\r\n\t    \t\t\t\tvar clusterIndex = item.get('cluster');\r\n\t    \t\t\t\tvar scatterplot = that;\r\n\t    \t\t\t\t\r\n\t    \t\t\t\tvar color;\r\n\t    \t\t\t\tif (clusterIndex === -1 || scatterplot.getApiParam('analysis') !== 'docSim') {\r\n\t    \t\t\t\t\tcolor = scatterplot.getDefaultDocColor();\r\n\t    \t\t\t\t} else {\r\n\t    \t\t\t\t\tcolor = scatterplot.getApplication().getColor(clusterIndex);\t\r\n\t    \t\t\t\t}\r\n\t    \t\t\t\t\r\n\t    \t\t\t\tvar a = 0.65;\r\n\t    \t\t\t\tif (numDims === 3 && item.get('z')) {\r\n\t    \t\t\t\t\ta = scatterplot.interpolate(item.get('z'), minFill, maxFill, 0, 1);\r\n\t    \t\t\t\t}\r\n\t    \t\t\t\t\r\n\t    \t\t\t\tconfig.fillStyle = 'rgba('+color.join(',')+','+a+')';\r\n\t    \t\t\t\tconfig.strokeStyle = 'rgba('+color.join(',')+',1)';\r\n\t    \t\t\t\tconfig.radius = 5;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\tscope: this\r\n        \t\t\r\n        \t\t\r\n        \t}],\r\n        \tlisteners: {\r\n        \t\titemclick: function(chart, item, event) {\r\n        \t\t\tvar data = item.record.data;\r\n        \t\t\tif (data.category === 'doc') {\r\n        \t\t\t\tvar record = this.getCorpus().getDocument(data.docIndex);\r\n\t            \t\tthis.getApplication().dispatchEvent('documentsClicked', this, [record]);\r\n        \t\t\t} else if (data.category === 'term') {\r\n\t        \t\t\tvar record = Ext.create('Voyant.data.model.CorpusTerm', data);\r\n\t            \t\tthis.getApplication().dispatchEvent('corpusTermsClicked', this, [record]);\r\n        \t\t\t}\r\n        \t\t},\r\n        \t\trender: function(chart) {\r\n        \t\t\tchart.body.on('contextmenu', function(event, target) {\r\n\t        \t\t\tevent.preventDefault();\r\n\t        \t\t\t\r\n\t\t            \tvar xy = event.getXY();\r\n\t\t            \tvar parentXY = Ext.fly(target).getXY();\r\n\t\t            \tvar x = xy[0] - parentXY[0];\r\n\t\t            \tvar y = xy[1] - parentXY[1];\r\n\t\t            \tvar chartItem = this.down('#chart').getItemForPoint(x,y);\r\n\t\t            \tif (chartItem != null && chartItem.record.get('category') === 'term') {\r\n\t\t            \t\tvar series = this.down('#chart').getSeries();\r\n\t\t            \t\tseries[0].disableToolTips();\r\n\t\t            \t\tseries[1].disableToolTips();\r\n\t\t            \t\t\r\n\t\t            \t\tvar term = chartItem.record.get('term');\r\n\t\t            \t\t\r\n\t\t            \t\tvar text = (new Ext.Template(this.localize('removeTerm'))).apply([term]);\r\n\t\t            \t\tthis.getChartMenu().queryById('remove').setText(text);\r\n\t\t            \t\ttext = (new Ext.Template(this.localize('nearbyTerm'))).apply([term]);\r\n\t\t            \t\tvar nearby = this.getChartMenu().queryById('nearby');\r\n\t\t            \t\tnearby.setText(text);\r\n\t\t            \t\tnearby.setDisabled(this.getApiParam('analysis') === 'tsne');\r\n\t\t            \t\t\r\n\t\t            \t\tthis.getChartMenu().on('click', function(menu, item) {\r\n\t\t            \t\t\tif (item !== undefined) {\r\n\t\t            \t\t\t\tvar term = chartItem.record.get('term');\r\n\t\t\t            \t\t\tif (item.getItemId() === 'nearby') {\r\n\t\t\t            \t\t\t\tthis.getNearbyForTerm(term);\r\n\t\t\t            \t\t\t} else {\r\n\t\t\t            \t\t\t\tthis.removeTerm(term);\r\n\t\t\t            \t\t\t}\r\n\t\t            \t\t\t}\r\n\t\t            \t\t}, this, {single: true});\r\n\t\t            \t\tthis.getChartMenu().showAt(xy);\r\n\t\t            \t}\r\n\t\t            }, this);\r\n        \t\t},\r\n        \t\tscope: this\r\n        \t}\r\n        };\r\n    \t\r\n    \tvar chart = Ext.create('Ext.chart.CartesianChart', config);\r\n    \tthis.queryById('chartParent').insert(0, chart);\r\n    \t\r\n    \tthis.queryById('chartParent').unmask();\r\n    \t\r\n    \tthis.doLabels();\r\n    \t\r\n    \tif (this.getNewTerm() !== null) {\r\n        \tthis.selectTerm(this.getNewTerm()[0]);\r\n        \tthis.setNewTerm(null);\r\n        }\r\n    },\r\n    \r\n    getDefaultDocColor: function(returnHex) {\r\n    \tvar color = this.getApplication().getColor(6, returnHex);\r\n    \treturn color;\r\n    },\r\n    \r\n    doLabels: function() {\r\n    \tvar chart = this.queryById('chart');\r\n    \tvar series = chart.getSeries();\r\n    \tvar summary = chart.getSurface('chart').getItems()[0];\r\n    \tvar labels = this.getApiParam(\"label\");\r\n    \tif (labels.indexOf(\"summary\")>-1) {summary.show();}\r\n    \telse {summary.hide();}\r\n    \tif (labels.indexOf(\"terms\")>-1) {series[0].getLabel().show();}\r\n    \telse {series[0].getLabel().hide();}\r\n    \tif (labels.indexOf(\"docs\")>-1) {series[1].getLabel().show();}\r\n    \telse {series[1].getLabel().hide();}\r\n    },\r\n    \r\n    selectTerm: function(term, isDoc) {\r\n    \tvar chart = this.down('#chart');\r\n    \tif (chart !== null) {\r\n\t    \tif (term === undefined) {\r\n\t\t\t\tchart.getSeries()[0].setHighlightItem(null);\r\n\t\t\t\tchart.getSeries()[1].setHighlightItem(null);\r\n\t    \t} else {\r\n\t\t    \tvar series, index;\r\n\t\t    \tif (isDoc === true) {\r\n\t\t    \t\tseries = chart.getSeries()[1];\r\n\t\t\t    \tindex = series.getStore().findExact('title', term);\r\n\t\t    \t} else {\r\n\t\t\t    \tseries = chart.getSeries()[0];\r\n\t\t\t    \tindex = series.getStore().findExact('term', term);\r\n\t\t    \t}\r\n\t\t    \tif (index !== -1) {\r\n\t\t    \t\tvar record = series.getStore().getAt(index);\r\n\t\t    \t\tvar sprite = series.getSprites()[0];\r\n\t\t    \t\t// constructing series item, like in the chart series source\r\n\t\t    \t\tvar item = {\r\n\t\t\t\t\t\tseries: series,\r\n\t\t                category: series.getItemInstancing() ? 'items' : 'markers',\r\n\t\t                index: index,\r\n\t\t                record: record,\r\n\t\t                field: series.getYField(),\r\n\t\t                sprite: sprite\r\n\t\t    \t\t};\r\n\t\t    \t\tseries.setHighlightItem(item);\r\n\t\t    \t\tif (isDoc) {\r\n\t\t    \t\t\tchart.getSeries()[0].setHighlightItem(null);\r\n\t\t    \t\t} else {\r\n\t\t    \t\t\tchart.getSeries()[1].setHighlightItem(null);\r\n\t\t    \t\t}\r\n\t\t    \t\t\r\n\t\t    \t\tvar point = this.getPointFromIndex(series, index);\r\n\t\t    \t\tthis.setHighlightData({x: point[0], y: point[1], r: 50});\r\n\t\t    \t\t\r\n\t\t    \t\tif (this.getHighlightTask() == null) {\r\n\t\t    \t\t\tthis.setHighlightTask(Ext.TaskManager.newTask({\r\n\t\t        \t\t\trun: this.doHighlight,\r\n\t\t        \t\t\tscope: this,\r\n\t\t        \t\t\tinterval: 25,\r\n\t\t        \t\t\trepeat: this.getHighlightData().r\r\n\t\t        \t\t}));\r\n\t\t    \t\t}\r\n\t\t    \t\tthis.getHighlightTask().restart();\r\n\t\t    \t}\r\n\t    \t}\r\n    \t}\r\n    },\r\n    \r\n    getPointFromIndex: function(series, index) {\r\n\t\tvar sprite = series.getSprites()[0];\r\n\t\tif (sprite.surfaceMatrix !== null) {\r\n\t\t\tvar matrix = sprite.attr.matrix.clone().prependMatrix(sprite.surfaceMatrix);\r\n\t\t\tvar dataX = sprite.attr.dataX[index];\r\n\t\t\tvar dataY = sprite.attr.dataY[index];\r\n\t\t\treturn matrix.transformPoint([dataX, dataY]);\r\n\t\t} else {\r\n\t\t\treturn [0,0];\r\n\t\t}\r\n    },\r\n    \r\n    doHighlight: function() {\r\n    \tvar chart = this.down('#chart');\r\n    \tif (this.getHighlightData().r > 0) {\r\n\t    \tvar surf = chart.getSurface();\r\n\t\t\tvar highlight = null;\r\n\t\t\tvar items = surf.getItems();\r\n\t\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\t\tvar item = items[i];\r\n\t\t\t\tif (item.id == 'customHighlight') {\r\n\t\t\t\t\thighlight = item;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (highlight == null) {\r\n\t\t\t\tsurf.add({\r\n\t\t\t\t\tid: 'customHighlight',\r\n\t\t\t\t\ttype: 'circle',\r\n\t\t\t\t\tstrokeStyle: 'red',\r\n\t\t\t\t\tfillStyle: 'none',\r\n\t\t\t\t\tradius: this.getHighlightData().r,\r\n\t\t\t\t\tx: this.getHighlightData().x,\r\n\t\t\t\t\ty: this.getHighlightData().y\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\thighlight.setAttributes({\r\n\t\t\t\t\tx: this.getHighlightData().x,\r\n\t\t\t\t\ty: this.getHighlightData().y,\r\n\t\t\t\t\tradius: this.getHighlightData().r\r\n\t\t\t\t});\r\n\t\t\t\tthis.getHighlightData().r -= 1.5;\r\n\t\t\t\tif (this.getHighlightData().r <= 0) {\r\n\t\t\t\t\tthis.getHighlightData().r = 0;\r\n\t\t\t\t\tsurf.remove(highlight, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tchart.redraw();\r\n    \t}\r\n    },\r\n    \r\n    filterChart: function(query) {\r\n    \tif (Ext.isString(query)) query = [query];\r\n    \tvar reQueries = [];\r\n    \tfor (var i = 0; i < query.length; i++) {\r\n    \t\tvar re = new RegExp(query[i]);\r\n    \t\treQueries.push(re);\r\n    \t}\r\n    \t\r\n    \t// filter terms\r\n    \tvar chart = this.queryById('chart');\r\n    \tvar series0 = chart.getSeries()[0];\r\n    \tvar label0 = series0.getLabel();\r\n    \tseries0.getStore().each(function(item) {\r\n    \t\tvar match = false;\r\n    \t\tif (reQueries.length == 0) match = true;\r\n    \t\telse {\r\n\t    \t\tfor (var i = 0; i < reQueries.length; i++) {\r\n\t    \t\t\tmatch = match || reQueries[i].test(item.get('term'));\r\n\t    \t\t\tif (match) break;\r\n\t    \t\t}\r\n    \t\t}\r\n    \t\titem.set('disabled', !match);\r\n    \t\tvar index = item.store.indexOf(item);\r\n    \t\tlabel0.setAttributesFor(index, {hidden: !match});\r\n    \t}, this);\r\n\r\n\t\tchart.redraw();\r\n    },\r\n    \r\n    getCurrentTerms: function() {\r\n    \tvar terms = [];\r\n    \tthis.getTermStore().each(function(r) {\r\n    \t\tif (r.get('category') === 'term') {\r\n    \t\t\tterms.push(r.get('term'));\r\n    \t\t}\r\n    \t});\r\n    \treturn terms;\r\n    },\r\n    \r\n    getNearbyForTerm: function(term) {\r\n    \tvar limit = Math.max(2000, Math.round(this.getCorpus().getWordTokensCount() / 100));\r\n\t\tthis.setApiParams({limit: limit, target: term});\r\n\t\tthis.loadFromApis();\r\n\t\tthis.setApiParam('target', undefined);\r\n    },\r\n    \r\n    removeTerm: function(term) {\r\n    \tvar series = this.down('#chart').getSeries()[0];\r\n    \tvar index = series.getStore().findExact('term', term);\r\n    \tseries.getStore().removeAt(index);\r\n    \t\r\n    \tindex = this.getTermStore().findExact('term', term);\r\n    \tthis.getTermStore().removeAt(index);\r\n    \t\r\n    \tvar newCount = this.getTermStore().getCount();\r\n        this.queryById('limit').setRawValue(newCount);\r\n    },\r\n    \r\n    loadFromApis: function(keepCurrentTerms) {\r\n    \tthis.queryById('chartParent').mask(this.localize('analyzing'));\r\n    \t\r\n    \tvar params = {};\r\n    \tvar terms = this.getCurrentTerms();\r\n    \tif (this.getNewTerm() !== null) {\r\n    \t\tterms = terms.concat(this.getNewTerm());\r\n    \t\tthis.setApiParam('limit', terms.length);\r\n    \t}\r\n    \tif (terms.length > 0) {\r\n    \t\tif (this.getNewTerm() !== null || keepCurrentTerms) {\r\n    \t\t\tparams.query = terms.join(',');\r\n    \t\t}\r\n//    \t\tparams.term = terms;\r\n    \t}\r\n    \tExt.apply(params, this.getApiParams());\r\n    \tif (params.target != null) {\r\n    \t\tparams.term = terms;\r\n    \t}\r\n    \tif (params.analysis === 'pca') {\r\n    \t\tthis.getPcaStore().load({\r\n\t    \t\tparams: params\r\n\t    \t});\r\n    \t} else if (params.analysis === 'tsne'){\r\n    \t\tthis.getTsneStore().load({\r\n\t    \t\tparams: params\r\n\t    \t});\r\n    \t} else if (params.analysis === 'docSim'){\r\n    \t\tthis.getDocSimStore().load({\r\n\t    \t\tparams: params\r\n\t    \t});\r\n    \t} else {\r\n    \t\tthis.getCaStore().load({\r\n\t    \t\tparams: params\r\n\t    \t});\r\n    \t}\r\n    },\r\n    \r\n    interpolate: function(lambda, minSrc, maxSrc, minDst, maxDst) {\r\n        return minDst + (maxDst - minDst) * Math.max(0, Math.min(1, (lambda - minSrc) / (maxSrc - minSrc)));\r\n    }\r\n});\r\n\r\n/*\r\n * Adds tool tip disabling.\r\n */\r\nExt.define('Ext.chart.series.CustomScatter', {\r\n\textend: 'Ext.chart.series.Scatter',\r\n\t\r\n\talias: 'series.customScatter',\r\n    type: 'customScatter',\r\n    seriesType: 'scatterSeries',\r\n\t\r\n\ttipsDisabled: false,\r\n\t\r\n\tenableToolTips: function() {\r\n\t\tthis.tipsDisabled = false;\r\n\t},\r\n\t\r\n\tdisableToolTips: function() {\r\n\t\tthis.tipsDisabled = true;\r\n\t},\r\n\t\r\n    showTip: function (item, xy) {\r\n    \tif (this.tipsDisabled) {\r\n    \t\treturn;\r\n    \t}\r\n    \t\r\n    \tthis.callParent(arguments);\r\n    }\r\n});","Ext.define('Voyant.panel.StreamGraph', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.streamgraph',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tlimit: 5,\n    \t\tstopList: 'auto',\n    \t\tquery: undefined,\n    \t\twithDistributions: 'relative',\n    \t\tbins: 50,\n    \t\tdocIndex: undefined,\n    \t\tdocId: undefined\n    \t},\n\t\tglyph: 'xf1fe@FontAwesome'\n    },\n    \n    config: {\n    \tvisLayout: undefined,\n    \tvis: undefined,\n    \tmode: 'corpus',\n    \t\n    \tlayerData: undefined,\n    \t\n    \tgraphId: undefined,\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}]\n    },\n    \n    graphMargin: {top: 20, right: 60, bottom: 110, left: 80},\n    \n    MODE_CORPUS: 'corpus',\n    MODE_DOCUMENT: 'document',\n    \n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.setGraphId(Ext.id(null, 'streamgraph_'));\n    },\n    \n    initComponent: function() {\n        var me = this;\n        \n        Ext.apply(me, {\n    \t\ttitle: this.localize('title'),\n    \t\ttbar: new Ext.Toolbar({\n                overflowHandler: 'scroller',\n\t\t\t\titems: ['->',{\n\t\t\t\t\txtype: 'legend',\n\t\t\t\t\tstore: new Ext.data.JsonStore({\n\t\t\t\t\t\tfields: ['name', 'mark', 'active']\n\t\t\t\t\t}),\n\t\t\t\t\tlisteners: {\n\t\t\t\t\t\titemclick: function(view, record, el, index) {\n\t\t\t\t\t\t\tvar isActive = Ext.fly(el.firstElementChild).hasCls('x-legend-inactive');\n\t\t\t\t\t\t\trecord.set('active', isActive);\n\t\t\t\t\t\t\tvar terms = this.getCurrentTerms();\n\t\t\t\t\t\t\tthis.setApiParams({query: terms, limit: terms.length, stopList: undefined, categories: this.getApiParam(\"categories\")});\n\t\t\t\t\t\t\tthis.loadFromCorpus();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}\n\t\t\t\t},'->']\n\t\t\t}),\n\t\t\tbbar: {\n                overflowHandler: 'scroller',\n\t\t\t\titems: [{\n                \txtype: 'querysearchfield'\n                },{\n\t            \txtype: 'button',\n\t            \ttext: this.localize('clearTerms'),\n\t            \thandler: function() {\n\t            \t\tthis.setApiParams({query: undefined});\n\t            \t\tthis.loadFromRecords([]);\n\t            \t},\n\t            \tscope: this\n\t            },{\n\t            \txtype: 'corpusdocumentselector',\n\t            \tsingleSelect: true\n\t            },{\n\t            \ttext: this.localize('freqsMode'),\n\t\t\t\t\tglyph: 'xf201@FontAwesome',\n\t\t\t\t    tooltip: this.localize('freqsModeTip'),\n\t\t\t\t    menu: {\n\t\t\t\t    \titems: [{\n\t\t\t\t               text: this.localize('relativeFrequencies'),\n\t\t\t\t               checked: true,\n\t\t\t\t               itemId: 'relative',\n\t\t\t\t               group: 'freqsMode',\n\t\t\t\t               checkHandler: function(item, checked) {\n\t\t\t\t            \t   if (checked) {\n\t\t\t\t                \t   this.setApiParam('withDistributions', 'relative');\n\t\t\t\t                \t   this.loadFromCorpus();\n\t\t\t\t            \t   }\n\t\t\t\t               },\n\t\t\t\t               scope: this\n\t\t\t\t           }, {\n\t\t\t\t               text: this.localize('rawFrequencies'),\n\t\t\t\t               checked: false,\n\t\t\t\t               itemId: 'raw',\n\t\t\t\t               group: 'freqsMode',\n\t\t\t\t               checkHandler: function(item, checked) {\n\t\t\t\t            \t   if (checked) {\n\t\t\t\t                \t   this.setApiParam('withDistributions', 'raw');\n\t\t\t\t                \t   this.loadFromCorpus();\n\t\t\t\t            \t   }\n\t\t\t\t               },\n\t\t\t\t               scope: this\n\t\t\t           }]\n\t\t\t\t    }\n\t            },{\n\t            \txtype: 'slider',\n\t            \titemId: 'segmentsSlider',\n\t            \tfieldLabel: this.localize('segments'),\n\t            \tlabelAlign: 'right',\n\t            \tlabelWidth: 70,\n\t            \twidth: 150,\n\t            \tincrement: 10,\n\t            \tminValue: 10,\n\t            \tmaxValue: 300,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(this.getApiParam('bins'));\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({bins: newvalue});\n\t            \t\t\tthis.loadFromCorpus();\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n\t            }]\n\t\t\t}\n        });\n        \n        this.on('loadedCorpus', function(src, corpus) {\n        \tif (this.getCorpus().getDocumentsCount() == 1 && this.getMode() != this.MODE_DOCUMENT) {\n\t\t\t\tthis.setMode(this.MODE_DOCUMENT);\n\t\t\t}\n\t\t\tif (!('bins' in this.getModifiedApiParams())) {\n\t\t\t\tif (this.getMode() == this.MODE_CORPUS) {\n\t\t\t\t\tvar count = corpus.getDocumentsCount();\n\t\t\t\t\tvar binsMax = 100;\n\t\t\t\t\tthis.setApiParam('bins', count > binsMax ? binsMax : count);\n\t\t\t\t}\n\t\t\t}\n    \t\tif (this.isVisible()) {\n    \t\t\tthis.loadFromCorpus();\n    \t\t}\n        }, this);\n        \n        this.on('corpusSelected', function(src, corpus) {\n    \t\tif (src.isXType('corpusdocumentselector')) {\n    \t\t\tthis.setMode(this.MODE_CORPUS);\n    \t\t\tthis.setApiParams({docId: undefined, docIndex: undefined});\n    \t\t\tthis.setCorpus(corpus);\n        \t\tthis.loadFromCorpus();\n    \t\t}\n    \t});\n        \n        this.on('documentSelected', function(src, doc) {\n        \tvar docId = doc.getId();\n        \tthis.setApiParam('docId', docId);\n        \tthis.loadFromDocumentTerms();\n        }, this);\n        \n\t\tthis.on('query', function(src, query) {\n        \tvar terms = this.getCurrentTerms();\n        \tterms.push(query);\n        \tthis.setApiParams({query: terms, limit: terms.length, stopList: undefined});\n        \tif (this.getMode() === this.MODE_DOCUMENT) {\n        \t\tthis.loadFromDocumentTerms();\n        \t} else {\n        \t\tthis.loadFromCorpusTerms(this.getCorpus().getCorpusTerms());\n        \t}\n        }, this);\n\t\t\n        this.on('resize', this.resizeGraph, this);\n        \n        this.on('boxready', this.initGraph, this);\n        \n        me.callParent(arguments);\n    },\n    \n    loadFromCorpus: function() {\n    \tvar corpus = this.getCorpus();\n\t\tif (this.getApiParam('docId') || this.getApiParam('docIndex')) {\n\t\t\tthis.loadFromDocumentTerms();\n\t\t} else if (corpus.getDocumentsCount() == 1) {\n\t\t\tthis.loadFromDocument(corpus.getDocument(0));\n\t\t} else {\n\t\t\tthis.loadFromCorpusTerms(corpus.getCorpusTerms());\n\t\t}\n\t},\n\n    loadFromCorpusTerms: function(corpusTerms) {\n    \tvar params = this.getApiParams(['limit','stopList','query','withDistributions','bins','categories']);\n\t\t// ensure that we're not beyond the number of documents\n\t\tif (params.bins && params.bins > this.getCorpus().getDocumentsCount()) {\n\t\t\tparams.bins = this.getCorpus().getDocumentsCount();\n\t\t}\n\t\tcorpusTerms.load({\n\t\t    callback: function(records, operation, success) {\n\t\t    \tif (success) {\n\t\t    \t\tthis.setMode(this.MODE_CORPUS);\n\t\t\t    \tthis.loadFromRecords(records);\n\t\t    \t} else {\n\t\t\t\t\tVoyant.application.showResponseError(this.localize('failedGetCorpusTerms'), operation);\n\t\t    \t}\n\t\t    },\n\t\t    scope: this,\n\t\t    params: params\n    \t});\n    },\n    \n    loadFromDocument: function(document) {\n    \tif (document.then) {\n    \t\tvar me = this;\n    \t\tdocument.then(function(document) {me.loadFromDocument(document);});\n    \t} else {\n    \t\tvar ids = [];\n    \t\tif (Ext.getClassName(document)==\"Voyant.data.model.Document\") {\n        \t\tthis.setApiParams({\n        \t\t\tdocIndex: undefined,\n        \t\t\tquery: undefined,\n        \t\t\tdocId: document.getId()\n        \t\t});\n        \t\tif (this.isVisible()) {\n                \tthis.loadFromDocumentTerms();\n        \t\t}\n    \t\t}\n    \t}\n    },\n    \n    loadFromDocumentTerms: function(documentTerms) {\n    \tif (this.getCorpus()) {\n        \tdocumentTerms = documentTerms || this.getCorpus().getDocumentTerms({autoLoad: false});\n    \t\tdocumentTerms.load({\n    \t\t    callback: function(records, operation, success) {\n    \t\t    \tif (success) {\n    \t\t    \t\tthis.setMode(this.MODE_DOCUMENT);\n    \t\t    \t\tthis.loadFromRecords(records);\n    \t\t    \t}\n    \t\t    \telse {\n    \t\t\t\t\tVoyant.application.showResponseError(this.localize('failedGetDocumentTerms'), operation);\n    \t\t    \t}\n    \t\t    },\n    \t\t    scope: this,\n    \t\t    params: this.getApiParams(['docId','docIndex','limit','stopList','query','withDistributions','bins','categories'])\n        \t});\n    \t}\n    },\n    \n    loadFromRecords: function(records) {\n    \tvar legendData = [];\n    \tvar layers = [];\n    \trecords.forEach(function(record, index) {\n    \t\tvar key = record.getTerm();\n    \t\tvar values = record.get('distributions');\n    \t\tfor (var i = 0; i < values.length; i++) {\n    \t\t\tif (layers[i] === undefined) {\n    \t\t\t\tlayers[i] = {};\n    \t\t\t}\n    \t\t\tlayers[i][key] = values[i];\n    \t\t}\n    \t\tlegendData.push({id: key, name: key, mark: this.getApplication().getColorForTerm(key, true), active: true});\n    \t}, this);\n    \t\n    \tthis.setLayerData(layers);\n    \t\n    \tthis.down('[xtype=legend]').getStore().loadData(legendData);\n\n    \tthis.doLayout();\n    },\n    \n    doLayout: function(layers) {\n    \tvar layers = this.getLayerData();\n    \tif (layers !== undefined) {\n    \t\tvar me = this;\n    \t\t\n\t    \tvar keys = [];\n\t    \tthis.down('[xtype=legend]').getStore().each(function(r) { keys.push(r.getId()); });\n\t    \t\n\t    \tvar steps;\n\t    \tif (this.getMode() === this.MODE_DOCUMENT) {\n\t    \t\tsteps = this.getApiParam('bins');\n\t    \t} else {\n\t    \t\tvar bins = this.getApiParam('bins');\n\t    \t\tvar docsCount = this.getCorpus().getDocumentsCount();\n\t    \t\t\n\t    \t\tsteps = bins < docsCount ? bins : docsCount;\n\t    \t}\n\t    \t\n\t    \tthis.getVisLayout().keys(keys);\n\t    \tvar processedLayers = this.getVisLayout()(layers);\n\t    \t\n\t    \tvar width = this.body.down('svg').getWidth() - this.graphMargin.left - this.graphMargin.right;\n\t    \tvar x = d3.scaleLinear().domain([0, steps-1]).range([0, width]);\n\t    \t\n\t    \tvar min = d3.min(processedLayers, function(layer) {\n\t    \t\treturn d3.min(layer, function(d) { return d[0]; });\n\t    \t});\n\t    \tvar max = d3.max(processedLayers, function(layer) {\n\t    \t\treturn d3.max(layer, function(d) { return d[1]; });\n\t    \t});\n\t    \t\n\t    \tvar height = this.body.down('svg').getHeight() - this.graphMargin.top - this.graphMargin.bottom;\n\t    \tvar y = d3.scaleLinear().domain([min, max]).range([height, 0]);\n\t    \t\n\t    \tvar area = d3.area()\n\t\t    \t.x(function(d, i) { return x(i); })\n\t\t\t    .y0(function(d) { return y(d[0]); })\n\t\t\t    .y1(function(d) { return y(d[1]); })\n\t\t\t    .curve(d3.curveCatmullRom);\n\t    \t\n\t    \tvar xAxis;\n\t    \tif (this.getMode() === this.MODE_CORPUS) {\n\t    \t\tvar xAxisDomain = [];\n\t    \t\tthis.getCorpus().getDocuments().each(function(doc) {\n\t    \t\t\txAxisDomain.push(doc.getTinyLabel());\n\t    \t\t});\n\t    \t\tvar xAxisScale = d3.scalePoint().domain(xAxisDomain).range([0, width]);    \t\t\n\t    \t\txAxis = d3.axisBottom(xAxisScale);\n\t    \t} else {\n\t    \t\txAxis = d3.axisBottom(x);\n\t    \t}\n\t    \t\n\t    \tvar yAxis = d3.axisLeft(y);\n\t    \t\n\t    \tvar paths = this.getVis().selectAll('path').data(processedLayers, function(d) { return d; });\n\t    \t\n\t    \tpaths\n\t    \t\t.attr('d', function(d) { return area(d); })\n\t\t    \t.style('fill', function(d) { return me.getApplication().getColorForTerm(d.key, true); })\n\t\t\t\t.select('title').text(function (d) { return d.key; });\n\t    \t\n\t    \tpaths.enter().append('path')\n\t\t\t\t.attr('d', function(d) { return area(d); })\n\t\t\t\t.style('fill', function(d) { return me.getApplication().getColorForTerm(d.key, true); })\n\t\t\t\t.append('title').text(function (d) { return d.key; });\n\t    \t\n\t    \tpaths.exit().remove();\n\t    \t\n\t    \tthis.getVis().selectAll('g.axis').remove();\n\t    \t\n\t    \tthis.getVis().append('g')\n\t    \t\t.attr('class', 'axis x')\n\t    \t\t.attr('transform', 'translate(0,'+height+')')\n\t    \t\t.call(xAxis);\n\t    \t\n\t    \tvar xAxisText;\n\t    \tif (this.getMode() === this.MODE_CORPUS) {\n\t    \t\tthis.getVis().select('g.axis.x').selectAll('text').each(function() {\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr('text-anchor', 'end')\n\t\t\t\t\t\t.attr('transform', 'rotate(-45)');\n\t    \t\t});\n\t    \t\t\n\t    \t\txAxisText = this.localize('documents');\n\t    \t} else {\n\t    \t\txAxisText = this.localize('documentSegments');\n\t    \t}\n\t    \tthis.getVis().select('g.axis.x').append(\"text\")\n\t\t\t\t.attr('text-anchor', 'middle')\n\t\t\t\t.attr('transform', 'translate('+width/2+', '+(this.graphMargin.bottom-30)+')')\n\t\t\t\t.attr('fill', '#000')\n\t\t\t\t.text(xAxisText);\n\t    \t\n\t    \tthis.getVis().append('g')\n\t\t\t\t.attr('class', 'axis y')\n\t\t\t\t.attr('transform', 'translate(0,0)')\n\t\t\t\t.call(yAxis);\n\t    \t\n\t    \tvar yAxisText;\n\t    \tif (this.getApiParam('withDistributions') === 'raw') {\n\t    \t\tyAxisText = this.localize('rawFrequencies');\n\t    \t} else {\n\t    \t\tyAxisText = this.localize('relativeFrequencies');\n\t    \t}\n\t    \tthis.getVis().select('g.axis.y').append(\"text\")\n\t\t\t\t.attr('text-anchor', 'middle')\n\t\t\t\t.attr('transform', 'translate(-'+(this.graphMargin.left-20)+', '+height/2+') rotate(-90)')\n\t\t\t\t.attr('fill', '#000')\n\t\t\t\t.text(yAxisText);\n    \t}\n    },\n    \n\tgetCurrentTerms: function() {\n    \tvar terms = [];\n    \tthis.down('[xtype=legend]').getStore().each(function(record) {\n    \t\tif (record.get('active')) {\n    \t\t\tterms.push(record.get('name'));\n    \t\t}\n    \t}, this);\n    \treturn terms;\n    },\n\t\n    initGraph: function() {\n    \tif (this.getVisLayout() === undefined) {\n\t    \tvar el = this.getLayout().getRenderTarget();\n\t    \t\n\t    \tthis.setVisLayout(d3.stack().offset(d3.stackOffsetWiggle).order(d3.stackOrderInsideOut));\n\t\t\tthis.setVis(d3.select(el.dom).append('svg').attr('id',this.getGraphId()).append('g').attr('transform', 'translate('+this.graphMargin.left+','+this.graphMargin.top+')'));\n\t\t\t\n\t\t\tthis.resizeGraph();\n    \t}\n    },\n    \n    resizeGraph: function() {\n    \tvar el = this.body;//getLayout().getRenderTarget();\n    \tvar width = el.getWidth();\n\t\tvar height = el.getHeight();\n\t\t\n\t\td3.select(el.dom).select('svg').attr('width', width).attr('height', height);\n\t\t\n\t\tthis.doLayout();\n    }\n});\n\n","/**\n * The Summary panel provides an overview of a corpus, and the content will\n * depend on whether the corpus includes one document or many.\n */\nExt.define('Voyant.panel.Summary', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.summary',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String} stopList A list of words to exclude.\n    \t\t * \n    \t\t * Stopword lists can take one of several forms and they can be combined with commas:\n    \t\t * \n    \t\t * * *auto*: automatically detect the language (this is recommended and the default so it doesn't need to be specified)\n    \t\t * * specially named stopword lists including stop.ar.arabic-lucene.txt, stop.bg.bulgarian-lucene.txt, stop.br.breton-lucene.txt, stop.ca.catalan-lucene.txt, stop.ckb.kurdish-lucene.txt, stop.cn.chinese-lawrence.txt, stop.cz.czech-lucene.txt, stop.de.citelab.txt, stop.de.german.txt, stop.el.greek-lucene.txt, stop.en.glasgow.txt, stop.en.smart.txt, stop.en.taporware.txt, stop.es.spanish.txt, stop.eu.basque-luence.txt, stop.fa.farsi-lucene.txt, stop.fr.steffens.txt, stop.fr.veronis.txt, stop.ga.ga-irish.txt, stop.gl.galician-lucene.txt, stop.hi.hindi-lucene.txt, stop.hu.hungarian.txt, stop.hy.armenian-lucene.txt, stop.id.indonesian-lucene.txt, stop.it.italian.txt, stop.ja.japanese.txt, stop.lt.lithuanian-lucene.txt, stop.lv.latvian-lucene.txt, stop.mu.multi.txt, stop.nl.dutch.txt, stop.no.norwegian.txt, stop.ro.romanian-lucene.txt, stop.se.swedish-long.txt, stop.se.swedish-short.txt, stop.th.thai-lucene.txt, stop.tr.turkish-lucene.txt\n    \t\t * * individual words to be excluded\n    \t\t * * URLs that point to plain text UTF-8 files with one stopword per line (lines with leading hash symbols (#) are skipped)\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\t\n    \t\t\n    \t\tstart: 0,\n    \t\t\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} limit The number of items to include in most lists (document length, vocabulary density, most frequent terms).\n    \t\t */\n    \t\tlimit: 5,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} numberOfDocumentsForDistinctiveWords The number of items to include in the list of distinctive words (similar to the limit parameter but specific to distinctive words).\n    \t\t */\n    \t\tnumberOfDocumentsForDistinctiveWords: 10\n    \t},\n\t\tglyph: 'xf1ea@FontAwesome'\n    },\n    config: {\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}]\n    },\n    autoScroll: true,\n    cls: 'corpus-summary',\n    \n    constructor: function(config ) {\n\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\titems: {\n    \t\t\titemId: 'main',\n    \t\t\tcls: 'main',\n    \t\t\tmargin: 10\n    \t\t},\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n        \t\t\tfieldLabel: this.localize('items'),\n        \t\t\tlabelWidth: 40,\n        \t\t\twidth: 120,\n        \t\t\txtype: 'slider',\n\t            \tincrement: 5,\n\t            \tminValue: 5,\n\t            \tmaxValue: 59,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(this.getApiParam(\"limit\"))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({limit: newvalue});\n\t            \t\t\tthis.loadSummary();\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n                }]\n    \t\t}]\n    \t});\n\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.on(\"afterrender\", function() {\n        \tthis.body.addListener('click', function(e) {\n    \t\t\tvar target = e.getTarget(null, null, true);\n    \t\t\tif (target && target.dom.tagName == 'A') {\n    \t\t\t\tif (target.hasCls('document-id')) {\n    \t\t\t\t\tvar docId = target.getAttribute('val', 'voyant');\n    \t\t\t\t\tvar doc = this.getCorpus().getDocuments().getById(docId);\n    \t\t\t\t\tthis.dispatchEvent('documentsClicked', this, [doc]);\n    \t\t\t\t} else if (target.hasCls('corpus-type')) {\n    \t\t\t\t\tthis.dispatchEvent('termsClicked', this, [target.getHtml()]);\n    \t\t\t\t} else if (target.hasCls('document-type')) {\n    \t\t\t\t\tthis.dispatchEvent('documentIndexTermsClicked', this, [{\n    \t\t\t\t\t\tterm: target.getHtml(),\n    \t\t\t\t\t\tdocIndex: target.getAttribute(\"docIndex\", 'voyant')\n    \t\t\t\t\t}]);\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}, this);\n    \t})\n    \t\n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tif (this.rendered) {\n    \t\t\tthis.loadSummary();\n    \t\t}\n    \t\telse {\n    \t\t\tthis.on(\"afterrender\", function() {\n    \t\t\t\tthis.loadSummary();\n    \t\t\t}, this)\n    \t\t}\n\n    \t});\n    \t\n    \t// if we have a corpus, load it\n    \tif (config && config.corpus) {\n    \t\tthis.fireEvent('loadedCorpus', this, config.corpus);\n    \t}\n    \t\n    \tthis.on(\"resize\", function() {\n    \t\tvar available = this.getWidth()-200;\n    \t\tthis.query(\"sparklineline\").forEach(function(spark) {\n    \t\t\tif (spark.getWidth()>available) {\n    \t\t\t\tspark.setWidth(available);\n    \t\t\t}\n    \t\t})\n    \t}, this)\n    },\n    \n    loadSummary: function() {\n    \t\n    \tvar me = this;\n    \t\n    \tvar main = this.queryById('main');\n    \t\n    \tmain.removeAll();\n    \tmain.add({\n    \t\thtml: this.getCorpus().getString()\n    \t});\n    \t\n    \tvar docs = this.getCorpus().getDocuments().getRange();\n    \tvar limit = this.getApiParam('limit');\n    \t\n    \tif (docs.length>1) {\n    \t\t\n    \t\tdocs.sort(function(d1, d2) {return d2.getLexicalTokensCount()-d1.getLexicalTokensCount()});\n        \tvar docsLengthTpl = new Ext.XTemplate('<tpl for=\".\" between=\"; \"><a href=\"#\" onclick=\"return false\" class=\"document-id\" voyant:val=\"{id}\" data-qtip=\"{title}\">{shortTitle}</a><span style=\"font-size: smaller\"> (<span class=\"info-tip\" data-qtip=\"{valTip}\">{val}</span>)</span></a></tpl>')\n\n        \t\n        \tvar sparkWidth;\n        \tif (docs.length<25) {sparkWidth=docs.length*4;}\n        \telse if (docs.length<50) {sparkWidth=docs.length*2;}\n        \telse if (docs.length>100) {\n        \t\tvar available  = main.getWidth()-200;\n        \t\tsparkWidth = available < docs.length ? docs.length : available;\n        \t}\n        \t\n        \tvar numberOfTerms = this.localize('numberOfTerms');\n        \tmain.add({\n\t    \t\tcls: 'section',\n        \t\titems: [{\n\t\t    \t\tlayout: 'hbox',\n\t\t    \t\talign: 'bottom',\n\t\t    \t\titems: [{\n\t\t    \t\t\thtml: this.localize('docsLength'),\n\t\t    \t\t\tcls: 'header'\n\t\t    \t\t}, {\n\t\t    \t\t\txtype: 'sparklineline',\n\t\t    \t\t\tvalues: this.getCorpus().getDocuments().getRange().map(function(doc) {return doc.getLexicalTokensCount()}),\n\t\t                tipTpl: new Ext.XTemplate('{[this.getDocumentTitle(values.x,values.y)]}', {\n\t\t                \tgetDocumentTitle: function(docIndex, len) {\n\t\t                \t\treturn '('+len+') '+this.panel.getCorpus().getDocument(docIndex).getTitle()\n\t\t                \t},\n\t\t                \tpanel: me \n\t\t                }),\n\t\t    \t\t\theight: 16,\n\t\t    \t\t\twidth: sparkWidth\n\t\t    \t\t}]\n\t\t    \t},{\n\t    \t\t\thtml: '<ul><li>'+this.localize('longest')+\" \"+docsLengthTpl.apply(docs.slice(0, docs.length>limit ? limit : parseInt(docs.length/2)).map(function(doc) {return {\n\t\t\t\t\t\tid: doc.getId(),\n\t\t\t\t\t\tshortTitle: doc.getShortTitle(),\n\t\t\t\t\t\ttitle: doc.getTitle(),\n\t\t\t\t\t\tval: doc.getLexicalTokensCount(),\n\t\t\t\t\t\tvalTip: numberOfTerms\n\t\t\t\t\t}}))+'</li>'+\n\t    \t\t\t\t'<li>'+this.localize('shortest')+\" \"+docsLengthTpl.apply(docs.slice(-(docs.length>limit ? limit : parseInt(docs.length/2))).reverse().map(function(doc) {return {\n\t    \t\t\t\t\tid: doc.getId(),\n\t    \t\t\t\t\tshortTitle: doc.getShortTitle(),\n\t    \t\t\t\t\ttitle: doc.getTitle(),\n\t    \t\t\t\t\tval: doc.getLexicalTokensCount(),\n\t    \t\t\t\t\tvalTip: numberOfTerms\n\t    \t\t\t\t}}))+'</li>'\n\t        \t}]\n        \t})\n        \t\n    \t\tdocs.sort(function(d1, d2) {return d2.getLexicalTypeTokenRatio()-d1.getLexicalTypeTokenRatio()});\n        \tmain.add({\n        \t\tcls: 'section',\n        \t\titems: [{\n\t\t    \t\tlayout: 'hbox',\n\t\t    \t\talign: 'bottom',\n\t\t    \t\tcls: 'section',\n\t\t    \t\titems: [{\n\t\t    \t\t\thtml: this.localize(\"docsDensity\"),\n\t\t    \t\t\tcls: 'header'\n\t\t    \t\t}, {\n\t\t    \t\t\txtype: 'sparklineline',\n\t\t    \t\t\tvalues: this.getCorpus().getDocuments().getRange().map(function(doc) {return Ext.util.Format.number(doc.getLexicalTypeTokenRatio(),'0.000')}),\n\t\t                tipTpl: new Ext.XTemplate('{[this.getDocumentTitle(values.x,values.y)]}', {\n\t\t                \tgetDocumentTitle: function(docIndex, len) {\n\t\t                \t\treturn '('+len+') '+this.panel.getCorpus().getDocument(docIndex).getTitle()\n\t\t                \t},\n\t\t                \tpanel: me \n\t\t                }),\n\t\t    \t\t\theight: 16,\n\t\t    \t\t\twidth: sparkWidth\n\t\t    \t\t}]\n\t\t    \t},{\n\t    \t\t\thtml: '<ul><li>'+this.localize('highest')+docsLengthTpl.apply(docs.slice(0, docs.length>limit ? limit : parseInt(docs.length/2)).map(function(doc) {return {\n\t\t\t\t\t\tid: doc.getId(),\n\t\t\t\t\t\tshortTitle: doc.getShortTitle(),\n\t\t\t\t\t\ttitle: doc.getTitle(),\n\t\t\t\t\t\tval: Ext.util.Format.number(doc.getLexicalTypeTokenRatio(),'0.000'),\n\t\t\t\t\t\tvalTip: numberOfTerms\n\t\t\t\t\t}}))+'</li>'+\n\t    \t\t\t\t'<li>'+this.localize('lowest')+docsLengthTpl.apply(docs.slice(-(docs.length>limit ? limit : parseInt(docs.length/2))).reverse().map(function(doc) {return {\n\t    \t\t\t\t\tid: doc.getId(),\n\t    \t\t\t\t\tshortTitle: doc.getShortTitle(),\n\t    \t\t\t\t\ttitle: doc.getTitle(),\n\t    \t\t\t\t\tval: Ext.util.Format.number(doc.getLexicalTypeTokenRatio(),'0.000'),\n\t    \t\t\t\t\tvalTip: numberOfTerms\n\t    \t\t\t\t}}))+'</li>'\n\t        \t}]\n        \t})\n \n        \t// words per sentence\n    \t\tdocs.sort(function(d1, d2) {return d2.getAverageWordsPerSentence()-d1.getAverageWordsPerSentence()});\n        \tmain.add({\n        \t\tcls: 'section',\n        \t\titems: [{\n\t\t    \t\tlayout: 'hbox',\n\t\t    \t\talign: 'bottom',\n\t\t    \t\tcls: 'section',\n\t\t    \t\titems: [{\n\t\t    \t\t\thtml: this.localize(\"averageWordsPerSentence\"),\n\t\t    \t\t\tcls: 'header'\n\t\t    \t\t}, {\n\t\t    \t\t\txtype: 'sparklineline',\n\t\t    \t\t\tvalues: this.getCorpus().getDocuments().getRange().map(function(doc) {return Ext.util.Format.number(doc.getAverageWordsPerSentence(),'0.0')}),\n\t\t                tipTpl: new Ext.XTemplate('{[this.getDocumentTitle(values.x,values.y)]}', {\n\t\t                \tgetDocumentTitle: function(docIndex, len) {\n\t\t                \t\treturn '('+len+') '+this.panel.getCorpus().getDocument(docIndex).getTitle()\n\t\t                \t},\n\t\t                \tpanel: me \n\t\t                }),\n\t\t    \t\t\theight: 16,\n\t\t    \t\t\twidth: sparkWidth\n\t\t    \t\t}]\n\t\t    \t},{\n\t    \t\t\thtml: '<ul><li>'+this.localize('highest')+docsLengthTpl.apply(docs.slice(0, docs.length>limit ? limit : parseInt(docs.length/2)).map(function(doc) {return {\n\t\t\t\t\t\tid: doc.getId(),\n\t\t\t\t\t\tshortTitle: doc.getShortTitle(),\n\t\t\t\t\t\ttitle: doc.getTitle(),\n\t\t\t\t\t\tval: Ext.util.Format.number(doc.getAverageWordsPerSentence(),'0.0'),\n\t\t\t\t\t\tvalTip: numberOfTerms\n\t\t\t\t\t}}))+'</li>'+\n\t    \t\t\t\t'<li>'+this.localize('lowest')+docsLengthTpl.apply(docs.slice(-(docs.length>limit ? limit : parseInt(docs.length/2))).reverse().map(function(doc) {return {\n\t    \t\t\t\t\tid: doc.getId(),\n\t    \t\t\t\t\tshortTitle: doc.getShortTitle(),\n\t    \t\t\t\t\ttitle: doc.getTitle(),\n\t    \t\t\t\t\tval: Ext.util.Format.number(doc.getAverageWordsPerSentence(),'0.0'),\n\t    \t\t\t\t\tvalTip: numberOfTerms\n\t    \t\t\t\t}}))+'</li>'\n\t        \t}]\n        \t})        \t\n    \t} else { // single document, we can still show word density and average words per sentence\n    \t\tvar doc = docs[0];\n    \t\tif (doc) {\n            \tmain.add({\n            \t\tcls: 'section',\n            \t\thtml:\"<b>\"+this.localize(\"docsDensity\")+\"</b> \"+Ext.util.Format.number(doc.getLexicalTypeTokenRatio(),'0.000')\n            \t});    \t\t\n            \tmain.add({\n            \t\tcls: 'section',\n            \t\thtml: \"<b>\"+this.localize(\"averageWordsPerSentence\")+\"</b> \"+Ext.util.Format.number(doc.getAverageWordsPerSentence(),'0.0')\n            \t});    \t\t\n    \t\t}\n    \t}\n    \t\n    \tmain.add({\n    \t\thtml: this.localize(\"mostFrequentWords\"),\n    \t\tcls: 'section',\n    \t\tlisteners: {\n    \t\t\tafterrender: function(container) {\n    \t\t\t\tcontainer.mask(me.localize(\"loading\"));\n    \t\t\t\tme.getCorpus().getCorpusTerms().load({\n    \t\t\t\t\tparams: {\n    \t\t\t\t\t\tlimit: me.getApiParam('limit'),\n    \t\t\t\t\t\tstopList: me.getApiParam('stopList'),\n    \t\t\t\t\t\tforTool: 'summary'\n    \t\t\t\t\t},\n    \t\t\t\t\tcallback: function(records, operation, success) {\n    \t\t\t\t\t\tif (success && records && records.length>0) {\n    \t\t\t\t\t\t\tcontainer.unmask();\n    \t\t\t\t\t\t\tExt.dom.Helper.append(container.getTargetEl().first().first(),\n\t\t\t   \t        \t\t\t new Ext.XTemplate('<tpl for=\".\" between=\"; \"><a href=\"#\" onclick=\"return false\" class=\"corpus-type keyword\" voyant:recordId=\"{id}\">{term}</a><span style=\"font-size: smaller\"> ({val})</span></tpl>')\n\t\t\t   \t        \t\t \t\t.apply(records.map(function(term) {\n\t\t\t   \t        \t\t \t\t\treturn {\n\t\t\t\t   \t        \t\t \t\t\tid: term.getId(),\n\t\t\t\t   \t        \t\t \t\t\tterm: term.getTerm(),\n\t\t\t\t   \t        \t\t \t\t\tval: term.getRawFreq()\n\t\t\t   \t        \t\t \t\t\t}\n\t\t   \t        \t\t \t\t}))\n\t\t   \t        \t\t \t)\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t})\n    \t\t\t}\n    \t\t},\n    \t\tscope: this\n    \t})\n    \t\n    \tif (docs.length>1) {\n        \tmain.add({\n        \t\thtml: this.localize(\"distinctiveWords\")+\"<ol></ol>\",\n        \t\tcls: 'section',\n        \t\titemId: 'distinctiveWords',\n        \t\tlisteners: {\n        \t\t\tafterrender: function(container) {\n        \t\t\t\tme.showMoreDistinctiveWords();\n        \t\t\t}\n        \t\t},\n        \t\tscope: this\n        \t})\n    \t}\n    \t\n    },\n     \n    showMoreDistinctiveWords: function() {\n    \tvar distinctiveWordsContainer = this.queryById('distinctiveWords');\n    \tvar list = distinctiveWordsContainer.getTargetEl().selectNode(\"ol\");\n    \tvar count = Ext.dom.Query.select(\"li:not(.more)\", list).length;\n    \tvar numberOfDocumentsForDistinctiveWords = parseInt(this.getApiParam('numberOfDocumentsForDistinctiveWords'));\n    \tvar range = this.getCorpus().getDocuments().getRange(count, count+numberOfDocumentsForDistinctiveWords-1);\n    \tif (range && Ext.isArray(range)) {\n    \t\tvar docIndex = [];\n    \t\trange.forEach(function(doc) {\n    \t\t\tdocIndex.push(doc.getIndex())\n    \t\t})\n    \t\tif (docIndex.length>0) {\n    \t\t\tthis.getCorpus().getDocumentTerms().load({\n    \t\t\t\taddRecords: true,\n    \t\t\t\tparams: {\n    \t\t\t\t\tdocIndex: docIndex,\n    \t\t\t\t\tperDocLimit: parseInt(this.getApiParam(\"limit\")),\n    \t\t\t\t\tlimit: numberOfDocumentsForDistinctiveWords*parseInt(this.getApiParam(\"limit\")),\n\t\t\t\t\t\tstopList: this.getApiParam('stopList'),\n    \t\t\t\t\tsort: 'TFIDF',\n    \t\t\t\t\tdir: 'DESC',\n    \t\t\t\t\tforTool: 'summary'\n    \t\t\t\t},\n    \t\t\t\tscope: this,\n    \t\t\t\tcallback: function(records, operation, success) {\n    \t\t\t\t\tvar docs = {};\n    \t\t\t\t\tif (success && records && Ext.isArray(records)) { // TODO: why wouldn't we have records here?\n    \t\t\t\t\t\trecords.forEach(function(r, index, array) {\n    \t\t\t\t\t\t\tvar i = r.getDocIndex();\n    \t\t\t\t\t\t\tif (!(i in docs)) {docs[i]=[]};\n    \t\t\t\t\t\t\tdocs[i].push({\n    \t\t\t\t\t\t\t\tid: r.getId(),\n    \t\t\t\t\t\t\t\tdocIndex: r.getDocIndex(),\n    \t\t\t\t\t\t\t\ttype: r.getTerm(),\n    \t\t\t\t\t\t\t\tval: Ext.util.Format.number(r.get('rawFreq'),'0,000'),\n    \t\t\t\t\t\t\t\tdocId: r.get('docId')\n    \t\t\t\t\t\t\t});\n\n    \t\t\t\t\t\t});\n    \t\t\t\t\t\tvar len;\n    \t\t\t\t\t\tdocIndex.forEach(function(index) {\n    \t\t\t\t\t\t\tif (docs[index]) {\n        \t\t\t\t\t\t\tvar doc = this.getCorpus().getDocument(index);\n        \t\t\t\t\t\t\tlen = docs[index].length; // declare for template\n        \t\t    \t\t\t\tExt.dom.Helper.append(list, {tag: 'li', 'voyant:index': String(index), html: \n        \t\t    \t\t\t\t\t'<a href=\"#\" onclick=\"return false\" class=\"document-id document-id-distinctive\" voyant:val=\"'+doc.get('id')+'\">'+doc.getShortTitle()+'</a>'+\n        \t\t    \t\t\t\t\tthis.localize('colon')+ \" \"+new Ext.XTemplate(this.localize('documentType')).apply({types: docs[index]})+'.'\n        \t\t    \t\t\t\t});\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t}, this);\n    \t\t\t\t\t\tdistinctiveWordsContainer.updateLayout()\n    \t\t\t\t\t\tlen = numberOfDocumentsForDistinctiveWords;\n    \t\t\t\t\t\tremaining = this.getCorpus().getDocuments().getTotalCount() - count - docIndex.length;\n    \t\t\t\t\t\tif (remaining>0) {\n        \t    \t\t\t\tvar tpl = new Ext.Template(this.localize('moreDistinctiveWords'));\n        \t\t\t\t\t\tvar more = Ext.dom.Helper.append(list, {tag: 'li', cls: 'more', html: tpl.apply([len>remaining ? remaining : len,remaining])}, true);\n        \t\t\t\t\t\tmore.on(\"click\", function() {\n        \t\t\t\t\t\t\tmore.remove();\n        \t\t\t\t\t\t\tthis.showMoreDistinctiveWords();\n        \t\t\t\t\t\t}, this)\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t});\n    \t\t}\n    \t}\n    }    \n});\n","Ext.define('Voyant.panel.TextualArc', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.textualarc',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\t/**\n    \t\t * @property stopList The stop list to use to filter results.\n    \t\t * Choose from a pre-defined list, or enter a comma separated list of words, or enter an URL to a list of stop words in plain text (one per line).\n    \t\t * @type String\n    \t\t * @private\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\t\n    \t\tdocIndex: 0,\n    \t\t\n    \t\tspeed: 50,\n    \t\t\n    \t\tminRawFreq: 2\n    \t\t\t\n    \t},\n    \tglyph: 'xf06e@FontAwesome'\n\t},\n\tconfig: {\n    \toptions: [{xtype: 'stoplistoption'},{\n    \t\txtype: 'container',\n    \t\titems: {\n    \t\t\txtype: 'numberfield',\n\t    \t\tname: 'minRawFreq',\n\t    \t\tminValue: 1,\n\t    \t\tmaxValue: 10,\n\t    \t\tvalue: 2,\n\t    \t\tlabelWidth: 150,\n\t    \t\tlabelAlign: 'right',\n\t    \t\tinitComponent: function() {\n\t    \t\t\tvar panel = this.up('window').panel;\n\t    \t\t\tthis.fieldLabel = panel.localize(this.fieldLabel);\n\t    \t\t\tthis.on(\"afterrender\", function(cmp) {\n\t\t\t        \tExt.tip.QuickTipManager.register({\n\t\t\t                 target: cmp.getEl(),\n\t\t\t                 text: panel.localize('minRawFreqTip')\n\t\t\t             });\n\t    \t\t\t});\n\t    \t\t\tthis.on('beforedestroy', function(cmp) {\n                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n                \t});\n\t    \t\t\tthis.callParent(arguments);\n\t    \t\t},\n\t    \t\tfieldLabel: 'minRawFreq'\n    \t\t}\n    \t}],\n    \tperim: [],\n    \tdiam: undefined\n\t},\n\t\n\ttokensFetch: 500,\n\t\n    constructor: function() {\n\n    \tthis.mixins['Voyant.util.Localization'].constructor.apply(this, arguments);\n    \tthis.config.options[1].fieldLabel = this.localize(this.config.options[1].fieldLabel);\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n\t\t\thtml: '<canvas width=\"800\" height=\"600\"></canvas>',\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                \txtype: 'combo',\n                \titemId: 'search',\n                \tqueryMode: 'local',\n                \tdisplayField: 'term',\n                \tvalueField: 'term',\n                \twidth: 90,\n                \temptyText: this.localize('search'),\n                \tforceSelection: true,\n                \tdisabled: true\n                },{\n\t            \txtype: 'documentselectorbutton',\n\t            \tsingleSelect: true\n\t            },{\n\t\t\t\t\txtype: 'slider',\n\t\t\t\t\tfieldLabel: this.localize('speed'),\n\t\t\t\t\tlabelAlign: 'right',\n\t\t\t\t\tlabelWidth: 40,\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tincrement: 1,\n\t\t\t\t\tminValue: 0,\n\t\t\t\t\tmaxValue: 100,\n\t\t\t\t\tvalue: 30,\n\t\t\t\t\tlisteners: {\n\t                \trender: function(cmp) {\n\t                \t\tcmp.setValue(parseInt(this.getApiParam(\"speed\")));\n\t    \t\t        \tExt.tip.QuickTipManager.register({\n\t    \t\t        \t\ttarget: cmp.getEl(),\n\t   \t\t                 \ttext: this.localize('speedTip')\n\t    \t\t        \t});\n\t                \t\t\n\t                \t},\n\t                \tbeforedestroy: function(cmp) {\n\t                \t\tExt.tip.QuickTipManager.unregister(cmp.getEl());\n\t                \t},\n\t                    changecomplete: function(cmp, val) {\n\t                    \tthis.setApiParam('speed', val);\n                    \t\tthis.isReading = val!==0\n                    \t\tthis.draw();\n\t                    },\n\t                    scope: this\n\t\t\t\t\t}\n\t\t\t\t},{xtype: 'tbfill'}, {\n\t    \t\t\txtype: 'tbtext',\n\t    \t\t\thtml: this.localize('adaptation')\n\t    \t\t}]\n    \t\t}]\n    \t});\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.on('boxready', function(cmp) {\n\t\t\tvar canvas = this.getTargetEl().dom.querySelector(\"canvas\");\n\t    \tthis.draw(canvas);\n\n    \t\tcanvas.addEventListener('mousemove', function(evt) {\n    \t\t\tif (cmp.documentTerms) {\n        \t\t\tvar rect = canvas.getBoundingClientRect(), x =  evt.clientX - rect.left, y = evt.clientY - rect.top;\n        \t\t\t\n        \t\t\tvar currentTerms = {};\n        \t\t\tcmp.documentTerms.each(function(documentTerm) {\n        \t\t\t\tvar dx = documentTerm.get('x'), dy = documentTerm.get('y');\n        \t\t\t\tif (dx>x-15 && dx<x+15 && dy>y-15 && dy<y+15) {\n        \t\t\t\t\tcurrentTerms[documentTerm.getTerm()] = true;\n        \t\t\t\t\treturn false;\n        \t\t\t\t}\n        \t\t\t})\n        \t\t\t\n        \t\t\t// no need to do anything if there are no current terms and none found\n        \t\t\tif (Object.keys(cmp.currentTerms || {}).length==0 && Object.keys(currentTerms).length==0) {return;}\n\n        \t\t\tcmp.currentTerms = currentTerms;\n        \t\t\tcmp.draw(canvas); // otherwise redraw\n    \t\t\t}\n    \t\t\t\n    \t      }, false);\n    \t})\n    \t\n    \tthis.on('loadedCorpus', function(src, corpus) {\n\t\t\tthis.loadDocument();\n    \t}, this);\n    \t\n    \tthis.on(\"documentselected\", function(src, doc) {\n    \t\tthis.setApiParam('docIndex', this.getCorpus().getDocument(doc).getIndex());\n    \t\tthis.loadDocument();\n    \t});\n    \t\n    \tthis.on(\"resize\", function() {\n    \t\tvar gutter = 20,\n\t\t\tavailableWidth = this.getTargetEl().getWidth() - gutter - gutter,\n\t\t\tavailableHeight = this.getTargetEl().getHeight() - gutter - gutter,\n\t\t\tdiam = Math.max(availableWidth, availableHeight), rad = diam /2,\n\t\t\tratio = Math.min(availableWidth, availableHeight) / diam,\n\t\t\tcanvas = this.getTargetEl().dom.querySelector(\"canvas\");\n    \t\t\n\t\t\tcanvas.width = this.getTargetEl().getWidth();\n\t\t\tcanvas.height = this.getTargetEl().getHeight();\n\t\t\tthis.setDiam(diam);\n\t\t\tthis.setPerim([]);\n\t\t\tvar i = parseInt(diam*.75)\n\t\t\twhile (this.getPerim().length<diam) {\n\t    \t\tthis.getPerim().push({\n\t    \t\t\tx:  gutter+(availableWidth/2)+(rad * (availableWidth>availableHeight ? 1 : ratio) * Math.cos(2 * Math.PI * i / diam)),\n\t    \t\t\ty:  gutter+(availableHeight/2)+(rad * (availableHeight>availableWidth ? 1 : ratio) * Math.sin(2 * Math.PI * i / diam))\n\t    \t\t})\n\t    \t\tif (i++==diam) {i=0;}\n\t\t\t}\n\t\t\t\n\t\t\t// TODO clear previous/current drawing\n    \t})\n    },\n    \n    draw: function(canvas, ctx) {\n    \tcanvas = canvas ||  this.getTargetEl().dom.querySelector(\"canvas\");\n    \tctx = ctx || canvas.getContext(\"2d\");\n    \tctx.clearRect(0,0,canvas.width,canvas.height);\n\t\tctx.fillStyle = \"rgba(0,0,0,.1)\";\n    \tthis.getPerim().forEach(function(p,i) {\n    \t\tif (i%3==0) {\n        \t\tctx.fillRect(p.x-5,p.y,10,1)\n    \t\t}\n    \t})\n    \tif (this.documentTerms) {\n        \tthis.drawTerms(canvas, ctx);\n        \tthis.drawReading(canvas,ctx);\n        \tif (this.isReading) {\n        \t\tvar me = this;\n        \t\tsetTimeout(function() {\n        \t\t\tme.draw();\n        \t\t}, 10)\n        \t}\n    \t}\n    },\n    \n    drawReading: function(canvas, ctx) {\n    \tctx = ctx || this.getTargetEl().dom.querySelector(\"canvas\").getContext(\"2d\");\n    \tvar delay = 2000-(parseInt(this.getApiParam('speed'))*1999/100);\n    \tif (this.isReading && this.documentTerms) {\n    \t\tvar current = parseInt(this.readingIndex * this.getPerim().length / this.lastToken);\n    \t\tctx.fillStyle = \"purple\";\n    \t\tctx.fillRect(this.getPerim()[current].x,this.getPerim()[current].y, 5, 5)\n\t\t\tvar first = this.readingStartTime == undefined;\n\t\t\tthis.readingStartTime = this.readingStartTime || new Date().getTime();\n\t\t\tvar delta = this.readingStartTime+delay-new Date().getTime();\n    \t\tif (this.sourceTerm && this.targetTerm) {\n    \t\t\tvar maxTail = 10;\n    \t\t\tif (first || delta<=0) {\n    \t\t\t\tthis.previousBeziers = this.previousBeziers || []; // this should be reset by tokens reader during first read\n        \t\t\tvar sx = this.sourceTerm.get('x'), sy = this.sourceTerm.get('y'), tx = this.targetTerm.get('x'), ty = this.targetTerm.get('y'),\n    \t\t\t\t\tpx = this.previousTerm ? this.previousTerm.get('x') : sx, py = this.previousTerm ? this.previousTerm.get('y') : sy,\n    \t\t\t\t\tround = 100, multiplier = .3;\n    \t\t\t\t\n        \t\t\tvar ix, iy, xd = Math.max(round, Math.abs(sx-tx) * .5), yd = Math.max(round, Math.abs(sy-ty) * .5);\n        \t\t\tix = sx > tx ? sx - xd : sx + xd;\n        \t\t\tiy = ty > sy ? sy + yd : sy - yd;\n    \t\t\t\tthis.previousBeziers.unshift([sx,sy,ix,iy,tx,ty]);\n    \t\t\t\tif (this.previousBeziers.length>maxTail) {this.previousBeziers.pop()}\n    \t\t\t}\n    \t\t\t\n    \t\t\tfor (var i=0; i<this.previousBeziers.length; i++) {\n\t        \t\tctx.strokeStyle=\"rgba(0,0,255,\"+(1-(i*.1))+\")\";\n    \t\t\t\tvar start = i+1 == this.previousBeziers.length ? 1-(delta/delay) : 0;\n    \t\t\t\tvar end = i==0 ? 1-(delta/delay) : 1;\n            \t\tthis.drawBezierSplit.apply(this, Ext.Array.merge([ctx], this.previousBeziers[i], [start], [end]));\n    \t\t\t}\n    \t\t\tif (delta<=0) {\n        \t\t\tthis.readingStartTime = undefined;\n        \t\t\tthis.read();\n    \t\t\t}\n    \t\t}\n    \t\tvar nextReadingIndex = this.readingIndex+1;\n    \t\tfor (var len=this.tokens.getCount(); nextReadingIndex<len; nextReadingIndex++) {\n    \t\t\tif (this.tokens.getAt(nextReadingIndex).getTerm().toLowerCase()==this.targetTerm.getTerm()) {\n    \t\t\t\tbreak;\n    \t\t\t}\n    \t\t}\n    \t\tvar startReadingIndex = nextReadingIndex-parseInt(delta*(nextReadingIndex-this.readingIndex)/delay), count = this.tokens.getCount();\n    \t\tfor (; startReadingIndex<nextReadingIndex; startReadingIndex++) {\n    \t\t\tif (startReadingIndex < count && this.tokens.getAt(startReadingIndex).isWord()) {\n    \t\t\t\tbreak;\n    \t\t\t}\n    \t\t}\n    \t\tvar tokens = this.tokens.getRange(startReadingIndex, len=Math.min(this.readingIndex+50, this.tokens.getCount())).map(function(token) {\n    \t\t\treturn token.getTerm();\n    \t\t})\n\t    \tctx.font = \"14px sans-serif\";\n    \t\tctx.fillStyle = \"rgba(0,0,0,.5)\";\n        \tctx.textAlign = \"left\";\n    \t\tctx.fillText(tokens.join(\"\"), canvas.width/4, canvas.height-5);\n    \t\tctx.clearRect(canvas.width*.75, canvas.height-20, canvas.width, 30)\n    \t} else if (this.documentTerms && this.documentTerms.getCount()<this.documentTerms.getTotalCount()) {\n    \t\tvar x = canvas.width / 4;\n    \t\tctx.strokeStyle=\"rgba(0,0,0,.5)\";\n    \t\tctx.fillStyle = \"rgba(0,0,0,.2)\";\n    \t\tctx.strokeRect(x,canvas.height-12,x*2,10);\n    \t\tctx.fillRect(x,canvas.height-12,(this.documentTerms.getCount()*x*2)/this.documentTerms.getTotalCount(),10);\n    \t}\n    },\n    \n    drawTerms: function(canvas, ctx) {\n    \tcanvas = canvas || this.getTargetEl().dom.querySelector(\"canvas\");\n    \tctx = ctx || canvas.getContext(\"2d\");\n    \tctx.textAlign = \"center\";\n    \tif (this.documentTerms && this.getPerim().length > 0) {\n    \t\tthis.documentTerms.each(function(documentTerm) {\n    \t\t\tvar me = this, freq = documentTerm.getRawFreq(), term = documentTerm.getTerm(),\n    \t\t\t\tx = documentTerm.get('x'), y = documentTerm.get('y');\n    \t\t\tisCurrentTerm = me.currentTerms && (term in me.currentTerms);\n    \t\t\tisReadingTerm = this.sourceTerm && this.sourceTerm.getTerm() == term;\n    \t    \tctx.font = ((Math.log(freq)*(canvas.width*10/800)/Math.log(this.maxRawFreq))+(isCurrentTerm || isReadingTerm ? 10 : 5)) + \"px sans-serif\";\n    \t    \tif (isCurrentTerm) {\n    \t    \t\tctx.fillStyle = \"red\";\n    \t    \t} else if (isReadingTerm) {\n    \t    \t\tctx.fillStyle = \"blue\";\n    \t    \t} else {\n    \t    \t\tctx.fillStyle = \"rgba(0,0,0,\"+((freq*.9/this.maxRawFreq)+.1)+\")\";\n    \t    \t}\n    \t    \tif (isCurrentTerm || isReadingTerm) {\n    \t    \t\tctx.strokeStyle = isCurrentTerm ? \"rgba(255,0,0,.2)\" : \"rgba(0,255,0,.4)\";\n    \t    \t\tdocumentTerm.getDistributions().forEach(function(d, i) {\n    \t    \t\t\tif (d>0 && this.getPerim()[i]) {\n    \t    \t\t\t\tctx.beginPath();\n    \t    \t\t\t\tctx.moveTo(x, y);\n    \t    \t\t\t\tctx.lineTo(this.getPerim()[i].x,this.getPerim()[i].y);\n    \t    \t\t\t\tctx.stroke();\n    \t    \t\t\t}\n    \t    \t\t}, this)\n    \t    \t}\n    \t\t\tctx.fillText(term, x, y);\n    \t\t\t\n    \t\t}, this)    \t\t\n    \t}\n    },\n    \n    read: function(index) {\n    \tif (Ext.isNumber(index)) {this.readingIndex=index;}\n    \telse {this.readingIndex++;}\n    \tif (this.sourceTerm) {this.previousTerm=this.sourceTerm;}\n    \tfor (var i=this.readingIndex, len = this.tokens.getCount(); i<len; i++) {\n    \t\tvar token = this.tokens.getAt(i), term = token.getTerm().toLowerCase();\n    \t\tif (term in this.termsMap) {\n    \t\t\tthis.sourceTerm = this.termsMap[term];\n    \t\t\tif (this.sourceTerm.getRawFreq()>=1) {\n        \t\t\tthis.readingIndex = i;\n        \t\t\tbreak\n    \t\t\t}\n    \t\t}\n    \t}\n    \tfor (var i=this.readingIndex+1, len = this.tokens.getCount(); i<len; i++) {\n    \t\tvar token = this.tokens.getAt(i), term = token.getTerm().toLowerCase();\n    \t\tif (term in this.termsMap) {\n    \t\t\tthis.targetTerm = this.termsMap[term];\n    \t\t\tif (this.targetTerm.getRawFreq()>=1) {\n        \t\t\tbreak;\n    \t\t\t}\n    \t\t}\n    \t}\n    \tif (!this.tokensLoading && this.tokens.getCount()-this.readingIndex<this.tokensFetch) {\n    \t\tthis.fetchMoreTokens();\n    \t}\n    \tthis.draw();\n    },\n    \n    \n    loadDocument: function() {\n    \tif (this.documentTerms) {this.documentTerms.destroy();this.documentTerms=undefined;}\n    \tthis.termsMap = {};\n    \tthis.draw();\n    \tvar doc =  this.getCorpus().getDocument(parseInt(this.getApiParam('docIndex')));\n    \t// if we're not in a tab panel, set the document title as part of the header\n    \tif (!this.up(\"tabpanel\")) {\n        \tthis.setTitle(this.localize('title') + \" <span class='subtitle'>\"+doc.getFullLabel()+\"</span>\");\n    \t}\n    \tthis.lastToken = parseInt(doc.get('lastTokenStartOffset-lexical'));\n    \tthis.documentTerms = doc.getDocumentTerms({\n    \t\tproxy: {\n    \t\t\textraParams: {\n    \t\t\t\tstopList: this.getApiParam('stopList'),\n    \t\t\t\tbins: this.getDiam(),\n    \t\t\t\twithDistributions: 'raw',\n    \t\t\t\tminRawFreq: parseInt(this.getApiParam('minRawFreq'))\n    \t\t\t}\n    \t\t}\n    \t});\n    \tvar search = this.queryById('search');\n    \tsearch.setDisabled(true);\n    \tsearch.setStore(this.documentTerms);\n    \tthis.fetchMoreDocumentTerms();\n    },\n    \n    fetchMoreDocumentTerms: function() {\n    \tif (!this.documentTerms) {this.loadDocument(); return;}\n    \tthis.documentTerms.load({\n    \t\tparams: {\n    \t\t\tstart: this.documentTerms.getCount(),\n    \t\t\tlimit: this.documentTerms.getCount() == 0 ? 10 : 250\n    \t\t},\n    \t\tcallback: function(records) {\n    \t\t\tif (records.length>0) {\n            \t\tthis.maxRawFreq = this.documentTerms.max('rawFreq');\n            \t\trecords.forEach(function(documentTerm) {\n            \t\t\tvar x = y = 0;\n            \t\t\tdocumentTerm.get('distributions').forEach(function(d, i) {\n            \t\t\t\tx += (this.getPerim()[i].x*d);\n            \t\t\t\ty += (this.getPerim()[i].y*d);\n            \t\t\t}, this)\n            \t\t\tdocumentTerm.set('x', x/documentTerm.getRawFreq());\n            \t\t\tdocumentTerm.set('y', y/documentTerm.getRawFreq());\n            \t\t}, this);\n    \t\t\t\tExt.Function.defer(this.fetchMoreDocumentTerms, 0, this);\n    \t\t\t\tthis.draw();\n    \t\t\t} else {\n    \t\t\t\tthis.queryById('search').setDisabled(false);\n    \t\t\t\tthis.termsMap = {};\n    \t\t\t\tthis.documentTerms.each(function(documentTerm) {\n    \t\t\t\t\tthis.termsMap[documentTerm.getTerm()] = documentTerm;\n    \t\t\t\t}, this)\n    \t\t\t\tif (this.tokens) {this.tokens.removeAll(true)}\n    \t\t\t\tthis.fetchMoreTokens();\n    \t\t\t}\n    \t\t},\n    \t\taddRecords: true,\n    \t\tscope: this\n    \t})\n    },\n    \n    fetchMoreTokens: function() {\n\t\tif (!this.tokens) {\n\t\t\tthis.tokens = this.getCorpus().getDocument(parseInt(this.getApiParam('docIndex'))).getTokens({\n\t\t\t\tproxy: {\n\t\t\t\t\textraParams: {\n\t    \t\t\t\tstripTags: 'all'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.noMoreTokens = false;\n\t\t} else if (this.noMoreTokens) {return;}\n\t\t\n\t\tvar first = this.tokens.getCount() == 0;\n\t\tthis.tokensLoading = true;\n\t\tvar speed = parseInt(this.getApiParam('speed'));\n    \tthis.tokens.load({\n    \t\tparams: {\n    \t\t\tstart: this.tokens.getCount(),\n    \t\t\tlimit: speed==50 && first ? 200 : Math.pow(110-speed, 2)\n    \t\t},\n    \t\tcallback: function(records) {\n    \t\t\tthis.tokensLoading = false;\n    \t\t\tif (records.length>0) {\n    \t\t\t\trecords.forEach(function(token) {\n    \t\t\t\t\tif (token.getTokenType()=='other') {\n    \t\t\t\t\t\ttoken.set('term', token.getTerm().replace(/\\s+/g, \" \"))\n    \t\t\t\t\t}\n    \t\t\t\t})\n        \t\t\tif (first) {\n        \t\t\t\tthis.previousBeziers = [];\n        \t\t\t\t// TODO\n//        \t\t\t\tif (this.getApiParam('speed') > 0) {\n\t        \t\t\t\tthis.isReading = true;\n\t        \t\t\t\tthis.read(0);\n//        \t\t\t\t}\n        \t\t\t}\n    \t\t\t} else {\n    \t\t\t\tthis.noMoreTokens = true;\n    \t\t\t}\n    \t\t},\n    \t\taddRecords: true,\n    \t\tscope: this\n\n    \t});\n    },\n    \n    /* The functions below adapted from http://www.pjgalbraith.com/drawing-animated-curves-javascript/ */\n    \n    /**\n     * Animates bezier-curve\n     * \n     * @param ctx       The canvas context to draw to\n     * @param x0        The x-coord of the start point\n     * @param y0        The y-coord of the start point\n     * @param x1        The x-coord of the control point\n     * @param y1        The y-coord of the control point\n     * @param x2        The x-coord of the end point\n     * @param y2        The y-coord of the end point\n     * @param duration  The duration in milliseconds\n     * @private\n     */\n    animatePathDrawing: function(ctx, x0, y0, x1, y1, x2, y2, duration) {\n        var start = null;\n        \n        var step = function animatePathDrawingStep(timestamp) {\n            if (start === null)\n                start = timestamp;\n            \n            var delta = timestamp - start,\n                progress = Math.min(delta / duration, 1);\n            \n            // Clear canvas\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            \n            // Draw curve\n            drawBezierSplit(ctx, x0, y0, x1, y1, x2, y2, 0, progress);\n            \n            if (progress < 1) {\n                window.requestAnimationFrame(step);\n            }\n        };\n        \n        window.requestAnimationFrame(step);\n    },\n    \n    /**\n     * Draws a splitted bezier-curve\n     * \n     * @param ctx       The canvas context to draw to\n     * @param x0        The x-coord of the start point\n     * @param y0        The y-coord of the start point\n     * @param x1        The x-coord of the control point\n     * @param y1        The y-coord of the control point\n     * @param x2        The x-coord of the end point\n     * @param y2        The y-coord of the end point\n     * @param t0        The start ratio of the splitted bezier from 0.0 to 1.0\n     * @param t1        The start ratio of the splitted bezier from 0.0 to 1.0\n     * @private\n     */\n    drawBezierSplit: function(ctx, x0, y0, x1, y1, x2, y2, t0, t1) {\n        ctx.beginPath();\n        \n        if( 0.0 == t0 && t1 == 1.0 ) {\n            ctx.moveTo( x0, y0 );\n            ctx.quadraticCurveTo( x1, y1, x2, y2 );\n        } else if( t0 != t1 ) {\n            var t00 = t0 * t0,\n                t01 = 1.0 - t0,\n                t02 = t01 * t01,\n                t03 = 2.0 * t0 * t01;\n            \n            var nx0 = t02 * x0 + t03 * x1 + t00 * x2,\n                ny0 = t02 * y0 + t03 * y1 + t00 * y2;\n            \n            t00 = t1 * t1;\n            t01 = 1.0 - t1;\n            t02 = t01 * t01;\n            t03 = 2.0 * t1 * t01;\n            \n            var nx2 = t02 * x0 + t03 * x1 + t00 * x2,\n                ny2 = t02 * y0 + t03 * y1 + t00 * y2;\n            \n            var nx1 = this.lerp ( this.lerp ( x0 , x1 , t0 ) , this.lerp ( x1 , x2 , t0 ) , t1 ),\n                ny1 = this.lerp ( this.lerp ( y0 , y1 , t0 ) , this.lerp ( y1 , y2 , t0 ) , t1 );\n            \n            ctx.moveTo( nx0, ny0 );\n            ctx.quadraticCurveTo( nx1, ny1, nx2, ny2 );\n        }\n        \n        ctx.stroke();\n        ctx.closePath();\n    },\n    \n    /**\n     * Linearly interpolate between two numbers v0, v1 by t\n     * @private\n     */\n    lerp: function(v0, v1, t) {\n        return ( 1.0 - t ) * v0 + t * v1;\n    }\n    \n    \n    \n});","\n// for mysterious reasons, Ext.require loads the scripts but produces a blank page, so use loadScript instead\n/*\nvar twicPath = Ext.Loader.getPath(\"resources\")+\"/twic/current\"\nExt.Loader.loadScript(twicPath+\"/css/twic.css\")\nExt.Loader.loadScript(twicPath+\"/lib/queue.min.js\")\nExt.Loader.loadScript(twicPath+\"/lib/textFlow.js\")\nExt.Loader.loadScript(twicPath+\"/lib/svg_helper_functions.js\")\nExt.Loader.loadScript(twicPath+\"/lib/class_syntax.js\")\nExt.Loader.loadScript(twicPath+\"/js/twic_level.js\")\nExt.Loader.loadScript(twicPath+\"/js/twic_panel.js\")\nExt.Loader.loadScript(twicPath+\"/js/twic_datashape.js\")\n*/\n\n\nExt.define('Voyant.panel.TopicContexts', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.topiccontexts',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t},\n\t\tglyph: 'xf06e@FontAwesome'\n    },\n    \n    constructor: function(config) {\n\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tcls: 'twic_body'\n    \t});\n\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\n    },\n    \n    listeners: {\n    \tloadedCorpus: function(src, corpus) {\t\t\n    \t\tthis.loadFromCorpus(corpus);\n    \t}\n    \t\n    },\n    \n    loadFromCorpus: function(corpus) {\n    \tvar url = Ext.Loader.getPath(\"resources\")+\"/twic/current/data/input/json\"\n        var twicLevel = TWiC.Level.prototype.Instance();\n        twicLevel.LoadJSON(url+\"/twic_corpusinfo.json\", url+\"/twic_corpusmap.json\");\n        var panel = this;\n\n        // Once JSON has loaded, create and start the level\n        twicLevel.m_queue.await(function(){\n\n            // Create components\n            var graphViews = [];\n            var infoViews = [];\n            var divName = \"dickinson\"; // NOTE: This needs to be added to twic_corpusinfo.json from serverside\n\n            // Topic bar setup\n            var topicBar = new TWiC.TopicBar({x:0, y:635}, // Position\n                                             {width:1280, height:165}, // Size\n                                             divName, // Name\n                                             twicLevel, []); // Level and linked view(s)\n            infoViews.push(topicBar);\n\n            // Document info bar setup\n            var docBar = new TWiC.DocumentBar({\"x\":1055, \"y\":0}, // Position\n                                              {\"width\":225, \"height\":635}, // Size\n                                              divName,  // Name\n                                              twicLevel, []); // Level and linked view(s)\n            infoViews.push(docBar);\n\n            // Graph setup\n            var corpusClusterView = new TWiC.CorpusClusterView({ \"x\":0, \"y\":0 }, // Position\n                                                               { \"width\":1055, \"height\":635}, // Size\n                                                               divName, // Name\n                                                               twicLevel, [topicBar, docBar]); // Level and linked view(s)\n            graphViews.push(corpusClusterView);\n\n            // Link the corpus cluster view to the topic bar as well\n            topicBar.m_linkedViews.push(corpusClusterView);\n\n            var body = panel.getLayout().getRenderTarget();\n\n            // Initialize the level\n            twicLevel.Initialize([0,0], // Position\n                                 {width: body.getWidth(), height: body.getHeight()}, // Size\n                                 divName, // Name\n                                 graphViews, infoViews, // TWiC graph and information panels\n                                 '#'+body.getId()\n            );\n\n            // Startup the level\n            twicLevel.Start();\n        }.bind(twicLevel));\n\n    }\n    \n})","Ext.define('Voyant.panel.TermsBerry', {\r\n\textend: 'Ext.panel.Panel',\r\n\tmixins: ['Voyant.panel.Panel'],\r\n\talias: 'widget.termsberry',\r\n    statics: {\r\n    \ti18n: {\r\n    \t},\r\n    \tapi: {\r\n    \t\tstopList: 'auto',\r\n    \t\tcontext: 2,\r\n        \tnumInitialTerms: 75,\r\n    \t\tquery: undefined,\r\n    \t\tdocIndex: undefined,\r\n    \t\tdocId: undefined,\r\n    \t\tcategories: undefined\r\n    \t},\r\n\t\tglyph: 'xf1db@FontAwesome'\r\n    },\r\n    config: {\r\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\r\n    \t\r\n    \tmode: undefined,\r\n    \t\r\n    \tscalingFactor: 3,\r\n    \t\r\n    \tminRawFreq: undefined,\r\n    \tmaxRawFreq: undefined,\r\n    \tmaxCollocateValue: undefined,\r\n    \tminFillValue: undefined,\r\n    \tmaxFillValue: undefined,\r\n    \t\r\n    \tcurrentData: {},\r\n    \tblacklist: {},\r\n    \t\r\n    \tvisLayout: undefined,\r\n    \tvis: undefined,\r\n    \tvisInfo: undefined,\r\n    \tvisId: undefined,\r\n    \t\r\n    \tcurrentNode: undefined,\r\n    \t\r\n    \ttip: undefined,\r\n    \tcontextMenu: undefined\r\n\t},\r\n    \r\n\tMODE_TOP: 'top',\r\n    MODE_DISTINCT: 'distinct',\r\n    \r\n    MIN_TERMS: 5,\r\n    MAX_TERMS: 500,\r\n    \r\n    COLLOCATES_LIMIT: 1000000, // a very large number so we get all of them\r\n    \r\n    MIN_SCALING: 1,\r\n    MAX_SCALING: 5,\r\n    \r\n    MIN_STROKE_OPACITY: 0.1,\r\n\tMAX_STROKE_OPACITY: 0.3,\r\n\t\r\n    layout: 'fit',\r\n    \r\n    constructor: function(config) {\r\n    \tthis.setMode(this.MODE_TOP);\r\n    \t\r\n    \tthis.callParent(arguments);\r\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\r\n    \t\r\n    \tthis.setVisId(Ext.id(null, 'termspack_'));\r\n    },\r\n    \r\n    initComponent: function() {\r\n    \tExt.apply(this, {\r\n    \t\ttitle: this.localize('title'),\r\n    \t\tdockedItems: [{\r\n                dock: 'bottom',\r\n                xtype: 'toolbar',\r\n                overflowHandler: 'scroller',\r\n                items: [{\r\n                   xtype: 'querysearchfield',\r\n                   clearOnQuery: true\r\n                },{\r\n                \txtype: 'button',\r\n                \ttext: this.localize('strategy'),\r\n                \tmenu: {\r\n\t                \titems: [{\r\n\t                \t\txtype: 'menucheckitem',\r\n\t                \t\tgroup: 'strategy',\r\n\t                \t\tchecked: this.getMode() === this.MODE_TOP,\r\n\t                \t\ttext: this.localize('topTerms'),\r\n\t                \t\tcheckHandler: function(item, checked) {\r\n\t                \t\t\tif (checked) {\r\n\t                \t\t\t\tthis.setMode(this.MODE_TOP);\r\n\t                \t\t\t\tthis.doLoad();\r\n\t                \t\t\t}\r\n\t                \t\t},\r\n\t                \t\tscope: this\r\n\t                \t},{\r\n\t                \t\txtype: 'menucheckitem',\r\n\t                \t\tgroup: 'strategy',\r\n\t                \t\tchecked: this.getMode() === this.MODE_DISTINCT,\r\n\t                \t\ttext: this.localize('distinctTerms'),\r\n\t                \t\tcheckHandler: function(item, checked) {\r\n\t                \t\t\tif (checked) {\r\n\t                \t\t\t\tthis.setMode(this.MODE_DISTINCT);\r\n\t                \t\t\t\tthis.doLoad();\r\n\t                \t\t\t}\r\n\t                \t\t},\r\n\t                \t\tscope: this\r\n\t                \t}]\r\n                \t}\r\n                },{\r\n\t                fieldLabel: this.localize('numTerms'),\r\n\t    \t\t\tlabelWidth: 50,\r\n\t    \t\t\tlabelAlign: 'right',\r\n\t    \t\t\twidth: 120,\r\n\t    \t\t\txtype: 'slider',\r\n\t            \tincrement: 1,\r\n\t            \tminValue: this.MIN_TERMS,\r\n\t            \tmaxValue: this.MAX_TERMS,\r\n\t            \tlisteners: {\r\n\t            \t\tafterrender: function(slider) {\r\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam('numInitialTerms')));\r\n\t            \t\t},\r\n\t            \t\tchangecomplete: function(slider, newvalue) {\r\n\t            \t\t\tthis.setApiParam(\"numInitialTerms\", newvalue);\r\n\t            \t\t\tthis.doLoad();\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n                },{\r\n\t                fieldLabel: this.localize('context'),\r\n\t    \t\t\tlabelWidth: 50,\r\n\t    \t\t\tlabelAlign: 'right',\r\n\t    \t\t\twidth: 120,\r\n\t    \t\t\txtype: 'slider',\r\n\t            \tincrement: 1,\r\n\t            \tminValue: 1,\r\n\t            \tmaxValue: 30,\r\n\t            \tlisteners: {\r\n\t            \t\tafterrender: function(slider) {\r\n\t            \t\t\tslider.setValue(this.getApiParam('context'));\r\n\t            \t\t},\r\n\t            \t\tchangecomplete: function(slider, newvalue) {\r\n\t            \t\t\tthis.setApiParams({context: newvalue});\r\n\t            \t\t\tthis.doLoad();\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n                },{\r\n\t                fieldLabel: this.localize('scaling'),\r\n\t    \t\t\tlabelWidth: 50,\r\n\t    \t\t\tlabelAlign: 'right',\r\n\t    \t\t\twidth: 120,\r\n\t    \t\t\txtype: 'slider',\r\n\t            \tincrement: 1,\r\n\t            \tminValue: this.MIN_SCALING,\r\n\t            \tmaxValue: this.MAX_SCALING,\r\n\t            \tlisteners: {\r\n\t            \t\tafterrender: function(slider) {\r\n\t            \t\t\tslider.setValue(this.getScalingFactor());\r\n\t            \t\t},\r\n\t            \t\tchangecomplete: function(slider, newvalue) {\r\n\t            \t\t\t// use the inverse of the value since it'll make more sense to the user\r\n\t            \t\t\tvar value = Math.abs(newvalue-(this.MAX_SCALING+1));\r\n\t            \t\t\tthis.setScalingFactor(value);\r\n\t            \t\t\tthis.reload();\r\n\t            \t\t},\r\n\t            \t\tscope: this\r\n\t            \t}\r\n                }\r\n                ]\r\n    \t\t}]\r\n    \t});\r\n    \t\r\n    \tthis.setContextMenu(Ext.create('Ext.menu.Menu', {\r\n\t\t\trenderTo: Ext.getBody(),\r\n\t\t\titems: [{\r\n\t\t\t\txtype: 'box',\r\n\t\t\t\titemId: 'label',\r\n\t\t\t\tmargin: '5px 0px 5px 5px',\r\n\t\t\t\thtml: ''\r\n\t\t\t},{\r\n\t\t        xtype: 'menuseparator'\r\n\t\t\t},{\r\n\t\t\t\txtype: 'button',\r\n\t\t\t\ttext: 'Remove',\r\n\t\t\t\tstyle: 'margin: 5px;',\r\n\t\t\t\thandler: function(b, e) {\r\n\t\t\t\t\tvar node = this.getCurrentNode();\r\n\t\t\t\t\tif (node !== undefined) {\r\n\t\t\t\t\t\tdelete this.getCurrentData()[node.data.term];\r\n\t\t\t\t\t\tthis.getBlacklist()[node.data.term] = true;\r\n\t\t\t\t\t\tthis.setCurrentNode(undefined);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getContextMenu().hide();\r\n\t\t\t\t\tthis.reload();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}]\r\n\t\t}));\r\n    \t\r\n    \tthis.on('query', function(src, query) {\r\n    \t\tif (query.length > 0) {\r\n    \t\t\tthis.doLoad(query);\r\n    \t\t}\r\n\t\t}, this);\r\n    \t\r\n    \tthis.callParent(arguments);\r\n    },\r\n    \r\n    listeners: {\r\n    \tboxready: function() {\r\n\t\t\tthis.initVisLayout();\r\n    \t},\r\n    \t\r\n    \tresize: function(panel, width, height) {\r\n    \t\tif (this.getVisLayout() && this.getCorpus()) {\r\n    \t\t\tvar el = this.getLayout().getRenderTarget();\r\n    \t    \twidth = el.getWidth();\r\n    \t\t\theight = el.getHeight();\r\n    \t\t\t\r\n    \t\t\tel.down('svg').set({width: width, height: height});\r\n    \t\t\t\r\n    \t\t\tthis.getVisLayout().size([width, height]);\r\n    \t\t\t\r\n    \t\t\tthis.reload();\r\n    \t\t}\r\n    \t},\r\n    \t\r\n    \tloadedCorpus: function(src, corpus) {\r\n    \t\tif (this.isVisible()) {\r\n        \t\tthis.doLoad();\r\n    \t\t}\r\n    \t},\r\n    \tactivate: function() {\r\n    \t\tif (this.getCorpus()) {\r\n    \t\t\tthis.doLoad();\r\n    \t\t}\r\n    \t}\r\n    },\r\n    \r\n    doLoad: function(query) {\r\n\t\tthis.resetVis();\r\n\t\tif (query === undefined) {\r\n\t\t\tthis.resetMinMax();\r\n\t\t\tthis.setCurrentData({});\r\n\t\t}\r\n    \tif (this.getMode() === this.MODE_DISTINCT) {\r\n    \t\tthis.getDistinctTerms(query);\r\n    \t} else {\r\n    \t\tthis.getTopTerms(query);\r\n    \t}\r\n    },\r\n    \r\n    reload: function() {\r\n    \tvar data = this.processCollocates([]);\r\n\t\tif (data.length > 0) {\r\n\t\t\tthis.resetVis();\r\n\t\t\tthis.buildVisFromData(data);\r\n\t\t}\r\n    },\r\n    \r\n    resetMinMax: function() {\r\n    \tthis.setMinRawFreq(undefined);\r\n    \tthis.setMaxRawFreq(undefined);\r\n    \tthis.setMaxCollocateValue(undefined);\r\n    \tthis.setMinFillValue(undefined);\r\n    \tthis.setMaxFillValue(undefined);\r\n    },\r\n    \r\n    resetVis: function() {\r\n    \tvar vis = this.getVis();\r\n    \tif (vis) {\r\n        \tvis.selectAll('.node').remove();\r\n    \t}\r\n    },\r\n    \r\n    getTopTerms: function(query) {\r\n    \tvar limit = parseInt(this.getApiParam('numInitialTerms'));\r\n    \tvar stopList = this.getApiParam('stopList');\r\n    \tif (query !== undefined) {\r\n    \t\tlimit = undefined;\r\n    \t\tstopList = undefined;\r\n    \t}\r\n    \tthis.getCorpus().getCorpusTerms().load({\r\n    \t\tparams: {\r\n    \t\t\tquery: query,\r\n \t\t\t\tlimit: limit,\r\n \t\t\t\tstopList: stopList\r\n \t\t\t},\r\n\t\t    callback: function(records, operation, success) {\r\n\t\t    \tif (success) {\r\n\t\t    \t\tthis.loadFromRecords(records);\r\n\t\t    \t}\r\n\t\t    },\r\n\t\t    scope: this\r\n    \t});\r\n    },\r\n    \r\n    getDistinctTerms: function(query) {\r\n    \tvar limit = parseInt(this.getApiParam('numInitialTerms'));\r\n    \tvar stopList = this.getApiParam('stopList');\r\n    \tif (query !== undefined) {\r\n    \t\tlimit = undefined;\r\n    \t\tstopList = undefined;\r\n    \t}\r\n    \tvar perDocLimit = Math.ceil(parseInt(this.getApiParam('numInitialTerms')) / this.getCorpus().getDocumentsCount()); // ceil ensures there's at least 1 per doc\r\n    \tthis.getCorpus().getDocumentTerms().load({\r\n\t\t\tparams: {\r\n\t\t\t\tquery: query,\r\n\t\t\t\tlimit: limit,\r\n\t\t\t\tperDocLimit: perDocLimit,\r\n\t\t\t\tstopList: stopList,\r\n\t\t\t\tsort: 'TFIDF',\r\n\t\t\t\tdir: 'DESC'\r\n\t\t\t},\r\n\t\t\tcallback: function(records, operation, success) {\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\tthis.loadFromRecords(records);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscope: this\r\n    \t});\r\n    },\r\n    \r\n    loadFromQuery: function(query) {\r\n    \tthis.getCorpus().getCorpusTerms().load({\r\n    \t\tparams: {\r\n \t\t\t\tquery: query\r\n \t\t\t},\r\n\t\t    callback: function(records, operation, success) {\r\n\t\t    \tif (success) {\r\n\t\t    \t\tthis.loadFromRecords(records);\r\n\t\t    \t}\r\n\t\t    },\r\n\t\t    scope: this\r\n    \t});\r\n    },\r\n    \r\n    loadFromRecords: function(records) {\r\n    \tif (Ext.isArray(records) && records.length>0) {\r\n    \t\tvar maxFreq = this.getMaxRawFreq();\r\n    \t\tvar minFreq = this.getMinRawFreq();\r\n    \t\tvar minFillVal = this.getMinFillValue();\r\n    \t\tvar maxFillVal = this.getMaxFillValue();\r\n    \t\tvar terms = [];\r\n    \t\trecords.forEach(function(r) {\r\n    \t\t\tvar term = r.getTerm();\r\n    \t\t\tif (!this.getBlacklist()[term]) {\r\n\t    \t\t\tvar rawFreq = r.getRawFreq();\r\n\t    \t\t\tvar fillVal = this.getMode() === this.MODE_DISTINCT ? r.get('tfidf') : r.getInDocumentsCount();\r\n\t    \t\t\t\r\n\t    \t\t\tif (maxFreq === undefined || rawFreq > maxFreq) maxFreq = rawFreq;\r\n\t    \t\t\tif (minFreq === undefined || rawFreq < minFreq) minFreq = rawFreq;\r\n\t    \t\t\t\r\n\t    \t\t\tif (maxFillVal === undefined || fillVal > maxFillVal) maxFillVal = fillVal;\r\n\t    \t\t\tif (minFillVal === undefined || fillVal < minFillVal) minFillVal = fillVal;\r\n\t    \t\t\t\r\n\t    \t\t\tthis.getCurrentData()[term] = {\r\n\t    \t\t\t\tterm: term,\r\n\t    \t\t\t\trawFreq: rawFreq,\r\n\t    \t\t\t\trelativeFreq: r.get('relativeFreq'),//r.getRelativeFreq(),\r\n\t    \t\t\t\tfillValue: fillVal,\r\n\t    \t\t\t\tcollocates: []\r\n\t    \t\t\t};\r\n\t    \t\t\t\r\n\t    \t\t\tterms.push(term);\r\n    \t\t\t}\r\n    \t\t}, this);\r\n    \t\t\r\n    \t\tthis.setMaxRawFreq(maxFreq);\r\n    \t\tthis.setMinRawFreq(minFreq);\r\n    \t\tthis.setMinFillValue(minFillVal);\r\n    \t\tthis.setMaxFillValue(maxFillVal);\r\n    \t\t\r\n    \t\tthis.getCollocatesForQuery(terms);\r\n    \t}\r\n    },\r\n    \r\n    getCollocatesForQuery: function(query) {\r\n    \tvar whitelist = [];\r\n    \tfor (var term in this.getCurrentData()) {\r\n    \t\twhitelist.push(term);\r\n    \t}\r\n    \t \r\n    \tthis.setApiParams({\r\n    \t\tmode: 'corpus'\r\n    \t});\r\n    \tvar params = this.getApiParams();\r\n    \tthis.getCorpus().getCorpusCollocates().load({\r\n    \t\tparams: Ext.apply(Ext.clone(params), {query: query, collocatesWhitelist: whitelist, limit: this.COLLOCATES_LIMIT}),\r\n    \t\tcallback: function(records, op, success) {\r\n    \t\t\tif (success) {\r\n    \t\t\t\tthis.buildVisFromData(this.processCollocates(records));\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\tscope: this\r\n    \t});\r\n    },\r\n    \r\n    processCollocates: function(records) {\r\n    \tvar currentTerms = this.getCurrentData();\r\n\r\n    \tvar maxCol = this.getMaxCollocateValue();\r\n    \t\r\n    \tfor (var i=0; i<records.length; i++) {\r\n    \t\tvar r = records[i];\r\n    \t\tvar term = r.getTerm();\r\n\t\t\tvar contextTerm = r.getContextTerm();\r\n\t\t\tvar contextFreq = r.getContextTermRawFreq();\r\n\t\t\t\r\n\t\t\tif (maxCol === undefined || contextFreq > maxCol) {\r\n\t\t\t\tmaxCol = contextFreq;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (currentTerms[term] === undefined) {\r\n\t\t\t\t// should not be here\r\n\t\t\t} else {\r\n\t    \t\tif (term != contextTerm) {\r\n\t    \t\t\tcurrentTerms[term].collocates.push({\r\n\t    \t\t\t\tterm: contextTerm, value: contextFreq\r\n\t    \t\t\t});\r\n\t    \t\t}\r\n\t\t\t}\r\n    \t}\r\n    \t\r\n    \tthis.setMaxCollocateValue(maxCol);\r\n    \t\r\n    \tvar data = [];\r\n    \tfor (var term in currentTerms) {\r\n//    \t\tif (currentTerms[term].collocates.length > 0) {\r\n    \t\t\tdata.push(currentTerms[term]);\r\n//    \t\t}\r\n    \t}\r\n    \treturn data;\r\n    },\r\n    \r\n    buildVisFromData: function(data) {\r\n    \tvar me = this;\r\n    \t\r\n    \tif (!this.getVis()) {return;} // not initialized\r\n    \t\r\n    \tvar rootId = '$$$root$$$';\r\n    \tdata.push({term: rootId, collocates:[], rawFreq:1});\r\n    \tvar root = d3.stratify()\r\n    \t\t.id(function(d) { return d.term; })\r\n    \t\t.parentId(function(d) {\r\n    \t\t\tif (d.term !== rootId) return rootId;\r\n\t\t\t\telse return '';\r\n\t\t\t})(data)\r\n\t\t\t.sort(function(a, b) { return a.rawFreq < b.rawFreq ? 1 : a.rawFreq > b.rawFreq ? -1 : 0; })\r\n\t\t\t.sum(function(d) { return Math.pow(d.rawFreq, 1/me.getScalingFactor()); });\r\n    \tthis.getVisLayout()(root);\r\n    \t\r\n    \t// join nodes with data\r\n    \tvar nodes = this.getVis().selectAll('.node').data(root.descendants());\r\n    \t\r\n    \t// update\r\n    \tnodes.attr('transform', function(d) { return 'translate(' + d.x + ',' + d.y + ')'; });\r\n    \tnodes.selectAll('circle').attr('r', function(d) { return d.r; });\r\n    \t\r\n    \tvar idGet = function(term) {\r\n    \t\treturn term.replace(/\\W/g, '_'); // remove non-word characters to create valid DOM ids\r\n    \t};\r\n    \t\r\n    \tvar collocateFill = d3.scalePow().exponent(1/3)\r\n\t\t\t.domain([0,this.getMaxCollocateValue()]).range(['#fff', '#bd3163']);\r\n    \t\r\n    \tvar defaultFill;\r\n    \tif (this.getMode() === this.MODE_DISTINCT) {\r\n    \t\tdefaultFill = d3.scalePow().exponent(1/5)\r\n    \t\t\t.domain([this.getMinFillValue(), this.getMaxFillValue()]).range(['#dedede', '#fff']);\r\n    \t} else {\r\n    \t\tdefaultFill = d3.scaleLinear()\r\n\t\t\t\t.domain([this.getMaxFillValue(), this.getMinFillValue()]).range(['#dedede', '#fff']);\r\n    \t}\r\n    \t\r\n    \t// roughly calculate font size based on available area and number of terms\r\n    \tvar size = this.getVisLayout().size();\r\n    \tvar layoutRadius = Math.min(size[0], size[1]) / 2;\r\n    \tvar layoutArea = Math.PI*(layoutRadius*layoutRadius);\r\n    \tvar totalTerms = data.length;\r\n    \tvar termArea = layoutArea / totalTerms;\r\n    \tvar termRadius = Math.sqrt(termArea / Math.PI);\r\n    \tvar minFontSize = termRadius / 3;\r\n    \tvar scalingInverse = Math.abs(this.getScalingFactor()-(this.MAX_SCALING+1));\r\n    \tscalingInverse = Math.max(1, scalingInverse-1); // substract one to avoid too large fonts\r\n    \tvar maxFontSize = minFontSize * scalingInverse;\r\n\r\n    \tvar textSizer = d3.scaleLinear()//pow().exponent(1/2)\r\n    \t\t.domain([this.getMinRawFreq(),this.getMaxRawFreq()]).range([minFontSize, maxFontSize]);\r\n    \t\r\n    \t// enter\r\n    \tvar node = nodes.enter().append('g')\r\n    \t\t.attr('class', 'node')\r\n    \t\t.style('visibility', function(d) { return d.depth > 0 ? 'visible' : 'hidden'; }) // hide root\r\n    \t\t.attr('transform', function(d) { return 'translate(' + d.x + ',' + d.y + ')'; })\r\n    \t\t.on('click', function(d) {\r\n    \t\t\tme.dispatchEvent('termsClicked', me, [d.data.term]);\r\n    \t\t})\r\n    \t\t.on('mouseover', function(d, i) {\r\n    \t\t\tme.setCurrentNode(d);\r\n    \t\t\t\r\n    \t\t\tme.getVis().selectAll('circle')\r\n    \t\t\t\t.style('stroke-width', 1)\r\n    \t\t\t\t.style('stroke', '#111')\r\n        \t\t\t.style('fill', function(d) { return defaultFill(d.data.fillValue); });\r\n    \t\t\t\r\n    \t\t\td3.select(this).select('circle')\r\n    \t\t\t\t.style('fill', '#89e1c2')\r\n    \t\t\t\t.style('stroke', '#26926c')\r\n    \t\t\t\t.style('stroke-opacity', me.MAX_STROKE_OPACITY);\r\n    \t\t\t\r\n    \t\t\tvar fillLabel;\r\n    \t\t\tif (me.getMode() === me.MODE_DISTINCT) {\r\n    \t\t\t\tfillLabel = me.localize('tfidf');\r\n    \t\t\t} else {\r\n    \t\t\t\tfillLabel = me.localize('inDocs');\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (!me.getContextMenu().isVisible()) {\r\n\t    \t\t\tvar info = '<b>'+d.data.term+'</b> ('+d.data.rawFreq+')<br/>'+fillLabel+': '+d.data.fillValue;\r\n\t\t\t\t\tvar tip = me.getTip();\r\n\t\t\t\t\ttip.update(info);\r\n\t\t\t\t\ttip.show();\r\n    \t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < d.data.collocates.length; i++) {\r\n\t\t\t\t\tvar collocate = d.data.collocates[i];\r\n\t\t\t\t\tvar match = me.getVis().selectAll('.node').filter(function(d) { return d.data.term === collocate.term; });\r\n\t\t\t\t\tmatch.select('circle')\r\n\t\t\t\t\t\t.style('fill', function(d) { return collocateFill(collocate.value); })\r\n\t\t\t\t\t\t.style('stroke', '#bd3163')\r\n\t\t\t\t\t\t.style('stroke-opacity', me.MAX_STROKE_OPACITY);\r\n\t\t\t\t\tmatch.select('tspan.value').text(function(d) { return collocate.value; });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on('mousemove', function() {\r\n\t\t\t\tme.getTip().setPosition(d3.event.pageX+5, d3.event.pageY-50);\r\n\t\t\t})\r\n\t\t\t.on('mouseout', function() {\r\n\t\t\t\tif (!me.getContextMenu().isVisible()) {\r\n\t\t\t\t\tme.setCurrentNode(undefined);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.getVis().selectAll('circle').style('stroke-opacity', me.MIN_STROKE_OPACITY).style('stroke', '#111')\r\n\t    \t\t\t.style('fill', function(d) { return defaultFill(d.data.fillValue); });\r\n\t\t\t\tme.getVis().selectAll('tspan.value').text('');\r\n\t\t\t\tme.getTip().hide();\r\n//\t\t\t\tme.getVisInfo().text('');\r\n\t\t\t})\r\n\t\t\t.on('contextmenu', function(d, i) {\r\n\t\t\t\td3.event.preventDefault();\r\n\t\t\t\tme.getTip().hide();\r\n\t\t\t\tvar menu = me.getContextMenu();\r\n\t\t\t\tmenu.queryById('label').setHtml(d.data.term);\r\n\t\t\t\tmenu.showAt(d3.event.pageX+5, d3.event.pageY-50);\r\n\t\t\t});\r\n    \t\r\n    \tnode.append('circle')\r\n    \t\t.attr('id', function(d) {\r\n    \t\t\treturn idGet(d.data.term);\r\n\t\t\t})\r\n\t\t\t.attr('r', function(d) { return d.r; })\r\n\t\t\t.style('fill', function(d) { return defaultFill(d.data.fillValue); })\r\n\t\t\t.style('stroke', '#111')\r\n\t\t\t.style('stroke-opacity', me.MIN_STROKE_OPACITY)\r\n\t\t\t.style('stroke-width', 1);\r\n    \t\r\n    \tnode.append('clipPath').attr('id', function(d) { return 'clip-' + idGet(d.data.term); })\r\n    \t\t.append('use').attr('xlink:href', function(d) { return '#' + idGet(d.data.term); });\r\n\t\t\r\n    \tvar text = node.append('text')\r\n    \t\t.attr('clip-path', function(d) { return 'url(#clip-' + idGet(d.data.term) + ')'; })\r\n    \t\t.style('font-family', function(d) { return me.getApplication().getCategoriesManager().getFeatureForTerm('font', d.data.term); })\r\n\t\t\t.style('text-anchor', 'middle')\r\n\t\t\t.style('cursor', 'default');\r\n\t\ttext.append('tspan')\r\n\t\t\t.attr('class', 'term')\r\n\t\t\t.attr('font-size', function(d) { return textSizer(d.data.rawFreq); })\r\n\t\t\t.attr('x', 0)\r\n\t\t\t.attr('y', function(d) { return textSizer(d.data.rawFreq)/4; })\r\n\t\t\t.text(function(d) { return d.data.term; });\r\n\t\ttext.append('tspan')\r\n\t\t\t.attr('class', 'value')\r\n\t\t\t.attr('font-size', function(d) { return textSizer(d.data.rawFreq)*0.75; })\r\n\t\t\t.attr('x', 0)\r\n\t\t\t.attr('y', function(d) { return textSizer(d.data.rawFreq)+1; });\r\n\t\t\r\n\t\t// exit\r\n    \tnodes.exit().remove();\r\n\t\t\r\n    },\r\n    \r\n    initVisLayout: function() {\r\n    \tvar el = this.getLayout().getRenderTarget();\r\n\t\tel.update(''); // make sure to clear existing contents (especially for re-layout)\r\n    \tvar width = el.getWidth();\r\n\t\tvar height = el.getHeight();\r\n\r\n\t\tvar me = this;\r\n\t\tthis.setVisLayout(\r\n\t\t\td3.pack().size([width, height]).padding(1.5)\r\n\t\t);\r\n\t\t\r\n\t\tvar svg = d3.select(el.dom).append('svg').attr('id',this.getVisId()).attr('width', width).attr('height', height);\r\n\t\tthis.setVis(svg.append('g'));\r\n\t\t\r\n\t\tthis.setVisInfo(svg.append('text').attr('x', 10).attr('y', 10));\r\n\t\t\r\n\t\tif (this.getTip() === undefined) {\r\n\t\t\tthis.setTip(Ext.create('Ext.tip.Tip', {}));\r\n\t\t}\r\n    }\r\n});","/**\n * Terms Radio tool, a visualization for term distributions.\n * \n * <iframe src=\"../?corpus=austen&view=termsradio\" style=\"max-width: 600px; height: 600px\"></iframe>\n * \n * The typical use is not to instantiate this class directly, but to embed the tool from a corpus.\n * \n * \t\tvar austen;\n * \t\tnew Corpus(\"austen\").then(function(corpus) {\n * \t\t\tausten = corpus;\n * \t\t\tausten.embed('TermsRadio'); // simply embed\n * \t\t\tausten.embed('TermsRadio', {visibleBins: 8}); // embed with parameter\n * \t\t});\n * \n * @class Voyant.panel.TermsRadio\n * @author Mark Turcato\n * @author Andrew MacDonald\n */\nExt.define('Voyant.panel.TermsRadio', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.termsradio',\n\tconfig: {\n\t\t/**\n\t\t * @private\n\t\t */\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tspeed: 50,\n\t\t/**\n\t\t * @private\n\t\t */\n\t\ttermsRadio: undefined\n\t},\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\t/**\n    \t\t * @private (this shouldn't be modified but it needs to be part of the parameters)\n    \t\t */\n    \t\twithDistributions: true,\n\n    \t\t/**\n    \t\t * @cfg {Number} bins How many document segments to show if the corpus has a single document (default is 10); otherwise, the number of bins corresponds to the number of documents in the corpus.\n    \t\t * \n    \t\t * Note that this often works in parallel with the {@link #bins} value.\n    \t\t */\n    \t\tbins: 5\n    \t\n    \t\t/**\n    \t\t * @cfg {Number} visibleBins How many segments or documents to show at once (default is 5).\n    \t\t * \n    \t\t * Note that this often works in parallel with the {@link #bins} value.\n    \t\t */\n    \t\t,visibleBins: 5\n    \t\t\n    \t\t/**\n    \t\t * @property docIdType The document type(s) to restrict results to.\n    \t\t * @type String|Array\n    \t\t * @default null\n    \t\t * @private\n    \t\t */\n    \t\t,docIdType: null\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} limit Determine the number of terms to show (larger numbers may make the graph unusable).\n    \t\t */\n    \t\t,limit: 50\n    \t\n    \t\t/**\n        \t * @property mode What mode to operate at, either document or corpus.\n        \t * @choices document, corpus\n    \t\t * @private\n        \t */\n    \t\t,mode: null\n    \t\t\n    \t\t/**\n        \t * @property position The current shifted position of the visualization.\n        \t * @type Integer\n        \t * @default 0\n    \t\t * @private\n        \t */\n    \t\t,position: 0\n    \t\t\n    \t\t/**\n    \t\t * @property selectedWords The words that have been selected.\n    \t\t * @type String|Array\n    \t\t * @default null\n    \t\t * @private\n    \t\t */\n    \t\t,selectedWords: []\n    \t\t\n\t\t\t/**\n\t\t\t * @cfg {String} stopList A comma-separated list of words, a named list or a URL to a plain text list, one word per line.\n\t\t\t * \n\t\t\t *  By default this is set to 'auto' which auto-detects the document's language and loads an appropriate list (if available for that language). Set this to blank to not use the default stopList.\n\t\t\t *  \n\t\t\t * For more information see the <a href=\"#!/guide/search\">Stopwords documentation</a>.\n\t\t\t */\n    \t\t,stopList: 'auto'\n    \t\t\n    \t\t/**\n    \t\t * @property query The corpus type(s) to restrict results to.\n    \t\t * @type String\n    \t\t * @default null\n    \t\t * @private\n    \t\t */\n    \t\t,query: null\n    \t\t\n    \t\t/**\n    \t\t * @property yAxisScale The scale for the y axis.\n    \t\t * @type String\n    \t\t * @default log\n    \t\t * @private\n    \t\t */\n    \t\t,yAxisScale: 'log'\n    \t\t\t\n    \t\t,speed: 50\n    \t\t\n    \t\t/**\n    \t\t * @property slider Whether to show the slider\n    \t\t * @type Boolean\n    \t\t * @default true\n    \t\t */\n    \t\t,slider: undefined\n    \t},\n    \tglyph: 'xf201@FontAwesome'\n    }\n\t\n\t/**\n\t * @private\n\t */\n\t,constructor: function(config) {\n\t\t\n\t\tvar onLoadHandler = function(mode, store, records, success, operation) {\n\t\t\tthis.setApiParams({mode: mode});\n\n\t\t\tthis.getTermsRadio().loadRecords(records);\n\t\t\t\n\t\t\tvar query = this.getApiParam('query');\n\t\t\t// check for no results\n\t\t\tif (query) {\n\t\t\t\tif (records.length==0 || (records.length==1 && records[0].getRawFreq()==0)) {\n\t\t\t\t\tthis.toastInfo({\n\t\t\t\t\t\thtml: this.localize(\"termNotFound\"),\n\t\t\t\t\t\talign: 'bl'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.getTermsRadio().highlightQuery(query, true);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.corpusStore = Ext.create(\"Voyant.data.store.CorpusTerms\", {\n\t\t\tlisteners : {\n\t\t\t\tload: {\n\t\t\t\t\tfn : onLoadHandler.bind(this, 'corpus'),\n\t\t\t\t\tscope : this\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.documentStore = Ext.create(\"Voyant.data.store.DocumentTerms\", {\n\t\t\tlisteners : {\n\t\t\t\tload: {\n\t\t\t\t\tfn : onLoadHandler.bind(this, 'document'),\n\t\t\t\t\tscope : this\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tExt.apply(config, {\n\t\t\ttitle: this.localize('title'),\n\t\t\tlegendMenu: Ext.create('Ext.menu.Menu', {\n\t\t\t\titems: [\n        \t\t\t{text: '', itemId: 'remove', glyph: 'xf068@FontAwesome'}\n        \t\t]\n        \t}),\n\t\t\ttbar: new Ext.Toolbar({\n                overflowHandler: 'scroller',\n\t\t\t\titems: {\n\t\t\t\t\txtype: 'legend',\n\t\t\t\t\tstore: new Ext.data.JsonStore({\n\t\t\t\t\t\tfields : ['name', 'mark']\n\t\t\t\t\t}),\n\t\t\t\t\tlisteners: {\n\t\t\t\t\t\titemclick: function(view, record, el, index) {\n\t\t\t\t\t\t\tvar term = record.get('name');\n\t\t\t\t\t\t\tif (this.getTermsRadio().isTermSelected(term)) {\n\t\t\t\t\t\t\t\tthis.getTermsRadio().doTermDeselect(term);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.getTermsRadio().doTermSelect(term);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\titemcontextmenu: function(view, record, el, index, event) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t            \tvar xy = event.getXY();\n\t\t\t            \t\n\t\t\t            \tvar term = record.get('name');\n\t\t\t            \tvar text = (new Ext.Template(this.localize('removeTerm'))).apply([term]);\n\t\t            \t\tthis.legendMenu.queryById('remove').setText(text);\n\t\t            \t\t\n\t\t            \t\tthis.legendMenu.on('click', function(menu, item) {\n\t\t            \t\t\tif (item !== undefined) {\n\t\t            \t\t\t\tthis.doTermDeselect(term, true);\n\t\t            \t\t\t}\n\t\t            \t\t}, this, {single: true});\n\t\t            \t\tthis.legendMenu.showAt(xy);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t\tbbar: {\n                overflowHandler: 'scroller',\n\t            items: [{\n\t            \txtype: 'querysearchfield'\n\t            },{\n\t    \t\t\tglyph: 'xf04b@FontAwesome', // start with play button, which means we're paused\n\t    \t\t\titemId: 'play',\n\t    \t\t\thandler: function(btn) {\n\t    \t\t\t\tvar playing = btn.glyph==\"xf04c@FontAwesome\";\n\t    \t\t\t\tif (playing) {\n\t    \t\t\t\t\tthis.getTermsRadio().continueTransition = false;\n\t    \t\t\t\t\tthis.mask(this.localize(\"completingTransition\"))\n\t    \t\t\t\t\tbtn.setPlaying(false)\n\t    \t\t\t\t}\n\t    \t\t\t\telse {\n\t    \t\t\t\t\tthis.getTermsRadio().toggleRightCheck();\n\t    \t\t\t\t\tbtn.setPlaying(true);\n\t    \t\t\t\t}\n\t    \t\t\t},\n\t    \t\t\tscope: this,\n\t    \t\t\tsetPlaying: function(bool) {\n\t    \t\t\t\tthis.setGlyph(bool ? \"xf04c@FontAwesome\" : \"xf04b@FontAwesome\")\n\t    \t\t\t}\n\t    \t\t},{\n\t    \t\t\tglyph: 'xf0e2@FontAwesome',\n//\t    \t\t\ttext: this.localize('reset')\n\t    \t\t\ttooltip : this.localize('resetTip'),\n\t    \t\t\tlisteners : {\n\t    \t\t\t\tclick : {fn : function() {\n\t    \t\t\t\t\tthis.queryById(\"play\").setPlaying(false);\n\t\t\t\t\t\t\tthis.getTermsRadio().shiftCount = 0;\n\t\t\t\t\t\t\tthis.getTermsRadio().prepareData();\n\t\t\t\t\t\t\tthis.getTermsRadio().redraw();\n    \t\t\t\t\t}\t\t\t\t\n\t    \t\t\t\t\t,scope : this\n\t    \t\t\t\t}\n\t    \t\t\t}\n\t    \t\t},{\n\t    \t\t\txtype: 'label',\n\t    \t\t\tforId: 'terms',\n\t    \t\t\ttext: this.localize('terms')\n\t    \t\t},{\n\t    \t\t\txtype: 'slider',\n\t    \t\t\titemId: 'terms',\n\t    \t\t\thideLabel: true,\n\t    \t\t\twidth : 60,\n\t    \t\t\tincrement : 5,\n\t    \t\t\tminValue : 5,\n\t    \t\t\tmaxValue : 100,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam(\"limit\")))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({limit: newvalue});\n\t            \t\t\tthis.loadStore();\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n\t    \t\t},{\n\t    \t\t\txtype: 'label',\n\t    \t\t\tforId: 'speed',\n\t    \t\t\ttext: this.localize('speed')\n\t    \t\t},{\n\t    \t\t\txtype: 'slider',\n\t    \t\t\titemId: 'speed',\n\t    \t\t\thideLabel: true,\n\t    \t\t\twidth : 60,\n\t    \t\t\tincrement : 5,\n\t    \t\t\tminValue : 5,\n\t    \t\t\tmaxValue : 100,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam(\"speed\")))\n\t            \t\t\tthis.setSpeed(slider.getValue())\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({speed: newvalue});\n\t            \t\t\tthis.setSpeed(newvalue)\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n\t    \t\t},{\n\t    \t\t\txtype: 'label',\n\t    \t\t\titemId: 'visibleSegmentsLabel',\n\t    \t\t\tforId: 'visibleBins',\n\t    \t\t\ttext: this.localize('visibleSegments')\n\t    \t\t},{\n\t    \t\t\txtype: 'slider',\n\t    \t\t\titemId: 'visibleBins',\n\t    \t\t\thideLabel: true,\n\t    \t\t\twidth : 60,\n\t    \t\t\tincrement : 1,\n\t    \t\t\tminValue : 1,\n\t    \t\t\tmaxValue : 100,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam(\"visibleBins\")))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({visibleBins: newvalue});\n\t\t\t\t\t\t\tthis.numVisPoints = newvalue;\n\t\t\t\t\t\t\tthis.loadStore();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (this.numVisPoints == this.getCorpus().getDocumentsCount()) {\n\t\t\t\t\t\t\t\tthis.getTermsRadio().hideSlider();\n\t\t\t\t\t\t\t} else if (this.getApiParam(\"slider\") != 'false'){\n\t\t\t\t\t\t\t\tthis.getTermsRadio().showSlider();\n\t\t\t\t\t\t\t}\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n\t    \t\t},{\n\t    \t\t\txtype: 'label',\n\t    \t\t\titemId: 'segmentsLabel',\n\t    \t\t\tforId: 'segments',\n\t    \t\t\ttext: this.localize('segments')\n\t    \t\t},{\n\t    \t\t\txtype: 'slider',\n\t    \t\t\titemId: 'segments',\n\t    \t\t\thideLabel: true,\n\t    \t\t\twidth : 60,\n\t    \t\t\tincrement : 1,\n\t    \t\t\tminValue : 1,\n\t    \t\t\tmaxValue : 100,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam(\"bins\")))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({bins: newvalue});\n\t\t\t\t\t\t\tthis.numDataPoints = newvalue;\n\t\t\t\t\t\t\tthis.loadStore();\n\t\t\t\t\t\t\tvar visibleBins = this.queryById('visibleBins');\n\t\t\t\t\t\t\tvisibleBins.setMaxValue(newvalue) // only relevant for doc mode\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n\t    \t\t}]\n\t\t\t}\n\t\t});\n\t\t\n\t\t// need to add option here so we have access to localize\n\t\tthis.config.options.push({\n\t\t\txtype: 'combo',\n\t\t\tqueryMode : 'local',\n\t\t\ttriggerAction : 'all',\n\t\t\tforceSelection : true,\n\t\t\teditable : false,\n\t\t\tfieldLabel : this.localize('yScale'),\n\t\t\tlabelAlign : 'right',\n\t\t\tname : 'yAxisScale',\n\t\t\tvalueField : 'value',\n\t\t\tdisplayField : 'name',\n\t\t\tstore: new Ext.data.JsonStore({\n\t\t\t\tfields : ['name', 'value'],\n\t\t\t\tdata   : [{\n\t\t\t\t\tname : this.localize('linear'),   value: 'linear'\n\t\t\t\t},{\n\t\t\t\t\tname : this.localize('log'),  value: 'log'\n\t\t\t\t}]\n\t\t\t}),\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function(combo) {\n\t\t\t\t\tcombo.setValue(this.getApiParam('yAxisScale'));\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.callParent(arguments);\n\t\tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\t\t\n\t\tthis.on('boxready', function(component) {\n\t\t\tvar sliderParam = this.getApiParam('slider');\n\t\t\tvar showSlider = sliderParam === undefined ? true : sliderParam === 'true';\n\t\t\tvar config = {\n\t\t\t\tparent: this,\n\t\t\t\tcontainer: this.body,\n\t\t\t\tshowSlider: showSlider\n\t\t\t};\n\t\t\tthis.setTermsRadio(new TermsRadio(config));\n\t\t}, this);\n\t\t\n\t\t/**\n\t\t * @event corpusTypesSelected\n\t\t * @type listener\n\t\t * @private\n\t\t */\n\t\tthis.addListener('corpusTermsClicked', function(src, terms){\n\t\t\tif (this.getCorpus().getDocumentsCount() > 1) {\n        \t\tterms.forEach(function(term) {\n        \t\t\tvar t = term.getTerm();\n        \t\t\tthis.setApiParams({query: t});\n        \t\t\tthis.loadStore();\n        \t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.addListener('documentTermsClicked', function(src, terms){\n\t\t\tif(src && src.xtype==this.xtype) {return false;}\n\t\t\t\n\t\t\tterms.forEach(function(term) {\n    \t\t\tvar t = term.getTerm();\n    \t\t\tthis.setApiParams({query: t});\n    \t\t\tthis.loadStore();\n    \t\t});\n\t\t});\n\t\t\n\t\tthis.on('query', function(src, query){\n\t\t\tthis.fireEvent(\"termsClicked\", src, query);\n\t    });\n\t\t\n\t\tthis.on(\"termsClicked\", function(src, terms) {\n\t\t\t// TODO load term distribution data\n\t\t\tterms.forEach(function(term) {\n\t\t\t\tvar queryTerm;\n    \t\t\tif (Ext.isString(term)) {queryTerm = term;}\n    \t\t\telse if (term.term) {queryTerm = term.term;}\n    \t\t\telse if (term.getTerm) {queryTerm = term.getTerm();}\n    \t\t\t\n    \t\t\t// TODO handling for multiple terms\n    \t\t\tthis.setApiParams({query: queryTerm});\n    \t\t\tthis.loadStore();\n    \t\t}, this);\n    \t});\n\t\t\n\t\tthis.on(\"loadedCorpus\", function(src, corpus) {\n    \t\tthis.documentStore.setCorpus(corpus);\n    \t\tthis.corpusStore.setCorpus(corpus);\n    \t\t\n    \t\tvar params = this.getApiParams();\n\t\t\tif (params.type) {\n\t\t\t\tdelete params.limit;\n\t\t\t}\n\t\t\tvar store;\n\t\t\t\n\t\t\tvar docsCount = this.getCorpus().getDocumentsCount();\n\t\t\tvar segments = this.queryById(\"segments\");\n\t\t\tvar visibleBins = this.queryById(\"visibleBins\");\n\t\t\tif (params.mode=='document' || docsCount == 1) {\n\t\t\t\tthis.setApiParam(\"mode\", \"document\");\n\t\t\t\tstore = this.documentStore;\n\t\t\t\tvisibleBins.setMaxValue(segments.getValue())\n\t\t\t} else {\n\t\t\t\tthis.setApiParam(\"mode\", \"corpus\");\n\t\t\t\tdelete params.bins;\n\t\t\t\tstore = this.corpusStore;\n\t\t\t\tsegments.hide();\n\t\t\t\tthis.queryById(\"segmentsLabel\").hide();\n\t\t\t\tvar visibleBins = this.queryById(\"visibleBins\");\n\t\t\t\tvisibleBins.setMaxValue(docsCount);\n\t\t\t\tif (parseInt(this.getApiParam(\"visibleBins\")>docsCount)) {\n\t\t\t\t\tvisibleBins.setValue(docsCount);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// select top 3 words\n\t\t\tstore.on('load', function(store, records) {\n\t\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\t\tvar r = records[i];\n\t\t\t\t\tif (r) {\n\t\t\t\t\t\tthis.getTermsRadio().highlightRecord(r, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this, {single: true});\n\t\t\tstore.load({params: params});\n    \t}, this);\t\t\n\t}\n\t\n    ,loadStore: function () {\n    \tthis.queryById('play').setPlaying(false);\n\t\tvar params = this.getApiParams();\n\t\tif(this.getApiParam('mode') === 'document') { \n\t\t\tthis.documentStore.load({params: params});\n\t\t}\n\t\tif(this.getApiParam('mode') === 'corpus') {\n\t\t\tdelete params.bins;\n\t\t\tthis.corpusStore.load({params: params});\n\t\t}\n\t}\n    \n});\n","/**\n * Trends tool, a line graph that shows term distributions.\n * \n * <iframe src=\"../?corpus=austen&view=trends\" style=\"max-width: 500px; height: 300px\"></iframe>\n * \n * The typical use is not to instantiate this class directly, but to embed the tool from a corpus.\n * \n * \t\tvar austen;\n * \t\tnew Corpus(\"austen\").then(function(corpus) {\n * \t\t\tausten = corpus;\n * \t\t\tausten.embed('Trends'); // simply embed\n * \t\t\tausten.embed('Trends', {query: '^lov*'}); // embed with query\n * \t\t});\n */\nExt.define('Voyant.panel.Trends', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\trequires: ['Voyant.data.store.Documents'],\n\talias: 'widget.trends',\n\tconfig: {\n\t    /**\n\t     * @private\n\t     */\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'},\n\n    \t\t{\n    \t\t\tname: 'bins',\n\t\t    \txtype: 'slider',\n\t\t    \tlabelAlign: 'right',\n\t\t    \twidth: 200,\n\t\t    \tminValue: 2,\n\t\t    \tmaxValue: 100,\n\t        \tlisteners: {\n\t        \t\tafterrender: function(slider) {\n\t        \t\t\tvar trends = slider.up(\"window\").panel;\n\t        \t\t\tslider.setFieldLabel(trends.localize(\"segmentsSlider\"));\n\t        \t\t}\n\t        \t}    \t\t\n    \t\t},{\n                xtype: 'radiogroup',\n\t\t    \tlabelAlign: 'right',\n                columns: 3,\n                vertical: true,\n                name: 'withDistributions',\n                items: [{\n                    boxLabel: 'raw',\n                    name: 'withDistributions',\n                    inputValue: 'raw'\n                },{\n                    boxLabel: 'relative',\n                    name: 'withDistributions',\n                    inputValue: 'relative',\n                    style: 'margin-left: 1em;'\n                }],\n\t        \tlisteners: {\n\t        \t\tafterrender: function(radiogroup) {\n\t        \t\t\tvar panel = this.up(\"window\").panel;\n\t        \t\t\tthis.setFieldLabel(\"frequencies\");\n\t        \t\t\tvar val = panel.getApiParam(\"withDistributions\");\n\t        \t\t\tradiogroup.getBoxes().forEach(function(item) {\n\t        \t\t\t\titem.setBoxLabel(panel.localize(item.inputValue));\n\t        \t\t\t\titem.checked = item.inputValue==val;\n\t        \t\t\t});\n\t        \t\t\tthis.setValue({withDistributions: val});\n\t        \t\t}\n\t        \t}\n    \t\t},{xtype: 'colorpaletteoption'}]\n\t},\n    statics: {\n    \ti18n: {    \t\t\n    \t},\n    \tapi: {\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} limit Determine the number of terms to show (larger numbers may make the graph unusable).\n    \t\t */\n    \t\tlimit: 5,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String} stopList A comma-separated list of words, a named list or a URL to a plain text list, one word per line.\n    \t\t * \n    \t\t *  By default this is set to 'auto' which auto-detects the document's language and loads an appropriate list (if available for that language). Set this to blank to not use the default stopList.\n    \t\t *  \n    \t\t * For more information see the <a href=\"#!/guide/search\">Stopwords documentation</a>.\n    \t\t */\n    \t\tstopList: 'auto',\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String/String[]} query A query or array of queries (queries can be separated by a comma).\n    \t\t * \n    \t\t * For query syntax, see the <a href=\"#!/guide/search\">search documentation</a>.\n    \t\t */\n    \t\tquery: undefined,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String} withDistributions Determine whether to show \"raw\" or \"relative\" frequencies (those are the two valid values).\n    \t\t * \n    \t\t * The default value is \"relative\" (unless there's only one document in the corpus, in which case raw frequencies are shown).\n    \t\t */\n    \t\twithDistributions: 'relative',\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number} bins The number of segments to use.\n    \t\t * \n    \t\t * The default value will depend on the nature of the corpus:\n    \t\t * \n    \t\t * - corpus has one document: the default number of bins is 10\n    \t\t * - corpus has multiple documents:\n    \t\t *   - corpus has up to 100 documents: the default number is the size of the corpus\n    \t\t *   - corpus has more than 1000 documents: the default number is 100\n    \t\t */\n    \t\tbins: 10,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {Number/Number[]/String} docIndex The index of one or more documents, as a number, or numbers separated by commas or in an array.\n    \t\t * \n    \t\t * The first document's index is 0 and so on.\n    \t\t */\n    \t\tdocIndex: undefined,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String/String[]} docId The document ID of one or more documents, as a string, or strings separated by commas or in an array.\n    \t\t */\n    \t\tdocId: undefined,\n    \t\t\n    \t\t/**\n    \t\t * @cfg {String} mode Force the mode to be either \"corpus\" (distribution of terms across documents) or \"document\" (distribution of terms within a document); usually this is correctly set by default according to whether the corpus has one document (\"document\") or more than one (\"corpus\").\n    \t\t */\n    \t\tmode: \"corpus\",\n    \t\t\n    \t\tchartType: 'barline',\n    \t\t\n    \t\tlabels: false\n    \t},\n\t\tglyph: 'xf201@FontAwesome'\n    },\n    \n    layout: 'fit',\n    documentTermsStore: undefined,\n    //segments: undefined,\n    \n    /**\n     * @private\n     */\n    constructor: function(config) {\n    \tthis.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments); // we need api\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                    xtype: 'querysearchfield'\n                },{\n                \titemId: 'reset',\n                \ttext: this.localize(\"reset\"),\n                \ttooltip: this.localize(\"resetTip\"),\n                \thandler: function(btn) {\n                \t\tthis.setApiParams({\n                \t\t\tdocIndex: undefined,\n                \t\t\tmode: undefined,\n                \t\t\tquery: undefined\n                \t\t});\n                \t\tthis.loadCorpusTerms();\n                \t},\n                \tscope: this\n\t\t\t\t},{\n\t\t\t\t\ttext: this.localize('display'),\n\t\t\t\t\ttooltip: this.localize('displayTip'),\n\t\t\t\t\tglyph: 'xf013@FontAwesome',\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\tafterrender: function(menu) {\n\t\t\t\t\t\t\t\tvar val = this.getApiParam(\"chartType\");\n\t\t\t\t\t\t\t\tmenu.items.each(function(item) {\n\t\t\t\t\t\t\t\t\tif (item.getItemId()==val) {\n\t\t\t\t\t\t\t\t\t\titem.addCls(item.activeCls);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t},\n\t                    defaults: {\n\t                        xtype: 'menuitem',\n\t                        handler: function(item, checked) {\n\t                        \tif (item.xtype==\"menucheckitem\") { // labels\n\t\t                        \tthis.setApiParam(\"labels\", item.checked);\n\t                        \t} else {\n\t\t                        \tthis.setApiParam(\"chartType\", item.getItemId());\n\t                        \t}\n\t                        \tthis.loadCorpusTerms();\n\t                        },\n\t                        scope: this\n\t                    },\n\t                    items: [{\n\t                    \txtype: 'menucheckitem',\n\t                    \ttext: this.localize('labels'),\n\t                        tooltip: this.localize('labelsTip'),\n\t                        checked: this.getApiParam(\"labels\")===true || this.getApiParam(\"labels\")==\"true\"\n\t                    },'-',{\n\t                        itemId: 'area',\n\t                        text: this.localize('area'),\n\t                        tooltip: this.localize('areaTip'),\n\t                        glyph: 'xe76b@Sencha-Examples'\n\t                    },{\n\t                        itemId: 'bar',\n\t                        text: this.localize('bar'),\n\t                        tooltip: this.localize('barTip'),\n\t                        glyph: 'xe768@Sencha-Examples'\n\t                    },{\n\t                        itemId: 'line',\n\t                        text: this.localize('line'),\n\t                        tooltip: this.localize('lineTip'),\n\t                        glyph: 'xe773@Sencha-Examples'\n\t                    },{\n\t                        itemId: 'stacked',\n\t                        text: this.localize('stacked'),\n\t                        tooltip: this.localize('stackedTip'),\n\t                        glyph: 'xe6c8@Sencha-Examples'\n\t                    },{\n\t                        itemId: 'barline',\n\t                        text: this.localize('barline'),\n\t                        tooltip: this.localize('barlineTip'),\n\t                        glyph: 'xe779@Sencha-Examples'\n\t                    }]\n\t\t\t\t\t}\n\t\t\t\t}]\n            }]\n    \t});\n        this.callParent(arguments);\n    },\n    \n    listeners: {\n    \tloadedCorpus: function(src, corpus) {\n    \t\tthis.loadCorpusTerms();\n    \t},\n    \ttermsClicked: function(src, terms) {\n    \t\tvar queryTerms = [];\n    \t\tterms.forEach(function(term) {\n    \t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\n    \t\t\telse if (term.term) {queryTerms.push(term.term);}\n    \t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\n    \t\t});\n    \t\tthis.setApiParam(\"query\", queryTerms && queryTerms.length>0 ? queryTerms : undefined);\n    \t\tthis.loadCorpusTerms();\n    \t},\n    \tcorpusTermsClicked: function(src, terms) {\n    \t\tthis.setApiParam(\"query\", terms.map(function(term) {return term.getTerm()}));\n    \t\tthis.loadCorpusTerms();\n    \t},\n    \tdocumentSelected: function(src, document) {\n\t\t\tthis.setApiParam(\"docIndex\", this.getCorpus().getDocument(document).getIndex());\n    \t\tthis.loadDocumentTerms();\n    \t},\n    \tdocumentsClicked: function(src, documents) {\n    \t\tif (documents.length==1) {\n    \t\t\tthis.fireEvent(\"documentSelected\", this, documents[0])\n    \t\t}\n    \t},\n    \tquery: function(src, query) {\n\t\t\tthis.fireEvent(\"termsClicked\", this, query)\n    \t}\n    },\n    \n    loadCorpusTerms: function(params) {\n    \t// if our corpus only has one document or if we have docIndex d\n    \tif (\n    \t\tthis.getCorpus().getDocumentsCount()<2 || // only one document\n    \t\tthis.getApiParam(\"mode\")==\"document\" || // in document mode\n    \t\tArray.from(this.getApiParam(\"docIndex\") || \"\").length>0 // we have a docIndex defined\n    \t\t) {\n    \t\treturn this.loadDocumentTerms();\n    \t}\n    \tif (!this.getApiParam(\"query\")) {\n        \tthis.getCorpus().getCorpusTerms().load({\n        \t\tparams: {\n        \t\t\tlimit: 5,\n        \t\t\tstopList: this.getApiParam(\"stopList\")\n        \t\t},\n        \t\tcallback: function(records, operation, success) {\n        \t\t\tif (records.length==0) {\n        \t\t\t\tif (operation && operation.error) {\n        \t\t\t\t\tthis.showError(this.localize(\"noResults\")+\"<p style='color: red'>\"+operation.error+\"</p>\")\n        \t\t\t\t} else {\n        \t\t\t\t\tthis.showError(this.localize(\"noResults\"))\n        \t\t\t\t}\n        \t\t\t} else {\n            \t\t\tthis.setApiParam(\"query\", records.map(function(r) {return r.getTerm()}))\n            \t\t\tthis.loadCorpusTerms();\n        \t\t\t}\n        \t\t},\n        \t\tscope: this\n        \t})\n    \t\treturn;\n    \t}\n    \tparams = params || {};\n    \t//this.segments.hide();\n    \tvar withDistributions = this.getApiParam(\"withDistributions\");\n    \tExt.applyIf(params, {\n    \t\tbins: this.getCorpus().getDocumentsCount(),\n\t\t\tlimit: 100, // should have query, so no limit \n\t    \tstopList: \"\" // automatic queries should be stopped already\n    \t});\n    \tvar docLabels = this.getCorpus().map(function(doc) {return doc.getTinyTitle()})\n    \tif (Ext.Array.unique(docLabels).length<docLabels.length) { // we have duplicates, add index\n    \t\tdocLabels = docLabels.map(function(doc,i) {return (i+1)+\")\"+ doc})\n    \t}\n    \tExt.applyIf(params, this.getApiParams());\n    \tthis.getCorpus().getCorpusTerms().load({\n    \t\tparams: params,\n    \t\tcallback: function(records, operation, success) {\n    \t\t\tvar data = [], series = [], chartType = this.getApiParam('chartType');\n    \t\t\trecords.forEach(function(record, index) {\n    \t    \t\tvar term = record.get('term'), docIndex = record.get(\"docIndex\");\n    \t    \t\tvar color = this.getApplication().getColorForTerm(term, true);\n    \t    \t\trecord.get('distributions').forEach(function(r, i) {\n    \t    \t\t\tif (!data[i]) {\n    \t    \t\t\t\tdata[i] = {\"index\": docLabels[i]};\n    \t    \t\t\t}\n    \t    \t\t\tdata[i][\"_\"+index] = withDistributions=='relative' ? r.toFixed(7) : r;\n    \t    \t\t\tdata[i][\"term\"+index] = term;\n    \t    \t\t}, this);\n    \t    \t\t\n    \t    \t\t\n    \t    \t\tif (chartType!='bar') {\n    \t    \t\t\tvar kinds = chartType=='barline' ? [\"bar\",\"line\"] : [chartType];\n    \t    \t\t\tkinds.forEach(function(kind) {\n    \t    \t        \tseries.push({\n    \t    \t        \t\ttype: kind=='stacked' ? 'bar' : kind,\n    \t    \t    \t\t\ttitle: term,\n    \t    \t    \t\t\txField: 'index',\n    \t    \t    \t\t\tyField: '_'+index,\n    \t    \t    \t\t\tterm: term,\n    \t    \t    \t\t\tcolors: [color],\n    \t    \t    \t\t\tlabel: chartType=='barline' && kind=='bar' ? {\n    \t    \t    \t\t\t\tdisplay: 'none'\n    \t    \t    \t\t\t} : {\n    \t    \t    \t\t\t\tfield: \"term\"+index\n    \t    \t    \t\t\t}\n    \t    \t        \t})\n    \t    \t\t\t}, this);\n    \t    \t\t}\n    \t\t\t}, this);\n    \t\t\t\n    \t\t\tvar terms = records.map(function(r) {return r.getTerm()})\n    \t\t\tvar colors = terms.map(function(term) {\n\t    \t\t\treturn  this.getApplication().getColorForTerm(term, true);\n\t    \t\t}, this);\n\t    \t\tif (chartType=='bar') {\n\t\t    \t\tseries.push({\n\t\t    \t\t\ttype:'bar',\n\t\t    \t\t\ttitle: terms,\n\t\t\t    \t\tcolors: colors,\n\t\t    \t\t\txField: 'index',\n\t\t    \t\t\tyField: data.length>0 ? Object.keys(data[0]).filter(function(field) {return field.charAt(0)==\"_\"}) : undefined,\n    \t    \t\t\tlabel: {\n    \t    \t\t\t\tfield: records.map(function(r,i) {return \"term\"+i;})\n    \t    \t\t\t}\n\t\t    \t\t})\n\t    \t\t}\n\t    \t\t\n    \t    \tvar store = Ext.create('Ext.data.JsonStore', {\n    \t    \t\tfields: data.length>0 ? Object.keys(data[0]) : undefined,\n    \t    \t\tdata: data\n    \t    \t});\n    \t    \t\n    \t\t\tthis.buildChart({\n        \t\t\tstore: store,\n        \t\t\tseries: series,\n        \t\t\taxes: [{\n                \t\ttype: 'numeric',\n                \t\tposition: 'left',\n                \t\tincrement: 1,\n                \t\ttitle: {\n                \t\t\ttext: this.localize(this.getApiParam(\"withDistributions\")+\"Title\")\n                \t\t}\n        \t\t\t},{\n        \t\t\t\ttype: 'category',\n                \t\tposition: 'bottom',\n                \t\ttitle: {\n                \t\t\ttext: this.localize(\"corpusTitle\")\n                \t\t}\n                \t\t\n        \t\t\t}]\n    \t\t\t})\n    \t\t},\n    \t\tscope: this\n    \t});\n  \n    },\n    \n    getItemToolTip: function (toolTip, record, ctx) {\n    \t\n    \tvar parts = ctx.field.split(\"_\"),\n    \t\tdocIndex = parts.length==2 ? ctx.index : parts[2],\n    \t\tpos = parseInt(parts[1]),\n    \t\ttitle = ctx.series.getTitle(),\n    \t\tterm = Ext.isArray(title) ? title[pos] : title,\n    \t\tcolors = ctx.series.getColors(),\n    \t\tcolor = colors.length==1 ? colors[0] : colors[pos];\n        var html = \"<span class='x-legend-item-marker' style='background:\"+color+\n        \t\t\"; left: 2px;'></span> <span style='padding-left: 1.2em; font-weight: bold;'>\"+\n        \t\tterm+\"</span>: \"+record.get(ctx.field)+\n    \t\t\t\"<br/><i>\"+this.getCorpus().getDocument(docIndex).getShortTitle()+\"</i>\"\n\t\tif (this.getApiParam(\"mode\")==\"corpus\") {\n    \t\thtml+=\"<div style='font-size: smaller'>\"+this.localize('dblClickItem')\n\t\t} else {\n\t\t\thtml+=\"<br/>\"+this.localize('segment')+\" \"+(ctx.index+1)\n\t\t}\n    \ttoolTip.setHtml(html);\n    },\n    \n\n    loadDocumentTerms: function(params) {\n    \tif (!this.getApiParam(\"query\")) {\n        \tthis.getCorpus().getCorpusTerms().load({\n        \t\tparams: {\n        \t\t\tlimit: this.getCorpus().getDocumentsCount()<2 ? 5 : 2,\n        \t\t\tstopList: this.getApiParam(\"stopList\")\n        \t\t},\n        \t\tcallback: function(records, operation, success) {\n        \t\t\tthis.setApiParam(\"query\", records.map(function(r) {return r.getTerm()}))\n        \t\t\tthis.loadDocumentTerms();\n        \t\t},\n        \t\tscope: this\n        \t})\n    \t\treturn;\n    \t}\n    \t//this.segments.show();\n    \tthis.setApiParam(\"mode\", \"document\"); // just to be sure\n    \tparams = params || {};\n    \tvar withDistributions = this.getApiParam(\"withDistributions\");\n    \tExt.applyIf(params, {\n\t\t\tlimit: 0, // always have query, so no limit, no stopList\n\t\t\tsort: 'termasc',\n\t\t\tstopList: undefined\n    \t});\n    \tvar docLabels = this.getCorpus().map(function(doc) {return doc.getTinyTitle()})\n    \tvar singleDoc;\n    \tif (this.getCorpus().getDocumentsCount()==1) {\n    \t\tsingleDoc=this.getCorpus().getDocument(0)\n    \t}\n    \telse {\n    \t\tsingleDoc=this.getCorpus().getDocument(this.getApiParam(\"docIndex\"))\n    \t}\n    \tExt.applyIf(params, this.getApiParams());\n    \t\n    \tthis.getCorpus().getDocumentTerms().load({\n    \t\tparams: params,\n    \t\tcallback: function(records, operation, success) {\n    \t\t\tvar data = [], series = [],  chartType = this.getApiParam('chartType');\n    \t\t\tif (!singleDoc) { // legend is easier to read if sorted by term then doc\n        \t\t\trecords.sort(function(a,b) {\n        \t\t\t\tif (a.getTerm()==b.getTerm()) {\n        \t\t\t\t\treturn a.getDocIndex() - b.getDocIndex()\n        \t\t\t\t}\n        \t\t\t\treturn a.getTerm().localeCompare(b.getTerm())\n        \t\t\t})\n    \t\t\t}\n    \t\t\trecords.forEach(function(record, index) {\n    \t    \t\tvar term = record.get('term');\n    \t    \t\tvar docIndex = record.get('docIndex');\n    \t    \t\tvar color = singleDoc ? this.getApplication().getColorForTerm(term, true) : this.getApplication().getColor(docIndex, true);\n    \t    \t\tvar docIndex = record.get('docIndex');\n    \t    \t\trecord.get('distributions').forEach(function(r, i) {\n    \t    \t\t\tif (!data[i]) {\n    \t    \t\t\t\tdata[i] = {docIndex: docIndex, index: (i+1)};\n    \t    \t\t\t}\n    \t    \t\t\tdata[i][\"_\"+index+\"_\"+docIndex] = withDistributions=='relative' ? r.toFixed(7) : r;\n    \t    \t\t\tdata[i][\"term\"+index] = term;\n    \t    \t\t}, this);\n\n    \t    \t\tif (chartType!='bar') {\n    \t    \t\t\tvar kinds = chartType=='barline' ? [\"bar\",\"line\"] : [chartType];\n    \t    \t\t\tkinds.forEach(function(kind) {\n    \t    \t        \tseries.push({\n    \t    \t        \t\ttype: kind=='stacked' ? 'bar' : kind,\n    \t    \t    \t\t\ttitle: singleDoc ? term : (docIndex+1)+\") \"+term,\n    \t    \t    \t\t\txField: 'index',\n    \t    \t    \t\t\tyField: '_'+index+\"_\"+docIndex,\n    \t    \t    \t\t\tterm: term,\n    \t    \t    \t\t\tcolors: [color],\n    \t    \t    \t\t\tlabel: chartType=='barline' && kind=='bar' ? {\n    \t    \t    \t\t\t\tdisplay: 'none'\n    \t    \t    \t\t\t} : {\n    \t    \t    \t\t\t\tfield: \"term\"+index\n    \t    \t    \t\t\t}\n    \t    \t        \t})\n    \t    \t\t\t}, this);\n    \t    \t\t}\n    \t    \t\t\n    \t\t\t}, this);\n    \t\t\t\n\t    \t\tif (chartType=='bar') {\n\t    \t\t\tvar isOneTerm = Ext.Array.unique(records.map(function(r) {return r.getTerm()})).length;\n\t    \t\t\tvar terms = records.map(function(r) {return (1+r.get(\"docIndex\"))\t+\") \"+r.getTerm()})\n\t    \t\t\tvar colors = records.map(function(r) {\n\t\t    \t\t\treturn  isOneTerm ? this.getApplication().getColor(r.get(\"docIndex\"), true) : this.getApplication().getColorForTerm(r.getTerm(), true);\n\t\t    \t\t}, this);\n\n\t\t    \t\tseries.push({\n\t\t    \t\t\ttype:'bar',\n\t\t    \t\t\ttitle: terms.length>0 ? terms : this.localize(\"noResults\"),\n\t\t\t    \t\tcolors: colors,\n\t\t    \t\t\txField: 'index',\n\t\t    \t\t\tyField: data.length>0 ? Object.keys(data[0]).filter(function(field) {return field.charAt(0)==\"_\"}) : undefined,\n\t\t    \t\t\tlabel: {\n\t\t    \t\t\t\tfield: terms\n\t\t    \t\t\t}\n\t\t    \t\t})\n\t    \t\t}\n\n    \t\t\t\n    \t    \tvar store = Ext.create('Ext.data.JsonStore', {\n    \t    \t\tfields: data.length>0 ? Object.keys(data[0]) : undefined,\n    \t    \t\tdata: data\n    \t    \t});\n\n    \t\t\tthis.buildChart({\n        \t\t\tstore: store,\n        \t\t\tseries: series,\n        \t\t\taxes: [{\n                \t\ttype: 'numeric',\n                \t\tposition: 'left',\n                \t\ttitle: {\n                \t\t\ttext: this.localize(this.getApiParam(\"withDistributions\")+\"Title\")\n                \t\t}\n        \t\t\t},{\n        \t\t\t\ttype: 'category',\n                \t\tposition: 'bottom',\n                \t\ttitle: {\n                \t\t\ttext: this.localize(\"segmentsTitle\") + (singleDoc ? \" (\"+singleDoc.getShortTitle()+\")\" : \"\")\n                \t\t}\n                \t\t\n        \t\t\t}]\n    \t\t\t})\n    \t\t},\n    \t\tscope: this\n    \t});\n  \n    },\n\n    \n    buildChart: function(config) {\n    \tvar chartType = this.getApiParam('chartType'), labels = false;\n    \tif (this.getApiParam(\"labels\")===true || this.getApiParam(\"labels\")==\"true\") {labels=true}\n    \t\n    \tExt.applyIf(config, {\n    \t\tcls: this.getApiParam(\"mode\")\n    \t});\n\n    \tconfig.series.forEach(function(serie) {\n    \t\tExt.applyIf(serie, {\n\t\t\t\tstacked: serie.type=='bar' ? false : true,\n\t\t\t\tshowInLegend: chartType=='barline' && serie.type=='line' ? false : true,\n    \t\t\tsmooth: true,\n    \t\t\tshowMarkers: serie.type=='bar' ? false : true,\n    \t\t\tmarker: chartType=='barline' && serie.type=='line' ? null : {\n    \t\t\t    type: 'circle',\n    \t\t\t    radius: 2\n    \t\t\t},\n                style: {\n                    lineWidth: 1,\n                    fillOpacity: chartType=='barline' && serie.type=='bar' ? .01 : 1,\n                    strokeOpacity: chartType=='barline' && serie.type=='bar' ? .1 : 1\n                },\n                highlight: true,\n                highlightCfg: {\n                \tscaling: serie.type==\"bar\" ? 1.1 : 2\n                },\n    \t\t\tlabel: {\n//    \t\t\t\tdisplay: 'none'\n    \t\t\t},\n    \t\t\ttooltip: {\n                    trackMouse: true,\n                    renderer: this.getItemToolTip,\n                    scope: this\n    \t\t\t},\n                listeners: {\n                \titemclick: function(chart,item,event,eOpts ) {\n            \t\t\tif (this.clickTimer) {clearTimeout(this.clickTimer);}\n            \t\t\tif (this.blockClick) {return;} // set by dblclick to avoid menu disappearing\n            \t\t\tthis.blockClick = true // block other clicks within a sec\n            \t\t\tExt.defer(function() {\n            \t\t\t\tthis.blockClick = false;\n            \t\t\t}, 1000, this);\n                \t\tif (this.getApiParam(\"mode\")==\"document\") {\n                \t\t\tvar parts = item.field.split(\"_\"),\n                \t\t\t\tdocIndex = parts[2],\n                \t\t\t\tdoc = this.getCorpus().getDocument(docIndex),\n                \t\t\t\ttokens = doc.get('tokensCount-lexical'),\n                \t\t\t\tposition = parseInt(item.index  * tokens / parseInt(this.getApiParam(\"bins\")))\n                \t\t\tthis.dispatchEvent(\"documentIndexTermsClicked\", this, [{\n                    \t\t\tterm: item.series.term,\n                    \t\t\tdocIndex: parts[2],\n                    \t\t\tposition: position\n                    \t\t}]);                \t\t\t\n                \t\t} else {\n                \t\t\tif (this.clickTimer) {clearTimeout(this.clickTimer);}\n                \t\t\tvar me = this;\n                \t\t\tthis.clickTimer = setTimeout(function() {\n                    \t\t\tme.dispatchEvent(\"documentIndexTermsClicked\", me, [{\n                        \t\t\tterm: item.series.term,\n                        \t\t\tdocIndex: item.index\n                        \t\t}]);\n                \t\t\t}, 300)\n                \t\t\t\n                \t\t}\n                \t},\n                \titemdblclick: function(chart,item,event,eOpts )  {\n            \t\t\tif (this.clickTimer) {clearTimeout(this.clickTimer);}\n            \t\t\t// block future single clicks to allow menu to appear\n            \t\t\tthis.blockClick = true\n            \t\t\tExt.defer(function() {\n            \t\t\t\tthis.blockClick = false;\n            \t\t\t}, 1000, this);\n            \t\t\t// block future clicks\n                \t\tif (this.getApiParam(\"mode\")!=\"document\") {\n                \t\t\tvar m = Ext.create('Ext.menu.Menu', {\n                \t\t\t\titems: [{\n                \t    \t\t\t\ttext: this.localize(\"drillTerm\"),\n                \t    \t\t\t\ttooltip: this.localize(\"drillTermTip\"),\n//                \t    \t\t\t\tglyph: 'xf02d@FontAwesome',\n                \t    \t\t\t\thandler: function() {\n                \t    \t\t\t\t\tthis.setApiParams({\n                \t    \t\t\t\t\t\tmode: 'document',\n                \t    \t\t\t\t\t\tquery: item.series.term\n                \t    \t\t\t\t\t});\n                \t    \t\t\t\t\tthis.loadDocumentTerms();\n                \t    \t\t\t\t},\n                \t    \t\t\t\tscope: this\n                \t\t\t\t\t},{\n                \t    \t\t\t\ttext: this.localize(\"drillDocument\"),\n                \t    \t\t\t\ttooltip: this.localize(\"drillDocumentTip\"),\n//                \t    \t\t\t\tglyph: 'xf02d@FontAwesome',\n                \t    \t\t\t\thandler: function() {\n                \t    \t\t\t\t\tthis.setApiParams({\n                \t    \t\t\t\t\t\tmode: 'document',\n                \t    \t\t\t\t\t\tdocIndex: item.index\n                \t    \t\t\t\t\t});\n                \t    \t\t\t\t\tthis.loadDocumentTerms();\n                \t    \t\t\t\t},\n                \t    \t\t\t\tscope: this\n                \t\t\t\t\t}],\n                \t\t\t\t\tlisteners: {\n                \t\t\t\t\t\thide: function(m) {\n                \t\t\t\t\t\t\t// defer hiding otherwise click handler not called\n                \t\t\t\t\t\t\tExt.defer(function() {this.destroy()}, 200, m)\n                \t\t\t\t\t\t},\n                \t\t\t\t\t\tscope: this\n                \t\t\t\t\t}\n                \t\t\t}).showAt(event.pageX, event.pageY) \n                \t\t}\n                \t},\n                \tscope: this\n                }\n    \t\t})\n    \t\tExt.applyIf(serie.label, {\n                display: 'over',\n                field: 'index',\n                fontSize: 11,\n                translateY: chartType=='line' ? 9 : undefined\n    \t\t});\n    \t\tif (!labels) {serie.label.display=\"none\";} // hide label \n    \t}, this)\n    \tExt.applyIf(config, {\n    \t\tanimation: true,\n    \t    plugins: {\n    \t        ptype: 'chartitemevents',\n    \t        moveEvents: true\n    \t    },\n    \t\tlegend: {\n    \t\t\tdocked:'top',\n    \t\t\tlisteners: {\n    \t\t\t\titemclick: function(legend, record, dom, index) {\n    \t\t\t\t\t// make sure to hide related series\n    \t\t\t\t\tif (legend.getStore().getCount()<legend.chart.series.length && this.getApiParam(\"chartType\")==\"barline\") {\n        \t\t\t\t\tvar term = record.get(\"name\"), disabled = record.get(\"disabled\");\n        \t\t\t\t\tlegend.chart.series.forEach(function(serie) {\n        \t\t\t\t\t\tif (serie.getTitle()==term) {\n        \t\t\t\t\t\t\tserie.setHidden(disabled);\n        \t\t\t\t\t\t\t\n        \t\t\t\t\t\t}\n        \t\t\t\t\t})\n        \t\t\t\t\tlegend.chart.redraw(); // not working?\n    \t\t\t\t\t}\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t}\n    \t\t},\n    \t\tinteractions: ['itemhighlight','crosszoom'],\n    \t    listeners: {}\n    \t});\n    \tExt.applyIf(config.listeners, {\n\t        itemhighlightchange: function (chart, item) {\n\t            chart.el.dom.style.cursor = item ? 'pointer' : '';\n\t        },\n\t        afterrender : function() {\n\t        \treturn // TODO: this seems to cause problems, perhaps not destroying properly?\n\t        \tExt.defer(function() { // seem to need to defer\n\t\t        \tExt.tip.QuickTipManager.register({\n\t\t        \t\ttarget: this.getTargetEl().down(\".x-legend-container\"),\n\t                 \ttext: this.localize(\"toggleTip\")\n\t\t        \t});\n\t        \t},1, this)\n\t        \t\n\t        },\n\t        scope: this\n    \t})\n    \tconfig.axes.forEach(function(axis) {\n    \t\tExt.applyIf(axis, {\n    \t\t\ttitle: {},\n    \t\t\tlabel: {}\n    \t\t})\n    \t\tExt.applyIf(axis.title, {scaling: .75});\n    \t\tExt.applyIf(axis.label, {scaling: .75});\n    \t\tif (axis.type=='category') {\n    \t\t\tvar titles = \"\";\n    \t\t\tconfig.store.each(function(r) {titles+=r.get(\"index\")})\n    \t\t\tif (titles.length>this.getTargetEl().getWidth()/9) {\n            \t\tExt.applyIf(axis.label, {rotate: {degrees:-30}});\n    \t\t\t}\n        \t\tExt.applyIf(axis, {\n        \t\t\tlabelInSpan: true\n        \t\t})\n    \t\t}\n    \t}, this)\n    \t    \t\n    \t// remove existing chart\n    \tthis.query('chart').forEach(function(chart) {this.remove(chart, true);}, this);\n    \t\n    \t// create new chart\n\t\tvar chart = Ext.create(\"Ext.chart.CartesianChart\", config);\n    \tthis.add(chart);\n    },\n    \n    reloadFromChart: function() {\n    \tvar chart = this.down('chart');\n    \tif (chart) {\n    \t\tvar terms = [];\n    \t\tchart.series.forEach(function(serie) {\n    \t\t\tterms.push(serie.getTitle());\n    \t\t});\n    \t\tthis.fireEvent(\"termsClicked\", this, terms);\n    \t}\n    }\n\n\n });","Ext.define('Voyant.panel.NoTool', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.notool',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\ttool: undefined\n    \t}\n    },\n    config: {\n    \thtml: undefined,\n    \tnotYetImplemented: [\"Centroid\",\"DocumentInputAdd\",\"DocumentTypeCollocateFrequenciesGrid\",\"EntitiesBrowser\",\"Equalizer\",\"FeatureClusters\",\"Flowerbed\",\"KwicsTagger\",\"Lava\",\"Mandala\",\"MicroSearch\",\"NetVizApplet\",\"PaperDrill\",\"RezoViz\",\"Sunburst\",\"Termometer\",\"Ticker\",\"TokensViz\",\"ToolBrowser\",\"ToolBrowserLarge\",\"VoyeurTagline\",\"WordCloud\",\"VoyeurTagline\",\"WordCountFountain\"]\n    },\n    constructor: function() {\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title')\n    \t});\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n\tlisteners: {\n\t\tboxready: function(container, width, height) {\n\t\t\tvar tool = this.getApiParam(\"notool\");\n\n\t\t\tif (tool) {\n\t\t\t\tif (Ext.isArray(tool)) {tool=tool[0]}\n\t\t\t\t\n\t\t\t\tvar msg = \"\";\n\t\t\t\t\n\t\t\t\t// check to see if this is a tool that's recognized but not implemented\n\t\t\t\tvar oldTools = this.getNotYetImplemented();\n\t\t\t\tfor (var i=0, len=oldTools.length; i<len; i++) {\n\t\t\t\t\tif (tool==oldTools[i]) {\n\t\t\t\t\t\treturn Ext.Msg.show({\n\t\t\t\t\t\t    title: this.localize('error'),\n\t\t\t\t\t\t    message: new Ext.Template(this.localize('notImplemented')).applyTemplate([tool]),\n\t\t\t\t\t\t    buttons: Ext.Msg.YESNO,\n\t\t\t\t\t\t\tbuttonText: {yes: this.localize(\"currentButton\"), no: this.localize(\"oldButton\")},\n\t\t\t\t\t\t    icon: Ext.Msg.ERROR,\n\t\t\t\t\t\t    scope: this,\n\t\t\t\t\t\t    fn: function(btn) {\n\t\t\t\t\t\t    \tvar url;\n\t\t\t\t\t\t    \tif (btn=='yes') {\n\t\t\t\t\t\t    \t\turl = this.getNewUrl();\n\t\t\t\t\t\t    \t}\n\t\t\t\t\t\t    \telse {\n\t\t\t\t\t\t    \t\turl = \"http://voyant-tools.org/tool/\"+tool+\"/\";\n\t\t\t\t\t\t\t    \tvar query = Ext.Object.fromQueryString(document.location.search)\n\t\t\t\t\t\t\t    \tdelete query['tool']\n\t\t\t\t\t\t\t    \tqueryString = Ext.Object.toQueryString(query);\n\t\t\t\t\t\t\t    \tif (queryString) {\n\t\t\t\t\t\t\t\t    \turl += \"?\"+queryString\n\t\t\t\t\t\t\t    \t}\n\t\t\t\t\t\t    \t}\n\t\t\t\t\t\t    \twindow.location.replace(url);\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tExt.Msg.show({\n\t\t\t\t    title: this.localize('error'),\n\t\t\t\t    message: new Ext.Template(this.localize('badToolSpecified')).applyTemplate([tool]),\n\t\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t\t    icon: Ext.Msg.ERROR,\n\t\t\t\t    scope: this,\n\t\t\t\t    fn: function(btn) {\n\t\t\t\t    \twindow.location.replace(this.getNewUrl());\n\t\t\t\t    }\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t// no tool specified, so just redirect\n\t\t\telse if (!this.config.html) {\n\t\t\t\tExt.Msg.show({\n\t\t\t\t    title: this.localize('error'),\n\t\t\t\t    message: this.localize('noToolSpecified'),\n\t\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t\t    icon: Ext.Msg.ERROR,\n\t\t\t\t    scope: this,\n\t\t\t\t    fn: function(btn) {\n\t\t\t\t    \twindow.location.replace(this.getNewUrl());\n\t\t\t\t    }\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tgetNewUrl: function() {\n    \tvar query = Ext.Object.fromQueryString(document.location.search)\n    \tdelete query['tool']\n    \tqueryString = Ext.Object.toQueryString(query);\n    \treturn this.getApplication().getBaseUrl()+(queryString ? \"?\"+queryString : \"\")\n\t}\n});","Ext.define('Voyant.panel.VoyantFooter', {\n\textend: 'Ext.container.Container',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.voyantfooter',\n    statics: {\n    \ti18n: {\n    \t}\n    },\n\theight: 18,\n\tcls: 'x-tab-bar-default voyant-footer',\n\tlisteners: {\n\t\tboxready: function(container, width, height) {\n\t\t\tvar parts = [\n\t\t\t\t\"<a href='\"+container.getBaseUrl()+\"docs/' target='voyantdocs'>\"+container.localize('voyantTools')+\"</a> \",\n\t\t\t\t\", <a href='https://csdh-schn.org/stefan-sinclair-in-memoriam/'>St&eacute;fan Sinclair</a> &amp; <a href='https://geoffreyrockwell.com'>Geoffrey Rockwell</a>\",\n\t\t\t\t\" (<a href='https://creativecommons.org/licenses/by/4.0/' target='_blank'><span class='cc'>c</span></a> \"+ new Date().getFullYear() +\")\",\n\t\t\t\t\" <a class='privacy' href='\"+this.getBaseUrl()+\"docs/#!/guide/about-section-privacy-statement' target='top'>\"+container.localize('privacy')+\"</a>\",\n\t\t\t\t\" v. \"+Voyant.application.getVersion() + (Voyant.application.getBuild() ? \" (\"+Voyant.application.getBuild()+\")\" : \"\")\n\t\t\t];\n\t\t\tvar footer = '';\n\t\t\tvar footerWidth = 0;\n\t\t\tvar partWidth;\n\t\t\tvar el = container.getEl();\n\t\t\tfor (var i=0;i<parts.length;i++) {\n\t\t\t\tpartWidth = el.getTextWidth(parts[i].replace(/data-qtip.+?--\u003e/,\">\").replace(/<.+?>/g, \"\"));\n\t\t\t\tif (footerWidth+partWidth < width) {\n\t\t\t\t\tfooter += parts[i];\n\t\t\t\t\tfooterWidth += partWidth;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontainer.update(footer);\n        \tExt.tip.QuickTipManager.register({\n                target: container.getTargetEl().dom.querySelector(\".privacy\"),\n                text: this.localize('privacyMsg')\n            });\n\t\t},\n\t\tbeforedestroy: function(container) {\n    \t\tExt.tip.QuickTipManager.unregister(container.getTargetEl().dom.querySelector(\".privacy\"));\n    \t}\n\t}\n});","Ext.define('Voyant.panel.VoyantHeader', {\n\textend: 'Ext.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.voyantheader',\n    statics: {\n    \ti18n: {\n    \t}\n    },\n    constructor: function(config) {\n    \tExt.apply(this, {\n    \t\tid: 'voyantheader',\n    \t\ttitle: '',\n    \t\tlayout : 'fit',\n    \t\thtml: '<div id=\"logo-container\"></div>',\n    \t\tcollapseMode : undefined,\n\t\t\tcollapsible: true,\n\t\t\tanimCollapse: false,\n\t\t\ttitleCollapse: false,\n\t\t\tfloatable: false,\n\t\t\theader: true,\n\t\t\thideCollapseTool: true,\n\t\t\tlisteners: {\n\t\t\t\tcollapse: this.onCollapse\n\t\t\t},\n\t\t\ttitleAlign: 'center'\n    \t});\n        this.callParent(arguments);\n        \n        Ext.applyIf(config, {\n    \t\tmoreTools: ['corpusset','scatterplot','termsradio'],\n\t\t\tincludeTools: {\n\t\t\t\tsave: true,\n\t\t\t\tplus: true,\n\t\t\t\thelp: true,\n\t\t\t\tlanguage: this.getLanguageToolMenu(),\n\t\t\t\thome: {\n\t\t\t\t\ttype: 'home',\n\t\t\t\t\ttooltip: this.localize(\"homeTip\"),\n\t\t\t\t\txtype: 'toolmenu',\n\t                glyph: 'xf015@FontAwesome',\n\t        \t\thandler: function(btn) {\n\t        \t\t\tvar panel = this.up(\"panel\")\n\t        \t\t\tExt.Msg.confirm(panel.localize('home'), panel.localize('homeConfirm'), function(buttonId) {\n\t        \t\t\t\tif (buttonId=='yes') {\n\t        \t\t\t\t\tdocument.location.href = panel.getBaseUrl()\n\t        \t\t\t\t}\n\t        \t\t\t}, this);\n\t        \t\t}\n\t\t\t\t}\n\t\t\t}\n        })\n        \n    \tthis.mixins['Voyant.panel.Panel'].constructor.call(this, config);\n    },\n    \n    onCollapse: function(panel) {\n    \t// the title may be in flux when collapsing, so call defer setting of title\n    \tExt.defer(function() {this.setTitle(\"<img src='\"+this.getBaseUrl()+\"resources/images/voyant-logo-tiny.png' style='vertical-align: middle' alt='Voyant Tools' /> \"+this.localize('title'))}, 10, panel)\n    }\n});\n","Ext.define('Voyant.panel.CorpusSet', {\n\textend: 'Ext.panel.Panel',\n    requires: ['Voyant.panel.VoyantTabPanel','Voyant.panel.Cirrus', 'Voyant.panel.Summary', 'Voyant.panel.CorpusTerms', 'Voyant.panel.Reader', 'Voyant.panel.Documents', 'Voyant.panel.Trends', 'Voyant.panel.Contexts', 'Voyant.panel.Phrases', 'Voyant.panel.DocumentTerms','Voyant.panel.CorpusCollocates','Voyant.panel.CollocatesGraph','Voyant.panel.StreamGraph','Voyant.panel.TermsBerry'],\n\tmixins: ['Voyant.panel.Panel'],\n    alias: 'widget.corpusset',\n\tisConsumptive: true,\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tapi: {\n\t\t\tpanels: undefined\n\t\t},\n\t\tglyph: 'xf17a@FontAwesome'\n\t},\n\tconstructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\t},\n\tlayout: 'border',\n\theader: false,\n\titems: [{\n    \tregion: 'west',\n    \tflex: 3,\n    \tlayout: 'fit',\n        moreTools: ['cirrus','corpusterms'],\n        xtype: 'voyanttabpanel',\n    \tsplit: {width: 5},\n    \ttabBarHeaderPosition: 0,\n    \titems: [{\n\t    \txtype: 'cirrus'\n    \t},{\n\t    \txtype: 'corpusterms'\n    \t}, {\n    \t\txtype: 'collocatesgraph'\n    \t}]\n    },{\n        region: 'center',\n        flex: 3,\n        layout: 'fit',\n        xtype: 'voyanttabpanel',\n    \ttabBarHeaderPosition: 0,\n        items: [{\n\t        xtype: 'reader' // termsradio added and set to default during loadedCorpus below when in non-consumptive mode\n        },{\n\t        xtype: 'termsberry'\n        }]\n    }, {\n    \tregion: 'east',\n    \tflex: 3,\n    \tlayout: 'fit',\n        xtype: 'voyanttabpanel',\n    \tsplit: {width: 5},\n    \ttabBarHeaderPosition: 0,\n    \tmoreTools: ['trends','collocatesgraph','corpuscollocates'],\n        items: [{\n\t    \txtype: 'trends'\n        },{\n\t    \txtype: 'documentterms'\n        }]\n    }, {\n    \tregion: 'south',\n    \tflex: 2,\n    \tsplit: {width: 5},\n    \tlayout: 'border',\n//    \tlayout: {\n//    \t\ttype: 'hbox',\n//    \t\talign: 'stretch'\n//    \t},\n    \titems: [{\n\t\t\t\tlayout: 'fit',\n\t\t\t\tregion: 'center',\n    \t\t\tflex: 1,\n    \t        xtype: 'voyanttabpanel',\n    \t    \tsplit: {width: 5},\n    \t    \ttabBarHeaderPosition: 0,\n    \t\t\tmoreTools: ['summary','documents','phrases'],\n    \t\t\titems: [{\n\t    \t\t\txtype: 'summary'\n    \t\t\t},{\n\t    \t\t\txtype: 'documents'\n    \t\t\t},{\n\t    \t\t\txtype: 'phrases'\n    \t\t\t}]\n    \t\t},{\n\t\t\t\tlayout: 'fit',\n\t\t\t\tregion: 'east',\n    \t\t\tflex: 1,\n    \t        xtype: 'voyanttabpanel',\n    \t    \tsplit: {width: 5},\n    \t    \ttabBarHeaderPosition: 0,\n    \t\t\tmoreTools: ['contexts','documentterms'],\n    \t\t\titems: [{\n\t    \t\t\txtype: 'contexts'\n    \t\t\t},{\n\t    \t\t\txtype: 'bubblelines' // is set to default during loadedCorpus below when in non-consumptive mode\n    \t\t\t},{\n\t    \t\t\txtype: 'correlations'\n    \t\t\t}]\n    \t}]\n    }],\n    listeners: {\n    \tboxready: function() {\n    \t\tvar panelsString = this.getApiParam(\"panels\");\n    \t\tif (panelsString) {\n    \t\t\tvar panels = panelsString.toLowerCase().split(\",\");\n    \t\t\tvar tabpanels = this.query(\"voyanttabpanel\");\n    \t\t\tfor (var i=0, len=panels.length; i<len; i++) {\n    \t\t\t\tvar panel = panels[i];\n    \t\t\t\tif (panel && Ext.ClassManager.getByAlias('widget.'+panel) && tabpanels[i]) {\n    \t\t\t\t\tvar tabpanel = tabpanels[i];\n    \t\t\t\t\tif (tabpanel.getActiveTab().isXType(panel)) {continue;} // already selected\n    \t\t\t\t\ttabpanel.items.each(function(item, index) {\n    \t\t\t\t\t\tif (item.isXType(panel)) {\n    \t\t\t\t\t\t\tthis.setActiveTab(index)\n    \t\t\t\t\t\t\treturn false\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}, tabpanel)\n    \t\t\t\t\tif (tabpanel.getActiveTab().isXType(panel)) {continue;} // already switched\n    \t\t\t\t\ttabpanel.getActiveTab().replacePanel(panel); // switch to specified panel\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\t// add an easter egg\n    \t\tvar cirrus = this.down('cirrus');\n    \t\tvar me = this;\n    \t\tif (cirrus) {\n    \t\t\tvar toolbar = cirrus.down('toolbar');\n    \t\t\ttoolbar.add({xtype: 'tbfill'})\n    \t\t\ttoolbar.add({\n    \t\t\t\ttext: ' ',\n    \t\t\t\tlisteners: {\n    \t\t\t\t\tclick: {\n    \t\t\t\t\t\tfn: function() {\n\t        \t\t\t\t\tme.add({\n\t        \t\t\t\t\t\tregion: 'north',\n\t        \t\t\t\t\t\twidth: '100%',\n\t    \t\t\t\t\t\t\thtml: '<div align=\"center\"><table><tr><td><img src=\"http://stefansinclair.name/wordpress/wp-content/uploads/2011/07/Sinclair_Stefan_small.jpg\" style=\"height: 60px\"></td><td style=\"text-align: center; padding-left: 2em; padding-right: 2em;\">By Athena, you found us hidden<br>up here between the panels!</td><td><img src=\"http://geoffreyrockwell.com/images/home_09.jpg\" style=\"height: 60px\"></td></tr></table></div>'\n\t        \t\t\t\t\t})\n\t        \t\t\t\t}, single: true\n    \t\t\t\t\t},\n    \t\t\t\t\trender: function(b) {\n    \t\t\t\t\t\tb.getTargetEl().dom.className=''\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t});\n    \t\t}\n    \t\t\n    \t},\n    \tloadedCorpus: function(src, corpus) {\n    \t\tif (this.hasCorpusAccess(corpus)==false && !this.getApiParam('panels')) {\n    \t\t\tvar tabpanels = this.query(\"voyanttabpanel\");\n//    \t\t\ttabpanels[1].add({xtype: 'termsradio'}); // reader\n    \t\t\ttabpanels[1].setActiveTab(1); // reader\n    \t\t\ttabpanels[1].getActiveTab().fireEvent(\"loadedCorpus\", src, corpus); // make sure to load corpus\n    \t\t\ttabpanels[4].setActiveTab(1); // contexts\n    \t\t}\n    \t\tif (corpus.getDocumentsCount()>30) {\n    \t\t\tvar bubblelines = this.down('bubblelines');\n    \t\t\tif (bubblelines) {\n    \t\t\t\tbubblelines.up('voyanttabpanel').remove(bubblelines)\n    \t\t\t}\n    \t\t}\n    \t},\n    \tpanelChange: function(src) {\n    \t\tvar panels = [];\n    \t\tthis.query(\"voyanttabpanel\").forEach(function(item) {\n    \t\t\tpanels.push(item.getActiveTab().xtype)\n    \t\t})\n    \t\tthis.getApplication().setApiParam('panels', panels.join(','))\n    \t}\n    }\n})","Ext.define('Voyant.panel.ScatterSet', {\n\textend: 'Ext.panel.Panel',\n    requires: ['Voyant.panel.ScatterPlot','Voyant.panel.Documents', 'Voyant.panel.Trends', 'Voyant.panel.Contexts'],\n\tmixins: ['Voyant.panel.Panel'],\n    alias: 'widget.scatterset',\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tglyph: 'xf17a@FontAwesome'\n\t},\n\tconstructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\t},\n\tlayout: 'hbox',\n\theader: false,\n\titems: [{\n    \tflex: 3,\n    \theight: '100%',\n        xtype: 'scatterplot'\n    },{\n    \tsplit: {width: 5},\n        flex: 1,\n    \theight: '100%',\n        layout: 'vbox',\n        defaults: {\n        \twidth: '100%',\n        \tflex: 1\n        },\n        items: [{\n        \txtype: 'documents',\n        \tcollapsible: true\n        },{\n        \txtype: 'trends',\n        \tcollapsible: true\n        },{\n        \txtype: 'contexts',\n        \tcollapsible: true\n        }]\n    }]\n})","Ext.define('Voyant.panel.Subset', { \n\t\n\t\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel','Voyant.util.Downloadable'],\n\talias: 'widget.subset',\n\tisConsumptive: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstopList: 'auto',\n    \t\tdocumentFilename: ['pubDate','title'],\n    \t\tdocumentFormat: 'SOURCE'\n    \t},\n\t\tglyph: 'xf0ce@FontAwesome'\n    },\n    config: {\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\n\t\tinDocumentsCountOnly: false,\n\t\tstopList: 'auto',\n\t\tstore: undefined\n    },\n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);    \t\n    },\n    \n    \n    initComponent: function(config) {\n        var me = this;\n\n        Ext.applyIf(me, {\n        \tintroHtml: '',\n        \tfieldItems: [{\n\t        \t\txtype: 'querysearchfield',\n\t        \t\tfieldLabel: this.localize('titleLabel'),\n\t        \t\ttokenType: 'title'\n        \t\t},{\n\t        \t\txtype: 'querysearchfield',\n\t        \t\tfieldLabel: this.localize('authorLabel'),\n\t        \t\ttokenType: 'author'\n        \t\t},{\n\t        \t\txtype: 'querysearchfield',\n\t        \t\tfieldLabel: this.localize('lexicalLabel')\n        \t}],\n        \tfieldColumns: 2\n        });\n        \n        Ext.applyIf(me, {\n        \tintro: {\n        \t\tmargin: '5 0 5 0',\n        \t\tlayout: 'center',\n        \t\titems: {\n        \t\t\titemId: 'intro',\n            \t\thtml: me.introHtml\n        \t\t}\n        \t},\n        \tfields: {\n\t\t\t\txtype: 'container',\n        \t\tlayout: 'center',\n        \t\titems: {\n    \t\t\t\txtype: 'container',\n        \t\t\tmaxWidth: 1200,\n        \t\t\tlayout: {\n        \t\t\t\ttype: 'table',\n        \t\t\t\tcolumns: me.fieldColumns\n        \t\t\t},\n        \t\t\t// wrap in another container otherwise the tip won't work\n        \t\t\titems: me.fieldItems.map(function(item) {return {\n        \t\t\t\txtype: 'container',\n            \t\t\tdefaults: {\n            \t\t\t\tmargin: '5 10 5 10',\n                    \t\tinDocumentsCountOnly: me.getInDocumentsCountOnly(),\n                    \t\tstopList: me.getStopList(),\n                    \t\tshowAggregateInDocumentsCount: true,\n                    \t\tisDocsMode: true,\n                    \t\tflex: 1,\n                    \t\tmaxWidth: 800,\n                    \t\tlabelAlign: 'right'\n            \t\t\t},\n        \t\t\t\titems: Ext.applyIf(item, {\n        \t\t\t\t\tfieldLabel: me.localize((item.tokenType ? item.tokenType : 'lexical')+'Label')\n        \t\t\t\t})\n        \t\t\t}}, this)\n        \t\t}\n        \t},\n        \tfoot: {\n        \t\tlayout: 'center',\n        \t\tmargin: '20 0 0 0',\n        \t\titems: {\n        \t\t\txtype: 'container',\n        \t\t\tlayout: {\n        \t\t\t\ttype: 'hbox',\n        \t\t\t\talign: 'middle'\n        \t\t\t},\n        \t\t\tdefaults: {\n    \t        \t\tmargin: '0 5 0 5',\n//    \t        \t\tscale: 'large',\n    \t        \t\twidth: 200\n        \t\t\t},\n        \t\t\titems:  [{\n    \t        \t\txtype: 'button',\n    \t        \t\titemId: 'export',\n\t                    glyph: 'xf08e@FontAwesome',\n    \t        \t\ttext: this.localize('sendToVoyantButton'),\n    \t        \t\thandler: me.handleSendToVoyant,\n    \t        \t\tscope: me\n            \t\t},{\n    \t        \t\txtype: 'button',\n\t\t\t\t    \tglyph: 'xf019@FontAwesome',\n    \t        \t\titemId: 'download',\n    \t        \t\ttext: this.localize('downloadButton'),\n    \t        \t\thandler: me.handleExport,\n    \t        \t\tscope: me\n            \t\t},{\n            \t\t\txtype: 'container',\n            \t\t\thidden: true,\n            \t\t\titemId: 'statuscontainer',\n            \t\t\tlayout: 'vbox',\n            \t\t\titems: [{\n            \t\t\t\titemId: 'status',\n            \t\t\t\tbodyStyle: 'text-align: center',\n            \t\t\t\twidth: 200\n            \t\t\t},{\n            \t\t\t\txtype: 'container',\n            \t\t\t\twidth: 200,\n            \t\t\t\titems: {\n            \t    \t\t\txtype: 'sparklineline',\n            \t    \t\t\tchartRangeMin: 0,\n            \t    \t\t\titemId: 'sparkline',\n            \t    \t\t\tmargin: '0 0 0 10',\n            \t    \t\t\tvalues: [1,1],\n            \t    \t\t\theight: 20,\n            \t    \t\t\twidth: 200\n            \t\t\t\t}\n            \t\t\t}]\n            \t\t}]\n        \t\t}\n        \t}\n        })\n\n        Ext.applyIf(me, {\n        \titems: [me.intro, me.fields, me.foot]\n        });\n        \n    \tme.on('loadedCorpus', function(src, corpus) {\n    \t\tme.getStore().setCorpus(corpus);\n    \t\tif (me.getInitialConfig('introHtml')==undefined && me.getInitialConfig('intro')==undefined) {\n    \t\t\t me.queryById('intro').setHtml(corpus.getString())\n    \t\t}\n    \t}, me);\n    \t\n    \tme.on('query', function(src, queries) {\n    \t\tthis.performAggregateQuery(this.getAggregateQuery());\n    \t});\n    \t\n    \tme.setStore(Ext.create('Voyant.data.store.DocumentQueryMatches'))\n        me.callParent([config]);\n        \n    },\n    \n    handleSendToVoyant: function() {\n    \tif (!this.getStore().lastOptions || !this.getStore().lastOptions.params.query) {\n    \t\t// there's currently no query, so give the option of opening the current corpus in a new window\n    \t\tExt.Msg.alert(this.localize('sendToVoyantButton'), new Ext.XTemplate(this.localize('sendToVoyantNoQuery')).apply([this.getBaseUrl()+\"?corpus=\"+this.getStore().getCorpus().getId()]))\n    \t} else {\n    \t\t// try spawning a new corpus with the query\n    \t\tvar me = this;\n        \tthis.mask(\"Creating corpus\u2026\");\n        \tthis.getStore().load({\n        \t\tparams: {\n        \t\t\tquery: this.getStore().lastOptions.params.query,\n        \t\t\tcreateNewCorpus: true\n        \t\t},\n        \t\tcallback: function(records, operation, success) {\n        \t\t\tme.unmask();\n        \t\t\tif (success && records && records.length==1) {\n            \t\t\tvar corpus = operation.getProxy().getReader().metaData;\n        \t\t\t\tvar url = me.getBaseUrl()+\"?corpus=\"+corpus;\n        \t\t\t\tme.openUrl(url);\n        \t\t\t}\n        \t\t}\n        \t})\n    \t}\n    },\n    \n    handleExport: function() {\n    \tif (!this.getStore().lastOptions || !this.getStore().lastOptions.params.query) {\n    \t\tthis.downloadFromCorpusId(this.getStore().getCorpus().getId());\n    \t} else {\n    \t\tvar record = this.getStore().getAt(0);\n    \t\tif (this.getStore().lastOptions.params.query && record && record.getCount()==0) {\n    \t\t\tthis.showMsg({message: this.localize('noMatches')})\n    \t\t} else {\n    \t    \tthis.getStore().load({\n    \t    \t\tparams: {\n    \t    \t\t\tquery: this.getStore().lastOptions.params.query,\n    \t    \t\t\tcreateNewCorpus: true,\n    \t    \t\t\ttemporaryCorpus: true\n    \t    \t\t},\n    \t    \t\tcallback: function(records, operation, success) {\n    \t    \t\t\tif (success && records && records.length==1) {\n    \t    \t    \t\tthis.downloadFromCorpusId(operation.getProxy().getReader().metaData);\n    \t    \t\t\t}\n    \t    \t\t},\n    \t    \t\tscope: this\n    \t    \t})\n    \t\t}\n    \t}\n    },\n    \n    openDownloadCorpus: function(corpus) {\n\t\tvar url = this.getTromboneUrl()+\"?corpus=\"+corpus+\"&tool=corpus.CorpusExporter&outputFormat=zip\"+\n\t\t\t\"&zipFilename=DownloadedVoyantCorpus-\"+corpus+\".zip\"+\n\t\t\t(this.getApiParam(\"documentFormat\") ? \"&documentFormat=\"+this.getApiParam(\"documentFormat\") : '')+\n\t\t\t(this.getApiParam(\"documentFilename\") ? \"&documentFilename=\"+this.getApiParam(\"documentFilename\") : '')\n\t\tthis.openUrl(url)\n    },\n\n    performAggregateQuery: function(query) {\n    \tvar me = this, statuscontainer = me.queryById('statuscontainer'), status = me.queryById('status'), spark = me.queryById('sparkline');\n\t\tif (statuscontainer) {statuscontainer.show();}\n\t\tif (status) {status.setHtml(new Ext.XTemplate('{0:plural(\"documents\")} matching.').apply([0]))}\n\t\tif (spark) {spark.setValues([0,0]);}\n    \tif (query) {\n        \tvar docsCount = this.getStore().getCorpus().getDocumentsCount();\n        \tthis.getStore().load({\n        \t\tparams: {\n        \t\t\tquery: query,\n        \t\t\twithDistributions: true,\n        \t\t\tbins: docsCount > 100 ? 100 : docsCount \n        \t\t},\n        \t\tcallback: function(records, operation, success) {\n        \t\t\tvar exp = me.queryById('export');\n        \t\t\tvar spark = me.queryById('sparkline');\n        \t\t\tif (success && records && records.length==1) {\n        \t\t\t\tif (status) {\n        \t\t\t\t\tstatus.setHtml(new Ext.XTemplate('{0:plural(\"document\")} matching.').apply([records[0].getCount()]))\n        \t\t\t\t}\n        \t\t\t\tif (spark) {\n            \t\t\t\tspark.setValues(records[0].getDistributions())\n        \t\t\t\t}\n        \t\t\t}\n        \t\t}\n        \t})\n    \t} else if (this.getStore().lastOptions) { // set query to undefined so that send/export buttons work properly\n    \t\tthis.getStore().lastOptions.params.query = undefined\n    \t}\n    },\n    \n    getAggregateQuery: function() {\n\t\tvar aggregateQueries = [];\n\t\tExt.ComponentQuery.query('field', this).forEach(function(field) {\n\t\t\tif (field.getTokenType && field.getValue) {\n\t\t\t\tvar tokenType = field.getTokenType();\n\t\t\t\tvar vals = Ext.Array.from(field.getValue());\n\t\t\t\tif (vals.length>0) {\n\t\t\t\t\tif (vals.length>0) {\n        \t\t\t\taggregateQueries.push(\"+(\"+vals.map(function(val) {\n        \t\t\t\t\treturn tokenType+\":\"+val\n        \t\t\t\t}).join(\"|\")+\")\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn aggregateQueries.join(\" \");\n    }\n})\n","Ext.define('Voyant.panel.CollocatesSet', {\n\textend: 'Ext.panel.Panel',\n    requires: ['Voyant.panel.ScatterPlot','Voyant.panel.Documents', 'Voyant.panel.Trends', 'Voyant.panel.Contexts'],\n\tmixins: ['Voyant.panel.Panel'],\n    alias: 'widget.collocatesset',\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tglyph: 'xf17a@FontAwesome'\n\t},\n\tconstructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\t},\n\tlayout: 'vbox',\n\theader: false,\n\titems: [{\n\t\tlayout: 'hbox',\n\t\talign: 'stretch',\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tflex: 2,\n        defaults: {\n        \twidth: '100%',\n        \theight: '100%',\n        \tflex: 1,\n        \tframe: true,\n        \tborder: true\n        },\n        items: [{\n        \txtype: 'corpusterms'\n        },{\n        \txtype: 'documentterms'\n        },{\n        \txtype: 'corpuscollocates'\n        }]\n    },{\n    \twidth: '100%',\n    \theight: '100%',\n    \tsplit: {width: 5},\n\t\tlayout: 'hbox',\n\t\tflex: 3,\n        defaults: {\n        \twidth: '100%',\n        \theight: '100%',\n        \tflex: 1,\n        \tframe: true,\n        \tborder: true\n        },\n        items: [{\n        \txtype: 'contexts'\n        },{\n        \txtype: 'collocatesgraph'\n        }]\n    }]\n})","Ext.define('Voyant.panel.BubblelinesSet', {\n\textend: 'Ext.panel.Panel',\n    requires: ['Voyant.panel.Bubblelines','Voyant.panel.Contexts', 'Voyant.panel.Reader'],\n\tmixins: ['Voyant.panel.Panel'],\n    alias: 'widget.bubblelinesset',\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tglyph: 'xf17a@FontAwesome'\n\t},\n\tconstructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\t},\n\tlayout: 'vbox',\n\theader: false,\n\titems: [{\n\t\twidth: '100%',\n\t\theight: '100%',\n    \txtype: 'bubblelines',\n    \tflex: 5\n    },{\n    \twidth: '100%',\n    \theight: '100%',\n    \tsplit: {width: 5},\n\t\tlayout: 'hbox',\n\t\tflex: 4,\n        defaults: {\n        \twidth: '100%',\n        \theight: '100%',\n        \tflex: 1,\n        \tframe: true,\n        \tborder: true\n        },\n        items: [{\n        \txtype: 'contexts'\n        },{\n        \txtype: 'reader'\n        }]\n    }]\n})","Ext.define('Voyant.panel.CustomSet', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n    alias: 'widget.customset',\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tapi: {\n\t\t\tlayout: undefined,\n\t\t\ttableLayout: undefined\n\t\t},\n\t\tglyph: 'xf17a@FontAwesome'\n\t},\n\theader: false,\n\theight: '100%',\n\twidth: '100%',\n\t\n    constructor: function() {\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments); // force api load\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n\t\tif (this.getApiParam('layout')) {\n\t\t\tExt.apply(this,{\n\t\t\t\tlayout: 'border',\n\t\t\t\titems: []\n\t\t\t})\n\t\t} else if (this.getApiParam('tableLayout')) {\n\t\t\tthis.initTableLayout();\n\t\t}\n\t\tthis.callParent()\n    },\n\t\n\tlisteners: {\n\t\tloadedCorpus: function(src, corpus) {\n\t\t\tif (this.getApiParam('layout')) { // not sure why, but we seem to need to fire event for child panels\n\t\t\t\tthis.query(\"panel\").forEach(function(p) {\n\t\t\t\t\tp.fireEvent(\"loadedCorpus\", src, corpus);\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tboxready: function(panel) {\n\t\t\tif (this.getApiParam('layout')) {\n\t\t\t\tthis.initBorderLayoutComponents();\n\t\t\t} else if (this.getApiParam('tableLayout')) {\n\t\t    \tthis.doTableSizing();\n\t\t    \tthis.on('resize', function(panel, newwidth, newheight, oldwidth, oldheight) {\n\t\t\t\t\tif (oldwidth !== undefined && oldheight !== undefined) {\n\t\t\t        \tvar widthRatio = newwidth/oldwidth;\n\t\t\t        \tvar heightRatio = newheight/oldheight;\n\t\t\t        \tthis.doTableSizing(widthRatio, heightRatio);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t} else {\n\t\t\t\tthis.showError(this.localize('noLayoutSpecified'))\n\t\t\t}\n\t\t}\n\t\t\n\t},\n\t\n\tinitBorderLayoutComponents: function() {\n        var layoutString = decodeURI(this.getApiParam('layout'))\n        \t.replace(/r1/g, 'region')\n\t        .replace(/i1/g, 'items')\n\t        .replace(/s1/g, 'split')\n\t        .replace(/c1/g, 'collapsible')\n\t        .replace(/c2/g, 'collapsed')\n\t        .replace(/w1/g, 'width')\n\t        .replace(/h1/g, 'height')\n\t        .replace(/p1/g, '%')\n\t        .replace(/\"x1\":\"/g, '\"xtype\":\"')\n\t        .replace(/c3/g, 'center')\n\t        .replace(/n1/g, 'north')\n\t        .replace(/e1/g, 'east')\n\t        .replace(/s2/g, 'south')\n\t        .replace(/w2/g, 'west')\n\t    \t.replace(/\"xtype\":\"(\\w+)\"/g, function(match, tool) {\n            \tif (!Ext.ClassManager.getByAlias(\"widget.\"+tool.toLowerCase())) {\n\t\t            if (tool==\"Links\") {tool=\"CollocatesGraph\";}\n\t\t            else if (tool==\"CorpusGrid\") {tool=\"Documents\";}\n\t\t            else if (tool==\"CorpusSummary\") {tool=\"Summary\";}\n\t\t            else if (tool==\"CorpusTypeFrequenciesGrid\") {tool=\"CorpusTerms\";}\n\t\t            else if (tool==\"DocumentInputAdd\") {tool=\"CorpusTerms\";}\n\t\t            else if (tool==\"DocumentTypeCollocateFrequenciesGrid\") {tool=\"CorpusTerms\";}\n\t\t            else if (tool==\"DocumentTypeFrequenciesGrid\") {tool=\"DocumentTerms\";}\n\t\t            else if (tool==\"DocumentTypeKwicsGrid\") {tool=\"Contexts\";}\n\t\t            else if (tool==\"TypeFrequenciesChart\") {tool=\"Trends\";}\n\t\t            else if (tool==\"VisualCollocator\") {tool=\"CollocatesGraph\";}\n\t\t            else {tool=\"NoTool\"}\n            \t}\n            \treturn '\"xtype\":\"'+tool.toLowerCase()+'\"'+(tool==\"NoTool\" ? ',\"html\":\"'+new Ext.Template(panel.localize('noSuchTool')).applyTemplate([tool])+'\"' : '')\n\t\t    })\n        \n        var items;\n        try {\n            items = Ext.decode(layoutString);\n        } catch (e) {\n            items = {region: 'center', html: '<div>Error constructing layout:'+e+'</div>'};\n        }\n        \n        if (items == null) {\n        \titems = {region: 'center', html: '<div>Error: no layout information found.</div>'}\n        }\n        \n        this.addBorderLayouts(items);\n\n        this.on(\"add\", function(custom, cmp) {\n        \tcmp.on(\"boxready\", function(cmp) {\n//        \t\tcmp.query(\"panel\").forEach(function(p) {\n//        \t\t\tcustom;\n////        \t\t\tdebugger\n//        \t\t})\n        \t})\n        })\n        this.add(items);\n//        .on(\"boxready\", function() {\n//        \tdebugger\n//            if (this.getCorpus()) { // we may have loaded the corpus after the layout, so refire the event\n//            \tthis.getApplication().dispatchEvent(\"loadedCorpus\", this.getApplication(), corpus);\n//            }\n//        })\n        \n\t},\n\t\n\taddBorderLayouts: function(items) {\n    \tvar size = Ext.getBody().getSize();\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (Ext.isString(item.width)) {\n            \titem.width = Math.round(size.width * parseInt(item.width) / 100);\n            } else if (Ext.isString(item.height)) {\n            \titem.height = Math.round(size.height * parseInt(item.height) / 100);\n            }\n            if (item.items && item.items.length > 1) {\n                item.layout = 'border';\n                this.addBorderLayouts(item.items);\n            } else {\n                item.layout = 'fit';\n            }\n        }\n\t},\n\t\n\tinitTableLayout: function() {\n    \tExt.suspendLayouts();\n    \tvar tableLayout = decodeURI(this.getApiParam('tableLayout'));\n\n    \tif (tableLayout && tableLayout.charAt(0)!=\"{\" && tableLayout.charAt(0)!=\"[\") {\n    \t\tvar cells = [];\n    \t\ttableLayout.replace(/;/g,\",\").split(/,\\s*/).forEach(function(cell) {\n    \t\t\tcells.push(/^\"'/.test(cell) ? cell : '\"'+cell+'\"');\n    \t\t});\n    \t\ttableLayout = \"[\"+cells.join(\",\")+\"]\"; // treat as simple comma-separated string\n    \t}\n    \tvar layout = Ext.decode(tableLayout);\n    \tif (Ext.isArray(layout)) {\n    \t\tlayout = {\n        \t\tcells: layout\n        \t};\n    \t}\n    \tif (!layout.numCols && layout.cells && Ext.isArray(layout.cells)) {\n    \t\tif (layout.cells.length < 3) {\n    \t\t\tlayout.numCols = layout.cells.length;\n    \t\t} else if (layout.cells.length < 5) {\n    \t\t\tlayout.numCols = Math.ceil(layout.cells.length / 2);\n    \t\t} else {\n    \t\t\tlayout.numCols = Math.ceil(layout.cells.length / 3);\n    \t\t}\n    \t}\n        if (layout.numCols != null && layout.cells && Ext.isArray(layout.cells)) {\n        \tvar items = [];\n        \tfor (var i = 0; i < layout.cells.length; i++) {\n        \t\tvar cell = layout.cells[i];\n        \t\tif (Ext.isObject(cell)) {\n        \t\t\tcell.cellWidth = parseFloat(cell.width) || undefined;\n        \t\t\tcell.cellHeight = parseFloat(cell.height) || undefined;\n        \t\t\tdelete cell.width;\n        \t\t\tdelete cell.height;\n            \t\titems.push(cell);\n        \t\t} else if (Ext.isArray(cell)) {\n        \t\t\tvar colspan = 1, rowspan = 1; xtype = undefined;\n        \t\t\tif (cell[0] && Ext.isNumber(cell[0])) {\n        \t\t\t\tcolspan = cell[0];\n        \t\t\t\tcell.shift();\n        \t\t\t}\n        \t\t\tif (cell[0] && Ext.isString(cell[0])) {\n        \t\t\t\txtype = cell[0].toLowerCase();\n        \t\t\t\tcell.shift();\n        \t\t\t}\n        \t\t\tif (cell[0] && Ext.isNumber(cell[0])) {\n        \t\t\t\trowspan = cell[0];\n        \t\t\t}\n        \t\t\tif (xtype) {\n        \t\t\t\titems.push({\n        \t\t\t\t\tcolspan: colspan,\n        \t\t\t\t\trowspan: rowspan,\n        \t\t\t\t\txtype: xtype\n        \t\t\t\t})\n        \t\t\t}\n        \t\t} else if (Ext.isString(cell)) {\n        \t\t\titems.push({\n        \t\t\t\txtype: cell.toLowerCase(),\n        \t\t\t\tcolspan: 1,\n        \t\t\t\trowspan: 1\n        \t\t\t})\n        \t\t}\n        \t}\n        \tExt.apply(this, {\n        \t\tlayout: {\n        \t\t\ttype: 'table',\n        \t\t\twidth: '100%',\n    \t\t\t\theight: '100%',\n        \t\t\tcolumns: layout.numCols,\n        \t\t\ttableAttrs: {\n            \t\t\tstyle: {\n            \t\t\t\twidth: '100%',\n            \t\t\t\theight: '100%'\n            \t\t\t}\n            \t\t},\n            \t\ttdAttrs: {\n            \t\t\tstyle: {\n            \t\t\t\tpadding: '0px',\n            \t\t\t\tverticalAlign: 'top'\n            \t\t\t}\n            \t\t}\n        \t\t},\n        \t\tdefaults: { // place holder values to ensure that the children are rendered\n            \t\twidth: 10,\n            \t\theight: 10,\n            \t\tborder: true\n            \t},\n        \t\titems: items\n        \t});\n        } else {\n        \tthis.showError(\"badTableLayoutDefinition\")\n        }\n    \t\n    \tExt.resumeLayouts();\t\t\n\t},\n\tdoTableSizing: function(widthRatio, heightRatio) {\n    \tvar sizeMap = {};\n    \t\n    \tvar table = this.getTargetEl().down(\".x-table-layout\");\n    \tvar tableSize = table.getSize(false);\n    \t\n    \tvar rows = table.dom.rows;\n    \tfor (var i=0; i<rows.length; i++) {\n    \t\tvar cells = rows[i].cells;\n    \t\tfor (var j=0; j<cells.length; j++) {\n    \t\t\tvar cell = cells[j];\n    \t\t\tvar cellEl = Ext.get(cell);\n    \t\t\tvar panelEl = cellEl.down('.x-panel');\n    \t\t\tvar cmpId = panelEl.id;\n    \t\t\t\n    \t\t\tvar size;\n    \t\t\tif (widthRatio !== undefined && heightRatio !== undefined) {\n    \t\t\t\tsize = panelEl.getSize(false);\n    \t\t\t\tsize.width = size.width * widthRatio;\n            \t\tsize.height = size.height * heightRatio;\n            \t\t// FIXME multiple resize calls gradually reduce size\n    \t\t\t} else {\n    \t\t\t\tvar sizeObj = cellEl.getSize(false);\n    \t\t\t\t\n    \t\t\t\tvar cmp = Ext.getCmp(cmpId);\n    \t\t\t\tvar widthPercent = cmp.initialConfig.cellWidth;\n    \t\t\t\tvar heightPercent = cmp.initialConfig.cellHeight;\n    \t\t\t\t\n    \t\t\t\tif (widthPercent !== undefined) {\n    \t\t\t\t\tsizeObj.width = tableSize.width * (widthPercent/100);\n    \t\t\t\t\tcellEl.setWidth(sizeObj.width);\n    \t\t\t\t}\n    \t\t\t\tif (heightPercent !== undefined) {\n    \t\t\t\t\tsizeObj.height = tableSize.height * (heightPercent/100);\n    \t\t\t\t\tcellEl.setHeight(sizeObj.height);\n    \t\t\t\t}\n    \t\t\t\t\n    \t\t\t\tsize = sizeObj; \n    \t\t\t}\n    \t\t\t\n    \t\t\tsizeMap[cmpId] = size;\n    \t\t}\n    \t}\n    \t\n    \tfor (var id in sizeMap) {\n    \t\tvar size = sizeMap[id];\n    \t\tExt.getCmp(id).setSize(size);\n    \t}\n\n    \tthis.updateLayout();\n\t}\n})","Ext.define('Voyant.panel.Veliza', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n    xtype: 'veliza',\n\tautoScroll: true,\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tscript: '',\n    \t\tmessage: undefined\n    \t},\n\t\tglyph: 'xf0e6@FontAwesome'\n    },\n    config: {\n    \tprevious: []\n    },\n    \n    constructor: function() {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n        var me = this;\n        Ext.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tglyph: 'xf0e6@FontAwesome',\n    \t    layout: {\n    \t        type: 'border',\n    \t        align: 'stretch'\n    \t    },\n    \t\titems: [{\n    \t\t\titemId: 'chat',\n\t    \t\thtml: \"<form class='chat'></form>\",\n\t    \t\tregion: 'center',\n\t    \t\tflex: 2,\n\t    \t\tautoScroll: true\n    \t\t},{\n    \t\t\titemId: 'script',\n    \t\t\txtype: 'form',\n    \t\t\tregion: 'east',\n    \t\t\tsplit: true,\n    \t\t\ttitle: this.localize('scriptEditor'),\n        \t    layout: {\n        \t        type: 'vbox',\n        \t        align: 'stretch'\n        \t    },\n    \t\t\titems: [{\n    \t\t\t\thtml: new Ext.XTemplate(this.localize('scriptIntro')).apply([me.getBaseUrl()+\"docs/#!/guide/veliza\"])\n    \t\t\t},{\n    \t\t\t\txtype: 'textarea',\n    \t\t\t\tname: 'editor',\n    \t\t\t\tfieldStyle: \"white-space: pre\",\n    \t\t\t\tvalue: me.getApiParam('script'),\n    \t\t\t\tflex: 1,\n    \t\t\t\tlisteners: {\n    \t\t\t\t\tafterrender: function(editor) {\n    \t\t\t\t\t\tvar corpus = me.getApiParam('corpus');\n    \t\t\t\t\t\tif (!corpus) {return}\n    \t\t\t\t\t\teditor.mask(me.localize('loadingScript'));\n    \t\t\t\t\t\tExt.Ajax.request({\n    \t\t\t\t\t\t\turl: me.getTromboneUrl(),\n    \t\t\t\t\t\t\tparams: {\n    \t\t\t\t\t\t\t\ttool: 'corpus.Veliza',\n    \t\t\t\t\t\t\t\tscript: me.getApiParam('script'),\n    \t\t\t\t\t\t\t\tcorpus: corpus\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t}).then(function(response) {\n    \t\t\t\t\t\t\tvar obj = Ext.decode(response.responseText);\n    \t\t\t\t\t\t\tif (obj && obj.veliza && obj.veliza.script) {\n    \t\t\t\t\t\t\t\teditor.setValue(obj.veliza.script);\n    \t\t\t\t\t\t\t\teditor.resetOriginalValue();\n    \t\t\t\t\t\t\t} else if (obj && obj.veliza && obj.veliza.id) {\n    \t\t\t\t\t\t\t\tme.setApiParam('script', obj.veliza.id);\n    \t\t\t\t\t\t\t} else {\n    \t\t\t\t\t\t\t\tme.showError(me.localize('unableFetchScript'));\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\teditor.unmask()\n    \t\t\t\t\t\t}, function(response) {\n    \t\t\t\t\t\t\tme.showError(response)\n    \t\t\t\t\t\t})\n    \t\t\t\t\t},\n    \t\t\t\t\tscope: this\n    \t\t\t\t}\n    \t\t\t}],\n    \t\t\tcollapsed: true,\n    \t\t\tcollapsible: true,\n    \t\t\tflex: 1\n    \t\t}],\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n        \t\t\txtype: 'textfield',\n        \t\t\titemId: 'chatfield',\n        \t\t\temptyText: this.localize(\"typeAndEnter\"),\n        \t\t\tflex: 1,\n        \t\t\tlisteners: {\n                        specialkey: function(field, e){\n                            if (e.getKey() == e.ENTER) {\n                            \tme.handleUserSentence(field.getValue())\n                            \tfield.setValue(\"\");\n                            }\n                        }\n                    }\n                },{\n        \t\t\txtype: 'button',\n        \t\t\ttext: this.localize('send'),\n        \t\t\thandler: function() {\n        \t\t\t\tvar tf = this.up(\"toolbar\").down('textfield');\n        \t\t\t\tme.handleUserSentence(tf.getValue(), false);\n        \t\t\t\ttf.setValue('');\n        \t\t\t}\n        \t\t},{\n        \t\t\txtype: 'button',\n        \t\t\ttext: this.localize('fromCorpus'),\n        \t\t\thandler: function() {\n        \t\t\t\tme.handleUserSentence(\"\", true)\n        \t\t\t}\n        \t\t}]\n    \t\t}]\n        })\n             \n        this.callParent();\n        \n    \tthis.on('boxready', function(cmp) {\n    \t\tcmp.addSentence(\"fromThem\", \"Hello, I'm Veliza, and I'm here to talk to you about your texts (you may know my sister <a href='https://en.wikipedia.org/wiki/ELIZA' target='_blank'>Eliza</a> she's a famous psychotherapist). I'm just learning to talk about text documents, but please, let me know about any anxieties you're feeling about your texts. Type a message in the box below and hit enter. Or, if you're feeling playful, hit the <i>from text</i> bottom in the lower right-hand corner to fetch a sentence from the corpus.\");\n    \t\tthis.sendApiParamMessage();\n    \t})\n\n    }, \n    \n    sendApiParamMessage: function() {\n\t\tif (this.getApiParam('message')) {\n\t\t\tif (this.getCorpus()) {\n\t\t\t\tvar sentences = Ext.Array.from(this.getApiParam('message'));\n\t\t\t\tvar sentence = sentences.shift();\n\t\t\t\tif (sentence) {\n\t\t\t\t\tif (sentences) {\n\t\t\t\t\t\tthis.setApiParam(\"message\", sentences);\n\t\t\t\t\t}\n\t\t\t\t\tthis.handleUserSentence(sentence, undefined, true)\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// try to wait for the corpus to be loaded\n\t\t\t\tExt.defer(this.sendApiParamMessage, 100, this, [true])\n\t\t\t}\n\t\t}\n    },\n    \n    \n    handleUserSentence: function(sentence, fromCorpus, noScroll) {\n    \tsentence = sentence.trim();\n    \tif (sentence || fromCorpus) {\n    \t\tif (sentence) {\n    \t    \tthis.addSentence(\"myMessage\", sentence);\n    \t\t}\n\t    \tthis.mask();\n    \t\tvar me = this;\n    \t\tvar editor = this.getComponent('script').down('textarea');\n    \t\tExt.Ajax.request({\n    \t\t\turl: this.getApplication().getTromboneUrl(),\n    \t\t\tparams: {\n    \t\t\t\tcorpus: me.getCorpus() ? me.getCorpus().getId() : undefined,\n    \t\t\t\ttool: 'corpus.Veliza',\n    \t\t\t\tsentence: sentence,\n    \t\t\t\t//previous: this.getPrevious(),\n    \t\t\t\tfromCorpus: fromCorpus ? true : false,\n    \t\t\t\tscript: editor.isDirty() ? editor.getValue() : this.getApiParam('script'),\n    \t\t\t\tnoCache: Ext.id()\n    \t\t\t},\n    \t\t    success: function(response, opts) {\n    \t\t    \tme.unmask();\n    \t\t    \tvar response = Ext.decode(response.responseText);\n    \t\t    \tif (response.veliza.id) {\n    \t\t    \t\tme.setApiParam('script', response.veliza.id);\n    \t\t    \t\teditor.resetOriginalValue();\n    \t\t    \t}\n    \t\t    \tvar veliza = response.veliza.response;\n    \t\t    \tvar hidden = veliza.match(/<\\!-- (.+?) --\u003e/);\n    \t\t    \tif (hidden) {\n    \t\t    \t\tvar json =  Ext.decode(hidden[1]);\n    \t\t    \t\tfor (key in json.params) {\n    \t\t    \t\t\tjson.params[key] = json.params[key].trim();\n    \t\t    \t\t}\n    \t\t    \t\tveliza += \"<br/><iframe width='\"+(json.width ? json.width : '100%')+\"' height='\"+(json.height ? json.height : '250px')+\"' src='\"+me.getApplication().getBaseUrl()+'tool/'+json.tool+'/?corpus='+me.getCorpus().getId()+'&minimal=true&'+Ext.Object.toQueryString(json.params)+\"'></iframe>\"\n    \t\t    \t}\n    \t\t    \tvar sentence = response.veliza.sentence;\n    \t\t    \tme.setPrevious(response.veliza.previous);\n\n    \t\t    \tif (fromCorpus) {\n    \t\t    \t\tmeta = response.veliza.docIndex > -1 ? me.getCorpus().getDocument(response.veliza.docIndex).getShortLabel() : undefined;\n    \t\t    \t\tme.addSentence(\"myMessage\", sentence, meta);\n        \t\t\t    \tExt.Function.defer(function() {\n                \t\t    \tthis.addSentence(\"fromThem\", veliza);\n                \t\t    \tif (!noScroll) {\n                    \t\t    \tthis.body.scroll('b', Infinity)                \t\t    \t\t\n                \t\t    \t}\n        \t\t\t    \t}, 500, me);\n    \t\t    \t} else {\n        \t\t    \tme.addSentence(\"fromThem\", veliza);\n        \t\t    \tif (!noScroll) {\n            \t\t    \tme.body.scroll('b', Infinity)                \t\t    \t\t\n        \t\t    \t}\n    \t\t    \t}\n    \t\t    \tif (me.getApiParam(\"message\")) { // any more messages to show?\n    \t\t    \t\tme.sendApiParamMessage();\n    \t\t    \t}\n    \t\t    },\n    \t\t    failure: function(response, opts) {\n    \t\t    \tme.showResponseError(\"Unable to get response from Veliza.\", response);\n    \t\t    }\n    \t\t})\n    \t}\n    },\n\n    addSentence: function(speaker, sentence, meta) {\n    \tvar body = this.getComponent('chat').body;\n    \tvar el = body.down(\"form\").insertHtml('beforeEnd', '<div class=\"message\"><div class=\"'+speaker+'\"><p>'+sentence+'</p>'+(meta ? \"<date>\"+meta+\"</date>\" : \"\")+'</div></div>', true);\n    \tbody.scroll('b', Infinity);\n    }\n});","Ext.define('Voyant.panel.WordTree', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.wordtree',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tquery: undefined,\n    \t\tdocId: undefined,\n    \t\tdocIndex: undefined,\n    \t\tstopList: 'auto',\n    \t\tcontext: 10,\n    \t\tlimit: 100\n    \t},\n\t\tglyph: 'xf0e8@FontAwesome'\n    },\n    \n    config: {\n    \ttree: undefined,\n    \tkwicStore: undefined,\n    \toptions: [{xtype: 'stoplistoption'},{xtype: 'categoriesoption'}],\n    \tnumBranches: 5,\n    \tlastClick: 1\n    },\n    \n    doubleClickDelay: 300,\n    \n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n        Ext.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n                \txtype: 'querysearchfield'\n                },\n                \t'<span data-qtip=\"'+this.localize('poolTip')+'\" class=\"info-tip\">'+this.localize('pool')+\"</span>\"\n                , {\n                \txtype: 'slider',\n                \titemId: 'poolSlider',\n                \tminValue: 10,\n                \tvalue: 100,\n                \tmaxValue: 1000,\n                \tincrement: 5,\n                \twidth: 50,\n                \tlisteners: {\n                \t\trender: function(slider) {\n                \t\t\tslider.setValue(this.getApiParam('limit'));\n                \t\t},\n                \t\tchangecomplete: function(slider, newValue) {\n                \t\t\tthis.setApiParam('limit', slider.getValue());\n                \t\t\tthis.reload();\n                \t\t},\n                \t\tscope: this\n                \t}\n                }, \n                \t'<span data-qtip=\"'+this.localize('branchesTip')+'\" class=\"info-tip\">'+this.localize('branches')+\"</span>\"\n    \t\t\t,{\n                \n                \txtype: 'slider',\n                \titemId: 'branchesSlider',\n                \tminValue: 2,\n                \tvalue: 5,\n                \tmaxValue: 15,\n                \tincrement: 1,\n                \twidth: 50,\n                \tlisteners: {\n                \t\trender: function(slider) {\n                \t\t\tslider.setValue(this.getNumBranches());\n                \t\t},\n                \t\tchangecomplete: function(slider, newValue) {\n                \t\t\tthis.setNumBranches(slider.getValue());\n                \t\t\tthis.reload();\n                \t\t},\n                \t\tscope: this\n                \t}\n                },\n            \t'<span data-qtip=\"'+this.localize('contextTip')+'\" class=\"info-tip\">'+this.localize('context')+\"</span>\"\n            \t, {\n                \txtype: 'slider',\n                \titemId: 'contextSlider',\n                \tminValue: 3,\n                \tvalue: 10,\n                \tmaxValue: 20,\n                \tincrement: 2,\n                \twidth: 50,\n                \tlisteners: {\n                \t\trender: function(slider) {\n                \t\t\tslider.setValue(this.getApiParam('context'));\n                \t\t},\n                \t\tchangecomplete: function(slider, newValue) {\n                \t\t\tthis.setApiParam('context', slider.getValue());\n                \t\t\tthis.reload();\n                \t\t},\n                \t\tscope: this\n                \t}\n                }]\n    \t\t}]\n        });\n        \n        this.setKwicStore(Ext.create('Voyant.data.store.Contexts', {\n        \tparentPanel: this,\n        \tproxy: {\n        \t\textraParams: {\n                \tstripTags: 'all'            \t\t\t\n        \t\t}\n        \t},\n        \tlisteners: {\n        \t\tload: function(store, records, success, operation) {\n        \t\t\tif (success) {\n        \t\t\t\tthis.parseRecords(records);\n        \t\t\t}\n        \t\t},\n        \t\tscope: this\n        \t}\n        }));\n        \n        this.on('loadedCorpus', function(src, corpus) {\n        \tvar corpusTerms = corpus.getCorpusTerms({autoLoad: false});\n    \t\tcorpusTerms.load({\n    \t\t    callback: function(records, operation, success) {\n    \t\t    \tif (success && records.length>0) {\n    \t\t    \t\tvar firstTerm = records[0].getTerm();\n    \t\t    \t\tthis.setRoot(firstTerm);\n    \t\t    \t}\n    \t\t    },\n    \t\t    scope: this,\n    \t\t    params: {\n    \t\t\t\tlimit: 1,\n    \t\t\t\tquery: this.getApiParam('query'),\n    \t\t\t\tstopList: this.getApiParam('stopList')\n    \t\t\t}\n        \t});\n        }, this);\n        \n        this.on('query', function(src, query) {\n    \t\tif (query !== undefined && query != '') {\n    \t\t\tthis.setRoot(query);\n    \t\t}\n        }, this);\n        \n        this.on('termsClicked', function(src, terms) {\n        \tvar queryTerms = [];\n    \t\tterms.forEach(function(term) {\n    \t\t\tif (Ext.isString(term)) {queryTerms.push(term);}\n    \t\t\telse if (term.term) {queryTerms.push(term.term);}\n    \t\t\telse if (term.getTerm) {queryTerms.push(term.getTerm());}\n    \t\t});\n    \t\tthis.setRoot(queryTerms);\n\t\t}, this);\n        \n        this.on('documentTermsClicked', function(src, terms) {\n    \t\tvar queryTerms = [];\n    \t\tterms.forEach(function(term) {\n    \t\t\tif (term.getTerm()) {queryTerms.push(term.getTerm());}\n    \t\t});\n    \t\tthis.setRoot(queryTerms);\n    \t}, this);\n        \n        this.on('resize', function(panel, width, height) {\n        \tvar tree = this.getTree();\n        \tif (tree !== undefined) {\n        \t\ttree.visWidth(width).visHeight(height);\n        \t\t// TODO preserve expanded branches\n        \t\ttree.redraw();\n        \t}\n\t\t}, this);\n        \n        this.on('boxready', this.initGraph, this);\n        \n        this.callParent(arguments);\n    },\n    \n    parseRecords: function(records) {\n    \tvar parsedRecords = [];\n\t\tfor (var i = 0; i < records.length; i++) {\n\t\t\tvar r = records[i];\n\t\t\tvar pr = {\n\t\t\t\tid: i,\n\t\t\t\tprefix: r.getLeft().trim().split(/\\s+/),\n\t\t\t\thit: r.getMiddle(),\n\t\t\t\tsuffix: r.getRight().trim().split(/\\s+/)\n\t\t\t};\n\t\t\tparsedRecords.push(pr);\n\t\t}\n\t\t\n\t\t// find top tokens and sort records by them\n\t\tvar prefixTokenCounts = {};\n\t\tvar suffixTokenCounts = {};\n\t\tfor (var i = 0; i < parsedRecords.length; i++) {\n\t\t\tvar pr = parsedRecords[i];\n\t\t\tvar prefixToken = pr.prefix[pr.prefix.length-1];\n\t\t\tvar suffixToken = pr.suffix[0];\n\t\t\tif (prefixTokenCounts[prefixToken]) {\n\t\t\t\tprefixTokenCounts[prefixToken]++;\n\t\t\t} else {\n\t\t\t\tprefixTokenCounts[prefixToken] = 1;\n\t\t\t}\n\t\t\tif (suffixTokenCounts[suffixToken]) {\n\t\t\t\tsuffixTokenCounts[suffixToken]++;\n\t\t\t} else {\n\t\t\t\tsuffixTokenCounts[suffixToken] = 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar sortableTokens = [];\n\t\tfor (var i = 0; i < parsedRecords.length; i++) {\n\t\t\tvar pr = parsedRecords[i];\n\t\t\tvar prefixToken = pr.prefix[pr.prefix.length-1];\n\t\t\tvar suffixToken = pr.suffix[0];\n\t\t\t\n\t\t\tsortableTokens.push({\n\t\t\t\tsuffix: suffixToken, suffixCount: suffixTokenCounts[suffixToken],\n\t\t\t\tprefix: prefixToken, prefixCount: prefixTokenCounts[prefixToken]\n\t\t\t});\n\t\t\t\n\t\t}\n\t\t\n\t\tvar prioritizeSuffix = false;\n\t\t// multi-sort\n\t\tsortableTokens.sort(function(a, b) {\n\t\t\tvar s1 = a.suffixCount;\n\t\t\tvar s2 = b.suffixCount;\n\t\t\t\n\t\t\tvar p1 = a.prefixCount;\n\t\t\tvar p2 = b.prefixCount;\n\t\t\t\n\t\t\tif (prioritizeSuffix) {\n\t\t\t\tif (s1 > s2) return -1;\n\t\t\t\tif (s1 < s2) return 1;\n\t\t\t\tif (p1 > p2) return -1;\n\t\t\t\tif (p1 < p2) return 1;\n\t\t\t} else {\n\t\t\t\tif (p1 > p2) return -1;\n\t\t\t\tif (p1 < p2) return 1;\n\t\t\t\tif (s1 > s2) return -1;\n\t\t\t\tif (s1 < s2) return 1;\n\t\t\t}\n\t\t\t\n\t\t\treturn 0;\n\t\t});\n\t\t\n\t\tvar len = Math.min(this.getNumBranches(), sortableTokens.length);\n\t\tvar topSuffixTokens = [];\n\t\tvar topPrefixTokens = [];\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\ttopSuffixTokens.push(sortableTokens[i].suffix);\n\t\t\ttopPrefixTokens.push(sortableTokens[i].prefix);\n\t\t}\n\t\t\n\t\t// use top tokens to limit results\n\t\tvar prefixes = [], hits = [], suffixes = [], ids = [];\n\t\tfor (var i = 0; i < parsedRecords.length; i++) {\n\t\t\tvar parsedRecord = parsedRecords[i];\n\t\t\tif (topSuffixTokens.indexOf(parsedRecord.suffix[0]) != -1 || topPrefixTokens.indexOf(parsedRecord.suffix[0]) != -1) {\n\t\t\t\tprefixes.push(parsedRecord.prefix);\n\t\t\t\thits.push(parsedRecord.hit);\n\t\t\t\tsuffixes.push(parsedRecord.suffix);\n\t\t\t\tids.push(parsedRecord.id);\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar caseSensitive = false;\n\t\tvar fieldNames = [\"token\", \"POS\"];\n\t\tvar fieldDelim = \"/\";\n\t\tvar distinguishingFieldsArray = [\"token\", \"POS\"];\n\t\tthis.getTree().setupFromArrays(prefixes, hits, suffixes, ids, caseSensitive, fieldNames, fieldDelim, distinguishingFieldsArray);\n\t\t\n\t\tif (!this.getTree().succeeded()) {\n\t\t\tthis.toastInfo({\n   \t\t\t\thtml: this.localize(\"emptyText\"),\n   \t\t\t\talign: 'bl'\n   \t\t\t});\n\t\t}\n    },\n    \n    initGraph: function() {\n    \tvar el = this.getLayout().getRenderTarget();\n    \tvar w = el.getWidth();\n    \tvar h = el.getHeight();\n    \t\n    \tvar dt = new doubletree.DoubleTree();\n    \tdt.init('#'+el.getId())\n    \t\t.visWidth(w).visHeight(h)\n    \t\t.handlers({\n    \t\t\tclick: this.clickHandler.bind(this)\n    \t\t});\n    \t\n    \tthis.setTree(dt);\n    \t\n    \t// explicitly set dimensions\n//    \tel.setWidth(el.getWidth());\n//    \tel.setHeight(el.getHeight());\n    },\n    \n    clickHandler: function(node) {\n    \tvar now = new Date().getTime();\n    \tif (this.getLastClick() && now-this.getLastClick()<this.doubleClickDelay) {\n    \t\tthis.setLastClick(1);\n    \t\tvar terms = [], parent = node;\n        \twhile (parent != null) {\n        \t\tterms.push(parent.name);\n        \t\tparent = parent.parent;\n        \t}\n        \tthis.getApplication().dispatchEvent('termsClicked', this, [terms.reverse().join(\" \")]);\n    \t} else {\n    \t\tthis.setLastClick(now);\n    \t}\n    },\n    \n//    doubleClickHandler: function(node) {\n//// dispatch phrase click instead of recentering (which can be done with search)\n////    \tthis.setRoot(node.name);\n//    },\n//    \n    setRoot: function(query) {\n    \tthis.setApiParam('query', this.stripPunctuation(query));\n\t\tthis.getKwicStore().load({params: this.getApiParams()});\n    },\n    \n    reload: function() {\n    \tvar query = this.getApiParam('query');\n    \tif (query !== undefined) {\n    \t\tthis.setRoot(query);\n    \t}\n    },\n    \n    stripPunctuation: function(value) {\n    \tif (Ext.isString(value)) return value.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, '');\n    \telse {\n    \t\tvar values = [];\n    \t\tvalue.forEach(function(v) {\n    \t\t\tvalues.push(v.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, ''));\n    \t\t});\n    \t\treturn values;\n    \t}\n    \treturn '';\n    }\n});\n\n","Ext.define('Voyant.panel.WordWall', {\n    extend: 'Ext.panel.Panel',\n    mixins: ['Voyant.panel.Panel','Voyant.util.DiacriticsRemover'],\n    alias: 'widget.wordwall',\n    statics: {\n        i18n: {\n        },\n        api: {\n            limit: 500,\n            stopList: 'auto'\n        },\n        glyph: 'xf1e0@FontAwesome'\n    },\n    \n    config: {\n        visId: undefined,\n        vis: undefined,\n        simulation: undefined, // force layout\n        nodes: undefined, // svg nodes\n        tempNodes: undefined, // used to calculate text size and bounding boxes\n        zoom: undefined,\n\n        terms: undefined,\n        segments: undefined,\n\n        filterOutUniqueTerms: true, // whether to remove terms that don't appear in all segments\n\n        currentSegment: undefined,\n        segmentTerms: undefined,\n        segmentTermsQueue: [],\n\n        segmentDelay: 5000, // delay before displaying new segment data\n        segmentDelayTimer: undefined,\n        \n        webWorker: undefined,\n        isSimulating: false, // are we running a webworker simulation?\n        \n        transitionTime: 2000, // time to transition between old and new nodes\n        isTransitioning: false, // are we transitioning between nodes?\n        \n\n        minFreq: undefined,\n        maxFreq: undefined,\n        letterDistribution: undefined,\n        \n        frequencyScale: undefined,\n\n        xForceStrength: 0.2,\n        yForceStrength: 0.1,\n        \n        chargeStrength: -75,\n        chargeDistance: 100,\n\n        minFontSize: 7,\n        maxFontSize: 60\n    },\n\n    count: 0,\n\n    MIN_TERMS: 10,\n    MAX_TERMS: 2000,\n    \n    MIN_SCALING: 1,\n    MAX_SCALING: 20,\n    \n    debugMsg: false,\n\n    constructor: function(config) {\n        this.mixins['Voyant.util.DiacriticsRemover'].constructor.apply(this, arguments);\n\n        this.setVisId(Ext.id(null, 'wordwall_'));\n\n        this.callParent(arguments);\n        this.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function() {\n        Ext.apply(this, {\n            title: this.localize('title'),\n            dockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [this.localize('terms'),{\n                    width: 50,\n                    xtype: 'slider',\n                    minValue: this.MIN_TERMS,\n                    maxValue: this.MAX_TERMS,\n                    increment: 10,\n                    listeners: {\n                        render: function(slider) {\n                            slider.setValue(this.getApiParam('limit'));\n                        },\n                        changecomplete: function(slider, newValue) {\n                            this.setApiParam('limit', slider.getValue());\n                            this.initLoad();\n                        },\n                        scope: this\n                    }\n                },this.localize('delay'),{\n                    width: 50,\n                    xtype: 'slider',\n                    minValue: 1,\n                    maxValue: 60,\n                    increment: 1,\n                    listeners: {\n                        render: function(slider) {\n                            slider.setValue(this.getSegmentDelay()/1000);\n                        },\n                        changecomplete: function(slider, newValue) {\n                            this.setSegmentDelay(slider.getValue()*1000);\n                            this.restartSegmentTimer();\n                        },\n                        scope: this\n                    }\n                },this.localize('transition'),{\n                    width: 50,\n                    xtype: 'slider',\n                    minValue: 100,\n                    maxValue: 5000,\n                    increment: 1,\n                    listeners: {\n                        render: function(slider) {\n                            slider.setValue(this.getTransitionTime());\n                        },\n                        changecomplete: function(slider, newValue) {\n                            this.setTransitionTime(slider.getValue());\n                        },\n                        scope: this\n                    }\n                },this.localize('xStrength'),{\n                    width: 50,\n                    xtype: 'slider',\n                    minValue: 0,\n                    maxValue: 1000,\n                    increment: 10,\n                    listeners: {\n                        render: function(slider) {\n                            slider.setValue(this.getXForceStrength()*1000);\n                        },\n                        changecomplete: function(slider, newValue) {\n                            this.setXForceStrength(slider.getValue()/1000);\n                        },\n                        scope: this\n                    }\n                },this.localize('yStrength'),{\n                    width: 50,\n                    xtype: 'slider',\n                    minValue: 0,\n                    maxValue: 1000,\n                    increment: 10,\n                    listeners: {\n                        render: function(slider) {\n                            slider.setValue(this.getYForceStrength()*1000);\n                        },\n                        changecomplete: function(slider, newValue) {\n                            this.setYForceStrength(slider.getValue()/1000);\n                        },\n                        scope: this\n                    }\n                },this.localize('chargeStrength'),{\n                    width: 50,\n                    xtype: 'slider',\n                    minValue: -1000,\n                    maxValue: 0,\n                    increment: 10,\n                    listeners: {\n                        render: function(slider) {\n                            slider.setValue(this.getChargeStrength());\n                        },\n                        changecomplete: function(slider, newValue) {\n                            this.setChargeStrength(slider.getValue());\n                        },\n                        scope: this\n                    }\n                },this.localize('chargeDistance'),{\n                    width: 50,\n                    xtype: 'slider',\n                    minValue: 0,\n                    maxValue: 1000,\n                    increment: 10,\n                    listeners: {\n                        render: function(slider) {\n                            slider.setValue(this.getChargeDistance());\n                        },\n                        changecomplete: function(slider, newValue) {\n                            this.setChargeDistance(slider.getValue());\n                        },\n                        scope: this\n                    }\n                },{\n                    xtype: 'button',\n                    text: this.localize('stop'),\n                    handler: function(b) {\n                        if (b.getText() === this.localize('stop')) {\n                            clearInterval(this.getSegmentDelayTimer());\n                            b.setText(this.localize('start'))\n                        } else {\n                            this.restartSegmentTimer();\n                            b.setText(this.localize('stop'));\n                        }\n                    },\n                    scope: this\n                },{\n                    itemId: 'status',\n                    xtype: 'tbtext',\n                    text: ''\n                }]\n            }]\n        });\n        \n        this.on('loadedCorpus', function(src, corpus) {\n            if (this.isVisible()) {\n                this.initLoad();\n            }\n        }, this);\n        \n        this.on('resize', function(panel, width, height) {\n            var vis = Ext.get(this.getVisId());\n            if (vis) {\n                var el = this.body;//this.getLayout().getRenderTarget();\n                var elHeight = el.getHeight();\n                var elWidth = el.getWidth();\n                \n                vis.el.dom.setAttribute('width', elWidth);\n                vis.el.dom.setAttribute('height', elHeight);\n//                this.getSimulation()\n//                    .force('x', d3.forceX(elWidth/2))\n//                    .force('y', d3.forceY(elHeight/2));\n            }\n        }, this);\n        \n        this.callParent(arguments);\n    },\n    \n    initVis: function() {\n        var el = this.getLayout().getRenderTarget();\n        el.update('');\n        var width = el.getWidth();\n        var height = el.getHeight();\n\n        var svg = d3.select(el.dom).append('svg').attr('id',this.getVisId()).attr('class', 'wordWall').attr('width', width).attr('height', height);\n        var g = svg.append('g');\n        this.setVis(g);\n        \n        this.setNodes(g.append('g').attr('class', 'nodes').selectAll('.node'));\n\n        this.setTempNodes(g.append('g').attr('class', 'tempNodes').selectAll('text'));\n\n        if (this.getWebWorker() === undefined) {\n            this.setWebWorker(new Worker(this.getBaseUrl()+'resources/d3/WordWallWorker.js'));\n            this.getWebWorker().onmessage = this.handleWebWorkerMessage.bind(this);\n        }\n    },\n\n    initLoad: function() {\n        this.initVis();\n        \n        this.count = 0;\n\n        var params = this.getApiParams();\n        params.tool = 'corpus.CorpusSegmentTerms';\n        \n        Ext.Ajax.request({\n            url: this.getTromboneUrl(),\n            params: params,\n            success: function(response) {\n                var data = Ext.decode(response.responseText);\n                this.setSegments(data.corpusSegmentTerms.segments);\n\n                var terms = data.corpusSegmentTerms.terms;\n                if (this.getFilterOutUniqueTerms()) {\n                    terms = terms.filter(function(el, index) { return el.rawFreqs.indexOf(0) == -1 });\n                }\n\n                this.setTerms(terms);\n                \n                this.setCurrentSegment(this.getSegments().length);\n                this.getNextSegment();\n\n                this.restartSegmentTimer();\n            },\n            failure: function(response) {\n                if (this.debugMsg) console.log('failed', response);\n            },\n            scope: this\n        })\n    },\n\n    restartSegmentTimer: function() {\n        clearInterval(this.getSegmentDelayTimer());\n\n        this.setSegmentDelayTimer(setInterval(function() {\n            this.updateNodePositions();\n        }.bind(this), this.getSegmentDelay()));\n    },\n\n    getNextSegment: function() {\n        var index = this.getCurrentSegment();\n        index++;\n        if (index >= this.getSegments().length) {\n            index = 0;\n        }\n        this.setCurrentSegment(index);\n        if (this.debugMsg) console.log('getNextSegment', index);\n        this.processTermsForSegment(this.getCurrentSegment());\n    },\n\n    processTermsForSegment: function(segmentIndex) {\n        var min = Number.MAX_VALUE;\n        var max = Number.MIN_VALUE;\n        var letterDistMap = {a:0,b:0,c:0,d:0,e:0,f:0,g:0,h:0,i:0,j:0,k:0,l:0,m:0,n:0,o:0,p:0,q:0,r:0,s:0,t:0,u:0,v:0,w:0,x:0,y:0,z:0};\n\n        this.getTerms().forEach(function(d) {\n            d.id = this.idGet(d.term);\n            // d.value = d.rawFreqs.reduce(function(sum, value) {\n            //     return sum+value;\n            // });\n            d.value = d.rawFreqs[segmentIndex];\n            if (d.value > 0) {\n                if (d.value < min) {\n                    min = d.value;\n                }\n                if (d.value > max) {\n                    max = d.value;\n                }\n\n                d.title = d.term+' ('+d.value+')';\n\n                var firstLetter = this.removeDiacritics(d.term.charAt(0)).toLowerCase();\n                d.letter = firstLetter;\n                if (letterDistMap[firstLetter] === undefined) {\n                    letterDistMap[firstLetter] = 0;\n                }\n                letterDistMap[firstLetter]++;\n            }\n        }, this);\n\n        this.setSegmentTerms(this.getTerms().filter(function(d) {\n            return d.value > 0;\n        }));\n\n        this.setMinFreq(min);\n        this.setMaxFreq(max);\n\n        var letterDist = [];\n        for (var letter in letterDistMap) {\n            var count = letterDistMap[letter];\n            var percent = count / this.getTerms().length;\n            letterDist.push({letter: letter, percent: percent});\n        }\n        letterDist.sort(function(a, b) {\n            if (a.letter < b.letter) return -1;\n            if (a.letter > b.letter) return 1;\n            return 0;\n        });\n        this.setLetterDistribution(letterDist);\n\n        this.calculateNodeSizes(this.getSegmentTerms());\n        this.runSimulation(this.getSegmentTerms());\n    },\n\n    // determine each node's font size and bounding box and store them for later use\n    calculateNodeSizes: function(terms) {\n        var nodes = this.getTempNodes().data(terms, function(d) { return d.id; });\n        \n        var fontSizer = function(value) {\n            var t = Math.min(1, terms.length / this.MAX_TERMS);\n            var exponent = t*2+1;\n            value = this.getFrequencyScale()(value);\n            var val = d3.scalePow().exponent(exponent).domain([0, 1]).range([this.getMinFontSize(), this.getMaxFontSize()])(value);\n            return val;\n        }.bind(this);\n\n        var bboxTotal = 0;\n\n        nodes.enter().append('text')\n            .attr('fill-opacity', 0)\n            .attr('font-family', function(d) { return 'Arial'; })//return me.getApplication().getCategoriesManager().getFeatureForTerm('font', d.term); })\n            .attr('font-size', function(d) {\n                var fontSize = fontSizer(d.value);\n                d.fontSize = fontSize;\n                return fontSize;\n            })\n            .text(function(d) { return d.term; })\n            .each(function(d) {\n                var bbox = this.getBBox();\n                d.bbox = {};\n                d.bbox.x = bbox.x;\n                d.bbox.y = bbox.y;\n                d.bbox.width = bbox.width;\n                d.bbox.height = bbox.height;\n\n                bboxTotal += bbox.width*bbox.height;\n            })\n            .remove();\n\n        var el = this.getLayout().getRenderTarget();\n        var width = el.getWidth();\n        var height = el.getHeight();\n\n        // adapt font size to available space\n        var availableSpace = width*height;\n        if (bboxTotal > availableSpace*0.6) {\n            this.setMaxFontSize(this.getMaxFontSize()*0.9);\n            this.setMinFontSize(this.getMinFontSize()*0.9);\n            this.calculateNodeSizes(terms);\n        } else if (bboxTotal < availableSpace*0.5) {\n            this.setMaxFontSize(this.getMaxFontSize()*1.1);\n            this.setMinFontSize(this.getMinFontSize()*1.1);\n            this.calculateNodeSizes(terms);\n        }\n    },\n\n    runSimulation: function(terms) {\n        this.setIsSimulating(true);\n\n        var el = this.getLayout().getRenderTarget();\n        var width = el.getWidth();\n        var height = el.getHeight();\n\n        // pass all the info to the worker\n        if (this.debugMsg) console.time(\"runSim\");\n        this.getWebWorker().postMessage({\n            terms: terms,\n            width: width,\n            height: height,\n            minFreq: this.getMinFreq(),\n            maxFreq: this.getMaxFreq(),\n            xForceStrength: this.getXForceStrength(),\n            yForceStrength: this.getYForceStrength(),\n            chargeDistance: this.getChargeDistance(),\n            chargeStrength: this.getChargeStrength(),\n            letterDistribution: this.getLetterDistribution()\n        });\n    },\n\n    handleWebWorkerMessage: function(event) {\n        switch (event.data.type) {\n            case \"progress\":\n                var t = event.data.progress;\n                var percent = parseInt(t * 100);\n                this.getDockedItems()[1].getComponent('status').update(percent+'%');\n                break;\n            case \"msg\":\n                if (this.debugMsg) console.log(event.data.msg);\n                break;\n            case \"end\":\n                if (this.debugMsg) console.timeEnd(\"runSim\");\n                // TODO adjust segment delay if it's less than the runSim time\n                this.getDockedItems()[1].getComponent('status').update('');\n                this.setIsSimulating(false);\n                this.getSegmentTermsQueue().push(event.data.nodes);\n                break;\n        }\n    },\n\n    updateNodePositions: function() {\n        if (this.getIsTransitioning()) {\n            Ext.Function.defer(this.updateNodePositions, 100, this);\n        } else {\n            this.count++;\n            var nodes = this.getSegmentTermsQueue().shift();\n            if (this.debugMsg) console.log('queue length', this.getSegmentTermsQueue().length);\n            if (nodes === undefined) {\n                if (this.debugMsg) console.log('no nodes', this.count);\n                if (this.getIsSimulating() === false) {\n                    this.getNextSegment();\n                }\n            } else {\n                this.setIsTransitioning(true);\n                if (this.getSegmentTermsQueue().length == 0) {\n                    this.getNextSegment();\n                }\n                \n                var nodeUpdate = this.getNodes().data(nodes, function(d) { return d.id; });\n\n                nodeUpdate.transition().duration(this.getTransitionTime()).attr('transform', function(d) {\n                    var x = d.x;\n                    var y = d.y;\n                    return 'translate('+x+','+y+')';\n                });\n\n                var nodeEnter = nodeUpdate.enter().append('g')\n                    .attr('class', 'node')\n                    .attr('id', function(d) { return d.id; })\n                    .attr('transform', function(d) {\n                        var x = d.x;\n                        var y = d.y;\n                        return 'translate('+x+','+y+')';\n                    })\n                    .attr('fill-opacity', 0);\n\n                nodeEnter.append('title').text(function(d) { return d.title; });\n\n                nodeEnter.append('text')\n                    .attr('font-family', function(d) { return 'Arial'; })//return me.getApplication().getCategoriesManager().getFeatureForTerm('font', d.term); })\n                    .attr('font-size', function(d) { return d.fontSize; })\n                    .attr('fill', function(d) { return this.getApplication().getCategoriesManager().getFeatureForTerm('color', d.term); }.bind(this))\n                    .style('cursor', 'pointer')\n                    .style('user-select', 'none')\n                    .attr('alignment-baseline', 'middle')\n                    .text(function(d) { return d.term; });\n\n                nodeEnter.transition().duration(this.getTransitionTime()).attr('fill-opacity', 1);\n\n                var allNodes = nodeEnter.merge(nodeUpdate);\n\n                allNodes.select('text').transition().duration(this.getTransitionTime())\n                    .attr('font-size', function(d) { return d.fontSize; });\n\n                nodeUpdate.exit().transition().duration(this.getTransitionTime()).attr('fill-opacity', 0).remove();\n\n                setTimeout(function() {\n                    this.setIsTransitioning(false);\n                }.bind(this), this.getTransitionTime());\n\n                this.setNodes(allNodes);\n            }\n        }\n    },\n\n    updateMinFreq: function() {\n        this.setFrequencyScale(d3.scaleLog().domain([this.getMinFreq(), this.getMaxFreq()]).range([0, 1]));\n    },\n\n    updateMaxFreq: function() {\n        this.setFrequencyScale(d3.scaleLog().domain([this.getMinFreq(), this.getMaxFreq()]).range([0, 1]));\n    },\n\n    zoomToFit: function(paddingPercent, transitionDuration) {\n    \tvar bounds = this.getVis().node().getBBox();\n    \tvar width = bounds.width;\n    \tvar height = bounds.height;\n    \tvar midX = bounds.x + width/2;\n    \tvar midY = bounds.y + height/2;\n    \tvar svg = this.getVis().node().parentElement;\n    \tvar fullWidth = svg.clientWidth;\n    \tvar fullHeight = svg.clientHeight;\n    \tvar scale = (paddingPercent || 0.8) / Math.max(width/fullWidth, height/fullHeight);\n    \tvar translate = [fullWidth/2 - scale*midX, fullHeight/2 - scale*midY];\n \n    \td3.select(svg)\n    \t\t.transition()\n    \t\t.duration(transitionDuration || 500)\n    \t\t.call(this.getZoom().transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale));\n    },\n    \n    idGet: function(term) {\n        return term.replace(/\\W/g, '_');\n    }\n    \n});","// heavy lifting for the LDA from https://github.com/mimno/jsLDA with tweaks to fit into a Voyant object scope\n\nExt.define('Voyant.panel.Topics', {\n\textend: 'Ext.grid.Panel',\n\tmixins: ['Voyant.panel.Panel','Voyant.widget.LiveSearchGrid'],\n\talias: 'widget.topics',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstopList: 'auto',\n    \t\tnumTopics: 25,\n    \t\tlimit: 10,\n    \t\titerations: 100,\n    \t\tperDocLimit: 1000,\n    \t\tquery: undefined\n    \t},\n\t\tglyph: 'xf1ea@FontAwesome'\n    },\n    config: {\n    \t/**\n    \t * @private\n    \t */\n    \toptions: [{xtype: 'stoplistoption'},{\n\t        xtype: 'numberfield',\n\t        name: 'perDocLimit',\n\t        fieldLabel: 'maximum words per document',\n\t        labelAlign: 'right',\n\t        value: 1000,\n\t        minValue: 1,\n\t        step: 100,\n\t        listeners: {\n    \t        afterrender: function(field) {\n    \t        \tvar win = field.up(\"window\");\n    \t        \tif (win && win.panel) {\n        \t        \tfield.setValue(parseInt(win.panel.getApiParam('perDocLimit')))\n    \t        \t\tfield.setFieldLabel(win.panel.localize(\"perDocLimit\"))\n    \t        \t}\n    \t        },\n\t\t        change: function(field, val) {\n\t\t        \tvar win = field.up(\"window\");\n\t\t        \tif (val>5000 && win && win.panel) {\n\t\t        \t\twin.panel.toastInfo({\n\t\t        \t\t\thtml: win.panel.localize(\"perDocLimitHigh\"),\n\t\t        \t\t\tanchor: win.getTargetEl(),\n\t\t        \t\t\talign: 'tr',\n\t\t        \t\t\tmaxWidth: 400\n\t\t        \t\t})\n\t\t        \t}\n\t\t        }\n\t        }\n\t    },{\n\t        xtype: 'numberfield',\n\t        name: 'iterations',\n\t        fieldLabel: 'iterations per run',\n\t        labelAlign: 'right',\n\t        value: 100,\n\t        minValue: 1,\n\t        maxValue: 10000,\n\t        step: 50,\n\t        listeners: {\n    \t        afterrender: function(field) {\n    \t        \tvar win = field.up(\"window\");\n    \t        \tif (win && win.panel) {\n        \t        \tfield.setValue(parseInt(win.panel.getApiParam('iterations')))\n    \t        \t\tfield.setFieldLabel(win.panel.localize(\"iterations\"))\n    \t        \t}\n    \t        }\n\t        }\n\t    }],\n    \t\n    \tcorpus: undefined,\n    \t\n    \tdocumentTopicSmoothing : 0.1,\n    \ttopicWordSmoothing : 0.01,\n    \tvocabularySize : 0,\n    \t vocabularyCounts : {},\n    \t stopwords : {},\n    \t docSortSmoothing : 10.0,\n    \t sumDocSortSmoothing : 10.0 * 25, // update?\n    \t requestedSweeps : 0,\n    \t wordTopicCounts : {},\n    \t topicWordCounts : [],\n    \t tokensPerTopic : [],\n    \t topicWeights : Array(25),\n    \t documents: [],\n    \t progress: undefined,\n    \t totalIterations: 0,\n    \t exportGridAll: false\n    \t\n    },\n    \n    zeros: function(count, val) {\n    \tval = val || 0;\n    \tvar ret = Array(count)\n    \tfor (var i=0; i<count; i++) {ret[i]=val;}\n    \treturn ret;\n    },\n    \n    constructor: function(config ) {\n    \tvar me = this;\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tlayout: {\n    \t        type: 'hbox',\n    \t        pack: 'start',\n    \t        align: 'stretch'\n    \t    },\n\t        store: {\n\t            fields: ['topic', 'scores'],\n\t            data: []\n\t        },\n    \t\tcolumns: [{\n    \t\t\ttext: this.localize(\"topic\"),\n    \t\t\ttooltip: this.localize(\"topicTip\"),\n    \t\t\tflex: 3,\n        \t\tdataIndex: 'topic',\n                sortable: false\n            },{\n                xtype: 'widgetcolumn',\n                text: this.localize(\"scores\"),\n                tooltip: this.localize(\"scoresTip\"),\n                flex: 1,\n                dataIndex: 'scores',\n                widget: {\n                    xtype: 'sparklineline',\n                    tipTpl: new Ext.XTemplate('{[this.getDocumentTitle(values.x,values.y)]}', {\n                    \tgetDocumentTitle: function(docIndex, score) {\n                    \t\treturn this.panel.getCorpus().getDocument(docIndex).getTitle()+\"<br>coverage: \"+Ext.util.Format.number(score*100, \"0,000.0\")+\"%\"\n                    \t},\n                    \tpanel: me \n                    })\n               }\n            }],\n            dockedItems: {\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items:[\n                       '<span class=\"info-tip\" data-qtip=\"'+this.localize('searchTip')+'\">'+this.localize('search')+'</span>'\n                    ,{\n                    xtype: 'textfield',\n                    name: 'searchField',\n                    hideLabel: true,\n                    width: 80,\n                    listeners: {\n                        change: {\n                            fn: me.onTextFieldChange,\n                            scope: me,\n                            buffer: 500\n                        }\n                    }\n                },\n                \t'<span class=\"info-tip\" data-qtip=\"'+this.localize('limitTermsTip')+'\">'+this.localize('limitTerms')+'</span>'\n                ,{ \n\t    \t\t\twidth: 80,\n                    hideLabel: true,\n\t    \t\t\txtype: 'slider',\n\t            \tincrement: 1,\n\t            \tminValue: 1,\n\t            \tmaxValue: 100,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam(\"limit\")))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({limit: newvalue});\n\t            \t\t\tthis.postSweep();\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n                },\n                \t'<span class=\"info-tip\" data-qtip=\"'+this.localize('numTopicsTip')+'\">'+this.localize('numTopics')+'</span>'\n                ,{ \n\t    \t\t\twidth: 80,\n                    hideLabel: true,\n\t    \t\t\txtype: 'slider',\n\t            \tincrement: 1,\n\t            \tminValue: 1,\n\t            \tmaxValue: 200,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(parseInt(this.getApiParam(\"numTopics\")))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({numTopics: newvalue});\n\t            \t\t\tthis.loadFromExistingDocuments();\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n                },{\n            \t\ttext: new Ext.Template(this.localize('runIterations')).apply([100]),\n            \t\titemId: 'iterations',\n\t\t\t\t\tglyph: 'xf04b@FontAwesome',\n            \t\ttooltip: this.localize('runIterationsTip'),\n            \t\thandler: this.runIterations,\n            \t\tscope: this\n            \t},{\n                \txtype: 'tbtext',\n                \titemId: 'done'\n                },{xtype: 'tbfill'}, {\n\t    \t\t\txtype: 'tbtext',\n\t    \t\t\thtml: this.localize('adaptation')\n\t    \t\t}]\n            }\n    \t});\n\n        this.callParent(arguments);\n        \n\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    \t\n    \tthis.resetData();\n        \n        // create a listener for corpus loading (defined here, in case we need to load it next)\n    \tthis.on('loadedCorpus', function(src, corpus) {\n    \t\tthis.setCorpus(corpus);\n    \t\tif (this.rendered) {\n    \t\t\tthis.initialize();\n    \t\t}\n    \t\telse {\n    \t\t\tthis.on(\"afterrender\", function() {\n    \t\t\t\tthis.initialize();\n    \t\t\t}, this)\n    \t\t}\n\n    \t});\n    \t\n    \tthis.on('query', function(src, query) {\n    \t\tthis.setApiParam('query', query);\n    \t\tthis.updateSearchResults();\n    \t})\n    \t\n    },\n    \n    loadStopwords: function() {\n    \tthis.mask(this.localize(\"loadingStopWords\"));\n    \tExt.Ajax.request({\n    \t    url: this.getTromboneUrl(),\n    \t    params: {\n        \t\ttool: 'resource.KeywordsManager',\n    \t\t\tstopList: this.getApiParam('stopList'),\n    \t\t\tcorpus: this.getCorpus() ? this.getCorpus().getAliasOrId() : undefined\n    \t    },\n    \t    success: function(response, req) {\n    \t    \tthis.unmask();\n    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n    \t    \tvar stopwords = {};\n    \t    \tjson.keywords.keywords.forEach(function(stop) {\n    \t    \t\tstopwords[stop]=1;\n    \t    \t})\n    \t    \tthis.setStopwords(stopwords);\n    \t    \tthis.loadDocuments();\n    \t    },\n    \t    scope: this\n    \t})\n    },\n    \n    loadDocuments: function() {\n    \tthis.mask(this.localize(\"loadingDocuments\"));\n    \tvar corpus = this.getCorpus();\n    \tif (corpus) {\n        \tExt.Ajax.request({\n        \t    url: this.getTromboneUrl(),\n        \t    params: {\n            \t\ttool: 'corpus.DocumentTokens',\n        \t\t\tcorpus: corpus.getAliasOrId(),\n        \t\t\toutputFormat: \"text\",\n        \t\t\ttemplate: \"docTokens2idsAndText\",\n        \t\t\tlimit: 0,\n        \t\t\tnoOthers: true,\n        \t\t\tperDocLimit: corpus.getDocumentsCount()==1 ? undefined : parseInt(this.getApiParam('perDocLimit'))\n        \t\t},\n        \t    success: function(response, req) {\n        \t    \tthis.unmask();\n        \t    \tthis.mask(this.localize(\"parsingDocuments\"));\n        \t    \tvar lines = response.responseText.trim().split(/(\\r\\n|\\r|\\n)/);\n        \t    \tif (lines.length==1) { // one document, so segment\n        \t    \t\tvar parts = lines[0].split(': ');\n        \t    \t\tif (parts.length>1) {\n            \t    \t\tvar doc = corpus.getDocument(parts[0]);\n            \t    \t\tvar allwords = parts[1].split(' ');\n            \t    \t\tvar totalWords = doc.getLexicalTokensCount();\n            \t    \t\tif (totalWords<10) {\n            \t    \t\t\tbins = totalWords\n            \t    \t\t} else if (totalWords<1000) {\n            \t    \t\t\tbins = 10\n            \t    \t\t} else {\n            \t    \t\t\tbins = 100\n            \t    \t\t}\n            \t    \t\tvar bins = 10;\n            \t    \t\tvar wordsPerBin = Math.floor(allwords.length/bins);\n            \t    \t\tfor (var i=0; i<bins; i++) {\n            \t    \t\t\tvar text = allwords.slice(i*wordsPerBin,(i*wordsPerBin)+wordsPerBin).join(\" \");\n                \t    \t\tthis.parseLine(parts[0]+\"-\"+i+\"\\t\"+parts[0]+\"-\"+i+\"\\t\"+text);\n            \t    \t\t}\n        \t    \t\t}\n        \t    \t} else {\n            \t    \tlines.forEach(function(line) {\n            \t    \t\tvar parts = line.split(': ');\n            \t    \t\tif (parts.length>1) {\n                \t    \t\tvar doc = corpus.getDocument(parts[0]);\n                \t    \t\tthis.parseLine(parts[0]+\"\\t\"+doc.getTinyLabel()+\"\\t\"+parts[1]);\n            \t    \t\t}\n            \t    \t}, this);\n        \t    \t}\n        \t    \tthis.unmask();\n        \t    \tthis.runIterations();\n        \t    },\n        \t    scope: this\n        \t})\n    \t}\n    },\n    \n    resetData: function() {\n    \tvar numTopics = parseInt(this.getApiParam('numTopics'));\n\t \tthis.setVocabularyCounts({});\n\t\tthis.setSumDocSortSmoothing(this.getDocSortSmoothing()*numTopics);\n\t\tthis.setRequestedSweeps(0);\n\t\tthis.setWordTopicCounts({});\n\t\tthis.setTopicWordCounts([]);\n\t\tthis.setTokensPerTopic(this.zeros(numTopics));\n\t\tthis.setTopicWeights(this.zeros(numTopics));\n\t\tthis.setDocuments([]);\n\t\tthis.setTotalIterations(0);\n    },\n    \n    loadFromExistingDocuments: function() {\n\n    \t// not quite efficient, but at least we don't have to reload from server\n    \tvar data = this.getDocuments().map(function(doc) {return doc.id+\"\\t\"+doc.date+\"\\t\"+doc.originalText});\n    \t\n    \tthis.resetData(); // reset all data before starting over\n    \t\n    \tdata.forEach(function(doc) {\n    \t\tthis.parseLine(doc);\n    \t}, this);\n    \t\n    \tthis.runIterations();\n    },\n    \n    runIterations: function() {\n    \tvar sweeps = this.getRequestedSweeps();\n    \tvar iterations = parseInt(this.getApiParam('iterations'));\n    \tsweeps+=parseInt(iterations);\n    \tthis.setTotalIterations(this.getTotalIterations()+iterations);\n    \tthis.setRequestedSweeps(sweeps)\n    \tif (!this.getProgress()) {\n    \t\tvar progress = Ext.MessageBox.show({\n    \t\t\ttitle: this.localize(\"runningIterations\"),\n    \t\t\tmessage: new Ext.Template(this.localize('runningIterationsCount')).apply([sweeps]),\n    \t\t\tprogress: true,\n    \t\t\tprogressText: '',\n    \t\t\ttarget: sweeps,\n    \t\t\tcustomUpdateProgress: function(val) {\n     \t\t\t   this.updateProgress((this.config.target-val)*this.config.target, \" iterations\");\n     \t\t   \t}\n    \t\t});\n    \t\tthis.setProgress(progress);\n    \t\tthis.updateProgress(sweeps);\n    \t}\n    \tthis.sweep();\n    },\n    \n    updateProgress: function(sweeps) {\n    \tvar progress = this.getProgress(), sweeps = this.getRequestedSweeps();\n    \tif (progress) {\n    \t\tvar target = progress.cfg.target;\n        \tvar val = (target-sweeps)/target;\n        \tprogress.updateProgress(val, (parseInt(val)*100) +\"% done\");\n    \t}\n    },\n    \n    sweep: function() {\n\n    \tvar startTime = Date.now(), numTopics = parseInt(this.getApiParam('numTopics')),\n    \t\tvocabularySize = this.getVocabularySize(), topicWordSmoothing = this.getTopicWordSmoothing(),\n    \t\ttokensPerTopic = this.getTokensPerTopic(), documents = this.getDocuments(),\n    \t\twordTopicCounts = this.getWordTopicCounts(), topicWeights = this.getTopicWeights(), \n    \t\tdocumentTopicSmoothing = this.getDocumentTopicSmoothing()\n    \t\t\n    \t\t\n    \tvar topicNormalizers = this.zeros(numTopics);\n    \tfor (var topic = 0; topic < numTopics; topic++) {\n    \t\ttopicNormalizers[topic] = 1.0 / (vocabularySize * topicWordSmoothing + tokensPerTopic[topic]);\n    \t}\n\n    \tfor (var doc = 0; doc < documents.length; doc++) {\n    \t\tvar currentDoc = documents[doc];\n    \t\tvar docTopicCounts = currentDoc.topicCounts;\n    \t\t\n    \t\tfor (var position = 0; position < currentDoc.tokens.length; position++) {\n    \t\t\tvar token = currentDoc.tokens[position];\n    \t\t\tif (token.isStopword) { continue; }\n\n    \t\t\ttokensPerTopic[ token.topic ]--;\n    \t\t\tvar currentWordTopicCounts = wordTopicCounts[ token.word ];\n    \t\t\tcurrentWordTopicCounts[ token.topic ]--;\n    \t\t\tif (currentWordTopicCounts[ token.topic ] == 0) {\n    \t\t\t  //delete(currentWordTopicCounts[ token.topic ]);\n    \t\t\t}\n    \t\t\tdocTopicCounts[ token.topic ]--;\n    \t\t\ttopicNormalizers[ token.topic ] = 1.0 / (vocabularySize * topicWordSmoothing + tokensPerTopic[ token.topic ]);\n\n    \t\t\tvar sum = 0.0;\n    \t\t\tfor (var topic = 0; topic < numTopics; topic++) {\n    \t\t\t\tif (currentWordTopicCounts[ topic ]) {\n    \t\t\t\t  topicWeights[topic] =\n    \t\t\t\t    (documentTopicSmoothing + docTopicCounts[topic]) *\n    \t\t\t\t    (topicWordSmoothing + currentWordTopicCounts[ topic ]) *\n    \t\t\t\t\ttopicNormalizers[topic];\n    \t\t\t\t}\n    \t\t\t\telse {\n    \t\t\t\t  topicWeights[topic] =\n    \t\t\t\t    (documentTopicSmoothing + docTopicCounts[topic]) *\n    \t\t\t\t\ttopicWordSmoothing *\n    \t\t\t\t\ttopicNormalizers[topic];\n    \t\t\t\t}\n    \t\t\t\tsum += topicWeights[topic];\n    \t\t\t}\n    \t\t    \n    \t\t\t// Sample from an unnormalized discrete distribution\n    \t\t\tvar sample = sum * Math.random();\n    \t\t    var i = 0;\n    \t\t    sample -= topicWeights[i];\n    \t\t    while (sample > 0.0) {\n    \t\t      i++;\n    \t\t      sample -= topicWeights[i];\n    \t\t \t}\n    \t\t\ttoken.topic = i;\n    \t\t\t\n    \t\t\ttokensPerTopic[ token.topic ]++;\n    \t\t\tif (! currentWordTopicCounts[ token.topic ]) {\n    \t\t\t\tcurrentWordTopicCounts[ token.topic ] = 1;\n    \t\t\t}\n    \t\t\telse {\n    \t\t\t\tcurrentWordTopicCounts[ token.topic ] += 1;\n    \t\t\t}\n    \t\t\tdocTopicCounts[ token.topic ]++;\n    \t\t\t\n    \t\t\ttopicNormalizers[ token.topic ] = 1.0 / (vocabularySize * topicWordSmoothing + tokensPerTopic[ token.topic ]);\n    \t\t}\n    \t}\n    \t\n    \tvar sweeps = this.getRequestedSweeps()-1;\n    \tthis.setRequestedSweeps(sweeps);\n    \tvar progress = this.getProgress();\n    \tif (sweeps>0) {\n    \t\tthis.updateProgress(sweeps);\n    \t\tExt.defer(this.sweep, 0, this);\n    \t} else {\n    \t\tprogress.close();\n    \t\tthis.setProgress(undefined);\n    \t\tthis.postSweep();\n    \t}\n    \t\n    },\n    \n    postSweep: function(){\n    \tthis.sortTopicWords();\n    \tvar store = this.getStore();\n    \tvar done = new Ext.Template(this.localize('totalDone')).apply([Ext.util.Format.number(parseInt(this.getTotalIterations()), \"0,000\")]);\n    \tthis.down('#done').setHtml(done);\n    \t\n\t\tvar numTopics = parseInt(this.getApiParam('numTopics')),\n\t\t\ttopicWordCounts = this.getTopicWordCounts(),\n\t\t\tdata = [], documents = this.getDocuments(),\n\t\t\tdocSortSmoothing = this.getDocSortSmoothing(),\n\t\t\tsumDocSortSmoothing = this.getSumDocSortSmoothing();\n\t\t\t\n\t\tvar limit = parseInt(this.getApiParam('limit'));\n\t\tfor (var topic = 0; topic < numTopics; topic++) {\n\t\t\tvar scores = documents.map(function (doc, i) {\n//\t\t\t\tconsole.warn(doc, doc.topicCounts[topic], docSortSmoothing, doc.tokens.length, sumDocSortSmoothing);\n\t\t\t\t  return (doc.topicCounts[topic] + docSortSmoothing) / (doc.tokens.length + sumDocSortSmoothing);\n\t\t\t});\n\t\t\t\n\t\t\tdata.push({\n\t\t\t\ttopic: this.topNWords(topicWordCounts[topic], limit),\n\t\t\t\tscores: scores\n\t\t\t})\n\t\t}\n    \tstore.loadData(data)\n    },\n    \n    topNWords: function(wordCounts, n) { return wordCounts.slice(0,n).map( function(d) { return d.word; }).join(\" \"); },\n    \n    sortTopicWords: function() {\n    \tvar topicWordCounts = this.getTopicWordCounts(), numTopics = parseInt(this.getApiParam('numTopics')),\n    \t\twordTopicCounts = this.getWordTopicCounts();\n\n    \t  topicWordCounts = [];\n    \t  for (var topic = 0; topic < numTopics; topic++) {\n    \t    topicWordCounts[topic] = [];\n    \t  }\n\n    \t  for (var word in wordTopicCounts) {\n    \t    for (var topic in wordTopicCounts[word]) {\n    \t      topicWordCounts[topic].push({\"word\":word, \"count\":wordTopicCounts[word][topic]});\n    \t    }\n    \t  }\n\n    \t  for (var topic = 0; topic < numTopics; topic++) {\n    \t    topicWordCounts[topic].sort(this.byCountDescending);\n    \t  }\n\n    \t  this.setTopicWordCounts(topicWordCounts);\n    },\n    \n    byCountDescending: function(a,b) {return b.count - a.count; },\n    \n    initialize: function() {\n    \t// make sure we have the right number of iterations in our label (especially after an options change)\n    \tvar val = new Ext.Template(this.localize('runIterations')).apply([Ext.util.Format.number(parseInt(this.getApiParam('iterations')), \"0,000\")]);\n    \tvar iterations = this.down('#iterations').setText(val)\n    \tthis.loadStopwords();\n    },\n    \n    parseLine: function ( line ) {\n    \t\n    \t// for simplicity, create locally scoped variables of these\n    \tvar stopwords = this.getStopwords(), vocabularyCounts = this.getVocabularyCounts(),\n\t    \ttokensPerTopic = this.getTokensPerTopic(), vocabularySize=this.getVocabularySize(),\n\t    \tvocabularyCounts = this.getVocabularyCounts(), documents = this.getDocuments(),\n\t    \tnumTopics = parseInt(this.getApiParam('numTopics')),\n\t    \twordTopicCounts = this.getWordTopicCounts();\n    \t\n    \t  if (line == \"\") { return; }\n    \t  var docID = documents.length;\n    \t  var docDate = \"\";\n    \t  var fields = line.split(\"\\t\");\n    \t  var text = fields[0];  // Assume there's just one field, the text\n    \t  if (fields.length == 3) {  // If it's in [ID]\\t[TAG]\\t[TEXT] format...\n    \t    docID = fields[0];\n    \t    docDate = fields[1]; // do not interpret date as anything but a string\n    \t    text = fields[2];\n    \t  }\n\n    \t  var tokens = [];\n    \t  var rawTokens = text.toLowerCase().split(' '); // xsl should only use space between tokens\n    \t  if (rawTokens == null) { return; }\n    \t  var topicCounts = this.zeros(numTopics);\n\n    \t  rawTokens.forEach(function (word) {\n    \t    if (word !== \"\") {\n    \t      var topic = Math.floor(Math.random() * numTopics);\n    \t\t  \n    \t\t  if (word.length <= 2) { stopwords[word] = 1; }\n    \t\t  \n    \t\t  var isStopword = stopwords[word];\n    \t\t  if (isStopword) {\n    \t\t\t  // Record counts for stopwords, but nothing else\n    \t\t\t  if (! vocabularyCounts[word]) {\n    \t\t\t\t  vocabularyCounts[word] = 1;\n    \t\t\t  }\n    \t\t\t  else {\n    \t\t\t  \tvocabularyCounts[word] += 1;\n    \t\t\t  }\n    \t\t  }\n    \t\t  else {\n    \t\t      tokensPerTopic[topic]++;\n    \t\t      if (! wordTopicCounts[word]) {\n    \t\t        wordTopicCounts[word] = {};\n    \t\t        vocabularySize++;\n    \t\t        vocabularyCounts[word] = 0;\n    \t\t      }\n    \t\t      if (! wordTopicCounts[word][topic]) {\n    \t\t        wordTopicCounts[word][topic] = 0;\n    \t\t      }\n    \t\t      wordTopicCounts[word][topic] += 1;\n    \t\t      vocabularyCounts[word] += 1;\n    \t\t      topicCounts[topic] += 1;\n    \t      }\n    \t      tokens.push({\"word\":word, \"topic\":topic, \"isStopword\":isStopword });\n    \t    }\n    \t  });\n    \t  this.setVocabularySize(vocabularySize); // set this scalar\n    \t  \n    \t  documents.push({ \"originalOrder\" : documents.length, \"id\" : docID, \"date\" : docDate, \"originalText\" : text, \"tokens\" : tokens, \"topicCounts\" : topicCounts});\n    \t}\n    \n});","\n// assuming Cirrus library is loaded by containing page (via voyant.jsp)\nExt.define('Voyant.panel.Via', {\n\textend: 'Ext.panel.Panel',\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.via',\n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\tstopList: 'auto',\n    \t\tlimit: 100,\n    \t\tdocIndex: undefined\n    \t},\n\t\tglyph: 'xf06e@FontAwesome'\n    },\n    \n    config: {\n    \tmode: undefined,\n    \toptions: [\n    \t\t{xtype: 'stoplistoption'},\n    \t\t{\n\t    \t\txtype: 'listeditor',\n\t    \t\tname: 'whiteList'\n    \t    },\n    \t    {xtype: 'categoriesoption'}\n    \t]\n    },\n    \n    layout: 'fit',\n    \n    constructor: function(config) {\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n    },\n    \n    initComponent: function (config) {\n    \tExt.apply(this, {\n    \t\ttitle: this.localize('title'),\n    \t\tdockedItems: [{\n                dock: 'bottom',\n                xtype: 'toolbar',\n                overflowHandler: 'scroller',\n                items: [{\n        \t\t\txtype: 'corpusdocumentselector',\n        \t\t\tsingleSelect: true\n        \t\t},{\n        \t\t\tfieldLabel: this.localize('visible'),\n        \t\t\tlabelWidth: 40,\n        \t\t\twidth: 120,\n        \t\t\txtype: 'slider',\n\t            \tincrement: 10,\n\t            \tminValue: 10,\n\t            \tmaxValue: 1000,\n\t            \tlisteners: {\n\t            \t\tafterrender: function(slider) {\n\t            \t\t\tslider.setValue(this.getApiParam(\"limit\"))\n\t            \t\t},\n\t            \t\tchangecomplete: function(slider, newvalue) {\n\t            \t\t\tthis.setApiParams({limit: newvalue});\n\t            \t\t\tthis.loadFromCorpus(this.getCorpus());\n\t            \t\t},\n\t            \t\tscope: this\n\t            \t}\n                }]\n    \t\t}]\n    \t});\n\n    \tthis.callParent(arguments);\n    \t\n    \t\n    },\n    \n    listeners: {\n    \tresize: function(panel, width, height) {\n//    \t\tif (this.getCorpus()) {\n//        \t\tthis.loadFromCorpus(this.getCorpus())\n//    \t\t}\n    \t},\n    \t\n    \tloadedCorpus: function(src, corpus) {\n    \t\tvar langs = corpus.get(\"languageCodes\");\n    \t\tvar val = Ext.Array.each(langs, function(lang) {\n    \t\t\tif (lang!='en') {\n    \t\t\t\tthis.showError(this.localize('englishOnly'));\n    \t\t\t\treturn false;\n    \t\t\t}\n    \t\t}, this);\n    \t\tif (corpus.getWordTokensCount()>100000 && !this.getApiParam(\"docIndex\")) {\n    \t\t\tthis.setApiParam(\"docIndex\", 0)\n    \t\t}\n    \t\tthis.loadFromCorpus(corpus);\n    \t},\n    \t\n    \tcorpusSelected: function(src, corpus) {\n    \t\tthis.setApiParam(\"docIndex\", \"\");\n    \t\tthis.loadFromCorpus(corpus)\n    \t},\n    \t\n    \tdocumentSelected: function(src, document) {\n    \t\tthis.setApiParam(\"docIndex\", document.getIndex());\n    \t\tthis.loadFromCorpus(this.getCorpus())\n    \t}\n    \t\n    \t\n    },\n    \n    loadFromCorpus: function(corpus) {\n    \tvar me = this;\n    \tthis.mask(this.localize(\"loading\"))\n    \tvar params = this.getApiParams();\n    \tvar a = corpus.loadRelatedWords(params).then(function(relatedWords) {\n    \t\tme.unmask()\n    \t\tvar edges = relatedWords.map(function(item) {return {source: item.getSource(), target: item.getTarget()}})\n    \t\tvar graph = me.down(\"voyantnetworkgraph\");\n    \t\tif (graph) {\n    \t\t\tgraph.loadJson({edges: edges});\n    \t\t} else {\n    \t\t\tgraph = Ext.create(\"Voyant.widget.VoyantNetworkGraph\", {\n        \t\t\tedges: edges,\n        \t\t\tlisteners: {\n        \t\t\t\tnodeclicked: function(src, node) {\n        \t\t\t\t\tme.dispatchEvent('termsClicked', me, [node.term]);\n        \t\t\t\t}\n        \t\t\t}\n        \t\t})\n        \t\tme.add(graph)\n    \t\t}\n    \t}, function(response) {\n    \t\tme.unmask();\n    \t\tif (response.timedout) {\n    \t\t\tme.showError(me.localize('timedout'));\n    \t\t} else {\n        \t\tme.showError(response);\n    \t\t}\n    \t});\n    }\n});","Ext.define(\"Voyant.notebook.editor.button.Add\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrapperadd',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttooltip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tglyph: 'xf067@FontAwesome',\n\ttextAlign: 'left',\n\tlisteners: {\n\t\tclick: function(btn, e) {\n        \tthis.findParentByType('notebook').fireEvent(\"notebookWrapperAdd\", this.findParentByType(\"notebookeditorwrapper\"), e);\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.Edit\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrapperedit',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttoolTip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tglyph: 'xf040@FontAwesome',\n\tlisteners: {\n\t\tclick: function() {\n        \tthis.findParentByType('notebook').fireEvent(\"notebookWrapperEdit\", this.findParentByType(\"notebookeditorwrapper\"));\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.Export\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrapperexport',\n\tstatics: {\n\t\ti18n: {\n\t\t\ttip: \"Export\",\n\t\t\texportTitle: \"Export\",\n\t\t\texportOpen: \"Export content into new window\",\n\t\t\texportDownload: \"Download file to your machine\",\n\t\t\tcancelTitle: \"Cancel\"\n\t\t},\n\t\texportWin: undefined,\n\t\tgetExportWindow: function(instance) {\n\t\t\tif (this.exportWin === undefined) {\n\t\t\t\tthis.exportWin = Ext.create('Ext.window.Window', {\n\t\t\t\t\ttitle: instance.localize(\"exportTitle\"),\n\t\t\t\t\tcloseAction: 'hide',\n\t\t\t\t\tmodal: true,\n\t\t\t\t\tbodyPadding: 5,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\talign: 'stretch'\n\t\t\t\t\t},\n\t\t\t\t\tdefaults: {\n\t\t\t\t\t\txtype: 'button'\n\t\t\t\t\t},\n\t\t\t\t\titems: [{\n\t\t\t\t\t\titemId: 'open',\n\t\t\t\t\t\ttext: instance.localize('exportOpen'),\n\t\t\t\t\t\tglyph: 'xf08e@FontAwesome'\n\t\t\t\t\t},{\n\t\t\t\t\t\titemId: 'download',\n\t\t\t\t\t\tmargin: '5 0 0 0',\n\t\t\t\t\t\tpreventDefault: false,\n\t\t\t\t\t\ttext: instance.localize('exportDownload'),\n\t\t\t\t\t\tglyph: 'xf019@FontAwesome',\n\t\t\t\t\t\thandler: function(btn) {\n\t\t\t\t\t\t\tbtn.up('window').close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}],\n\t\t\t\t\tbuttons: [{\n\t\t\t\t\t\ttext: instance.localize(\"cancelTitle\"),\n\t\t\t\t\t\tglyph: 'xf00d@FontAwesome',\n\t\t\t\t\t\thandler: function(btn) {\n\t\t\t\t\t\t\tbtn.up('window').close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar wrapper = instance.up(\"notebookcodeeditorwrapper\");\n\t\t\tvar content = wrapper.getContent();\n\t\t\tvar fileContent = instance.getExportType() === 'output' ? content.output : content.input;\n\t\t\tvar filename = wrapper.getCellId()+\".\"+instance.getFileExtension(content.mode);\n\t\t\tvar properties = {type: content.mode===\"text\" || true ? \"text/plain\" : \"text/\"+content.mode};\n\t\t\tvar file;\n\t\t\ttry {\n\t\t\t\tfile = new File([fileContent], filename, properties);\n\t\t\t} catch (e) {\n\t\t\t\tfile = new Blob([fileContent], properties);\n\t\t\t}\n\n\t\t\tthis.exportWin.down('#open').setHandler(function(btn) {\n\t\t\t\tvar myWindow = window.open();\n\t\t\t\tmyWindow.document.write(fileContent);\n\t\t\t\tmyWindow.document.close();\n\t\t\t\tmyWindow.focus();\n\t\t\t\tbtn.up('window').close();\n\t\t\t});\n\n\t\t\tthis.exportWin.addListener('show', function() {\n\t\t\t\tvar url = URL.createObjectURL(file);\n\t\t\t\tthis.exportWin.down('#download').getEl().set({\n\t\t\t\t\tdownload: filename,\n\t\t\t\t\thref: url\n\t\t\t\t});\n\t\t\t}, this, { single: true });\n\n\t\t\treturn this.exportWin;\n\t\t}\n\t},\n\tconstructor: function(config) {\n\t\tExt.apply(config, {\n\t\t\ttooltip: this.localize('tip')\n\t\t})\n\t\tthis.callParent(arguments);\n\t},\n\tconfig: {\n\t\texportType: 'input' // what type of content to include in the export: 'input' or 'output'\n\t},\n\tglyph: 'xf08e@FontAwesome',\n\tlisteners: {\n\t\tclick: function(cmp) {\n\t\t\tVoyant.notebook.editor.button.Export.getExportWindow(cmp).show();\n\t\t}\n\t},\n\tgetFileExtension: function(mode) {\n\t\tif (\n\t\t\tmode === 'text' ||\n\t\t\t(mode === 'javascript' && this.getExportType() === 'output') // use txt for javascript results because they could be anything\n\t\t) {\n\t\t\treturn 'txt';\n\t\t} else {\n\t\t\treturn mode;\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.Counter\", {\n\textend: \"Ext.toolbar.TextItem\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrappercounter',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconfig: {\n\t\torder: 0,\n\t\tname: undefined\n\t},\n\tcls: 'notebookwrappercounter',\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttoolTip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tsetOrder: function(pos) {\n\t\tthis.callParent(arguments);\n\t\tthis.updateHtml();\n\t},\n\tupdateHtml: function() {\n\t\tvar pos = this.getOrder()+1;\n\t\tvar lnk = 'spyralcounter_'+pos;\n\t\tvar name = this.getName();\n\t\tthis.setHtml('<a name=\"'+name+'\" href=\"#'+name+'\">'+pos+'</a>');\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.MoveDown\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrappermovedown',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttooltip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tglyph: 'xf063@FontAwesome',\n\ttextAlign: 'left',\n\tlisteners: {\n\t\tclick: function() {\n        \tthis.findParentByType('notebook').fireEvent(\"notebookWrapperMoveDown\", this.findParentByType(\"notebookeditorwrapper\"));\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.MoveUp\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrappermoveup',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttooltip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tglyph: 'xf062@FontAwesome',\n\ttextAlign: 'left',\n\tlisteners: {\n\t\tclick: function() {\n        \tthis.findParentByType('notebook').fireEvent(\"notebookWrapperMoveUp\", this.findParentByType(\"notebookeditorwrapper\"));\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.Remove\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrapperremove',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttooltip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tglyph: 'xf014@FontAwesome',\n\ttextAlign: 'left',\n\tlisteners: {\n\t\tclick: function() {\n\t\t\tExt.Msg.show({\n\t\t\t\tbuttons: Ext.Msg.OKCANCEL,\n\t\t\t\ticon: Ext.MessageBox.QUESTION,\n\t\t\t\tmsg: this.localize(\"confirmRemove\"),\n\t\t\t\ttitle: this.localize(\"confirmRemoveTitle\"),\n\t\t\t\tfn: function(buttonId) {\n\t\t\t\t\tif (buttonId=='ok') {\n\t\t\t        \tthis.findParentByType('notebook').fireEvent(\"notebookWrapperRemove\", this.findParentByType(\"notebookeditorwrapper\"));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t})\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.Metadata\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrappermetadata',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttooltip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tglyph: 'xf02c@FontAwesome',\n\ttextAlign: 'left',\n\tlisteners: {\n\t\tclick: function(btn, e) {\n        \tthis.findParentByType('notebook').fireEvent(\"notebookWrapperMetadata\", this.findParentByType(\"notebookeditorwrapper\"), e);\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.Movement\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\trequires: [\"Voyant.notebook.editor.button.MoveUp\", \"Voyant.notebook.editor.button.MoveDown\", \"Voyant.notebook.editor.button.Remove\"],\n\talias: 'widget.notebookwrappermovement',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tconstructor: function(config) {\n    \tExt.apply(this, {\n    \t\ttooltip: this.localize('tip')\n    \t})\n        this.callParent(arguments);\n\t},\n\tglyph: 'xf07d@FontAwesome',\n\tmenu: [\n\t\t{\n        \txtype: 'notebookwrappermoveup'\n        },{\n        \txtype: 'notebookwrappermovedown'\n        },{\n        \txtype: 'notebookwrapperremove'\n        }\n\t]\n})","Ext.define(\"Voyant.notebook.editor.button.Run\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrapperrun',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tglyph: 'xf04b@FontAwesome',\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n\t\tconfig.tooltip = this.localize('tip');\n\t\tthis.callParent(arguments);\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.RunAll\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrapperrunall',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tglyph: 'xf04e@FontAwesome',\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n\t\tconfig.tooltip = this.localize('tip');\n\t\tthis.callParent(arguments);\n\t}\n})","Ext.define(\"Voyant.notebook.editor.button.RunUntil\", {\n\textend: \"Ext.button.Button\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: 'widget.notebookwrapperrununtil',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tglyph: 'xf050@FontAwesome',\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n\t\tconfig.tooltip = this.localize('tip');\n\t\tthis.callParent(arguments);\n\t}\n})","Ext.define(\"Voyant.notebook.editor.EditorWrapper\", {\n\textend: \"Ext.panel.Panel\",\n\tmixins: [\"Voyant.util.Localization\"],\n\trequires: [\"Voyant.notebook.editor.button.Movement\",\"Voyant.notebook.editor.button.Add\"],\n\talias: \"widget.notebookeditorwrapper\",\n\tcls: \"notebook-editor-wrapper\",\n\tconfig: {\n\t\tcellId: undefined,\n\t\tcontent: '',\n\t\tisEditing: false\n\t},\n\tborder: false,\n\tbodyBorder: false,\n\tinitComponent: function() {\n\t\tthis.setCellId(this.config.cellId);\n\t\tthis.on(\"afterrender\", function(){\n\t\t\tthis.getDockedItems().forEach(function(tb) {\n\t\t\t\ttb.getTargetEl().setVisibilityMode(Ext.dom.Element.VISIBILITY);\n\t\t\t});\n\t\t\tthis.setActiveMode(false);\n\t\t\tthis.body.on(\"click\", function() {\n\t\t\t\tthis.removeCls(\"notebook-editor-wrapper-hover\");\n\t\t\t\tthis.setActiveMode(true); // added for touch devices\n\t\t\t}, this);\n\t\t\tthis.mon(this.getEl(), \"mouseover\", function() {\n\t\t\t\tthis.setActiveMode(true);\n\t\t\t}, this);\n\t\t\tthis.mon(this.getEl(), \"mouseout\", function() {\n\t\t\t\tthis.setActiveMode(false);\n\t\t\t}, this);\t\t\t\n\t\t}, this);\n\t\tthis.callParent(arguments);\n\t},\n\tsetActiveMode: function(mode) {\n\t\tthis.getDockedItems().forEach(function(tb) {\n\t\t\tif (tb.dock=='right') {\n\t\t\t\ttb.items.each(function(item) {\n\t\t\t\t\tif (item.hasCls(\"notebookwrappercounter\")==false) {\n\t\t\t\t\t\titem.getTargetEl().setVisibility(mode);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\ttb.getTargetEl().setVisibility(mode);\n\t\t\t}\n\t\t}, this);\n\t\tif (!this.getIsEditing()) {\n\t\t\tif (mode) {\n\t\t\t\tthis.body.addCls(\"notebook-editor-wrapper-hover\");\n\t\t\t} else {\n\t\t\t\tthis.body.removeCls(\"notebook-editor-wrapper-hover\");\n\t\t\t}\n\t\t}\n\t}\n})","Ext.define(\"Voyant.notebook.editor.CodeEditor\", {\n\textend: \"Ext.Component\",\n\talias: \"widget.notebookcodeeditor\", \n\tmixins: [\"Voyant.util.Localization\",'Voyant.notebook.util.Embed'],\n\tembeddable: [\"Voyant.notebook.editor.CodeEditor\"],\n\tcls: 'notebook-code-editor',\n\tconfig: {\n\t\ttheme: 'ace/theme/chrome',\n\t\tmode: 'ace/mode/javascript',\n\t\tcontent: '',\n\t\tdocs: undefined,\n\t\tisChangeRegistered: false,\n\t\teditor: undefined,\n\t\teditedTimeout: undefined,\n\t\tlines: 0\n\t},\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tapi: {\n\t\t\tcontent: undefined\n\t\t}\n\t},\n\tconstructor: function(config) {\n\t\tthis.callParent(arguments);\n\t},\n\tlisteners: {\n\t\tboxready: function() {\n\t\t\tvar me = this;\n\t\t\tvar editor = ace.edit(Ext.getDom(this.getEl()));\n\t\t\t\n\t\t\teditor.$blockScrolling = Infinity;\n\t\t\teditor.getSession().setUseWorker(true);\n\t\t\teditor.setTheme(this.getTheme());\n\t\t\teditor.getSession().setMode(this.getMode());\n\t\t\teditor.setOptions({\n\t\t\t\tminLines: 6,\n\t\t\t\tmaxLines: Infinity, // this.getMode().indexOf(\"javascript\")>-1 ? Infinity : 10,\n\t\t\t\tautoScrollEditorIntoView: true,\n\t\t\t\tscrollPastEnd: true\n\t\t\t});\n\t\t\teditor.setHighlightActiveLine(false);\n\t\t\teditor.setHighlightGutterLine(false);\n\t\t\teditor.renderer.setShowPrintMargin(false);\n//\t\t\teditor.renderer.setShowGutter(false);\n\t\t\t\n\t\t\teditor.setValue(this.getContent() ? this.getContent() : \"\" /*this.localize('emptyText')*/);\n\t\t\teditor.clearSelection();\n\n\t\t    editor.on(\"focus\", function() {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tme.getEditor().setHighlightGutterLine(true);\n\t\t\t\t}, 100); // slight delay to avoid selecting a range of text, caused by showing the gutter while mouse is still pressed\n\t\t    }, this);\n\t\t    editor.on(\"change\", function(ev, editor) {\n\t\t\t\tvar lines = editor.getSession().getScreenLength();\n\t\t\t\tif (lines!=me.getLines()) {\n\t\t\t\t\tme.up('notebookcodeeditorwrapper').setSize({height: lines*editor.renderer.lineHeight+editor.renderer.scrollBar.getWidth()})\n\t\t\t\t\tme.setLines(lines);\n\t\t\t\t}\n\t\t\t\tif (me.getIsChangeRegistered()==false) {\n\t\t\t\t\tme.setIsChangeRegistered(true);\n\t\t\t\t\tvar wrapper = me.up('notebookcodeeditorwrapper');\n\t\t\t\t\tif (wrapper) {\n\t\t\t\t\t\twrapper.setIsRun(false);\n\t\t\t\t\t\tvar notebook = wrapper.up(\"notebook\");\n\t\t\t\t\t\tif (notebook) {notebook.setIsEdited(true);}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!me.getEditedTimeout()) { // no timeout, so set it to 30 seconds\n\t\t\t\t\t\tme.setEditedTimeout(setTimeout(function() {\n\t\t\t\t\t\t\tme.setIsChangeRegistered(false);\n\t\t\t\t\t\t}, 30000));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t    }, this);\n\t\t    editor.on(\"blur\", function() {\n\t\t    \tme.getEditor().setHighlightGutterLine(false);\n\t\t    });\n\t\t\teditor.commands.addCommand({\n\t\t\t\tname: 'run',\n\t\t\t    bindKey: {win: \"Shift-Enter\", mac: \"Shift-Enter\"}, // additional bindings like alt/cmd-enter don't seem to work\n\t\t\t    exec: function(editor) {\n\t\t\t    \tvar wrapper = me.up('notebookcodeeditorwrapper');\n\t\t\t    \tif (wrapper) {\n\t\t\t    \t\twrapper.run();\n\t\t\t    \t}\n\t\t\t    }\t\t\t\t\n\t\t\t});\n\t\t\teditor.commands.addCommand({\n\t\t\t\tname: 'rununtil',\n\t\t\t    bindKey: {win: \"Command-Shift-Enter\", mac: \"Command-Shift-Enter\"}, // additional bindings like alt/cmd-enter don't seem to work\n\t\t\t    exec: function(editor) {\n\t\t\t    \tvar wrapper = me.up('notebookcodeeditorwrapper');\n\t\t\t    \tvar notebook = wrapper.up(\"notebook\");\n\t\t\t    \tnotebook.runUntil(wrapper);\n\t\t\t    }\t\t\t\t\n\t\t\t});\n\t\t\tthis.setEditor(editor);\n\n\t\t\tace.config.loadModule('ace/ext/tern', function (module) {\n\t\t\t\tme.getEditor().setOptions({\n\t\t\t\t\t/**\n\t\t\t\t\t * Either `true` or `false` or to enable with custom options pass object that\n\t\t\t\t\t * has options for tern server: http://ternjs.net/doc/manual.html#server_api\n\t\t\t\t\t * If `true`, then default options will be used\n\t\t\t\t\t */\n\t\t\t\t\tenableTern: {\n\t\t\t\t\t\t/* http://ternjs.net/doc/manual.html#option_defs */\n\t\t\t\t\t\tdefs: me.docs ? ['browser', 'ecma5', me.docs] : ['ecma5', 'browser'],\n\t\t\t\t\t\tplugins: {\n\t\t\t\t\t\t\tdoc_comment: {\n\t\t\t\t\t\t\t\tfullDocs: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * (default is true) If web worker is used for tern server.\n\t\t\t\t\t\t * This is recommended as it offers better performance, but prevents this from working in a local html file due to browser security restrictions\n\t\t\t\t\t\t */\n\t\t\t\t\t\tuseWorker: true\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t\t\t\t * when using tern, it takes over Ace's built in snippets support.\n\t\t\t\t\t * this setting affects all modes when using tern, not just javascript.\n\t\t\t\t\t */\n\t\t\t\t\tenableSnippets: false,\n\t\t\t\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * when using tern, Ace's basic text auto completion is enabled still by default.\n\t\t\t\t\t * This settings affects all modes when using tern, not just javascript.\n\t\t\t\t\t * For javascript mode the basic auto completion will be added to completion results if tern fails to find completions or if you double tab the hotkey for get completion (default is ctrl+space, so hit ctrl+space twice rapidly to include basic text completions in the result)\n\t\t\t\t\t */\n\t\t\t\t\tenableBasicAutocompletion: false\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tremoved: function(cmp, container) {\n\t\t\tif (cmp.getEditor()) {\n\t\t\t\tcmp.getEditor().destroy();\n\t\t\t}\n\t\t}\n\t\t\n\t},\n\t\n\tswitchModes: function(mode) {\n\t\tthis.setMode('ace/mode/'+mode);\n\t\tthis.getEditor().getSession().setMode(this.getMode());\n//\t\tthis.getEditor().setOptions({maxLines: this.getMode().indexOf(\"javascript\")>-1 ? Infinity : 10});\n\n\t},\n\t\n\tgetValue: function() {\n\t\treturn this.getEditor().getValue();\n\t}\n})","Ext.define(\"Voyant.notebook.editor.CodeEditorWrapper\", {\n\textend: \"Voyant.notebook.editor.EditorWrapper\",\n\trequires: [\"Voyant.notebook.editor.CodeEditor\",\"Voyant.notebook.editor.button.Run\",\"Voyant.notebook.editor.button.RunAll\"],\n\talias: \"widget.notebookcodeeditorwrapper\",\n\tcls: 'notebook-code-wrapper',\n\tstatics: {\n\t\ti18n: {\n\t\t\trunMultiple: \"Run multiple cells\",\n\t\t\trunUntil: \"Run up to here\",\n\t\t\trunUntilTip: \"Run previous code blocks and this one.\",\n\t\t\trunFrom: \"Run from here onwards\",\n\t\t\trunFromTip: \"Run this and following code blocks.\",\n\t\t\tcodeMode: \"select from several formats for this cell\",\n\t\t\tcodeModeTitle: \"Code Mode\",\n\t\t\tcodeModeTip: \"Select from multiple code formats for this cell.\",\n\t\t\tconfigureTip: \"Configuration Options\",\n\t\t\tautoExecuteOnLoad: \"auto-run this cell on page load\",\n\t\t\tok: \"OK\",\n\t\t\tcancel: \"Cancel\"\n\t\t},\n\t\tconfigWin: undefined,\n\t\tgetConfigWindow: function(codeEditorInstance) {\n\t\t\tif (this.configWin === undefined) {\n\t\t\t\tthis.configWin = new Ext.Window({\n\t\t\t\t\ttitle: codeEditorInstance.localize('codeModeTitle'),\n\t\t\t\t\tcloseAction: 'hide',\n\t\t\t\t\tlayout: 'fit',\n\t\t\t\t\twidth: 240,\n\t\t\t\t\titems: [{\n\t\t\t\t\t\txtype: 'form',\n\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\t\talign: 'stretch'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbodyPadding: 10,\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\txtype: 'fieldset',\n\t\t\t\t\t\t\ttitle: codeEditorInstance.localize(\"modeCode\"),\n\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\txtype : 'radiofield',\n\t\t\t\t\t\t\t\tboxLabel : codeEditorInstance.localize('modeJavascript'),\n\t\t\t\t\t\t\t\tname  : 'codeMode',\n\t\t\t\t\t\t\t\tinputValue: 'javascript',\n\t\t\t\t\t\t\t\tflex  : 1,\n\t\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\t\tchange: function(cmp, newval, oldval) {\n\t\t\t\t\t\t\t\t\t\tvar autoExecCheck = cmp.up().queryById('autoExecute');\n\t\t\t\t\t\t\t\t\t\tautoExecCheck.setHidden(!newval);\n\t\t\t\t\t\t\t\t\t\tif (!newval) {\n\t\t\t\t\t\t\t\t\t\t\tautoExecCheck.setValue(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\txtype: 'checkbox',\n\t\t\t\t\t\t\t\tboxLabel: codeEditorInstance.localize('autoExecuteOnLoad'),\n\t\t\t\t\t\t\t\tname: 'autoExecute',\n\t\t\t\t\t\t\t\titemId: 'autoExecute'\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\txtype: 'fieldset',\n\t\t\t\t\t\t\ttitle: codeEditorInstance.localize(\"modeData\"),\n\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype : 'radiofield',\n\t\t\t\t\t\t\t\t\tboxLabel : codeEditorInstance.localize('modeJson'),\n\t\t\t\t\t\t\t\t\tname  : 'codeMode',\n\t\t\t\t\t\t\t\t\tinputValue: 'json',\n\t\t\t\t\t\t\t\t\tflex  : 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype : 'radiofield',\n\t\t\t\t\t\t\t\t\tboxLabel : codeEditorInstance.localize('modeText'),\n\t\t\t\t\t\t\t\t\tname  : 'codeMode',\n\t\t\t\t\t\t\t\t\tinputValue: 'text',\n\t\t\t\t\t\t\t\t\tflex  : 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},/*{\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype : 'radiofield',\n\t\t\t\t\t\t\t\t\tboxLabel : codeEditorInstance.localize('modeCsv'),\n\t\t\t\t\t\t\t\t\tname  : 'codeMode',\n\t\t\t\t\t\t\t\t\tinputValue: 'csv',\n\t\t\t\t\t\t\t\t\tflex  : 1\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype : 'radiofield',\n\t\t\t\t\t\t\t\t\tboxLabel : codeEditorInstance.localize('modeTsv'),\n\t\t\t\t\t\t\t\t\tname  : 'codeMode',\n\t\t\t\t\t\t\t\t\tinputValue: 'tsv',\n\t\t\t\t\t\t\t\t\tflex  : 1\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},*/{\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype : 'radiofield',\n\t\t\t\t\t\t\t\t\tboxLabel : codeEditorInstance.localize('modeHtml'),\n\t\t\t\t\t\t\t\t\tname  : 'codeMode',\n\t\t\t\t\t\t\t\t\tinputValue: 'html',\n\t\t\t\t\t\t\t\t\tflex  : 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\txtype : 'radiofield',\n\t\t\t\t\t\t\t\t\tboxLabel : codeEditorInstance.localize('modeXml'),\n\t\t\t\t\t\t\t\t\tname  : 'codeMode',\n\t\t\t\t\t\t\t\t\tinputValue: 'xml',\n\t\t\t\t\t\t\t\t\tflex  : 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}],\n\t\t\t\t\tbuttons: [{\n\t\t\t\t\t\ttext: codeEditorInstance.localize('ok'),\n\t\t\t\t\t\titemId: 'ok'\n\t\t\t\t\t},{\n\t\t\t\t\t\ttext:  codeEditorInstance.localize('cancel'),\n\t\t\t\t\t\thandler: function(btn) {\n\t\t\t\t\t\t\tbtn.up('window').close();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}]\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// set form values\n\t\t\tvar mode = codeEditorInstance.getMode();\n\t\t\tthis.configWin.down('radiofield[name=codeMode][inputValue=\"'+mode+'\"]').setValue(true);\n\t\t\tthis.configWin.down('checkbox#autoExecute').setValue(codeEditorInstance.getAutoExecute());\n\t\t\t// set ok handler\n\t\t\tthis.configWin.down('button#ok').setHandler(function(btn) {\n\t\t\t\tvar win = btn.up('window');\n\t\t\t\tvar form = win.down('form');\n\t\t\t\tif (form.isDirty()) {\n\t\t\t\t\tvar values = form.getValues();\n\t\t\t\t\tcodeEditorInstance.switchModes(values.codeMode);\n\t\t\t\t\tcodeEditorInstance.setAutoExecute(values.autoExecute === 'on');\n\t\t\t\t\tcodeEditorInstance.down('button#config').toggleCls(\"autoExecute\", values.autoExecute === 'on');\n\t\t\t\t\tcodeEditorInstance.up('notebook').setIsEdited(true);\n\t\t\t\t}\n\t\t\t\twin.close();\n\t\t\t});\n\n\t\t\treturn this.configWin;\n\t\t}\n\t},\n\tconfig: {\n\t\tisRun: false,\n\t\tautoExecute: false,\n\t\tmode: 'javascript',\n\t\tisWarnedAboutPreviousCells: false,\n\t\texpandResults: true,\n\t\temptyResultsHeight: 40,\n\t\tminimumResultsHeight: 120\n\t},\n\tlayout: {\n\t\ttype: 'vbox',\n\t\talign: 'stretch'\n\t},\n\theight: 150,\n\tborder: false,\n\n\tEMPTY_RESULTS_TEXT: ' ', // text to use when clearing results, prior to running code\n\n\tconstructor: function(config) {\n\t\tconfig.mode = config.mode !== undefined ? config.mode : this.config.mode;\n\t\tvar runnable = config.mode.indexOf('javascript') > -1;\n\n\t\tthis.editor = Ext.create(\"Voyant.notebook.editor.CodeEditor\", {\n\t\t\tcontent: Ext.Array.from(config.input).join(\"\\n\"),\n\t\t\tdocs: config.docs,\n\t\t\tmode: 'ace/mode/'+config.mode\n\t\t});\n\n\t\tExt.apply(this, {\n\t\t\tdockedItems: [{\n\t\t\t    xtype: 'toolbar',\n\t\t\t    dock: 'left',\n\t\t\t    defaults: {\n\t\t\t    \ttextAlign: 'left'\n\t\t\t    },\n\t\t\t    items: [\n\t\t\t\t\t{\n\t\t\t\t\t\txtype: 'notebookwrapperadd'\n\t\t\t\t\t},{\n\t\t\t\t\t\txtype: 'notebookwrapperrun',\n\t\t\t\t\t\thidden: !runnable,\n\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\tclick: {\n\t\t\t\t\t\t\t\tfn: this.run,\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},{\n\t\t\t\t\t\tglyph: 'xf050@FontAwesome',\n\t\t\t\t\t\ttooltip: this.localize(\"runMultiple\"),\n\t\t\t\t\t\titemId: 'runMultiple',\n//\t\t\t\t\t\txtype: 'notebookwrapperrununtil',\n\t\t\t\t\t\thidden: !runnable,\n\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\tclick: {\n\t\t\t\t\t\t\t\tfn: function(btn, ev) {\n\t\t\t\t\t\t\t\t\tExt.create('Ext.menu.Menu', {\n\t\t\t\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t    \t\t\t\ttext: this.localize(\"runUntil\"),\n\t\t\t\t\t\t    \t\t\t\ttooltip: this.localize(\"runUntilTip\"),\n\t\t\t\t\t\t    \t\t\t\tglyph: 'xf049@FontAwesome',\n\t\t\t\t\t\t    \t\t\t\thandler: function() {\n\t\t\t\t\t\t    \t\t\t\t\tthis.up('notebook').runUntil(this);\n\t\t\t\t\t\t    \t\t\t\t},\n\t\t\t\t\t\t    \t\t\t\tscope: this\n\t\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t    \t\t\t\ttext: this.localize(\"runFrom\"),\n\t\t\t\t\t\t    \t\t\t\ttooltip: this.localize(\"runFromTip\"),\n\t\t\t\t\t\t    \t\t\t\tglyph: 'xf050@FontAwesome',\n\t\t\t\t\t\t    \t\t\t\thandler: function() {\n\t\t\t\t\t\t    \t\t\t\t\tthis.up('notebook').runFrom(this);\n\t\t\t\t\t\t    \t\t\t\t},\n\t\t\t\t\t\t    \t\t\t\tscope: this\n\t\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t\t}).showAt(ev.pageX, ev.pageY)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},{\n\t\t\t\t\t\txtype: 'button',\n\t\t\t\t\t\titemId: 'config',\n\t\t\t\t\t\tglyph: 'xf013@FontAwesome',\n\t\t\t\t\t\ttooltip: this.localize(\"configureTip\"),\n\t\t\t\t\t\tcls: config.autoExecute ? \"autoExecute\" : \"\",\n\t\t\t\t\t\thandler: function(btn, ev) {\n\t\t\t\t\t\t\tVoyant.notebook.editor.CodeEditorWrapper.getConfigWindow(this).show();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t},{\n\t\t\t\t\t\txtype: \"notebookwrapperexport\",\n\t\t\t\t\t\thidden: runnable\n\t\t\t\t\t}\n\t\t\t    ]\n\t\t\t},{\n\t\t\t    xtype: 'toolbar',\n\t\t\t    dock: 'right',\n\t\t\t    items: [{\n\t\t\t    \t\txtype: 'notebookwrappercounter',\n\t\t\t    \t\torder: config.order,\n\t\t\t    \t\tname: config.cellId\n\t\t\t    \t},{\n\t\t        \t\txtype: 'notebookwrapperremove'\n\t\t        \t},{\n\t\t\t        \txtype: 'notebookwrappermoveup'\n\t\t\t        },{\n\t\t\t        \txtype: 'notebookwrappermovedown'\n\t\t\t        }\n\t\t\t    ]\n\t\t\t}],\n\t\t\titems: [this.editor]\n\t\t});\n\n\t\tif (config.uiHtml !== undefined) {\n\t\t\tthis.items.push(this._getUIComponent(config.uiHtml))\n\t\t}\n\n\t\tthis.results = this._getResultsComponent(Ext.Array.from(config.output).join(\"\"), config);\n\t\tthis.results.setVisible(runnable);\n\t\tthis.items.push(this.results);\n\t\t\n\t\tthis.callParent(arguments);\n        \n\t},\n\t\n\tinitComponent: function(config) {\n\t\tvar me = this;\n\t\tme.on(\"afterrender\", function() {\n\t\t\tthis.getTargetEl().on(\"resize\", function(el) {\n\t\t\t\tme._setResultsHeight();\n\n\t\t\t\tvar height = 20;\n\t\t\t\tme.items.each(function(item) {height+=item.getHeight();})\n\t\t\t\tme.setSize({height: height});\n\t\t\t});\n\t\t}, this);\n\t\tme.callParent(arguments);\n\t},\n\t\n\tswitchModes: function(mode) {\n\t\tthis.setMode(mode);\n\t\tthis.editor.switchModes(mode);\n\n\t\tvar runnable = mode.indexOf('javascript') > -1;\n\t\tthis.down('notebookwrapperrun').setVisible(runnable);\n\t\tthis.down('notebookwrapperexport').setVisible(!runnable);\n\t\tthis.queryById(\"runMultiple\").setVisible(runnable);\n\t\tthis.results.setVisible(runnable);\n\t},\n\t\n\t/**\n\t * Run the code in this editor.\n\t * @param {boolean} forceRun True to force the code to run, otherwise a check is performed to see if previous editors have already run.\n\t */\n\trun: function(forceRun) {\n\t\tif (this.editor.getMode()==='ace/mode/javascript') { // only run JS\n\t\t\tif (forceRun===true || this.getIsWarnedAboutPreviousCells()) {\n\t\t\t\treturn this._run();\n\t\t\t} else {\n\t\t\t\t// this code was for checking if previous cells hadn't been run, but it didn't seem worthwhile\n\t\t\t\tvar notebook = this.up('notebook');\n\t\t\t\tExt.Array.each(notebook.query('notebookcodeeditorwrapper'), function(wrapper) {\n\t\t\t\t\tif (wrapper===this) {this._run(); return false;} // break\n\t\t\t\t\tif (wrapper.editor && wrapper.editor.getMode() === 'ace/mode/javascript' && wrapper.getIsRun()===false) {\n\t\t\t\t\t\tExt.Msg.confirm(this.localize('previousNotRunTitle'), this.localize('previousNotRun'), function(btnId) {\n\t\t\t\t\t\t\tif (btnId==='yes') {\n\t\t\t\t\t\t\t\tnotebook.runUntil(this);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis._run();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t\tthis.setIsWarnedAboutPreviousCells(true);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t}\n\t\t}\n\t},\n\t\n\t_run: function() {\n\t\tthis.results.show(); // make sure it's visible \n\t\tthis.results.update(this.EMPTY_RESULTS_TEXT); // clear out the results\n\t\tthis.results.mask('working\u2026'); // mask results\n\t\tvar code = this.editor.getValue();\n\t\tVoyant.notebook.util.Show.TARGET = this.results.getResultsEl(); // this is for output\n\t\tVoyant.notebook.Notebook.currentBlock = this; // this is to tie back in to the block\n\t\tVoyant.notebook.Notebook.currentNotebook.setCurrentBlock(this);\n\t\tvar result;\n\t\ttry {\n\t\t\t\n\t\t\t// I'd like to be able to run this in another scope/context, but it\n\t\t\t// doesn't seem possible for the type of code that's being run\n\t\t\tresult = eval.call(window, code);\n\t\t}\n\t\tcatch (e) {\n\t\t\tthis.results.unmask();\n\t\t\tVoyant.notebook.util.Show.showError(e);\n\t\t\tthis.getTargetEl().fireEvent('resize');\n\t\t\treturn e;\n\t\t}\n\t\tthis.setIsRun(true);\n\t\tif (result!==undefined) {\n\t\t\tif (result.then && result.catch && result.finally) {\n\t\t\t\tvar me = this;\n\t\t\t\tresult.then(function(result) {\n\t\t\t\t\tme.results.unmask();\n\t\t\t\t\tif (result!==undefined) {\n\t\t\t\t\t\tme._showResult(result);\n\t\t\t\t\t}\n\t\t\t\t}).catch(function(err) {\n\t\t\t\t\tme.results.unmask();\n\t\t\t\t\tVoyant.notebook.util.Show.showError(err);\n\t\t\t\t}).finally(function() {\n\t\t\t\t\tExt.defer(function() {this.getTargetEl().fireEvent('resize')}, 50, me);\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.results.unmask();\n\t\t\t\tthis._showResult(result);\n\t\t\t\tthis.getTargetEl().fireEvent('resize');\n\t\t\t}\n\t\t} else {\n\t\t\tthis.results.unmask();\n\t\t\tthis.getTargetEl().fireEvent('resize');\n\t\t}\n\t\treturn result;\n\t},\n\n\t_getResultsComponent: function(html, config) {\n\t\tvar me = this;\n\t\tvar isExpanded = config.expandResults === undefined ? me.config.expandResults : config.expandResults;\n\t\tvar height = me.config.emptyResultsHeight;\n\n\t\treturn Ext.create('Ext.Container', {\n\t\t\titemId: 'parent',\n\t\t\tcls: 'notebook-code-results',\n\t\t\theight: height,\n\t\t\tlayout: {\n\t\t\t\ttype: 'vbox',\n\t\t\t\talign: 'stretch'\n\t\t\t},\n\t\t\titems: [{\n\t\t\t\txtype: 'container',\n\t\t\t\tflex: 1,\n\t\t\t\tlayout: {\n\t\t\t\t\ttype: 'absolute'\n\t\t\t\t},\n\t\t\t\titems: [{\n\t\t\t\t\txtype: 'component',\n\t\t\t\t\titemId: 'results',\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tanchor: '100%',\n\t\t\t\t\theight: '100%',\n\t\t\t\t\thtml: html\n\t\t\t\t},{\n\t\t\t\t\txtype: 'toolbar',\n\t\t\t\t\titemId: 'buttons',\n\t\t\t\t\thidden: true,\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tstyle: { background: 'none', paddingTop: '0px', pointerEvents: 'none' },\n\t\t\t\t\tdefaults: { style: { pointerEvents: 'auto'} },\n\t\t\t\t\titems: ['->',{\n\t\t\t\t\t\titemId: 'expandButton',\n\t\t\t\t\t\tglyph: isExpanded ? 'xf066@FontAwesome' : 'xf065@FontAwesome',\n\t\t\t\t\t\ttooltip: isExpanded ? 'Contract Results' : 'Expand Results',\n\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\tme.results.doExpandContract();\n\t\t\t\t\t\t}\n\t\t\t\t\t},{\n\t\t\t\t\t\txtype: 'notebookwrapperexport',\n\t\t\t\t\t\texportType: 'output'\n\t\t\t\t\t},{\n\t\t\t\t\t\tglyph: 'xf014@FontAwesome',\n\t\t\t\t\t\ttooltip: 'Remove Results',\n\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\tme.clearResults();\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t}]\n\t\t\t},{\n\t\t\t\txtype: 'component',\n\t\t\t\titemId: 'expandWidget',\n\t\t\t\theight: 20,\n\t\t\t\thidden: isExpanded ? true : false,\n\t\t\t\tstyle: {textAlign: 'center', fontSize: '26px', cursor: 'pointer', borderTop: '1px solid #DDD'},\n\t\t\t\thtml: '&#8943;',\n\t\t\t\tlisteners: {\n\t\t\t\t\tafterrender: function(cmp) {\n\t\t\t\t\t\tcmp.getEl().on('click', function() {\n\t\t\t\t\t\t\tme.results.doExpandContract();\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}],\n\t\t\tgetValue: function() {\n\t\t\t\tvar resultEl = this.getResultsEl().dom.cloneNode(true);\n\t\t\t\tvar output = resultEl.innerHTML;\n\t\t\t\treturn output;\n\t\t\t},\n\t\t\tgetResultsEl: function() {\n\t\t\t\treturn this.down('#results').getEl();\n\t\t\t},\n\t\t\tdoExpandContract: function() {\n\t\t\t\tvar expandButton = me.results.down('#expandButton');\n\t\t\t\tif (me.getExpandResults()) {\n\t\t\t\t\tme.setExpandResults(false);\n\t\t\t\t\texpandButton.setTooltip('Expand Results');\n\t\t\t\t\texpandButton.setGlyph('xf065@FontAwesome');\n\t\t\t\t} else {\n\t\t\t\t\tme.setExpandResults(true);\n\t\t\t\t\texpandButton.setTooltip('Contract Results');\n\t\t\t\t\texpandButton.setGlyph('xf066@FontAwesome');\n\t\t\t\t}\n\t\t\t\tme.getTargetEl().fireEvent('resize');\n\t\t\t},\n\t\t\t// override update method and call it on results child instead\n\t\t\tupdate: function() {\n\t\t\t\tvar results = this.down('#results');\n\t\t\t\tresults.update.apply(results, arguments);\n\t\t\t},\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function(cmp) {\n\t\t\t\t\tcmp.getEl().on('mouseover', function(event, el) {\n\t\t\t\t\t\tcmp.down('#buttons').setVisible(true);\n\t\t\t\t\t});\n\t\t\t\t\tcmp.getEl().on('mouseout', function(event, el) {\n\t\t\t\t\t\tcmp.down('#buttons').setVisible(false);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t_getUIComponent: function(html) {\n\t\treturn Ext.create('Ext.Component', {\n\t\t\talign: 'stretch',\n\t\t\tcls: 'notebook-code-ui',\n\t\t\tpadding: '20 10',\n\t\t\thtml: html,\n\t\t\tgetValue: function() {\n\t\t\t\tconst el = this.getTargetEl()\n\t\t\t\tconst resultEl = el.dom.cloneNode(true);\n\t\t\t\tlet output = resultEl.innerHTML;\n\t\t\t\treturn output;\n\t\t\t}\n\t\t});\n\t},\n\n\t_showResult: function(result) {\n\t\t// check for pre-existing content (such as from highcharts) and if it exists don't update\n\t\tif (this.results.getResultsEl().dom.innerHTML === this.EMPTY_RESULTS_TEXT) {\n\t\t\tif (result.toString) {result = result.toString()}\n\t\t\tif (result && result.then) {\n\t\t\t\tvar me = this;\n\t\t\t\tresult.then(out => {\n\t\t\t\t\tme.results.update(out);\n\t\t\t\t\treturn out;\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.results.update(result);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Set the height of the results component\n\t */\n\t_setResultsHeight: function() {\n\t\tvar height = this._measureResultsHeight();\n\t\tvar resultsEl = this.results.getResultsEl();\n\t\tvar expandWidget = this.results.down('#expandWidget');\n\t\tif (this.getExpandResults()) {\n\t\t\texpandWidget.hide();\n\t\t\tthis.results.setHeight(Math.max(height, this.getEmptyResultsHeight()));\n\t\t\tresultsEl.removeCls('collapsed');\n\t\t} else {\n\t\t\theight = Math.min(Math.max(height, this.getEmptyResultsHeight()), this.getMinimumResultsHeight());\n\t\t\tif (height < this.getMinimumResultsHeight()) {\n\t\t\t\texpandWidget.hide();\n\t\t\t} else {\n\t\t\t\texpandWidget.show();\n\t\t\t}\n\t\t\tthis.results.setHeight(height);\n\t\t\tresultsEl.addCls('collapsed');\n\t\t}\n\t},\n\n\t_measureResultsHeight: function() {\n\t\tif (this.results.paddingHeight === undefined) {\n\t\t\t// compute and store parent padding, which we'll need when determining proper height\n\t\t\tvar computedStyle = window.getComputedStyle(this.results.getEl().dom);\n\t\t\tthis.results.paddingHeight = parseFloat(computedStyle.getPropertyValue('padding-top'))+parseFloat(computedStyle.getPropertyValue('padding-bottom'));\n\t\t}\n\n\t\tvar resultsEl = this.results.getResultsEl();\n\n\t\tvar resultsChildHeight = undefined;\n\t\tif (resultsEl.dom.childElementCount > 0) {\n\t\t\t// child might be taller than the results el (e.g. in the case of highcharts)\n\t\t\tresultsChildHeight = resultsEl.getFirstChild().getHeight() + this.results.paddingHeight;\n\t\t} else if (resultsEl.dom.firstChild !== null && resultsEl.dom.firstChild.nodeType === Node.TEXT_NODE) {\n\t\t\t// calculate text height\n\t\t\tvar textHeight = Ext.util.TextMetrics.measure(resultsEl, resultsEl.dom.firstChild.data, resultsEl.getWidth()).height;\n\t\t\tresultsChildHeight = textHeight + this.results.paddingHeight;\n\t\t} else {\n\t\t\t// no results?\n\t\t\tresultsChildHeight = this.getEmptyResultsHeight();\n\t\t}\n\n\t\treturn resultsChildHeight;\n\t},\n\t\n\tclearResults: function() {\n\t\tthis.results.show();\n\t\t\n\t\tvar panel = this.results.el.down('.x-panel');\n\t\tif (panel) {\n\t\t\tvar id = panel.id;\n\t\t\tvar cmp = Ext.getCmp(id);\n\t\t\tif (cmp) {\n\t\t\t\tcmp.destroy();\n\t\t\t} else {\n\t\t\t\tpanel.destroy();\n\t\t\t}\n\t\t} else if (this.results.getResultsEl().dom.hasAttribute('data-highcharts-chart')) {\n\t\t\tvar chartId = this.results.getResultsEl().dom.id;\n\t\t\tvar highchart = undefined;\n\t\t\tHighcharts.charts.forEach(function(chart) {\n\t\t\t\tif (chart !== undefined && chart.renderTo.id === chartId) {\n\t\t\t\t\thighchart = chart;\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (highchart) {\n\t\t\t\thighchart.destroy();\n\t\t\t\t// remove highcharts style changes from results element\n\t\t\t\tvar resultsDom = this.results.getResultsEl().dom;\n\t\t\t\tresultsDom.style.height = '100%';\n\t\t\t\tresultsDom.style.overflow = '';\n\t\t\t} else {\n\t\t\t\tconsole.warn('tried to destroy highchart but could not', chartId);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.results.update(' ');\n\t\t}\n\t\tthis.getTargetEl().fireEvent('resize');\n\t},\n\t\n\ttryToUnmask: function() {\n\t\tif (Spyral && Spyral.promises) {\n\t\t\tExt.defer(this.tryToUnmask, 20, this);\n\t\t}\n\t\tif (Voyant.application.getDeferredCount()===0) {\n\t\t\tfor (var key in window) {\n\t\t\t\tif (typeof window[key] == 'object' && window[key] && key!=\"opener\" && window[key].isFulfilled &&  window[key].isFulfilled()) {\n\t\t\t\t\twindow[key] = window[key].valueOf();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.results.unmask();\n\t\t\tif (this.results.getTargetEl().getHtml().trim().length===0) {\n\t\t\t\tthis.results.hide();\n\t\t\t}\n\t\t\tthis.getTargetEl().fireEvent('resize');\n\t\t}\n\t\telse {\n\t\t\tExt.defer(this.tryToUnmask, 20, this);\n\t\t}\n\t},\n\t\n\tgetContent: function() {\n\t\tvar toReturn = {\n\t\t\tinput: this.editor.getValue(),\n\t\t\tmode: this.getMode()\n\t\t}\n\t\tif (toReturn.mode==='javascript') {\n\t\t\ttoReturn.output = this.results.getValue();\n\t\t\tvar ui = this.down('component[cls=\"notebook-code-ui\"]');\n\t\t\tif (ui !== null) {\n\t\t\t\ttoReturn.ui = ui.getValue();\n\t\t\t}\n\t\t}\n\t\treturn toReturn;\n\t},\n\t\n\tsetContentAndMode: function(content, mode, config) {\n\t\tdebugger\n\t\tthis.editor.setContent(content);\n\t\tthis.switchModes(mode || \"javascript\")\n\t}\n})","Ext.define(\"Voyant.notebook.editor.TextEditor\", {\n\textend: \"Ext.Component\",\n\tmixins: [\"Voyant.util.Localization\"],\n\talias: \"widget.notebooktexteditor\",\n\tcls: 'notebook-text-editor',\n\tconfig: {\n\t\tckeditorConfig : { // when upgrading ckeditor, remember to copy stopediting and inserthtml4x plugins\n\t\t\ttoolbar:  [\n\t\t\t\t    \t{ name: 'basicstyles', items: [ 'Bold', 'Italic', '-', 'RemoveFormat' ] },\n\t\t\t\t    \t{ name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Justify', 'Outdent', 'Indent', 'Blockquote', 'JustifyLeft', 'JustifyCenter', 'JustifyRight' ] },\n\t\t\t\t    \t{ name: 'colors', items: [ 'TextColor', 'BGColor' ] },\n\t\t\t\t    \t{ name: 'styles', items: [ 'Styles', 'Format' ] },\n\t\t\t\t    \t{ name: 'links', items: [ 'Link', 'Unlink', 'Anchor'] },\n\t\t\t\t    \t{ name: 'insert', items: [ 'Image', 'Table' ] },\n\t\t\t\t    \t{ name: 'document', items: [ 'inserthtml4x', 'Sourcedialog', 'Stopediting'] }\n\t\t    ],\n\t\t    \n\t\t    extraPlugins: 'stopediting,sourcedialog,justify,colorbutton,inserthtml4x',\n\t\t\tallowedContent: true,\n\t\t\ttoolbarCanCollapse: false,\n\t\t\tstartupFocus: true\n\t\t},\n\t\teditor: undefined,\n\t\tisEditRegistered: false,\n\t\tcurrentHeight: 0\n\t},\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\tborder: false,\n\tconstructor: function(config) {\n\t\tExt.apply(this, {\n\t\t\thtml: config.content ? config.content : this.localize(\"emptyText\")\n\t\t});\n        this.callParent(arguments);\n\t},\n\tlisteners: {\n\t\tboxready: function(cmp) {\n\t\t\tthis.getTargetEl().on(\"click\", function(e, t) {\n\t\t\t\tif (t.tagName!=\"A\") {\n\t\t\t\t\tthis.handleClick(cmp);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tremoved: function(cmp, container) {\n\t\t\t// properly remove editor\n\t\t\tif (cmp.getEditor()) {\n\t\t\t\tcmp.getEditor().focusManager.blur(true); //focusManager bug workaround, see: https://dev.ckeditor.com/ticket/16825\n\t\t\t\tcmp.getEditor().destroy();\n\t\t\t}\n\t\t}\n\t},\n\t\n\thandleClick: function(cmp) {\n\t\tif (!cmp.getEditor() || (cmp.getEditor() && cmp.getEditor().readOnly)) {\n\t\t\tvar el = this.getTargetEl();\n\t\t\tel.set({contenteditable: true});\n\t\t\tthis.findParentByType(\"notebookeditorwrapper\").setIsEditing(true);\n\t\t\tif (!cmp.getEditor()) {\n\t\t\t\tvar editor = CKEDITOR.inline( el.dom, this.getCkeditorConfig() );\n\t\t\t\t\n\t\t\t\t// erase contents if it's click to edit (not localized, FIXME\n\t\t\t\teditor.on(\"focus\", function(evt) {\n\t\t\t\t\tif (this.getTargetEl().dom.innerText==this.localize(\"emptyText\")) {\n\t\t\t\t\t\tthis.getTargetEl().update('')\n\t\t\t\t\t}\n\t\t\t\t}, this)\n\t\t\t\t\n\t\t\t\t\n\t\t\t\teditor.on(\"blur\", function(evt) {\n//\t\t\t\t\tcmp.setEditor(undefined);\n\t\t\t\t\tcmp.findParentByType(\"notebookeditorwrapper\").setIsEditing(false).getEl().fireEvent(\"mouseout\");\n//\t\t\t\t\tel.set({contenteditable: false});\n\t\t\t\t\teditor.setReadOnly(true);\n\t\t\t\t})\n\t\t\t\teditor.on(\"change\", function() {\n\t\t\t\t\tvar editorHeight = editor.container.$.clientHeight;\n\t\t\t\t\tif (editorHeight!=this.getCurrentHeight()) {\n\t\t\t\t\t\tthis.findParentByType(\"notebookeditorwrapper\").setHeight(editorHeight);\n\t\t\t\t\t\tthis.setCurrentHeight(editor.container.$.clientHeight)\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.getIsEditRegistered()) {\n\t\t\t\t\t\tthis.findParentByType(\"notebook\").setIsEdited(true);\n\t\t\t\t\t\tthis.setIsEditRegistered(true);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar me = this; // make sure to allow edits to be auto-saved every 30 seconds\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tme.setIsEditRegistered(false);\n\t\t\t\t\t\t}, 30000);\n\t\t\t\t\t}\n\t\t\t\t}, this)\n\t\t\t\tthis.setEditor(editor);\n\t\t\t} else {\n\t\t\t\tcmp.getEditor().setReadOnly(false);\n\t\t\t}\n\t\t}\n\t},\n\t\n\tgetContent: function() {\n\t\treturn this.getTargetEl().dom.innerHTML;\n\t}\n})","Ext.define(\"Voyant.notebook.editor.TextEditorWrapper\", {\n\textend: \"Voyant.notebook.editor.EditorWrapper\",\n\trequires: [\"Voyant.notebook.editor.TextEditor\",\"Voyant.notebook.editor.button.Edit\"],\n\talias: \"widget.notebooktexteditorwrapper\",\n\tcls: 'notebook-text-wrapper',\n\tconfig: {\n\t\tcontent: ''\n\t},\n\tminHeight: 85,\n\tconstructor: function(config) {\n\t\tExt.apply(this, {\n\t\t\titems: [{\n\t\t\t\txtype: 'notebooktexteditor',\n\t\t\t\tcontent: Ext.Array.from(config.input).join(\"\")\n\t\t\t}],\n\t\t\tdockedItems: [{\n\t\t\t    xtype: 'toolbar',\n\t\t\t    dock: 'left',\n\t\t\t    items: [{\n\t\t\t\t    \txtype: 'notebookwrapperadd'\n\t\t\t\t\t}\n\t\t\t    ]\n\t\t\t},{\n\t\t\t    xtype: 'toolbar',\n\t\t\t    dock: 'right',\n\t\t\t    items: [{\n\t\t\t    \t\txtype: 'notebookwrappercounter',\n\t\t\t    \t\torder: config.order,\n\t\t\t    \t\tname: config.cellId\n\t\t\t    \t},{\n\t\t        \t\txtype: 'notebookwrapperremove'\n\t\t        \t},{\n\t\t\t        \txtype: 'notebookwrappermoveup'\n\t\t\t        },{\n\t\t\t        \txtype: 'notebookwrappermovedown'\n\t\t\t        }\n\t\t\t    ]\n\t\t\t}]\n\t\t});\n        this.callParent(arguments);\n\t},\n\t\n\tgetContent: function() {\n\t\treturn this.items.get(0).getContent();\n\t}\n\t\n})","Ext.define(\"Voyant.notebook.github.OctokitWrapper\", {\n\textend: \"Ext.Base\",\n\talias: \"octokitwrapper\",\n\n\toctokit: undefined,\n\n\tconstructor: function(config) {\n\t\tconst authToken = config.authToken;\n\t\tthis.octokit = new Octokit({\n\t\t\tauth: authToken,\n\t\t\tuserAgent: 'https://github.com/sgsinclair/Voyant'\n\t\t});\n\t},\n\n\tgetInfoForAuthenticatedUser: function() {\n\t\treturn this.octokit.users.getAuthenticated();\n\t},\n\n\tgetReposForAuthenticatedUser: function(affiliation='owner', page=0, per_page=10) {\n\t\treturn this.octokit.repos.listForAuthenticatedUser({\n\t\t\taffiliation,\n\t\t\tpage,\n\t\t\tper_page\n\t\t});\n\t},\n\n\tgetReposForUser: function(owner, page=0, per_page=10) {\n\t\treturn this.octokit.search.repos({\n\t\t\tq: 'user:'+owner,\n\t\t\tpage,\n\t\t\tper_page\n\t\t})\n\t},\n\n\tsearchWithinRepositories: function(query, page=0, per_page=10) {\n\t\tconsole.log(query);\n\t},\n\n\tgetRepoContents: function(repoId) {\n\t\tlet {owner, repo} = this.parseFullName(repoId);\n\t\treturn this.getBranchSHAs({owner, repo, branch: 'master'}).then(function(resp) {\n\t\t\treturn this.getTreeContentsRecursively(resp);\n\t\t}.bind(this));\n\t},\n\n\tgetTreeContentsRecursively: function(params) {\n\t\treturn this.octokit.git.getTree({\n\t\t\towner: params.owner,\n\t\t\trepo: params.repo,\n\t\t\ttree_sha: params.baseTreeSHA,\n\t\t\trecursive: 1,\n\t\t\theaders: {\n\t\t\t\t'If-None-Match': '' // cache busting\n\t\t\t}\n\t\t}).then(function (resp) {\n\t\t\treturn {\n\t\t\t\t...params,\n\t\t\t\tcontents: this.unflattenContents(resp.data.tree),\n\t\t\t\ttruncated: resp.data.truncated\n\t\t\t}\n\t\t}.bind(this));\n\t},\n\n\tloadFile: function(repoId, path) {\n\t\tlet {owner, repo} = this.parseFullName(repoId);\n\t\tlet ref = 'master';\n\t\treturn this.octokit.repos.getContents({\n\t\t\towner, repo, ref, path\n\t\t}).then(function(resp) {\n\t\t\treturn {\n\t\t\t\towner, repo, ref, path,\n\t\t\t\tsha: resp.data.sha,\n\t\t\t\tfile: atob(resp.data.content)\n\t\t\t}\n\t\t}.bind(this));\n\t},\n\n\t// SAVING\n\n\tdoesRepoExist: function(owner, repo) {\n\t\treturn this.getRepoContents(owner+'/'+repo).then(function(resp) {\n\t\t\treturn true;\n\t\t}.bind(this), function(err) {\n\t\t\tconsole.log(err);\n\t\t\treturn false;\n\t\t}.bind(this));\n\t},\n\n\tgetPermissionsForUser: function(owner, repo, username) {\n\t\treturn this.octokit.repos.getCollaboratorPermissionLevel({\n\t\t\towner, repo, username\n\t\t}).then(function(resp) {\n\t\t\treturn resp.data.permission;\n\t\t}.bind(this), function(err) {\n\t\t\treturn 'none';\n\t\t}.bind(this));\n\t},\n\n\tsaveFile: async function(owner, repo, path, content, branch, message, sha) {\n\t\tif (sha === undefined) {\n\t\t\tsha = await this.getLatestFileSHA({owner, repo, branch, path})\n\t\t}\n\t\treturn this.octokit.repos.createOrUpdateFile({owner, repo, path, content: btoa(content), branch, message, sha});\n\t},\n\n\t// UTILITIES\n\n\tparseFullName: function(fullName) {\n\t\tlet [owner, repo] = fullName.split('/');\n\t\treturn {owner, repo};\n\t},\n\n\tgetBranchSHAs: function(params) {\n\t\treturn this.octokit.repos.getBranch({\n\t\t\towner: params.owner,\n\t\t\trepo: params.repo,\n\t\t\tbranch: params.branch,\n\t\t\theaders: {\n\t\t\t\t'If-None-Match': '' // cache busting\n\t\t\t}\n\t\t}).then((resp) => {\n\t\t\treturn {\n\t\t\t\t...params,\n\t\t\t\tbaseTreeSHA: resp.data.commit.commit.tree.sha,\n\t\t\t\tparentCommitSHA: resp.data.commit.sha\n\t\t\t}\n\t\t})\n\t},\n\n\tgetLatestFileSHA: async function(params) {\n\t\tconst {owner, repo, branch, path} = params\n\t\tconst {data: {data: {repository: {object: result}}}} = await this.octokit.request({\n\t\t\tmethod: 'POST',\n\t\t\turl: '/graphql',\n\t\t\tquery: `{\n\t\t\t\trepository(owner: \"${owner}\", name: \"${repo}\") {\n\t\t\t\t\tobject(expression: \"${branch}:${path}\") {\n\t\t\t\t\t\t... on Blob {\n\t\t\t\t\t\t\toid\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}`\n\t\t}).catch(function(error) {\n\t\t\tconsole.log(error);\n\t\t});\n\t\tconst sha = result ? result.oid : undefined\n\t\treturn sha\n\t},\n\n\tunflattenContents: function(flatContents) {\n\t\tconst files = flatContents.filter(file=>file.type==='blob')\n\t\tvar result = {type: 'folder', name: '', path: '', contents: []}\n\t\tconst findSubFolder = (parentFolder, folderNameToFind) => {\n\t\t\t const subfolder = parentFolder.contents.find(el => {\n\t\t\t \treturn el.type === 'folder' && el.name === folderNameToFind\n\t\t\t })\n\t\t\treturn subfolder;\n\t\t}\n\t\tconst addSubFolder = (newFolderName, parentFolder) => {\n\t\t\tconst newSubFolder = {type: 'folder', name: newFolderName, path: `${parentFolder.path}/${newFolderName}`, contents:[]}\n\t\t\tparentFolder.contents.push(newSubFolder)\n\t\t\treturn newSubFolder;\n\t\t}\n\t\tconst addFile = (newFileName, parentFolder) => {\n\t\t\tconst newFile = {type: 'file', name: newFileName, path: `${parentFolder.path}/${newFileName}`}\n\t\t\tparentFolder.contents.push(newFile)\n\t\t}\n\t\tconst isFile = (pathSections, currentIndex) => {\n\t\t\treturn pathSections.length - 1 == currentIndex\n\t\t}\n\n\t\tfiles.forEach(file=>{\n\t\t\tconst pathSections = file.path.split('/')\n\t\t\tpathSections.reduce(function(parentFolder, pathSection, pathSectionIndex) {\n\t\t\t\tconst subFolder = findSubFolder(parentFolder, pathSection)\n\t\t\t\tif (subFolder) {\n\t\t\t\t\treturn subFolder\n\t\t\t\t} else if (isFile(pathSections, pathSectionIndex)) {\n\t\t\t\t\treturn addFile(pathSection, parentFolder)\n\t\t\t\t} else {\n\t\t\t\t\treturn addSubFolder(pathSection, parentFolder)\n\t\t\t\t}\n\t\t\t}, result)\n\t\t})\n\t\treturn result\n\t}\n});\n","Ext.define(\"Voyant.notebook.github.ReposBrowser\", {\n\textend: \"Ext.container.Container\",\n\txtype: \"githubreposbrowser\",\n\tconfig: {\n\t\trepoType: 'owner',\n\t\tselectedNode: undefined,\n\t\trepoId: undefined,\n\t\tpath: undefined\n\t},\n\n\toctokit: undefined,\n\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n\t\t\n\t\tthis.octokit = config.octokit;\n\n    \tthis.callParent(arguments);\n    },\n\n\tinitComponent: function() {\n\t\tExt.apply(this, {\n\t\t\tlayout: {\n\t\t\t\ttype: 'hbox',\n\t\t\t\talign: 'stretch',\n\t\t\t\tpack: 'start'\n\t\t\t},\n\t\t\titems: [{\n\t\t\t\tlayout: {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\talign: 'stretch',\n\t\t\t\t\tpack: 'start'\n\t\t\t\t},\n\t\t\t\tflex: 1,\n\t\t\t\titems: [{\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'accordion'\n\t\t\t\t\t},\n\t\t\t\t\titems: [{\n\t\t\t\t\t\ttitle: 'My Repositories',\n\t\t\t\t\t\tframe: true,\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\txtype: 'radiogroup',\n\t\t\t\t\t\t\tfieldLabel: 'Show repositories for which I am',\n\t\t\t\t\t\t\tlabelAlign: 'top',\n\t\t\t\t\t\t\tlayout: 'vbox',\n\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\tboxLabel: 'Owner',\n\t\t\t\t\t\t\t\tname: 'repoType',\n\t\t\t\t\t\t\t\tinputValue: 'owner',\n\t\t\t\t\t\t\t\tchecked: true\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\tboxLabel: 'Collaborator',\n\t\t\t\t\t\t\t\tname: 'repoType',\n\t\t\t\t\t\t\t\tinputValue: 'collaborator'\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\tboxLabel: 'Organization Member',\n\t\t\t\t\t\t\t\tname: 'repoType',\n\t\t\t\t\t\t\t\tinputValue: 'organization_member'\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\tchange: function(field, newValues, oldValue) {\n\t\t\t\t\t\t\t\t\tthis.setRepoType(newValues.repoType);\n\t\t\t\t\t\t\t\t\tthis.clearTree(true);\n\t\t\t\t\t\t\t\t\tthis.octokit.getReposForAuthenticatedUser(this.getRepoType(), 0, 100).then((resp) => {\n\t\t\t\t\t\t\t\t\t\tthis.addReposToTree(resp.data);\n\t\t\t\t\t\t\t\t\t},(error) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\texpand: function() {\n\t\t\t\t\t\t\t\tthis.clearTree(true);\n\t\t\t\t\t\t\t\tthis.octokit.getReposForAuthenticatedUser(this.getRepoType(), 0, 100).then((resp) => {\n\t\t\t\t\t\t\t\t\tthis.addReposToTree(resp.data);\n\t\t\t\t\t\t\t\t},(error) => {\n\t\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t}\n\t\t\t\t\t},{\n\t\t\t\t\t\ttitle: 'Public Repositories',\n\t\t\t\t\t\tframe: true,\n\t\t\t\t\t\tlayout: 'vbox',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tfieldLabel: 'Limit to user or organization',\n\t\t\t\t\t\t\tlabelAlign: 'top',\n\t\t\t\t\t\t\txtype: 'textfield'\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\ttext: 'Search',\n\t\t\t\t\t\t\txtype: 'button',\n\t\t\t\t\t\t\thandler: function(button) {\n\t\t\t\t\t\t\t\tlet repoOwner = button.prev('textfield').getValue();\n\t\t\t\t\t\t\t\tif (repoOwner !== '') {\n\t\t\t\t\t\t\t\t\tthis.clearTree(true);\n\t\t\t\t\t\t\t\t\tthis.octokit.getReposForUser(repoOwner, 0, 100).then((resp) => {\n\t\t\t\t\t\t\t\t\t\tthis.addReposToTree(resp.data.items);\n\t\t\t\t\t\t\t\t\t},(error) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\texpand: function() {\n\t\t\t\t\t\t\t\tthis.clearTree();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t\t// ,{\n\t\t\t\t// \tpadding: '20 0 0 0',\n\t\t\t\t// \titems: [{\n\t\t\t\t// \t\tfieldLabel: 'Search within repositories',\n\t\t\t\t// \t\tlabelAlign: 'top',\n\t\t\t\t// \t\txtype: 'textfield'\n\t\t\t\t// \t},{\n\t\t\t\t// \t\txtype: 'button',\n\t\t\t\t// \t\ttext: 'Search',\n\t\t\t\t// \t\tmargin: '0 5 0 0',\n\t\t\t\t// \t\thandler: function(button) {\n\t\t\t\t// \t\t\tlet query = button.prev('textfield').getValue();\n\t\t\t\t// \t\t\tif (query !== '') {\n\t\t\t\t// \t\t\t\tthis.searchWithinRepositories(query);\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t},\n\t\t\t\t// \t\tscope: this\n\t\t\t\t// \t},{\n\t\t\t\t// \t\txtype: 'button',\n\t\t\t\t// \t\ttext: 'Clear',\n\t\t\t\t// \t\thandler: function(button) {\n\t\t\t\t\t\t\t\n\t\t\t\t// \t\t},\n\t\t\t\t// \t\tscope: this\n\t\t\t\t// \t}]\n\t\t\t\t// }\n\t\t\t\t]\n\t\t\t},{\n\t\t\t\tflex: 2,\n\t\t\t\tlayout: 'fit',\n\t\t\t\txtype: 'treepanel',\n\t\t\t\titemId: 'repoTree',\n\t\t\t\ttitle: 'Repositories',\n\t\t\t\tscrollable: true,\n\t\t\t\trootVisible: false,\n\t\t\t\tviewConfig: {\n\t\t\t\t\temptyText: 'No results',\n\t\t\t\t\tlisteners: {\n\t\t\t\t\t\tafteritemexpand: function(node, index, el) {\n\t\t\t\t\t\t\tif (node.hasChildNodes() === false) {\n\t\t\t\t\t\t\t\tswitch(node.data.type) {\n\t\t\t\t\t\t\t\t\tcase 'repo':\n\t\t\t\t\t\t\t\t\t\tlet tr = el.querySelector('tr');\n\t\t\t\t\t\t\t\t\t\tExt.fly(tr).addCls('x-grid-tree-loading');\n\t\t\t\t\t\t\t\t\t\tthis.octokit.getRepoContents(node.getId()).then(function(resp) {\n\t\t\t\t\t\t\t\t\t\t\tExt.fly(tr).removeCls('x-grid-tree-loading');\n\t\t\t\t\t\t\t\t\t\t\tthis.addRepoContentsToNode(node, resp);\n\t\t\t\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'folder':\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\titemclick: function(view, node, el) {\n\t\t\t\t\t\t\tthis.setSelectedNode(node);\n\t\t\t\t\t\t\tthis.fireEvent('nodeSelected', this, node.data.type, node);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstore: {\n\t\t\t\t\troot: {\n\t\t\t\t\t\tname: 'Root',\n\t\t\t\t\t\tchildren: []\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}],\n\t\t\tlisteners: {\n\t\t\t\tboxready: function() {\n\t\t\t\t\tthis.down('#repoTree').setLoading(true);\n\t\t\t\t\tthis.octokit.getReposForAuthenticatedUser(this.getRepoType(), 0, 100).then((resp) => {\n\t\t\t\t\t\tthis.addReposToTree(resp.data);\n\t\t\t\t\t},(error) => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.callParent(arguments);\n\t},\n\n\tupdateSelectedNode: function(node, oldValue) {\n\t\tif (node !== undefined) {\n\t\t\tlet repoParent = node;\n\t\t\twhile (repoParent !== null && repoParent.data.type !== 'repo') {\n\t\t\t\trepoParent = repoParent.parentNode;\n\t\t\t}\n\n\t\t\tthis.setRepoId(repoParent.getId());\n\t\t\tthis.setPath(node.getId());\n\t\t} else {\n\t\t\tthis.setRepoId(undefined);\n\t\t\tthis.setPath(undefined);\n\t\t}\n\t},\n\n\tclearTree: function(setLoading) {\n\t\tlet repoTree = this.down('#repoTree');\n\t\tlet root = repoTree.getRootNode();\n\t\troot.removeAll();\n\t\trepoTree.getView().refresh();\n\n\t\tif (setLoading) {\n\t\t\trepoTree.setLoading(true);\n\t\t}\n\n\t\tthis.setSelectedNode(undefined);\n\t\tthis.fireEvent('nodeDeselected', this);\n\t},\n\n\taddReposToTree: function(rawRepos) {\n\t\tlet repoTree = this.down('#repoTree');\n\t\trepoTree.setLoading(false);\n\t\tlet root = repoTree.getRootNode();\n\t\tlet repos = rawRepos.map((repo) => {\n\t\t\treturn {\n\t\t\t\tid: repo.full_name,\n\t\t\t\ttext: repo.full_name,\n\t\t\t\tdescription: repo.description,\n\t\t\t\tleaf: false,\n\t\t\t\ttype: 'repo'\n\t\t\t}\n\t\t});\n\t\troot.appendChild(repos);\n\t},\n\n\taddRepoContentsToNode: function(node, octokitResponse) {\n\t\tfunction parseContents(content) {\n\t\t\tlet nodeConfig = {\n\t\t\t\tid: content.path,\n\t\t\t\ttext: content.name,\n\t\t\t\ttype: content.type,\n\t\t\t\tleaf: content.type === 'file'\n\t\t\t};\n\t\t\tif (nodeConfig.leaf === false) {\n\t\t\t\tnodeConfig.children = [];\n\t\t\t\tcontent.contents.forEach((child) => {\n\t\t\t\t\tnodeConfig.children.push(parseContents(child));\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn nodeConfig;\n\t\t}\n\t\tlet contents = parseContents(octokitResponse.contents);\n\t\tnode.appendChild(contents.children);\n\t}\n})","Ext.define(\"Voyant.notebook.github.FileSaver\", {\n\textend: \"Ext.container.Container\",\n\txtype: \"githubfilesaver\",\n\tconfig: {\n\t\tcurrentFile: undefined,\n\t\tusername: undefined\n\t},\n\n\toctokit: undefined,\n\tsaveData: undefined,\n\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n\t\t\n\t\tthis.octokit = config.octokit;\n\t\tthis.saveData = config.saveData;\n\n\t\tthis.setCurrentFile(config.currentFile);\n\n    \tthis.callParent(arguments);\n    },\n\n\tinitComponent: function() {\n\t\tExt.apply(this, {\n\t\t\tlayout: {\n\t\t\t\ttype: 'vbox',\n\t\t\t\tpack: 'start',\n\t\t\t\talign: 'stretch'\n\t\t\t},\n\t\t\titems: [{\n\t\t\t\txtype: 'githubreposbrowser',\n\t\t\t\toctokit: this.octokit,\n\t\t\t\titemId: 'repoBrowser',\n\t\t\t\tflex: 1,\n\t\t\t\tlisteners: {\n\t\t\t\t\tnodeSelected: function(src, type, node) {\n\t\t\t\t\t\tconst form = this.queryById('saveForm').getForm();\n\t\t\t\t\t\tconst [owner, repo] = src.getRepoId().split('/');\n\t\t\t\t\t\tform.setValues({owner, repo});\n\t\t\t\t\t\tif (type === 'file') {\n\t\t\t\t\t\t\tconst pathComponents = this.getPathComponents(src.getPath());\n\t\t\t\t\t\t\tform.setValues({...pathComponents});\n\t\t\t\t\t\t} else if (type === 'folder') {\n\t\t\t\t\t\t\tconst folder = src.getPath().replace(/^\\//, '');\n\t\t\t\t\t\t\tform.setValues({folder, file: ''});\n\t\t\t\t\t\t} else if (type === 'repo') {\n\t\t\t\t\t\t\tform.setValues({folder: '', file: ''});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnodeDeselected: function(node) {\n\t\t\t\t\t\t// loadWin.queryById('load').setDisabled(true);\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t},{\n\t\t\t\tbodyPadding: '10',\n\t\t\t\theight: 200,\n\t\t\t\tlayout: {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpack: 'start'\n\t\t\t\t},\n\t\t\t\txtype: 'form',\n\t\t\t\titemId: 'saveForm',\n\t\t\t\titems: [{\n\t\t\t\t\thtml: '<span class=\"x-panel-header-title-default\">Repository Path</span>'\n\t\t\t\t},{\n\t\t\t\t\txtype: 'container',\n\t\t\t\t\tlayout: 'hbox',\n\t\t\t\t\tdefaults: {\n\t\t\t\t\t\txtype: 'textfield',\n\t\t\t\t\t\tlabelAlign: 'top'\n\t\t\t\t\t},\n\t\t\t\t\titems: [{\n\t\t\t\t\t\tfieldLabel: 'GitHub User',\n\t\t\t\t\t\tname: 'owner',\n\t\t\t\t\t\tallowBlank: false,\n\t\t\t\t\t\tmargin: '0 10 0 0'\n\t\t\t\t\t},{\n\t\t\t\t\t\tfieldLabel: 'Repository Name',\n\t\t\t\t\t\tallowBlank: false,\n\t\t\t\t\t\tname: 'repo'\n\t\t\t\t\t}]\n\t\t\t\t},{\n\t\t\t\t\thtml: '<span class=\"x-panel-header-title-default\">File Path</span>',\n\t\t\t\t\tmargin: '10 0 0 0',\n\t\t\t\t},{\n\t\t\t\t\txtype: 'container',\n\t\t\t\t\tlayout: 'hbox',\n\t\t\t\t\tdefaults: {\n\t\t\t\t\t\txtype: 'textfield',\n\t\t\t\t\t\tlabelAlign: 'top'\n\t\t\t\t\t},\n\t\t\t\t\titems: [{\n\t\t\t\t\t\tfieldLabel: 'Folder(s)',\n\t\t\t\t\t\tname: 'folder',\n\t\t\t\t\t\tallowBlank: true,\n\t\t\t\t\t\tmargin: '0 10 0 0'\n\t\t\t\t\t},{\n\t\t\t\t\t\tfieldLabel: 'File Name',\n\t\t\t\t\t\tallowBlank: false,\n\t\t\t\t\t\tname: 'file'\n\t\t\t\t\t}]\n\t\t\t\t},{\n\t\t\t\t\t/*\n\t\t\t\t\txtype: 'container',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\talign: 'middle',\n\t\t\t\t\t\tpack: 'start'\n\t\t\t\t\t},\n\t\t\t\t\tmargin: '25 0 0 0',\n\t\t\t\t\tdefaults: {\n\t\t\t\t\t\txtype: 'button'\n\t\t\t\t\t},\n\t\t\t\t\titems: [{\n\t\t\t\t\t\ttext: 'Save',\n\t\t\t\t\t\thandler: function () {\n\t\t\t\t\t\t\tthis.doSave(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this,\n\t\t\t\t\t\tmargin: '0 10 0 0'\n\t\t\t\t\t}\n\t\t\t\t\t// ,{\n\t\t\t\t\t// \ttext: 'Save as Pull Request',\n\t\t\t\t\t// \thandler: function () {\n\t\t\t\t\t// \t\tthis.doSave(true);\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \tscope: this\n\t\t\t\t\t// }\n\t\t\t\t\t]\n\t\t\t\t},{\n\t\t\t\t\t*/\n\t\t\t\t\titemId: 'status',\n\t\t\t\t\thtml: '',\n\t\t\t\t\tmargin: '15 0 0 0'\n\t\t\t\t}],\n\t\t\t\tlisteners: {\n\t\t\t\t\tvaliditychange: function(form, valid) {\n\t\t\t\t\t\tthis.fireEvent('formValidityChange', this, valid);\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t}],\n\t\t\tlisteners: {\n\t\t\t\tboxready: function() {\n\t\t\t\t\tthis.initForm();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n\n\t\tthis.callParent(arguments);\n\t},\n\n\tinitForm: function() {\n\t\tthis.octokit.getInfoForAuthenticatedUser().then(function(resp) {\n\t\t\tconst username = resp.data.login;\n\t\t\tthis.setUsername(username);\n\n\t\t\tconst form = this.queryById('saveForm').getForm();\n\t\t\tconst currentFile = this.getCurrentFile();\t\t\t\n\t\t\tif (currentFile !== undefined) {\n\t\t\t\tconst pathComponents = this.getPathComponents(currentFile.path);\n\t\t\t\tform.setValues({\n\t\t\t\t\towner: currentFile.owner,\n\t\t\t\t\trepo: currentFile.repo,\n\t\t\t\t\t...pathComponents\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tform.setValues({owner: username});\n\t\t\t}\n\t\t}.bind(this))\n\t},\n\n\tgetPathComponents: function(path) {\n\t\tconst pathComponents = path.split('/');\n\t\tlet file = pathComponents[pathComponents.length-1];\n\t\tlet folder = '';\n\t\tif (pathComponents.length > 2) {\n\t\t\tfolder = pathComponents.slice(0, -1).join('/');\n\t\t}\n\t\treturn {\n\t\t\tfolder,\n\t\t\tfile\n\t\t}\n\t},\n\n\tdoSave: async function(isPR=false) {\n\t\tconst form = this.queryById('saveForm').getForm();\n\t\tif (form.isValid()) {\n\t\t\tconst {owner, repo, folder, file} = form.getValues();\n\t\t\tlet path = file;\n\t\t\tif (folder !== '') {\n\t\t\t\tpath = folder+'/'+file;\n\t\t\t}\n\t\t\tthis.setStatus('Checking repository');\n\t\t\tconst repoExists = await this.octokit.doesRepoExist(owner, repo);\n\t\t\tif (repoExists) {\n\t\t\t\tthis.setStatus('Checking permissions');\n\t\t\t\tconst permission = await this.octokit.getPermissionsForUser(owner, repo, this.getUsername());\n\t\t\t\tif (permission === 'none' || permission === 'read') {\n\t\t\t\t\tthis.setStatus('You don\\'t have permission to write to this repository', 'error');\n\t\t\t\t} else {\n\t\t\t\t\tthis.setStatus('Checking file');\n\t\t\t\t\tconst branch = 'master';\n\t\t\t\t\tconst content = this.saveData;\n\t\t\t\t\tconst fileData = {owner, repo, branch, path};\n\t\t\t\t\tconst sha = await this.octokit.getLatestFileSHA(fileData);\n\t\t\t\t\tif (sha !== undefined) {\n\t\t\t\t\t\tconst message = 'File updated by Spyral';\n\t\t\t\t\t\tthis.octokit.saveFile(owner, repo, path, content, branch, message, sha).then(function(resp) {\n\t\t\t\t\t\t\tthis.setStatus('File updated');\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tthis.fireEvent('fileSaved', this, fileData);\n\t\t\t\t\t\t\t}.bind(this), 500);\n\t\t\t\t\t\t}.bind(this), function(error) {\n\t\t\t\t\t\t\tthis.setStatus('Error: '+error.message, 'error');\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst message = 'File created by Spyral';\n\t\t\t\t\t\tthis.octokit.saveFile(owner, repo, path, content, branch, message).then(function(resp) {\n\t\t\t\t\t\t\tthis.setStatus('File created');\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tthis.fireEvent('fileSaved', this, fileData);\n\t\t\t\t\t\t\t}.bind(this), 500);\n\t\t\t\t\t\t}.bind(this), function(error) {\n\t\t\t\t\t\t\tthis.setStatus('Error: '+error.message, 'error');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.setStatus('The specified repository does not exist', 'error');\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setStatus('Form is not valid', 'error');\n\t\t}\n\t},\n\n\tsetStatus: function(message, type) {\n\t\tlet cls = '';\n\t\tif (type && type === 'error') {\n\t\t\tcls = 'x-form-invalid-under-default';\n\t\t}\n\t\tthis.queryById('status').setHtml(`<span class=\"${cls}\">${message}</span>`);\n\t}\n});\n","Ext.define(\"Voyant.notebook.github.GitHubDialogs\", {\n\textend: \"Ext.Component\",\n\trequires: ['Voyant.notebook.github.OctokitWrapper','Voyant.notebook.github.ReposBrowser','Voyant.notebook.github.FileSaver'],\n\talias: \"widget.githubdialogs\",\n\tconfig: {\n\t\trepoType: 'owner',\n\t\tcurrentFile: undefined\n\t},\n\n\tauthToken: undefined,\n\toctokitWrapper: undefined,\n\n\tcurrentWindow: undefined,\n\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n    \tthis.callParent(arguments);\n    },\n\n\tinitComponent: function() {\n\t\tthis.callParent(arguments);\n\t},\n\n\tclose: function() {\n\t\tif (this.currentWindow !== undefined) {\n\t\t\tthis.currentWindow.close();\n\t\t\tthis.currentWindow = undefined;\n\t\t}\n\t},\n\n\tshowAuthenticate: function(callback) {\n\t\tconst parent = this;\n\n\t\tlet authWin = undefined;\n\t\tauthWin = Ext.create('Ext.window.Window', {\n\t\t\ttitle: 'Authenticate with GitHub',\n\t\t\twidth: 750,\n\t\t\theight: 550,\n\t\t\tclosable: false,\n\t\t\tlayout: {\n\t\t\t\ttype: 'vbox',\n\t\t\t\talign: 'middle',\n\t\t\t\tpack: 'center'\n\t\t\t},\n\t\t\titems: [{\n\t\t\t\thtml: '<div style=\"margin-bottom: 10px;\">You must authorize Spyral to use GitHub on your behalf.</div>'\n\t\t\t},{\n\t\t\t\txtype: 'button',\n\t\t\t\ttext: 'Authorize with GitHub',\n\t\t\t\thandler: function(button) {\n\t\t\t\t\tfunction postMessageHandler(event) {\n\t\t\t\t\t\tif (event.origin === window.location.origin && event.data === 'oauth_cookie_set') {\n\t\t\t\t\t\t\twindow.removeEventListener(\"message\", postMessageHandler, false);\n\t\t\t\t\t\t\tevent.source.close();\n\t\t\t\t\t\t\tparent.initOctokitWrapper();\n\t\t\t\t\t\t\tbutton.up('window').close();\n\t\t\t\t\t\t\tcallback.call(parent);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twindow.open(Voyant.application.getBaseUrlFull()+'spyral/oauth', '_blank');\n\t\t\t\t\twindow.addEventListener(\"message\", postMessageHandler, false);\n\t\t\t\t}\n\t\t\t}],\n\t\t\tbuttons: [{\n\t\t\t\ttext: 'Cancel',\n\t\t\t\thandler: function() {\n\t\t\t\t\tparent.close();\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t\tauthWin.show();\n\n\t\tthis.currentWindow = authWin;\n\t},\n\n\tshowLoad: function() {\n\t\tconst parent = this;\n\n\t\tthis.authToken = this.getCookieValue('access-token');\n\t\tif (this.authToken === '') {\n\t\t\tthis.showAuthenticate(this.showLoad);\n\t\t\treturn;\n\t\t} else if (this.octokitWrapper === undefined) {\n\t\t\tthis.initOctokitWrapper();\n\t\t}\n\n\t\tlet loadWin = undefined;\n\t\tloadWin = Ext.create('Ext.window.Window', {\n\t\t\ttitle: 'Load from GitHub',\n\t\t\twidth: 750,\n\t\t\theight: 550,\n\t\t\tclosable: false,\n\t\t\tmaximizable: true,\n\t\t\tlayout: 'fit',\n\t\t\titems: {\n\t\t\t\txtype: 'githubreposbrowser',\n\t\t\t\toctokit: this.octokitWrapper,\n\t\t\t\titemId: 'repoBrowser',\n\t\t\t\tlisteners: {\n\t\t\t\t\tnodeSelected: function(src, type, node) {\n\t\t\t\t\t\tif (type === 'file') {\n\t\t\t\t\t\t\tloadWin.queryById('load').setDisabled(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tloadWin.queryById('load').setDisabled(true);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnodeDeselected: function(node) {\n\t\t\t\t\t\tloadWin.queryById('load').setDisabled(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: [{\n\t\t\t\ttext: 'Load Selected',\n\t\t\t\titemId: 'load',\n\t\t\t\tdisabled: true,\n\t\t\t\thandler: function() {\n\t\t\t\t\tconst repoBrowser = loadWin.queryById('repoBrowser');\n\t\t\t\t\tthis.loadFile(repoBrowser.getRepoId(), repoBrowser.getPath());\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t},{\n\t\t\t\ttext: 'Cancel',\n\t\t\t\thandler: function() {\n\t\t\t\t\tparent.close();\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t\tloadWin.show();\n\n\t\tthis.currentWindow = loadWin;\n\t},\n\n\tshowSave: function(data) {\n\t\tconst parent = this;\n\n\t\tthis.authToken = this.getCookieValue('access-token');\n\t\tif (this.authToken === '') {\n\t\t\tthis.showAuthenticate();\n\t\t\treturn;\n\t\t} else if (this.octokitWrapper === undefined) {\n\t\t\tthis.initOctokitWrapper();\n\t\t}\n\n\t\tlet saveWin = undefined;\n\t\tsaveWin = Ext.create('Ext.window.Window', {\n\t\t\ttitle: 'Save to GitHub',\n\t\t\twidth: 750,\n\t\t\theight: 650,\n\t\t\tclosable: false,\n\t\t\tmaximizable: true,\n\t\t\tlayout: 'fit',\n\t\t\titems: {\n\t\t\t\txtype: 'githubfilesaver',\n\t\t\t\toctokit: this.octokitWrapper,\n\t\t\t\tcurrentFile: this.getCurrentFile(),\n\t\t\t\tsaveData: data,\n\t\t\t\titemId: 'fileSaver',\n\t\t\t\tlisteners: {\n\t\t\t\t\tformValidityChange: function(src, valid) {\n\t\t\t\t\t\tsaveWin.queryById('save').setDisabled(!valid);\n\t\t\t\t\t},\n\t\t\t\t\tfileSaved: function(src, fileData) {\n\t\t\t\t\t\tparent.fireEvent('fileSaved', parent, fileData);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: [{\n\t\t\t\ttext: 'Save',\n\t\t\t\titemId: 'save',\n\t\t\t\tdisabled: true,\n\t\t\t\thandler: function() {\n\t\t\t\t\tsaveWin.queryById('fileSaver').doSave();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t},{\n\t\t\t\ttext: 'Cancel',\n\t\t\t\thandler: function() {\n\t\t\t\t\tparent.close();\n\t\t\t\t\tparent.fireEvent('saveCancelled', parent);\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t\tsaveWin.show();\n\n\t\tthis.currentWindow = saveWin;\n\t},\n\n\tgetCookieValue: function(cookieName) {\n\t\tconst re = new RegExp('[; ]'+cookieName+'=([^\\\\s;]*)');\n\t\tconst sMatch = (' '+document.cookie).match(re);\n\t\tif (cookieName && sMatch) return unescape(sMatch[1]);\n\t\treturn '';\n\t},\n\n\tinitOctokitWrapper: function() {\n\t\tthis.authToken = this.getCookieValue('access-token');\n\t\tthis.octokitWrapper = new Voyant.notebook.github.OctokitWrapper({\n\t\t\tauthToken: this.authToken\n\t\t});\n\t},\n\n\tloadFileFromId: function(id) {\n\t\tconst parts = decodeURIComponent(id).split('/');\n\t\tif (parts.length >= 3) {\n\t\t\tconst repoId = parts[0]+'/'+parts[1];\n\t\t\tconst filePath = parts.slice(2).join('/');\n\t\t\tthis.loadFile(repoId, filePath);\n\t\t}\n\t},\n\n\tloadFile: function(repoId, filePath) {\n\t\tthis.authToken = this.getCookieValue('access-token');\n\t\tif (this.authToken === '') {\n\t\t\tthis.showAuthenticate(this.loadFile.bind(this, repoId, filePath));\n\t\t\treturn;\n\t\t} else if (this.octokitWrapper === undefined) {\n\t\t\tthis.initOctokitWrapper();\n\t\t}\n\t\tthis.octokitWrapper.loadFile(repoId, filePath).then((data) => {\n\t\t\tthis.setCurrentFile(data);\n\t\t\tthis.fireEvent('fileLoaded', this, data);\n\t\t});\n\t}\n})\n","Ext.define(\"Voyant.notebook.StorageDialogs\", {\n\textend: \"Ext.Component\",\n\trequires: [],\n\talias: \"\",\n\tconfig: {\n\t\taccessCode: undefined\n\t},\n\n\tconstructor: function(config) {\n\t\tconfig = config || {};\n    \tthis.callParent(arguments);\n    },\n\n\tinitComponent: function() {\n\t\tthis.callParent(arguments);\n\t},\n\t\n\tshowSave: function(data, metadata, notebookId='') {\n\t\tconst me = this;\n\t\tconst newNotebook = notebookId === '';\n\t\tconst title = newNotebook ? 'Save New Notebook' : 'Overwrite Existing Notebook';\n\t\tExt.create('Ext.window.Window', {\n\t\t\ttitle: title,\n\t\t\titems: [{\n\t\t\t\txtype: 'form',\n\t\t\t\twidth: 450,\n\t\t\t\tbodyPadding: 5,\n\t\t\t\tplugins: ['datatip'],\n\t\t\t\tlisteners: {\n\t\t\t\t\tbeforeshowtip: function(tip, config, msg) {\n\t\t\t\t\t\treturn !config.currentTarget.el.hasCls('x-form-invalid'); // don't show tooltip if the field is invalid because otherwise the two tips overlap\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlayout: 'anchor',\n\t\t\t\tdefaults: {\n\t\t\t\t\tlabelAlign: 'right',\n\t\t\t\t\tlabelWidth: 160,\n\t\t\t\t\twidth: 360,\n\t\t\t\t\tinputAttrTpl: 'spellcheck=\"false\"',\n\t\t\t\t\txtype: 'textfield'\n\t\t\t\t},\n    \t    \titems: [{\n\t\t\t\t\tfieldLabel: 'Notebook ID' + (newNotebook ? ' (optional)' : ''),\n\t\t\t\t\tname: 'notebookId',\n\t\t\t\t\tvalue: notebookId,\n\t\t\t\t\tallowBlank: true,\n\t\t\t\t\treadOnly: !newNotebook,\n\t\t\t\t\ttooltip: 'An ID used to identify this notebook. If left blank, one will be generated for you.',\n\t\t\t\t\tvalidator: function(val) {\n\t\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else if (val.match(/^[\\w-]{4,16}$/) === null) {\n\t\t\t\t\t\t\treturn 'The ID must be between 4 and 16 alphanumeric characters.'\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},{\n\t\t\t\t\tfieldLabel: 'Access Code',\n\t\t\t\t\tname: 'accessCode',\n\t\t\t\t\tallowBlank: false,\n\t\t\t\t\tvalue: newNotebook ? this.generateAccessCode() : this.getAccessCode(),\n\t\t\t\t\ttooltip: 'The Access Code is required to overwrite this notebook.',\n\t\t\t\t\tvalidator: function(val) {\n\t\t\t\t\t\tif (val.match(/^[\\w-]{4,16}$/) === null) {\n\t\t\t\t\t\t\treturn 'The access code must be between 4 and 16 alphanumeric characters.'\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},{\n\t\t\t\t\tfieldLabel: 'Email (optional)',\n\t\t\t\t\tname: 'email',\n\t\t\t\t\tallowBlank: true,\n\t\t\t\t\tvtype: 'email',\n\t\t\t\t\thidden: !newNotebook,\n\t\t\t\t\ttooltip: 'An email will be sent to this address with the Notebook URL and Access Code.'\n\t\t\t\t}]\n\t\t\t}],\n\t\t\tbuttons: [{\n    \t        text: 'Cancel',\n\t            ui: 'default-toolbar',\n    \t        handler: function() {\n    \t            this.up('window').close();\n\t\t\t\t\tme.fireEvent('saveCancelled', me);\n    \t        }\n    \t    }, \" \", {\n    \t        text: 'Save',\n    \t        handler: function(button) {\n\t\t\t\t\tconst win = button.up('window');\n\t\t\t\t\tconst form = win.down('form').getForm();\n\t\t\t\t\tif (form.isValid()) {\n\t\t\t\t\t\tconst values = form.getValues();\n\t\t\t\t\t\tvalues.data = data;\n\t\t\t\t\t\tvalues.metadata = metadata;\n\t\t\t\t\t\tif (newNotebook && values.notebookId !== '') {\n\t\t\t\t\t\t\tme.doesNotebookIdExist(values.notebookId).then(function(exists) {\n\t\t\t\t\t\t\t\tif (exists) {\n\t\t\t\t\t\t\t\t\tform.findField('notebookId').markInvalid('That Notebook ID already exists.');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tme.doSave(values);\n\t\t\t\t\t\t\t\t\twin.close();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbutton.setDisabled(true);\n\t\t\t\t\t\t\tme.doSave(values).then(function(didSave) {\n\t\t\t\t\t\t\t\tbutton.setDisabled(false);\n\t\t\t\t\t\t\t\tif (didSave) {\n\t\t\t\t\t\t\t\t\twin.close();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tform.findField('accessCode').markInvalid('Invalid access code.');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n    \t        }\n\t\t\t}],\n\t\t\tlisteners: {\n\t\t\t\tclose: function() {\n\t\t\t\t\tme.fireEvent('close', me); // need an additional close event in case the user uses the close tool / esc button\n\t\t\t\t}\n\t\t\t}\n\t\t}).show();\n\t},\n\n\tdoesNotebookIdExist: function(id) {\n\t\tconst dfd = new Ext.Deferred();\n\n\t\tSpyral.Load.trombone({\n\t\t\ttool: 'notebook.GitNotebookManager',\n\t\t\taction: 'exists',\n\t\t\tid: id,\n\t\t\tnoCache: 1\n\t\t}).then(function(json) {\n\t\t\tvar exists = json.notebook.data === 'true';\n\t\t\tdfd.resolve(exists);\n\t\t}).catch(function(err) {\n\t\t\tconsole.log(err);\n\t\t});\n\n\t\treturn dfd.promise;\n\t},\n\n\tdoSave: function({notebookId, accessCode, email, data, metadata}) {\n\t\tconst me = this;\n\t\tmetadata.id = notebookId;\n\n\t\treturn Spyral.Load.trombone({\n\t\t\ttool: 'notebook.GitNotebookManager',\n\t\t\taction: 'save',\n\t\t\tid: notebookId,\n\t\t\taccessCode: accessCode,\n\t\t\temail: email,\n\t\t\tdata: data,\n\t\t\tmetadata: JSON.stringify(metadata)\n\t\t}).then(function(json) {\n\t\t\tif (json.notebook.data !== 'true') {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tme.setAccessCode(accessCode);\n\t\t\t\tconst notebookId = json.notebook.id;\n\t\t\t\tme.fireEvent('fileSaved', me, notebookId);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}).catch(function(err) {\n\t\t\tme.fireEvent('fileSaved', me, null);\n\t\t\treturn false;\n\t\t});\n\t},\n\n\tgenerateAccessCode: function() {\n\t\tconst alphabet = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];\n\t\tlet code = '';\n\t\twhile (code.length < 6) {\n\t\t\tif (Math.random() < .3) {\n\t\t\t\tcode += Math.floor(Math.random()*9);\n\t\t\t} else {\n\t\t\t\tlet letter = alphabet[Math.floor(Math.random()*alphabet.length)];\n\t\t\t\tif (Math.random() < .5) {\n\t\t\t\t\tletter = letter.toUpperCase();\n\t\t\t\t}\n\t\t\t\tcode += letter;\n\t\t\t}\n\t\t}\n\t\treturn code;\n\t},\n\n\treset: function() {\n\t\tthis.setAccessCode(undefined);\n\t}\n})","Ext.define('Voyant.notebook.Catalogue', {\n\textend: 'Ext.Component',\n\trequires: [],\n\talias: 'widget.notebookcatalogue',\n\tstatics: {\n\t\ti18n: {\n\t\t}\n\t},\n\n\twindow: undefined,\n\t\n\tstore: undefined,\n\ttemplate: undefined,\n\n\tconfig: {},\n\n\tconstructor: function() {\n\t\tthis.store = Ext.create('Ext.data.JsonStore', {\n\t\t\tfields: [\n\t\t\t\t{name: 'id'},\n\t\t\t\t{name: 'author'},\n\t\t\t\t{name: 'title'},\n\t\t\t\t{name: 'description'},\n\t\t\t\t{name: 'keywords'},\n\t\t\t\t{name: 'language'},\n\t\t\t\t{name: 'license'},\n\t\t\t\t{name: 'created', type: 'date'},\n\t\t\t\t{name: 'modified', type: 'date'},\n\t\t\t\t{name: 'version'}\n\t\t\t]\n\t\t});\n\t\tthis.template = new Ext.XTemplate(\n\t\t\t'<tpl for=\".\">',\n\t\t\t\t'<div class=\"catalogue-notebook\">',\n\t\t\t\t\t'<div class=\"id\">{id}</div>',\n\t\t\t\t\t'<div class=\"title nowrap\" title=\"{title}\">{title}</div>',\n\t\t\t\t\t'<div class=\"author nowrap\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i> {author}</div>',\n\t\t\t\t\t'<div class=\"dates\"><span class=\"date\"><i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> {[Ext.Date.format(values.modified, \"M j Y\")]}</span></div>',\n\t\t\t\t'</div>',\n\t\t\t'</tpl>'\n\t\t);\n\t\tthis.callParent(arguments);\n\t},\n\n\tinitComponent: function(config) {\n\t\tthis.callParent(arguments);\n\t},\n\n\tshowWindow: function() {\n\t\tif (this.window === undefined) {\n\t\t\tthis.window = Ext.create('Ext.window.Window', {\n\t\t\t\ttitle: 'Notebooks Catalogue',\n\t\t\t\twidth: 700,\n\t\t\t\theight: 550,\n\t\t\t\tlayout: {\n\t\t\t\t\ttype: 'vbox'\n\t\t\t\t},\n\t\t\t\tcloseAction: 'hide',\n\t\t\t\titems: [{\n\t\t\t\t\txtype: 'toolbar',\n\t\t\t\t\theight: 30,\n\t\t\t\t\thidden: true,\n\t\t\t\t\titems: [{\n\t\t\t\t\t\txtype: 'splitbutton',\n\t\t\t\t\t\ttext: 'Sort',\n\t\t\t\t\t\tglyph: 'xf161@FontAwesome',\n\t\t\t\t\t\tmenu: {\n\t\t\t\t\t\t\tdefaults: {\n\t\t\t\t\t\t\t\txtype: 'menucheckitem',\n\t\t\t\t\t\t\t\tgroup: 'sortfield'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\titemId: 'id',\n\t\t\t\t\t\t\t\ttext: 'ID'\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\titemId: 'created',\n\t\t\t\t\t\t\t\ttext: 'Created'\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\titemId: 'modified',\n\t\t\t\t\t\t\t\ttext: 'Modified',\n\t\t\t\t\t\t\t\tchecked: true\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\titemId: 'title',\n\t\t\t\t\t\t\t\ttext: 'Title'\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\titemId: 'author',\n\t\t\t\t\t\t\t\ttext: 'Author'\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\tclick: function(menu, item) {\n\t\t\t\t\t\t\t\t\tvar sortDir = menu.up().getGlyph().glyphConfig === 'xf161@FontAwesome' ? 'DESC' : 'ASC';\n\t\t\t\t\t\t\t\t\tvar sortField = item.itemId;\n\t\t\t\t\t\t\t\t\tthis.store.sort(sortField, sortDir);\n\t\t\t\t\t\t\t\t\tthis.window.down('#catalogue').refresh();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\thandler: function(but) {\n\t\t\t\t\t\t\tvar sortDir;\n\t\t\t\t\t\t\tif (but.getGlyph().glyphConfig === 'xf161@FontAwesome') {\n\t\t\t\t\t\t\t\tbut.setGlyph('xf160@FontAwesome');\n\t\t\t\t\t\t\t\tsortDir = 'ASC';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbut.setGlyph('xf161@FontAwesome');\n\t\t\t\t\t\t\t\tsortDir = 'DESC';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar sortField = but.menu.down('[checked=true]').itemId;\n\t\t\t\t\t\t\tthis.store.sort(sortField, sortDir);\n\t\t\t\t\t\t\tthis.window.down('#catalogue').refresh();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}]\n\t\t\t\t},{\n\t\t\t\t\txtype: 'dataview',\n\t\t\t\t\tflex: 1,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tpadding: 10,\n\t\t\t\t\tscrollable: 'vertical',\n\t\t\t\t\titemId: 'catalogue',\n\t\t\t\t\tstore: this.store,\n\t\t\t\t\ttpl: this.template,\n\t\t\t\t\titemSelector: 'div.catalogue-notebook',\n\t\t\t\t\toverItemCls: 'catalogue-notebook-over',\n\t\t\t\t\tselectedItemCls: 'catalogue-notebook-selected'\n\t\t\t\t}],\n\t\t\t\tbuttons: [{\n\t\t\t\t\ttext: 'Load Selected Notebook',\n\t\t\t\t\thandler: function(but) {\n\t\t\t\t\t\tvar record = this.window.down('#catalogue').getSelection()[0]\n\t\t\t\t\t\tif (record !== undefined) {\n\t\t\t\t\t\t\tthis.fireEvent('notebookSelected', this, record.get('id'))\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}]\n\t\t\t})\n\t\t}\n\t\tthis.window.show();\n\t\tthis.getNotebooks();\n\t},\n\n\thideWindow: function() {\n\t\tif (this.window !== undefined) {\n\t\t\tthis.window.close();\n\t\t}\n\t},\n\n\tgetNotebooks: function(query, config) {\n\t\tthis.window.mask('Loading');\n\t\tthis.window.down('#catalogue').getSelectionModel().deselectAll();\n    \tvar me = this;\n\t\tSpyral.Load.trombone({\n\t\t\ttool: 'notebook.GitNotebookManager',\n\t\t\taction: 'catalogue',\n\t\t\tlimit: 100,\n\t\t\tnoCache: 1\n\t\t}).then(function(json) {\n\t\t\tme.window.unmask();\n\t\t\tvar notebooks = JSON.parse(json.notebook.data);\n\t\t\tme.store.loadRawData(notebooks);\n\t\t}).catch(function(err) {me.window.unmask()});\n\t}\n});\n","/*\n * @class Notebook\n * A Spyral Notebook. This should never be instantiated directly.\n */\nExt.define('Voyant.notebook.Notebook', {\n\talternateClassName: [\"Notebook\"],\n\textend: 'Ext.panel.Panel',\n\trequires: ['Voyant.notebook.editor.CodeEditorWrapper','Voyant.notebook.editor.TextEditorWrapper','Voyant.notebook.util.Show','Voyant.panel.Cirrus','Voyant.panel.Summary','Voyant.notebook.StorageDialogs','Voyant.notebook.github.GitHubDialogs'],\n\tmixins: ['Voyant.panel.Panel'],\n\talias: 'widget.notebook',\n    statics: {\n    \ti18n: {\n    \t\ttitle: \"Spyral\",\n    \t\tmetadataEditor: \"Edit Metadata\",\n    \t\tmetadataTitle: \"Title\",\n    \t\tmetadataTip: \"Edit notebook metadata.\",\n    \t\tmetadataAuthor: \"Author(s)\",\n    \t\tmetadataKeywords: \"Keywords\",\n    \t\tmetadataDescription: \"Description\",\n    \t\tmetadataLicense: \"Licence\",\n    \t\tmetadataLanguage: \"Language\",\n    \t\tmetadataReset: \"Reset\",\n    \t\tmetadataSave: \"Save\",\n    \t\tmetadataCancel: \"Cancel\",\n    \t\tcreated: \"Created\",\n    \t\tmodified: \"Modified\",\n    \t\tclickToEdit: \"Click to edit\",\n    \t\tcantLoadNotebook: \"Unable to load Spyral notebook:\",\n    \t\tcannotLoadJson: \"Unable to parse JSON input.\",\n    \t\tcannotLoadJsonUnrecognized: \"Unable to recognize JSON input.\",\n    \t\tcannotLoadUnrecognized: \"Unable to recognize input.\",\n    \t\topenTitle: \"Open\",\n    \t\topenMsg: \"Paste in Notebook ID, a URL or a Spyral data file (in HTML).\",\n    \t\texportHtmlDownload: \"HTML (download)\",\n    \t\terrorParsingDomInput: \"An error occurred while parsing the input of the document. The results might still work, except if the code contained HTML tags.\"\n    \t},\n    \tapi: {\n    \t\tinput: undefined,\n    \t\tinputEncodedBase64Json: undefined,\n    \t\trun: undefined\n    \t},\n\t\tcurrentNotebook: undefined\n    },\n    config: {\n        /**\n         * @private\n         */\n    \tnotebookId: undefined,\n        /**\n         * @private\n         */\n    \tmetadata: undefined,\n        /**\n         * @private\n         */\n    \tisEdited: false,\n    \t/**\n    \t * @private\n    \t */\n    \tversion: \"3.0\",\n    \t/**\n    \t * @private\n    \t */\n\t\tcurrentBlock: undefined,\n\t\t/**\n\t\t * @private\n\t\t * Which solution to use for storing notebooks, either: 'voyant' or 'github'\n\t\t */\n\t\tstorageSolution: 'voyant'\n\t},\n\t\n\tmetadataWindow: undefined,\n\tvoyantStorageDialogs: undefined,\n\tgithubDialogs: undefined,\n\tcatalogueWindow: undefined,\n\n\tspyralTernDocs: undefined, // holds the content of the spyral tern docs, for passing to the code editor\n    \n    /**\n     * @private\n     */\n    constructor: function(config) {\n    \tVoyant.notebook.Notebook.currentNotebook = this;\n    \tExt.apply(config, {\n    \t\ttitle: this.localize('title'),\n    \t    autoScroll: true,\n    \t\tincludeTools: {\n\t\t\t\t'help': true,\n\t\t\t\t'gear': true,\n    \t\t\t'save': true,\n    \t\t\t'saveIt': {\n    \t\t\t\ttooltip: this.localize(\"saveItTip\"),\n    \t\t\t\titemId: 'saveItTool',\n    \t\t\t\txtype: 'toolmenu',\n    \t\t\t\tglyph: 'xf0c2@FontAwesome',\n\t\t\t\t\tdisabled: true,\n\t\t\t\t\titems: [{\n\t\t\t\t\t\ttext: 'Save',\n\t\t\t\t\t\txtype: 'menuitem',\n\t\t\t\t\t\tglyph: 'xf0c2@FontAwesome',\n\t\t\t\t\t\thandler: this.showSaveDialog.bind(this, false),\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t},{\n\t\t\t\t\t\ttext: 'Save As...',\n\t\t\t\t\t\txtype: 'menuitem',\n\t\t\t\t\t\tglyph: 'xf0c2@FontAwesome',\n\t\t\t\t\t\thandler: this.showSaveDialog.bind(this, true),\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t},'-',{\n\t\t\t\t\t\ttext: 'Storage',\n\t\t\t\t\t\txtype: 'menuitem',\n\t\t\t\t\t\tmenu: {\n\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\ttext: 'Voyant',\n\t\t\t\t\t\t\t\txtype: 'menucheckitem',\n\t\t\t\t\t\t\t\tgroup: 'storageSolution',\n\t\t\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\t\t\thandler: this.setStorageSolution.bind(this, 'voyant'),\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\ttext: 'GitHub',\n\t\t\t\t\t\t\t\txtype: 'menucheckitem',\n\t\t\t\t\t\t\t\tgroup: 'storageSolution',\n\t\t\t\t\t\t\t\tchecked: false,\n\t\t\t\t\t\t\t\thandler: this.setStorageSolution.bind(this, 'github'),\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n    \t\t\t},\n    \t\t\t'new': {\n    \t\t\t\ttooltip: this.localize(\"newTip\"),\n    \t\t\t\tcallback: function() {\n    \t    \t\t\tlet url = this.getBaseUrl()+\"spyral/\";\n\t\t\t\t\t\tthis.getApplication().openUrl(url);\n    \t\t\t\t},\n    \t\t\t\txtype: 'toolmenu',\n    \t\t\t\tglyph: 'xf067@FontAwesome',\n    \t\t\t\tscope: this\n    \t\t\t},\n    \t\t\t'open': {\n    \t\t\t\ttooltip: this.localize(\"openTip\"),\n    \t\t\t\txtype: 'toolmenu',\n\t\t\t\t\tglyph: 'xf115@FontAwesome',\n\t\t\t\t\tcallback: function(panel, tool) {\n\t\t\t\t\t\tconst storageSolution = this.getStorageSolution();\n\t\t\t\t\t\tif (storageSolution === undefined) {\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\ttool.toolMenu.hide()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tif (storageSolution === 'github') {\n\t\t\t\t\t\t\t\tthis.githubDialogs.showLoad();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tExt.Msg.prompt(this.localize(\"openTitle\"),this.localize(\"openMsg\"),function(btn, text) {\n\t\t\t\t\t\t\t\t\ttext = text.trim();\n\t\t\t\t\t\t\t\t\tif (btn==\"ok\") {\n\t\t\t\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\t\t\t\tthis.loadFromString(text);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, this, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscope: this,\n\t\t\t\t\titems: [{\n\t\t\t\t\t\ttext: 'Load',\n\t\t\t\t\t\txtype: 'menuitem',\n\t\t\t\t\t\tglyph: 'xf115@FontAwesome',\n\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\tExt.Msg.prompt(this.localize(\"openTitle\"),this.localize(\"openMsg\"),function(btn, text) {\n\t\t\t\t\t\t\t\ttext = text.trim();\n\t\t\t\t\t\t\t\tif (btn==\"ok\") {\n\t\t\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\t\t\tthis.loadFromString(text);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this, true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t},{\n\t\t\t\t\t\ttext: 'Load from GitHub',\n\t\t\t\t\t\txtype: 'menuitem',\n\t\t\t\t\t\tglyph: 'xf115@FontAwesome',\n\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\tthis.githubDialogs.showLoad();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: this\n\t\t\t\t\t}]\n    \t\t\t},\n    \t\t\t'runall': {\n    \t\t\t\ttooltip: this.localize(\"runallTip\"),\n    \t\t\t\tcallback: this.runAll,\n    \t\t\t\txtype: 'toolmenu',\n    \t\t\t\tglyph: 'xf04e@FontAwesome',\n    \t\t\t\tscope: this\n    \t\t\t},\n    \t\t\t'metadata': {\n    \t\t\t\ttooltip: this.localize(\"metadataTip\"),\n    \t\t\t\tcallback: this.showMetadataEditor,\n\t\t\t\t\txtype: 'toolmenu',\n\t\t\t\t\tglyph: 'xf02c@FontAwesome',\n\t\t\t\t\tscope: this\n    \t\t\t},\n                'catalogue': {\n                    tooltip: 'catalogue',\n                    callback: function() {\n                        this.catalogueWindow.showWindow();\n                    },\n                    xtype: 'toolmenu',\n                    glyph: 'xf00b@FontAwesome',\n                    scope: this\n                }\n    \t\t},\n    \t\t\t\n    \t\titems: [{\n    \t\t\titemId: 'spyralHeader',\n    \t\t\tcls: 'spyral-header',\n    \t\t\tlisteners: {\n    \t\t\t\tafterrender: function(header) {\n    \t\t\t\t\tExt.tip.QuickTipManager.register({\n    \t\t\t\t\t\t  target: header.getId(),\n    \t\t\t\t\t\t  text: this.localize(\"clickToEdit\")\n    \t\t\t\t\t\t});\n    \t\t\t\t\tvar head = header;\n    \t\t\t\t\theader.getTargetEl().on(\"click\", function(header) {\n    \t\t\t\t\t\tthis.showMetadataEditor();\n    \t\t\t\t\t\thead.removeCls(\"editable\");\n    \t\t\t\t\t}, this);\n    \t\t\t\t\theader.mon(header.getEl(), \"mouseover\", function() {header.addCls(\"editable\")});\n    \t\t\t\t\theader.mon(header.getEl(), \"mouseout\", function() {header.removeCls(\"editable\")});\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t}\n    \t\t},{\n    \t\t\txtype: 'container',\n    \t\t\titemId: 'cells'\n    \t\t},{\n    \t\t\titemId: 'spyralFooter',\n    \t\t\tcls: 'spyral-footer',\n    \t\t\tlisteners: {\n    \t\t\t\tafterrender: function(footer) {\n    \t\t\t\t\tExt.tip.QuickTipManager.register({\n  \t\t\t\t\t\t  target: footer.getId(),\n  \t\t\t\t\t\t  text: this.localize(\"clickToEdit\")\n  \t\t\t\t\t\t});\n    \t\t\t\t\tvar foot = footer;\n    \t\t\t\t\tfooter.getTargetEl().on(\"click\", function(footer) {\n    \t\t\t\t\t\tthis.showMetadataEditor();\n    \t\t\t\t\t\tfoot.removeCls(\"editable\");\n    \t\t\t\t\t}, this);\n    \t\t\t\t\tfooter.mon(footer.getEl(), \"mouseover\", function() {footer.addCls(\"editable\")});\n    \t\t\t\t\tfooter.mon(footer.getEl(), \"mouseout\", function() {footer.removeCls(\"editable\")});\n    \t\t\t\t},\n    \t\t\t\tscope: this\n    \t\t\t}\n    \t\t}],\n    \t\tlisteners: {\n    \t\t\tafterrender: this.init,\n    \t\t\tnotebookWrapperMoveUp: this.notebookWrapperMoveUp,\n    \t\t\tnotebookWrapperMoveDown: this.notebookWrapperMoveDown,\n    \t\t\tnotebookWrapperRemove: this.notebookWrapperRemove,\n\t\t\t\tnotebookWrapperAdd: this.notebookWrapperAdd,\n\t\t\t\tnotebookLoaded: this.autoExecuteCells,\n    \t\t\tscope: this\n    \t\t}\n    \t})\n        this.callParent(arguments);\n    \tthis.mixins['Voyant.panel.Panel'].constructor.apply(this, arguments);\n\n\t\tthis.voyantStorageDialogs = new Voyant.notebook.StorageDialogs({\n\t\t\tlisteners: {\n\t\t\t\t'fileLoaded': function(src) {\n\n\t\t\t\t},\n\t\t\t\t'fileSaved': function(src, notebookId) {\n\t\t\t\t\tthis.unmask();\n\t\t\t\t\tif (notebookId !== null) {\n\t\t\t\t\t\tvar id = this.getNotebookId();\n\t\t\t\t\t\tif (!id || notebookId!=id) {\n\t\t\t\t\t\t\tthis.setNotebookId(notebookId);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.toastInfo({\n\t\t\t\t\t\t\thtml: this.localize('saved'),\n\t\t\t\t\t\t\tanchor: 'tr'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.setIsEdited(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// save error\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'saveCancelled': function() {\n\t\t\t\t},\n\t\t\t\t'close': function() {\n\t\t\t\t\tthis.unmask();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n\n\t\tthis.githubDialogs = new Voyant.notebook.github.GitHubDialogs({\n\t\t\tlisteners: {\n\t\t\t\t'fileLoaded': function(src, {owner, repo, ref, path, file}) {\n\t\t\t\t\tthis.githubDialogs.close();\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.loadFromString(file);\n\n\t\t\t\t\tconst id = encodeURIComponent(owner+'/'+repo+'/'+path);\n\t\t\t\t\tif (location.search.indexOf(id) === -1) {\n\t\t\t\t\t\tconst url = this.getBaseUrl()+'spyral/?githubId='+id;\n\t\t\t\t\t\twindow.history.pushState({\n\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t}, 'Spyral Notebook: '+id, url);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'fileSaved': function(src, {owner, repo, branch, path}) {\n\t\t\t\t\tthis.githubDialogs.close();\n\t\t\t\t\tthis.unmask();\n\t\t\t\t\tthis.toastInfo({\n\t\t\t\t\t\thtml: this.localize('saved'),\n\t\t\t\t\t\tanchor: 'tr'\n\t\t\t\t\t});\n\t\t\t\t\tthis.setIsEdited(false);\n\n\t\t\t\t\tconst id = encodeURIComponent(owner+'/'+repo+'/'+path);\n\t\t\t\t\tif (location.search.indexOf(id) === -1) {\n\t\t\t\t\t\tconst url = this.getBaseUrl()+'spyral/?githubId='+id;\n\t\t\t\t\t\twindow.history.pushState({\n\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t}, 'Spyral Notebook: '+id, url);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'saveCancelled': function(src) {\n\t\t\t\t\tthis.unmask();\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n\n\t\tthis.catalogueWindow = new Voyant.notebook.Catalogue({\n\t\t\tlisteners: {\n\t\t\t\tnotebookSelected: function(catalogue, notebookId) {\n\t\t\t\t\tcatalogue.hideWindow();\n\t\t\t\t\tthis.clear();\n\t\t\t\t\tthis.loadFromId(notebookId);\n\t\t\t\t\tthis.setNotebookId(notebookId);\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n    },\n    \n    init: function() {\n\t\t// add static / global functions from Spyral\n\t\twindow.Corpus = Spyral.Corpus;\n\t\twindow.Table = Spyral.Table;\n\n\t\twindow.loadCorpus = function() {\n\t\t\treturn Spyral.Corpus.load.apply(Spyral.Corpus.load, arguments)\n\t\t}\n\n\t\twindow.createTable = function() {\n\t\t\treturn Spyral.Table.create.apply(Spyral.Table, arguments)\n\t\t}\n\n\t\twindow.onbeforeunload = function() {\n\t\t\tif (this.getIsEdited()) {\n\t\t\t\treturn ''; // return any string to prompt the browser to warn the user they have unsaved changes\n\t\t\t}\n\t\t}.bind(this);\n\n\t\t// need to load docs first\n\t\tExt.Ajax.request({\n\t\t\turl: this.getApplication().getBaseUrlFull()+'resources/spyral/docs/spyral.json',\n\t\t\tcallback: function(opts, success, response) {\n\t\t\t\tif (success) {\n\t\t\t\t\tthis.spyralTernDocs = Ext.JSON.decode(response.responseText);\n\t\t\t\t\t\n\t\t\t\t\t// add docs for static / global functions\n\t\t\t\t\tthis.spyralTernDocs.Corpus = this.spyralTernDocs.Spyral.Corpus;\n\t\t\t\t\tthis.spyralTernDocs.Table = this.spyralTernDocs.Spyral.Table;\n\t\t\t\t\tthis.spyralTernDocs.loadCorpus = this.spyralTernDocs.Spyral.Corpus.load;\n\t\t\t\t\tthis.spyralTernDocs.createTable = this.spyralTernDocs.Spyral.Table.create;\n\t\t\t\t}\n\n\t\t\t\tvar queryParams = Ext.Object.fromQueryString(document.location.search, true);\n\t\t\t\tvar isRun = Ext.isDefined(queryParams.run);\n\t\t\t\tvar spyralIdMatches = /\\/spyral\\/([\\w-]+)\\/?$/.exec(location.pathname);\n\t\t\t\tvar isGithub = Ext.isDefined(queryParams.githubId);\n\t\t\t\tif (\"inputJsonArrayOfEncodedBase64\" in queryParams) {\n\t\t\t\t\tlet json = Ext.decode(queryParams.inputJsonArrayOfEncodedBase64);\n\t\t\t\t\tjson.forEach(function(block) {\n\t\t\t\t\t\tlet text = decodeURIComponent(atob(block));\n\t\t\t\t\t\tif (text.trim().indexOf(\"<\")==0) {\n\t\t\t\t\t\t\tthis.addText(text);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.addCode(text);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this);\n\t\t\t\t} else if (queryParams.input) {\n\t\t\t\t\tif (queryParams.input.indexOf(\"http\")===0) {\n\t\t\t\t\t\tthis.loadFromUrl(queryParams.input, isRun);\n\t\t\t\t\t}\n\t\t\t\t} else if (spyralIdMatches) {\n\t\t\t\t\tthis.loadFromId(spyralIdMatches[1]);\n\t\t\t\t\tthis.setStorageSolution('voyant');\n\t\t\t\t} else if (isGithub) {\n\t\t\t\t\tthis.githubDialogs.loadFileFromId(queryParams.githubId);\n\t\t\t\t\tthis.setStorageSolution('github');\n\t\t\t\t} else {\n\t\t\t\t\tthis.addNew();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (isRun) {\n\t\t\t\t\tvar me = this;\n\t\t\t\t\tExt.defer(function() {\n\t\t\t\t\t\tme.runAll()\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tscope: this\n\t\t})\n    },\n    \n    setBlock: function(data, offset, mode, config) {\n    \tdata = data || \"\";\n    \toffset = offset || 1;\n    \tconfig = config || {};\n    \tvar containers = this.query(\"notebookeditorwrapper\");\n    \tvar id = this.getCurrentBlock().id;\n    \tvar current = containers.findIndex(function(container) {return container.id==id})\n    \tif (current+offset<0 || current+offset>containers.length) { // wanting to place before beginning or one beyond end\n\t\t\tExt.Msg.show({\n\t\t\t\ttitle: this.localize('error'),\n\t\t\t\tmsg: this.localize('blockDoesNotExist'),\n\t\t\t\tbuttons: Ext.MessageBox.OK,\n\t\t\t\ticon: Ext.MessageBox.ERROR\n\t\t\t});\n\t\t\treturn undefined\n    \t}\n    \t\n    \t// I can't seem to set the content, so we'll go nuclear and remove the block\n    \tif (containers[current+offset]) {\n        \tvar cells = this.getComponent(\"cells\");\n    \t\tcells.remove(containers[current+offset]);\n    \t}\n    \treturn this.addCode(Object.assign({},{\n    \t\tinput: data,\n    \t\tmode: mode || \"text\"\n    \t}, config), current+offset);\n    },\n    getBlock: function(offset, config) {\n    \toffset = offset || 0;\n    \tconfig = config || {};\n    \tvar containers = this.query(\"notebookcodeeditorwrapper\");\n    \tvar id = this.getCurrentBlock().id;\n    \tvar current = containers.findIndex(function(container) {return container.id==id})\n    \tif (current+offset<0 || current+offset>containers.length-1) {\n    \t\tif (\"failQuietly\" in config && config.failQuietly) {}\n    \t\telse {\n    \t\t\tExt.Msg.show({\n    \t\t\t\ttitle: this.localize('error'),\n    \t\t\t\tmsg: this.localize('blockDoesNotExist'),\n    \t\t\t\tbuttons: Ext.MessageBox.OK,\n    \t\t\t\ticon: Ext.MessageBox.ERROR\n    \t\t\t});\n    \t\t}\n\t\t\treturn undefined;\n    \t}\n    \tcontent = containers[current+offset].getContent();\n    \treturn content.input;\n//    \tdebugger\n//    \tvar mode = containers[current+offset].editor.getMode().split(\"/\").pop();\n//    \tif (content.mode==\"xml\") {\n//    \t\treturn new DOMParser().parseFromString(content.input, 'text/xml')\n//    \t} else if (content.mode==\"json\") {\n//    \t\treturn JSON.parse(content.input);\n//    \t} else if (content.mode==\"html\") {\n//    \t\treturn new DOMParser().parseFromString(content.input, 'text/html')\n//    \t} else {\n//    \t\treturn content.input;\n//    \t}\n    },\n    \n    addNew: function() {\n\t\tthis.setMetadata(new Spyral.Metadata({\n\t\t\ttitle: \"<h1>Spyral Notebook</h1>\"\n\t\t}));\n\t\tthis.addText(\"<p>This is a Spyral Notebook, a dynamic document that combines writing, code and data in service of reading, analyzing and interpreting digital texts.</p><p>Spyral Notebooks are composed of text blocks (like this one) and code blocks (like the one below). You can <span class='marker'>click on the blocks to edit</span> them and add new blocks by clicking add icon that appears in the left column when hovering over a block.</p>\");\n\t\tvar code = this.addCode('');\n\t\tExt.defer(function() {\n\t\t\tcode.run();\n\t\t}, 100, this);\n    },\n    \n    clear: function() {\n\t\tthis.setMetadata(new Spyral.Metadata());\n\t\tthis.voyantStorageDialogs.reset();\n    \tvar cells = this.getComponent(\"cells\");\n    \tcells.removeAll();\n\t},\n\n\tshowSaveDialog: function(saveAs) {\n\t\tthis.mask(this.localize('saving'));\n\t\tthis.getMetadata().setDateNow(\"modified\");\n\n\t\tconst data = this.generateExportHtml();\n\t\tconst metadata = this.getMetadata().clone(); // use a clone so that altering title and description doesn't affect original\n\n\t\t// get text content of title and description\n\t\tconst textContainer = document.createElement('div');\n\t\ttextContainer.innerHTML = metadata.title;\n\t\tmetadata.title = textContainer.textContent;\n\t\ttextContainer.innerHTML = metadata.description;\n\t\tmetadata.description = textContainer.textContent;\n\t\ttextContainer.remove();\n\n\t\tconst storageSolution = this.getStorageSolution();\n\t\t\n\t\tif (!saveAs && storageSolution === 'voyant' && this.getNotebookId() !== undefined && this.voyantStorageDialogs.getAccessCode() !== undefined) {\n\t\t\tthis.voyantStorageDialogs.doSave({\n\t\t\t\tnotebookId: this.getNotebookId(),\n\t\t\t\tdata: data,\n\t\t\t\tmetadata: metadata,\n\t\t\t\taccessCode: this.voyantStorageDialogs.getAccessCode()\n\t\t\t});\n\t\t} else {\n\t\t\tif (storageSolution === 'github') {\n\t\t\t\tthis.githubDialogs.showSave(data);\n\t\t\t} else {\n\t\t\t\tthis.voyantStorageDialogs.showSave(data, metadata, saveAs ? undefined : this.getNotebookId());\n\t\t\t}\n\t\t}\n\t},\n\t\n    loadFromString: function(text) {\n    \ttext = text.trim();\n\t\tif (text.indexOf(\"http\")==0) {\n\t\t\tthis.loadFromUrl(text);\n\t\t} else if (text.indexOf(\"{\")==0) { // old format?\n\t\t\tvar json;\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(text)\n\t\t\t} catch(e) {\n\t\t\t\treturn Ext.Msg.show({\n\t\t\t\t\ttitle: this.localize('error'),\n\t\t\t\t\tmsg: this.localize('cannotLoadJson')+\"<br><pre style='color: red'>\"+e+\"</pre>\",\n\t\t\t\t\tbuttons: Ext.MessageBox.OK,\n\t\t\t\t\ticon: Ext.MessageBox.ERROR\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (!json.metadata || !json.blocks) {\n\t\t\t\treturn Ext.Msg.show({\n\t\t\t\t\ttitle: this.localize('error'),\n\t\t\t\t\tmsg: this.localize('cannotLoadJsonUnrecognized'),\n\t\t\t\t\tbuttons: Ext.MessageBox.OK,\n\t\t\t\t\ticon: Ext.MessageBox.ERROR\n\t\t\t\t});\n\t\t\t}\n\t\t\tjson.blocks.forEach(function(block) {\n        \t\tif (Ext.isString(block) && block!='') {this.addCode({input: block});}\n        \t\telse if (block.input) {\n            \t\tif (block.type=='text') {this.addText(block);}\n            \t\telse {\n            \t\t\tthis.addCode(block);\n            \t\t}\n        \t\t}\n\t\t\t}, this);\n\t\t} else if (/^[\\w-_]+$/.test(text)) {\n\t\t\tthis.loadFromId(text)\n\t\t}\n\t\telse if (text.indexOf(\"<\")!==0 || text.indexOf(\"spyral\")==-1) {\n\t\t\treturn Ext.Msg.show({\n\t\t\t\ttitle: this.localize('error'),\n\t\t\t\tmsg: this.localize('cannotLoadUnrecognized'),\n\t\t\t\tbuttons: Ext.MessageBox.OK,\n\t\t\t\ticon: Ext.MessageBox.ERROR\n\t\t\t});\n\t\t} else {\n\t\t\tthis.loadFromHtmlString(text);\n\t\t}\n\t\treturn true;\n\n    },\n    \n    loadFromId: function(id) {\n    \tthis.mask(this.localize(\"loading\"));\n    \tvar me = this;\n    \tSpyral.Load.trombone({\n\t    \t tool: 'notebook.GitNotebookManager',\n\t    \t action: 'load',\n\t    \t id: id,\n\t    \t noCache: 1\n    \t}).then(function(json) {\n    \t\tme.unmask();\n    \t\tme.loadFromString(json.notebook.data); // could be older JSON format\n\t\t\tif (json.notebook.id && json.notebook.id!=me.getNotebookId()) {\n\t\t\t\tme.setNotebookId(json.notebook.id);\n\t\t\t}\n\t    \tme.setIsEdited(false);\n    \t}).catch(function(err) {me.unmask()})\n    },\n    \n    loadFromHtmlString: function(html) {\n    \tvar parser = new DOMParser();\n    \tvar dom = parser.parseFromString(html, 'text/html');\n    \tthis.setMetadata(new Spyral.Metadata(dom))\n    \tvar hasDomError = false;\n    \tdom.querySelectorAll(\"section.notebook-editor-wrapper\").forEach(function(section) {\n    \t\tvar classes = section.classList;\n    \t\tif (classes.contains(\"notebooktexteditorwrapper\")) {\n    \t\t\tvar editor = section.querySelector(\".notebook-text-editor\").innerHTML;\n    \t\t\tthis.addText(editor, undefined, section.id);\n    \t\t} else if (classes.contains(\"notebookcodeeditorwrapper\")) {\n    \t\t\tvar inputEl = section.querySelector(\".notebook-code-editor-raw\");\n    \t\t\tvar typeRe = /\\beditor-mode-(\\w+)\\b/.exec(inputEl.className);\n    \t\t\tvar editorType = typeRe[1];\n    \t\t\t\n    \t\t\t/* in an ideal world we could use inputEl.innerHTML to get the contents\n    \t\t\t * except that since it's in a parsed DOM it's already been transformed\n    \t\t\t *  significantly. For instance, all >, <, and & character appear in the\n    \t\t\t * html entities form (which breaks things like && () => {}). You also\n    \t\t\t * get strange artefacts like if you have \"<div>\" in your code it may add\n    \t\t\t * </div> to the end of the innerHTML (to make sure tags are balanced).\n    \t\t\t * and of course textContent or innerText won't work because that will\n    \t\t\t * strip any of the HTML formatting out. What's left is to use the parsing\n    \t\t\t * to ensure the order and to properly grab the IDs and then to do character\n    \t\t\t * searches on the original string. */\n    \t\t\tvar secPos = html.indexOf(\"<section id='\"+section.id+\"' class='notebook-editor-wrapper notebookcodeeditorwrapper'>\");\n\t\t\t\tvar startPre = html.indexOf(\"<pre class='notebook-code-editor-raw editor-mode-\", secPos);\n    \t\t\tstartPre = html.indexOf(\">\", startPre)+1; // add the length of the string\n    \t\t\tvar endPre = html.indexOf(\"</pre>\\n<div class='notebook-code-results\", startPre);\n    \t\t\t\n    \t\t\t// check if we have valid values\n    \t\t\tif (secPos===-1 || startPre === -1 || endPre === -1) {\n    \t\t\t\thasDomError = true;\n    \t\t\t\t// this might work, unless the js code includes HTML\n    \t\t\t\tinput = editorType === \"javascript\" ? inputEl.innerText : inputEl.innerHTML;\n    \t\t\t\tdebugger\n    \t\t\t} else {\n        \t\t\tinput = html.substring(startPre, endPre);\n    \t\t\t}\n\t\t\t\tvar autoexec = /\\bautoexec\\b/.exec(inputEl.className) !== null;\n\t\t\t\tvar output = section.querySelector(\".notebook-code-results\").innerHTML;\n\t\t\t\tvar expandResults = section.querySelector(\".notebook-code-results\").classList.contains('collapsed') === false;\n\t\t\t\tvar ui = section.querySelector(\".notebook-code-ui\");\n\t\t\t\tif (ui !== null) {\n\t\t\t\t\tui = ui.innerHTML;\n\t\t\t\t} else {\n\t\t\t\t\tui = undefined;\n\t\t\t\t}\n    \t\t\tthis.addCode({\n    \t\t\t\tinput: input,\n\t\t\t\t\toutput: output,\n\t\t\t\t\texpandResults: expandResults,\n\t\t\t\t\tuiHtml: ui,\n\t\t\t\t\tmode: editorType,\n\t\t\t\t\tautoExecute: autoexec,\n    \t\t\t}, undefined, section.id)\n    \t\t}\n\t\t}, this);\n\t\t\n    \tif (hasDomError) {\n\t\t\tthis.showError(this.localize(\"errorParsingDomInput\"))\n    \t}\n    \t\n\t\tthis.fireEvent('notebookLoaded');\n    },\n    \n    runUntil: function(upToCmp) {\n    \tvar containers = [];\n    \tExt.Array.each(this.query(\"notebookcodeeditorwrapper\"), function(item) {\n\t\t\tcontainers.push(item);\n\t\t\titem.clearResults();\n    \t\tif (upToCmp && upToCmp==item) {return false;}\n    \t}, this);\n    \tthis._run(containers);\n    },\n    \n    runFrom: function(fromCmp) {\n    \tvar containers = [], matched = false;\n    \tExt.Array.each(this.query(\"notebookcodeeditorwrapper\"), function(item) {\n    \t\tif (fromCmp && fromCmp==item) {matched=true;}\n    \t\tif (matched) {\n    \t\t\tcontainers.push(item);\n    \t\t\titem.clearResults();\n    \t\t}\n    \t}, this);\n    \tthis._run(containers);\n    },\n    \n    runAll: function() {\n    \tvar containers = [];\n    \tExt.Array.each(this.query(\"notebookcodeeditorwrapper\"), function(item) {\n\t\t\tcontainers.push(item);\n\t\t\titem.clearResults();\n    \t}, this);\n    \tthis._run(containers);\n    },\n    \n    _run: function(containers) {\n    \tif (containers.length>0) {\n    \t\tvar container = containers.shift();\n    \t\tvar result = container.run(true);\n\t\t\tif (result!==undefined && result.then && result.catch && result.finally) {\n\t\t\t\tvar me = this;\n\t\t\t\tresult.then(function() {\n\t\t        \tExt.defer(me._run, 100, me, [containers]);\n\t\t\t\t})\n\t\t\t} else {\n\t        \tExt.defer(this._run, 100, this, [containers]);\n\t\t\t}\n    \t}\n\t},\n\t\n\tautoExecuteCells: function() {\n\t\tvar containers = [];\n    \tExt.Array.each(this.query(\"notebookcodeeditorwrapper\"), function(item) {\n\t\t\tif (item.getAutoExecute()) {\n\t\t\t\tcontainers.push(item);\n\t\t\t}\n\t\t});\n\t\tthis._run(containers);\n\t},\n    \n    loadFromUrl: function(url, run) {\n    \tvar me = this;\n    \t// load as string and not HTML in case it's an older JSON format\n    \tSpyral.Load.text(url).then(function(text) {me.loadFromString(text)})\n    },\n    \n    addText: function(block, order, cellId) {\n    \treturn this._add(block, order, 'notebooktexteditorwrapper', cellId);\n    },\n \n    addCode: function(block, order, cellId, config) {\n    \treturn this._add(block, order, 'notebookcodeeditorwrapper', cellId, {docs: this.spyralTernDocs});\n    },\n    \n    _add: function(block, order, xtype, cellId, config) {\n    \tif (Ext.isString(block)) {\n    \t\tblock = {input: block}\n    \t}\n    \tvar cells = this.getComponent(\"cells\");\n\t\torder = (typeof order === 'undefined') ? cells.items.length : order;\n\t\tcellId = (typeof cellId === 'undefined') ? Spyral.Util.id() : cellId;\n    \treturn cells.insert(order, Ext.apply(block, {\n    \t\txtype: xtype,\n    \t\torder: order,\n    \t\tcellId: cellId\n    \t}, config))\n    },\n    \n    updateMetadata: function() {\n    \tvar metadata = this.getMetadata();\n    \tthis.getComponent(\"spyralHeader\").update(this.getInnerHeaderHtml());\n    \tthis.getComponent(\"spyralFooter\").update(this.getInnerFooterHtml());\n    \tthis.setIsEdited(true);\n    },\n    \n\tnotebookWrapperMoveUp: function(wrapper) {\n\t\tvar cells = this.getComponent(\"cells\");\n\t\tvar i = cells.items.findIndex('id', wrapper.id);\n\t\tif (i==0) {\n\t\t\tExt.Msg.show({\n\t\t\t\ttitle: this.localize('error'),\n\t\t\t\tmsg: this.localize('cannotMoveHigher'),\n\t\t\t\tbuttons: Ext.MessageBox.OK,\n\t\t\t\ticon: Ext.MessageBox.WARNING\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tcells.move(i, i-1);\n\t\t\tthis.redoOrder();\n\t\t}\n\t},\n\t\n\tnotebookWrapperMoveDown: function(wrapper) {\n\t\tvar cells = this.getComponent(\"cells\");\n\t\tvar i = cells.items.findIndex('id', wrapper.id);\n\t\tif (i==cells.items.getCount()-1) {\n\t\t\tExt.Msg.show({\n\t\t\t\ttitle: this.localize('error'),\n\t\t\t\tmsg: this.localize('cannotMoveLower'),\n\t\t\t\tbuttons: Ext.MessageBox.OK,\n\t\t\t\ticon: Ext.MessageBox.WARNING\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tcells.move(i, i+1);\n\t\t\tthis.redoOrder();\n\t\t}\n\t},\n\t\n\tnotebookWrapperRemove: function(wrapper) {\n\t\tvar cells = this.getComponent(\"cells\");\n\t\tcells.remove(wrapper);\n\t\tif (cells.items.length==0) {\n\t\t\tthis.addText(\"(Click to edit).\")\n\t\t}\n\t\tthis.redoOrder();\n\t},\n\t\n\tnotebookWrapperAdd: function(wrapper, e) {\n\t\tvar cells = this.getComponent(\"cells\");\n\t\tvar i = cells.items.findIndex('id', wrapper.id);\n\t\tvar xtype = wrapper.getXType(wrapper);\n\t\tvar cmp;\n\t\tif ((xtype=='notebooktexteditorwrapper' && !e.hasModifier()) || (xtype=='notebookcodeeditorwrapper' && e.hasModifier())) {\n\t\t\tcmp = this.addCode('',i+1);\n\t\t}\n\t\telse {\n\t\t\tcmp = this.addText('',i+1);\n\t\t}\n\t\tcmp.getTargetEl().scrollIntoView(this.getTargetEl(), null, true, true);\n\t\tthis.redoOrder();\n\t},\n\n    redoOrder: function() {\n    \tthis.query(\"notebookwrappercounter\").forEach(function(counter, i) {\n    \t\tcounter.setOrder(i);\n\t\t})\n\t\tthis.setIsEdited(true);\n    },\n    \n    setIsEdited: function(val) {\n    \t// TODO: perhaps setup autosave\n    \tif (this.getHeader()) {\n        \tthis.getHeader().down(\"#saveItTool\").setDisabled(val==false);\n        \tif (!val) {\n        \t\tthis.query(\"notebookcodeeditor\").forEach(function(editor) {\n        \t\t\teditor.setIsChangeRegistered(false);\n        \t\t})\n        \t\tthis.query(\"notebooktexteditor\").forEach(function(editor) {\n        \t\t\teditor.setIsEditRegistered(false);\n        \t\t})\n        \t}\n    \t}\n\t\tthis.callParent(arguments);\n    },\n    \n    setNotebookId: function (id) {\n    \tif (id) {\n    \t\t// update URL if needed\n    \t\tif (location.pathname.indexOf(\"/spyral/\"+id) === -1) {\n    \t\t\tlet url = this.getBaseUrl()+\"spyral/\"+id+\"/\";\n    \t\t\twindow.history.pushState({\n\t\t\t\t\turl: url\n\t\t\t\t}, \"Spyral Notebook: \"+id, url);\n    \t\t}\n    \t}\n\t\tthis.callParent(arguments);\n    },\n    \n    generateExportHtml: function() {\n    \tvar metadata = this.getMetadata();\n        var out = \"<!DOCTYPE HTML>\\n<html>\\n<head>\\n\\t<meta charset='UTF-8'>\\n\"+\n        \tmetadata.getHeaders();\n        var aceChromeEl = document.getElementById(\"ace-chrome\");\n        if (aceChromeEl) {out+=aceChromeEl.outerHTML+\"\\n\"}\n        out += document.getElementById(\"voyant-notebooks-styles\").outerHTML+\"\\n\"+\n\t        \"<script> // this script checks to see if embedded tools seem to be available\\n\"+\n\t    \t\"window.addEventListener('load', function() {\\n\"+\n\t    \t\t\"var hostnames = {}, warned = false;\\n\"+\n\t    \t\t\"document.querySelectorAll('iframe').forEach(function(iframeEl) {\\n\"+\n\t    \t\t\t\"let url = new URL(iframeEl.src);\\n\"+\n\t    \t\t\t\"if (!(url.hostname in hostnames) && !warned) {\\n\"+\n\t    \t\t\t\t\"hostnames[url.hostname] = true; // mark as fetched\\n\"+\n\t    \t\t\t\t\"fetch(url).catch(response => {\\n\"+\n\t    \t\t\t\t\t\"warned = true;\\n\"+\n\t    \t\t\t\t\t\"alert('This notebook seems to contain one ore more tools that may not be able to load. Possible reasons include a server no longer being accessible (especially if the notebook was generated from a local server), or because of security restrictions.'+url)\\n\"+\n\t    \t\t\t\t\"})\\n\"+\n\t    \t\t\t\"}\\n\"+\n\t    \t\t\"})\\n\"+\n\t    \t\"})\\n\"+\n\t    \t\"\u003c/script>\\n\"+\n        \t\"</head>\\n<body class='exported-notebook'>\"+\n        \tthis.getHeaderHtml()+\n        \t\"<article class='spyralArticle'>\";\n\t\tthis.getComponent(\"cells\").items.each(function(item, i) {\n    \t\tvar type = item.isXType('notebookcodeeditorwrapper') ? 'code' : 'text';\n    \t\tvar content = item.getContent();\n    \t\tvar counter = item.down(\"notebookwrappercounter\");\n\t\t\t// reminder that the parsing in of notebooks depends on the stability of this syntax\n    \t\tout+=\"<section id='\"+counter.name+\"' class='notebook-editor-wrapper \"+item.xtype+\"'>\\n\"+\n    \t\t\t\"<div class='notebookwrappercounter'>\"+counter.getTargetEl().dom.innerHTML+\"</div>\";\n    \t\tif (type==='code') {\n    \t\t\tvar mode = item.down(\"notebookcodeeditor\").getMode();\n\t\t\t\tmode = mode.substring(mode.lastIndexOf(\"/\")+1);\n\n\t\t\t\tvar expandResults = item.getExpandResults();\n\t\t\t\t\n\t\t\t\tvar autoexec = item.getAutoExecute() ? 'autoexec' : '';\n\t\t\t\t\n\t\t\t\tvar codeTextLayer = item.getTargetEl().query('.ace_text-layer')[0].cloneNode(true);\n\t\t\t\tcodeTextLayer.style.setProperty('height', 'auto'); // fix for very large height set by ace\n\t\t\t\t// reminder that the parsing in of notebooks depends on the stability of this syntax\n    \t\t\tout+=\"<div class='notebook-code-editor ace-chrome'>\\n\"+codeTextLayer.outerHTML+\"\\n</div>\\n\"+\n    \t\t\t\t\"<pre class='notebook-code-editor-raw editor-mode-\"+mode+\" \"+autoexec+\"'>\"+content.input+\"</pre>\\n\"+\n\t\t\t\t\t\"<div class='notebook-code-results\"+(expandResults ? '' : ' collapsed')+\"'>\\n\"+content.output+\"\\n</div>\\n\";\n\t\t\t\tif (content.ui !== undefined) {\n\t\t\t\t\tout += \"<div class='notebook-code-ui'>\\n\"+content.ui+\"\\n</div>\\n\";\n\t\t\t\t}\n    \t\t} else {\n    \t\t\tout+=\"<div class='notebook-text-editor'>\"+content+\"</div>\\n\";\n    \t\t}\n    \t\tout+=\"</section>\\n\"\n    \t})\n        out += \"</article>\\n<footer class='spyral-footer'>\"+this.getInnerFooterHtml()+\"</footer></body>\\n</html>\";\n    \treturn out;\n    },\n    \n    getHeaderHtml: function() {\n    \treturn \"<header class='spyral-header'>\"+this.getInnerHeaderHtml()+\"</header>\\n\";\n    },\n    \n    getInnerHeaderHtml: function() {\n    \tlet html = \"\";\n    \tif (this.getMetadata().title) {\n        \thtml += \"<div class='title'>\"+this.getMetadata().title+\"</div>\";\n    \t}\n    \tif (this.getMetadata().author) {\n        \thtml += \"<div class='author'>\"+this.getMetadata().author+\"</div>\";\n    \t}\n    \treturn html;\n    },\n    \n    getInnerFooterHtml: function() {\n    \tvar text = \"\", metadata = this.getMetadata();\n    \tif (metadata.author || metadata.license) {\n        \tvar text = \"&copy;\";\n        \tif (metadata.author) {text+=\" \"+metadata.author;}\n        \tif (metadata.license) {text+=\" (\"+metadata.license+\")\";}\n    \t\ttext += \". \";\n    \t}\n    \tif (metadata.created || metadata.modified) {\n    \t\tvar created = metadata.shortDate(\"created\"), modified = metadata.shortDate(\"modified\");\n    \t\tif (created) {\n        \t\ttext += this.localize(\"created\")+\" \"+created+\".\"\n    \t\t}\n    \t\tif (modified && created!=modified) {\n        \t\ttext += this.localize(\"modified\")+\" \"+modified+\".\"\n    \t\t}\n    \t\t\n    \t}\n    \treturn text;\n    },\n    \n    getExtraExportItems: function() {\n    \treturn [{\n       \t\tinputValue: 'html',\n       \t\tboxLabel: this.localize('exportHtml')\n       \t},{\n       \t\tinputValue: 'htmlDownload',\n       \t\tboxLabel: '<a href=\"#\">'+this.localize('exportHtmlDownload')+'</a>',\n       \t\tlisteners: {\n       \t\t\tafterrender: function(cmp) {\n       \t\t    \tvar file, name = (this.getNotebookId() || \"spyral\")+ \".html\",\n       \t    \t\tdata = this.generateExportHtml(),\n       \t    \t\tproperties = {type: 'text/html'};\n\t       \t    \ttry {\n\t       \t    \t  file = new File([data], name, properties);\n\t       \t    \t} catch (e) {\n\t       \t    \t  file = new Blob([data], properties);\n\t       \t    \t}\n\t       \t    \t\n       \t    \t\tvar url = URL.createObjectURL(file);\n       \t    \t\tvar a = cmp.boxLabelEl.dom.querySelector(\"a\");\n       \t    \t\ta.setAttribute(\"download\", name);\n       \t    \t\ta.setAttribute(\"href\", url);\n       \t\t\t},\n       \t\t\tscope: this\n       \t\t},\n       \t\thandler: function(cmp) {\n       \t\t\tcmp.boxLabelEl.dom.querySelector(\"a\").click();\n       \t\t\tcmp.up(\"window\").close();\n       \t\t}\n       \t}]\n    },\n    \n    exportHtml: function() {\n    \tvar out = this.generateExportHtml();\n        var myWindow = window.open();\n        myWindow.document.write(out);\n        myWindow.document.close();\n        myWindow.focus();\n    },\n\t\n\t// TODO not currently being used\n    exportHtmlDownload: function() {\n    \t// https://stackoverflow.com/questions/2897619/using-html5-javascript-to-generate-and-save-a-file\n    \tvar file,\n    \t\tdata = this.generateExportHtml(),\n    \t\tproperties = {type: 'text/plain'}; // Specify the file's mime-type.\n    \ttry {\n    \t  file = new File([data], \"files.txt\", properties);\n    \t} catch (e) {\n    \t  file = new Blob([data], properties);\n    \t}\n    \tvar url = URL.createObjectURL(file);\n    \tthis.getApplication().openUrl(url)\n    },\n    \n\tgetExportUrl: function(asTool) {\n\t\treturn location.href; // we just provide the current URL\n\t},\n\n    showMetadataEditor: function() {\n\t\tif (this.metadataWindow === undefined) {\n\t\t\tvar me = this;\n\n\t\t\tthis.metadataWindow = Ext.create('Ext.window.Window', {\n\t\t\t\ttitle: this.localize('metadataEditor'),\n\t\t\t\tautoScroll: true,\n\t\t\t\tcloseAction: 'hide',\n\t\t\t\titems: [{\n\t\t\t\t\txtype: 'form',\n\t\t\t\t\titems: {\n\t\t\t\t\t\tbodyPadding: 5,\n\t\t\t\t\t\twidth: 600,\n\n\t\t\t\t\t\t// Fields will be arranged vertically, stretched to full width\n\t\t\t\t\t\tlayout: 'anchor',\n\t\t\t\t\t\tdefaults: {\n\t\t\t\t\t\t\tanchor: '100%',\n\t\t\t\t\t\t\tlabelAlign: \"right\"\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t// The fields\n\t\t\t\t\t\tdefaultType: 'textfield',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tfieldLabel: this.localize(\"metadataTitle\"),\n\t\t\t\t\t\t\txtype: 'htmleditor',\n\t\t\t\t\t\t\tname: 'title',\n\t\t\t\t\t\t\theight: 100,\n\t\t\t\t\t\t\tenableAlignments : false,\n\t\t\t\t\t\t\tenableColors : false,\n\t\t\t\t\t\t\tenableFont : false,\n\t\t\t\t\t\t\tenableFontSize : false,\n\t\t\t\t\t\t\tenableLinks : false,\n\t\t\t\t\t\t\tenableLists : false\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\tfieldLabel: this.localize(\"metadataAuthor\"),\n\t\t\t\t\t\t\tname: 'author'\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\tfieldLabel: this.localize(\"metadataKeywords\"),\n\t\t\t\t\t\t\tname: 'keywords'\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\txtype: 'htmleditor',\n\t\t\t\t\t\t\tfieldLabel: this.localize(\"metadataDescription\"),\n\t\t\t\t\t\t\tname: 'description',\n\t\t\t\t\t\t\theight: 100,\n\t\t\t\t\t\t\tenableAlignments : false,\n\t\t\t\t\t\t\tenableColors : false,\n\t\t\t\t\t\t\tenableFont : false\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\txtype: 'combo',\n\t\t\t\t\t\t\tfieldLabel: this.localize(\"metadataLicense\"),\n\t\t\t\t\t\t\tname: 'license',\n\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\tfields: ['text'],\n\t\t\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t\t\t{\"text\": \"Apache License 2.0\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"BSD 3-Clause \\\"New\\\" or \\\"Revised\\\" license\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"BSD 2-Clause \\\"Simplified\\\" or \\\"FreeBSD\\\" license\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Creative Commons Attribution (CC BY)\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Creative Commons Attribution-ShareAlike (CC BY-SA)\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Creative Commons Zero (CC0)\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"GNU General Public License (GPL)\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"GNU Library or \\\"Lesser\\\" General Public License (LGPL)\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"MIT license\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Mozilla Public License 2.0\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Common Development and Distribution License\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Eclipse Public License\"}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\txtype: 'combo',\n\t\t\t\t\t\t\tname: 'language',\n\t\t\t\t\t\t\tfieldLabel: this.localize(\"metadataLanguage\"),\n\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\tfields: ['text'],\n\t\t\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t\t\t{\"text\": \"Bengali\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Bhojpuri\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Egyptian Arabic\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"English\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"French\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"German\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Gujarati\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Hausa\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Hindi\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Indonesian\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Italian\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Japanese\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Javanese\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Kannada\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Korean\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Mandarin\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Marathi\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Persian\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Portuguese\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Russian\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Southern Min\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Spanish\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Standard Arabic\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Swahili\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Tamil\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Telugu\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Thai\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Turkish\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Urdu\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Vietnamese\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Western Punjabi\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Wu Chinese\"},\n\t\t\t\t\t\t\t\t\t{\"text\": \"Yue Chinese\"}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}],\n\n\t\t\t\t\n\t\t\t\t// Reset and Submit buttons\n\t\t\t\tbuttons: [{\n\t\t\t\t\ttext: this.localize('metadataCancel'),\n\t\t\t\t\tui: 'default-toolbar',\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis.up('window').close();\n\t\t\t\t\t}\n\t\t\t\t},{\n\t\t\t\t\ttext: this.localize('metadataReset'),\n\t\t\t\t\tui: 'default-toolbar',\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis.up('window').down('form').getForm().reset();\n\t\t\t\t\t}\n\t\t\t\t}, \" \", {\n\t\t\t\t\ttext: this.localize('metadataSave'),\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tvar form = this.up('window').down('form').getForm();\n\t\t\t\t\t\tme.getMetadata().set(form.getValues());\n\t\t\t\t\t\tme.updateMetadata();\n\t\t\t\t\t\tthis.up('window').close();\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t\t\n\t\t\t})\n\t\t}\n\n\t\tvar metadata = this.getMetadata();\n\t\tif (metadata === undefined) {\n\t\t\tmetadata = new Spyral.Metadata();\n\t\t\tthis.setMetadata(metadata);\n\t\t}\n\t\t\n\t\tvar form = this.metadataWindow.down('form').getForm();\n\t\tform.findField('title').setValue(metadata.title);\n\t\tform.findField('author').setValue(metadata.author);\n\t\tform.findField('keywords').setValue(metadata.keywords);\n\t\tform.findField('description').setValue(metadata.description);\n\t\tform.findField('license').setValue(metadata.license || \"Creative Commons Attribution (CC BY)\");\n\t\tform.findField('language').setValue(metadata.language || \"English\");\n\n\t\tthis.metadataWindow.show();\n\t}\n\t\n\t/*\n\tshowOptionsClick: function(panel) {\n\t\tlet me = panel;\n\t\tif (me.optionsWin === undefined) {\n\t\t\tme.optionsWin = Ext.create('Ext.window.Window', {\n\t\t\t\ttitle: me.localize('gearWinTitle'),\n    \t\t\tcloseAction: 'hide',\n\t\t\t\tlayout: 'fit',\n\t\t\t\twidth: 400,\n\t\t\t\theight: 300,\n\t\t\t\tbodyPadding: 10,\n\t\t\t\titems: {\n\t\t\t\t},\n    \t\t\tbuttons: [{\n    \t\t\t\ttext: me.localize('ok'),\n    \t\t\t\thandler: function(button, event) {\n    \t\t\t\t}\n    \t\t\t},{\n    \t\t\t\ttext: me.localize('cancel'),\n    \t\t\t\thandler: function(button, event) {\n    \t\t\t\t\tbutton.findParentByType('window').hide();\n    \t\t\t\t}\n    \t\t\t}]\n\t\t\t});\n\t\t}\n\t\tme.optionsWin.show();\n\t}\n\t*/\n});","Ext.define('Voyant.VoyantApp', {\n\t\n    extend: 'Ext.app.Application',\n\tmixins: ['Voyant.util.Deferrable','Voyant.util.Localization','Voyant.util.Api','Voyant.util.Colors'],\n\trequires: ['Voyant.util.ResponseError'],\n    \n    name: 'VoyantApp',\n    \n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n\t\t\tpalette: 'default',\n\t\t\tcategories: 'auto',\n    \t\tlang: undefined,\n    \t\tdebug: undefined\n    \t}\n    },\n    \n    config: {\n    \tbaseUrl: undefined,\n\t\ttromboneUrl: undefined,\n\t\tcategoriesManager: undefined\n    },\n    \n    constructor: function(config) {\n    \tthis.setBaseUrl(this.config.baseUrl);\n    \t\n    \t// set the Trombone URL from the baseURL // TODO: maybe allow this to be overridden\n\t\tthis.setTromboneUrl(this.config.baseUrl+'trombone');\n\t\t\n    \t// set the application for the Corpus so that we can use a simple constructor\n\t\tVoyant.application = this;\n\t\t\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n\n\t\tthis.mixins['Voyant.util.Colors'].constructor.apply(this, arguments);\n\n\t\tthis.setCategoriesManager(new Spyral.Categories());\n\t\t// inheritance/mixin hack\n\t\t// var catProps = Object.getOwnPropertyNames(categories).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(categories)));\n\t\t// catProps.forEach(function(propName) {\n\t\t// \tif (this[propName] === undefined) {\n\t\t// \t\tif (typeof categories[propName] === 'function') {\n\t\t// \t\t\tthis[propName] = categories[propName].bind(this);\n\t\t// \t\t} else {\n\t\t// \t\t\tthis[propName] = categories[propName];\n\t\t// \t\t}\n\t\t// \t}\n\t\t// }, this)\n\t\t\n\t\tthis.getCategoriesManager().addFeature('color');\n\t\tthis.getCategoriesManager().addFeature('font', '\"Palatino Linotype\", \"Book Antiqua\", Palatino, serif');\n\t\t\n\t\t// call the parent constructor\n\t\tthis.callParent(arguments);\n\t\t\n\t\t// override Voyant.util.Colors methods to add palette api param\n\t\tvar _getColor = this.getColor;\n\t\tthis.getColor = function(index, returnHex) {\n\t\t\treturn _getColor.apply(this, [this.getApiParam('palette'), index, returnHex]);\n\t\t}\n\t\tvar _getColorForTerm = this.getColorForTerm;\n\t\tthis.getColorForTerm = function(term, returnHex) {\n\t\t\treturn _getColorForTerm.apply(this, [this.getApiParam('palette'), term, returnHex]);\n\t\t}\n    },\n    getBaseUrl: function() {\n    \tvar baseUrl = this.callParent();\n    \treturn baseUrl.indexOf(\"//\")==0 ? location.protocol+baseUrl : baseUrl;\n    },\n    \n    getBaseUrlFull: function() {\n    \treturn window.location.origin+this.getBaseUrl(); // maybe doesn't work in all browsers?\n    },\n\n    getRelativeUrl: function() {\n    \tvar url = window.location.pathname.substring(this.getBaseUrl().length);\n    \tvar relative = \"\";\n    \tfor (var i=0, len=url.split(\"/\").length-1; i<len; i++) {\n    \t\trelative+=\"../\"\n    \t}\n    \treturn relative;\n    },\n    \n    getTools: function() {\n    \treturn [{type: 'maximize'},{type: 'help'}]\n    },\n    \n    launch: function() {\n    \tExt.tip.QuickTipManager.init();\n    \tExt.apply(Ext.tip.QuickTipManager.getQuickTip(), {\n    \t    showDelay: 50 // shorten the delay before showing\n    \t});\n    \t\n\t\tthis.callParent(arguments);\n    },\n    \n    tromboneCall: function(config) {\n    \tvar config = config ? config : {};\n    \tExt.applyIf(config, {\n    \t\turl: this.getTromboneUrl()\n    \t});\n    \tif (!config.success && !config.failure && !config.callback) {\n        \tExt.applyIf(config, {\n        \t\turl: this.getTromboneUrl(),\n        \t    scope: this,\n        \t    callback: function(response, success, options) {\n        \t    \tthis.dispatchEvent(config.tool+\"Loaded\", response, success, options)\n        \t    }\n        \t});\n    \t};\n    \tExt.Ajax.request(config);\n    },\n    \n    getViewport: function() {\n    \treturn Ext.ComponentQuery.query('viewport')[0];\n    },\n\n    dispatchEvent: function(eventName, src) {\n    \tvar viewport = this.getViewport();\n\t\tvar panels = viewport.query(\"panel,chart\");\n\t\tvar isHeard = false;\n\n\t\t// tell the app\n\t\tif (this.hasListener && this.hasListener(eventName)) {\n\t\t\tthis.fireEvent.apply(this, arguments);\n\t\t\tisHeard = true\n\t\t}\n\t\t\n\t\t// tell the panels, except the current one\n\t\tfor (var i=0; i<panels.length; i++) {\n\t\t\tif (panels[i].hasListener && panels[i].hasListener(eventName)) {\n\t\t\t\tif (src && src.getId && panels[i].getId && src.getId()==panels[i].getId()) {\n\t\t\t\t\tcontinue; // don't send to self\n\t\t\t\t}\n\t\t\t\tisHeard = true;\n\t\t\t\tpanels[i].fireEvent.apply(panels[i], arguments);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!isHeard) {\n\t\t\t// let the application know that we have an unhandledEvent\n\t\t\tvar args = [\"unhandledEvent\", src, eventName];\n\t\t\tfor (var i=2; i<arguments.length; i++) {args.push(arguments[i])}\n\t\t\tthis.fireEvent.apply(this, args);\n\t\t}\n    },\n    \n\tshowResponseError: function(config, response) {\n\t\tthis.showError(Ext.create(\"Voyant.util.ResponseError\", {msg: (Ext.isString(config) ? config : config.msg), response: response}))\n\t},\n\t\n\tshowError: function(config, response) {\n\t\tif (config instanceof Voyant.util.ResponseError) {\n\t\t\tconfig = {\n\t\t\t\tmessage: config.getMsg()+\"<p class='error'>\\n\"+config.getError()+\" \u2026 \"+\n\t\t\t\t\t\"<a href='#' onclick=\\\"window.open('').document.write(unescape('<pre>\"+escape(config.getDetails())+\"</pre>')); return false;\\\">more</a></p>\"\n\t\t\t}\n\t\t} else {\n\t\t\tif (Ext.isString(config)) {\n\t\t\t\tconfig = {message: config}\n\t\t\t} else if (Ext.isObject(config)) {\n\t\t\t\tif (config.responseText) {\n\t\t\t\t\t// rebundle as error (without nice message)\n\t\t\t\t\treturn this.showResponseError(config.statusText, config);\n\t\t\t\t} else if (config.statusText) {\n\t\t\t\t\treturn this.showResponseError(config.statusText, config)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// maybe handle other forms\n\t\t}\n\t\t\n\n\t\tExt.applyIf(config, {\n\t\t\ttitle: this.localize(\"error\"),\n\t\t    buttons: Ext.Msg.OK,\n\t\t    icon: Ext.MessageBox.ERROR,\n\t\t    autoScroll: true\n\t\t})\n\t\tExt.Msg.show(config);\n\t},\n\t\n\tgetToolConfigFromToolXtype: function(xtype) {\n\t\tcls = Ext.ClassManager.getByAlias(\"widget.\"+xtype);\t\t\n\t\treturn {\n\t\t\txtype: xtype,\n\t\t\ttitle: this._localizeClass(cls, \"title\"),\n\t\t\ttooltip: { // this needs to be an object for compatibility (other configs can be changed)\n\t\t\t\ttext: this._localizeClass(cls, \"helpTip\")\n\t\t\t},\n\t\t\tglyph: cls && cls.glyph ? cls.glyph : 'xf12e@FontAwesome'\n\t\t};\n\t},\n\n\t/**\n\t * Opens a URL in a new window (handling the case when popup windows aren't allowed).\n\t * @param {String} url The URL to open.\n\t * @private\n\t */\n\topenUrl: function(url) {\n\t\tvar win = window.open(url);\n\t\tif (!win) { // popup blocked\n\t\t\tExt.Msg.show({\n\t\t\t\ttitle: \"Popup Blocked\",\n\t\t\t\tbuttonText: {ok: \"Close\"},\n\t\t\t\ticon: Ext.MessageBox.INFO,\n\t\t\t\tmessage: \"A popup window was blocked. <a href='\"+url+\"' target='_blank' class='link'>Click here</a> to open the new window.\",\n\t\t\t\tbuttons: Ext.Msg.OK\n\t\t\t});\n\t\t}\n\t}\n\n    \n});","Ext.define('Voyant.VoyantCorpusApp', {\n\t\n    extend: 'Voyant.VoyantApp',\n    \n    name: 'VoyantCorpusApp',\n\n    requires: ['Voyant.panel.CorpusSet','Voyant.data.model.Corpus','Voyant.panel.VoyantHeader', 'Voyant.panel.VoyantFooter', 'Voyant.panel.CorpusCreator', 'Voyant.panel.Cirrus', 'Voyant.panel.Summary', 'Voyant.panel.DreamScape', 'Voyant.panel.CorpusTerms', 'Voyant.panel.Reader', 'Voyant.panel.Documents', 'Voyant.panel.Trends', 'Voyant.panel.Contexts', 'Voyant.panel.DocumentTerms','Voyant.panel.CorpusCollocates','Voyant.panel.CollocatesGraph','Voyant.panel.Phrases','Voyant.panel.ScatterPlot','Voyant.panel.TopicContexts','Voyant.panel.TermsRadio','Voyant.panel.TermsBerry'],\n    \n    statics: {\n    \ti18n: {\n    \t},\n    \tapi: {\n    \t\ttoolFlow: undefined\n    \t}\n    },\n    \n\tconstructor: function() {\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n        this.callParent(arguments);\n\t},\n\t\n    config: {\n    \tcorpus: undefined,\n    \tcorpusAccess: undefined,\n    \tmoreTools: [{\n\t\t\ti18n: 'moreToolsScaleCorpus',\n\t\t\tglyph: 'xf065@FontAwesome',\n\t\t\titems: ['cirrus','corpusterms','bubblelines','correlations','corpuscollocates','dreamscape','loom','mandala','microsearch','streamgraph','phrases','documents','summary','trends','scatterplot','termsradio','topics','veliza','wordtree']\n    \t},{\n\t\t\ti18n: 'moreToolsScaleDocument',\n\t\t\tglyph: 'xf066@FontAwesome',\n\t\t\titems: ['bubbles','cirrus','contexts','documentterms','reader','textualarc','trends','knots','topics']\n    \t},{\n\t\t\ti18n: 'moreToolsTypeViz',\n\t\t\tglyph: 'xf06e@FontAwesome',\n\t\t\titems: ['cirrus','bubblelines','bubbles','collocatesgraph','dreamscape','loom','knots','mandala','microsearch','streamgraph','scatterplot','textualarc','trends','termsberry','termsradio','wordtree']\n\t\t},{\n\t\t\ti18n: 'moreToolsTypeGrid',\n\t\t\tglyph: 'xf0ce@FontAwesome',\n\t\t\titems: ['corpusterms','corpuscollocates','correlations','phrases','contexts','documentterms','documents','topics']\n\t\t},{\n\t\t\t\n\t\t\ti18n: 'moreToolsTypeOther',\n\t\t\tglyph: 'xf035@FontAwesome',\n\t\t\titems: ['reader','summary','veliza']\n    \t}]\n    },\n    \n    launch: function(config) {\n\t\tthis.callParent(arguments);\n\t\t\n    \tif (this.hasQueryToLoad()) {\n        \tvar queryParams = Ext.Object.fromQueryString(document.location.search);\n        \tif (!queryParams.corpus && this.getCorpusId && this.getCorpusId()) {\n        \t\tqueryParams.corpus = this.getCorpusId();\n        \t}\n        \tif (config && config.useCache) { // for large corpora\n        \t\tqueryParams.useCache = config.useCache;\n        \t}\n        \tthis.loadCorpusFromParams(queryParams);\n        \t\n        \tif (queryParams.palette) {\n        \t\tif (queryParams.palette.indexOf(\",\")>-1) { // treat as inline\n        \t    \tvar palette = Ext.decode(queryParams.palette);\n        \t    \tthis.addColorPalette(queryParams.palette, palette);\n        \t\t} else {\n            \t\tthis.loadColorPaletteForCorpus(queryParams.corpus, queryParams.palette);\n        \t\t}\n        \t}\n    \t} else {\n    \t\tvar viewport = this.getViewport();\n    \t\tif (viewport) {\n    \t\t\tvar corpuscreator = viewport.down(\"corpuscreator\")\n    \t\t\tif (corpuscreator) {\n    \t\t\t\tvar toast = corpuscreator.toastInfo({\n    \t\t\t\t\thtml: this.localize('didYouKnowText'),\n    \t\t\t\t\ttitle: this.localize('didYouKnow'),\n    \t\t\t\t\tanchor: corpuscreator.down(\"textareafield\"),\n    \t\t\t\t\talign: 'tr',\n    \t\t\t\t\tlisteners: {\n    \t\t\t\t\t\tbeforeclose: {\n    \t\t\t\t\t\t\tfn: function() {\n    \t\t\t\t\t\t\t\tthis.getHeader().getTools().forEach(function(tool) {\n    \t\t\t\t\t\t\t\t\tif (tool.type==\"gear\" || tool.type=='help') {\n    \t\t\t\t\t\t\t\t\t\ttool.getEl().frame(\"#ff0000\", 1, { duration: 3000 })\n    \t\t\t\t\t\t\t\t\t}\n    \t\t\t\t\t\t\t\t});\n    \t\t\t\t\t\t\t},\n    \t\t\t\t\t\t\tscope: corpuscreator\n    \t\t\t\t\t\t}\n    \t\t\t\t\t}\n    \t\t\t\t});\n    \t\t\t}\n    \t\t}\n    \t}\n    },\n    \n    loadCorpusFromParams: function(params) {\n\t\tvar me = this;\n\t\tvar view = me.getViewport()\n\t\tview.mask(this.localize(\"fetchingCorpus\"));\n\t\tif (params.archive) { // fix a few URLs we know about\n\t\t\tif (Ext.isString(params.archive)) {params.archive=[params.archive]}\n\t\t\tparams.archive = params.archive.map(function(archive) {\n\t\t\t\treturn archive.replace('/blogs.sub.uni-hamburg.de/hup/lhn/', '/wikis.sub.uni-hamburg.de/lhn/index.php/')\n\t\t\t\t\t.replace('/hup.sub.uni-hamburg.de/', '/wikis.sub.uni-hamburg.de/')\n\t\t\t})\n\t\t}\n\t\t\n\t\tthis.validateCorpusLoadParams(params);\n\n\t\tnew Voyant.data.model.Corpus(params).then(function(corpus) {\n\t\t\tview.unmask();\n\t\t\tme.setCorpus(corpus);\n\t\t\tif (me.validateCorpusAccess()) {\n\t\t\t\tme.dispatchEvent('loadedCorpus', this, corpus);\n\t\t\t}\n\t\t}).otherwise(function() {\n\t\t\tview.unmask();\n\t\t})\n    },\n    \n    validateCorpusLoadParams: function(params) {\n    \t// leave untouched by default, this can be overridden\n    },\n    \n    validateCorpusAccess: function() {\n\t\tvar me = this, view = me.getViewport(), corpus = this.getCorpus();\n\t\tif (corpus && corpus.requiresPassword() && !me.getViewport().query(\"panel\").every(function(panel) {\n\t\t\treturn !panel.isConsumptive\n\t\t})) {\n\t\t\tvar noPasswordAccess = corpus.getNoPasswordAccess();\n\t\t\tvar passWin = Ext.create('Ext.window.Window', {\n\t            title: me.localize('passwordRequiredTitle'),\n\t\t\t    layout: 'fit',\n\t\t\t    items: {\n\t\t\t    \tpadding: 10,\n\t                flex: 1,\n\t                width: 300,\n\t                layout: {\n\t                    type: 'vbox',\n\t                    align: 'stretch'\n\t                },\n\t                items: [\n\t                    {\n\t                        html: '<p>'+me.localize('passwordRequiredMessage')+'</p>' + (noPasswordAccess=='NONCONSUMPTIVE' ? '<p>'+me.localize('nonConsumptiveMessage')+\"</p>\" : \"\")+'</p>'\n\t                    },{\n\t                    \txtype: 'textfield',\n\t                    \tfieldLabel: me.localize('password')\n\t                    }\n\t                ],\n\t                bbar: {\n\t//                \tui: 'footer',\n\t                \tlayout: {pack: 'center'},\n\t                \titems: [{\n\t                    \ttext: me.localize('passwordValidateButton'),\n\t                    \tui: 'default',\n\t                    \thandler: function() {\n\t                    \t\tvar password = passWin.query(\"textfield\")[0].getValue().trim();\n\t                    \t\tif (password.length==0) {\n\t                    \t\t\tme.showError({\n\t                    \t\t\t\tmessage: me.localize('noPasswordGiven')\n\t                    \t\t\t})\n\t                    \t\t\treturn;\n\t                    \t\t}\n\t                    \t\tpassWin.mask();\n\t                    \t\tExt.Ajax.request({\n\t                    \t\t\t  url: me.getTromboneUrl(),\n\t                    \t\t\t  params: {\n\t                    \t\t\t\t  corpus: corpus.getId(),\n\t                    \t\t\t\t  passwordForSession: password\n\t                    \t\t\t  },\n\t                    \t\t\t  method: 'POST',\n\t                    \t\t\t  success: function(result, request) {\n\t                    \t\t\t\t  passWin.unmask();\n\t                    \t\t\t\t  var access = result.responseText;\n\t                    \t\t\t\t  if (access==\"ADMIN\" || access==\"ACCESS\") {\n\t\t\t                    \t\t\t    passWin.close();\n\t\t\t                    \t\t\t    view.unmask();\n\t\t\t                    \t\t\t    me.setCorpusAccess(access);\n\t\t\t\t\t            \t\t\t\tme.dispatchEvent('loadedCorpus', this, corpus);\n\t                    \t\t\t\t  }\n\t                    \t\t\t\t  else {\n\t  \t\t                    \t\t\tme.showError({\n\t\t\t                    \t\t\t\tmessage: me.localize('badPassword')\n\t\t\t                    \t\t\t})\n\t                    \t\t\t\t  }\n\t                    \t\t\t  },\n\t                    \t\t\t  failure: function(result, request) {\n\t                    \t\t\t\t  passWin.unmask();\n\t  \t\t                    \t\t\tme.showError({\n\t\t\t                    \t\t\t\tmessage: me.localize('passwordValidationError')\n\t\t\t                    \t\t\t})\n\t                    \t\t\t  } \n\t                    \t\t});\n\t                    \t}\n\t                    },{\n\t                    \ttext: me.localize('nonConsumptiveButton'),\n\t                    \thidden: corpus.getNoPasswordAccess()=='NONE',\n\t                    \thandler: function() {\n\t                    \t\tpassWin.mask();\n\t                    \t\tExt.Ajax.request({\n\t                    \t\t\t  url: me.getTromboneUrl(),\n\t                    \t\t\t  params: {\n\t                    \t\t\t\t  corpus: corpus.getId(),\n\t                    \t\t\t\t  passwordForSessionRemove: true\n\t                    \t\t\t  },\n\t                    \t\t\t  method: 'POST',\n\t                    \t\t\t  callback: function(result, request) { // do this even if request fails\n\t                    \t\t\t\t  passWin.unmask();\n\t                    \t\t\t\t  passWin.close();\n\t                    \t\t\t\t  view.unmask();\n\t                    \t\t\t\t  me.dispatchEvent('loadedCorpus', me, corpus);\n\t                    \t\t\t  }\n\t                    \t\t});\n\t                    \t}\n\t                    }]\n\t                }\n\t            }\n\t\t\t}).show();\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true\n\t\t}\n    },\n    \n    hasQueryToLoad: function(params) {\n    \tif (!params) {\n    \t\tparams = Ext.Object.fromQueryString(document.location.search);\n    \t}\n    \treturn params.corpus || params.input || (this.getCorpusId && this.getCorpusId()); // TODO: should this include \"archive\" from V1?\n    },\n    \n    loadColorPaletteForCorpus: function(corpusId, paletteId) {\n\t\tExt.Ajax.request({\n    \t    url: this.getTromboneUrl(),\n    \t    params: {\n        \t\ttool: 'resource.StoredResource',\n        \t\tretrieveResourceId: paletteId,\n    \t\t\tcorpus: corpusId\n    \t    },\n    \t    success: function(response, req) {\n    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n    \t    \tvar value = json.storedResource.resource;\n    \t    \tvar palette = Ext.decode(value);\n    \t    \tthis.addColorPalette(paletteId, palette);\n    \t    },\n    \t    failure: function(response) {\n    \t    \tthis.setApiParam('palette', undefined);\n    \t    },\n    \t    scope: this\n    \t});\n\t},\n\t\n\tloadCategoryData: function(id) {\n\t\treturn this.getCategoriesManager().load(id, {\n\t\t\ttrombone: Voyant.application.getTromboneUrl()\n\t\t});\n\t},\n\n\tsaveCategoryData: function(data) {\n\t\treturn this.getCategoriesManager().save({}, {\n\t\t\ttrombone: Voyant.application.getTromboneUrl()\n\t\t});\n\t},\n    \n    listeners: {\n    \tloadedCorpus: function(src, corpus) {\n    \t\tthis.setCorpus(corpus);\n    \t\t\n    \t\t// let's load the categories based on the corpus\n        \tif (this.getApiParam(\"categories\")) {\n\t\t\t\tthis.loadCategoryData(this.getApiParam(\"categories\")).then(function() {\n\t\t\t\t\t// assign colors\n\t\t\t\t\tfor (var category in this.getCategoriesManager().getCategories()) {\n\t\t\t\t\t\tvar color = this.getCategoriesManager().getCategoryFeature(category, 'color');\n\t\t\t\t\t\tif (color !== undefined) {\n\t\t\t\t\t\t\tvar rgb = this.hexToRgb(color);\n\t\t\t\t\t\t\tvar terms = this.getCategoriesManager().getCategoryTerms(category);\n\t\t\t\t\t\t\tfor (var i = 0; i < terms.length; i++) {\n\t\t\t\t\t\t\t\tthis.setColorForTerm(terms[i], rgb);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n        \t}    \t\n\n    \t\t\n    \t\tthis.on(\"unhandledEvent\", function(src, eventName, data) {\n\t\t\t\tvar url = this.getBaseUrl() + '?corpus='+corpus.getAliasOrId();\n\t\t\t\tvar api = this.getModifiedApiParams() || {}; // use application, not tool\n\t\t\t\tdelete api.view; // make sure we show default view\n\t\t\t\tif (eventName=='termsClicked') {\n\t\t\t\t\t// data can be a simple array of terms or an array of term objects\n\t\t\t\t\tif (Ext.isArray(data) && \"term\" in data[0] && \"docIndex\" in data[0]) {\n\t\t\t\t\t\tlet termsObj = {};\n\t\t\t\t\t\tlet docIndObj = {};\n\t\t\t\t\t\tdata.forEach(function(datum) {\n\t\t\t\t\t\t\ttermsObj[datum.term]=true;\n\t\t\t\t\t\t\tdocIndObj[datum.docIndex]=true;\n\t\t\t\t\t\t})\n\t\t\t\t\t\tapi.query=Object.keys(termsObj);\n\t\t\t\t\t\tapi.docIndex=Object.keys(docIndObj);\n\t\t\t\t\t} else {\t\t\t\t\t\t\n\t\t\t\t\t\tapi.query=data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (eventName=='documentsClicked') {\n\t\t\t\t\tvar docIndex = [];\n\t\t\t\t\tif (data.forEach) {\n\t\t\t\t\t\tdata.forEach(function(doc) {\n\t\t\t\t\t\t\tdocIndex.push(doc.getIndex())\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tapi.docIndex=docIndex\n\t\t\t\t}\n\t\t\t\telse if (eventName=='corpusTermsClicked') {\n\t\t\t\t\tif (data.map) {\n\t\t\t\t\t\tapi.query = data.map(function(corpusTerm) {return corpusTerm.getTerm()});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (eventName=='documentTermsClicked') {\n\t\t\t\t\tif (data.map) {\n\t\t\t\t\t\tapi.query = data.map(function(documentTerm) {return documentTerm.getTerm()});\n\t\t\t\t\t\tapi.docIndex = data.map(function(documentTerm) {return documentTerm.getDocIndex()});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (console) {console.warn(\"Unhandled event: \"+eventName, data)}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (api.toolFlow) {\n\t\t\t\t\tvar toolFlow = Ext.Array.from(api.toolFlow.split(\",\"));\n\t\t\t\t\tapi.view = toolFlow.shift();\n\t\t\t\t\tif (toolFlow.length>0) {\n\t\t\t\t\t\tapi.toolFlow = toolFlow.join(\",\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete api.toolFlow\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\turl += \"&\"+Ext.Object.toQueryString(api)\n\t\t\t\tthis.openUrl(url)\n\t\t\t})\n    \t}\n    }\n\n});","Ext.define('Voyant.panel.DocumentClusters', {\n\textend: 'Ext.panel.Panel',\n\talias: 'widget.documentclusters',\n\ttitle: \"Document Clusters\"\n})\n\n//\textend: 'Ext.panel.Panel',\n//\talias: 'widget.rezoviz',\n//\ttitle: \"RezoViz\"\n//})\nExt.define('Voyant.VoyantCorpusToolsetApp', {\n\textend : 'Voyant.VoyantCorpusApp',\n\trequires: ['Voyant.panel.Contexts','Voyant.panel.CollocatesGraph','Voyant.panel.Trends'],\n\tname : 'VoyantCorpusToolsetApp',\n\tlaunch: function() {\n\t\tExt.create('Ext.container.Viewport', {\n\t\t    layout: 'border',\n\t\t    items: [{\n\t\t        region: 'south',\n\t\t        xtype: 'voyantfooter'\n\t\t    }, {\n         \t   xtype: 'tabpanel',\n        \t   region: 'center',\n\t\t    \tsplit: true,\n        \t   items: [{\n        \t\t   xtype: 'cirrus',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'corpusterms',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'documents',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'rezoviz',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'trends',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'documentclusters',\n                   collapsible: true\n        \t   }],\n        \t   flex: 6\n           }]\n\t\t});\n        this.callParent(arguments);\n\t}\n});","Ext.define('Voyant.VoyantDefaultApp', {\n\textend : 'Voyant.VoyantCorpusApp',\n\tmixins: ['Voyant.util.Api'],\n\tname : 'VoyantDefaultApp',\n\tconstructor: function() {\n\t\tthis.mixins['Voyant.util.Api'].constructor.apply(this, arguments);\n        this.callParent(arguments);\n\t},\n\tstatics: {\n\t\ti18n: {\n\t\t},\n\t\tapi: {\n\t\t\tview: 'corpusset',\n\t\t\tstopList: 'auto',\n\t\t\tpanels: undefined,\n\t\t\trtl: undefined\n\t\t}\n\t},\n\t\n\tlisteners: {\n    \tloadedCorpus: function(src, corpus) {\n    \t\tthis.viewport.down('voyantheader').collapse();\n    \t\tthis.viewport.down('#toolsContainer').setActiveItem(1);\n    \t\tvar corpusId = this.getCorpusId && this.getCorpusId() ? this.getCorpusId() : undefined;\n    \t\tif (window.history.pushState && !corpusId) {\n    \t\t\t// add the corpusId to the url\n    \t\t\tvar corpusId = corpus.getAliasOrId();\n        \t\tvar queryParams = Ext.Object.fromQueryString(document.location.search);\n        \t\t\n    \t\t\tvar url = this.getBaseUrl()+'?corpus='+corpusId;\n    \t\t\tfor (var key in queryParams) {\n    \t\t\t\tif (key !== 'corpus') {\n    \t\t\t\t\tvar vals = Ext.isString(queryParams[key]) ? [queryParams[key]] : queryParams[key];\n    \t\t\t\t\tif (Ext.isArray(vals)) {\n    \t\t\t\t\t\tvals.forEach(function(val) {\n    \t    \t\t\t\t\turl += '&'+key+'='+val;\n    \t\t\t\t\t\t})\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t}\n    \t\t\twindow.history.pushState({\n    \t\t\t\tcorpus: corpusId\n    \t\t\t}, 'Corpus: '+corpusId, url);\n    \t\t}\n    \t}\n\t},\n\tgetViewComponent: function() {\n\t\treturn this.viewport.down('#toolsContainer-main')\n\t},\n\tlaunch: function() {\n\t\tvar queryParams = Ext.Object.fromQueryString(document.location.search) || {};\n\t\tvar view = this.getApiParam('view', 'CorpusSet');\n\t\tvar xtype = view.toLowerCase();\n\t\tif (!Ext.ClassManager.getByAlias(\"widget.\"+xtype) || queryParams.noskin) {\n\t\t\tExt.Msg.show({\n\t\t\t    title: this.localize('noViewErrorTitle'),\n\t\t\t    message: new Ext.Template(this.localize(queryParams.noskin ? 'noViewKnownErrorTpl' : 'noViewErrorTpl')).apply({\n\t\t\t    \tview: queryParams.noskin ? queryParams.noskin : view,\n\t\t\t    \tadditional: queryParams.noskin && queryParams.noskin == 'convert' ? this.localize(queryParams.noskin+'SkinMsg') : ''\n\t\t\t    }),\n\t\t\t    buttons: Ext.Msg.OK,\n\t\t\t    icon: Ext.Msg.ERROR\n\t\t\t});\n\t\t\txtype = 'corpusset'; // switch to default view\n\t\t}\n\t\tvar SPLIT_SIZE = 5;\n\t\tthis.viewport = Ext.create('Ext.container.Viewport', {\n\t\t    layout: 'border',\n\t\t    rtl: (this.getApiParam('rtl')!==undefined || Voyant.util.Localization.LANGUAGE==\"ar\" || Voyant.util.Localization.LANGUAGE==\"he\"),\n\t\t    items: [{\n\t\t    \txtype: 'voyantheader',\n\t\t    \tregion: 'north'\n\t\t    },{\n\t\t        region: 'south',\n\t\t        xtype: 'voyantfooter'\n\t\t    },{\n\t\t    \tregion: 'center',\n\t\t    \tlayout: 'card',\n\t\t    \titemId: 'toolsContainer',\n\t\t\t\tactiveItem: 0,\n\t\t\t\titems: [{\n\t\t\t\t\txtype : 'container',\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpack: 'center',\n\t\t\t\t\t\talign: 'center'\n\t\t\t\t\t},\n\t\t\t\t\titems: [{\n\t\t\t\t\t\txtype: 'corpuscreator'\n\t\t\t\t\t},{\n\t\t\t\t\t\txtype: 'container',\n\t\t\t\t\t\twidth: 800,\n\t\t\t\t\t\thtml: \"<div id='voyantIs' style='font-style: italic; text-align: center; margin-top: 10px;'><div>\"+this.localize('voyantIs')+\"</div>\" + (this.localize('translatedBy').indexOf(\"English\") == -1 ? \"<div>\"+this.localize('translatedBy')+\"</div>\" : \"\") +\n\t\t\t\t\t\t\t(this.getCorpusCreatorText &&  this.getCorpusCreatorText().trim().length>0 ?  \"<div id='corpusCreatorText'>\"+this.getCorpusCreatorText()+\"</div>\" : \"\")\n\t\t\t\t\t}]\t\n\t\t\t\t},{\n\t\t\t\t\tlayout: 'fit',\n\t\t\t\t\titemId: 'toolsContainer-main',\n\t\t\t\t\titems: {\n\t\t\t\t\t\txtype: xtype\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t    }]\n\t\t});\n\t\tthis.callParent(arguments);\n\t}\n});","Ext.define('Voyant.panel.MoreLikeThis', {\n\textend: 'Ext.panel.Panel',\n\talias: 'widget.morelikethis',\n\ttitle: \"More Like this\"\n})\nExt.define('Voyant.VoyantDocumentToolsetApp', {\n\textend : 'Voyant.VoyantCorpusApp',\n\trequires: ['Voyant.panel.Contexts','Voyant.panel.CollocatesGraph','Voyant.panel.Trends'],\n\tname : 'VoyantDocumentToolsetApp',\n\tlaunch: function() {\n\t\tExt.create('Ext.container.Viewport', {\n\t\t    layout: 'border',\n\t\t    items: [{\n\t\t        region: 'south',\n\t\t        xtype: 'voyantfooter'\n\t\t    }, {\n         \t   xtype: 'tabpanel',\n        \t   region: 'center',\n\t\t    \tsplit: true,\n        \t   items: [{\n        \t\t   xtype: 'cirrus',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'documentterms',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'contexts',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'collocatesgraph',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'trends',\n                   collapsible: true\n        \t   },{\n        \t\t   xtype: 'morelikethis',\n                   collapsible: true\n        \t   }],\n        \t   flex: 6\n           }]\n\t\t});\n        this.callParent(arguments);\n\t}\n});","Ext.define('Voyant.VoyantNotebookApp', {\n\textend : 'Voyant.VoyantApp',\n\trequires: ['Voyant.panel.VoyantFooter','Voyant.notebook.Notebook','Voyant.data.model.Corpus','Voyant.notebook.util.Show'],\n\tname : 'VoyantNotebookApp',\n\tlaunch: function() {\n\t\tExt.create('Ext.container.Viewport', {\n\t\t    layout: 'border',\n\t\t    items: [{\n\t\t    \txtype: 'notebook',\n\t\t    \tregion: 'center'\n\t\t    },{\n\t\t    \txtype: 'voyantfooter',\n\t\t    \tregion: 'south'\n\t\t    }]\n\t\t});\n\t\tthis.callParent(arguments);    \t\n\t}\n});","Ext.define('Voyant.VoyantToolApp', {\n\textend : 'Voyant.VoyantCorpusApp',\n\tname : 'VoyantToolApp',\n\tstatics: {\n\t\tapi: {\n\t\t\tminimal: undefined,\n\t\t\tembeddedApiId: undefined\n\t\t}\n\t},\n\tlaunch: function() {\n\t\tvar items = [], me = this;\n\t\tif (!this.getApiParam('minimal')) {\n\t\t\titems.push({\n\t\t        region: 'south',\n\t\t        xtype: 'voyantfooter'\n\t\t    })\n\t\t};\n\t\titems.push({\n\t        region: 'center',\n\t        layout: 'fit',\n\t        itemId: 'toolcontainer',\n\t        items: {\n\t\t        xtype: this.getApiParam('embeddedApiId') ? 'container' : this.getTool()\n\t        },\n\t        listeners: {\n\t        \tafterrender: function(container) {\n\t        \t\tif (me.getApiParam('embeddedApiId')) {\n\t    \t\t\t\tvar dfd = me.getDeferred(this);\n\t    \t    \t\tcontainer.mask(this.localize('loadingConfiguration'));\n\t        \t    \tExt.Ajax.request({\n\t        \t    \t    url: me.getTromboneUrl(),\n\t        \t    \t    params: {\n\t        \t        \t\ttool: 'resource.StoredResource',\n\t        \t        \t\tretrieveResourceId: this.getApiParam('embeddedApiId')\n\t        \t    \t    }\n\t        \t    \t}).then(function(response) {\n\t    \t\t\t\t\tdfd.resolve();\n\t    \t    \t    \tvar json = Ext.util.JSON.decode(response.responseText);\n\t        \t    \t\tvar configString = decodeURIComponent(json.storedResource.resource);\n\t        \t    \t\tvar config = Ext.decode(configString);\n\t        \t    \t\tvar tool = Ext.create({xtype: me.getTool()});\n\t        \t    \t\ttool.setApiParams(config);\n\t        \t    \t\tcontainer.unmask();\n\t        \t    \t\tcontainer.remove(container.down('container'));\n\t        \t    \t\tcontainer.add(tool);\n\t        \t    \t\tif (config.corpus) {\n\t        \t    \t\t\tme.loadCorpusFromParams(config);\n\t        \t    \t\t}\n\t        \t    \t}).otherwise(function(response) {\n\t        \t    \t\tif (me.getTargetEl) {\n\t            \t\t\t\tVoyant.notebook.util.Show.TARGET = me.getTargetEl();\n\t            \t\t\t\tshowError(response);\n\t        \t    \t\t}\n\t        \t    \t\tVoyant.application.showError(response);\n\t        \t    \t\tdfd.reject();\n\t        \t    \t})\n\t    \t\t\t}\n\t        \t},\n\t        \tscope: this\n\t        }\n\t    });\n\t\tExt.create('Ext.container.Viewport', {\n\t\t    layout: 'border',\n\t\t    items: items\n\t\t});\n\t\tthis.callParent(arguments);\n\t}\n});"],
"names":["Bubblelines","config","container","externalClickHandler","clickHandler","INTERVAL","DISMISS_DELAY","UNIFORM_LINE_LENGTH","SEPARATE_LINES_FOR_TERMS","MAX_LINE_WIDTH","MAX_LABEL_WIDTH","DRAW_TITLES","DRAW_SHORT_TITLES","graphSeparation","MIN_GRAPH_SEPARATION","yIndex","mouseOver","clearToolTipId","intervalId","overBubbles","lastClickedBubbles","ctx","canvas","dragInfo","maxDocLength","maxFreq","term","value","maxRadius","cache","Ext","util","MixedCollection","currentTerms","termsFilter","bubbleSpacing","initialized","prototype","constructor","initializeCanvas","height","getHeight","width","getWidth","id","add","xtype","html","border","listeners","afterrender","fn","cnt","document","getElementById","getContext","addEventListener","bind","mouseDownHandler","mouseUpHandler","moveHandler","mouseEnterHandler","mouseLeaveHandler","single","scope","updateLayout","doBubblelinesLayout","setTitleWidthsAndMaxTitleWidth","children","DomQuery","jsSelect","el","dom","i","length","child","fly","setWidth","padding","setMaxLineWidth","setLineLengths","recache","setCanvasHeight","drawGraph","addDocToCache","doc","cacheBubbles","calculateBubbleRadii","lineLength","freqCounts","containsKey","replace","sort","addTermsToDoc","termsObj","docId","key","get","apply","terms","maxFreqChanged","termInfo","bins","distributions","spacing","cachedPositions","tokenPos","maxDistribution","xIndex","d","push","x","freq","radius","bin","tokenPositions","positions","slice","pos","setMaxFreq","newTerm","maxFreqLog","Math","log","minFreq","t","bubble","freqLog","max","each","doCache","getTotalHeight","totalHeight","index","calculateGraphHeights","undefined","setHeight","findLongestDocument","twt","getTotalWordTokens","getTitleWidth","title","indexOf","textBaseline","font","measureText","doTitle","titleWidth","doLength","includeLegend","clearInterval","setInterval","doDraw","setTimeout","clearCanvas","drawDocument","drawLegend","drawToolTip","doDrag","totalDocs","hidden","titleIndent","oldIndex","fillStyle","fillText","drawLine","that","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","pi2","PI","freqTotal","checkClickedBubbles","termsDrawn","info","freqForType","c","color","join","rawFreq","checkCurrentType","b","doClickedBubble","arc","closePath","fill","typeStore","record","type","y","label","docIndex","count","fillRect","strokeRect","clearToolTip","clearTimeout","event","layerX","layerY","docHeight","getCount","newIndex","body","style","cursor","showPointer","round","prevDocHeight","xOffset","yOffset","ordering","reorder","hits","termData","flatten","maxObj","findMaxFreq","getNewColor","colors","match","findExact","removeAllTerms","removeTerm","getNewMax","lcTypes","lcType","Knots","MAX_LINE_LENGTH","LINE_SIZE","progressiveDraw","progDrawDone","drawStep","refreshInterval","forceRedraw","lastDrawTime","Date","getTime","startAngle","angleIncrement","currentDoc","offset","audio","audioCtx","sqrt","doLayout","buildGraph","done","createDelegate","time","save","translate","originOpacity","originColor","abs","restore","muteTerms","setAudio","gainNode","gain","prevXY","xy","drawPolygon","polygon","polyX","polyY","over","termStore","setCurrentDoc","cacheCurrentDocument","addTerms","oscillator","stop","determineGraphSizeAndPosition","window","AudioContext","webkitAudioContext","e","createOscillator","createGain","connect","destination","frequency","random","start","cacheTurns","tokenIds","lastTokenId","angle","prevX","prevY","prevLength","o","segment","newPoint","findEndPoint","getPolygonFromLine","tokenId","point","radians","degreesToRadians","cos","sin","bb","findBoundingBoxForGraph","maxX","minX","maxY","minY","ratio","min","getBoundingBox","hit","test","isPointInPolygon","lastX","lastY","yDiff","point1","point2","size","perpDown","perpUp","p1","p2","p3","p4","j","oddNodes","doubletree","new_pruneTree","tree","ids","copyIDs","origIDs","addTo","Object","keys","origCount","idNums","n","cid","containedIn","filter","continuations","cMax","d3","map","maxChildren","o1","o2","k","noOp","DoubleTree","doubletree.DoubleTree","mine","selection","containers","node","visWidth","visHt","prefixesOnRight","filters","handlers","showTokenExtra","scaleLabels","sortFun","sortByStrFld","nodeText","tokenText","tokenExtraText","fieldText","rectColor","rectBorderColor","continuationColor","basicStyles","succeeded","dispatch","on","leftTree","rtTree","setIds","continuationIDs","updateContinuations","leftTrie","rtTrie","visibleIDs","textScale","init","mine.init","containerPattern","select","selectAll","call","redraw","mine.redraw","setupFromTries","mine.setupFromTries","leftOne","rtOne","getUniqRoot","leftTrieTree","toTree","left","rtTrieTree","right","pruned","newInfo","isNaN","scaleLog","range","kMinFontSize","kFontSize","domain","textScale.domain","minCount","top","bottom","forEach","tmp","thisVis","append","attr","zoom","scaleExtent","transform","remove","Tree","handleAltPress","alt","handleShiftPress","shift","handleClick","click","setupFromArrays","mine.setupFromArrays","prefixArray","hitArray","suffixArray","idArray","caseSensitive","fieldNames","fieldDelim","distinguishingFieldsArray","Trie","thisID","thisHit","thesePrefixes","theseSuffixes","reverse","unshift","addNgram","filteredIDs","mine.filteredIDs","search","mine.search","searchRE","found","empty","what","foundRt","clearSearch","mine.clearSearch","updateTokenExtras","mine.updateTokenExtras","showTokenExtras","tokExtra","ht","mine.visWidth","arguments","visHeight","mine.visHeight","mine.prefixesOnRight","mine.filters","mine.handlers","mine.showTokenExtra","mine.scaleLabels","mine.succeeded","mine.sortFun","mine.nodeText","mine.tokenExtraText","mine.rectColor","mine.rectBorderColor","mine.continuationColor","mine.basicStyles","stylesObj","aspect","doubletree.Tree","vis","data","toLeft","showTokenXtra","nodeTextFun","tokenExtraTextFun","rectColorFun","rectBorderFun","contColorFun","baseStyles","collapse","_children","collapseSiblings","nd","parent","altKey","shiftKey","clickedNode","toggleChildren","update","positionX","root","nodeSize","diagonal","linkHorizontal","readJSONTree","this.readJSONTree","json","hierarchy","x0","y0","this.update","source","nodes","treeData","descendants","textSize","measured","draw","TextMeasurer","name","baseBranchSegmentWidth","depth","nodeEnter","enter","text","infoToText","txtNode","drawRects","nodeUpdate","merge","transition","duration","nodeExit","exit","link","links","target","insert","branch","linkEnter","linkUpdate","this.drawRects","which","parentElement","getBBox","parentW","this.setIds","this.updateContinuations","classed","isContinuation","this.search","this.clearSearch","this.showTokenExtras","show","setRectColor","this.setRectColor","this.handleAltPress","handleShifttPress","this.handleShifttPress","this.handleClick","doubletree.sortByStrFld","fld","a","aUndefined","bUndefined","aVal","toLowerCase","bVal","sortByCount","doubletree.sortByCount","sortByContinuations","doubletree.sortByContinuations","filterByMinCount","doubletree.filterByMinCount","inf","filterByMaxCount","doubletree.filterByMaxCount","filterByPOS","doubletree.filterByPOS","re","RegExp","p","doubletree.fieldText","fieldName","doubletree.tokenText","token","doubletree.infoToText","infp","doubletree.Trie","fldNames","fldDelim","distinguishingFldsArray","undistinguishedRoot","TrieNode","item","rootName","flds","split","this.addNgram","itemArray","thisItem","theseFlds","thisKey","undistinguishedRt","f","noCase","toLocaleLowerCase","endNG","subTrie","thisFld","this.getUniqRoot","this.toTree","filterFuns","toTreeHelper","descendentLevel","trieData","k2","itemNode","thisFilter","maxLen","JSON","parse","stringify","trie","serialize","this.serialize","deserialize","this.deserialize","serialized","obj","this.endNG","this.rootName","this.trie","this.caseSensitive","this.fieldNames","this.fieldDelim","this.distinguishingFieldsArray","TermsRadio","isSliderVisible","showSlider","chart","absMinFreq","absMaxFreq","allData","continueTransition","counterSeries","displayData","isTransitioning","dragged","lastSticky","lastSlippery","maxFont","numDataPoints","numVisPoints","overlayQueue","recordsLength","records","reselectTop","sliderDragSum","shiftCount","titlesArray","transitionCall","valFraction","win","bPadding","lPadding","rPadding","tPadding","sliderHeightRatio","sliderHeight","sliderBPadding","largestH","largestW","xAxisEl","xAxis","axisBottom","xScale","scaleLinear","xSliderScale","yAxisEl","yAxis","axisLeft","yScale","ySliderScale","fontScale","opacityScale","doResize","loadRecords","initData","prepareData","len","initializeChart","highlightQuery","query","sticky","getApiParam","getCorpus","getDocument","getId","paramsBundle","buildParamsBundle","wordString","manageOverlaySticky","manageOverlaySlippery","highlightRecord","parseInt","parentBins","loadStore","transferArray","rec","dists","counter","posInSeries","numInSeries","frequencySeries","copy1","copy2","copy4","check1","check2","frequencyArray","l","inSeries","allDataInternal","outerCounter","displaySetup","dotObject","displayInternal","manageMvtButtons","queryById","setPlaying","nextR","toggleRightCheck","manageXScale","setApiParams","position","animateVis","nextL","startScroll","me","initChart","drawXAxis","drawYAxis","drawChart","drawSlider","drawVerticalSlider","redrawSliderOverlay","updateFullPath","redrawXAxis","redrawYAxis","redrawChart","redrawSlider","redrawVerticalSlider","redrawChartOverlay","h","w","chartSVG","DomHelper","down","setSliderHeight","getSliderHeight","setTitleLength","manageAllXScales","ticks","tickFormat","val","styleXAxis","manageAllYScales","yTicksScale","numberFormat","format","logFormat","floor","tickSize","counterSeriesDiv","frequencySeriesDiv","removeFilteredCharacters","startPoint","valueRange","callOffset","lengthHor","offsetVisStart","offsetVisEnd","greyBoxBefore","greyBoxAfter","drag","displaceX","dx","checkBefore","checkAfter","getAttribute","moveByThis","inverseSliderScale","moveShiftCount","oldShiftCount","ceil","removeSlider","removeTermLines","getDuration","ease","easeLinear","isMasked","unmask","callTransition","toggleLeftCheck","params","totalTokens","tokenIdStart","category","docIdType","string","selector","checkOn","pathHolder","prepareFullPath","lineObject","word","fullPath","path","pathMin","pathMax","colour","chartOverlayOff","sliderOverlayOff","chartOverlayOn","sliderOverlayOn","isTermSelected","doTermDeselect","doTermSelect","getTermIndex","legendAdd","apiArray","selectedWords","getApplication","getColorForTerm","legend","getStore","mark","findRecord","set","refresh","legendRemove","removeAt","updateApi","splice","linePosArray","foundB","lenA","lenB","yVal1","yVal2","buildSliderPath","pathArray","line","curve","curveNatural","objectToSelect","transitionSliderOverlay","updateYSliderScale","preparePath","foundA","yVal3","yVal4","foundC","posDif","manageFontScale","manageOpacityScale","manageYScale","manageYSliderScale","rangeRound","updateWithObject","selectedMin","selectedMax","manageXSliderScale","hideSlider","scale","corpus","getDocumentsCount","shortTitle","getShortTitle","shorterTitle","substring","getSpeed","define","transferable","assign","then","Voyant","application","getDeferredNestedPromise","isString","showError","apis","isApplication","app","mixins","clz","ClassManager","api","addParentApi","getClass","getApiParams","initial","queryParams","fromQueryString","location","getXType","setApiParam","isObject","superclass","self","defaultValue","keepEmpty","isEmpty","getModifiedApiParams","statics","DEFAULT_LANGUAGE","LANGUAGE","i18n","languageStore","create","fields","getLanguage","code","localize","_localizeObject","object","_localizeClass","mixin","clazz","use","isTemplate","getLanguageToolMenu","tooltip","glyph","handler","showLanguageOptions","langs","lang","localeCompare","Window","modal","items","queryMode","editable","fieldLabel","labelAlign","labelWidth","displayField","valueField","store","buttons","ui","flex","btn","up","close","form","isDirty","getAliasOrId","panels","values","getValues","toQueryString","bodyPadding","palettes","colorTermAssociations","setPalettes","resetColorTermAssociations","cat10","scaleOrdinal","schemeCategory10","hexToRgb","cat20a","schemeCategory20","cat20b","schemeCategory20b","cat20c","schemeCategory20c","addColorPalette","extjs","getColors","setColorTermAssociations","rgbToHex","toString","hex","shorthandRegex","m","r","g","result","exec","getPalettes","getColorPalette","returnHex","paletteKey","palette","getColor","getColorTermAssociations","setColorForTerm","Array","isArray","deferredStack","releaseAllDeferred","getDeferredCount","getDeferred","deferred","Deferred","transfer","promise","Assignable","always","pop","getPromiseFromDeferred","dfd","args","callee","caller","promised","resolve","extend","msg","error","details","setMsg","setError","setDetails","callParent","showMsg","applyIf","message","getMsg","getError","escape","getDetails","Msg","OK","icon","MessageBox","ERROR","autoScroll","response","setResponse","statusText","responseText","getSparkLine","stretch","Number","MAX_VALUE","MIN_VALUE","hasDecimal","dif","newvalues","multiplier","charAt","divider","valuesPerImage","baseUrl","images","wid","vals","requires","suppressTools","header","moreTools","getMenuItemFromXtype","getInitialConfig","getMoreTools","tools","categories","menu","toolsMap","exportToolClick","plus","gear","showOptionsClick","getOptions","panel","isXType","getActiveTab","getForm","getFields","collect","setValues","fireEvent","doGlobalUpdate","getViewport","globalUpdate","stopListGlobal","dispatchEvent","help","helpToolClick","includeTools","tool","callback","getHeader","os","deviceType","getEl","getTools","hide","getToolConfigFromToolXtype","clone","textAlign","replacePanel","maximizeToolClick","parts","getName","url","getBaseUrl","openUrl","hostname","exportViewItems","inputValue","boxLabel","getExtraExportItems","getExportUrl","checked","boxLabelEl","collapsible","collapsed","exportitems","getExportGridAll","getExportVisualization","getTargetEl","querySelector","formats","minValue","maxValue","increment","decimalPrecision","itemId","Template","change","slider","newVal","setFieldLabel","changecomplete","previousSibling","setValue","String","capitalize","isFunction","exportSvg","img","svg","parentNode","innerHTML","btoa","unescape","encodeURIComponent","INFO","prompt","multiline","exportPngData","exportPng","mask","getValue","canvasSurface","isChart","isCanvas","innerElement","getSize","surfaces","zIndexes","surfaceZIndexes","surface","zIndex","targetCanvas","createElement","className","getClassName","devicePixelRatio","rect","getRect","surfaceSize","canvases","getOffsetsTo","getParent","drawImage","isVisible","toDataURL","targetEl","image","Image","src","onload","image.onload","offsetWidth","offsetHeight","cloneNode","setAttribute","svgChildren","removeChild","appendChild","outerHTML","createDom","tag","context","exportUrl","exportEmbed","asTool","exportBiblio","date","exportSpyral","toolForUrl","isDebug","view","debug","input","str","encode","exportGridCurrentJson","grid","jsonCollector","row","visibleColumns","column","dataIndex","getColumnManager","headerCt","getVisibleGridColumns","buffered","exportGridCurrentTsv","tsvCollector","cells","exportGridCurrentHtml","htmlCollector","exportGridAllJson","confirm","limit","getProxy","getExtraParams","getTromboneUrl","exportGridAllTsv","template","alert","getViewComponent","removeAll","history","pushState","newTool","setActiveTab","alias","renderTpl","privates","onClick","returnValue","toolMenu","Menu","showAt","getX","getY","onDestroy","destroyMembers","initComponent","glyphParts","glyphFontFamily","glyphConfig","renderData","baseCls","blank","BLANK_IMAGE_URL","member","variants","variant","v","getVariants","documentFormat","documentFilename","downloadFromCorpusId","corpusId","openDownloadCorpus","MAX_LENGTH","storeResource","dataString","numChunks","chunkIds","_doStore","chunkCount","currIndex","chunkString","substr","reject","Ajax","request","resourceId","getStoredResource","verifyResourceId","decode","storedResource","_doGetStored","fullData","dataChunks","chunkId","isChunk","retrieveResourceId","failQuietly","resource","diacriticsMap","defaultDiacriticsRemovalMap","letters","base","removeDiacritics","getString","isNumber","contents","arg","allContents","content","toHtml","notebook","Show","SINGLE_LINE_MODE","MODE","TARGET","insertHtml","more","mode","ResponseError","console","getResponse","stack","htmlEncode","embed","embeddedParameters","embeddedConfig","cmp","embedded","embeddable","getByAlias","isEmbedded","embeddedParams","embeddedConfigParamEncodded","embeddedConfigParam","iframeId","getBaseUrlFull","lastIndexOf","minimal","embeddedApiId","otherwise","Embed","showWidgetNotRecognized","widgetNotRecognized","tryWidget","widget","idProperty","getDocIndex","getLeft","getMiddle","getHighlightedMiddle","getRight","getPosition","getHighlightedContext","getLabel","getFacet","getInDocumentsCount","getTerm","getKeyword","getRawFreq","getKeywordRawFreq","getContextTerm","getContextTermRawFreq","calculate","getDistributions","convert","getLexicalTokensCount","getLexicalTypeTokenRatio","loadDocumentTerms","documentTerms","getDocumentTerms","load","operation","success","loadTokens","tokens","getTokens","proxy","extraParams","getIndex","getFullLabel","author","getAuthor","getTitle","trim","getTruncated","slash","space","getTinyTitle","getShortLabel","getTinyLabel","getPubDate","getPublisher","getPubPlace","getMultiple","getCollection","field","getCorpusId","isPlainText","getAverageWordsPerSentence","getText","getPlainText","outputFormat","noOthers","getLemmasArray","getEntities","loadEntities","getCSS","getPositions","getDocIds","getRelativeFreq","getSource","getTarget","getPrincipalComponents","pcs","principalComponents","pc","getDimensions","dimensions","dim","percentage","tok","getInfoFromElement","isWord","getTokenType","isStopword","getDocId","getTermWithLineSpacing","getDocumentRawFreq","parentPanel","extras","remoteSort","autoLoad","pagePurgeCount","pageSize","leadingBufferZone","timeout","actionMethods","read","reader","rootProperty","totalProperty","metaProperty","simpleSortMode","exception","forTool","setParentPanel","setCorpus","beforeload","getParentPanel","isBufferedStore","from","previouslySetExtraParams","setExtraParam","getAt","storeJson","storeClass","storeData","model","withDistributions","CorpusFacet","CorpusTerm","sorters","property","direction","successful","opts","getById","noCache","alternateClassName","edges","setEdges","setNodes","addEdge","getEdges","getNode","binarySearch","getNodes","lhs","rhs","edge","jsonData","queries","isIncrementalLoadingOccurrences","previousParams","setPreviousParams","localParams","getQueries","noOverwrite","setData","dreamscape","progress","ProgressMonitor","maxMillisSinceStart","failure","responseOrProgress","showResponseError","getCitiesCount","getData","locations","getTotalCitiesCount","total","hasMoreCities","eachCity","orderedLocations","c1","c2","getConnectionsCount","connections","getTotalConnectionsCount","eachConnection","orderedConnections","getConnectionOccurrence","connectionOccurrencesData","connectionOccurrences","getIsIncrementalLoadingOccurrences","setIsIncrementalLoadingOccurrences","getPreviousParams","suppressLocations","suppressConnections","concat","occurrence","getAllConnectionOccurrences","sourceId","targetId","occurences","occurence","documentsStore","dateFormat","defer","inlineData","metadata","subTitle","docsLimit","getDocuments","setDocumentsStore","loadCorpusTerms","corpusTerms","getCorpusTerms","getRange","getCorpusCollocates","getDocumentQueryMatches","getDocumentEntities","loadContexts","contexts","getContexts","getDocumentsStore","Document","isNumeric","getWordTokensCount","getWordTypesCount","getCreatedTime","requiresPassword","noPasswordAccess","getNoPasswordAccess","getSubTitle","getRelatedWords","loadRelatedWords","relatedTerms","transformCase","toUpperCase","getWords","getWordsArray","withPosLemmas","lemmas","XTemplate","Format","number","words","types","createdDate","now","YEAR","MONTH","DAY","HOUR","MINUTE","SECOND","diff","openMenu","getStoreItemsFromDefinition","getOpenMenu","decodeURIComponent","definition","nameValue","layout","triggerAction","editList","list","keywords","OKCANCEL","buttonText","ok","cancel","original","combo","req","stoplists","ar","bg","br","ca","ckb","cn","cz","de","en","es","eu","fa","fr","ga","gl","grc","hi","hu","hy","it","ja","la","lv","lt","mu","nl","no","pt","ro","ru","se","th","tr","StopListOption","stopList","stoplist","tokenType","isDocsMode","inDocumentsCountOnly","showAggregateInDocumentsCount","clearOnQuery","currentOriginalRawQueryPlan","hasCorpusLoadedListener","isClearing","minWidth","maxWidth","matchFieldWidth","minChars","filterPickList","createNewOnEnter","createNewOnBlur","autoSelect","tpl","itemTpl","triggers","weight","cls","getIsDocsMode","setClearOnQuery","queryPlan","originalRawQueryPlan","setCurrentOriginalRawQueryPlan","originalRawQueryPlanWithoutAt","cat","getCategoriesManager","getCategories","tags","getClearOnQuery","removeValue","getValueRecords","setHtml","q","getStopList","findParentBy","doSetCorpus","tip","QuickTipManager","register","unregister","setStopList","getInDocumentsCountOnly","setStore","updateStatus","getTotalCount","docs","singleSelect","setSingleSelect","getSingleSelect","fbar","getMenu","setChecked","button","hasVisibleMenu","hideMenu","populate","setDocs","isSingleSelect","groupId","group","checkHandler","nextSibling","initField","eachKey","dd","DropZone","ddGroup","getTargetFromEvent","onNodeDrop","contains","Helper","defaults","rendered","enabled","hasCls","fonts","paletteTpl","paletteStore","ArrayStore","op","mod","editPaletteWin","spectrum","editPalette","loadPalette","align","margin","toRgb","dv","sel","getSelectionModel","getSelection","scrollable","itemSelector","overItemCls","selectedItemCls","selectionModel","selectionchange","viewmodel","selected","savePalette","initSpectrum","setColorForSelected","rgb","rgbA","editor","$","flat","showInput","showButtons","preferredFormat","move","paletteId","paletteData","loadData","valueString","tableJson","getConfigFromTableJson","setAxes","axes","setSeries","series","setLegend","jsonString","headers","rowKey","rows","cell","noLegend","docked","axis","rotation","degrees","cfg","xField","yField","marker","highlightCfg","scaling","trackMouse","renderer","getYField","searchValue","matches","currentIndex","searchRegExp","regExpMode","matchCls","tagsRe","tagsProtect","onTextFieldChange","columns","visibleColumnManager","getColumns","idx","getCellInnerSelector","seen","cellHTML","gotoCurrent","deselectAll","focus","getNavigationModel","setPosition","msgbox","delay","initConfig","getProgress","getScope","completion","status","progressBar","wait","getMaxMillisSinceStart","opt","setProgress","finish","getDelay","setDelay","getSuccess","getFailure","getArgs","destroy","tableHtml","hiddenColumns","buildFromParams","table","ux","TransformGrid","render","getHiddenColumns","hides","setHiddenColumns","configFields","configColumns","cols","col","mapping","sortable","doDestroy","tabl","builderWin","getBuilderWin","getCategoriesId","setBuilderWin","categoriesId","setCategoriesId","relativeFreq","addCategory","removeCategory","removeTerms","categoryName","exists","confirmRemove","features","increaseCategory","decreaseCategory","orientation","FontFamilyOption","addCategoryWin","closeAction","categoriesManager","warn","onEsc","emptyFn","tabBarHeaderPosition","region","viewConfig","plugins","ptype","copy","enableDrop","dragZone","getDragText","dragData","selModel","dockedItems","dock","overflowHandler","getAddCategoryWin","sels","hideable","processFeatures","setColorTermsFromCategoryFeatures","saveCategoryData","loadCategoryData","buildCategories","buildFeatures","builder","setAddCategoryWin","allowBlank","validator","getCategoryTerms","enableKeyEvents","keypress","evt","getKey","Event","ENTER","isValid","reset","clearInvalid","termsData","frame","bbar","findParentByType","prev","prevChild","moveBefore","setCategoryRanking","next","nextChild","moveAfter","beforedrop","drop","titleEditor","Editor","updateEl","alignment","autoSize","complete","ed","newvalue","oldvalue","renameCategory","textEl","startEdit","categoriesParent","queryBy","featuresStore","addFeature","getFeatures","featuresConfigs","feature","featureConfig","widgetConfig","rowIndex","getCategoryFeature","reconfigure","featureValue","setCategoryFeature","cats","visLayout","nodeData","edgeData","nodeSelection","edgeSelection","currentNode","currentEdge","zoomExtent","fixOnDrag","nodeScaling","minSize","maxSize","scalingFunction","edgeScaling","graphStyle","normal","fillOpacity","strokeOpacity","strokeWidth","highlight","graphPhysics","damping","centralGravity","nodeGravity","springLength","springStrength","collisionScale","setNodeData","setEdgeData","loadJson","initGraph","refreshGraph","elHeight","elWidth","getVisLayout","force","forceX","forceY","alpha","processJson","wordFreq","loc","existingTerms","getNodeData","newNodes","newEdges","idGet","newedge","getEdgeData","updateDataForNode","nodeId","dataObj","updateDataForEdge","edgeId","addNode","removeNode","removeOrphans","potentialOrphans","orphanId","removeEdge","getLayout","getRenderTarget","physics","getGraphPhysics","setVisLayout","forceSimulation","velocityDecay","strength","forceLink","distance","forceManyBody","forceCollide","bbox","getEdgeSelection","getNodeSelection","zoomToFit","getZoomExtent","setZoom","setEdgeSelection","setNodeSelection","setVis","resetGraph","nodeExtent","extent","sum","edgeExtent","getEdgeScaling","getNodeScaling","edgeEnter","edgeMouseOver","edgeMouseOut","stopImmediatePropagation","preventDefault","setCurrentEdge","nodeMouseOver","nodeMouseOut","setCurrentNode","active","alphaTarget","restart","getFixOnDrag","fx","fy","applyEdgeStyle","applyNodeStyle","paddingPercent","transitionDuration","bounds","getVis","midX","midY","svgRect","getBoundingClientRect","fullWidth","fullHeight","getZoom","zoomIdentity","nodeState","state","getGraphStyle","edgeState","documentTermsStore","locationMarker","isDetailedGraph","locationMarkerColor","DETAILED_GRAPH_DOC_LIMIT","LOCATION_UPDATE_FREQ","SCROLL_UP","SCROLL_EQ","SCROLL_DOWN","setDocumentTermsStore","withPositions","graphDatas","graphData","dist","getIsDetailedGraph","graphs","graph","getAxes","setMaximum","getLocationMarker","setLocationMarker","updateCorpus","getDocumentTermsStore","setIsDetailedGraph","generateChart","loadQueryTerms","queryTerms","addChart","docInfo","fraction","relativeHeight","bColor","sColor","insetPadding","background","stops","showDelay","dismissDelay","hideDelay","toolTip","itemclick","box","getBox","chartContainer","containerParent","toArray","tokensTotal","docInfos","docMinSize","docMaxSize","ostart","minGapWidth","minBarWidth","sprite","rendererData","docWidth","moveLocationMarker","scrollDir","locMarkEl","locX","currX","setX","corpusValidated","inputFormat","subtitle","setTitle","selectedRecordsToRemember","mergedRecords","currentPage","addAll","totalCount","loadedCorpus","priority","toastError","toast","toastInfo","slideInDuration","shadow","anchor","hasCorpusAccess","corpusAccess","getCorpusAccess","tabchange","newTab","addTool","tab","rowLines","columnLines","facet","eOpts","emptyText","hideHeaders","selType","metaData","setStoreCorpus","speed","options","bubbles","frameRate","beforedestroy","Processing","bindJavascript","noLoop","loadDocument","handleCurrentTerm","handleDocFinished","documentTerm","whitelist","setLines","loop","getAudio","Loader","loadScript","maxDocs","bubblelines","docTermStore","selectedDocs","termTpl","setDocTermStore","processTerms","termObj","getBubblelines","initLoad","Function","getDocTermsFromQuery","docIds","setTermStore","termsView","getTermStore","reloadTermsData","boxLabelAlign","checkbox","focusCls","beforeitemclick","stopPropagation","beforecontainerclick","selections","getNodeByRecord","removeCls","addCls","lcTerms","itemcontextmenu","isSelected","floating","deselect","getXY","autoEl","overflowY","overflowX","component","canvasParent","setBubblelines","bubbleClickHandler","afterlayout","resize","inLimit","autoload","getDocTermStore","filterDocuments","setSelectedDocs","getSelectedDocs","filterBy","termRecord","find","splash","facets","matchingDocIds","customResultsHtml","facetCmp","updateResults","addFacet","disabled","catalogue","keepDocuments","getMatchingDocIds","getCustomResultsHtml","setCustomResultsHtml","facetsCmp","CorpusTerms","selectFacet","labels","getFacets","results","setDisabled","documentQueryMatches","includeDocIds","labelItems","suffix","isMatch","part","lnks","lnk","setMatchingDocIds","firstDocIds","loadSnippets","first","elToMask","method","stripTags","perDocLimit","accurateTotalNotNeeded","snippets","snippet","docItem","facetsSelectionStore","existingFacets","forceSelection","whiteList","visible","fontFamily","cirrusForceFlash","fade","smoothness","diagonals","cirrusId","sizeAdjustment","minFontSize","largestWordSize","smallestWordSize","MODE_CORPUS","MODE_DOCUMENT","setCirrusId","loadFromTermsRecords","boxready","initVisLayout","setTerms","buildFromTerms","setAdjustedSizes","getTerms","loadFromCorpus","corpusSelected","documentSelected","loadFromDocumentTerms","ensureCorpusView","getMode","loadFromCorpusTerms","setMode","setRecords","getRecords","forceLayout","getCirrusId","appVars","swfscript","loadFlash","swfobject","cirrusFlash","flashVars","flashParams","allowScriptAccess","bgcolor","wmode","cirrusFlashApp","layoutCloud","overflow","rotate","getFeatureForTerm","spiral","fontSize","getTip","setTip","clearAll","addWords","arrangeWords","setSmallestWordSize","setLargestWordSize","setRelativeSizes","nodesEnter","coords","mouse","nodesUpdate","istart","istop","ostop","calculateSizeAdjustment","stageArea","setMinFontSize","totalWordsSize","wordArea","calculateWordArea","setSizeAdjustment","baseSize","relativeSize","LOG10E","letter","adjustedSize","findNewRelativeSize","getMinFontSize","getSmallestWordSize","getLargestWordSize","areaMultiplier","getSizeAdjustment","area","pow","centralize","linkData","visId","dragging","contextMenu","networkMode","keywordNode","contextNode","defaultMode","centralizedMode","DEFAULT_MODE","CENTRALIZED_MODE","setLinkData","setVisId","newValue","getNetworkMode","loadFromQuery","setContextMenu","renderTo","getBody","checkchange","getCurrentNode","fixed","setNetworkMode","fetchCollocatesForNode","doCentralize","getContextMenu","getVisId","loadFromCorpusTermRecords","operations","loadFromCorpusCollocateRecords","corpusTerm","keywordId","cX","cY","existingKeys","newLinks","corpusCollocate","contextTerm","termFreq","contextFreq","termValue","contextValue","termEntry","contextId","contextTermEntry","existingLink","getLinkData","linkValue","centralizeLimit","applyNetworkMode","getLinks","getDragging","setLinks","linkMouseOver","linkMouseOut","pageX","pageY","setDragging","isOffCanvas","applyLinkStyle","linkState","include","corpusCollocates","isConsumptive","expand","sm","rowBodyTpl","clearAndLoad","getView","recordsExpanded","getByInternalId","getRow","expandRow","childNodes","colIndex","documentsSelected","documentSegmentTermClicked","documentSegmentTerm","documentIndexTermsClicked","documentIndexTerms","queriesHash","docIndexHash","rowNode","textContent","middle","loadFromApis","documents","docid","termsClicked","collocatesStore","correlationsStore","phrasesStore","minHeight","loadStuff","tagName","getHtml","getDockedItems","getRecord","setCollocatesStore","setCorrelationsStore","setPhrasesStore","getComponent","docIndexes","arrays","reduce","addSection","getCollocatesStore","getCorrelationsStore","getPhrasesStore","minLength","phrase","minInDocumentsCountRatio","setText","language","xmlDocumentsXpath","xmlGroupByXpath","xmlContentXpath","xmlTitleXpath","xmlAuthorXpath","xmlPubDateXpath","xmlPublisherXpath","xmlPubPlaceXpath","xmlKeywordsXpath","xmlCollectionXpath","xmlExtraMetadataXpath","htmlGroupByQuery","htmlDocumentsQuery","htmlContentQuery","htmlTitleQuery","htmlAuthorQuery","htmlPubDateQuery","htmlPublisherQuery","htmlPubPlaceQuery","htmlKeywordsQuery","htmlCollectionQuery","htmlExtraMetadataQuery","jsonDocumentsPointer","jsonContentPointer","jsonTitlePointer","jsonAuthorPointer","jsonPubDatePointer","jsonPublisherPointer","jsonPubPlacePointer","jsonKeywordsPointer","jsonCollectionPointer","jsonExtraMetadataPointer","tokenization","adminPassword","accessPassword","tableDocuments","tableContent","tableTitle","tableAuthor","inputRemoveFrom","inputRemoveFromAfter","inputRemoveUntil","inputRemoveUntilAfter","borderColor","borderStyle","frameHeader","buttonAlign","submitEmptyText","loadCorpus","buttonOnly","hideLabel","filefield","fileInputEl","files","badFilesRe","goodFilesRe","badFiles","unknownFiles","filename","YESNO","loadForm","isFloating","buttonId","addTextLabel","getAllowInput","getNoAllowInputText","addDocuments","apiParams","submit","action","stepEnabledCorpusCreator","corpusParams","storedId","loadCorpusFromParams","optionsWin","defaultType","maxHeight","fieldDefaults","applyTemplate","grow","validatePositiveNumbersCsv","numbers","keyword","pubDate","citiesMaxCount","minPopulation","citiesMinFreq","connectionsMaxCount","connectionsMinFreq","millisPerAnimation","annotationsId","overridesId","filterHasLowerCaseForm","filterIsPersonName","preferredCoordinates","overlay","contentEl","isOpenLayersLoaded","isArcLoaded","animationDelay","isProj4Loaded","projection","filterWidgets","drawInteraction","drawMode","baseLayers","annotations","annotationsLoadedIfAvailable","overrides","onLoad","ol","Map","getLayer","ol.Map.prototype.getLayer","layer","getLayers","lyr","setIsOpenLayersLoaded","setIsArcLoaded","setIsProj4Loaded","setAnnotations","getAnnotations","setAnnotationsLoadedIfAvailable","bodyBorder","getMap","getItemId","getFilterWidgets","setVisible","unique","vertical","getBaseLayers","setOpacity","setAt","setProjection","proj","proj4","defs","gallPetersProjection","sphereMollweideProjection","setExtent","newProjExtent","getProjection","getExtent","earthWidth","newView","View","center","getCenter","maxResolution","layers","newGeometry","getGeometry","setGeometry","setView","oldVal","currentCitiesCount","getGeonames","filterUpdate","loadGeonames","getAnimationDelay","setMillisPerAnimation","animate","hasMatch","ownerCt","removeFilterWidget","removeLayer","getDockedComponent","connectionsLayer","Vector","wrapX","useSpatialIndex","opacity","travelStyleFunction","updateWhileAnimating","updateWhileInteracting","addLayer","citiesLayer","cityStyleFunction","animationLayer","animationStyleFunction","tryInit","getIsOpenLayersLoaded","getIsArcLoaded","getIsProj4Loaded","getAnnotationsLoadedIfAvailable","setId","Tile","preload","Infinity","TileWMS","crossOrigin","Stamen","OSM","TileArcGISRest","cacheize","loadTilesWhileInteracting","handleSingleClick","getFeaturesAtPixel","pixel","handleLocationClick","foundFeature","geonames","infos","occurrences","occ","sourceCoordinates","targetCoordinates","getContentEl","getOverlay","coordinate","elements","onmouseover","link.onmouseover","showTermInCorpus","selectedLayer","getResolution","previewLayer","preview","getEventPixel","originalEvent","hasFeatureAtPixel","getDrawMode","clear","baseTextStyle","offsetY","Fill","Stroke","textOverlayStyle","Style","Text","selectedFeature","Feature","geometry","forms","coordinates","confidence","cityId","textFeature","geom","Point","setStyle","layerId","connection","annotationsObj","geojson","GeoJSON","readFeatures","addFeatures","setDrawInteraction","interaction","Draw","freehand","getDrawInteraction","editAnnotation","setMap","enableToggle","toggleHandler","addInteraction","removeInteraction","removeFeature","transformedFeatures","transformedFeature","writeFeatures","storeAnnotations","resolution","styles","end","getLastCoordinate","beforeEnd","getCoordinateAt","atan2","lineStr1","LineString","lineStr2","diameter","confArc","Circle","lineDash","getFirstCoordinate","reloadFilters","clearAnimation","city","layerSource","validCitiesHash","population","parseFloat","lng","lat","description","fit","maxConnectionsCount","arcLine","arcGenerator","GreatCircle","Arc","geometries","featureType","handleConnectionClick","out","currentGeonameId","suppressConnectionOccurrences","locationId","newId","appendOverrides","focusleave","isAll","newConfig","authorLabel","titleLabel","keywordLabel","pubDateLabel","loading","disclaimer","noDataForField","currentConnectionOccurrence","stepByStepMode","keepAnimationInFrame","Geonames","setGeonames","getParams","disable","setMinValue","setMaxValue","suspendEvent","resumeEvent","getAnimationLayer","getCurrentConnectionOccurrence","setCurrentConnectionOccurrence","getGlyph","setGlyph","Glyph","setStepByStepMode","setKeepAnimationInFrame","ownerCmp","totalCitiesCount","currentConnectionsCount","totalConnectionsCount","autoCloseDelay","closable","querysearchfield","pubDateSlider","getTimeout","setAnimationLayer","connectionsFeatures","connectionsLayerSource","getKeepAnimationInFrame","calculateExtent","containsExtent","newExtent","allcoords","getCoordinates","getMillisPerAnimation","getStepByStepMode","knots","tokensStore","currentTerm","firstDoc","pDoc","processDocument","getKnots","getTokensStore","termsToKeep","setTokensStore","currTerm","getCurrentTerm","getRefreshInterval","setRefreshInterval","getStartAngle","setStartAngle","getAngleIncrement","setAngleIncrement","setKnots","knotClickHandler","updateRefreshInterval","updateStartAngle","updateAngleIncrement","setCurrentTerm","dir","maxLength","overlapFilter","ct","maxBins","comparisonCorpus","pruneRemoved","expandbody","numberRenderer","eopts","tipTpl","getDocumentTitle","MODE_EDITING","MODE_NORMAL","dockedItemsItems","overModel","dropPosition","dropHandlers","keepRemoveReorderHandler","percent","btnMode","confirmBtn","editCorpus","require","exportGridAll","cellEditing","clicksToEdit","onEditComplete","addRow","getQueryFromStore","setLoading","createNewCorpus","getReader","rawData","documentsFinder","typeAhead","Store","autoDestroy","menuDisabled","removeRow","getHeaderByDataIndex","getEditor","updateAggregate","getQueryFromRecord","getCell","exportBtn","go","tbar","specialkey","loadUrl","groups","moveWordsTimeout","angleField","donut","getMoveWordsTimeout","offsetX","moveWords","lcwords","lenVal","setGroups","svgEl","svgDom","getGroups","setWords","FountainWord","clientHeight","yshift","jump","groupVals","until","clientWidth","gaugeVals","ys","avg","mean","polar","setSprites","sparkline","chunkify","setMoveWordsTimeout","balanced","minEdgeCount","network","nodesStore","nodesDataSet","edgesDataSet","isNetworkBounded","categorizedNodeOptions","person","organization","nodeOptions","shape","edgeOptions","hover","labelHighlightBold","highlightOptions","setNodesStore","sortOnLoad","getNodesStore","getNetwork","selectNodes","categoriesHandler","allowDecimals","allowExponential","allowOnlyWhitespace","setRawValue","repulsion","nodeDistance","startSimulation","springConstant","entityCollocationsGraph","newEdgeCount","processEntities","entityParent","scaleFont","visNodes","visEdges","to","setNodesDataSet","DataSet","setEdgesDataSet","hoverConnectedEdges","multiselect","solver","Network","getNodesDataSet","getEdgesDataSet","getIsNetworkBounded","nodePositions","canvasToDOM","bXY","DOMtoCanvas","boundedX","boundedY","doNodeSelect","unselectAll","setNetwork","getConnectedNodes","getConnectedEdges","selectionHandler","selectObject","nodeObj","edgeObj","checkitem","controls","frequenciesGroup","coverageGroup","distributionsGroup","termsGroup","inDocumentsLabel","inDocumentsLabelTip","spanSomeLabel","spanSomeLabelTip","spanAllLabel","spanAllLabelTip","spanOnlyLabel","spanOnlyLabelTip","rawFreqLabel","rawFreqLabelTip","rawFreqPercentileLabel","rawFreqPercentileLabelTip","distributionsStdDevLabel","distributionsStdDevLabelTip","distributionsStdDevPercentileLabel","distributionsStdDevPercentileLabelTip","termsLengthLabel","termsLengthLabelTip","termsLengthPercentileLabel","termsLengthPercentileLabelTip","distributionIncreasesLabel","distributionIncreasesLabelTip","distributionConsecutiveIncreasesLabel","distributionConsecutiveIncreasesLabelTip","distributionDecreasesLabel","distributionDecreasesLabelTip","distributionConsecutiveDecreasesLabel","distributionConsecutiveDecreasesLabelTip","distributionMaxLabel","distributionMaxLabelTip","distributionMinLabel","distributionMinLabelTip","presetsGroup","presetHighFreq","presetHighFreqLonger","presetSingleDoc","presetIncreaseDistributions","presetDecreaseDistributions","presetNearStartDistributions","presetNearEndDistributions","presetSporadicDistributions","visibleTerms","scaleSqrt","inDocuments","spanSome","spanAll","spanOnly","termLength","termsLengthPercentile","rawFreqPercentile","distributionsStdDev","distributionsStdDevPercentile","distributionIncreases","distributionDecreases","distributionConsecutiveIncreases","distributionConsecutiveDecreases","distributionMax","distributionMin","allowFunctions","LoomControl","initControl","setMin","setMax","validateRecord","getLow","getHigh","offsetTipText","low","high","ind","allvals","scaledVals","squareDiffs","avgSquareDiff","stdDev","termsLength","increases","decreases","control","setEnabled","setLow","setHigh","getEnabled","filterRecords","setControls","clearApiParamsForControls","currentParams","tbitems","getByKey","getMax","getGroup","beforerender","getMin","tipText","getOffsetTipText","updateFromControl","threads","thick","fadeIt","filterchange","textHeight","fisheye","circular","distortion","yFisheye","scaleIdentity","currentItem","fs","fo","yin","xincrement","scaleApi","yscale","valueline","curveCardinal","tooltipbox","tooltiptext","datum","raise","fireEventArgs","updateControlsFromStore","clearFilter","keep","every","getControls","getValidateRecord","revalidate","clearRect","loomTermRecords","LoomTermRecords","getChecked","newvals","getField","isBoolean","some","termRecords","setTermRecords","getTermRecords","LoomTermRecord","texts","setRecord","setTerm","setTexts","columnWidth","getTexts","observable","initControls","maxTokens","tokensPerSegment","maxVerticalLines","maxSegments","initialize","updateSearchResults","setMaxVerticalLines","lineSize","corpusSize","gutter","gutterSize","columnSize","maxSegmentsPerLine","segmentWidth","setMaxSegments","getMaxVerticalLines","setMaxTokens","setTokensPerSegment","getMaxTokens","getMaxSegments","segments","addValue","redistributeDistributions","drawDocumentDistributions","getTokensPerSegment","newdistributions","textFont","editMagnet","updateFromQueries","clientX","clientY","docRadius","isHovering","magnets","updateDocs","diam","updateMagnets","stepValue","newpos","allowEmpty","rad","notMatching","targetX","targetY","weights","needRedraw","noHovering","hoveringTerms","hoveringDocs","halfSize","dy","minDist","spring","ax","ay","uri","microocp","itemsMap","tagsMap","isClose","isGroupItems","entry","Corpus","ace","edit","getDom","setEditor","getSession","setShowPrintMargin","setShowGutter","$blockScrolling","setOptions","autoScrollEditorIntoView","setBehavioursEnabled","delta","reparse","lines","expressions","inStoreItems","cocoa","inStoreItem","Notebook","loadDataFromUrl","scrollToLine","skipToDocId","innerContainer","exportVisualization","lastScrollTop","scrollIntoView","insertWhere","lastLocationUpdate","INITIAL_LIMIT","parentTool","s","documentFrequency","isLastNewLine","newContents","isNewLine","updateText","highlightKeywords","centerPanel","setInnerContainer","getLastScrollTop","scrollTop","fetchPrevious","scrollHeight","fetchNext","amount","getLastLocationUpdate","updateLocationMarker","setLastScrollTop","Token","splitterResize","documentRelativePositionSelected","bufferPosition","corpusTermsClicked","documentTermsClicked","documentsClicked","termLocationClicked","termRec","doScroll","getInnerContainer","spans","caseInsensitiveQuery","compEl","firstChild","nodeValue","scroll","readerContainer","getPrevDoc","scrollContainer","scrollNeeded","getScrollIntoViewXY","scrollLeft","insertSibling","setInsertWhere","setScrollIntoView","last","nextSib","oldNext","doClear","loadingMask","inserted","getInsertWhere","getScrollIntoView","readerWords","firstWord","lastWord","partialFirstDoc","info1","info2","docTokens","currToken","tokenPosInDoc","updateChart","fetch","iframe","analysis","clusters","perplexity","iterations","comparisonType","caStore","pcaStore","tsneStore","docSimStore","chartMenu","termsTimeout","highlightData","highlightTask","tokenFreqTipTemplate","docFreqTipTemplate","setCaStore","maskAndBuildChart","setPcaStore","setTsneStore","setDocSimStore","groupField","setChartMenu","getSeries","enableToolTips","doLabels","anyMatch","filterChart","collapseMode","numb","oldValue","doLoad","getTermsTimeout","setTermsTimeout","doAnalysisChange","dims","forceFit","ftype","hideGroupedHeader","enableGroupingMenu","getNearbyForTerm","allowDeselect","toggleOnClick","isDoc","selectTerm","enable","setNewTerm","loadStoreFromJson","oldChart","setCheckBound","setCheckItemFromApi","apiParamName","getCaStore","getPcaStore","getDocSimStore","loadRawData","getTsneStore","buildChart","numDims","summary","eigenTotal","pcMapping","eigenValue","maxFill","minFill","docData","isTerm","addSorted","z","tokenData","cluster","newCount","termSeriesStore","docSeriesStore","interactions","sprites","innerPadding","display","clusterIndex","fillAlpha","strokeAlpha","interpolate","getDefaultDocColor","parentXY","chartItem","getItemForPoint","disableToolTips","getChartMenu","nearby","getNewTerm","getSurface","getItems","setHighlightItem","getSprites","getItemInstancing","getPointFromIndex","setHighlightData","getHighlightTask","setHighlightTask","TaskManager","newTask","run","doHighlight","interval","repeat","getHighlightData","surfaceMatrix","matrix","prependMatrix","transformPoint","dataX","dataY","surf","setAttributes","reQueries","series0","label0","setAttributesFor","getCurrentTerms","keepCurrentTerms","lambda","minSrc","maxSrc","minDst","maxDst","seriesType","tipsDisabled","showTip","layerData","graphId","graphMargin","setGraphId","Toolbar","JsonStore","isActive","firstElementChild","loadFromRecords","binsMax","resizeGraph","loadFromDocument","legendData","setLayerData","getLayerData","steps","docsCount","processedLayers","y1","curveCatmullRom","xAxisDomain","xAxisScale","scalePoint","paths","xAxisText","yAxisText","stackOffsetWiggle","order","stackOrderInsideOut","getGraphId","numberOfDocumentsForDistinctiveWords","loadSummary","addListener","available","spark","main","d1","d2","docsLengthTpl","sparkWidth","numberOfTerms","valTip","showMoreDistinctiveWords","distinctiveWordsContainer","selectNode","Query","addRecords","array","remaining","minRawFreq","perim","tokensFetch","isReading","availableWidth","availableHeight","setDiam","setPerim","getPerim","drawTerms","drawReading","current","readingIndex","lastToken","readingStartTime","sourceTerm","targetTerm","previousBeziers","sx","sy","tx","ty","previousTerm","xd","yd","ix","iy","maxTail","drawBezierSplit","nextReadingIndex","startReadingIndex","isCurrentTerm","isReadingTerm","maxRawFreq","termsMap","tokensLoading","fetchMoreTokens","getDiam","fetchMoreDocumentTerms","noMoreTokens","animatePathDrawing","x1","x2","y2","step","timestamp","requestAnimationFrame","t0","t1","quadraticCurveTo","t00","t01","t02","t03","nx0","ny0","nx2","ny2","nx1","lerp","ny1","v0","v1","getPath","twicLevel","TWiC","Level","Instance","LoadJSON","m_queue","await","graphViews","infoViews","topicBar","TopicBar","divName","docBar","DocumentBar","corpusClusterView","CorpusClusterView","m_linkedViews","Initialize","Start","numInitialTerms","scalingFactor","maxCollocateValue","minFillValue","maxFillValue","currentData","blacklist","visInfo","MODE_TOP","MODE_DISTINCT","MIN_TERMS","MAX_TERMS","COLLOCATES_LIMIT","MIN_SCALING","MAX_SCALING","MIN_STROKE_OPACITY","MAX_STROKE_OPACITY","getScalingFactor","setScalingFactor","reload","getCurrentData","getBlacklist","activate","resetVis","resetMinMax","setCurrentData","getDistinctTerms","getTopTerms","processCollocates","buildVisFromData","setMinRawFreq","setMaxRawFreq","setMaxCollocateValue","setMinFillValue","setMaxFillValue","getMaxRawFreq","getMinRawFreq","minFillVal","getMinFillValue","maxFillVal","getMaxFillValue","fillVal","fillValue","collocates","getCollocatesForQuery","collocatesWhitelist","maxCol","getMaxCollocateValue","rootId","stratify","parentId","collocateFill","scalePow","exponent","defaultFill","layoutRadius","termRadius","scalingInverse","maxFontSize","textSizer","fillLabel","collocate","pack","setVisInfo","termsRadio","visibleBins","yAxisScale","onLoadHandler","getTermsRadio","corpusStore","documentStore","legendMenu","bool","forId","setSpeed","sliderParam","setTermsRadio","queryTerm","trends","radiogroup","getBoxes","setBoxLabel","chartType","activeCls","docLabels","toFixed","kinds","kind","getItemToolTip","singleDoc","isOneTerm","serie","stacked","showInLegend","smooth","showMarkers","clickTimer","blockClick","itemdblclick","translateY","animation","moveEvents","setHidden","itemhighlightchange","titles","labelInSpan","reloadFromChart","notYetImplemented","oldTools","getNotYetImplemented","yes","getNewUrl","queryString","getFullYear","getVersion","getBuild","footer","footerWidth","partWidth","getTextWidth","animCollapse","titleCollapse","floatable","hideCollapseTool","onCollapse","titleAlign","home","href","panelsString","tabpanels","tabpanel","cirrus","toolbar","panelChange","introHtml","fieldItems","fieldColumns","intro","foot","handleSendToVoyant","handleExport","bodyStyle","chartRangeMin","performAggregateQuery","getAggregateQuery","lastOptions","temporaryCorpus","statuscontainer","aggregateQueries","ComponentQuery","tableLayout","initTableLayout","initBorderLayoutComponents","doTableSizing","newwidth","newheight","oldwidth","oldheight","layoutString","decodeURI","addBorderLayouts","custom","suspendLayouts","numCols","cellWidth","cellHeight","colspan","rowspan","tableAttrs","tdAttrs","verticalAlign","resumeLayouts","widthRatio","heightRatio","sizeMap","tableSize","cellEl","panelEl","cmpId","sizeObj","getCmp","widthPercent","initialConfig","heightPercent","setSize","script","previous","fieldStyle","veliza","resetOriginalValue","handleUserSentence","tf","addSentence","sendApiParamMessage","sentences","sentence","fromCorpus","noScroll","setPrevious","meta","speaker","kwicStore","numBranches","lastClick","doubleClickDelay","getNumBranches","setNumBranches","setKwicStore","parseRecords","firstTerm","setRoot","getTree","parsedRecords","pr","prefix","prefixTokenCounts","suffixTokenCounts","prefixToken","suffixToken","sortableTokens","suffixCount","prefixCount","s1","s2","topSuffixTokens","topPrefixTokens","prefixes","suffixes","parsedRecord","dt","setTree","getLastClick","setLastClick","stripPunctuation","getKwicStore","simulation","tempNodes","filterOutUniqueTerms","currentSegment","segmentTerms","segmentTermsQueue","segmentDelay","segmentDelayTimer","webWorker","isSimulating","transitionTime","letterDistribution","frequencyScale","xForceStrength","yForceStrength","chargeStrength","chargeDistance","debugMsg","getSegmentDelay","setSegmentDelay","restartSegmentTimer","getTransitionTime","setTransitionTime","getXForceStrength","setXForceStrength","getYForceStrength","setYForceStrength","getChargeStrength","setChargeStrength","getChargeDistance","setChargeDistance","getSegmentDelayTimer","initVis","setTempNodes","getWebWorker","setWebWorker","Worker","onmessage","handleWebWorkerMessage","setSegments","corpusSegmentTerms","getFilterOutUniqueTerms","rawFreqs","setCurrentSegment","getSegments","getNextSegment","setSegmentDelayTimer","updateNodePositions","getCurrentSegment","processTermsForSegment","segmentIndex","letterDistMap","u","firstLetter","setSegmentTerms","setMinFreq","letterDist","setLetterDistribution","calculateNodeSizes","getSegmentTerms","runSimulation","getTempNodes","fontSizer","getFrequencyScale","getMaxFontSize","bboxTotal","availableSpace","setMaxFontSize","setIsSimulating","postMessage","getMinFreq","getMaxFreq","getLetterDistribution","timeEnd","getSegmentTermsQueue","getIsTransitioning","getIsSimulating","setIsTransitioning","allNodes","updateMinFreq","setFrequencyScale","updateMaxFreq","numTopics","documentTopicSmoothing","topicWordSmoothing","vocabularySize","vocabularyCounts","stopwords","docSortSmoothing","sumDocSortSmoothing","requestedSweeps","wordTopicCounts","topicWordCounts","tokensPerTopic","topicWeights","totalIterations","zeros","ret","score","buffer","postSweep","loadFromExistingDocuments","runIterations","resetData","loadStopwords","setStopwords","loadDocuments","allwords","totalWords","wordsPerBin","parseLine","setVocabularyCounts","setSumDocSortSmoothing","getDocSortSmoothing","setRequestedSweeps","setWordTopicCounts","setTopicWordCounts","setTokensPerTopic","setTopicWeights","setDocuments","setTotalIterations","originalText","sweeps","getRequestedSweeps","getTotalIterations","progressText","customUpdateProgress","updateProgress","sweep","getVocabularySize","getTopicWordSmoothing","getTokensPerTopic","getWordTopicCounts","getTopicWeights","getDocumentTopicSmoothing","topicNormalizers","topic","docTopicCounts","topicCounts","currentWordTopicCounts","sample","sortTopicWords","getTopicWordCounts","getSumDocSortSmoothing","scores","topNWords","wordCounts","byCountDescending","getStopwords","getVocabularyCounts","docID","docDate","rawTokens","setVocabularySize","relatedWords","nodeclicked","timedout","exportTitle","exportOpen","exportDownload","cancelTitle","exportWin","getExportWindow","instance","wrapper","getContent","fileContent","getExportType","output","getCellId","getFileExtension","properties","file","File","Blob","setHandler","myWindow","open","write","URL","createObjectURL","download","exportType","Export","setOrder","updateHtml","getOrder","QUESTION","cellId","isEditing","setCellId","tb","setVisibilityMode","Element","VISIBILITY","setActiveMode","mon","setVisibility","getIsEditing","theme","isChangeRegistered","editedTimeout","setUseWorker","setTheme","getTheme","minLines","maxLines","scrollPastEnd","setHighlightActiveLine","setHighlightGutterLine","clearSelection","ev","getScreenLength","getLines","lineHeight","scrollBar","getIsChangeRegistered","setIsChangeRegistered","setIsRun","setIsEdited","getEditedTimeout","setEditedTimeout","commands","addCommand","bindKey","mac","runUntil","loadModule","module","enableTern","doc_comment","fullDocs","useWorker","enableSnippets","enableBasicAutocompletion","removed","switchModes","runMultiple","runUntilTip","runFrom","runFromTip","codeMode","codeModeTitle","codeModeTip","configureTip","autoExecuteOnLoad","configWin","getConfigWindow","codeEditorInstance","newval","oldval","autoExecCheck","getAutoExecute","setAutoExecute","autoExecute","toggleCls","isRun","isWarnedAboutPreviousCells","expandResults","emptyResultsHeight","minimumResultsHeight","EMPTY_RESULTS_TEXT","runnable","CodeEditorWrapper","uiHtml","_getUIComponent","_getResultsComponent","_setResultsHeight","forceRun","getIsWarnedAboutPreviousCells","_run","getIsRun","btnId","setIsWarnedAboutPreviousCells","getResultsEl","currentBlock","currentNotebook","setCurrentBlock","eval","catch","finally","_showResult","err","isExpanded","paddingTop","pointerEvents","doExpandContract","clearResults","borderTop","resultEl","expandButton","getExpandResults","setExpandResults","setTooltip","_measureResultsHeight","resultsEl","expandWidget","getEmptyResultsHeight","getMinimumResultsHeight","paddingHeight","computedStyle","getComputedStyle","getPropertyValue","resultsChildHeight","childElementCount","getFirstChild","nodeType","Node","TEXT_NODE","TextMetrics","measure","hasAttribute","chartId","highchart","Highcharts","charts","resultsDom","tryToUnmask","Spyral","promises","isFulfilled","valueOf","toReturn","setContentAndMode","setContent","ckeditorConfig","extraPlugins","allowedContent","toolbarCanCollapse","startupFocus","isEditRegistered","currentHeight","focusManager","blur","readOnly","contenteditable","setIsEditing","setReadOnly","CKEDITOR","inline","getCkeditorConfig","innerText","editorHeight","getCurrentHeight","setCurrentHeight","getIsEditRegistered","setIsEditRegistered","octokit","Octokit","auth","authToken","userAgent","getInfoForAuthenticatedUser","users","getAuthenticated","getReposForAuthenticatedUser","affiliation","page","per_page","repos","listForAuthenticatedUser","getReposForUser","owner","searchWithinRepositories","getRepoContents","repoId","parseFullName","getBranchSHAs","repo","resp","getTreeContentsRecursively","git","tree_sha","baseTreeSHA","recursive","unflattenContents","truncated","loadFile","getContents","ref","sha","atob","doesRepoExist","getPermissionsForUser","username","getCollaboratorPermissionLevel","permission","saveFile","getLatestFileSHA","createOrUpdateFile","fullName","getBranch","commit","parentCommitSHA","oid","flatContents","findSubFolder","parentFolder","folderNameToFind","subfolder","pathSections","pathSection","pathSectionIndex","subFolder","newFile","newSubFolder","repoType","selectedNode","newValues","setRepoType","clearTree","getRepoType","addReposToTree","repoOwner","rootVisible","afteritemexpand","hasChildNodes","addRepoContentsToNode","setSelectedNode","updateSelectedNode","repoParent","setRepoId","setPath","repoTree","getRootNode","rawRepos","full_name","leaf","octokitResponse","parseContents","nodeConfig","currentFile","saveData","setCurrentFile","nodeSelected","getRepoId","pathComponents","getPathComponents","folder","nodeDeselected","validitychange","valid","initForm","login","setUsername","getCurrentFile","doSave","isPR","repoExists","fileData","setStatus","getUsername","octokitWrapper","currentWindow","showAuthenticate","authWin","postMessageHandler","origin","removeEventListener","initOctokitWrapper","showLoad","getCookieValue","loadWin","maximizable","repoBrowser","showSave","saveWin","formValidityChange","fileSaved","cookieName","sMatch","cookie","github","OctokitWrapper","loadFileFromId","filePath","accessCode","notebookId","newNotebook","beforeshowtip","currentTarget","inputAttrTpl","generateAccessCode","getAccessCode","vtype","doesNotebookIdExist","findField","markInvalid","didSave","Load","trombone","email","setAccessCode","alphabet","showWindow","sortDir","but","sortField","getNotebooks","hideWindow","notebooks","metadataEditor","metadataTitle","metadataTip","metadataAuthor","metadataKeywords","metadataDescription","metadataLicense","metadataLanguage","metadataReset","metadataSave","metadataCancel","created","modified","clickToEdit","cantLoadNotebook","cannotLoadJson","cannotLoadJsonUnrecognized","cannotLoadUnrecognized","openTitle","openMsg","exportHtmlDownload","errorParsingDomInput","inputEncodedBase64Json","isEdited","version","storageSolution","metadataWindow","voyantStorageDialogs","githubDialogs","catalogueWindow","spyralTernDocs","showSaveDialog","setStorageSolution","getStorageSolution","loadFromString","runAll","showMetadataEditor","notebookWrapperMoveUp","notebookWrapperMoveDown","notebookWrapperRemove","notebookWrapperAdd","notebookLoaded","autoExecuteCells","StorageDialogs","fileLoaded","getNotebookId","setNotebookId","saveCancelled","GitHubDialogs","Catalogue","notebookSelected","loadFromId","Table","window.loadCorpus","createTable","window.createTable","onbeforeunload","getIsEdited","isDefined","spyralIdMatches","pathname","isGithub","githubId","inputJsonArrayOfEncodedBase64","block","addText","addCode","loadFromUrl","addNew","setBlock","getCurrentBlock","findIndex","getBlock","setMetadata","Metadata","saveAs","getMetadata","setDateNow","generateExportHtml","textContainer","blocks","loadFromHtmlString","parser","DOMParser","parseFromString","hasDomError","querySelectorAll","section","classes","classList","inputEl","editorType","typeRe","secPos","startPre","endPre","autoexec","upToCmp","fromCmp","matched","_add","Util","updateMetadata","getInnerHeaderHtml","getInnerFooterHtml","WARNING","redoOrder","hasModifier","getHeaders","aceChromeEl","getHeaderHtml","codeTextLayer","setProperty","license","shortDate","exportHtml","enableAlignments","enableColors","enableFont","enableFontSize","enableLinks","enableLists","tromboneUrl","setBaseUrl","setTromboneUrl","setCategoriesManager","Categories","_getColor","this.getColor","_getColorForTerm","this.getColorForTerm","protocol","getRelativeUrl","relative","launch","getQuickTip","tromboneCall","eventName","viewport","isHeard","hasListener","toolFlow","hasQueryToLoad","useCache","loadColorPaletteForCorpus","corpuscreator","beforeclose","archive","validateCorpusLoadParams","validateCorpusAccess","passWin","password","passwordForSession","access","setCorpusAccess","passwordForSessionRemove","docIndObj","rtl","setActiveItem","noskin","additional","Localization","activeItem","getCorpusCreatorText","getTool","configString"]
}
